// Project Script Bundle
window['unity.playground.js']=true;


// unity.playground.js
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon network entity (Colyseus Universal Game Room)
     * @class ColyseusGameServer - All rights reserved (c) 2020 Mackey Kinard
    */
    class ColyseusGameServer extends UNITY.ScriptComponent {
        static get Instance() { return PROJECT.ColyseusGameServer.StaticInstance; }
        isSoloSession() { return this.soloSession; }
        isHostSession() { return (this.hostSessionName != null && this.hostSessionName !== ""); }
        getColyseusClient() { return this.client; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.projectName = "Game Project";
            this.autoJoinRoom = true;
            this.playerUserName = "Player";
            this.defaultRoomName = "default";
            this.roomLogicModule = "DefaultLogic";
            this.maxClientsAllowed = 8;
            this.patchUpdateRateFps = 20;
            this.roomSimulateRateFps = 60;
            this.networkBufferingTime = 0.15;
            this.soloSession = false;
            this.colyseusAvailable = false;
            this.networkRoomConnected = false;
            this.hostSessionName = null;
            this.joinRoomId = null;
            this.client = null;
            PROJECT.ColyseusGameServer.StaticInstance = this;
        }
        awake() {
            if (BABYLON.NetworkManager.IsAvailable()) {
                this.colyseusAvailable = true;
                BABYLON.Tools.Log("Colyseus network library loaded");
            }
            else {
                this.colyseusAvailable = false;
                BABYLON.Tools.Warn("Colyseus network library not available");
            }
            try {
                const playerSoloParam = UNITY.WindowManager.GetUrlParameter("solo");
                if (playerSoloParam != null && playerSoloParam !== "" && playerSoloParam !== "*") {
                    if (playerSoloParam.toLowerCase() === "true") {
                        this.soloSession = true;
                        this.colyseusAvailable = false;
                        BABYLON.Tools.Warn("Colyseus solo network game play requested");
                    }
                }
            }
            catch (e) {
                console.error(e);
            }
            if (this.colyseusAvailable === true) {
                try {
                    const serverEndpointParam = UNITY.WindowManager.GetUrlParameter("endpoint");
                    if (serverEndpointParam != null && serverEndpointParam !== "") {
                        const serverEndpoint = decodeURIComponent(serverEndpointParam);
                        if (serverEndpoint != null && serverEndpoint !== "" && serverEndpoint !== "*") {
                            UNITY.SceneManager.ServerEndPoint = serverEndpoint;
                        }
                    }
                }
                catch (e0) {
                    console.error(e0);
                }
                try {
                    const playerNameParam = UNITY.WindowManager.GetUrlParameter("player");
                    if (playerNameParam != null && playerNameParam !== "" && playerNameParam !== "*") {
                        this.playerUserName = decodeURIComponent(playerNameParam);
                    }
                }
                catch (e1) {
                    console.error(e1);
                }
                try {
                    const roomNameParam = UNITY.WindowManager.GetUrlParameter("room");
                    if (roomNameParam != null && roomNameParam !== "" && roomNameParam !== "*") {
                        this.defaultRoomName = decodeURIComponent(roomNameParam);
                    }
                }
                catch (e2) {
                    console.error(e2);
                }
                try {
                    const hostSessionParam = UNITY.WindowManager.GetUrlParameter("host");
                    if (hostSessionParam != null && hostSessionParam !== "" && hostSessionParam !== "*") {
                        this.hostSessionName = decodeURIComponent(hostSessionParam);
                    }
                }
                catch (e3) {
                    console.error(e3);
                }
                try {
                    const joinSessionParam = UNITY.WindowManager.GetUrlParameter("join");
                    if (joinSessionParam != null && joinSessionParam !== "" && joinSessionParam !== "*") {
                        this.joinRoomId = decodeURIComponent(joinSessionParam);
                    }
                }
                catch (e4) {
                    console.error(e4);
                }
                BABYLON.NetworkManager.OnJoinRoomObservable.add((user) => { console.warn(user.name + " joined the " + this.defaultRoomName.toLowerCase() + " room."); });
            }
        }
        update() {
            if (this.colyseusAvailable === true && this.networkRoomConnected === false && this.autoJoinRoom === true && this.isReady()) {
                this.autoJoinRoom = false;
                this.joinRoom();
            }
        }
        destroy() {
            this.autoJoinRoom = false;
            this.colyseusAvailable = false;
            this.networkRoomConnected = true;
            this.defaultRoomName = null;
            this.playerUserName = null;
            this.client = null;
        }
        joinRoom() {
            return __awaiter(this, void 0, void 0, function* () {
                if (this.patchUpdateRateFps > PROJECT.ColyseusGameServer.MAX_FRAME_RATE)
                    this.patchUpdateRateFps = PROJECT.ColyseusGameServer.MAX_FRAME_RATE;
                if (this.roomSimulateRateFps > PROJECT.ColyseusGameServer.MAX_FRAME_RATE)
                    this.roomSimulateRateFps = PROJECT.ColyseusGameServer.MAX_FRAME_RATE;
                if (this.colyseusAvailable === true) {
                    try {
                        const websocketUrl = (UNITY.SceneManager.ServerEndPoint.toLowerCase().startsWith("http")) ? ("ws" + UNITY.SceneManager.ServerEndPoint.substring(4)) : UNITY.SceneManager.ServerEndPoint;
                        if (UNITY.SceneManager.ServerEndPoint.endsWith("/"))
                            UNITY.SceneManager.ServerEndPoint = UNITY.SceneManager.ServerEndPoint.substring(0, (UNITY.SceneManager.ServerEndPoint.length - 1));
                        if (this.projectName == null || this.projectName === "")
                            this.projectName = "Game Project";
                        console.log(">>> Server Endpoint: " + UNITY.SceneManager.ServerEndPoint);
                        console.log(">>> Web Socket Url: " + websocketUrl);
                        console.log(">>> Max Clients: " + this.maxClientsAllowed);
                        console.log(">>> Room Name: " + this.defaultRoomName);
                        console.log(">>> User Name: " + this.playerUserName);
                        console.log(">>> Host Desc: " + this.hostSessionName);
                        console.log(">>> Join Room: " + this.joinRoomId);
                        let room = null;
                        if (this.client == null)
                            this.client = new Colyseus.Client(websocketUrl);
                        if (this.hostSessionName != null && this.hostSessionName !== "") {
                            const sceneFile = UNITY.SceneManager.GetSceneFile(this.scene);
                            room = yield this.client.create(this.defaultRoomName, {
                                userName: this.playerUserName,
                                roomLogic: this.roomLogicModule,
                                maxClients: this.maxClientsAllowed,
                                interpolationBuffer: this.networkBufferingTime,
                                patchUpdateRateMs: (1000 / this.patchUpdateRateFps),
                                roomSimulationIntervalMs: (1000 / this.roomSimulateRateFps),
                                userDatagramProtocol: false,
                                compressDataPackets: false,
                                project: this.projectName,
                                type: "client",
                                desc: this.hostSessionName,
                                map: sceneFile,
                                aux: "*"
                            });
                        }
                        else if (this.joinRoomId != null && this.joinRoomId !== "") {
                            room = yield this.client.joinById(this.joinRoomId, {
                                userName: this.playerUserName
                            });
                        }
                        if (room != null) {
                            BABYLON.NetworkManager.AttachDefaultRoom(this.scene, room);
                        }
                        else {
                            console.error("Failed to join room: " + this.transform.name);
                        }
                    }
                    catch (e) {
                        console.error("Failed to connect: ", e);
                    }
                    finally {
                        this.networkRoomConnected = true;
                    }
                }
            });
        }
    }
    ColyseusGameServer.MAX_FRAME_RATE = 200;
    ColyseusGameServer.StaticInstance = null;
    PROJECT.ColyseusGameServer = ColyseusGameServer;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class ColyseusNetworkAvatar
    */
    class ColyseusNetworkAvatar extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.controlMode = 0;
            this.defaultAvatar = null;
            this.maleAnimationRig = null;
            this.femaleAnimationRig = null;
            this.castRealtimeShadow = true;
            this.disposeOfMannequin = true;
            this.pixelOffsetX = 0;
            this.pixelOffsetY = 0;
            this.playerJoined = false;
            this.preloadLocation = null;
            this.ambientMaterial = new BABYLON.Color3(1.0, 1.0, 1.0);
            this.avatarArmature = null;
            this.avatarSkeleton = null;
            this.avatarHandness = "Left";
            this.avatarGender = "Male";
            this.avatarLabel = "Default Player";
            this.avatarLoaded = false;
            this.animator = null;
            this.avatarReady = false;
            this.manageLabelTexture = true;
            this.textureResolution = 512;
            this.maxLabelWidth = 960;
            this.minLabelWidth = 320;
            this.labelOffsetX = 0;
            this.labelOffsetY = 2.0;
            this.labelHeight = 64;
            this.labelColor = new BABYLON.Color3(0.0, 1.0, 0.0);
            this.labelAlpha = 0.85;
            this.rectColor = new BABYLON.Color3(0.0, 0.0, 0.0);
            this.rectAlpha = 0.65;
            this.fontFamily = "Arial";
            this.fontStyle = "Bold";
            this.fontSize = 36;
            this.fillRect = true;
        }
        awake() {
            this.animator = this.getComponent("UNITY.AnimationState");
            if (this.animator == null)
                BABYLON.Tools.Warn("Failed to locate aniation state component for: " + this.transform.name);
            const defaultAvatarInfo = this.getProperty("defaultAvatar");
            if (defaultAvatarInfo != null)
                this.defaultAvatar = (defaultAvatarInfo.name + ".glb");
            const maleAnimationInfo = this.getProperty("maleAnimationRig");
            if (maleAnimationInfo != null)
                this.maleAnimationRig = (maleAnimationInfo.name + ".glb");
            const femaleAnimationInfo = this.getProperty("femaleAnimationRig");
            if (femaleAnimationInfo != null)
                this.femaleAnimationRig = (femaleAnimationInfo.name + ".glb");
            // ..
            // Setup Browser Platform Options
            // ..
            if (this.isSafariBrowser() === true)
                this.pixelOffsetY = 0;
            else
                this.pixelOffsetY = 2; // Note: Default Two Pixel Offset
        }
        ready() {
            if (this.controlMode === 0) {
                this.setupLocalPlayerAvatar();
            }
            this.avatarReady = true;
        }
        update() {
            if (this.playerJoined === false && this.avatarReady === true) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    this.playerJoined = true;
                    if (this.controlMode === 0) {
                        if (this.manageLabelTexture === true) {
                            this.avatarLabel = BABYLON.NetworkManager.GetCurrentUser().name;
                            this.createAvatarLabel(this.avatarLabel);
                        }
                    }
                    else if (this.controlMode === 1) {
                        this.setupRemotePlayerAvatar();
                        if (this.manageLabelTexture === true) {
                            this.createAvatarLabel(this.avatarLabel);
                        }
                    }
                }
            }
        }
        destroy() {
            this.animator = null;
            this.avatarLabel = null;
            this.avatarGender = null;
            this.avatarHandness = null;
            this.avatarArmature = null;
            this.avatarSkeleton = null;
            this.defaultAvatar = null;
            this.preloadLocation = null;
            this.maleAnimationRig = null;
            this.femaleAnimationRig = null;
        }
        isSafariBrowser() {
            let result = false;
            if (navigator != null && navigator.userAgent != null) {
                result = navigator.vendor.match(/apple/i) &&
                    !navigator.userAgent.match(/crios/i) &&
                    !navigator.userAgent.match(/fxios/i) &&
                    !navigator.userAgent.match(/Opera|OPT\//);
            }
            return result;
        }
        createAvatarLabel(name) {
            if (name != null && name !== "") {
                const plane = BABYLON.MeshBuilder.CreatePlane("TexturePlane", { width: 1, height: 1 }, this.scene);
                const planeMaterial = new BABYLON.StandardMaterial((this.transform.name + ".PlaneMaterial"), this.scene);
                // ..
                // Background Opacity Texture
                // ..
                const opacityTexture = new BABYLON.DynamicTexture("PlayerTexture", { width: this.textureResolution, height: this.textureResolution }, this.scene);
                const opacityCtx = opacityTexture.getContext();
                const fontString = this.getResizedFontString(name, this.maxLabelWidth, this.fontSize, this.fontFamily, this.fontStyle);
                opacityCtx.font = fontString; // Note: Must Be Set Before Measuring
                const fontWidth = opacityCtx.measureText(name).width;
                const fontPadding = PROJECT.ColyseusNetworkAvatar.FONT_PADDING;
                let rectWidth = (fontWidth + fontPadding);
                let rectHeight = this.labelHeight;
                if (rectWidth < this.minLabelWidth)
                    rectWidth = this.minLabelWidth;
                if (rectWidth > this.maxLabelWidth)
                    rectWidth = this.maxLabelWidth;
                if (this.fillRect === true) {
                    opacityCtx.fillStyle = `rgba(0, 0, 0, ${this.rectAlpha.toString()})`;
                    this.createRoundedRect((this.textureResolution * 0.5) - (rectWidth * 0.5), (this.textureResolution * 0.5) - (rectHeight * 0.5), rectWidth, rectHeight, (rectHeight * 0.5), opacityCtx);
                    opacityCtx.fill();
                }
                opacityCtx.textAlign = "center";
                opacityCtx.textBaseline = "middle";
                opacityCtx.fillStyle = `rgba(0, 0, 0, ${this.labelAlpha.toString()})`;
                opacityCtx.fillText(name, (this.textureResolution * 0.5) + this.pixelOffsetX, (this.textureResolution * 0.5) + this.pixelOffsetY);
                opacityTexture.update(true);
                // ..
                // Background & Foreground Colors
                // ..
                const colorTexture = new BABYLON.DynamicTexture("PlayerTextureColor", { width: this.textureResolution, height: this.textureResolution }, this.scene);
                const colorCtx = colorTexture.getContext();
                colorCtx.fillStyle = this.rectColor.toHexString();
                colorCtx.fillRect(0, 0, this.textureResolution, this.textureResolution);
                colorCtx.font = fontString;
                colorCtx.textAlign = "center";
                colorCtx.textBaseline = "middle";
                colorCtx.fillStyle = this.labelColor.toHexString();
                colorCtx.fillText(name, (this.textureResolution * 0.5) + this.pixelOffsetX, (this.textureResolution * 0.5) + this.pixelOffsetY);
                colorTexture.update(true);
                // ..
                // Plane Name Label Material Setup
                // ..
                planeMaterial.disableLighting = true;
                planeMaterial.opacityTexture = opacityTexture;
                planeMaterial.diffuseTexture = colorTexture;
                planeMaterial.emissiveTexture = colorTexture;
                // ..
                // Plane Position & Offset Parenting
                // ..
                plane.material = planeMaterial;
                plane.billboardMode = BABYLON.Mesh.BILLBOARDMODE_ALL;
                plane.position.x = this.labelOffsetX;
                plane.position.y = (this.labelOffsetY + PROJECT.ColyseusNetworkAvatar.HEIGHT_PADDING);
                plane.parent = this.transform.parent; // FIXME: Maybe Parent To Model Head Bone Or Something - ???
                plane.renderingGroupId = UNITY.Utilities.DefaultRenderGroup();
            }
        }
        createRoundedRect(x, y, w, h, r, ctx) {
            if (w < 2 * r)
                r = w / 2;
            if (h < 2 * r)
                r = h / 2;
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.arcTo(x + w, y, x + w, y + h, r);
            ctx.arcTo(x + w, y + h, x, y + h, r);
            ctx.arcTo(x, y + h, x, y, r);
            ctx.arcTo(x, y, x + w, y, r);
            ctx.closePath();
        }
        getResizedFontString(text, maxWidth, startingFontSize, fontFamily = "Arial", fontStyle = "") {
            const tempCanvas = document.createElement('canvas');
            const measureCtx = tempCanvas.getContext('2d');
            const getFontString = (size) => { return `${fontStyle}${(fontStyle === "") ? "" : " "}${size}px ${fontFamily}`; };
            let currentSize = startingFontSize;
            measureCtx.font = getFontString(currentSize); // Note: Must Be Set Before Measuring
            let currentWidth = measureCtx.measureText(text).width;
            if (currentWidth > maxWidth) {
                let step = 1;
                while (currentWidth > maxWidth) {
                    let newSize = currentSize - step;
                    measureCtx.font = getFontString(newSize); // Note: Must Be Set Before Measuring
                    let newWidth = measureCtx.measureText(text).width;
                    if (newWidth < maxWidth && step === 1) {
                        step = 0.1;
                        newSize += 1;
                    }
                    else {
                        currentWidth = newWidth;
                    }
                    currentSize = newSize;
                }
            }
            return getFontString(currentSize);
        }
        setupLocalPlayerAvatar() {
            try {
                const playerAvatarParam = UNITY.WindowManager.GetUrlParameter("avatar");
                if (playerAvatarParam != null && playerAvatarParam !== "" && playerAvatarParam !== "*") {
                    this.defaultAvatar = decodeURIComponent(playerAvatarParam);
                }
            }
            catch (e1) {
                console.error(e1);
            }
            try {
                const playerGenderParam = UNITY.WindowManager.GetUrlParameter("gender");
                if (playerGenderParam != null && playerGenderParam !== "" && playerGenderParam !== "*") {
                    this.avatarGender = decodeURIComponent(playerGenderParam);
                }
            }
            catch (e2) {
                console.error(e2);
            }
            try {
                const playerHandnessParam = UNITY.WindowManager.GetUrlParameter("hand");
                if (playerHandnessParam != null && playerHandnessParam !== "" && playerHandnessParam !== "*") {
                    this.avatarHandness = decodeURIComponent(playerHandnessParam);
                }
            }
            catch (e3) {
                console.error(e3);
            }
            try {
                const playerHandnessParam = UNITY.WindowManager.GetUrlParameter("hand");
                if (playerHandnessParam != null && playerHandnessParam !== "" && playerHandnessParam !== "*") {
                    this.avatarHandness = decodeURIComponent(playerHandnessParam);
                }
            }
            catch (e3) {
                console.error(e3);
            }
            // ..
            // Create Network Entity Attributes
            // ..
            const klass = "PROJECT.ColyseusNetworkEntity";
            let colyseus = UNITY.SceneManager.FindScriptComponent(this.transform, klass);
            if (colyseus == null) {
                if (this.transform.parent != null) {
                    colyseus = UNITY.SceneManager.FindScriptComponent(this.transform.parent, klass);
                    if (colyseus == null) {
                        if (this.transform.parent.parent != null) {
                            colyseus = UNITY.SceneManager.FindScriptComponent(this.transform.parent.parent, klass);
                            if (colyseus == null) {
                                if (this.transform.parent.parent.parent != null) {
                                    colyseus = UNITY.SceneManager.FindScriptComponent(this.transform.parent.parent.parent, klass);
                                }
                            }
                        }
                    }
                }
            }
            if (colyseus != null) {
                if (colyseus.runtimeAttributes == null)
                    colyseus.runtimeAttributes = [];
                colyseus.runtimeAttributes.push({ key: "playerAvatar", value: this.defaultAvatar });
                colyseus.runtimeAttributes.push({ key: "playerGender", value: this.avatarGender });
                colyseus.runtimeAttributes.push({ key: "playerHand", value: this.avatarHandness });
            }
            // ..
            //  Load Runtime Player Avatar Model
            // ..
            if (this.defaultAvatar != null && this.defaultAvatar !== "") {
                if (UNITY.SceneManager.HasSceneBeenPreLoaded(this.scene)) {
                    this.loadRuntimePlayerAvatar(this.defaultAvatar);
                }
                else {
                    this.preloadLocation = this.defaultAvatar;
                }
            }
            else {
                BABYLON.Tools.Warn("Invalid avatar location specified for: " + this.transform.name);
            }
        }
        setupRemotePlayerAvatar() {
            let remoteEntity = this.transform.networkEntity;
            if (remoteEntity == null) {
                if (this.transform.parent != null) {
                    remoteEntity = this.transform.parent.networkEntity;
                    if (remoteEntity == null) {
                        if (this.transform.parent.parent != null) {
                            remoteEntity = this.transform.parent.parent.networkEntity;
                            if (remoteEntity == null) {
                                if (this.transform.parent.parent.parent != null) {
                                    remoteEntity = this.transform.parent.parent.parent.networkEntity;
                                }
                            }
                        }
                    }
                }
            }
            // ..
            // Query Network Entity Attributes
            // ..
            if (remoteEntity != null && remoteEntity.transformNode != null && remoteEntity.transformNodeType != null && remoteEntity.transformNodeType === 2) {
                const playerAvatar = UNITY.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerAvatar");
                if (playerAvatar != null && playerAvatar !== "") {
                    this.defaultAvatar = playerAvatar;
                }
                const playerGender = UNITY.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerGender");
                if (playerGender != null && playerGender !== "") {
                    this.avatarGender = playerGender;
                }
                const playerHand = UNITY.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerHand");
                if (playerHand != null && playerHand !== "") {
                    this.avatarHandness = playerHand;
                }
                const ownerName = UNITY.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "ownerName");
                if (ownerName != null && ownerName !== "") {
                    this.avatarLabel = ownerName;
                }
            }
            // ..
            //  Load Runtime Player Avatar Model
            // ..
            if (this.defaultAvatar != null && this.defaultAvatar !== "") {
                this.loadRuntimePlayerAvatar(this.defaultAvatar);
            }
            else {
                BABYLON.Tools.Warn("Invalid avatar location specified for: " + this.transform.name);
            }
        }
        configurePlayerAvatarRig(root) {
            if (root != null) {
                const armatures = root.getChildren((node) => { return (node.name === "Armature"); }, false);
                this.avatarLoaded = true;
                this.avatarArmature = (armatures != null && armatures.length > 0) ? armatures[0] : null;
                let shadowList = null;
                let freezeList = null;
                const meshes = root.getChildMeshes(false);
                if (meshes != null && meshes.length > 0) {
                    meshes.forEach((mesh) => {
                        mesh.renderingGroupId = UNITY.Utilities.DefaultRenderGroup();
                    });
                }
                const skins = root.getChildMeshes(false, (node) => { return (node.skeleton != null); });
                if (skins != null && skins.length > 0) {
                    skins.forEach((skin) => {
                        if (this.avatarSkeleton == null && skin.skeleton != null) {
                            this.avatarSkeleton = skin.skeleton;
                        }
                        if (this.castRealtimeShadow === true) {
                            if (shadowList == null)
                                shadowList = [];
                            shadowList.push(skin);
                        }
                        skin.isPickable = true;
                        skin.useVertexColors = false;
                        skin.cullingStrategy = BABYLON.AbstractMesh.CULLINGSTRATEGY_STANDARD;
                        skin.alwaysSelectAsActiveMesh = true; // Note: Always Set For Skin Without Updated Bounding Box Info
                    });
                }
                if (shadowList != null && shadowList.length > 0 && this.scene.lights != null && this.scene.lights.length > 0) {
                    this.scene.lights.forEach((light) => {
                        const shadowgenerator = light.getShadowGenerator();
                        if (shadowgenerator != null && light.metadata != null && light.metadata.unity != null && light.metadata.unity.autorender === true) {
                            const shadowmap = shadowgenerator.getShadowMap();
                            if (shadowmap != null) {
                                if (shadowmap.renderList == null)
                                    shadowmap.renderList = [];
                                shadowList.forEach((mesh) => { shadowmap.renderList.push(mesh); });
                            }
                        }
                    });
                }
                if (freezeList != null && freezeList.length > 0) {
                    freezeList.forEach((mesh) => { mesh.freezeWorldMatrix(); });
                }
                // ..
                // RETARGET ANIMATION GROUPS - (TODO: Blend Shapes)
                // ..
                if (this.avatarSkeleton != null) {
                    const animationRig = (this.avatarGender != null && this.avatarGender.toLowerCase() === "female") ? this.femaleAnimationRig : this.maleAnimationRig;
                    if (animationRig != null && animationRig !== "") {
                        const animationAsset = UNITY.SceneManager.GetAssetContainer(this.scene, animationRig);
                        if (animationAsset != null && animationAsset.animationGroups != null) {
                            let cgroups = null;
                            let xclips = (this.animator != null) ? this.animator.getDefaultClips() : null;
                            animationAsset.animationGroups.forEach((agroup, index) => {
                                try {
                                    agroup.stop();
                                }
                                catch (_a) { }
                                const newname = (this.transform.name + "." + agroup.name);
                                const cgroup = agroup.clone(newname, null, false);
                                if (cgroup != null) {
                                    cgroup.loopAnimation = true;
                                    UNITY.Utilities.RetargetAnimationGroupSkeleton(cgroup, this.avatarSkeleton, this.avatarArmature);
                                    if (this.animator != null && xclips != null) {
                                        const xclip = this.animator.fixAnimationGroup(cgroup);
                                        if (xclip != null) {
                                            if (cgroups == null)
                                                cgroups = [];
                                            cgroups.push(cgroup);
                                        }
                                        else {
                                            BABYLON.Tools.Warn("Failed to locate animation group in default clips: " + cgroup.name);
                                        }
                                    }
                                }
                                else {
                                    BABYLON.Tools.Warn("Failed to clone animation group: " + agroup.name);
                                }
                            });
                            if (this.animator != null && cgroups != null && cgroups.length > 0) {
                                this.animator.setAnimationGroups(cgroups);
                            }
                        }
                    }
                }
                // ..
                // TODO: MOVE BONE SOCKET TRANFORMS - ???
                // ..
                // Dispose Mannequinn Skin And Bones For Performance
                // ..
                if (this.avatarLoaded === true && this.disposeOfMannequin === true) {
                    const children = this.transform.getChildren(null, false);
                    children.forEach((child) => {
                        if (child != null) {
                            if (child instanceof BABYLON.AbstractMesh) {
                                try {
                                    if (child.skeleton != null) {
                                        child.skeleton.dispose();
                                        child.skeleton = null;
                                    }
                                }
                                catch (e3) {
                                    console.error(e3);
                                }
                            }
                        }
                    });
                    const childrenx = this.transform.getChildren(null, true);
                    childrenx.forEach((childx) => {
                        if (childx != null) {
                            try {
                                childx.dispose();
                            }
                            catch (e4) {
                                console.error(e4);
                            }
                        }
                    });
                }
            }
        }
        /** Load runtime player avatar from specfied location */
        loadRuntimePlayerAvatar(url) {
            if (url != null && url !== "") {
                //console.warn(">>> Loading player avatar from: " + url);
                const sceneRootUrl = UNITY.SceneManager.GetRootUrl(this.scene);
                let importUrl = url;
                let rooturl = sceneRootUrl;
                let filename = "";
                rooturl = sceneRootUrl;
                filename = importUrl;
                if (importUrl.indexOf("://") >= 0) {
                    rooturl = importUrl.substring(0, importUrl.lastIndexOf('/')) + "/";
                    filename = importUrl.substring(importUrl.lastIndexOf('/') + 1);
                }
                const assetsManager = new BABYLON.AssetsManager(this.scene);
                const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask"), null, rooturl, filename);
                importTask.onSuccess = (task) => {
                    if (task.loadedMeshes != null) {
                        task.loadedMeshes.forEach((mesh) => {
                            if (mesh.material instanceof BABYLON.PBRMaterial) {
                                mesh.material.ambientColor = this.ambientMaterial;
                            }
                        });
                        let rootAvatarMesh = task.loadedMeshes[0];
                        if (rootAvatarMesh != null) {
                            rootAvatarMesh.parent = this.transform.parent;
                            rootAvatarMesh.name = "BlenderAvatar";
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            UNITY.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            this.configurePlayerAvatarRig(rootAvatarMesh);
                        }
                    }
                };
                importTask.onError = (task, message, exception) => { console.error(message, exception); };
                assetsManager.load();
            }
        }
        /** Add asset preloader tasks (https://doc.babylonjs.com/divingDeeper/importers/assetManager) */
        addPreloaderTasks(assetsManager) {
            if (this.preloadLocation != null && this.preloadLocation !== "") {
                //console.warn(">>> Preloading player avatar from: " + this.preloadLocation);
                const sceneRootUrl = UNITY.SceneManager.GetRootUrl(this.scene);
                let importUrl = this.preloadLocation;
                let rooturl = sceneRootUrl;
                let filename = "";
                rooturl = sceneRootUrl;
                filename = importUrl;
                if (importUrl.indexOf("://") >= 0) {
                    rooturl = importUrl.substring(0, importUrl.lastIndexOf('/')) + "/";
                    filename = importUrl.substring(importUrl.lastIndexOf('/') + 1);
                }
                const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask"), null, rooturl, filename);
                importTask.onSuccess = (task) => {
                    if (task.loadedMeshes != null) {
                        task.loadedMeshes.forEach((mesh) => {
                            if (mesh.material instanceof BABYLON.PBRMaterial) {
                                mesh.material.ambientColor = this.ambientMaterial;
                            }
                        });
                        let rootAvatarMesh = task.loadedMeshes[0];
                        if (rootAvatarMesh != null) {
                            rootAvatarMesh.parent = this.transform.parent;
                            rootAvatarMesh.name = "BlenderAvatar";
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            UNITY.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            this.configurePlayerAvatarRig(rootAvatarMesh);
                        }
                    }
                };
                importTask.onError = (task, message, exception) => { console.error(message, exception); };
            }
        }
    }
    ColyseusNetworkAvatar.FONT_PADDING = 36;
    ColyseusNetworkAvatar.HEIGHT_PADDING = 0.1;
    PROJECT.ColyseusNetworkAvatar = ColyseusNetworkAvatar;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon network entity (Colyseus Universal Game Room)
     * @class ColyseusNetworkEntity - All rights reserved (c) 2020 Mackey Kinard
     */
    class ColyseusNetworkEntity extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.autoCreate = true;
            this.remotePrefab = null;
            this.assetContainer = null;
            this.movementEpsilon = 0.00001;
            this.movementMethod = BABYLON.EntityMovementType.ClientAuthority;
            this.interpolationMode = BABYLON.EntityInterpolation.Default;
            this.interpolationHandler = null;
            this.syncTransformNode = true;
            this.runtimeAttributes = null;
            this.creationAttributes = null;
            this.bufferedAttributes = null;
            this.networkEntityCreated = false;
        }
        update() {
            if (this.networkEntityCreated === false && this.autoCreate === true && this.isReady()) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    this.autoCreate = false;
                    this.createEntity();
                }
            }
        }
        destroy() {
            this.autoCreate = false;
            this.movementMethod = 0;
            this.remotePrefab = null;
            this.assetContainer = null;
            this.interpolationMode = 0;
            this.interpolationHandler = null;
            this.creationAttributes = null;
            this.runtimeAttributes = null;
            this.syncTransformNode = false;
            this.networkEntityCreated = true;
            const entityId = UNITY.EntityController.GetNetworkEntityId(this.transform);
            if (entityId != null && entityId !== "")
                BABYLON.NetworkManager.RemoveNetworkEntity(entityId);
        }
        createEntity() {
            const attributesToCreate = {};
            if (this.creationAttributes != null && this.creationAttributes.length > 0) {
                this.creationAttributes.forEach((creationAttribute) => { attributesToCreate[creationAttribute.key] = creationAttribute.value; });
            }
            if (this.runtimeAttributes != null && this.runtimeAttributes.length > 0) {
                this.runtimeAttributes.forEach((runtimeAttribute) => { attributesToCreate[runtimeAttribute.key] = runtimeAttribute.value; });
            }
            const customHandler = (this.interpolationMode === BABYLON.EntityInterpolation.Custom) ? this.interpolationHandler : "";
            BABYLON.NetworkManager.CreateNetworkEntity(this.transform, this.remotePrefab, this.assetContainer, this.movementEpsilon, this.movementMethod, this.interpolationMode, this.syncTransformNode, customHandler, this.bufferedAttributes, attributesToCreate);
            this.networkEntityCreated = true;
        }
    }
    PROJECT.ColyseusNetworkEntity = ColyseusNetworkEntity;
})(PROJECT || (PROJECT = {}));
var BABYLON;
(function (BABYLON) {
    let RemoteFunctionCallTarget;
    (function (RemoteFunctionCallTarget) {
        RemoteFunctionCallTarget[RemoteFunctionCallTarget["All"] = 0] = "All";
        RemoteFunctionCallTarget[RemoteFunctionCallTarget["Others"] = 1] = "Others";
    })(RemoteFunctionCallTarget = BABYLON.RemoteFunctionCallTarget || (BABYLON.RemoteFunctionCallTarget = {}));
    let NetworkEntityType;
    (function (NetworkEntityType) {
        NetworkEntityType[NetworkEntityType["None"] = 0] = "None";
        NetworkEntityType[NetworkEntityType["Local"] = 1] = "Local";
        NetworkEntityType[NetworkEntityType["Remote"] = 2] = "Remote";
    })(NetworkEntityType = BABYLON.NetworkEntityType || (BABYLON.NetworkEntityType = {}));
    let EntityMovementType;
    (function (EntityMovementType) {
        EntityMovementType[EntityMovementType["ClientAuthority"] = 0] = "ClientAuthority";
        EntityMovementType[EntityMovementType["ServerAuthority"] = 1] = "ServerAuthority";
    })(EntityMovementType = BABYLON.EntityMovementType || (BABYLON.EntityMovementType = {}));
    let EntityInterpolation;
    (function (EntityInterpolation) {
        EntityInterpolation[EntityInterpolation["Default"] = 0] = "Default";
        EntityInterpolation[EntityInterpolation["Hermite"] = 1] = "Hermite";
        EntityInterpolation[EntityInterpolation["Custom"] = 2] = "Custom";
    })(EntityInterpolation = BABYLON.EntityInterpolation || (BABYLON.EntityInterpolation = {}));
    class EntityAttribute {
    }
    BABYLON.EntityAttribute = EntityAttribute;
    /**
     * Babylon network management system class (Colyseus Universal Game Room)
     * Supports network users, entities, attributes, remote function calls, custom messages, custom methods and custom room logic modules.
     * @class NetworkManager - All rights reserved (c) 2020 Mackey Kinard
     */
    class NetworkManager {
        static RegisterCustomInterpolationHandler(name, handler) { BABYLON.NetworkManager.CustomHandlerMap.set(name, handler); }
        /** Is the colyseus network library is available */
        static IsAvailable() { return (window.Colyseus !== undefined && window.Colyseus.Client !== undefined); }
        /** Is the default universal game room attached to the scene */
        static IsRoomAttached() { return (BABYLON.NetworkManager.SceneReference != null && BABYLON.NetworkManager.DefaultRoom != null); }
        /** Has client received a join room confirmation message from the default universal game room */
        static HasJoinedRoom() { return (BABYLON.NetworkManager.SceneReference != null && BABYLON.NetworkManager.DefaultRoom != null && BABYLON.NetworkManager.UserReference != null); }
        /** Gets the current user in the default universal game room */
        static GetCurrentUser() { return BABYLON.NetworkManager.UserReference; }
        /** Gets the attached default universal game room */
        static GetDefaultRoom() { return BABYLON.NetworkManager.DefaultRoom; }
        /** Gets the network server time of the attached default universal game room (Seconds) */
        static GetNetworkTime() { return BABYLON.NetworkManager.NetworkServerTime; }
        /** Is local network entity */
        static IsLocalNetworkEntity(entity) { return (BABYLON.NetworkManager.GetNetworkEntityType(entity) === BABYLON.NetworkEntityType.Local); }
        /** Is remote network entity */
        static IsRemoteNetworkEntity(entity) { return (BABYLON.NetworkManager.GetNetworkEntityType(entity) === BABYLON.NetworkEntityType.Remote); }
        /** Gets the network entity type */
        static GetNetworkEntityType(entity) {
            let result = 0;
            const aentity = entity;
            if (aentity.transformNode != null && aentity.transformNodeType != null) {
                result = aentity.transformNodeType;
            }
            return result;
        }
        /** Attaches default universal game room to the specified scene */
        static AttachDefaultRoom(scene, room) {
            BABYLON.NetworkManager.DetachDefaultRoom();
            if (scene != null && room != null) {
                BABYLON.NetworkManager.DefaultRoom = room;
                BABYLON.NetworkManager.SceneReference = scene;
                if (room.state != null && room.state.entities != null) {
                    room.state.entities.onAdd((e, k) => { BABYLON.NetworkManager.AddNetworkEntityHandler(e, k); });
                    room.state.entities.onRemove((e, k) => { BABYLON.NetworkManager.RemoveNetworkEntityHandler(e, k); });
                }
                room.onStateChange.once((state) => { BABYLON.NetworkManager.OnDispatchChatQueueMessages(state); }); // Note: First State Chnage
                room.onStateChange((state) => { BABYLON.NetworkManager.OnDispatchChatQueueMessages(state); }); // Note: State Updated
                room.onMessage("onConnect", (info) => { BABYLON.NetworkManager.OnConnectObservable.notifyObservers(info.user); });
                room.onMessage("onDisconnect", (info) => { BABYLON.NetworkManager.OnDisconnectObservable.notifyObservers(info.user); });
                room.onMessage("onJoin", (info) => { BABYLON.NetworkManager.JoinDefaultRoomHandler(info); BABYLON.NetworkManager.OnJoinRoomObservable.notifyObservers(info.user); });
                room.onMessage("onRFC", (message) => { BABYLON.NetworkManager.OnRemoteProcedureCallObservable.notifyObservers(message); });
                room.onLeave((code) => { BABYLON.NetworkManager.OnLeaveRoomObservable.notifyObservers(code); });
                room.onError((code, message) => { BABYLON.NetworkManager.OnErrorMessageObservable.notifyObservers({ code: code, message: message }); });
                scene.onBeforeRenderObservable.add(BABYLON.NetworkManager.OnSceneBeforeRenderUpdate);
            }
        }
        /** Detaches default universal game room from the scene */
        static DetachDefaultRoom() {
            try {
                try {
                    if (BABYLON.NetworkManager.RootNode != null) {
                        BABYLON.NetworkManager.RootNode.dispose();
                    }
                }
                catch (e0) {
                    console.error(e0);
                }
                try {
                    if (BABYLON.NetworkManager.DefaultRoom != null) {
                        BABYLON.NetworkManager.DefaultRoom.removeAllListeners();
                    }
                }
                catch (e1) {
                    console.error(e1);
                }
                try {
                    if (BABYLON.NetworkManager.NetworkEntityQueue != null) {
                        BABYLON.NetworkManager.NetworkEntityQueue.clear();
                    }
                }
                catch (e2) {
                    console.error(e2);
                }
                try {
                    if (BABYLON.NetworkManager.SceneReference != null) {
                        BABYLON.NetworkManager.SceneReference.onBeforeRenderObservable.removeCallback(BABYLON.NetworkManager.OnSceneBeforeRenderUpdate);
                    }
                }
                catch (e6) {
                    console.error(e6);
                }
            }
            catch (e9) {
                console.error(e9);
            }
            finally {
                BABYLON.NetworkManager.RootNode = null;
                BABYLON.NetworkManager.DefaultRoom = null;
                BABYLON.NetworkManager.UserReference = null;
                BABYLON.NetworkManager.SceneReference = null;
                BABYLON.NetworkManager.NetworkEntityQueue = null;
                BABYLON.NetworkManager.NetworkServerTime = 0;
            }
        }
        /** Gets a network user in the default universal game room */
        static GetNetworkUser(id) {
            let result = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state != null && BABYLON.NetworkManager.DefaultRoom.state.users != null) {
                    result = BABYLON.NetworkManager.DefaultRoom.state.users.get(id);
                }
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
            return result;
        }
        /** Gets a network entity in the default universal game room */
        static GetNetworkEntity(id) {
            let result = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state != null && BABYLON.NetworkManager.DefaultRoom.state.entities != null) {
                    result = BABYLON.NetworkManager.DefaultRoom.state.entities.get(id);
                }
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
            return result;
        }
        /** Creates a network entity in the default universal game room */
        static CreateNetworkEntity(localTransform, remotePrefab = null, assetContainer = null, movementEpsilon = 0.00001, movementType = BABYLON.EntityMovementType.ClientAuthority, interpolationMode = BABYLON.EntityInterpolation.Default, autoSyncTransform = true, customHandlerName = null, bufferedAttributes, createAttributes = null) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.CreateNetworkEntity(BABYLON.NetworkManager.DefaultRoom, BABYLON.NetworkManager.UserReference.name, localTransform, remotePrefab, assetContainer, movementEpsilon, movementType, interpolationMode, autoSyncTransform, customHandlerName, bufferedAttributes, createAttributes);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Removes a network entity from the default universal game room */
        static RemoveNetworkEntity(entityId) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.RemoveNetworkEntity(BABYLON.NetworkManager.DefaultRoom, entityId);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Sets a user attribute on the default universal game room */
        static SetUserAttributes(userId, attributesToSet) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SetUserAttributes(BABYLON.NetworkManager.DefaultRoom, userId, attributesToSet);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Sets a entity attribute on the default universal game room */
        static SetEntityAttributes(entityId, attributesToSet) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SetEntityAttributes(BABYLON.NetworkManager.DefaultRoom, entityId, attributesToSet);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Calls a custom server method on the default universal game room */
        static CallCustomMethod(method, ...args) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.CallCustomMethod(BABYLON.NetworkManager.DefaultRoom, method, args);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Executs a remote function call on the default universal game room */
        static ExecuteRemoteFunctionCall(target, entityId, func, ...args) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.ExecuteRemoteFunctionCall(BABYLON.NetworkManager.DefaultRoom, target, entityId, func, args);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Game Session Chat Messages
        ////////////////////////////////////////////////////////////////////
        /** Gets the current chat message queue items for the default universal game room */
        static GetChatMessages() {
            let messages = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state.queue != null) {
                    BABYLON.NetworkManager.DefaultRoom.state.queue.forEach((queue, id) => {
                        if (queue != null && queue.messages != null) {
                            queue.messages.forEach((message, index) => {
                                if (message != null) {
                                    if (messages == null)
                                        messages = [];
                                    messages.push(message);
                                }
                            });
                        }
                    });
                }
            }
            return messages;
        }
        /** Send a chat message to the default universal game room */
        static SendChatMessage(message) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SendChat(BABYLON.NetworkManager.DefaultRoom, message);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Life Cycle Updates
        ////////////////////////////////////////////////////////////////////
        static OnSceneBeforeRenderUpdate() {
            const deltaTime = UNITY.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            if (BABYLON.NetworkManager.NetworkServerTime > 0) {
                BABYLON.NetworkManager.NetworkServerTime += deltaTime;
            }
            BABYLON.NetworkManager.ProcessNetworkEntities(deltaTime);
        }
        static OnDispatchChatQueueMessages(state) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                let messages = BABYLON.NetworkManager.GetChatMessages();
                if (messages != null && messages.length > 0) {
                    // ..
                    // Sort In Ascending Order
                    // ..
                    messages.sort((left, right) => {
                        if (left.timestamp < right.timestamp)
                            return -1;
                        if (left.timestamp > right.timestamp)
                            return 1;
                        return 0;
                    });
                    // ..
                    // Dispatch Shallow Copies
                    // ..
                    messages.forEach((mx) => {
                        if (mx != null && (mx.dispatched == null || mx.dispatched == false)) {
                            try {
                                if (BABYLON.NetworkManager.OnChatMessageObservable && BABYLON.NetworkManager.OnChatMessageObservable.hasObservers()) {
                                    BABYLON.NetworkManager.OnChatMessageObservable.notifyObservers(Object.assign({}, mx));
                                }
                            }
                            catch (e) {
                                console.error(e);
                            }
                            finally {
                                mx.dispatched = true;
                            }
                        }
                    });
                }
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Scene View Functions (Scene Delta Time)
        ////////////////////////////////////////////////////////////////////
        static ProcessNetworkEntities(deltaTime) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                let transmitPacketBuffer = null;
                BABYLON.NetworkManager.DefaultRoom.state.entities.forEach((entity, key) => {
                    if (entity.transformNode != null && entity.transformNode.networkEntitySync != null && entity.transformNode.networkEntitySync === true && entity.transformNodeType != null) {
                        if (entity.transformNodeType === BABYLON.NetworkEntityType.Local) { // Note: Local Network Entities Only
                            if (entity.transformNode.networkEntityLastPosition == null)
                                entity.transformNode.networkEntityLastPosition = entity.transformNode.position.clone();
                            if (entity.transformNode.position.equalsWithEpsilon(entity.transformNode.networkEntityLastPosition, entity.transformNode.networkEntityEpsilon) === false) {
                                entity.transformNode.position.subtractToRef(entity.transformNode.networkEntityLastPosition, entity.transformNode.networkEntityLinearVelocity);
                                entity.transformNode.networkEntityLinearVelocity.x /= deltaTime;
                                entity.transformNode.networkEntityLinearVelocity.y /= deltaTime;
                                entity.transformNode.networkEntityLinearVelocity.z /= deltaTime;
                            }
                            else {
                                entity.transformNode.networkEntityLinearVelocity.set(0, 0, 0);
                            }
                            entity.transformNode.networkEntityLastPosition.copyFrom(entity.transformNode.position);
                            // ..
                            const packet = BABYLON.NetworkManager.CreateNetworkPacketData(entity.transformNode, true);
                            if (transmitPacketBuffer == null)
                                transmitPacketBuffer = [];
                            if (packet != null)
                                transmitPacketBuffer.push(packet);
                        }
                        else if (entity.transformNodeType === BABYLON.NetworkEntityType.Remote) { // Note: Remote Network Entities Only
                            const buffer = entity.transformNode.networkEntityInterpBuffer;
                            if (buffer != null) {
                                buffer.update(deltaTime * 1000);
                                if (entity.transformNode.networkEntityActivated != null) {
                                    if (entity.transformNode.networkEntityActivated !== true) {
                                        entity.transformNode.networkEntityActivated = true;
                                        entity.transformNode.position = new BABYLON.Vector3(entity.xPos, entity.yPos, entity.zPos);
                                        entity.transformNode.rotationQuaternion = new BABYLON.Quaternion(entity.xRot, entity.yRot, entity.zRot, entity.wRot);
                                        entity.transformNode.setEnabled(true); // Note: Enable Root Node On Initial Activation
                                        console.warn(">>> Activating Remote Entity: " + entity.transformNode.name);
                                    }
                                    else {
                                        BABYLON.NetworkManager.UpdateRemoteEntity(buffer, entity, entity.transformNode, deltaTime);
                                    }
                                }
                            }
                        }
                    }
                });
                // ..
                // TODO: Limit Packet Send - ???
                // ..
                if (transmitPacketBuffer != null && transmitPacketBuffer.length > 0) {
                    BABYLON.NetworkManager.SendDataPacketToServer(transmitPacketBuffer);
                }
            }
        }
        static SendDataPacketToServer(transmitPacketBuffer) {
            const dataPacket = { entities: transmitPacketBuffer };
            if (BABYLON.NetworkManager.DefaultRoom != null) {
                BABYLON.NetworkManager.DefaultRoom.send("packetUpdate", dataPacket);
            }
        }
        static UpdateRemoteEntity(buffer, entity, transform, deltaTime) {
            if (entity == null || transform == null)
                return;
            // ..
            // Update Network Translation
            // ..
            const interpolationMode = transform.networkEntityInterpolate;
            if (interpolationMode === BABYLON.EntityInterpolation.Custom) {
                if (transform.networkEntityHandler != null) {
                    transform.networkEntityHandler(entity, transform, deltaTime);
                }
            }
            else {
                if (buffer.state === BufferState.PLAYING) {
                    transform.position.copyFrom(buffer.position);
                    transform.rotationQuaternion.copyFrom(buffer.quaternion);
                    transform.scaling.copyFrom(buffer.scale);
                }
            }
            // ..
            // Update Buffered Attributes
            // ..
            if (transform.networkEntityAttributeBuffer == null)
                transform.networkEntityAttributeBuffer = {};
            transform.networkEntityAttributeBuffer["0"] = entity.aux00;
            transform.networkEntityAttributeBuffer["1"] = entity.aux01;
            transform.networkEntityAttributeBuffer["2"] = entity.aux02;
            transform.networkEntityAttributeBuffer["3"] = entity.aux03;
            transform.networkEntityAttributeBuffer["4"] = entity.aux04;
            transform.networkEntityAttributeBuffer["5"] = entity.aux05;
            transform.networkEntityAttributeBuffer["6"] = entity.aux06;
            transform.networkEntityAttributeBuffer["7"] = entity.aux07;
            transform.networkEntityAttributeBuffer["8"] = entity.aux08;
            transform.networkEntityAttributeBuffer["9"] = entity.aux09;
            transform.networkEntityAttributeBuffer["10"] = entity.aux10;
            transform.networkEntityAttributeBuffer["11"] = entity.aux11;
            transform.networkEntityAttributeBuffer["12"] = entity.aux12;
            transform.networkEntityAttributeBuffer["13"] = entity.aux13;
            transform.networkEntityAttributeBuffer["14"] = entity.aux14;
            transform.networkEntityAttributeBuffer["15"] = entity.aux15;
            transform.networkEntityAttributeBuffer["16"] = entity.aux16;
            transform.networkEntityAttributeBuffer["17"] = entity.aux17;
            transform.networkEntityAttributeBuffer["18"] = entity.aux18;
            transform.networkEntityAttributeBuffer["19"] = entity.aux19;
        }
        static CreateNetworkPacketData(localTransform, postAttributes = true) {
            let result = null;
            const networkEntity = localTransform.networkEntity;
            if (networkEntity != null) {
                if (localTransform.networkEntityMovement != null && localTransform.networkEntityMovement === BABYLON.EntityMovementType.ClientAuthority) {
                    UNITY.Utilities.GetAbsolutePositionToRef(localTransform, BABYLON.NetworkManager.SendPositionBuffer);
                    UNITY.Utilities.GetAbsoluteRotationToRef(localTransform, BABYLON.NetworkManager.SendRotationBuffer);
                    // ..
                    // BABYLON.NetworkManager.SendPositionBuffer.copyFrom(localTransform.absolutePosition);
                    // BABYLON.NetworkManager.SendRotationBuffer.copyFrom(localTransform.absoluteRotationQuaternion);
                    // ..
                    // BABYLON.NetworkManager.SendPositionBuffer.copyFrom(localTransform.position);
                    // BABYLON.NetworkManager.SendRotationBuffer.copyFrom(localTransform.rotationQuaternion);
                    // ..
                    if (localTransform.networkEntityLinearVelocity != null)
                        BABYLON.NetworkManager.SendLinearBuffer.copyFrom(localTransform.networkEntityLinearVelocity);
                    else
                        BABYLON.NetworkManager.SendLinearBuffer.set(0, 0, 0);
                    if (localTransform.networkEntityAngularVelocity != null)
                        BABYLON.NetworkManager.SendAngularBuffer.copyFrom(localTransform.networkEntityAngularVelocity);
                    else
                        BABYLON.NetworkManager.SendAngularBuffer.set(0, 0, 0);
                    // ..
                    let a00 = 0;
                    let a01 = 0;
                    let a02 = 0;
                    let a03 = 0;
                    let a04 = 0;
                    let a05 = 0;
                    let a06 = 0;
                    let a07 = 0;
                    let a08 = 0;
                    let a09 = 0;
                    let a10 = 0;
                    let a11 = 0;
                    let a12 = 0;
                    let a13 = 0;
                    let a14 = 0;
                    let a15 = 0;
                    let a16 = 0;
                    let a17 = 0;
                    let a18 = 0;
                    let a19 = 0;
                    // ..
                    if (postAttributes === true && localTransform.networkEntityBatch != null) {
                        if (localTransform.networkEntityBatch["0"] != null) {
                            a00 = localTransform.networkEntityBatch["0"];
                        }
                        if (localTransform.networkEntityBatch["1"] != null) {
                            a01 = localTransform.networkEntityBatch["1"];
                        }
                        if (localTransform.networkEntityBatch["2"] != null) {
                            a02 = localTransform.networkEntityBatch["2"];
                        }
                        if (localTransform.networkEntityBatch["3"] != null) {
                            a03 = localTransform.networkEntityBatch["3"];
                        }
                        if (localTransform.networkEntityBatch["4"] != null) {
                            a04 = localTransform.networkEntityBatch["4"];
                        }
                        if (localTransform.networkEntityBatch["5"] != null) {
                            a05 = localTransform.networkEntityBatch["5"];
                        }
                        if (localTransform.networkEntityBatch["6"] != null) {
                            a06 = localTransform.networkEntityBatch["6"];
                        }
                        if (localTransform.networkEntityBatch["7"] != null) {
                            a07 = localTransform.networkEntityBatch["7"];
                        }
                        if (localTransform.networkEntityBatch["8"] != null) {
                            a08 = localTransform.networkEntityBatch["8"];
                        }
                        if (localTransform.networkEntityBatch["9"] != null) {
                            a09 = localTransform.networkEntityBatch["9"];
                        }
                        if (localTransform.networkEntityBatch["10"] != null) {
                            a10 = localTransform.networkEntityBatch["10"];
                        }
                        if (localTransform.networkEntityBatch["11"] != null) {
                            a11 = localTransform.networkEntityBatch["11"];
                        }
                        if (localTransform.networkEntityBatch["12"] != null) {
                            a12 = localTransform.networkEntityBatch["12"];
                        }
                        if (localTransform.networkEntityBatch["13"] != null) {
                            a13 = localTransform.networkEntityBatch["13"];
                        }
                        if (localTransform.networkEntityBatch["14"] != null) {
                            a14 = localTransform.networkEntityBatch["14"];
                        }
                        if (localTransform.networkEntityBatch["15"] != null) {
                            a15 = localTransform.networkEntityBatch["15"];
                        }
                        if (localTransform.networkEntityBatch["16"] != null) {
                            a16 = localTransform.networkEntityBatch["16"];
                        }
                        if (localTransform.networkEntityBatch["17"] != null) {
                            a17 = localTransform.networkEntityBatch["17"];
                        }
                        if (localTransform.networkEntityBatch["18"] != null) {
                            a18 = localTransform.networkEntityBatch["18"];
                        }
                        if (localTransform.networkEntityBatch["19"] != null) {
                            a19 = localTransform.networkEntityBatch["19"];
                        }
                    }
                    // ..
                    // Format Network Entity Update Packet
                    // ..
                    const packet = {};
                    packet.id = networkEntity.id;
                    packet.xPos = BABYLON.NetworkManager.SendPositionBuffer.x;
                    packet.yPos = BABYLON.NetworkManager.SendPositionBuffer.y;
                    packet.zPos = BABYLON.NetworkManager.SendPositionBuffer.z;
                    packet.xRot = BABYLON.NetworkManager.SendRotationBuffer.x;
                    packet.yRot = BABYLON.NetworkManager.SendRotationBuffer.y;
                    packet.zRot = BABYLON.NetworkManager.SendRotationBuffer.z;
                    packet.wRot = BABYLON.NetworkManager.SendRotationBuffer.w;
                    packet.xVel = BABYLON.NetworkManager.SendLinearBuffer.x;
                    packet.yVel = BABYLON.NetworkManager.SendLinearBuffer.y;
                    packet.zVel = BABYLON.NetworkManager.SendLinearBuffer.z;
                    packet.xAng = BABYLON.NetworkManager.SendAngularBuffer.x;
                    packet.yAng = BABYLON.NetworkManager.SendAngularBuffer.y;
                    packet.zAng = BABYLON.NetworkManager.SendAngularBuffer.z;
                    packet.a00 = a00;
                    packet.a01 = a01;
                    packet.a02 = a02;
                    packet.a03 = a03;
                    packet.a04 = a04;
                    packet.a05 = a05;
                    packet.a06 = a06;
                    packet.a07 = a07;
                    packet.a08 = a08;
                    packet.a09 = a09;
                    packet.a10 = a10;
                    packet.a11 = a11;
                    packet.a12 = a12;
                    packet.a13 = a13;
                    packet.a14 = a14;
                    packet.a15 = a15;
                    packet.a16 = a16;
                    packet.a17 = a17;
                    packet.a18 = a18;
                    packet.a19 = a19;
                    packet.speed = BABYLON.NetworkManager.SendLinearBuffer.length();
                    result = packet;
                }
            }
            return result;
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Static Event Handlers
        ////////////////////////////////////////////////////////////////////
        static JoinDefaultRoomHandler(info) {
            BABYLON.NetworkManager.UserReference = info.user;
            BABYLON.NetworkManager.NetworkServerTime = info.serverTime;
            BABYLON.NetworkManager.InterpolationBuffer = info.interpolationBuffer;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.Tools.Warn("TCP: You are connected to the default room channel");
            }
        }
        static AddNetworkEntityHandler(entity, key) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                // PROCESS QUEUED NETWORK ENTITIES
                if (BABYLON.NetworkManager.NetworkEntityQueue != null) {
                    BABYLON.NetworkManager.NetworkEntityQueue.forEach((vx, kx) => {
                        BABYLON.NetworkManager.ProcessNetworkEntityHandler(vx, kx);
                    });
                    BABYLON.NetworkManager.NetworkEntityQueue.clear();
                    BABYLON.NetworkManager.NetworkEntityQueue = null;
                }
                // PROCESS NEW NETWORK ENTITY ITEM
                BABYLON.NetworkManager.ProcessNetworkEntityHandler(entity, key);
            }
            else {
                if (BABYLON.NetworkManager.NetworkEntityQueue == null)
                    BABYLON.NetworkManager.NetworkEntityQueue = new Map();
                BABYLON.NetworkManager.NetworkEntityQueue.set(key, entity);
            }
        }
        static ProcessNetworkEntityHandler(entity, key) {
            //console.warn(">>> Add New Network Entity: " + key);
            const aentity = entity;
            const sceneRef = BABYLON.NetworkManager.SceneReference;
            const remotePrefab = entity.attributes.get("remotePrefab");
            const assetContainer = entity.attributes.get("assetContainer");
            const customHandler = entity.attributes.get("customHandler");
            const movementEpsilon = entity.attributes.get("movementEpsilon");
            const movementType = entity.attributes.get("movementType");
            const interoplation = entity.attributes.get("interoplation");
            const bufferedAttribs = entity.attributes.get("bufferedAttribs");
            const syncTransform = entity.attributes.get("syncTransform");
            const playerAvatar = entity.attributes.get("playerAvatar");
            const isLocalEntity = (entity.ownerId === BABYLON.NetworkManager.UserReference.id);
            if (isLocalEntity === false) { // Note: Local Network Entities Only
                aentity.onChange((changes) => { BABYLON.NetworkManager.ProcessRemoteEntityChanges(entity, changes); });
            }
            let sourceName = entity.attributes.get("sourceName");
            if (sourceName == null || sourceName === "")
                sourceName = "Unknown";
            let transformNode = null;
            let transformNodeName = (sourceName + "." + entity.ownerId);
            let transformNodeType = (isLocalEntity === true) ? BABYLON.NetworkEntityType.Local : BABYLON.NetworkEntityType.Remote;
            if (BABYLON.NetworkManager.RootNode == null) {
                BABYLON.NetworkManager.RootNode = new BABYLON.TransformNode("Network Entities", sceneRef);
                BABYLON.NetworkManager.RootNode.position.set(0, 0, 0);
            }
            if (isLocalEntity === false) {
                const initialPosition = new BABYLON.Vector3(0, 0, 0);
                const initialRotation = new BABYLON.Quaternion(0, 0, 0, 1);
                if (remotePrefab != null && remotePrefab !== "") {
                    if (assetContainer != null && assetContainer !== "") {
                        const contaier = UNITY.SceneManager.GetAssetContainer(sceneRef, assetContainer);
                        if (contaier != null) {
                            transformNode = UNITY.SceneManager.InstantiatePrefabFromContainer(contaier, remotePrefab, transformNodeName, BABYLON.NetworkManager.RootNode, initialPosition, initialRotation);
                            if (transformNode == null)
                                BABYLON.Tools.Warn("Failed to instaniate '" + remotePrefab + "' from asset container '" + assetContainer + "'.");
                        }
                        else {
                            BABYLON.Tools.Warn("Asset container '" + assetContainer + "' not registered on the scene.");
                        }
                    }
                    else {
                        transformNode = UNITY.SceneManager.InstantiatePrefabFromScene(sceneRef, remotePrefab, transformNodeName, BABYLON.NetworkManager.RootNode, initialPosition, initialRotation);
                        if (transformNode == null)
                            BABYLON.Tools.Warn("Failed to instaniate '" + remotePrefab + "' from current scene.");
                    }
                }
                if (transformNode == null) {
                    transformNode = new BABYLON.TransformNode(transformNodeName, sceneRef);
                    transformNode.parent = BABYLON.NetworkManager.RootNode;
                    transformNode.position = initialPosition.clone();
                    transformNode.rotationQuaternion = initialRotation.clone();
                }
                transformNode.name = transformNodeName; // Note: Double Check Transform Node Name Is Set
                transformNode.setEnabled(false); // Note: Disable Root Node Until Initial Activation
                // ..
                // Hide Netowrk Avatar Player Armature
                // ..
                if (transformNode != null) {
                    if (playerAvatar != null && playerAvatar !== "") {
                        const skins = transformNode.getChildMeshes(false, (node) => { return (node.skeleton != null); });
                        if (skins != null && skins.length > 0) {
                            skins.forEach((skin) => {
                                const stag = UNITY.SceneManager.GetTransformTag(skin);
                                if (stag != null && stag === "Armature" || skin.name.toLowerCase().endsWith(".skin")) {
                                    skin.isVisible = false;
                                }
                            });
                        }
                    }
                }
            }
            else {
                transformNode = UNITY.SceneManager.GetTransformNodeByID(sceneRef, entity.creationId);
                if (transformNode == null)
                    BABYLON.Tools.Warn("Failed to locate local entity transform '" + entity.creationId + "' in current scene.");
            }
            // ..
            // Validate Custom Interpolation Handler
            // ..
            let customHandlerFunc = null;
            if (customHandler != null && customHandler !== "") {
                customHandlerFunc = BABYLON.NetworkManager.CustomHandlerMap.get(customHandler);
                if (customHandlerFunc == null)
                    BABYLON.Tools.Warn("Custom interoplation handler not found: " + customHandler + ". Default interpolation will be used instead.");
            }
            // ..
            // Link Entity And Transform Node References
            // ..
            if (transformNode != null) {
                aentity.transformNode = transformNode;
                aentity.transformNodeType = transformNodeType;
                aentity.transformNode.networkEntity = entity;
                aentity.transformNode.networkEntityType = transformNodeType;
                aentity.transformNode.networkEntitySync = (syncTransform != null && syncTransform === "true");
                aentity.transformNode.networkEntityBatch = null;
                aentity.transformNode.networkEntityHandler = customHandlerFunc;
                aentity.transformNode.networkEntityEpsilon = (movementEpsilon != null && movementEpsilon !== "") ? parseFloat(movementEpsilon) : 0.00001;
                aentity.transformNode.networkEntityMovement = (movementType != null && movementType !== "") ? parseFloat(movementType) : 0;
                aentity.transformNode.networkEntityInterpolate = (interoplation != null && interoplation !== "") ? parseFloat(interoplation) : 0;
                aentity.transformNode.networkEntityActivated = false;
                aentity.transformNode.networkEntityLastPosition = null;
                aentity.transformNode.networkEntityLinearVelocity = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkPosition = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkRotation = new BABYLON.Quaternion(0, 0, 0, 1);
                aentity.transformNode.networkEntityNetworkVelocity = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkScaling = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityAttributeBuffer = null;
                aentity.transformNode.networkEntityInterpBuffer = null;
                aentity.transformNode.networkEntityPlayerAvatar = playerAvatar;
                if (transformNodeType == BABYLON.NetworkEntityType.Remote) {
                    const interpolationMode = aentity.transformNode.networkEntityInterpolate;
                    if (interpolationMode !== BABYLON.EntityInterpolation.Custom) {
                        const bufferAttribs = (bufferedAttribs != null && bufferedAttribs !== "") ? JSON.parse(bufferedAttribs) : null;
                        aentity.transformNode.networkEntityInterpBuffer = new InterpolationBuffer(interpolationMode, BABYLON.NetworkManager.InterpolationBuffer, bufferAttribs);
                    }
                }
                else if (transformNodeType == BABYLON.NetworkEntityType.Local) {
                    // TODO: Local Only Setup
                }
            }
            else {
                aentity.transformNode = null;
                aentity.transformNodeType = BABYLON.NetworkEntityType.None;
            }
            BABYLON.NetworkManager.OnCreateEntityObservable.notifyObservers(entity);
        }
        static ProcessRemoteEntityChanges(entity, changes) {
            if (entity != null && entity.transformNode != null && entity.transformNode.networkEntitySync != null && entity.transformNode.networkEntitySync === true && entity.transformNodeType != null) {
                if (entity.transformNodeType === BABYLON.NetworkEntityType.Remote) { // Note: Remote Network Entities Only
                    //console.log("ProcessRemoteEntityChanges: ", entity, changes);
                    entity.transformNode.networkEntityNetworkPosition.set(entity.xPos, entity.yPos, entity.zPos);
                    entity.transformNode.networkEntityNetworkRotation.set(entity.xRot, entity.yRot, entity.zRot, entity.wRot);
                    entity.transformNode.networkEntityNetworkVelocity.set(entity.xVel, entity.yVel, entity.zVel);
                    entity.transformNode.networkEntityNetworkScaling.set(1.0, 1.0, 1.0);
                    if (entity.transformNode.networkEntityInterpBuffer != null) {
                        const position = entity.transformNode.networkEntityNetworkPosition;
                        const rotation = entity.transformNode.networkEntityNetworkRotation;
                        const velocity = entity.transformNode.networkEntityNetworkVelocity;
                        const scaling = entity.transformNode.networkEntityNetworkScaling;
                        entity.transformNode.networkEntityInterpBuffer.appendBuffer(position, velocity, rotation, scaling);
                    }
                }
            }
        }
        static RemoveNetworkEntityHandler(entity, key) {
            const aentity = entity;
            if (aentity.transformNode != null && aentity.transformNodeType != null && aentity.transformNodeType === BABYLON.NetworkEntityType.Remote) {
                // console.warn(">>> Remove Remote Network Entity: " + key);
                if (aentity.transformNode.dispose)
                    aentity.transformNode.dispose();
                aentity.transformNode = null;
                BABYLON.NetworkManager.OnRemoveEntityObservable.notifyObservers(entity);
            }
        }
    }
    NetworkManager.RootNode = null;
    NetworkManager.DefaultRoom = null;
    NetworkManager.UserReference = null;
    NetworkManager.NetworkServerTime = 0;
    NetworkManager.NetworkEntityQueue = null;
    NetworkManager.CustomHandlerMap = new Map();
    NetworkManager.SendPositionBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SendRotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
    NetworkManager.SendLinearBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SendAngularBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SceneReference = null;
    NetworkManager.InterpolationBuffer = 0.15;
    NetworkManager.OnConnectObservable = new BABYLON.Observable();
    NetworkManager.OnDisconnectObservable = new BABYLON.Observable();
    NetworkManager.OnJoinRoomObservable = new BABYLON.Observable();
    NetworkManager.OnLeaveRoomObservable = new BABYLON.Observable();
    NetworkManager.OnCreateEntityObservable = new BABYLON.Observable();
    NetworkManager.OnRemoveEntityObservable = new BABYLON.Observable();
    NetworkManager.OnChatMessageObservable = new BABYLON.Observable();
    NetworkManager.OnPingReceivedObservable = new BABYLON.Observable();
    NetworkManager.OnErrorMessageObservable = new BABYLON.Observable();
    NetworkManager.OnRemoteProcedureCallObservable = new BABYLON.Observable();
    BABYLON.NetworkManager = NetworkManager;
    /**
     * Babylon universal game room controller (Colyseus Universal Game Room)
     * Supports network users, entities, attributes, remote function calls, custom messages, custom methods and custom room logic modules.
     * @class RoomController - All rights reserved (c) 2020 Mackey Kinard
     */
    class RoomController {
        static SendPing(room) {
            room.send("ping");
        }
        static SendChat(room, message) {
            room.send("sendChat", { sessionId: "*", name: "*", message: message, timestamp: -1 });
        }
        static CallCustomMethod(room, method, ...args) {
            room.send("customMethod", { method: method, param: args });
        }
        static SetUserAttributes(room, userId, attributesToSet) {
            room.send("setAttribute", { entityId: null, userId: userId, attributesToSet: attributesToSet });
        }
        static SetEntityAttributes(room, entityId, attributesToSet) {
            room.send("setAttribute", { entityId: entityId, userId: null, attributesToSet: attributesToSet });
        }
        static CreateNetworkEntity(room, ownerName, localTransform, remotePrefab = null, assetContainer = null, movementEpsilon = 0.00001, movementType = BABYLON.EntityMovementType.ClientAuthority, interpolationMode = BABYLON.EntityInterpolation.Default, autoSyncTransform = true, customHandlerName = null, bufferedAttributes, createAttributes = null) {
            const entityAttributes = (createAttributes != null) ? createAttributes : {};
            const entityPosition = localTransform.position;
            const entityRotation = (localTransform.rotationQuaternion != null) ? localTransform.rotationQuaternion : BABYLON.Quaternion.FromEulerVector(localTransform.rotation);
            entityAttributes["ownerName"] = ownerName;
            entityAttributes["sourceName"] = (localTransform.name != null) ? localTransform.name : localTransform.id;
            entityAttributes["creationPos"] = [entityPosition.x, entityPosition.y, entityPosition.z];
            entityAttributes["creationRot"] = [entityRotation.x, entityRotation.y, entityRotation.z, entityRotation.w];
            entityAttributes["remotePrefab"] = remotePrefab;
            entityAttributes["assetContainer"] = assetContainer;
            entityAttributes["customHandler"] = customHandlerName;
            entityAttributes["movementEpsilon"] = movementEpsilon.toString();
            entityAttributes["movementType"] = movementType.toString();
            entityAttributes["interoplation"] = interpolationMode.toString();
            entityAttributes["syncTransform"] = autoSyncTransform.toString().toLowerCase();
            entityAttributes["bufferedAttribs"] = (bufferedAttributes != null) ? JSON.stringify(bufferedAttributes) : null;
            room.send("createEntity", { creationId: localTransform.id, attributes: entityAttributes });
        }
        static RemoveNetworkEntity(room, entityId) {
            room.send("removeEntity", entityId);
        }
        static ExecuteRemoteFunctionCall(room, target, entityId, func, ...args) {
            room.send("remoteFunctionCall", { entityId: entityId, function: func, param: args, target: target });
        }
    }
    BABYLON.RoomController = RoomController;
    /**
     * Network Interpolation Buffer
     * https://github.com/virbela/buffered-interpolation
     */
    let BufferState;
    (function (BufferState) {
        BufferState[BufferState["INITIALIZING"] = 0] = "INITIALIZING";
        BufferState[BufferState["BUFFERING"] = 1] = "BUFFERING";
        BufferState[BufferState["PLAYING"] = 2] = "PLAYING";
    })(BufferState = BABYLON.BufferState || (BABYLON.BufferState = {}));
    let BufferMode;
    (function (BufferMode) {
        BufferMode[BufferMode["MODE_LERP"] = 0] = "MODE_LERP";
        BufferMode[BufferMode["MODE_HERMITE"] = 1] = "MODE_HERMITE";
    })(BufferMode = BABYLON.BufferMode || (BABYLON.BufferMode = {}));
    // const vectorPool: Vector3[] = [];
    // const quatPool: Quaternion[] = [];
    const framePool = [];
    // const getPooledVector: () => Vector3 = () => vectorPool.shift() || new Vector3();
    // const getPooledQuaternion: () => Quaternion = () => quatPool.shift() || new Quaternion();
    const getPooledFrame = () => {
        let frame = framePool.pop();
        if (!frame) {
            frame = { position: new BABYLON.Vector3(), velocity: new BABYLON.Vector3(), scale: new BABYLON.Vector3(1, 1, 1), quaternion: new BABYLON.Quaternion(), aux00: 0, aux01: 0, aux02: 0, aux03: 0, aux04: 0, aux05: 0, aux06: 0, aux07: 0, aux08: 0, aux09: 0, aux10: 0, aux11: 0, aux12: 0, aux13: 0, aux14: 0, aux15: 0, aux16: 0, aux17: 0, aux18: 0, aux19: 0, speed: 0, time: 0 };
        }
        return frame;
    };
    const freeFrame = f => framePool.push(f);
    class InterpolationBuffer {
        getPosition() { return this.position; }
        getQuaternion() { return this.quaternion; }
        getScale() { return this.scale; }
        constructor(mode = BufferMode.MODE_LERP, bufferTime = 0.15, bufferAttribs = null) {
            this.state = BufferState.INITIALIZING;
            this.buffer = [];
            this.bufferTime = bufferTime * 1000;
            this.bufferAttribs = bufferAttribs;
            this.time = 0;
            this.mode = mode;
            this.originFrame = getPooledFrame();
            this.position = new BABYLON.Vector3();
            this.quaternion = new BABYLON.Quaternion();
            this.scale = new BABYLON.Vector3(1, 1, 1);
            this.aux00 = 0;
            this.aux01 = 0;
            this.aux02 = 0;
            this.aux03 = 0;
            this.aux04 = 0;
            this.aux05 = 0;
            this.aux06 = 0;
            this.aux07 = 0;
            this.aux08 = 0;
            this.aux09 = 0;
            this.aux10 = 0;
            this.aux11 = 0;
            this.aux12 = 0;
            this.aux13 = 0;
            this.aux14 = 0;
            this.aux15 = 0;
            this.aux16 = 0;
            this.aux17 = 0;
            this.aux18 = 0;
            this.aux19 = 0;
            this.speed = 0;
        }
        hermiteToolkit(target, t, p1, p2, v1, v2) {
            //const deltaTime:number = UNITY.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            UNITY.Utilities.HermiteVector3ToRef(p1, v1, p2, v2, t, target);
        }
        hermiteBabylon(target, t, p1, p2, v1, v2) {
            //const deltaTime:number = UNITY.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            const pos = BABYLON.Vector3.Hermite(p1, v1, p2, v2, t);
            target.copyFrom(pos);
        }
        hermiteLegacy(target, t, p1, p2, v1, v2) {
            const t2 = t * t;
            const t3 = t * t * t;
            const a = 2 * t3 - 3 * t2 + 1;
            const b = -2 * t3 + 3 * t2;
            const c = t3 - 2 * t2 + t;
            const d = t3 - t2;
            target.copyFrom(p1.scaleInPlace(a));
            target.add(p2.scaleInPlace(b));
            target.add(v1.scaleInPlace(c));
            target.add(v2.scaleInPlace(d));
        }
        /* CUBIC HERMOTE REFERENCE (GDSCRIPT)
        func hermite(t, p1, p2, v1, v2):
            var t2 = pow(t, 2)
            var t3 = pow(t, 3)
            var a = 1 - 3*t2 + 2*t3
            var b = t2 * (3 - 2*t)
            var c = t * pow(t - 1, 2)
            var d = t2 * (t - 1)
            return a * p1 + b * p2 + c * v1 + d * v2
        */
        lerp(target, v1, v2, alpha) {
            BABYLON.Vector3.LerpToRef(v1, v2, alpha, target);
        }
        slerp(target, r1, r2, alpha) {
            BABYLON.Quaternion.SlerpToRef(r1, r2, alpha, target);
        }
        updateOriginFrameToBufferTail() {
            freeFrame(this.originFrame);
            this.originFrame = this.buffer.shift() || getPooledFrame();
        }
        appendBuffer(position, velocity, quaternion, scale, aux00 = 0, aux01 = 0, aux02 = 0, aux03 = 0, aux04 = 0, aux05 = 0, aux06 = 0, aux07 = 0, aux08 = 0, aux09 = 0, aux10 = 0, aux11 = 0, aux12 = 0, aux13 = 0, aux14 = 0, aux15 = 0, aux16 = 0, aux17 = 0, aux18 = 0, aux19 = 0, speed = 0) {
            const tail = this.buffer.length > 0 ? this.buffer[this.buffer.length - 1] : null;
            // Update the last entry in the buffer if this is the same frame
            if (tail && tail.time === this.time) {
                if (position)
                    tail.position.copyFrom(position);
                if (velocity)
                    tail.velocity.copyFrom(velocity);
                if (quaternion)
                    tail.quaternion.copyFrom(quaternion);
                if (scale)
                    tail.scale.copyFrom(scale);
                tail.aux00 = aux00;
                tail.aux01 = aux01;
                tail.aux02 = aux02;
                tail.aux03 = aux03;
                tail.aux04 = aux04;
                tail.aux05 = aux05;
                tail.aux06 = aux06;
                tail.aux07 = aux07;
                tail.aux08 = aux08;
                tail.aux09 = aux09;
                tail.aux10 = aux10;
                tail.aux11 = aux11;
                tail.aux12 = aux12;
                tail.aux13 = aux13;
                tail.aux14 = aux14;
                tail.aux15 = aux15;
                tail.aux16 = aux16;
                tail.aux17 = aux17;
                tail.aux18 = aux18;
                tail.aux19 = aux19;
                tail.speed = speed;
            }
            else {
                const priorFrame = tail || this.originFrame;
                const newFrame = getPooledFrame();
                newFrame.position.copyFrom(position || priorFrame.position);
                newFrame.velocity.copyFrom(velocity || priorFrame.velocity);
                newFrame.quaternion.copyFrom(quaternion || priorFrame.quaternion);
                newFrame.scale.copyFrom(scale || priorFrame.scale);
                newFrame.aux00 = aux00;
                newFrame.aux01 = aux01;
                newFrame.aux02 = aux02;
                newFrame.aux03 = aux03;
                newFrame.aux04 = aux04;
                newFrame.aux05 = aux05;
                newFrame.aux06 = aux06;
                newFrame.aux07 = aux07;
                newFrame.aux08 = aux08;
                newFrame.aux09 = aux09;
                newFrame.aux10 = aux10;
                newFrame.aux11 = aux11;
                newFrame.aux12 = aux12;
                newFrame.aux13 = aux13;
                newFrame.aux14 = aux14;
                newFrame.aux15 = aux15;
                newFrame.aux16 = aux16;
                newFrame.aux17 = aux17;
                newFrame.aux18 = aux18;
                newFrame.aux19 = aux19;
                newFrame.speed = speed;
                newFrame.time = this.time;
                this.buffer.push(newFrame);
            }
        }
        // DEEPRECATED: setTarget(position: Vector3, velocity: Vector3, quaternion: Quaternion, scale: Vector3) { this.appendBuffer(position, velocity, quaternion, scale); }
        // DEEPRECATED: setPosition(position: Vector3, velocity: Vector3) { this.appendBuffer(position, velocity, undefined, undefined); }
        // DEEPRECATED: setQuaternion(quaternion: Quaternion) { this.appendBuffer(undefined, undefined, quaternion, undefined); }
        // DEEPRECATED: setScale(scale: Vector3) { this.appendBuffer(undefined, undefined, undefined, scale); }
        update(delta) {
            if (this.state === BufferState.INITIALIZING) {
                if (this.buffer.length > 0) {
                    this.updateOriginFrameToBufferTail();
                    this.position.copyFrom(this.originFrame.position);
                    this.quaternion.copyFrom(this.originFrame.quaternion);
                    this.scale.copyFrom(this.originFrame.scale);
                    this.aux00 = this.originFrame.aux00;
                    this.aux01 = this.originFrame.aux01;
                    this.aux02 = this.originFrame.aux02;
                    this.aux03 = this.originFrame.aux03;
                    this.aux04 = this.originFrame.aux04;
                    this.aux05 = this.originFrame.aux05;
                    this.aux06 = this.originFrame.aux06;
                    this.aux07 = this.originFrame.aux07;
                    this.aux08 = this.originFrame.aux08;
                    this.aux09 = this.originFrame.aux09;
                    this.aux10 = this.originFrame.aux10;
                    this.aux11 = this.originFrame.aux11;
                    this.aux12 = this.originFrame.aux12;
                    this.aux13 = this.originFrame.aux13;
                    this.aux14 = this.originFrame.aux14;
                    this.aux15 = this.originFrame.aux15;
                    this.aux16 = this.originFrame.aux16;
                    this.aux17 = this.originFrame.aux17;
                    this.aux18 = this.originFrame.aux18;
                    this.aux19 = this.originFrame.aux19;
                    this.speed = this.originFrame.speed;
                    this.state = BufferState.BUFFERING;
                }
            }
            if (this.state === BufferState.BUFFERING) {
                if (this.buffer.length > 0 && this.time > this.bufferTime) {
                    this.state = BufferState.PLAYING;
                }
            }
            if (this.state === BufferState.PLAYING) {
                const mark = this.time - this.bufferTime;
                // Purge this.buffer of expired frames
                while (this.buffer.length > 0 && mark > this.buffer[0].time) {
                    // If this is the last frame in the buffer, just update the time and reuse it
                    if (this.buffer.length > 1) {
                        this.updateOriginFrameToBufferTail();
                    }
                    else {
                        this.originFrame.position.copyFrom(this.buffer[0].position);
                        this.originFrame.velocity.copyFrom(this.buffer[0].velocity);
                        this.originFrame.quaternion.copyFrom(this.buffer[0].quaternion);
                        this.originFrame.scale.copyFrom(this.buffer[0].scale);
                        this.originFrame.aux00 = this.buffer[0].aux00;
                        this.originFrame.aux01 = this.buffer[0].aux01;
                        this.originFrame.aux02 = this.buffer[0].aux02;
                        this.originFrame.aux03 = this.buffer[0].aux03;
                        this.originFrame.aux04 = this.buffer[0].aux04;
                        this.originFrame.aux05 = this.buffer[0].aux05;
                        this.originFrame.aux06 = this.buffer[0].aux06;
                        this.originFrame.aux07 = this.buffer[0].aux07;
                        this.originFrame.aux08 = this.buffer[0].aux08;
                        this.originFrame.aux09 = this.buffer[0].aux09;
                        this.originFrame.aux10 = this.buffer[0].aux10;
                        this.originFrame.aux11 = this.buffer[0].aux11;
                        this.originFrame.aux12 = this.buffer[0].aux12;
                        this.originFrame.aux13 = this.buffer[0].aux13;
                        this.originFrame.aux14 = this.buffer[0].aux14;
                        this.originFrame.aux15 = this.buffer[0].aux15;
                        this.originFrame.aux16 = this.buffer[0].aux16;
                        this.originFrame.aux17 = this.buffer[0].aux17;
                        this.originFrame.aux18 = this.buffer[0].aux18;
                        this.originFrame.aux19 = this.buffer[0].aux19;
                        this.originFrame.speed = this.buffer[0].speed;
                        this.originFrame.time = this.buffer[0].time;
                        this.buffer[0].time = this.time + delta;
                    }
                }
                if (this.buffer.length > 0 && this.buffer[0].time > 0) {
                    const targetFrame = this.buffer[0];
                    const delta_time = targetFrame.time - this.originFrame.time;
                    const alpha = (mark - this.originFrame.time) / delta_time;
                    // ..
                    // Network Translation
                    // ..
                    if (this.mode === BufferMode.MODE_LERP) {
                        this.lerp(this.position, this.originFrame.position, targetFrame.position, alpha);
                    }
                    else if (this.mode === BufferMode.MODE_HERMITE) {
                        this.hermiteLegacy(this.position, alpha, this.originFrame.position, targetFrame.position, this.originFrame.velocity.scaleInPlace(delta_time), targetFrame.velocity.scaleInPlace(delta_time));
                        /* TOOLKIT HERMITE
                        this.hermiteToolkit(
                            this.position,
                            alpha,
                            this.originFrame.position,
                            targetFrame.position,
                            this.originFrame.velocity,
                            targetFrame.velocity
                        );*/
                    }
                    this.slerp(this.quaternion, this.originFrame.quaternion, targetFrame.quaternion, alpha);
                    this.lerp(this.scale, this.originFrame.scale, targetFrame.scale, alpha);
                    // ..
                    // Entity Movement Speed
                    // ..
                    this.speed = BABYLON.Scalar.Lerp(this.originFrame.speed, targetFrame.speed, alpha);
                    // ..
                    // Buffered Target Attribs
                    // ..
                    this.aux00 = targetFrame.aux00;
                    this.aux01 = targetFrame.aux01;
                    this.aux02 = targetFrame.aux02;
                    this.aux03 = targetFrame.aux03;
                    this.aux04 = targetFrame.aux04;
                    this.aux05 = targetFrame.aux05;
                    this.aux06 = targetFrame.aux06;
                    this.aux07 = targetFrame.aux07;
                    this.aux08 = targetFrame.aux08;
                    this.aux09 = targetFrame.aux09;
                    this.aux10 = targetFrame.aux10;
                    this.aux11 = targetFrame.aux11;
                    this.aux12 = targetFrame.aux12;
                    this.aux13 = targetFrame.aux13;
                    this.aux14 = targetFrame.aux14;
                    this.aux15 = targetFrame.aux15;
                    this.aux16 = targetFrame.aux16;
                    this.aux17 = targetFrame.aux17;
                    this.aux18 = targetFrame.aux18;
                    this.aux19 = targetFrame.aux19;
                    if (this.bufferAttribs != null) {
                        if (this.bufferAttribs.interpolateBuffer00 === 1)
                            this.aux00 = BABYLON.Scalar.Lerp(this.originFrame.aux00, targetFrame.aux00, alpha);
                        else if (this.bufferAttribs.interpolateBuffer00 === 2)
                            this.aux00 = BABYLON.Scalar.LerpAngle(this.originFrame.aux00, targetFrame.aux00, alpha);
                        if (this.bufferAttribs.interpolateBuffer01 === 1)
                            this.aux01 = BABYLON.Scalar.Lerp(this.originFrame.aux01, targetFrame.aux01, alpha);
                        else if (this.bufferAttribs.interpolateBuffer01 === 2)
                            this.aux01 = BABYLON.Scalar.LerpAngle(this.originFrame.aux01, targetFrame.aux01, alpha);
                        if (this.bufferAttribs.interpolateBuffer02 === 1)
                            this.aux02 = BABYLON.Scalar.Lerp(this.originFrame.aux02, targetFrame.aux02, alpha);
                        else if (this.bufferAttribs.interpolateBuffer02 === 2)
                            this.aux02 = BABYLON.Scalar.LerpAngle(this.originFrame.aux02, targetFrame.aux02, alpha);
                        if (this.bufferAttribs.interpolateBuffer03 === 1)
                            this.aux03 = BABYLON.Scalar.Lerp(this.originFrame.aux03, targetFrame.aux03, alpha);
                        else if (this.bufferAttribs.interpolateBuffer03 === 2)
                            this.aux03 = BABYLON.Scalar.LerpAngle(this.originFrame.aux03, targetFrame.aux03, alpha);
                        if (this.bufferAttribs.interpolateBuffer04 === 1)
                            this.aux04 = BABYLON.Scalar.Lerp(this.originFrame.aux04, targetFrame.aux04, alpha);
                        else if (this.bufferAttribs.interpolateBuffer04 === 2)
                            this.aux04 = BABYLON.Scalar.LerpAngle(this.originFrame.aux04, targetFrame.aux04, alpha);
                        if (this.bufferAttribs.interpolateBuffer05 === 1)
                            this.aux05 = BABYLON.Scalar.Lerp(this.originFrame.aux05, targetFrame.aux05, alpha);
                        else if (this.bufferAttribs.interpolateBuffer05 === 2)
                            this.aux05 = BABYLON.Scalar.LerpAngle(this.originFrame.aux05, targetFrame.aux05, alpha);
                        if (this.bufferAttribs.interpolateBuffer06 === 1)
                            this.aux06 = BABYLON.Scalar.Lerp(this.originFrame.aux06, targetFrame.aux06, alpha);
                        else if (this.bufferAttribs.interpolateBuffer06 === 2)
                            this.aux06 = BABYLON.Scalar.LerpAngle(this.originFrame.aux06, targetFrame.aux06, alpha);
                        if (this.bufferAttribs.interpolateBuffer07 === 1)
                            this.aux07 = BABYLON.Scalar.Lerp(this.originFrame.aux07, targetFrame.aux07, alpha);
                        else if (this.bufferAttribs.interpolateBuffer07 === 2)
                            this.aux07 = BABYLON.Scalar.LerpAngle(this.originFrame.aux07, targetFrame.aux07, alpha);
                        if (this.bufferAttribs.interpolateBuffer08 === 1)
                            this.aux08 = BABYLON.Scalar.Lerp(this.originFrame.aux08, targetFrame.aux08, alpha);
                        else if (this.bufferAttribs.interpolateBuffer08 === 2)
                            this.aux08 = BABYLON.Scalar.LerpAngle(this.originFrame.aux08, targetFrame.aux08, alpha);
                        if (this.bufferAttribs.interpolateBuffer09 === 1)
                            this.aux09 = BABYLON.Scalar.Lerp(this.originFrame.aux09, targetFrame.aux09, alpha);
                        else if (this.bufferAttribs.interpolateBuffer09 === 2)
                            this.aux09 = BABYLON.Scalar.LerpAngle(this.originFrame.aux09, targetFrame.aux09, alpha);
                        if (this.bufferAttribs.interpolateBuffer10 === 1)
                            this.aux10 = BABYLON.Scalar.Lerp(this.originFrame.aux10, targetFrame.aux10, alpha);
                        else if (this.bufferAttribs.interpolateBuffer10 === 2)
                            this.aux10 = BABYLON.Scalar.LerpAngle(this.originFrame.aux10, targetFrame.aux10, alpha);
                        if (this.bufferAttribs.interpolateBuffer11 === 1)
                            this.aux11 = BABYLON.Scalar.Lerp(this.originFrame.aux11, targetFrame.aux11, alpha);
                        else if (this.bufferAttribs.interpolateBuffer11 === 2)
                            this.aux11 = BABYLON.Scalar.LerpAngle(this.originFrame.aux11, targetFrame.aux11, alpha);
                        if (this.bufferAttribs.interpolateBuffer12 === 1)
                            this.aux12 = BABYLON.Scalar.Lerp(this.originFrame.aux12, targetFrame.aux12, alpha);
                        else if (this.bufferAttribs.interpolateBuffer12 === 2)
                            this.aux12 = BABYLON.Scalar.LerpAngle(this.originFrame.aux12, targetFrame.aux12, alpha);
                        if (this.bufferAttribs.interpolateBuffer13 === 1)
                            this.aux13 = BABYLON.Scalar.Lerp(this.originFrame.aux13, targetFrame.aux13, alpha);
                        else if (this.bufferAttribs.interpolateBuffer13 === 2)
                            this.aux13 = BABYLON.Scalar.LerpAngle(this.originFrame.aux13, targetFrame.aux13, alpha);
                        if (this.bufferAttribs.interpolateBuffer14 === 1)
                            this.aux14 = BABYLON.Scalar.Lerp(this.originFrame.aux14, targetFrame.aux14, alpha);
                        else if (this.bufferAttribs.interpolateBuffer14 === 2)
                            this.aux14 = BABYLON.Scalar.LerpAngle(this.originFrame.aux14, targetFrame.aux14, alpha);
                        if (this.bufferAttribs.interpolateBuffer15 === 1)
                            this.aux15 = BABYLON.Scalar.Lerp(this.originFrame.aux15, targetFrame.aux15, alpha);
                        else if (this.bufferAttribs.interpolateBuffer15 === 2)
                            this.aux15 = BABYLON.Scalar.LerpAngle(this.originFrame.aux15, targetFrame.aux15, alpha);
                        if (this.bufferAttribs.interpolateBuffer16 === 1)
                            this.aux16 = BABYLON.Scalar.Lerp(this.originFrame.aux16, targetFrame.aux16, alpha);
                        else if (this.bufferAttribs.interpolateBuffer16 === 2)
                            this.aux16 = BABYLON.Scalar.LerpAngle(this.originFrame.aux16, targetFrame.aux16, alpha);
                        if (this.bufferAttribs.interpolateBuffer17 === 1)
                            this.aux17 = BABYLON.Scalar.Lerp(this.originFrame.aux17, targetFrame.aux17, alpha);
                        else if (this.bufferAttribs.interpolateBuffer17 === 2)
                            this.aux17 = BABYLON.Scalar.LerpAngle(this.originFrame.aux17, targetFrame.aux17, alpha);
                        if (this.bufferAttribs.interpolateBuffer18 === 1)
                            this.aux18 = BABYLON.Scalar.Lerp(this.originFrame.aux18, targetFrame.aux18, alpha);
                        else if (this.bufferAttribs.interpolateBuffer18 === 2)
                            this.aux18 = BABYLON.Scalar.LerpAngle(this.originFrame.aux18, targetFrame.aux18, alpha);
                        if (this.bufferAttribs.interpolateBuffer19 === 1)
                            this.aux19 = BABYLON.Scalar.Lerp(this.originFrame.aux19, targetFrame.aux19, alpha);
                        else if (this.bufferAttribs.interpolateBuffer19 === 2)
                            this.aux19 = BABYLON.Scalar.LerpAngle(this.originFrame.aux19, targetFrame.aux19, alpha);
                    }
                }
            }
            if (this.state !== BufferState.INITIALIZING) {
                this.time += delta;
            }
        }
    }
    BABYLON.InterpolationBuffer = InterpolationBuffer;
})(BABYLON || (BABYLON = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AutoBodyGarage
    */
    class AutoBodyGarage extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.m_bodyMaterial = null;
            this.m_bodyAbtractMesh = null;
        }
        awake() {
            const mainMaterialIndex = this.getProperty("mainMaterialIndex", 0);
            const mainBodyTransform = this.getProperty("mainBodyTransform");
            const mainBodyUnityColor = this.getProperty("mainBodyPaintColor");
            const mainBodyPaintColor = UNITY.Utilities.ParseColor3(mainBodyUnityColor, BABYLON.Color3.White());
            if (mainBodyTransform != null) {
                this.m_bodyAbtractMesh = UNITY.Utilities.ParseChildTransform(this.transform, mainBodyTransform);
                if (this.m_bodyAbtractMesh != null) {
                    if (this.m_bodyAbtractMesh.material instanceof BABYLON.MultiMaterial) {
                        const multiMaterial = this.m_bodyAbtractMesh.material;
                        if (multiMaterial.subMaterials != null && multiMaterial.subMaterials.length > mainMaterialIndex) {
                            const copyMaterial = multiMaterial.clone(multiMaterial.name + "." + this.transform.name);
                            const subMaterial = copyMaterial.subMaterials[mainMaterialIndex];
                            copyMaterial.subMaterials[mainMaterialIndex] = subMaterial.clone(subMaterial.name + "." + this.transform.name);
                            this.m_bodyMaterial = copyMaterial.subMaterials[mainMaterialIndex];
                            this.m_bodyAbtractMesh.material = copyMaterial;
                        }
                    }
                    else {
                        this.m_bodyMaterial = this.m_bodyAbtractMesh.material.clone(this.m_bodyAbtractMesh.material.name + "." + this.transform.name);
                        this.m_bodyAbtractMesh.material = this.m_bodyMaterial;
                    }
                    if (this.m_bodyMaterial != null) {
                        // Set Main Body Base Coloring
                        if (this.m_bodyMaterial.isFrozen)
                            this.m_bodyMaterial.unfreeze();
                        this.m_bodyMaterial.albedoColor.copyFrom(mainBodyPaintColor);
                        this.m_bodyMaterial.freeze();
                    }
                }
                else {
                    UNITY.SceneManager.LogWarning("Failed to find auto body mesh for: " + this.transform.name);
                }
            }
        }
        //protected start(): void { }
        //protected update(): void { }
        //protected after(): void { }
        //protected destroy(): void { }
        setupVehicleMaterials(bodyColor, wheelColor = null, wheelType = 0, decalIndex = 0) {
            if (this.m_bodyMaterial != null) {
                // Set Main Body Base Coloring
                if (this.m_bodyMaterial.isFrozen)
                    this.m_bodyMaterial.unfreeze();
                this.m_bodyMaterial.albedoColor.copyFrom(bodyColor);
                this.m_bodyMaterial.freeze();
                // TODO - Setup Wheel Type And Color
                // TODO - Setup Decal Body Wrapping
            }
        }
    }
    PROJECT.AutoBodyGarage = AutoBodyGarage;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class CheckpointManager
    */
    class CheckpointManager extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.checkPointList = null;
            this.checkPointCount = 0;
            this.checkPointIndex = 0;
            this.nextCheckPoint = 0;
            this.startRaceTime = 0;
            this.totalRaceTime = 0;
            this.lapNumber = 0;
            this.lapTimer = 0;
            this.lapTimes = null;
            this.playerID = 0;
            this.playerName = "Player";
            this.raceOver = false;
            this.nextCheckPointName = "";
        }
        register(id, name) {
            this.playerID = id;
            this.playerName = name;
            PROJECT.RaceTrackManager.RegisterPlayer(this.playerID, this.playerName);
        }
        getLapTimes() { return this.lapTimes; }
        getLapNumber() { return this.lapNumber; }
        getCheckPoint() { return this.checkPointIndex; }
        getPlayerName() { return this.playerName; }
        getPlayerID() { return this.playerID; }
        getRaceTime() { return this.totalRaceTime; }
        getRaceOver() { return this.raceOver; }
        start() {
            this.lapTimes = [];
            this.lapNumber = 0;
            this.nextCheckPoint = 0;
            this.checkPointList = PROJECT.RaceTrackManager.GetCheckpointList();
            this.checkPointCount = PROJECT.RaceTrackManager.GetCheckpointCount();
        }
        update() {
            if (this.raceOver === false) {
                if (this.checkPointList != null && this.checkPointList.length > 0) {
                    const nextCheckpointMesh = this.checkPointList[this.nextCheckPoint];
                    if (nextCheckpointMesh != null) {
                        this.nextCheckPointName = nextCheckpointMesh.name;
                        if (nextCheckpointMesh.intersectsPoint(this.transform.absolutePosition)) {
                            this.checkPointIndex = this.nextCheckPoint;
                            if (this.checkPointIndex === 0) {
                                if (this.lapNumber > 0 && this.lapTimer > 0) {
                                    const lapTime = (UNITY.SceneManager.GetGameTime() - this.lapTimer);
                                    if (this.lapTimes == null)
                                        this.lapTimes = [];
                                    this.lapTimes.push(lapTime);
                                }
                                this.lapNumber++;
                                this.lapTimer = UNITY.SceneManager.GetGameTime();
                                if (this.lapNumber > PROJECT.RaceTrackManager.TotalLapCount) {
                                    this.startRaceTime = 0;
                                    this.lapNumber = PROJECT.RaceTrackManager.TotalLapCount;
                                    this.raceOver = true; // GAME OVER: Crossed Finish Line
                                    PROJECT.RaceTrackManager.Bus.RaiseMessage("GameOver");
                                    /////////////////////////////////////////////////////////////////////
                                    // Maybe Remove And Use Leaderboard For Winner - ???
                                    /////////////////////////////////////////////////////////////////////
                                    if (PROJECT.RaceTrackManager.WinnerTransform == null) {
                                        PROJECT.RaceTrackManager.WinnerTransform = this.transform;
                                        // ..
                                        // TODO: Handle Win Conditions - ???
                                        // ..
                                        console.warn("RACE WINNER: " + this.transform.name);
                                    }
                                    /////////////////////////////////////////////////////////////////////
                                }
                            }
                            this.nextCheckPoint++;
                            if (this.nextCheckPoint >= this.checkPointCount) {
                                this.nextCheckPoint = 0;
                            }
                        }
                    }
                }
            }
        }
        late() {
            // DEBUG LOCAL PLAYER CHECKPOINTS
            // if (this.transform.name === "LocalPlayer") {
            //    UTIL.PrintToScreen("Checkpoint Index: " + this.checkPointIndex.toString() + " ---> Next: " + this.nextCheckPointName);
            // }
            if (this.raceOver === false) {
                if (this.startRaceTime > 0) {
                    this.totalRaceTime = (UNITY.SceneManager.GetGameTime() - this.startRaceTime);
                }
                if (this.playerID > 0) {
                    PROJECT.RaceTrackManager.UpdateLeaderboard(this.playerID, this.lapNumber, this.checkPointIndex, this.transform.absolutePosition);
                }
            }
        }
        startRaceTimer() {
            if (this.startRaceTime === 0) {
                this.lapTimes = [];
                this.raceOver = false;
                this.startRaceTime = UNITY.SceneManager.GetGameTime();
            }
        }
    }
    PROJECT.CheckpointManager = CheckpointManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NetworkCarPrediction
    */
    class NetworkCarPrediction extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.autoRegister = true;
            this.handlerName = "VehiclePrediction";
            this.extrapolateTimeMs = 200;
        }
        awake() {
            if (this.autoRegister === true)
                this.register();
        }
        register() {
            BABYLON.NetworkManager.RegisterCustomInterpolationHandler(this.handlerName, (networkEntity, remoteTransform, deltaTime) => {
                this.HandleUpdate(networkEntity, remoteTransform, deltaTime);
            });
        }
        HandleUpdate(networkEntity, remoteTransform, deltaTime) {
            // TODO: Handle Remote Network Transform Update
        }
        LegacyHandleUpdate(networkEntity, remoteTransform, deltaTime) {
            const entityDeltaTime = 0; //BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.DeltaTime);
            const entityElaspedTime = 0; //BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.ElapsedTime);
            //const extrapolationOffset:BABYLON.Vector3 = BABYLON.NetworkManager.ReadNetworkEntityBufferData<BABYLON.Vector3>(remoteTransform, BABYLON.EntityBufferData.ExtrapolationOffset);
            const entityDeltaTimeMs = (entityDeltaTime * 1000);
            const entityElaspedTimeMs = (entityElaspedTime * 1000);
            //const latestSnapshot:BABYLON.EntitySnapshot = BABYLON.NetworkManager.ReadNetworkEntityBufferData(remoteTransform, BABYLON.EntityBufferData.LatestSnapshot);
            //const networkPosition:BABYLON.Vector3 = latestSnapshot.position;
            //const networkRotation:BABYLON.Quaternion = latestSnapshot.rotation;
            //const networkLinearVelocity:BABYLON.Vector3 = latestSnapshot.velocity; 
            //const networkAngularVelocity:BABYLON.Vector3 = latestSnapshot.angle; 
            /*
            (<any>remoteTransform).networkEntityCurrPosition.copyFrom(remoteTransform.position);
            (<any>remoteTransform).networkEntityCurrPosition.subtractToRef((<any>remoteTransform).networkEntityPrevPosition, (<any>remoteTransform).networkEntityDeltaPosition);
            (<any>remoteTransform).networkEntityPrevPosition.copyFrom((<any>remoteTransform).networkEntityCurrPosition);
            (<any>remoteTransform).networkEntityDeltaPosition.x = (<any>remoteTransform).networkEntityDeltaPosition.x / deltaTime;
            (<any>remoteTransform).networkEntityDeltaPosition.y = (<any>remoteTransform).networkEntityDeltaPosition.y / deltaTime;
            (<any>remoteTransform).networkEntityDeltaPosition.z = (<any>remoteTransform).networkEntityDeltaPosition.z / deltaTime;
            (<any>remoteTransform).networkEntityCurrRotation.copyFrom(remoteTransform.rotationQuaternion);
            // ..
            UNITY.Utilities.QuaternionDiffToRef((<any>remoteTransform).networkEntityCurrRotation, (<any>remoteTransform).networkEntityPrevRotation, (<any>remoteTransform).networkEntityDeltaRotation);
            (<any>remoteTransform).networkEntityDeltaRotation.toEulerAnglesToRef((<any>remoteTransform).networkEntityDeltaEulers);
            (<any>remoteTransform).networkEntityDeltaEulers.x = (<any>remoteTransform).networkEntityDeltaEulers.x / deltaTime;
            (<any>remoteTransform).networkEntityDeltaEulers.y = (<any>remoteTransform).networkEntityDeltaEulers.y / deltaTime;
            (<any>remoteTransform).networkEntityDeltaEulers.z = (<any>remoteTransform).networkEntityDeltaEulers.z / deltaTime;
            */
            if (entityDeltaTimeMs <= this.extrapolateTimeMs && entityElaspedTimeMs <= this.extrapolateTimeMs) {
                // Quaternion turnRotation = Quaternion.Euler( 0, m_SynchronizedTurnSpeed * timePassed, 0 );
                // extrapolatePosition = turnRotation * ( m_SynchronizedSpeed * timePassed );                    
                // ..
                // TODO: Extrapolate New Target Position (Client Prediction)
                // ..
                // const quat:BABYLON.Quaternion = BABYLON.Quaternion.FromEulerAngles(angularVelocity.x, angularVelocity.y, angularVelocity.z);
                // const extra = UNITY.Utilities.MultiplyQuaternionByVector(quat, linearVelocity);
                // ..
                //networkLinearVelocity.scaleToRef(entityDeltaTime, extrapolationOffset);
                //networkPosition.addInPlace(extrapolationOffset);
                // ..
                // Interpolate Smooth Network Position Update (Move Towards)
                // ..
                //const metersPerSecond:number = (networkLinearVelocity.length() * sceneDeltaTime);
                //UNITY.Utilities.MoveTowardsVector3ToRef(remoteTransform.position, networkPosition, metersPerSecond, remoteTransform.position);
                // ..
                // Interpolate Smooth Network Rotation Update (Legacy Slerp)
                // ..
                // TODO: Create Quaternion Rotate Towards
                // TODO: Get Slerp Speed Attribute
                let rotationSlerpFactor = 10.0;
                let rotationLerpSpeed = (rotationSlerpFactor * deltaTime);
                rotationLerpSpeed = BABYLON.Scalar.Clamp(rotationLerpSpeed, 0, 1);
                //BABYLON.Quaternion.SlerpToRef(remoteTransform.rotationQuaternion, networkRotation, rotationLerpSpeed, remoteTransform.rotationQuaternion);
                // MOVE TO ONCHANGE
                //(<any>remoteTransform).networkEntityPacketPosition.copyFrom(remoteTransform.position);
                //(<any>remoteTransform).networkEntityPacketRotation.copyFrom(remoteTransform.rotationQuaternion);
                //(<any>remoteTransform).networkEntityPacketVelocity.copyFrom((<any>remoteTransform).networkEntityDeltaPosition);
                //(<any>remoteTransform).networkEntityPacketAngular.copyFrom((<any>remoteTransform).networkEntityDeltaEulers); 
                /*
                const controlType:BABYLON.EntityControlType = (<any>remoteTransform).networkEntityControl;
                if (controlType != null) {
                    if (controlType === BABYLON.EntityControlType.Transform) {
                        // TODO: Use Transform Directly
                    } else if (controlType === BABYLON.EntityControlType.RigidbodyPhysics) {
                        const remoteTransformMesh:BABYLON.AbstractMesh = remoteTransform as BABYLON.AbstractMesh;
                        if (remoteTransformMesh.physicsImpostor != null) {

                            //const entityDeltaTime:number = BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.DeltaTime);
                            //(<any>remoteTransform).networkEntityRealVelocity.scaleInPlace(entityDeltaTime);
                            //remoteTransformMesh.physicsImpostor.setLinearVelocity((<any>remoteTransform).networkEntityRealVelocity);
                            //console.log("SET VELOCITY: " + remoteTransform.name);

                            // r.velocity = Vector3.Lerp(velocityAtLastPacket, latestVelocity, (float)(currentTime / timeToReachGoal));
                            // r.angularVelocity = Vector3.Lerp(angularVelocityAtLastPacket, latestAngularVelocity, (float)(currentTime / timeToReachGoal));
                        }
                    } else if (controlType === BABYLON.EntityControlType.CharacterController) {
                        // TODO: Find And Use Character Controller
                    }
                }
                */
            }
            else {
                //remoteTransform.position.copyFrom(networkPosition);
                //remoteTransform.rotationQuaternion.copyFrom(networkRotation);
            }
        }
    }
    PROJECT.NetworkCarPrediction = NetworkCarPrediction;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    class RoutePoint {
    }
    PROJECT.RoutePoint = RoutePoint;
    class PlayerRaceStats {
    }
    PROJECT.PlayerRaceStats = PlayerRaceStats;
    /**
    * Babylon Script Component
    * @class BT_RaceTrackManager
    */
    class RaceTrackManager extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.trackNodes = null;
            this.raceLineData_1 = null;
            this.raceLineData_2 = null;
            this.raceLineData_3 = null;
            this.raceLineData_4 = null;
            this.raceLineData_5 = null;
            this.raceLineColor_1 = null;
            this.raceLineColor_2 = null;
            this.raceLineColor_3 = null;
            this.raceLineColor_4 = null;
            this.raceLineColor_5 = null;
            this.debugMeshLines_1 = null;
            this.debugMeshLines_2 = null;
            this.debugMeshLines_3 = null;
            this.debugMeshLines_4 = null;
            this.debugMeshLines_5 = null;
            this.p0n = 0;
            this.p1n = 0;
            this.p2n = 0;
            this.p3n = 0;
            this.i = 0;
            this.drawDebugLines = false;
        }
        static get Bus() {
            if (PROJECT.RaceTrackManager._EventBus == null) {
                PROJECT.RaceTrackManager._EventBus = new UNITY.EventMessageBus();
            }
            return PROJECT.RaceTrackManager._EventBus;
        }
        getTrackNodes() { return this.trackNodes; }
        getControlPoints(line) {
            let result = null;
            switch (line) {
                case 0:
                    result = this.raceLineData_1;
                    break;
                case 1:
                    result = this.raceLineData_2;
                    break;
                case 2:
                    result = this.raceLineData_3;
                    break;
                case 3:
                    result = this.raceLineData_4;
                    break;
                case 4:
                    result = this.raceLineData_5;
                    break;
            }
            return result;
        }
        awake() {
            this.trackNodes = this.getProperty("TrackNodes", this.trackNodes);
            this.raceLineData_1 = this.getProperty("RaceLineData_1", this.raceLineData_1);
            this.raceLineData_2 = this.getProperty("RaceLineData_2", this.raceLineData_2);
            this.raceLineData_3 = this.getProperty("RaceLineData_3", this.raceLineData_3);
            this.raceLineData_4 = this.getProperty("RaceLineData_4", this.raceLineData_4);
            this.raceLineData_5 = this.getProperty("RaceLineData_5", this.raceLineData_5);
            this.raceLineColor_1 = this.getProperty("RaceLineColor_1", this.raceLineColor_1);
            this.raceLineColor_2 = this.getProperty("RaceLineColor_2", this.raceLineColor_2);
            this.raceLineColor_3 = this.getProperty("RaceLineColor_3", this.raceLineColor_3);
            this.raceLineColor_4 = this.getProperty("RaceLineColor_4", this.raceLineColor_4);
            this.raceLineColor_5 = this.getProperty("RaceLineColor_5", this.raceLineColor_5);
            this.drawDebugLines = this.getProperty("DrawDebugLines", this.drawDebugLines);
            //
            let index = 0;
            if (this.trackNodes != null) {
                PROJECT.RaceTrackManager.TrackLength = 0;
                for (index = 0; index < this.trackNodes.length; index++) {
                    const element = this.trackNodes[index];
                    const t1 = this.trackNodes[(index) % this.trackNodes.length];
                    const t2 = this.trackNodes[(index + 1) % this.trackNodes.length];
                    if (t1 != null && t2 != null) {
                        const rot = UNITY.Utilities.ParseVector4(element.rotation);
                        element.localRotation = new BABYLON.Quaternion(rot.x, rot.y, rot.z, rot.w);
                        element.localPosition = UNITY.Utilities.ParseVector3(element.position);
                        const p1 = UNITY.Utilities.ParseVector3(t1.position);
                        const p2 = UNITY.Utilities.ParseVector3(t2.position);
                        element.localDistance = PROJECT.RaceTrackManager.TrackLength;
                        PROJECT.RaceTrackManager.TrackLength += (p1.subtract(p2)).length();
                    }
                }
            }
            console.warn(">>> Race Track Nodes");
            console.log(this.trackNodes);
            // ..
            if (PROJECT.RaceTrackManager.LeaderBoardList == null) {
                PROJECT.RaceTrackManager.LeaderBoardList = [];
            }
            // ..
            if (PROJECT.RaceTrackManager.CheckPointList == null) {
                PROJECT.RaceTrackManager.CheckPointList = this.scene.getMeshesByTags(PROJECT.RaceTrackManager.CheckPointTag);
                if (PROJECT.RaceTrackManager.CheckPointList != null && PROJECT.RaceTrackManager.CheckPointList.length > 0) {
                    for (index = 0; index < PROJECT.RaceTrackManager.CheckPointList.length; index++) {
                        PROJECT.RaceTrackManager.CheckPointList[index].refreshBoundingInfo();
                    }
                }
            }
        }
        start() {
            if (this.drawDebugLines === true) {
                let index = 0;
                const pointSize = 0.5;
                const debugLines = new BABYLON.TransformNode(this.transform.name + ".DebugLines", this.scene);
                debugLines.position.set(0, 0, 0);
                debugLines.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                // ..
                // Track Nodes
                // ..
                if (this.trackNodes != null && this.trackNodes.length > 0) {
                    const trackNodePos_1 = [];
                    const trackNodeCol_1 = BABYLON.Color3.White();
                    const trackNodeMat_1 = new BABYLON.StandardMaterial(this.transform.name + ".NodeMaterial", this.scene);
                    trackNodeMat_1.diffuseColor = trackNodeCol_1;
                    index = 0;
                    this.trackNodes.forEach((node) => {
                        const trackNodePosition = new BABYLON.Vector3(node.position.x, node.position.y, node.position.z);
                        const trackNodeRotation = new BABYLON.Quaternion(node.rotation.x, node.rotation.y, node.rotation.z, node.rotation.w);
                        trackNodePos_1.push(trackNodePosition);
                        const trackNode = BABYLON.MeshBuilder.CreateCylinder(this.transform.name + ".TrackNode_" + index, { diameterTop: 0, diameterBottom: (pointSize * 2), height: 2.0 }, this.scene);
                        trackNode.parent = debugLines;
                        trackNode.position.copyFrom(trackNodePosition);
                        trackNode.position.y += 0.5;
                        trackNode.rotationQuaternion = trackNodeRotation.multiply(UNITY.Utilities.FromEuler(90, 0, 0));
                        trackNode.material = trackNodeMat_1;
                        index++;
                    });
                }
                // ..
                // Race Line 5
                // ..
                if (this.raceLineData_5 != null && this.raceLineData_5.length > 0) {
                    const raceLinePos_5 = [];
                    const raceLineCol_5 = (this.raceLineColor_5 != null) ? new BABYLON.Color3(this.raceLineColor_5.r, this.raceLineColor_5.g, this.raceLineColor_5.b) : BABYLON.Color3.White();
                    const raceLineMat_5 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_5", this.scene);
                    raceLineMat_5.diffuseColor = raceLineCol_5;
                    index = 0;
                    this.raceLineData_5.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_5.push(raceLinePoint);
                        const controlPoint_5 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_5_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_5.parent = debugLines;
                        controlPoint_5.position.copyFrom(raceLinePoint);
                        controlPoint_5.position.y += 0.5;
                        controlPoint_5.material = raceLineMat_5;
                        index++;
                    });
                    this.debugMeshLines_5 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_5"), { points: raceLinePos_5 }, this.scene);
                    this.debugMeshLines_5.parent = debugLines;
                    this.debugMeshLines_5.position.y += 0.5;
                    this.debugMeshLines_5.color = raceLineCol_5;
                }
                // ..
                // Race Line 4
                // ..
                if (this.raceLineData_4 != null && this.raceLineData_4.length > 0) {
                    const raceLinePos_4 = [];
                    const raceLineCol_4 = (this.raceLineColor_4 != null) ? new BABYLON.Color3(this.raceLineColor_4.r, this.raceLineColor_4.g, this.raceLineColor_4.b) : BABYLON.Color3.White();
                    const raceLineMat_4 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_4", this.scene);
                    raceLineMat_4.diffuseColor = raceLineCol_4;
                    index = 0;
                    this.raceLineData_4.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_4.push(raceLinePoint);
                        const controlPoint_4 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_4_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_4.parent = debugLines;
                        controlPoint_4.position.copyFrom(raceLinePoint);
                        controlPoint_4.position.y += 0.5;
                        controlPoint_4.material = raceLineMat_4;
                        index++;
                    });
                    this.debugMeshLines_4 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_4"), { points: raceLinePos_4 }, this.scene);
                    this.debugMeshLines_4.parent = debugLines;
                    this.debugMeshLines_4.position.y += 0.5;
                    this.debugMeshLines_4.color = raceLineCol_4;
                }
                // ..
                // Race Line 3
                // ..
                if (this.raceLineData_3 != null && this.raceLineData_3.length > 0) {
                    const raceLinePos_3 = [];
                    const raceLineCol_3 = (this.raceLineColor_3 != null) ? new BABYLON.Color3(this.raceLineColor_3.r, this.raceLineColor_3.g, this.raceLineColor_3.b) : BABYLON.Color3.White();
                    const raceLineMat_3 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_3", this.scene);
                    raceLineMat_3.diffuseColor = raceLineCol_3;
                    index = 0;
                    this.raceLineData_3.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_3.push(raceLinePoint);
                        const controlPoint_3 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_3_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_3.parent = debugLines;
                        controlPoint_3.position.copyFrom(raceLinePoint);
                        controlPoint_3.position.y += 0.5;
                        controlPoint_3.material = raceLineMat_3;
                        index++;
                    });
                    this.debugMeshLines_3 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_3"), { points: raceLinePos_3 }, this.scene);
                    this.debugMeshLines_3.parent = debugLines;
                    this.debugMeshLines_3.position.y += 0.5;
                    this.debugMeshLines_3.color = raceLineCol_3;
                }
                // ..
                // Race Line 2
                // ..
                if (this.raceLineData_2 != null && this.raceLineData_2.length > 0) {
                    const raceLinePos_2 = [];
                    const raceLineCol_2 = (this.raceLineColor_2 != null) ? new BABYLON.Color3(this.raceLineColor_2.r, this.raceLineColor_2.g, this.raceLineColor_2.b) : BABYLON.Color3.White();
                    const raceLineMat_2 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_2", this.scene);
                    raceLineMat_2.diffuseColor = raceLineCol_2;
                    index = 0;
                    this.raceLineData_2.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_2.push(raceLinePoint);
                        const controlPoint_2 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_2_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_2.parent = debugLines;
                        controlPoint_2.position.copyFrom(raceLinePoint);
                        controlPoint_2.position.y += 0.5;
                        controlPoint_2.material = raceLineMat_2;
                        index++;
                    });
                    this.debugMeshLines_2 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_2"), { points: raceLinePos_2 }, this.scene);
                    this.debugMeshLines_2.parent = debugLines;
                    this.debugMeshLines_2.position.y += 0.5;
                    this.debugMeshLines_2.color = raceLineCol_2;
                }
                // ..
                // Race Line 1
                // ..
                if (this.raceLineData_1 != null && this.raceLineData_1.length > 0) {
                    const raceLinePos_1 = [];
                    const raceLineCol_1 = (this.raceLineColor_1 != null) ? new BABYLON.Color3(this.raceLineColor_1.r, this.raceLineColor_1.g, this.raceLineColor_1.b) : BABYLON.Color3.White();
                    const raceLineMat_1 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_1", this.scene);
                    raceLineMat_1.diffuseColor = raceLineCol_1;
                    index = 0;
                    this.raceLineData_1.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_1.push(raceLinePoint);
                        const controlPoint_1 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_1_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_1.parent = debugLines;
                        controlPoint_1.position.copyFrom(raceLinePoint);
                        controlPoint_1.position.y += 0.5;
                        controlPoint_1.material = raceLineMat_1;
                        index++;
                    });
                    this.debugMeshLines_1 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_1"), { points: raceLinePos_1 }, this.scene);
                    this.debugMeshLines_1.parent = debugLines;
                    this.debugMeshLines_1.position.y += 0.5;
                    this.debugMeshLines_1.color = raceLineCol_1;
                }
            }
        }
        after() {
            if (this.isReady()) { // Update After Ready State
                PROJECT.RaceTrackManager.SortLeaderboardPositionList();
            }
        }
        destroy() {
            // TODO - Destroy component function
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Public Route Point Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getRoutePoint(distance) {
            const result = new RoutePoint();
            this.getRoutePointToRef(distance, result);
            return result;
        }
        getRoutePointToRef(distance, result) {
            // TODO: OPTIMIZE THIS FUNCTION
            const p1 = this.getRoutePosition(distance);
            const p2 = this.getRoutePosition(distance + 0.1);
            const delta = p2.subtract(p1);
            result.position = p1.clone();
            result.direction = delta.normalizeToNew();
            //return new RoutePoint(p1, delta.normalized);
        }
        getRoutePosition(distance) {
            const result = new BABYLON.Vector3(0, 0, 0);
            this.getRoutePositionToRef(distance, result);
            return result;
        }
        getRoutePositionToRef(distance, result) {
            let point = 0;
            const dist = BABYLON.Scalar.Repeat(distance, PROJECT.RaceTrackManager.TrackLength);
            const numPoints = this.trackNodes.length;
            while (this.trackNodes[point].localDistance < dist) {
                ++point;
            }
            // get nearest two points, ensuring points wrap-around start & end of circuit
            this.p1n = ((point - 1) + numPoints) % numPoints;
            this.p2n = point;
            // found point numbers, now find interpolation value between the two middle points
            this.i = BABYLON.Scalar.InverseLerp(this.trackNodes[this.p1n].localDistance, this.trackNodes[this.p2n].localDistance, dist);
            // simple linear lerp between the two points
            BABYLON.Vector3.LerpToRef(this.trackNodes[this.p1n].localPosition, this.trackNodes[this.p2n].localPosition, this.i, result);
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Checkpoint Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Gets the checkpoint tag identifier */
        static GetCheckpointTag() {
            return PROJECT.RaceTrackManager.CheckPointTag;
        }
        /** Get the checkpoint position list */
        static GetCheckpointList() {
            return PROJECT.RaceTrackManager.CheckPointList;
        }
        /** Get the total number of checkpoints */
        static GetCheckpointCount() {
            return (PROJECT.RaceTrackManager.CheckPointList != null) ? PROJECT.RaceTrackManager.CheckPointList.length : 0;
        }
        /** Calculates the fraction distance to next checkpoint */
        static GetCheckpointDistance(position, lastPointReached, nextPoint) {
            // TODO: Optimize vectors
            const displacementFromCurrentNode = position.subtract(lastPointReached);
            const currentSegmentVector = nextPoint.subtract(lastPointReached);
            const fraction = BABYLON.Vector3.Dot(displacementFromCurrentNode, currentSegmentVector) / currentSegmentVector.lengthSquared();
            return BABYLON.Scalar.Clamp(fraction);
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Vehicle Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Register vehicle with track manager */
        static RegisterVehicle(vehicle) {
            if (PROJECT.RaceTrackManager.PlayerVehicleList == null)
                PROJECT.RaceTrackManager.PlayerVehicleList = [];
            PROJECT.RaceTrackManager.PlayerVehicleList.push(vehicle);
        }
        /** Gets the registered player vehicles */
        static GetPlayerVehicles() {
            return PROJECT.RaceTrackManager.PlayerVehicleList;
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Leaderboard Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Register player with track manager */
        static RegisterPlayer(id, name) {
            const player = new PROJECT.PlayerRaceStats();
            player.id = id,
                player.name = name;
            player.position = 0;
            if (PROJECT.RaceTrackManager.LeaderBoardList == null)
                PROJECT.RaceTrackManager.LeaderBoardList = [];
            PROJECT.RaceTrackManager.LeaderBoardList.push(player);
        }
        /** Update player leaderboard information */
        static UpdateLeaderboard(id, lap, checkpoint, position) {
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                for (let index = 0; index < leaderboard.length; index++) {
                    const element = leaderboard[index];
                    if (element.id === id) {
                        if (PROJECT.RaceTrackManager.CheckPointList != null && PROJECT.RaceTrackManager.CheckPointList.length > 0) {
                            let checkPointCount = PROJECT.RaceTrackManager.CheckPointList.length;
                            let nextCheckPointIndex = (checkpoint + 1);
                            if (nextCheckPointIndex >= checkPointCount)
                                nextCheckPointIndex = 0;
                            const startCheckpointMesh = PROJECT.RaceTrackManager.CheckPointList[checkpoint];
                            const nextCheckpointMesh = PROJECT.RaceTrackManager.CheckPointList[nextCheckPointIndex];
                            const checkPointFraction = PROJECT.RaceTrackManager.GetCheckpointDistance(position, startCheckpointMesh.absolutePosition, nextCheckpointMesh.absolutePosition);
                            element.position = (((lap * 1000) + checkpoint) + checkPointFraction);
                        }
                        break;
                    }
                }
            }
        }
        /** Get player leaderboard position */
        static GetLeaderboardPosition(id) {
            let result = -1;
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                for (let index = 0; index < leaderboard.length; index++) {
                    const element = leaderboard[index];
                    if (element.id === id) {
                        result = (index + 1);
                        break;
                    }
                }
            }
            return result;
        }
        /** Get leaderboard position list */
        static GetLeaderboardPositionList() {
            return PROJECT.RaceTrackManager.LeaderBoardList;
        }
        /** Sort leaderboard position list */
        static SortLeaderboardPositionList() {
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                leaderboard.sort((left, right) => {
                    // Note: Sort In Descending Order
                    if (left.position < right.position)
                        return 1;
                    if (left.position > right.position)
                        return -1;
                    return 0;
                });
            }
        }
    }
    RaceTrackManager.TrackLength = 0;
    RaceTrackManager.TotalLapCount = 3;
    RaceTrackManager.WinnerTransform = null;
    RaceTrackManager.CheckPointTag = "Checkpoint";
    RaceTrackManager.CheckPointList = null;
    RaceTrackManager.LeaderBoardList = null;
    RaceTrackManager.PlayerVehicleList = null;
    RaceTrackManager._EventBus = null;
    PROJECT.RaceTrackManager = RaceTrackManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon remote vehicle controller class (Colyseus Universal Game Room)
    * @class RemoteCarController
    */
    class RemoteCarController extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.centerOfMass = 0.4;
            this.burnoutWheelPitch = 0.85;
            this.linkTrackManager = true;
            this.playVehicleSounds = true;
            this.smokeTexture = null;
            this.skidThreashold = 0.65;
            this.smokeIntensity = 150;
            this.wheelDrawVelocity = 0.02;
            this.smokeOpacity = 0.1;
            this.smokeDonuts = 2.0;
            this.steeringWheelHub = null;
            this.steeringWheelAxis = 2;
            this.maxSteeringAngle = 35.0;
            this.maxSteeringSpeed = 10.0;
            this._animator = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            this.brakeLightsMesh = null;
            this.brakeLightsTrans = null;
            this.reverseLightsMesh = null;
            this.reverseLightsTrans = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelEmitter = null;
            this.frontRightWheelEmitter = null;
            this.backLeftWheelEmitter = null;
            this.backRightWheelEmitter = null;
            this.frontLeftWheelParticle = null;
            this.frontRightWheelParticle = null;
            this.backLeftWheelParticle = null;
            this.backRightWheelParticle = null;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftSensorLine = null;
            this.frontRightSensorLine = null;
            this.rearLeftSensorLine = null;
            this.rearRightSensorLine = null;
            this.startRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.smokeIntensityFactor = 0;
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.downDistance = 2.0;
            this.lastPitch = 0;
            this.lastBrake = 0;
            this.lastReverse = 0;
            this.lastBurnout = 0;
            this.lastSteering = 0;
            this.lastSKID_FL = 0;
            this.lastSKID_FR = 0;
            this.lastSKID_RL = 0;
            this.lastSKID_RR = 0;
            this.lastSPIN_FL = 0;
            this.lastSPIN_FR = 0;
            this.lastSPIN_RL = 0;
            this.lastSPIN_RR = 0;
            this.PITCH_FL = 0;
            this.PITCH_FR = 0;
            this.PITCH_RL = 0;
            this.PITCH_RR = 0;
            this.WHEEL_SKID_PITCH = 0;
            this.m_frontLeftWheelSkid = -1;
            this.m_frontRightWheelSkid = -1;
            this.m_backLeftWheelSkid = -1;
            this.m_backRightWheelSkid = -1;
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
        }
        getFrontLeftWheelContact() { return this.frontLeftContact; }
        getFrontRightWheelContact() { return this.frontRightContact; }
        getRearLeftWheelContact() { return this.rearLeftContact; }
        getRearRightWheelContact() { return this.rearRightContact; }
        getFrontLeftWheelContactTag() { return this.frontLeftContactTag; }
        getFrontRightWheelContactTag() { return this.frontRightContactTag; }
        getRearLeftWheelContactTag() { return this.rearLeftContactTag; }
        getRearRightWheelContactTag() { return this.rearRightContactTag; }
        getFrontLeftWheelContactPoint() { return this.frontLeftContactPoint; }
        getFrontRightWheelContactPoint() { return this.frontRightContactPoint; }
        getRearLeftWheelContactPoint() { return this.rearLeftContactPoint; }
        getRearRightWheelContactPoint() { return this.rearRightContactPoint; }
        getFrontLeftWheelContactNormal() { return this.frontLeftContactNormal; }
        getFrontRightWheelContactNormal() { return this.frontRightContactNormal; }
        getRearLeftWheelContactNormal() { return this.rearLeftContactNormal; }
        getRearRightWheelContactNormal() { return this.rearRightContactNormal; }
        awake() {
            this.centerOfMass = this.getProperty("centerOfMass", this.centerOfMass);
            this.burnoutWheelPitch = this.getProperty("burnoutWheelPitch", this.burnoutWheelPitch);
            this.linkTrackManager = this.getProperty("linkTrackManager", this.linkTrackManager);
            this.playVehicleSounds = this.getProperty("playVehicleSounds", this.playVehicleSounds);
            this.wheelDrawVelocity = this.getProperty("wheelDrawVelocity", this.wheelDrawVelocity);
            this.skidThreashold = this.getProperty("skidThreashold", this.skidThreashold);
            this.smokeIntensity = this.getProperty("smokeIntensity", this.smokeIntensity);
            this.smokeOpacity = this.getProperty("smokeOpacity", this.smokeOpacity);
            this.smokeDonuts = this.getProperty("smokeDonuts", this.smokeDonuts);
            this.steeringWheelAxis = this.getProperty("steeringWheelAxis", this.steeringWheelAxis);
            this.maxSteeringAngle = this.getProperty("maxSteeringAngle", this.maxSteeringAngle);
            this.maxSteeringSpeed = this.getProperty("maxSteeringSpeed", this.maxSteeringSpeed);
            this.frontLeftWheelTrans = this.getProperty("frontLeftWheelMesh", this.frontLeftWheelTrans);
            this.frontRightWheelTrans = this.getProperty("frontRightWheelMesh", this.frontRightWheelTrans);
            this.backLeftWheelTrans = this.getProperty("rearLeftWheelMesh", this.backLeftWheelTrans);
            this.backRightWheelTrans = this.getProperty("rearRightWheelMesh", this.backRightWheelTrans);
            this.brakeLightsTrans = this.getProperty("brakeLightsMesh", this.brakeLightsTrans);
            this.reverseLightsTrans = this.getProperty("reverseLightsMesh", this.reverseLightsTrans);
            const smokeTextureInfo = this.getProperty("smokeTexture");
            if (smokeTextureInfo != null) {
                this.smokeTexture = UNITY.Utilities.ParseTexture(smokeTextureInfo, this.scene);
            }
            if (this.linkTrackManager === true)
                PROJECT.RaceTrackManager.RegisterVehicle(this.transform);
            this._animator = this.getComponent("UNITY.AnimationState");
            if (this._animator == null) {
                const animationNode = this.getChildWithScript("UNITY.AnimationState");
                if (animationNode != null) {
                    this._animator = UNITY.SceneManager.FindScriptComponent(animationNode, "UNITY.AnimationState");
                }
                else {
                    // DEBUG: UNITY.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                }
            }
            this._engineAudioSource = this.getComponent("UNITY.AudioSource");
            if (this._engineAudioSource == null)
                UNITY.SceneManager.LogWarning("No engine audio source manager found for: " + this.transform.name);
            const steeringWheelNode = this.getProperty("steeringWheelHub");
            if (steeringWheelNode != null && steeringWheelNode.name != null && steeringWheelNode.name !== "") {
                this.steeringWheelHub = this.getChildNode(steeringWheelNode.name, UNITY.SearchType.IndexOf, false);
            }
            const brakeLightslName = (this.brakeLightsTrans != null && this.brakeLightsTrans.name != null && this.brakeLightsTrans.name !== "") ? this.brakeLightsTrans.name : null;
            const reverseLightslName = (this.reverseLightsTrans != null && this.reverseLightsTrans.name != null && this.reverseLightsTrans.name !== "") ? this.reverseLightsTrans.name : null;
            const frontLeftWheelName = (this.frontLeftWheelTrans != null && this.frontLeftWheelTrans.name != null && this.frontLeftWheelTrans.name !== "") ? this.frontLeftWheelTrans.name : null;
            const frontRightWheelName = (this.frontRightWheelTrans != null && this.frontRightWheelTrans.name != null && this.frontRightWheelTrans.name !== "") ? this.frontRightWheelTrans.name : null;
            const backLeftWheelName = (this.backLeftWheelTrans != null && this.backLeftWheelTrans.name != null && this.backLeftWheelTrans.name !== "") ? this.backLeftWheelTrans.name : null;
            const backRightWheelName = (this.backRightWheelTrans != null && this.backRightWheelTrans.name != null && this.backRightWheelTrans.name !== "") ? this.backRightWheelTrans.name : null;
            if (brakeLightslName != null) {
                this.brakeLightsMesh = this.getChildNode(brakeLightslName, UNITY.SearchType.IndexOf, false);
                if (this.brakeLightsMesh != null) {
                    this.brakeLightsMesh.isVisible = false;
                }
            }
            if (reverseLightslName != null) {
                this.reverseLightsMesh = this.getChildNode(reverseLightslName, UNITY.SearchType.IndexOf, false);
                if (this.reverseLightsMesh != null) {
                    this.reverseLightsMesh.isVisible = false;
                }
            }
            this.frontLeftWheelMesh = this.getChildNode(frontLeftWheelName, UNITY.SearchType.IndexOf, false);
            if (this.frontLeftWheelMesh != null) {
                this.frontLeftWheelMesh.spinner = UNITY.SceneManager.FindChildTransformNode(this.frontLeftWheelMesh, "Wheel", UNITY.SearchType.IndexOf, true);
                this.frontLeftWheelEmitter = new BABYLON.AbstractMesh("Emitter_FL");
                this.frontLeftWheelEmitter.parent = this.frontLeftWheelMesh.spinner || this.frontLeftWheelMesh;
                this.frontLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.frontLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FL", this.frontLeftWheelEmitter);
            }
            this.frontRightWheelMesh = this.getChildNode(frontRightWheelName, UNITY.SearchType.IndexOf, false);
            if (this.frontRightWheelMesh != null) {
                this.frontRightWheelMesh.spinner = UNITY.SceneManager.FindChildTransformNode(this.frontRightWheelMesh, "Wheel", UNITY.SearchType.IndexOf, true);
                this.frontRightWheelEmitter = new BABYLON.AbstractMesh("Emitter_FR");
                this.frontRightWheelEmitter.parent = this.frontRightWheelMesh.spinner || this.frontRightWheelMesh;
                this.frontRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.frontRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FR", this.frontRightWheelEmitter);
            }
            this.backLeftWheelMesh = this.getChildNode(backLeftWheelName, UNITY.SearchType.IndexOf, false);
            if (this.backLeftWheelMesh != null) {
                this.backLeftWheelMesh.spinner = UNITY.SceneManager.FindChildTransformNode(this.backLeftWheelMesh, "Wheel", UNITY.SearchType.IndexOf, true);
                this.backLeftWheelEmitter = new BABYLON.AbstractMesh("Emitter_RL");
                this.backLeftWheelEmitter.parent = this.backLeftWheelMesh.spinner || this.backLeftWheelMesh;
                this.backLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.backLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RL", this.backLeftWheelEmitter);
            }
            this.backRightWheelMesh = this.getChildNode(backRightWheelName, UNITY.SearchType.IndexOf, false);
            if (this.backRightWheelMesh != null) {
                this.backRightWheelMesh.spinner = UNITY.SceneManager.FindChildTransformNode(this.backRightWheelMesh, "Wheel", UNITY.SearchType.IndexOf, true);
                this.backRightWheelEmitter = new BABYLON.AbstractMesh("Emitter_RR");
                this.backRightWheelEmitter.parent = this.backRightWheelMesh.spinner || this.backRightWheelMesh;
                this.backRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.backRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RR", this.backRightWheelEmitter);
            }
            // ..
            // Setup Skid Audio Sources
            // ..
            if (this._skidAudioSource == null && this.backRightWheelMesh != null)
                this._skidAudioSource = UNITY.SceneManager.FindScriptComponent(this.backRightWheelMesh, "UNITY.AudioSource");
            if (this._skidAudioSource == null && this.backLeftWheelMesh != null)
                this._skidAudioSource = UNITY.SceneManager.FindScriptComponent(this.backLeftWheelMesh, "UNITY.AudioSource");
            if (this._skidAudioSource == null && this.frontRightWheelMesh != null)
                this._skidAudioSource = UNITY.SceneManager.FindScriptComponent(this.frontRightWheelMesh, "UNITY.AudioSource");
            if (this._skidAudioSource == null && this.frontLeftWheelMesh != null)
                this._skidAudioSource = UNITY.SceneManager.FindScriptComponent(this.frontLeftWheelMesh, "UNITY.AudioSource");
            if (this._skidAudioSource == null)
                UNITY.SceneManager.LogWarning("No skid audio source manager found for: " + this.transform.name);
        }
        start() {
            this.m_positionCenter.set(0, 0, -this.centerOfMass);
        }
        update() {
            if (UNITY.EntityController.HasNetworkEntity(this.transform)) {
                this.lastPitch = UNITY.EntityController.QueryBufferedAttribute(this.transform, 0); // Pitch
                this.lastBrake = UNITY.EntityController.QueryBufferedAttribute(this.transform, 1); // Brake
                this.lastReverse = UNITY.EntityController.QueryBufferedAttribute(this.transform, 2); // Reverse
                this.lastBurnout = UNITY.EntityController.QueryBufferedAttribute(this.transform, 3); // Burnout
                this.lastSKID_FL = UNITY.EntityController.QueryBufferedAttribute(this.transform, 4); // SKID_FL
                this.lastSKID_FR = UNITY.EntityController.QueryBufferedAttribute(this.transform, 5); // SKID_FR
                this.lastSKID_RL = UNITY.EntityController.QueryBufferedAttribute(this.transform, 6); // SKID_RL
                this.lastSKID_RR = UNITY.EntityController.QueryBufferedAttribute(this.transform, 7); // SKID_RR
                this.lastSPIN_FL = UNITY.EntityController.QueryBufferedAttribute(this.transform, 8); // SPIN_FL
                this.lastSPIN_FR = UNITY.EntityController.QueryBufferedAttribute(this.transform, 9); // SPIN_FR
                this.lastSPIN_RL = UNITY.EntityController.QueryBufferedAttribute(this.transform, 10); // SPIN_RL
                this.lastSPIN_RR = UNITY.EntityController.QueryBufferedAttribute(this.transform, 11); // SPIN_RR
                this.lastSteering = UNITY.EntityController.QueryBufferedAttribute(this.transform, 12); // Steering
            }
            this.updateVehicleProperties();
        }
        destroy() {
            /* Destroy component function */
        }
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Private Worker Functions
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        updateVehicleProperties() {
            //UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.transform.position, this.m_positionCenter); // Note: This Correct Center Of Mass Offset
            this.m_linearVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.getDeltaSeconds());
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.wheelDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.wheelDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            this.castWheelContactRays();
            // ..
            // Update Engine Pitching
            // ..
            if (this.playVehicleSounds === true) {
                if (this._engineAudioSource != null) {
                    const engineSoundClip = this._engineAudioSource.getSoundClip();
                    if (engineSoundClip != null)
                        engineSoundClip.setPlaybackRate(this.lastPitch);
                }
            }
            const SPIN_FL_Transform = this.frontLeftWheelMesh.spinner;
            const SPIN_FR_Transform = this.frontRightWheelMesh.spinner;
            const SPIN_RL_Transform = this.backLeftWheelMesh.spinner;
            const SPIN_RR_Transform = this.backRightWheelMesh.spinner;
            if (SPIN_FL_Transform != null && SPIN_FL_Transform.rotationQuaternion != null) {
                const SPIN_FL_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_FL, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_FL_Transform.rotationQuaternion, SPIN_FL_Rotation, 0.5, SPIN_FL_Transform.rotationQuaternion);
            }
            if (SPIN_FR_Transform != null && SPIN_FR_Transform.rotationQuaternion != null) {
                const SPIN_FR_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_FR, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_FR_Transform.rotationQuaternion, SPIN_FR_Rotation, 0.5, SPIN_FR_Transform.rotationQuaternion);
            }
            if (SPIN_RL_Transform != null && SPIN_RL_Transform.rotationQuaternion != null) {
                const SPIN_RL_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_RL, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_RL_Transform.rotationQuaternion, SPIN_RL_Rotation, 0.5, SPIN_RL_Transform.rotationQuaternion);
            }
            if (SPIN_RR_Transform != null && SPIN_RR_Transform.rotationQuaternion != null) {
                const SPIN_RR_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_RR, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_RR_Transform.rotationQuaternion, SPIN_RR_Rotation, 0.5, SPIN_RR_Transform.rotationQuaternion);
            }
            // ..
            // Update Smoke Instensity
            // ..
            this.smokeDonuts = BABYLON.Scalar.Clamp(this.smokeDonuts, 1, 10);
            this.smokeIntensityFactor = this.smokeIntensity;
            if (this.lastBurnout > 0)
                this.smokeIntensityFactor *= this.smokeDonuts;
            // ..
            // Update Front Left Wheel
            // ..
            if (this.lastSKID_FL > 0 && this.frontLeftContact === true) {
                const skidScaleFL = BABYLON.Scalar.Normalize(this.lastSKID_FL, this.skidThreashold, 1.0);
                this.m_frontLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.frontLeftContactPoint, this.frontLeftContactNormal, skidScaleFL, this.m_frontLeftWheelSkid);
                if (this.frontLeftWheelParticle != null) {
                    if (this.frontLeftWheelParticle.isStarted() === false) {
                        this.frontLeftWheelParticle.start();
                    }
                    const smoke_FL = this.lastSKID_FL * this.lastSKID_FL;
                    this.frontLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FL;
                    this.frontLeftWheelParticle.minSize = 0.2 * smoke_FL + 0.2;
                    this.frontLeftWheelParticle.maxSize = 1.5 * smoke_FL + 1.2;
                }
            }
            else {
                if (this.frontLeftWheelParticle != null)
                    this.frontLeftWheelParticle.emitRate = 0;
                this.m_frontLeftWheelSkid = -1;
            }
            // ..
            // Update Front Right Wheel
            // ..
            if (this.lastSKID_FR > 0 && this.frontRightContact === true) {
                const skidScaleFR = BABYLON.Scalar.Normalize(this.lastSKID_FR, this.skidThreashold, 1.0);
                this.m_frontRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.frontRightContactPoint, this.frontRightContactNormal, skidScaleFR, this.m_frontRightWheelSkid);
                if (this.frontRightWheelParticle != null) {
                    if (this.frontRightWheelParticle.isStarted() === false) {
                        this.frontRightWheelParticle.start();
                    }
                    const smoke_FR = this.lastSKID_FR * this.lastSKID_FR;
                    this.frontRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FR;
                    this.frontRightWheelParticle.minSize = 0.2 * smoke_FR + 0.2;
                    this.frontRightWheelParticle.maxSize = 1.5 * smoke_FR + 1.2;
                }
            }
            else {
                if (this.frontRightWheelParticle != null)
                    this.frontRightWheelParticle.emitRate = 0;
                this.m_frontRightWheelSkid = -1;
            }
            this.PITCH_FL = this.lastSKID_FL;
            this.PITCH_FR = this.lastSKID_FR;
            if (this.lastBurnout > 0) {
                this.PITCH_FL *= this.burnoutWheelPitch;
                this.PITCH_FR *= this.burnoutWheelPitch;
            }
            this.PITCH_FL *= 0.75; // 75% Skid For Front Wheels
            this.PITCH_FR *= 0.75; // 75% Skid For Front Wheels
            // ..
            // Update Rear Left Wheel
            // ..
            if (this.lastSKID_RL > 0 && this.rearLeftContact === true) {
                const skidScaleRL = BABYLON.Scalar.Normalize(this.lastSKID_RL, this.skidThreashold, 1.0);
                this.m_backLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.rearLeftContactPoint, this.rearLeftContactNormal, skidScaleRL, this.m_backLeftWheelSkid);
                if (this.backLeftWheelParticle != null) {
                    if (this.backLeftWheelParticle.isStarted() === false) {
                        this.backLeftWheelParticle.start();
                    }
                    const smoke_RL = this.lastSKID_RL * this.lastSKID_RL;
                    this.backLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RL;
                    this.backLeftWheelParticle.minSize = 0.2 * smoke_RL + 0.2;
                    this.backLeftWheelParticle.maxSize = 1.5 * smoke_RL + 1.2;
                }
            }
            else {
                if (this.backLeftWheelParticle != null)
                    this.backLeftWheelParticle.emitRate = 0;
                this.m_backLeftWheelSkid = -1;
            }
            // ..
            // Update Rear Right Wheel
            // ..
            if (this.lastSKID_RR > 0 && this.rearRightContact === true) {
                const skidScaleRR = BABYLON.Scalar.Normalize(this.lastSKID_RR, this.skidThreashold, 1.0);
                this.m_backRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.rearRightContactPoint, this.rearRightContactNormal, skidScaleRR, this.m_backRightWheelSkid);
                if (this.backRightWheelParticle != null) {
                    if (this.backRightWheelParticle.isStarted() === false) {
                        this.backRightWheelParticle.start();
                    }
                    const smoke_RR = this.lastSKID_RR * this.lastSKID_RR;
                    this.backRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RR;
                    this.backRightWheelParticle.minSize = 0.2 * smoke_RR + 0.2;
                    this.backRightWheelParticle.maxSize = 1.5 * smoke_RR + 1.2;
                }
            }
            else {
                if (this.backRightWheelParticle != null)
                    this.backRightWheelParticle.emitRate = 0;
                this.m_backRightWheelSkid = -1;
            }
            this.PITCH_RL = this.lastSKID_RL;
            this.PITCH_RR = this.lastSKID_RR;
            if (this.lastBurnout > 0) {
                this.PITCH_RL *= this.burnoutWheelPitch;
                this.PITCH_RR *= this.burnoutWheelPitch;
            }
            ///////////////////////////////////////////
            // Play Skid Audio Track
            ///////////////////////////////////////////
            this.WHEEL_SKID_PITCH = 0;
            if (this.PITCH_FL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FL;
            if (this.PITCH_FR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FR;
            if (this.PITCH_RL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RL;
            if (this.PITCH_RR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RR;
            if (this.playVehicleSounds === true) {
                if (this._skidAudioSource != null) {
                    const skidSoundClip = this._skidAudioSource.getSoundClip();
                    if (skidSoundClip != null)
                        skidSoundClip.setPlaybackRate(this.WHEEL_SKID_PITCH);
                }
            }
            ///////////////////////////////////////////
            // Vehicle Steering Wheel Sync
            ///////////////////////////////////////////
            if (this.steeringWheelHub != null) {
                if (this.steeringWheelHub.rotationQuaternion == null) {
                    this.steeringWheelHub.rotationQuaternion = BABYLON.Quaternion.FromEulerVector(this.steeringWheelHub.rotation);
                }
                const degreesSteerAngle = (this.lastSteering * this.maxSteeringAngle);
                const radiansSteerAngle = BABYLON.Tools.ToRadians(degreesSteerAngle);
                const xaxis = (this.steeringWheelAxis === 0) ? radiansSteerAngle : 0;
                const yaxis = (this.steeringWheelAxis === 1) ? radiansSteerAngle : 0;
                const zaxis = (this.steeringWheelAxis === 2) ? radiansSteerAngle : 0;
                BABYLON.Quaternion.FromEulerAnglesToRef(xaxis, yaxis, zaxis, this.steeringWheelHub.rotationQuaternion);
            }
            if (this._animator != null)
                this._animator.setFloat("TurnAngle", this.lastSteering);
            ///////////////////////////////////////////
            // Vehicle Braking Lights Check
            ///////////////////////////////////////////
            if (this.brakeLightsMesh != null) {
                this.brakeLightsMesh.isVisible = (this.lastBrake > 0);
            }
            ///////////////////////////////////////////
            // Vehicle Reverse Lights Check
            ///////////////////////////////////////////
            if (this.reverseLightsMesh != null) {
                this.reverseLightsMesh.isVisible = (this.lastReverse > 0);
            }
            ///////////////////////////////////////////
            // Reset Skid Properties
            ///////////////////////////////////////////
            if (this.lastSKID_FL === 0 && this.lastSKID_FL === 0 && this.lastSKID_FL === 0 && this.lastSKID_FL === 0) {
                this.smokeIntensityFactor = 0;
            }
        }
        castWheelContactRays() {
            let raycast = null;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint.set(0, 0, 0);
            this.frontRightContactPoint.set(0, 0, 0);
            this.rearLeftContactPoint.set(0, 0, 0);
            this.rearRightContactPoint.set(0, 0, 0);
            this.frontLeftContactNormal.set(0, 0, 0);
            this.frontRightContactNormal.set(0, 0, 0);
            this.rearLeftContactNormal.set(0, 0, 0);
            this.rearRightContactNormal.set(0, 0, 0);
            // ..
            // Front Left Raycast Positions
            // ..
            UNITY.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.startRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Left Physics Raycast
            // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.frontLeftContact = true;
                this.frontLeftContactTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.frontLeftContactPoint.copyFrom(raycast.hitPoint);
                this.frontLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Left Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.frontLeftSensorLine == null)
                    this.frontLeftSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".FrontLeftSensorLine", this.scene);
                if (this.frontLeftContact === true) {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Front Right Raycast Positions
            // ..
            UNITY.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.startRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Right Physics Raycast
            // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.frontRightContact = true;
                this.frontRightContactTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.frontRightContactPoint.copyFrom(raycast.hitPoint);
                this.frontRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Right Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.frontRightSensorLine == null)
                    this.frontRightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".FrontRightSensorLine", this.scene);
                if (this.frontRightContact === true) {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Left Raycast Positions
            // ..
            UNITY.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.startRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Left Physics Raycast
            // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.rearLeftContact = true;
                this.rearLeftContactTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.rearLeftContactPoint.copyFrom(raycast.hitPoint);
                this.rearLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Left Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.rearLeftSensorLine == null)
                    this.rearLeftSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".RearLeftSensorLine", this.scene);
                if (this.rearLeftContact === true) {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Right Raycast Positions
            // ..
            UNITY.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.startRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Right Physics Raycast
            // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.rearRightContact = true;
                this.rearRightContactTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.rearRightContactPoint.copyFrom(raycast.hitPoint);
                this.rearRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Right Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.rearRightSensorLine == null)
                    this.rearRightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".RearRightSensorLine", this.scene);
                if (this.rearRightContact === true) {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
        }
        createSmokeParticleSystem(name, emitter) {
            const result = new BABYLON.ParticleSystem(name, 10000, this.scene);
            result.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD;
            result.particleTexture = this.smokeTexture;
            result.emitter = emitter;
            result.emitRate = 0;
            result.updateSpeed = 0.01;
            // change size and speed
            result.minSize = 0.2;
            result.maxSize = 1.3;
            result.minAngularSpeed = -1.5;
            result.maxAngularSpeed = 1.5;
            // changed lifetime to control shape of the cloud in conjunction with velocity gradient
            result.minLifeTime = 3.0;
            result.maxLifeTime = 5.0;
            // adding velocity over time to prevent large bloom of particles by launching them fast and then slowing them down GPU particles don't take a gradient on velocity, but the reduction in velocity over time is worth the trade off for less randomization
            result.addVelocityGradient(0, 1);
            result.addVelocityGradient(0.1, 0.7);
            result.addVelocityGradient(0.7, 0.2);
            result.addVelocityGradient(1.0, 0.05);
            // reduced the emit rate to reduce bloom of particles in the center of mass
            result.gravity = new BABYLON.Vector3(0, -0.1, 0);
            result.minEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.maxEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.direction1 = new BABYLON.Vector3(-1, -1, -1);
            result.direction2 = new BABYLON.Vector3(1, 1, 1);
            // The color1, color2, colorDead pattern is overridden by color gradient so is unnecessary
            result.color1 = new BABYLON.Color4(0.95, 0.95, 0.95, this.smokeOpacity);
            result.color2 = new BABYLON.Color4(0.85, 0.85, 0.85, this.smokeOpacity);
            result.colorDead = new BABYLON.Color4(0.9, 0.9, 0.9, (this.smokeOpacity * 0.5));
            // Changed the color gradient to add a second value for randomization and ramped the color down further to create more texture with alpha blending
            //result.addColorGradient(0.0, new BABYLON.Color4(1, 1, 1, 0.0), new BABYLON.Color4(0.7, 0.7, 0.7, 0.0));
            //result.addColorGradient(0.2, new BABYLON.Color4(0.7, 0.7, 0.7, 0.2), new BABYLON.Color4(0.6, 0.6, 0.6, 0.2));
            //result.addColorGradient(0.6, new BABYLON.Color4(0.6, 0.6, 0.6, 0.1),new BABYLON.Color4(0.4, 0.4, 0.4, 0.1));
            //result.addColorGradient(1.0, new BABYLON.Color4(0.3, 0.3, 0.3, 0.0),new BABYLON.Color4(0.1, 0.1, 0.1, 0.0));            
            return result;
        }
    }
    RemoteCarController.ShowSensorLines = false; // Note: Disable Debug Mode Sensors
    PROJECT.RemoteCarController = RemoteCarController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon skidmark section class (Native Bullet Physics 2.82)
     * @class SkidMarkSection
     */
    class SkidMarkSection {
        constructor() {
            this.Pos = BABYLON.Vector3.Zero();
            this.Normal = BABYLON.Vector3.Zero();
            this.Tangent = BABYLON.Vector4.Zero();
            this.Posl = BABYLON.Vector3.Zero();
            this.Posr = BABYLON.Vector3.Zero();
            this.Intensity = 0.0;
            this.LastIndex = -1;
        }
    }
    PROJECT.SkidMarkSection = SkidMarkSection;
    /**
     * Babylon Script Component
     * @class SkidMarkManager
     */
    class SkidMarkManager extends UNITY.ScriptComponent {
        constructor(transform, scene, properties = {}) {
            super(transform, scene, properties);
            SkidMarkManager.MAX_MARKS = this.getProperty("maxSections", SkidMarkManager.MAX_MARKS);
            SkidMarkManager.MARK_COLOR = UNITY.Utilities.ParseColor3(this.getProperty("textureColor"), SkidMarkManager.MARK_COLOR);
            SkidMarkManager.MARK_WIDTH = this.getProperty("textureWidth", SkidMarkManager.MARK_WIDTH);
            SkidMarkManager.GROUND_OFFSET = this.getProperty("groundOffset", SkidMarkManager.GROUND_OFFSET);
            SkidMarkManager.GPU_TRIANGLES = this.getProperty("gpuQuadIndices", SkidMarkManager.GPU_TRIANGLES);
            SkidMarkManager.TEXTURE_MARKS = this.getProperty("textureMarks", SkidMarkManager.TEXTURE_MARKS);
            SkidMarkManager.TEX_INTENSITY = this.getProperty("textureIntensity", SkidMarkManager.TEX_INTENSITY);
            SkidMarkManager.MIN_DISTANCE = this.getProperty("textureDistance", SkidMarkManager.MIN_DISTANCE);
            SkidMarkManager.MIN_SQR_DISTANCE = (SkidMarkManager.MIN_DISTANCE * SkidMarkManager.MIN_DISTANCE);
        }
        start() { SkidMarkManager.CreateSkidMarkManager(this.scene); }
        update() { SkidMarkManager.UpdateSkidMarkManager(); }
        static AddSkidMarkSegment(pos, normal, intensity, lastIndex) {
            if (SkidMarkManager.SkidMarkMesh == null)
                return null;
            SkidMarkManager.TempVector3_POS.set(0, 0, 0);
            SkidMarkManager.TempVector3_DIR.set(0, 0, 0);
            SkidMarkManager.TempVector3_XDIR.set(0, 0, 0);
            SkidMarkManager.TempVector3_SDIR.set(0, 0, 0);
            // ..
            if (intensity > 1.0)
                intensity = 1.0;
            else if (intensity < 0.0)
                return -1.0;
            // ..
            if (lastIndex > 0) {
                pos.subtractToRef(SkidMarkManager.SkidMarkSections[lastIndex].Pos, SkidMarkManager.TempVector3_POS);
                const sqrDistance = SkidMarkManager.TempVector3_POS.lengthSquared();
                if (sqrDistance < SkidMarkManager.MIN_SQR_DISTANCE)
                    return lastIndex;
            }
            // ..
            const curSection = SkidMarkManager.SkidMarkSections[SkidMarkManager.SkidMarkIndex];
            normal.scaleToRef(SkidMarkManager.GROUND_OFFSET, SkidMarkManager.TempVector3_POS);
            pos.addToRef(SkidMarkManager.TempVector3_POS, curSection.Pos);
            curSection.Normal.copyFrom(normal);
            curSection.Intensity = (intensity * SkidMarkManager.TEX_INTENSITY);
            curSection.LastIndex = lastIndex;
            // ..
            if (lastIndex != -1) {
                const lastSection = SkidMarkManager.SkidMarkSections[lastIndex];
                curSection.Pos.subtractToRef(lastSection.Pos, SkidMarkManager.TempVector3_DIR);
                BABYLON.Vector3.CrossToRef(SkidMarkManager.TempVector3_DIR, normal, SkidMarkManager.TempVector3_XDIR);
                SkidMarkManager.TempVector3_XDIR.normalizeToRef(SkidMarkManager.TempVector3_XDIR);
                // ..
                SkidMarkManager.TempVector3_XDIR.scaleToRef(SkidMarkManager.MARK_WIDTH * 0.5, SkidMarkManager.TempVector3_SDIR);
                curSection.Pos.addToRef(SkidMarkManager.TempVector3_SDIR, curSection.Posl);
                curSection.Pos.subtractToRef(SkidMarkManager.TempVector3_SDIR, curSection.Posr);
                curSection.Tangent.set(SkidMarkManager.TempVector3_XDIR.x, SkidMarkManager.TempVector3_XDIR.y, SkidMarkManager.TempVector3_XDIR.z, 1);
                // ..
                if (lastSection.LastIndex === -1) {
                    curSection.Pos.addToRef(SkidMarkManager.TempVector3_SDIR, lastSection.Posl);
                    curSection.Pos.subtractToRef(SkidMarkManager.TempVector3_SDIR, lastSection.Posr);
                    lastSection.Tangent.copyFrom(curSection.Tangent);
                }
            }
            // ..
            SkidMarkManager.AddSkidMarkVertexData();
            const curIndex = SkidMarkManager.SkidMarkIndex;
            SkidMarkManager.SkidMarkIndex = ++SkidMarkManager.SkidMarkIndex % SkidMarkManager.MAX_MARKS;
            return curIndex;
        }
        static CreateSkidMarkManager(scene) {
            if (SkidMarkManager.SkidMarkMesh == null) {
                const skidmarkMaterial = new BABYLON.StandardMaterial("SkidMarkMaterial", scene);
                skidmarkMaterial.backFaceCulling = false;
                skidmarkMaterial.disableLighting = true;
                skidmarkMaterial.emissiveColor = SkidMarkManager.MARK_COLOR;
                skidmarkMaterial.diffuseColor = SkidMarkManager.MARK_COLOR;
                skidmarkMaterial.diffuseTexture = UNITY.Utilities.ParseTexture(SkidMarkManager.TEXTURE_MARKS, scene);
                if (skidmarkMaterial.diffuseTexture != null) {
                    skidmarkMaterial.diffuseTexture.hasAlpha = true;
                    skidmarkMaterial.useAlphaFromDiffuseTexture = true;
                }
                skidmarkMaterial.freeze();
                SkidMarkManager.SkidMarkMesh = new BABYLON.Mesh("SkidMarkMesh", scene);
                SkidMarkManager.SkidMarkMesh.material = skidmarkMaterial;
                SkidMarkManager.SkidMarkMesh.renderingGroupId = UNITY.Utilities.DefaultRenderGroup();
                SkidMarkManager.SkidMarkMesh.alwaysSelectAsActiveMesh = true;
                SkidMarkManager.SkidMarkMesh.doNotSyncBoundingInfo = true;
                SkidMarkManager.SkidMarkMesh.receiveShadows = false;
                SkidMarkManager.SkidMarkMesh.checkCollisions = false;
                SkidMarkManager.SkidMarkMesh.useVertexColors = true;
                SkidMarkManager.SkidMarkMesh.hasVertexAlpha = true;
                SkidMarkManager.SkidMarkMesh.isPickable = false;
                // ..
                // Setup SkidMark Section Properties
                // ..
                SkidMarkManager.SkidMarkSections = new Array(SkidMarkManager.MAX_MARKS);
                for (let i = 0; i < SkidMarkManager.SkidMarkSections.length; i++) {
                    SkidMarkManager.SkidMarkSections[i] = new SkidMarkSection();
                }
                // ..
                // Setup Raw Mesh Vertex Buffer Data
                // ..
                SkidMarkManager.SkidBufferPositions = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 3);
                SkidMarkManager.SkidBufferNormals = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 3);
                SkidMarkManager.SkidBufferTangents = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 4);
                SkidMarkManager.SkidBufferColors = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 4);
                SkidMarkManager.SkidBufferUvs = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 2);
                SkidMarkManager.SkidBufferIndices = new Int32Array(SkidMarkManager.MAX_MARKS * 6);
                // ..
                // Apply Raw Vertex Buffer Data To Mesh
                // ..
                const vertexData = new BABYLON.VertexData();
                vertexData.positions = SkidMarkManager.SkidBufferPositions;
                vertexData.normals = SkidMarkManager.SkidBufferNormals;
                vertexData.tangents = SkidMarkManager.SkidBufferTangents;
                vertexData.colors = SkidMarkManager.SkidBufferColors;
                vertexData.uvs = SkidMarkManager.SkidBufferUvs;
                vertexData.indices = SkidMarkManager.SkidBufferIndices;
                vertexData.applyToMesh(SkidMarkManager.SkidMarkMesh, true);
                SkidMarkManager.SkidMarkMesh.freezeWorldMatrix();
            }
        }
        static AddSkidMarkVertexData() {
            const curr = SkidMarkManager.SkidMarkSections[SkidMarkManager.SkidMarkIndex];
            if (curr.LastIndex === -1)
                return;
            const last = SkidMarkManager.SkidMarkSections[curr.LastIndex];
            SkidMarkManager.SkidMarkUpdated = true;
            // ..
            // Update Position Buffers Directly
            // ..
            let index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferPositions[index * 3] = last.Posl.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = last.Posl.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = last.Posl.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferPositions[index * 3] = last.Posr.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = last.Posr.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = last.Posr.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferPositions[index * 3] = curr.Posl.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = curr.Posl.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = curr.Posl.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferPositions[index * 3] = curr.Posr.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = curr.Posr.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = curr.Posr.z;
            // ..
            // Update Normal Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferNormals[index * 3] = last.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = last.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = last.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferNormals[index * 3] = last.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = last.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = last.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferNormals[index * 3] = curr.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = curr.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = curr.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferNormals[index * 3] = curr.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = curr.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = curr.Normal.z;
            // ..
            // Update Tangent Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferTangents[index * 4] = last.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = last.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = last.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = last.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferTangents[index * 4] = last.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = last.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = last.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = last.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferTangents[index * 4] = curr.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = curr.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = curr.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = curr.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferTangents[index * 4] = curr.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = curr.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = curr.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = curr.Tangent.w;
            // ..
            // Update Color Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = last.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = last.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = curr.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = curr.Intensity;
            // ..
            // Update Coord Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferUvs[index * 2] = 0;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 0;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferUvs[index * 2] = 1;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 0;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferUvs[index * 2] = 0;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 1;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferUvs[index * 2] = 1;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 1;
            // ..
            // Update Triangle 1 Buffers Directly (QUAD)
            //..
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 0] = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 2] = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 1] = SkidMarkManager.SkidMarkIndex * 4 + 2;
            // ..
            // Update Triangle 2 Buffers Directly (QUAD)
            // ..
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 3] = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 5] = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 4] = SkidMarkManager.SkidMarkIndex * 4 + 3;
        }
        static UpdateSkidMarkManager() {
            if (SkidMarkManager.SkidMarkMesh != null && SkidMarkManager.SkidMarkUpdated === true) {
                SkidMarkManager.SkidMarkUpdated = false;
                if (SkidMarkManager.SkidMarkMesh.geometry != null) {
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.PositionKind, SkidMarkManager.SkidBufferPositions, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.NormalKind, SkidMarkManager.SkidBufferNormals, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.TangentKind, SkidMarkManager.SkidBufferTangents, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.ColorKind, SkidMarkManager.SkidBufferColors, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.UVKind, SkidMarkManager.SkidBufferUvs, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateIndices(SkidMarkManager.SkidBufferIndices, 0, SkidMarkManager.GPU_TRIANGLES);
                }
            }
        }
    }
    SkidMarkManager.MAX_MARKS = 1024; // Max number of marks total for everyone together
    SkidMarkManager.GROUND_OFFSET = 0.01; // Distance above surface in metres
    SkidMarkManager.GPU_TRIANGLES = true; // GPU quad triangle indices only
    SkidMarkManager.MARK_COLOR = BABYLON.Color3.Black(); // SkidMark Color
    SkidMarkManager.MARK_WIDTH = 0.3; // Width of the SkidMarks. Should match the width of the wheels
    SkidMarkManager.TEX_INTENSITY = 1.0; // Amount of the skidmark texture intensity coeffecient
    SkidMarkManager.MIN_DISTANCE = 0.1; // Distance between skid texture sections in metres. Bigger = better performance, less smooth
    SkidMarkManager.MIN_SQR_DISTANCE = (SkidMarkManager.MIN_DISTANCE * SkidMarkManager.MIN_DISTANCE);
    SkidMarkManager.TEXTURE_MARKS = null;
    SkidMarkManager.SkidBufferPositions = null;
    SkidMarkManager.SkidBufferNormals = null;
    SkidMarkManager.SkidBufferTangents = null;
    SkidMarkManager.SkidBufferColors = null;
    SkidMarkManager.SkidBufferUvs = null;
    SkidMarkManager.SkidBufferIndices = null;
    SkidMarkManager.SkidMarkSections = null;
    SkidMarkManager.SkidMarkIndex = 0;
    SkidMarkManager.SkidMarkMesh = null;
    SkidMarkManager.SkidMarkUpdated = false;
    SkidMarkManager.TempVector3_POS = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_DIR = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_XDIR = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_SDIR = new BABYLON.Vector3(0, 0, 0);
    PROJECT.SkidMarkManager = SkidMarkManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon standard rigidbody vehicle controller class (Native Bullet Physics 2.82)
     * @class StandardCarController
     */
    class StandardCarController extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.MIN_RPM = 1000;
            this.MAX_RPM = 6000;
            this._animator = null;
            this._rigidbody = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            this.steeringWheelHub = null;
            this.steeringWheelAxis = 2;
            this.maxSteeringAngle = 65.0;
            this.maxSteeringSpeed = 15.0;
            this.gearIndex = 0; // First Gear Ratio
            this.downShift = 1000;
            this.skiddingTime = 0;
            this.shiftingTime = 0;
            this.shiftingBrake = 1.0;
            this.engineForce = 0;
            this.handBraking = false;
            this.linearDamping = 0;
            this.angularDamping = 0;
            this.forwardSpeed = 0;
            this.absoluteSpeed = 0;
            this.americanSpeed = 0;
            this.gradientSpeed = 0;
            this.frontWheelPower = 0;
            this.backWheelPower = 0;
            this.wheelBrakingForce = 0;
            this.enginePitchLevel = 0;
            this.smokeIntensityFactor = 0;
            this.raycastVehicle = null;
            this.brakeLightsMesh = null;
            this.brakeLightsTrans = null;
            this.reverseLightsMesh = null;
            this.reverseLightsTrans = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelEmitter = null;
            this.frontRightWheelEmitter = null;
            this.backLeftWheelEmitter = null;
            this.backRightWheelEmitter = null;
            this.frontLeftWheelParticle = null;
            this.frontRightWheelParticle = null;
            this.backLeftWheelParticle = null;
            this.backRightWheelParticle = null;
            this.frontLeftWheelCollider = null;
            this.frontRightWheelCollider = null;
            this.backLeftWheelCollider = null;
            this.backRightWheelCollider = null;
            this.engineTorqueCurve = null;
            this.physicsSteerAngleL = 0;
            this.physicsSteerAngleR = 0;
            this.visualSteerAngleL = 0;
            this.visualSteerAngleR = 0;
            this.visualSteerBoostL = 0;
            this.visualSteerBoostR = 0;
            this.wheelRadius = 0;
            this.clutchSlip = 0;
            this.engineRPM = 0;
            this.pitchRPM = 0;
            this.shiftRPM = 0;
            this.SKID_FL = 0;
            this.SKID_FR = 0;
            this.SKID_RL = 0;
            this.SKID_RR = 0;
            this.PITCH_FL = 0;
            this.PITCH_FR = 0;
            this.PITCH_RL = 0;
            this.PITCH_RR = 0;
            this.FRONT_LEFT = -1;
            this.FRONT_RIGHT = -1;
            this.BACK_LEFT = -1;
            this.BACK_RIGHT = -1;
            this.WHEEL_SKID_PITCH = 0;
            this.SPIN_FL_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_FR_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_RL_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_RR_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.smokeTexture = null;
            this.skidThreashold = 0.65;
            this.wheelDrawVelocity = 0.02;
            this.smokeIntensity = 150;
            this.smokeOpacity = 0.1;
            this.smokeDonuts = 2.0;
            this.maxBurnoutFactor = 1.0;
            this.maxSteerBoost = 6;
            this.overSteerSpeed = 1.0;
            this.overSteerTimeout = 0.2;
            this.topEngineSpeed = 125;
            this.powerCoefficient = 1.0;
            this.frictionLerpSpeed = 0.5;
            this.topSpeedDampener = 0.15;
            this.lowSpeedSteering = 5.0;
            this.highSpeedSteering = 5.0;
            // DEPRECIATED: public rayTestingType:number = 0;
            // DEPRECIATED: public testPointCount:number = 32;
            // DEPRECIATED: public sweepPenetration:number = 0.0;
            this.stableGravityFactor = 4;
            this.smoothFlyingForce = 250;
            this.transmissionRatio = 0.75;
            this.differentialRatio = 3.55;
            this.maxFrontBraking = 0.0;
            this.maxReversePower = 0.5;
            this.minBrakingForce = 50;
            this.maxBrakingForce = 250;
            this.handBrakingForce = 2500;
            this.handBrakingTimer = 0;
            this.linearBrakingForce = 25.0;
            this.angularBrakingForce = 0.25;
            this.burnoutFrictionSlip = 1.0;
            this.burnoutTimeDelay = 1;
            this.burnoutWheelPitch = 0.85;
            this.burnoutCoefficient = 10;
            this.burnoutTriggerMark = 10;
            this.enableBurnouts = false;
            this.penaltyGroundTag = "Offroad";
            this.minPenaltySpeed = 65;
            this.linearWheelDrag = 0.05;
            this.frictionWheelSlip = 0.215;
            this.showSensorLines = false;
            this.linkTrackManager = true;
            this.playVehicleSounds = true;
            this.postNetworkAttributes = false;
            this.wheelDriveType = 0;
            this.gearBoxMultiplier = 1.0;
            this.gearBoxMaxPitching = 6500;
            this.gearBoxShiftChange = 5100;
            this.gearBoxShiftDelay = 0.35;
            this.gearBoxShiftRatios = [4.17, 2.34, 1.82, 1.54, 0.96, 0.68];
            this.gearBoxShiftRanges = [1000, 2400, 2600, 2600, 2800, 2800];
            this.throttleBrakingForce = 0;
            this.throttleEngineSpeed = 0;
            this.brakeRecoveryDelay = 0.25;
            this.brakeRecoverySpeed = 0.25;
            this.skidRecoverySpeed = 0.25;
            this.burnoutLerpSpeed = 0.05;
            this.ackermanWheelBase = 2.5;
            this.ackermanRearTrack = 1.5;
            this.ackermanTurnRadius = 15;
            this.ackermanTurnFactor = 1;
            this.m_frontLeftWheel = null;
            this.m_frontRightWheel = null;
            this.m_backLeftWheel = null;
            this.m_backRightWheel = null;
            this.m_frontLeftWheelSkid = -1;
            this.m_frontRightWheelSkid = -1;
            this.m_backLeftWheelSkid = -1;
            this.m_backRightWheelSkid = -1;
            this.m_angularDampener = new BABYLON.Vector3(1.0, 1.0, 1.0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            ////////////////////////////////////////////////////
            // Public Vehicle Controller Movement Functions   //
            ////////////////////////////////////////////////////
            this.burnoutTimer = 0;
            this.restoreTimer = 0;
            this.cooldownTimer = 0;
            this.wheelDonuts = false;
            this.wheelBurnout = false;
            this.wheelSkidding = false;
            this.donutSpinTime = 0;
            this.currentForward = 0;
            this.currentTurning = 0;
            this.currentSkidding = false;
            this.currentDonuts = false;
            this.animatorSteerAngle = 0;
            /////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Wheel Contact Raycast System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftSensorLine = null;
            this.frontRightSensorLine = null;
            this.rearLeftSensorLine = null;
            this.rearRightSensorLine = null;
            this.frontLeftFrictionLerping = false;
            this.frontRightFrictionLerping = false;
            this.rearLeftFrictionLerping = false;
            this.rearRightFrictionLerping = false;
            this.frontLeftFrictionPenalty = false;
            this.frontRightFrictionPenalty = false;
            this.rearLeftFrictionPenalty = false;
            this.rearRightFrictionPenalty = false;
            this.startRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.downDistance = 2.0;
        }
        getFootBraking() { return (this.currentForward < 0 && this.forwardSpeed >= 0); }
        getHandBraking() { return this.handBraking; }
        getLinearVelocity() { return this.m_linearVelocity; }
        getCurrentForward() { return this.currentForward; }
        getCurrentTurning() { return this.currentTurning; }
        getCurrentSkidding() { return this.currentSkidding; }
        getCurrentDonuts() { return this.currentDonuts; }
        getReverseThrottle() { return (this.currentForward < 0 && this.forwardSpeed < 0); }
        getEnginePitchLevel() { return this.enginePitchLevel; }
        // DEPRECIATED: public getFrontLeftSpin():BABYLON.Quaternion { return (this.m_frontLeftWheel != null && this.m_frontLeftWheel.spinner != null && this.m_frontLeftWheel.spinner.rotationQuaternion != null) ? this.m_frontLeftWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getFrontRightSpin():BABYLON.Quaternion { return (this.m_frontRightWheel != null && this.m_frontRightWheel.spinner != null && this.m_frontRightWheel.spinner.rotationQuaternion != null) ? this.m_frontRightWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getBackLeftSpin():BABYLON.Quaternion { return (this.m_backLeftWheel != null && this.m_backLeftWheel.spinner != null && this.m_backLeftWheel.spinner.rotationQuaternion != null) ? this.m_backLeftWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getBackRightSpin():BABYLON.Quaternion { return (this.m_backRightWheel != null && this.m_backRightWheel.spinner != null && this.m_backRightWheel.spinner.rotationQuaternion != null) ? this.m_backRightWheel.spinner.rotationQuaternion : null; }
        getCurrentBurnout() { return this.wheelBurnout || this.restoreTimer > 0; }
        getFrontLeftSkid() { return this.SKID_FL; }
        getFrontRightSkid() { return this.SKID_FR; }
        getBackLeftSkid() { return this.SKID_RL; }
        getBackRightSkid() { return this.SKID_RR; }
        getWheelSkidPitch() { return this.WHEEL_SKID_PITCH; }
        getRigidbodyPhysics() { return this._rigidbody; }
        getRaycastVehicle() { return this.raycastVehicle; }
        getGradientSpeed() { return this.gradientSpeed; }
        getForwardSpeed() { return this.forwardSpeed; }
        getAbsoluteSpeed() { return this.absoluteSpeed; }
        getAmericanSpeed() { return this.americanSpeed; }
        getNormalizedSpeed() { return this.americanSpeed / this.topEngineSpeed; }
        getTopEngineSpeed() { return this.topEngineSpeed; }
        getMaxReversePower() { return this.maxReversePower; }
        getCurrentGearIndex() { return this.gearIndex; }
        getCurrentEngineRPM() { return this.engineRPM; }
        getCurrentEngineForce() { return this.engineForce; }
        getCurrentEnginePitch() { return BABYLON.Scalar.Clamp((this.pitchRPM / this.gearBoxMaxPitching) + 0.1); }
        getGearShiftRatioCount() { return (this.gearBoxShiftRatios != null) ? this.gearBoxShiftRatios.length : 0; }
        getSmokeTextureMask() { return this.smokeTexture; }
        getBrakeLightsMesh() { return this.brakeLightsMesh; }
        getReverseLightsMesh() { return this.reverseLightsMesh; }
        getFrontLeftWheelNode() { return this.frontLeftWheelMesh; }
        getFrontRightWheelNode() { return this.frontRightWheelMesh; }
        getBackLeftWheelNode() { return this.backLeftWheelMesh; }
        getBackRightWheelNode() { return this.backRightWheelMesh; }
        getWheelBurnoutEnabled() { return this.wheelBurnout; }
        getWheelDonutsEnabled() { return this.wheelDonuts; }
        getCurrentDonutSpinTime() { return this.donutSpinTime; }
        getSmokeIntensityFactor() { return this.smokeIntensityFactor; }
        getWheelVelocityOffset() { return this.m_velocityOffset; }
        awake() { this.awakeVehicleState(); }
        start() { this.initVehicleState(); }
        update() { this.updateVehicleState(); }
        destroy() { this.destroyVehicleState(); }
        //////////////////////////////////////////////////
        // Protected Vehicle Movement State Functions //
        //////////////////////////////////////////////////
        awakeVehicleState() {
            this.engineForce = 0;
            this.frontWheelPower = 0;
            this.backWheelPower = 0;
            this.wheelBrakingForce = 0;
            // DEPRECIATED: this.rayTestingType = this.getProperty("rayTestingType", this.rayTestingType);
            // DEPRECIATED: this.testPointCount = this.getProperty("testPointCount", this.testPointCount);
            // DEPRECIATED: this.sweepPenetration = this.getProperty("sweepPenetration", this.sweepPenetration);
            this.ackermanWheelBase = this.getProperty("ackermanWheelBase", this.ackermanWheelBase);
            this.ackermanRearTrack = this.getProperty("ackermanRearTrack", this.ackermanRearTrack);
            this.ackermanTurnRadius = this.getProperty("ackermanTurnRadius", this.ackermanTurnRadius);
            this.wheelDrawVelocity = this.getProperty("wheelDrawVelocity", this.wheelDrawVelocity);
            this.skidThreashold = this.getProperty("skidThreashold", this.skidThreashold);
            this.smokeIntensity = this.getProperty("smokeIntensity", this.smokeIntensity);
            this.smokeOpacity = this.getProperty("smokeOpacity", this.smokeOpacity);
            this.smokeDonuts = this.getProperty("smokeDonuts", this.smokeDonuts);
            this.topEngineSpeed = this.getProperty("topEngineSpeed", this.topEngineSpeed);
            this.powerCoefficient = this.getProperty("powerCoefficient", this.powerCoefficient);
            this.maxFrontBraking = this.getProperty("maxFrontBraking", this.maxFrontBraking);
            this.maxReversePower = this.getProperty("maxReversePower", this.maxReversePower);
            this.penaltyGroundTag = this.getProperty("penaltyGroundTag", this.penaltyGroundTag);
            this.minPenaltySpeed = this.getProperty("minPenaltySpeed", this.minPenaltySpeed);
            this.linearWheelDrag = this.getProperty("linearWheelDrag", this.linearWheelDrag);
            this.frictionWheelSlip = this.getProperty("frictionWheelSlip", this.frictionWheelSlip);
            this.showSensorLines = this.getProperty("showSensorLines", this.showSensorLines);
            this.stableGravityFactor = this.getProperty("stableGravityFactor", this.stableGravityFactor);
            this.smoothFlyingForce = this.getProperty("smoothFlyingForce", this.smoothFlyingForce);
            this.frictionLerpSpeed = this.getProperty("frictionLerpSpeed", this.frictionLerpSpeed);
            this.maxBurnoutFactor = this.getProperty("maxBurnoutFactor", this.maxBurnoutFactor);
            this.maxSteerBoost = this.getProperty("maxSteerBoost", this.maxSteerBoost);
            this.overSteerSpeed = this.getProperty("overSteerSpeed", this.overSteerSpeed);
            this.overSteerTimeout = this.getProperty("overSteerTimeout", this.overSteerTimeout);
            this.wheelDriveType = this.getProperty("wheelDriveType", this.wheelDriveType);
            this.minBrakingForce = this.getProperty("minBrakingForce", this.minBrakingForce);
            this.maxBrakingForce = this.getProperty("maxBrakingForce", this.maxBrakingForce);
            this.handBrakingForce = this.getProperty("handBrakingForce", this.handBrakingForce);
            this.brakeRecoveryDelay = this.getProperty("brakeRecoveryDelay", this.brakeRecoveryDelay);
            this.brakeRecoverySpeed = this.getProperty("brakeRecoverySpeed", this.brakeRecoverySpeed);
            this.skidRecoverySpeed = this.getProperty("skidRecoverySpeed", this.skidRecoverySpeed);
            this.linearBrakingForce = this.getProperty("linearBrakingForce", this.linearBrakingForce);
            this.angularBrakingForce = this.getProperty("angularBrakingForce", this.angularBrakingForce);
            this.steeringWheelAxis = this.getProperty("steeringWheelAxis", this.steeringWheelAxis);
            this.maxSteeringAngle = this.getProperty("maxSteeringAngle", this.maxSteeringAngle);
            this.maxSteeringSpeed = this.getProperty("maxSteeringSpeed", this.maxSteeringSpeed);
            this.topSpeedDampener = this.getProperty("topSpeedDampener", this.topSpeedDampener);
            this.lowSpeedSteering = this.getProperty("lowSpeedSteering", this.lowSpeedSteering);
            this.highSpeedSteering = this.getProperty("highSpeedSteering", this.highSpeedSteering);
            this.brakeLightsTrans = this.getProperty("brakeLightsMesh", this.brakeLightsTrans);
            this.reverseLightsTrans = this.getProperty("reverseLightsMesh", this.reverseLightsTrans);
            this.frontLeftWheelTrans = this.getProperty("frontLeftWheelMesh", this.frontLeftWheelTrans);
            this.frontRightWheelTrans = this.getProperty("frontRightWheelMesh", this.frontRightWheelTrans);
            this.backLeftWheelTrans = this.getProperty("rearLeftWheelMesh", this.backLeftWheelTrans);
            this.backRightWheelTrans = this.getProperty("rearRightWheelMesh", this.backRightWheelTrans);
            this.frontLeftWheelCollider = this.getProperty("frontLeftWheelCollider", this.frontLeftWheelCollider);
            this.frontRightWheelCollider = this.getProperty("frontRightWheelCollider", this.frontRightWheelCollider);
            this.backLeftWheelCollider = this.getProperty("rearLeftWheelCollider", this.backLeftWheelCollider);
            this.backRightWheelCollider = this.getProperty("rearRightWheelCollider", this.backRightWheelCollider);
            this.burnoutFrictionSlip = this.getProperty("burnoutFrictionSlip", this.burnoutFrictionSlip);
            this.burnoutTimeDelay = this.getProperty("burnoutTimeDelay", this.burnoutTimeDelay);
            this.burnoutWheelPitch = this.getProperty("burnoutWheelPitch", this.burnoutWheelPitch);
            this.burnoutCoefficient = this.getProperty("burnoutCoefficient", this.burnoutCoefficient);
            this.burnoutTriggerMark = this.getProperty("burnoutTriggerMark", this.burnoutTriggerMark);
            this.enableBurnouts = this.getProperty("enableBurnouts", this.enableBurnouts);
            this.postNetworkAttributes = this.getProperty("postNetworkAttributes", this.postNetworkAttributes);
            this.linkTrackManager = this.getProperty("linkTrackManager", this.linkTrackManager);
            this.playVehicleSounds = this.getProperty("playVehicleSounds", this.playVehicleSounds);
            this.differentialRatio = this.getProperty("gearBoxDifferential", this.differentialRatio);
            this.transmissionRatio = this.getProperty("gearBoxOverdrive", this.transmissionRatio);
            this.gearBoxMultiplier = this.getProperty("gearBoxMultiplier", this.gearBoxMultiplier);
            this.gearBoxMaxPitching = this.getProperty("gearBoxMaxPitching", this.gearBoxMaxPitching);
            this.gearBoxShiftChange = this.getProperty("gearBoxShiftChange", this.gearBoxShiftChange);
            this.gearBoxShiftDelay = this.getProperty("gearBoxShiftDelay", this.gearBoxShiftDelay);
            this.gearBoxShiftRatios = this.getProperty("gearBoxShiftRatios", this.gearBoxShiftRatios);
            this.gearBoxShiftRanges = this.getProperty("gearBoxShiftRanges", this.gearBoxShiftRanges);
            this.MIN_RPM = this.getProperty("gearBoxMinPower", this.MIN_RPM);
            this.MAX_RPM = this.getProperty("gearBoxMaxPower", this.MAX_RPM);
            if (this.topSpeedDampener <= 0)
                this.topSpeedDampener = 0.15;
            if (this.maxBurnoutFactor <= 0)
                this.maxBurnoutFactor = 1.0;
            if (this.stableGravityFactor <= 0)
                this.stableGravityFactor = 4;
            if (this.smoothFlyingForce <= 0)
                this.smoothFlyingForce = 0;
            if (this.maxFrontBraking <= 0)
                this.maxFrontBraking = 0;
            if (this.maxReversePower <= 0)
                this.maxReversePower = 0.5;
            if (this.lowSpeedSteering <= 0)
                this.lowSpeedSteering = 5.0;
            if (this.highSpeedSteering <= 0)
                this.highSpeedSteering = 5.0;
            if (this.powerCoefficient <= 0)
                this.powerCoefficient = 1.0;
            if (this.topEngineSpeed <= 0)
                this.topEngineSpeed = 125;
            if (this.gearBoxMultiplier <= 0)
                this.gearBoxMultiplier = 1.0;
            if (this.gearBoxMaxPitching <= 0)
                this.gearBoxMaxPitching = 6500;
            if (this.gearBoxShiftChange <= 0)
                this.gearBoxShiftChange = 5100;
            if (this.gearBoxShiftDelay <= 0)
                this.gearBoxShiftDelay = 0.35;
            if (this.transmissionRatio <= 0)
                this.transmissionRatio = 1;
            if (this.differentialRatio <= 0)
                this.differentialRatio = 1;
            if (this.frictionLerpSpeed <= 0)
                this.frictionLerpSpeed = 1;
            if (this.burnoutLerpSpeed <= 0)
                this.burnoutLerpSpeed = 1;
            if (this.burnoutTimeDelay <= 0)
                this.burnoutTimeDelay = 1;
            if (this.burnoutWheelPitch <= 0)
                this.burnoutWheelPitch = 1;
            const steeringWheelNode = this.getProperty("steeringWheelHub");
            if (steeringWheelNode != null && steeringWheelNode.name != null && steeringWheelNode.name !== "") {
                this.steeringWheelHub = this.getChildNode(steeringWheelNode.name, UNITY.SearchType.IndexOf, false);
            }
            const angularDampener = this.getProperty("angularDampener");
            if (angularDampener != null)
                this.m_angularDampener = UNITY.Utilities.ParseVector3(angularDampener);
            const smokeTextureInfo = this.getProperty("smokeTexture");
            if (smokeTextureInfo != null) {
                this.smokeTexture = UNITY.Utilities.ParseTexture(smokeTextureInfo, this.scene);
            }
            const engineTorqueInfo = this.getProperty("engineTorque");
            if (engineTorqueInfo != null && engineTorqueInfo.animation != null) {
                this.engineTorqueCurve = BABYLON.Animation.Parse(engineTorqueInfo.animation);
            }
            if (this.engineTorqueCurve == null)
                UNITY.SceneManager.LogWarning("Failed to parse engine torque curve for: " + this.transform.name);
        }
        initVehicleState() {
            UNITY.Utilities.ValidateTransformQuaternion(this.transform);
            // Register Vehicle
            if (this.linkTrackManager === true)
                PROJECT.RaceTrackManager.RegisterVehicle(this.transform);
            // Setup Animator
            this._animator = this.getComponent("UNITY.AnimationState");
            if (this._animator == null) {
                const animationNode = this.getChildWithScript("UNITY.AnimationState");
                if (animationNode != null) {
                    this._animator = UNITY.SceneManager.FindScriptComponent(animationNode, "UNITY.AnimationState");
                }
                else {
                    // DEBUG: UNITY.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                }
            }
            // Setup Engine Audio
            this._engineAudioSource = this.getComponent("UNITY.AudioSource");
            if (this._engineAudioSource == null)
                UNITY.SceneManager.LogWarning("No engine audio source manager found for: " + this.transform.name);
            // Setup Raycast Vehicle
            this._rigidbody = this.getComponent("UNITY.RigidbodyPhysics");
            if (this.transform.physicsBody != null && this._rigidbody != null) {
                this.raycastVehicle = this._rigidbody.getRaycastVehicle();
                if (this.raycastVehicle != null) {
                    this.linearDamping = this.transform.physicsBody.getLinearDamping();
                    this.angularDamping = this.transform.physicsBody.getAngularDamping();
                    const brakeLightslName = (this.brakeLightsTrans != null && this.brakeLightsTrans.name != null && this.brakeLightsTrans.name !== "") ? this.brakeLightsTrans.name : null;
                    const reverseLightslName = (this.reverseLightsTrans != null && this.reverseLightsTrans.name != null && this.reverseLightsTrans.name !== "") ? this.reverseLightsTrans.name : null;
                    const frontLeftWheelName = (this.frontLeftWheelTrans != null && this.frontLeftWheelTrans.name != null && this.frontLeftWheelTrans.name !== "") ? this.frontLeftWheelTrans.name : null;
                    const frontRightWheelName = (this.frontRightWheelTrans != null && this.frontRightWheelTrans.name != null && this.frontRightWheelTrans.name !== "") ? this.frontRightWheelTrans.name : null;
                    const backLeftWheelName = (this.backLeftWheelTrans != null && this.backLeftWheelTrans.name != null && this.backLeftWheelTrans.name !== "") ? this.backLeftWheelTrans.name : null;
                    const backRightWheelName = (this.backRightWheelTrans != null && this.backRightWheelTrans.name != null && this.backRightWheelTrans.name !== "") ? this.backRightWheelTrans.name : null;
                    const frontLeftWheelLabel = (this.frontLeftWheelCollider != null && this.frontLeftWheelCollider.name != null && this.frontLeftWheelCollider.name !== "") ? this.frontLeftWheelCollider.name : null;
                    const frontRightWheelLabel = (this.frontRightWheelCollider != null && this.frontRightWheelCollider.name != null && this.frontRightWheelCollider.name !== "") ? this.frontRightWheelCollider.name : null;
                    const backLeftWheelLabel = (this.backLeftWheelCollider != null && this.backLeftWheelCollider.name != null && this.backLeftWheelCollider.name !== "") ? this.backLeftWheelCollider.name : null;
                    const backRightWheelLabel = (this.backRightWheelCollider != null && this.backRightWheelCollider.name != null && this.backRightWheelCollider.name !== "") ? this.backRightWheelCollider.name : null;
                    // Get Wheel Indexs From Wheel Names
                    if (frontLeftWheelLabel != null)
                        this.FRONT_LEFT = this.raycastVehicle.getWheelIndexByName(frontLeftWheelLabel);
                    if (frontRightWheelLabel != null)
                        this.FRONT_RIGHT = this.raycastVehicle.getWheelIndexByName(frontRightWheelLabel);
                    if (backLeftWheelLabel != null)
                        this.BACK_LEFT = this.raycastVehicle.getWheelIndexByName(backLeftWheelLabel);
                    if (backRightWheelLabel != null)
                        this.BACK_RIGHT = this.raycastVehicle.getWheelIndexByName(backRightWheelLabel);
                    // Get Brake & Reverse Lights Meshes
                    if (brakeLightslName != null) {
                        this.brakeLightsMesh = this.getChildNode(brakeLightslName, UNITY.SearchType.IndexOf, false);
                        if (this.brakeLightsMesh != null) {
                            this.brakeLightsMesh.isVisible = false;
                        }
                    }
                    if (reverseLightslName != null) {
                        this.reverseLightsMesh = this.getChildNode(reverseLightslName, UNITY.SearchType.IndexOf, false);
                        if (this.reverseLightsMesh != null) {
                            this.reverseLightsMesh.isVisible = false;
                        }
                    }
                    // Setup Wheel Info And Transform Meshes
                    if (this.raycastVehicle.getNumWheels() >= 4) {
                        if (this.BACK_LEFT >= 0 && backLeftWheelName != null) {
                            this.m_backLeftWheel = this.raycastVehicle.getWheelInfo(this.BACK_LEFT);
                            this.backLeftWheelMesh = this.getChildNode(backLeftWheelName, UNITY.SearchType.IndexOf, false);
                            if (this.backLeftWheelMesh != null) {
                                this.m_backLeftWheel.hub = this.backLeftWheelMesh;
                                this.m_backLeftWheel.spinner = UNITY.SceneManager.FindChildTransformNode(this.backLeftWheelMesh, "Wheel", UNITY.SearchType.IndexOf, true);
                                this.backLeftWheelEmitter = new BABYLON.AbstractMesh("Emitter_RL");
                                this.backLeftWheelEmitter.parent = this.m_backLeftWheel.spinner || this.backLeftWheelMesh;
                                this.backLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.backLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RL", this.backLeftWheelEmitter);
                                if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_backLeftWheel != null) {
                                        this.wheelRadius = this.m_backLeftWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.BACK_RIGHT >= 0 && backRightWheelName != null) {
                            this.m_backRightWheel = this.raycastVehicle.getWheelInfo(this.BACK_RIGHT);
                            this.backRightWheelMesh = this.getChildNode(backRightWheelName, UNITY.SearchType.IndexOf, false);
                            if (this.backRightWheelMesh != null) {
                                this.m_backRightWheel.hub = this.backRightWheelMesh;
                                this.m_backRightWheel.spinner = UNITY.SceneManager.FindChildTransformNode(this.backRightWheelMesh, "Wheel", UNITY.SearchType.IndexOf, true);
                                this.backRightWheelEmitter = new BABYLON.AbstractMesh("Emitter_RR");
                                this.backRightWheelEmitter.parent = this.m_backRightWheel.spinner || this.backRightWheelMesh;
                                this.backRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.backRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RR", this.backRightWheelEmitter);
                                if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_backRightWheel != null) {
                                        this.wheelRadius = this.m_backRightWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.FRONT_LEFT >= 0 && frontLeftWheelName != null) {
                            this.m_frontLeftWheel = this.raycastVehicle.getWheelInfo(this.FRONT_LEFT);
                            this.frontLeftWheelMesh = this.getChildNode(frontLeftWheelName, UNITY.SearchType.IndexOf, false);
                            if (this.frontLeftWheelMesh != null) {
                                this.m_frontLeftWheel.hub = this.frontLeftWheelMesh;
                                this.m_frontLeftWheel.spinner = UNITY.SceneManager.FindChildTransformNode(this.frontLeftWheelMesh, "Wheel", UNITY.SearchType.IndexOf, true);
                                this.frontLeftWheelEmitter = new BABYLON.AbstractMesh("Emitter_FL");
                                this.frontLeftWheelEmitter.parent = this.m_frontLeftWheel.spinner || this.frontLeftWheelMesh;
                                this.frontLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.frontLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FL", this.frontLeftWheelEmitter);
                                if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_frontLeftWheel != null) {
                                        this.wheelRadius = this.m_frontLeftWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.FRONT_RIGHT >= 0 && frontRightWheelName != null) {
                            this.m_frontRightWheel = this.raycastVehicle.getWheelInfo(this.FRONT_RIGHT);
                            this.frontRightWheelMesh = this.getChildNode(frontRightWheelName, UNITY.SearchType.IndexOf, false);
                            if (this.frontRightWheelMesh != null) {
                                this.m_frontRightWheel.hub = this.frontRightWheelMesh;
                                this.m_frontRightWheel.spinner = UNITY.SceneManager.FindChildTransformNode(this.frontRightWheelMesh, "Wheel", UNITY.SearchType.IndexOf, true);
                                this.frontRightWheelEmitter = new BABYLON.AbstractMesh("Emitter_FR");
                                this.frontRightWheelEmitter.parent = this.m_frontRightWheel.spinner || this.frontRightWheelMesh;
                                this.frontRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.frontRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FR", this.frontRightWheelEmitter);
                                if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_frontRightWheel != null) {
                                        this.wheelRadius = this.m_frontRightWheel.radius;
                                    }
                                }
                            }
                        }
                        // ..
                        // Setup Stabilzation
                        // ..
                        this.raycastVehicle.setSmoothFlyingImpulse(this.smoothFlyingForce);
                        this.raycastVehicle.setStabilizingForce(this.stableGravityFactor);
                        // ..
                        // Setup Collision Filter
                        // ..
                        // m_collisionFilterGroup → filterMembershipMask
                        // m_collisionFilterMask → filterCollideMask
                        // ..
                        // this.raycastVehicle.setCollisionFilterGroup(UNITY.CollisionFilters.DefaultFilter);
                        // this.raycastVehicle.setCollisionFilterMask(UNITY.CollisionFilters.StaticFilter);
                        // ..
                        // Setup Skid Audio Sources
                        // ..
                        if (this._skidAudioSource == null && this.backRightWheelMesh != null)
                            this._skidAudioSource = UNITY.SceneManager.FindScriptComponent(this.backRightWheelMesh, "UNITY.AudioSource");
                        if (this._skidAudioSource == null && this.backLeftWheelMesh != null)
                            this._skidAudioSource = UNITY.SceneManager.FindScriptComponent(this.backLeftWheelMesh, "UNITY.AudioSource");
                        if (this._skidAudioSource == null && this.frontRightWheelMesh != null)
                            this._skidAudioSource = UNITY.SceneManager.FindScriptComponent(this.frontRightWheelMesh, "UNITY.AudioSource");
                        if (this._skidAudioSource == null && this.frontLeftWheelMesh != null)
                            this._skidAudioSource = UNITY.SceneManager.FindScriptComponent(this.frontLeftWheelMesh, "UNITY.AudioSource");
                        if (this._skidAudioSource == null)
                            UNITY.SceneManager.LogWarning("No skid audio source manager found for: " + this.transform.name);
                    }
                    else {
                        UNITY.SceneManager.LogWarning("Invalid vehicle controller wheel count info for: " + this.transform.name);
                    }
                }
                else {
                    UNITY.SceneManager.LogWarning("No wheel collider information found for: " + this.transform.name);
                }
            }
            else {
                UNITY.SceneManager.LogWarning("Failed to get rigidbody component: " + this.transform.name);
            }
        }
        updateVehicleState() {
            this.m_linearVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.getDeltaSeconds());
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.wheelDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.wheelDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            this.castWheelContactRays();
        }
        destroyVehicleState() {
            this._rigidbody = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            if (this.m_frontLeftWheel != null) {
                //havokInstance.destroy(this.m_frontLeftWheel); // ???
                this.m_frontLeftWheel = null;
            }
            if (this.m_frontRightWheel != null) {
                //havokInstance.destroy(this.m_frontRightWheel); // ???
                this.m_frontRightWheel = null;
            }
            if (this.m_backLeftWheel != null) {
                //havokInstance.destroy(this.m_backLeftWheel); // ???
                this.m_backLeftWheel = null;
            }
            if (this.m_backRightWheel != null) {
                //havokInstance.destroy(this.m_backRightWheel); // ???
                this.m_backRightWheel = null;
            }
            this.raycastVehicle = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelCollider = null;
            this.frontRightWheelCollider = null;
            this.backLeftWheelCollider = null;
            this.backRightWheelCollider = null;
        }
        /** Drives the raycast vehicle with the specfied movement properties. */
        drive(throttle, steering, braking, donuts, booster = 0, autopilot = false) {
            const deltaTime = this.getDeltaSeconds();
            this.currentForward = BABYLON.Scalar.Clamp(throttle, -1, 1);
            this.currentTurning = BABYLON.Scalar.Clamp(steering, -1, 1);
            this.currentSkidding = braking;
            this.currentDonuts = donuts;
            // ..
            // Update Driving System
            // ..
            this.handBraking = (this.getCurrentSkidding() === true && this.handBrakingForce > 0);
            if (this.handBraking === true) {
                this.handBrakingTimer += deltaTime;
            }
            else {
                this.handBrakingTimer = 0;
            }
            if (this._rigidbody == null || this.raycastVehicle == null)
                return;
            if (this.FRONT_LEFT >= 0 && this.FRONT_RIGHT >= 0 && this.BACK_LEFT >= 0 && this.BACK_RIGHT >= 0) {
                this.engineForce = 0;
                this.wheelBrakingForce = 0;
                this.frontWheelPower = 0;
                this.backWheelPower = 0;
                // ..
                // Update Engine Forces
                // ..
                const throttleSpeed = (this.throttleEngineSpeed > 0) ? this.throttleEngineSpeed : this.topEngineSpeed;
                const gearShiftRatio = (this.gearBoxShiftRatios != null && this.gearBoxShiftRatios.length > this.gearIndex) ? this.gearBoxShiftRatios[this.gearIndex] : 1.0;
                const finalGearRatio = (gearShiftRatio * this.differentialRatio * this.transmissionRatio);
                const engineMotorTorque = this.getVehicleEngineTorque(this.engineRPM, booster) * Math.abs(this.currentForward);
                const allowedEnginePower = (engineMotorTorque * finalGearRatio);
                let allowedBrakingForce = BABYLON.Scalar.Lerp(this.minBrakingForce, this.maxBrakingForce, this.gradientSpeed) * Math.abs(this.currentForward);
                if (this.currentForward > 0 && this.wheelBurnout === true && this.wheelDonuts === true) {
                    this.engineForce = allowedEnginePower;
                }
                else {
                    if (this.currentForward > 0) { // Forward
                        // TODO - Support Right Handed
                        if (this.forwardSpeed < -1)
                            this.wheelBrakingForce = allowedBrakingForce;
                        else
                            this.engineForce = allowedEnginePower;
                    }
                    else if (this.currentForward < 0) { // Reverse
                        // TODO - Support Right Handed
                        if (this.forwardSpeed > 1)
                            this.wheelBrakingForce = allowedBrakingForce;
                        else
                            this.engineForce = -(allowedEnginePower * this.maxReversePower);
                    }
                    else { // Static
                        this.engineForce = 0;
                        this.wheelBrakingForce = 10;
                    }
                }
                let engineBrake = 0;
                if (this.shiftingTime > 0 || this.americanSpeed > throttleSpeed) {
                    engineBrake = this.shiftingBrake;
                    this.engineForce = 0;
                }
                WM.PrintToScreen("MPH: " + this.americanSpeed.toFixed(2) + " --> RPM: " + this.engineRPM.toFixed(2) + " ENGINE: -->: " + this.engineForce.toFixed(2) + " --> VELOCITY: " + this.transform.physicsBody.getLinearVelocity().length().toFixed(2));
                // ..
                // Update Vehicle Steering
                // ..
                let visualSteerBoost = 0;
                let ackermanSteerLeft = 0;
                let ackermanSteerRight = 0;
                let steeringBoost = (Math.abs(this.currentTurning) >= 0.02); // Note: Max Range (0.02 - 0.04)
                let steeringRadius = (this.ackermanTurnRadius * this.ackermanTurnFactor); // Note: Smaller Steering Radius Equals Sharper Turning
                let steeringAmount = BABYLON.Scalar.Lerp(this.lowSpeedSteering, this.highSpeedSteering, this.gradientSpeed);
                let steeringGradient = (steeringAmount * deltaTime);
                // ..
                // Use Ackerman Steering Formulas
                // ..
                if (this.currentTurning > 0) { // Right
                    if (this.maxSteerBoost > 0 && steeringBoost === true)
                        visualSteerBoost = BABYLON.Tools.ToRadians(this.maxSteerBoost);
                    ackermanSteerLeft = Math.atan(this.ackermanWheelBase / (steeringRadius + (this.ackermanRearTrack / 2))) * this.currentTurning;
                    ackermanSteerRight = Math.atan(this.ackermanWheelBase / (steeringRadius - (this.ackermanRearTrack / 2))) * this.currentTurning;
                }
                else if (this.currentTurning < 0) { // Left
                    if (this.maxSteerBoost > 0 && steeringBoost === true)
                        visualSteerBoost = -BABYLON.Tools.ToRadians(this.maxSteerBoost);
                    ackermanSteerLeft = Math.atan(this.ackermanWheelBase / (steeringRadius - (this.ackermanRearTrack / 2))) * this.currentTurning;
                    ackermanSteerRight = Math.atan(this.ackermanWheelBase / (steeringRadius + (this.ackermanRearTrack / 2))) * this.currentTurning;
                }
                else {
                    visualSteerBoost = 0;
                    ackermanSteerLeft = 0;
                    ackermanSteerRight = 0;
                }
                if (this.wheelBurnout === true && this.wheelDonuts === true) {
                    ackermanSteerLeft *= this.maxBurnoutFactor;
                    ackermanSteerRight *= this.maxBurnoutFactor;
                }
                else if (autopilot === false) { // Assisted
                    const smoothSteerFactor = BABYLON.Scalar.Lerp(1.0, this.topSpeedDampener, this.gradientSpeed);
                    ackermanSteerLeft *= smoothSteerFactor;
                    ackermanSteerRight *= smoothSteerFactor;
                }
                // ..
                // Smooth Physics Steering Angles
                // ..
                this.physicsSteerAngleL = BABYLON.Scalar.Lerp(this.physicsSteerAngleL, ackermanSteerLeft, steeringGradient);
                this.physicsSteerAngleR = BABYLON.Scalar.Lerp(this.physicsSteerAngleR, ackermanSteerRight, steeringGradient);
                // ..
                // Smooth Visual Steering Angles
                // ..
                this.visualSteerBoostL = (ackermanSteerLeft + visualSteerBoost);
                this.visualSteerBoostR = (ackermanSteerRight + visualSteerBoost);
                if (this.overSteerSpeed > 0 && this.handBraking === true && this.handBrakingTimer > this.overSteerTimeout) {
                    this.visualSteerBoostL *= -1; // Note: Invert Over Steering Angle
                    this.visualSteerBoostR *= -1; // Note: Invert Over Steering Angle
                }
                this.visualSteerAngleL = BABYLON.Scalar.Lerp(this.visualSteerAngleL, this.visualSteerBoostL, steeringGradient);
                this.visualSteerAngleR = BABYLON.Scalar.Lerp(this.visualSteerAngleR, this.visualSteerBoostR, steeringGradient);
                // ..
                // Smooth Steering Wheel Angles
                // ..
                let steeringAngleBoost = 2.0;
                let steeringAngleFactor = Math.abs(this.currentTurning) * steeringAngleBoost;
                if (this.currentTurning > 0) { // Right
                    steeringAngleFactor = BABYLON.Scalar.Clamp(steeringAngleFactor, 0, 1);
                }
                else if (this.currentTurning < 0) { // Left
                    steeringAngleFactor = -BABYLON.Scalar.Clamp(steeringAngleFactor, 0, 1);
                }
                let fixedCurrentTurning = (this.overSteerSpeed > 0 && this.handBraking === true && this.handBrakingTimer > this.overSteerTimeout) ? steeringAngleFactor : -steeringAngleFactor;
                this.animatorSteerAngle = BABYLON.Scalar.Lerp(this.animatorSteerAngle, fixedCurrentTurning, (this.maxSteeringSpeed * deltaTime));
                // ..
                // ..
                if (this.steeringWheelHub != null) {
                    if (this.steeringWheelHub.rotationQuaternion == null) {
                        this.steeringWheelHub.rotationQuaternion = BABYLON.Quaternion.FromEulerVector(this.steeringWheelHub.rotation);
                    }
                    const degreesSteerAngle = (this.animatorSteerAngle * this.maxSteeringAngle);
                    const radiansSteerAngle = BABYLON.Tools.ToRadians(degreesSteerAngle);
                    const xaxis = (this.steeringWheelAxis === 0) ? radiansSteerAngle : 0;
                    const yaxis = (this.steeringWheelAxis === 1) ? radiansSteerAngle : 0;
                    const zaxis = (this.steeringWheelAxis === 2) ? radiansSteerAngle : 0;
                    BABYLON.Quaternion.SlerpToRef(this.steeringWheelHub.rotationQuaternion, BABYLON.Quaternion.FromEulerAngles(xaxis, yaxis, zaxis), (this.maxSteeringSpeed * deltaTime), this.steeringWheelHub.rotationQuaternion);
                }
                if (this._animator != null)
                    this._animator.setFloat("TurnAngle", this.animatorSteerAngle); // Note: Fixed Animation Turning Angle (-1 To +1)
                // ..
                // Update Raycast Vehicle Controls
                // ..
                let updateFriction = true;
                if (this.handBraking === true) {
                    this.wheelBurnout = false;
                    this.wheelDonuts = false;
                    this.burnoutTimer = 0;
                    // ..
                    // Validate Wheel Skidding Mode
                    // ..
                    if (this.raycastVehicle.lockedWheelIndexes == null)
                        this.raycastVehicle.lockedWheelIndexes = [this.BACK_LEFT, this.BACK_RIGHT];
                    if (this.americanSpeed >= 1) {
                        if (this.wheelSkidding === false) {
                            this.wheelSkidding = true;
                            this.skiddingTime = this.brakeRecoveryDelay;
                            const wheelSkidFriction = 0; // Default Wheel Skidding Frintion Drop Value
                            if (this.m_frontLeftWheel != null)
                                this.m_frontLeftWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_frontRightWheel != null)
                                this.m_frontRightWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_backLeftWheel != null)
                                this.m_backLeftWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_backRightWheel != null)
                                this.m_backRightWheel.frictionSlip = wheelSkidFriction;
                            this.frontLeftFrictionPenalty = false;
                            this.frontRightFrictionPenalty = false;
                            this.rearLeftFrictionPenalty = false;
                            this.rearRightFrictionPenalty = false;
                            updateFriction = false; // Note: Disable Friction Lerping This Frame
                        }
                    }
                    // ..
                    // Update Vehicle Wheel Information
                    // ..
                    if (this.skiddingTime <= 0) {
                        this.updateLinearBrakeDamping(this.linearBrakingForce, (deltaTime * this.brakeRecoverySpeed));
                        this.updateAngularBrakeDamping(this.angularBrakingForce, (deltaTime * this.brakeRecoverySpeed));
                        if (updateFriction === true && this.americanSpeed <= 0.25)
                            this.updateCurrentFrictionSlip(deltaTime * this.skidRecoverySpeed);
                    }
                    this.updateCurrentRotationDelta(0);
                    this.updateCurrentRotationBoost(0);
                    // ..
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleR, this.FRONT_RIGHT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleR, this.FRONT_RIGHT);
                    // ..
                    this.raycastVehicle.setEngineForce(0, this.FRONT_LEFT);
                    this.raycastVehicle.setEngineForce(0, this.FRONT_RIGHT);
                    this.raycastVehicle.setEngineForce(0, this.BACK_LEFT);
                    this.raycastVehicle.setEngineForce(0, this.BACK_RIGHT);
                    // ..
                    const frontBrakeForce = (this.handBrakingForce * 0.1);
                    this.raycastVehicle.setBrakingForce(frontBrakeForce, this.FRONT_LEFT);
                    this.raycastVehicle.setBrakingForce(frontBrakeForce, this.FRONT_RIGHT);
                    // ..
                    const extraBrakeForce = (this.handBrakingForce * 10000);
                    this.raycastVehicle.setBrakingForce(extraBrakeForce, this.BACK_LEFT);
                    this.raycastVehicle.setBrakingForce(extraBrakeForce, this.BACK_RIGHT);
                }
                else {
                    if (this.raycastVehicle.lockedWheelIndexes != null) {
                        this.raycastVehicle.lockedWheelIndexes = null;
                        this.updateCurrentRotationDelta(0);
                        this.updateCurrentRotationBoost(0);
                    }
                    this.wheelSkidding = false;
                    this.skiddingTime = 0;
                    this.burnoutCoefficient = BABYLON.Scalar.Clamp(this.burnoutCoefficient, 1, 20);
                    this.burnoutTriggerMark = BABYLON.Scalar.Clamp(this.burnoutTriggerMark, 1, 20);
                    // ..
                    const isBurnoutSpeed = (this.americanSpeed <= this.burnoutTriggerMark);
                    const isFullThrottle = (this.currentForward < -0.9 || this.currentForward > 0.9);
                    const isFullTurning = (this.currentTurning < -0.9 || this.currentTurning > 0.9);
                    let wheelLerpSpeed = (deltaTime * this.frictionLerpSpeed);
                    let wheelBoostSpeed = 0; // Default Zero Wheel Rotation Boost
                    // ..
                    // Validate Wheel Burnout Mode
                    // ..
                    if (this.burnoutTimer <= 0 && isFullThrottle === true && isBurnoutSpeed === true && this.enableBurnouts === true) {
                        this.burnoutTimer = (this.burnoutTimeDelay * 0.25); // Note: 25 Percent Slipping Time
                        this.wheelDonuts = false;
                        this.wheelBurnout = true;
                    }
                    // ..
                    // Validate Wheel Burnout Timers
                    // ..
                    if (this.restoreTimer > 0) {
                        this.restoreTimer -= deltaTime;
                        if (this.restoreTimer < 0)
                            this.restoreTimer = 0;
                        wheelLerpSpeed *= this.burnoutLerpSpeed;
                    }
                    if (this.cooldownTimer > 0) {
                        this.cooldownTimer -= deltaTime;
                        if (this.cooldownTimer < 0)
                            this.cooldownTimer = 0;
                    }
                    if (this.wheelDonuts === true) {
                        this.donutSpinTime += deltaTime;
                        if (isFullTurning === false) {
                            this.burnoutTimer = 0;
                        }
                    }
                    else {
                        this.donutSpinTime = 0;
                    }
                    // ..
                    // Validate Wheel Drive Burnout Mode
                    // ..
                    if (this.burnoutTimer > 0 && isFullThrottle === true) {
                        wheelBoostSpeed = 0.2;
                        const frontSlipFactor = (this.wheelDonuts === true) ? 1.25 : 1.0;
                        if (this.burnoutCoefficient >= 1.0)
                            this.engineForce *= this.burnoutCoefficient;
                        if (this.m_frontLeftWheel != null)
                            this.m_frontLeftWheel.frictionSlip = (this.burnoutFrictionSlip * frontSlipFactor);
                        if (this.m_frontRightWheel != null)
                            this.m_frontRightWheel.frictionSlip = (this.burnoutFrictionSlip * frontSlipFactor);
                        if (this.m_backLeftWheel != null)
                            this.m_backLeftWheel.frictionSlip = this.burnoutFrictionSlip;
                        if (this.m_backRightWheel != null)
                            this.m_backRightWheel.frictionSlip = this.burnoutFrictionSlip;
                        this.frontLeftFrictionPenalty = false;
                        this.frontRightFrictionPenalty = false;
                        this.rearLeftFrictionPenalty = false;
                        this.rearRightFrictionPenalty = false;
                        updateFriction = false; // Note: Disable Friction Lerping This Frame
                        // ..
                        this.burnoutTimer -= deltaTime;
                        if (this.burnoutTimer <= 0 && isFullTurning === true && this.cooldownTimer <= 0 && this.currentForward > 0 && this.currentDonuts === true) {
                            this.burnoutTimer = 0.01; // Note: Use Fixed Donut Burnout Time Extension
                            //this.wheelDonuts = true;            // Note: Disable Wheel Donuts Extra Power Needed
                        }
                    }
                    else {
                        if (this.americanSpeed >= this.minPenaltySpeed && this.frictionWheelSlip > 0) {
                            if (this.frontLeftFrictionLerping === false && this.frontLeftContactTag === this.penaltyGroundTag) {
                                if (this.m_frontLeftWheel != null && this.m_frontLeftWheel.defaultFriction != null) {
                                    const frontLeftFriction = this.m_frontLeftWheel.defaultFriction * (this.frictionWheelSlip * 1.25);
                                    this.m_frontLeftWheel.frictionSlip = frontLeftFriction;
                                    this.frontLeftFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.frontRightFrictionLerping === false && this.frontRightContactTag === this.penaltyGroundTag) {
                                if (this.m_frontRightWheel != null && this.m_frontRightWheel.defaultFriction != null) {
                                    const frontRightFriction = this.m_frontRightWheel.defaultFriction * (this.frictionWheelSlip * 1.25);
                                    this.m_frontRightWheel.frictionSlip = frontRightFriction;
                                    this.frontRightFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.rearLeftFrictionLerping === false && this.rearLeftContactTag === this.penaltyGroundTag) {
                                if (this.m_backLeftWheel != null && this.m_backLeftWheel.defaultFriction != null) {
                                    const backLeftFriction = this.m_backLeftWheel.defaultFriction * this.frictionWheelSlip;
                                    this.m_backLeftWheel.frictionSlip = backLeftFriction;
                                    this.rearLeftFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.rearRightFrictionLerping === false && this.rearRightContactTag === this.penaltyGroundTag) {
                                if (this.m_backRightWheel != null && this.m_backRightWheel.defaultFriction != null) {
                                    const backRightFriction = this.m_backRightWheel.defaultFriction * this.frictionWheelSlip;
                                    this.m_backRightWheel.frictionSlip = backRightFriction;
                                    this.rearRightFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                        }
                        // ..
                        this.burnoutTimer = 0; // Note: Clear Burnout Timer 
                        this.donutSpinTime = 0; // Note: Clear Donut Spin Time
                        if (this.wheelDonuts === true) {
                            this.wheelDonuts = false;
                            this.cooldownTimer = (this.burnoutTimeDelay * 2); // Note: 200 Percent Cooldown Time
                        }
                        if (this.wheelBurnout === true) {
                            this.wheelBurnout = false;
                            this.restoreTimer = (this.burnoutTimeDelay * 0.75); // Note: 75 Percent Restoring Time
                        }
                    }
                    // ..
                    // Validate Wheel Drive Power Force
                    // ..
                    if (this.wheelBurnout === true && this.wheelDonuts === true) {
                        this.frontWheelPower = (this.engineForce * 0.2); // Note: 20 Percent Engine Power Force
                    }
                    else if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                        this.frontWheelPower = this.engineForce;
                    }
                    if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                        this.backWheelPower = this.engineForce;
                    }
                    // ..
                    // Update Vehicle Wheel Information
                    // ..
                    if (this.getFootBraking() === true)
                        this.updateCurrentBrakeDamping((this.linearBrakingForce * 0.05), (this.angularBrakingForce * 0.05)); // Note: 5 Percent Linear Brake Force
                    else if (this.throttleBrakingForce > 0)
                        this.updateCurrentBrakeDamping(this.throttleBrakingForce, this.angularDamping);
                    else if (this.engineForce !== 0)
                        this.updateCurrentBrakeDamping(engineBrake, this.angularDamping);
                    else
                        this.updateCurrentBrakeDamping(this.linearDamping, this.angularDamping);
                    // ..
                    if (updateFriction === true)
                        this.updateCurrentFrictionSlip(wheelLerpSpeed);
                    this.updateCurrentRotationBoost(wheelBoostSpeed);
                    // ..
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleR, this.FRONT_RIGHT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleR, this.FRONT_RIGHT);
                    // ..
                    this.raycastVehicle.setEngineForce(this.frontWheelPower, this.FRONT_LEFT);
                    this.raycastVehicle.setEngineForce(this.frontWheelPower, this.FRONT_RIGHT);
                    this.raycastVehicle.setEngineForce(this.backWheelPower, this.BACK_LEFT);
                    this.raycastVehicle.setEngineForce(this.backWheelPower, this.BACK_RIGHT);
                    // ..
                    if (this.maxFrontBraking > 0) {
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce * this.maxFrontBraking, this.FRONT_LEFT);
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce * this.maxFrontBraking, this.FRONT_RIGHT);
                    }
                    else {
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.FRONT_LEFT);
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.FRONT_RIGHT);
                    }
                    this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.BACK_LEFT);
                    this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.BACK_RIGHT);
                }
            }
            // ..
            // Update Driving Props
            // ..
            this.syncVehicleState();
        }
        syncVehicleState() {
            const deltaTime = this.getDeltaSeconds();
            const gearCount = this.getGearShiftRatioCount();
            if (this.skiddingTime > 0) {
                this.skiddingTime -= deltaTime;
                if (this.skiddingTime < 0)
                    this.skiddingTime = 0;
            }
            if (this.shiftingTime > 0) {
                this.shiftingTime -= deltaTime;
                if (this.shiftingTime < 0)
                    this.shiftingTime = 0;
            }
            if (this._rigidbody != null && this.raycastVehicle != null) {
                const deadSpeed = 0.2; // Note: Dead Movement Speed Threshold
                this.forwardSpeed = this.raycastVehicle.getRawCurrentSpeedKph() * PROJECT.StandardCarController.DEFAULT_SPEED_FACTOR;
                if (Math.abs(this.forwardSpeed) < deadSpeed)
                    this.forwardSpeed = 0;
                // ..
                this.absoluteSpeed = this.raycastVehicle.getAbsCurrentSpeedKph() * PROJECT.StandardCarController.DEFAULT_SPEED_FACTOR;
                if (this.absoluteSpeed < deadSpeed)
                    this.absoluteSpeed = 0;
                // ..
                this.americanSpeed = (this.absoluteSpeed * UNITY.System.Kph2Mph);
                this.gradientSpeed = BABYLON.Scalar.Clamp((this.absoluteSpeed / this.topEngineSpeed)); // Note: Absoulte Speed To Dampen Normalized Speed
                //this.gradientSpeed = BABYLON.Scalar.Clamp((this.americanSpeed / this.topEngineSpeed)); // Note: American Speed To Dampen Normalized Speed
                // ..
                if (this.gearBoxShiftRatios != null && this.gearIndex >= 0 && this.gearIndex < gearCount) {
                    const minimumDelta = Math.min(Math.max(deltaTime, 1 / 200), 1);
                    const wheelDiameter = (this.wheelRadius * 2 * UNITY.System.Meter2Inch);
                    const finalGearRatio = (this.gearBoxShiftRatios[this.gearIndex] * this.differentialRatio * this.transmissionRatio);
                    const engineLevelFactor = 336;
                    // ..
                    // Update Engine Revolutions (TODO - No Shifting Donut Mode - RPM Bounce Boosting)
                    // ..
                    this.downShift = (this.gearBoxShiftRanges != null && this.gearBoxShiftRanges.length === this.gearBoxShiftRatios.length) ? this.gearBoxShiftRanges[this.gearIndex] : 1000;
                    this.clutchSlip = BABYLON.Scalar.Lerp(this.clutchSlip, 0, 1 - Math.pow(0.01, minimumDelta));
                    this.engineRPM = ((this.americanSpeed * finalGearRatio * engineLevelFactor) / wheelDiameter);
                    /////////////////////////////////////////////////////////
                    // TODO - Lock High Pitching RPM While Skidding & Donuts
                    /////////////////////////////////////////////////////////
                    this.pitchRPM = BABYLON.Scalar.Lerp(this.shiftRPM, this.engineRPM, (1 - this.clutchSlip)) + this.MIN_RPM;
                    /////////////////////////////////////////////////////////
                    /* Penny - Change Gears
                    float speedPercentage = Mathf.Abs(currentSpeed / maxSpeed);
                    float upperGearMax = (1 / (float)numGears) * (currentGear + 1);
                    float downGearMax = (1 / (float)numGears) * currentGear;
            
                    if (currentGear > 0 && speedPercentage < downGearMax)
                        currentGear--;
            
                    if (speedPercentage > upperGearMax && (currentGear < (numGears - 1)))
                        currentGear++;
                    */
                    // ..
                    // Update Engine Gearing Box (TODO - No Shifting Donut Mode - RPM Bounce Boosting)
                    // ..
                    if (this.americanSpeed < 5) {
                        this.gearIndex = 0;
                    }
                    else {
                        if (this.engineRPM > this.gearBoxShiftChange) {
                            // DEPRECIATED: Moved To If Statement Below
                            // this.shiftRPM = this.engineRPM;
                            // this.clutchSlip = 1.0;
                            // this.shiftingTime = this.gearBoxShiftDelay;
                            if (this.gearIndex < (gearCount - 1)) {
                                this.shiftRPM = this.engineRPM;
                                this.clutchSlip = 1.0;
                                this.shiftingTime = this.gearBoxShiftDelay;
                                this.gearIndex++;
                            }
                        }
                        else if (this.engineRPM < this.downShift) {
                            // DEPRECIATED: Moved To If Statement Below
                            // this.shiftRPM = this.engineRPM;
                            // this.clutchSlip = 1.0;
                            // this.shiftingTime = 0;
                            if (this.gearIndex > 0) {
                                this.shiftRPM = this.engineRPM;
                                this.clutchSlip = 1.0;
                                this.shiftingTime = 0;
                                this.gearIndex--;
                            }
                        }
                    }
                    ///////////////////////////////////////
                    // Double Check Gear Index - ???
                    ///////////////////////////////////////
                    if (this.gearIndex < 0)
                        this.gearIndex = 0;
                    else if (this.gearIndex >= gearCount)
                        this.gearIndex = (gearCount - 1);
                }
            }
            // Update Engine Sound Pitch
            this.enginePitchLevel = (this.getCurrentEnginePitch() * PROJECT.StandardCarController.DEFAULT_PITCH_FACTOR * this.gearBoxMultiplier);
            if (this.playVehicleSounds === true) {
                if (this._engineAudioSource != null) {
                    const engineSoundClip = this._engineAudioSource.getSoundClip();
                    if (engineSoundClip != null)
                        engineSoundClip.setPlaybackRate(this.enginePitchLevel);
                }
            }
            // Update Smoke Instensity
            this.smokeDonuts = BABYLON.Scalar.Clamp(this.smokeDonuts, 1, 10);
            this.smokeIntensityFactor = this.smokeIntensity;
            if (this.wheelBurnout === true && this.wheelDonuts === true)
                this.smokeIntensityFactor *= this.smokeDonuts;
            /* DEBUG: WHEEL COLLISIONS
            const fl_wheel = this.raycastVehicle.getWheelInfo(this.FRONT_LEFT);
            const fr_wheel = this.raycastVehicle.getWheelInfo(this.FRONT_RIGHT);
            const bl_wheel = this.raycastVehicle.getWheelInfo(this.BACK_LEFT);
            const br_wheel = this.raycastVehicle.getWheelInfo(this.BACK_RIGHT);
            let fl_collide:string = "";
            if (fl_wheel.raycastResult != null && fl_wheel.raycastResult.body != null) {
                fl_collide = fl_wheel.raycastResult.body.transformNode.name;
            }
            let fr_collide:string = "";
            if (fr_wheel.raycastResult != null && fr_wheel.raycastResult.body != null) {
                fr_collide = fr_wheel.raycastResult.body.transformNode.name;
            }

            let bl_collide:string = "";
            if (bl_wheel.raycastResult != null && bl_wheel.raycastResult.body != null) {
                bl_collide = bl_wheel.raycastResult.body.transformNode.name;
            }
            let br_collide:string = "";
            if (br_wheel.raycastResult != null && br_wheel.raycastResult.body != null) {
                br_collide = br_wheel.raycastResult.body.transformNode.name;
            }
            console.log("Wheel Collides - FL: " + fl_collide + " --> FR: " +  fr_collide + " --> BL: " + bl_collide + " --> BR: " + br_collide);
            */
            // Update Wheel Skidding Info
            this.SKID_FL = 0, this.SKID_FR = 0, this.SKID_RL = 0, this.SKID_RR = 0;
            if (this.m_frontLeftWheel != null) {
                const wheelContactFL = (this.m_frontLeftWheel.raycastResult.body != null);
                this.SKID_FL = this.updateCurrentSkidInfo(this.m_frontLeftWheel);
                if (this.SKID_FL < this.skidThreashold)
                    this.SKID_FL = 0;
                if (this.SKID_FL > 0 && wheelContactFL === true) {
                    const skidPosFL = this.m_frontLeftWheel.raycastResult.hitPointWorld;
                    const skidNormFL = this.m_frontLeftWheel.raycastResult.hitNormalWorld;
                    const skidScaleFL = BABYLON.Scalar.Normalize(this.SKID_FL, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosFL.addInPlace(this.m_velocityOffset);
                    this.m_frontLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosFL, skidNormFL, skidScaleFL, this.m_frontLeftWheelSkid);
                    if (this.frontLeftWheelParticle != null) {
                        if (this.frontLeftWheelParticle.isStarted() === false) {
                            this.frontLeftWheelParticle.start();
                        }
                        const smoke_FL = this.SKID_FL * this.SKID_FL;
                        this.frontLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FL;
                        this.frontLeftWheelParticle.minSize = 0.2 * smoke_FL + 0.2;
                        this.frontLeftWheelParticle.maxSize = 1.5 * smoke_FL + 1.2;
                    }
                }
                else {
                    if (this.frontLeftWheelParticle != null)
                        this.frontLeftWheelParticle.emitRate = 0;
                    this.m_frontLeftWheelSkid = -1;
                }
            }
            if (this.m_frontRightWheel != null) {
                const wheelContactFR = (this.m_frontRightWheel.raycastResult.body != null); // Check Is In Contact With Actual Ground Object - wheel.get_m_raycastInfo().get_m_groundObject() ???
                this.SKID_FR = this.updateCurrentSkidInfo(this.m_frontRightWheel);
                if (this.SKID_FR < this.skidThreashold)
                    this.SKID_FR = 0;
                if (this.SKID_FR > 0 && wheelContactFR === true) {
                    const skidPosFR = this.m_frontRightWheel.raycastResult.hitPointWorld;
                    const skidNormFR = this.m_frontRightWheel.raycastResult.hitNormalWorld;
                    const skidScaleFR = BABYLON.Scalar.Normalize(this.SKID_FR, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosFR.addInPlace(this.m_velocityOffset);
                    this.m_frontRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosFR, skidNormFR, skidScaleFR, this.m_frontRightWheelSkid);
                    if (this.frontRightWheelParticle != null) {
                        if (this.frontRightWheelParticle.isStarted() === false) {
                            this.frontRightWheelParticle.start();
                        }
                        const smoke_FR = this.SKID_FR * this.SKID_FR;
                        this.frontRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FR;
                        this.frontRightWheelParticle.minSize = 0.2 * smoke_FR + 0.2;
                        this.frontRightWheelParticle.maxSize = 1.5 * smoke_FR + 1.2;
                    }
                }
                else {
                    if (this.frontRightWheelParticle != null)
                        this.frontRightWheelParticle.emitRate = 0;
                    this.m_frontRightWheelSkid = -1;
                }
            }
            this.PITCH_FL = this.SKID_FL;
            this.PITCH_FR = this.SKID_FR;
            if (this.wheelBurnout == true || this.restoreTimer > 0) {
                this.PITCH_FL *= this.burnoutWheelPitch;
                this.PITCH_FR *= this.burnoutWheelPitch;
            }
            this.PITCH_FL *= 0.75; // 75% Skid For Front Wheels
            this.PITCH_FR *= 0.75; // 75% Skid For Front Wheels
            if (this.m_backLeftWheel != null) {
                const wheelContactBL = (this.m_backLeftWheel.raycastResult.body != null);
                this.SKID_RL = this.updateCurrentSkidInfo(this.m_backLeftWheel);
                if (this.SKID_RL < this.skidThreashold)
                    this.SKID_RL = 0;
                if (this.SKID_RL > 0 && wheelContactBL === true) {
                    const skidPosRL = this.m_backLeftWheel.raycastResult.hitPointWorld;
                    const skidNormRL = this.m_backLeftWheel.raycastResult.hitNormalWorld;
                    const skidScaleRL = BABYLON.Scalar.Normalize(this.SKID_RL, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosRL.addInPlace(this.m_velocityOffset);
                    this.m_backLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosRL, skidNormRL, skidScaleRL, this.m_backLeftWheelSkid);
                    if (this.backLeftWheelParticle != null) {
                        if (this.backLeftWheelParticle.isStarted() === false) {
                            this.backLeftWheelParticle.start();
                        }
                        const smoke_RL = this.SKID_RL * this.SKID_RL;
                        this.backLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RL;
                        this.backLeftWheelParticle.minSize = 0.2 * smoke_RL + 0.2;
                        this.backLeftWheelParticle.maxSize = 1.5 * smoke_RL + 1.2;
                    }
                }
                else {
                    if (this.backLeftWheelParticle != null)
                        this.backLeftWheelParticle.emitRate = 0;
                    this.m_backLeftWheelSkid = -1;
                }
            }
            if (this.m_backRightWheel != null) {
                const wheelContactBR = (this.m_backRightWheel.raycastResult.body != null);
                this.SKID_RR = this.updateCurrentSkidInfo(this.m_backRightWheel);
                if (this.SKID_RR < this.skidThreashold)
                    this.SKID_RR = 0;
                if (this.SKID_RR > 0 && wheelContactBR === true) {
                    const skidPosRR = this.m_backRightWheel.raycastResult.hitPointWorld;
                    const skidNormRR = this.m_backRightWheel.raycastResult.hitNormalWorld;
                    const skidScaleRR = BABYLON.Scalar.Normalize(this.SKID_RR, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosRR.addInPlace(this.m_velocityOffset);
                    this.m_backRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosRR, skidNormRR, skidScaleRR, this.m_backRightWheelSkid);
                    if (this.backRightWheelParticle != null) {
                        if (this.backRightWheelParticle.isStarted() === false) {
                            this.backRightWheelParticle.start();
                        }
                        const smoke_RR = this.SKID_RR * this.SKID_RR;
                        this.backRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RR;
                        this.backRightWheelParticle.minSize = 0.2 * smoke_RR + 0.2;
                        this.backRightWheelParticle.maxSize = 1.5 * smoke_RR + 1.2;
                    }
                }
                else {
                    if (this.backRightWheelParticle != null)
                        this.backRightWheelParticle.emitRate = 0;
                    this.m_backRightWheelSkid = -1;
                }
            }
            this.PITCH_RL = this.SKID_RL;
            this.PITCH_RR = this.SKID_RR;
            if (this.wheelBurnout == true || this.restoreTimer > 0) {
                this.PITCH_RL *= this.burnoutWheelPitch;
                this.PITCH_RR *= this.burnoutWheelPitch;
            }
            ///////////////////////////////////////////
            // Play Skid Audio Track
            ///////////////////////////////////////////
            this.WHEEL_SKID_PITCH = 0;
            if (this.PITCH_FL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FL;
            if (this.PITCH_FR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FR;
            if (this.PITCH_RL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RL;
            if (this.PITCH_RR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RR;
            if (this.playVehicleSounds === true) {
                if (this._skidAudioSource != null) {
                    const skidSoundClip = this._skidAudioSource.getSoundClip();
                    if (skidSoundClip != null)
                        skidSoundClip.setPlaybackRate(this.WHEEL_SKID_PITCH);
                }
            }
            ///////////////////////////////////////////
            // Vehicle Braking Lights Check
            ///////////////////////////////////////////
            if (this.brakeLightsMesh != null) {
                this.brakeLightsMesh.isVisible = (this.getFootBraking() || this.getHandBraking());
            }
            ///////////////////////////////////////////
            // Vehicle Reverse Lights Check
            ///////////////////////////////////////////
            if (this.reverseLightsMesh != null) {
                this.reverseLightsMesh.isVisible = this.getReverseThrottle();
            }
            ///////////////////////////////////////////
            // Reset Skid Properties
            ///////////////////////////////////////////
            if (this.SKID_FL === 0 && this.SKID_FL === 0 && this.SKID_FL === 0 && this.SKID_FL === 0) {
                this.smokeIntensityFactor = 0;
            }
            ///////////////////////////////////////////
            // Post Network Attributes
            ///////////////////////////////////////////
            if (this.postNetworkAttributes == true && UNITY.EntityController.HasNetworkEntity(this.transform)) {
                const pitch_Attribute = this.getEnginePitchLevel();
                const brake_Attribute = (this.getFootBraking() || this.getHandBraking()) ? 1 : 0;
                const reverse_Attribute = this.getReverseThrottle() ? 1 : 0;
                const burnout_Attribute = (this.getCurrentBurnout() || this.getCurrentDonuts()) ? 1 : 0;
                const SKID_FL_Attribute = this.getFrontLeftSkid();
                const SKID_FR_Attribute = this.getFrontRightSkid();
                const SKID_RL_Attribute = this.getBackLeftSkid();
                const SKID_RR_Attribute = this.getBackRightSkid();
                const SPIN_FL_Transform = this.m_frontLeftWheel.spinner;
                const SPIN_FR_Transform = this.m_frontRightWheel.spinner;
                const SPIN_RL_Transform = this.m_backLeftWheel.spinner;
                const SPIN_RR_Transform = this.m_backRightWheel.spinner;
                UNITY.EntityController.PostBufferedAttribute(this.transform, 0, pitch_Attribute); // Pitch
                UNITY.EntityController.PostBufferedAttribute(this.transform, 1, brake_Attribute); // Brake
                UNITY.EntityController.PostBufferedAttribute(this.transform, 2, reverse_Attribute); // Reverse
                UNITY.EntityController.PostBufferedAttribute(this.transform, 3, burnout_Attribute); // Burnout
                UNITY.EntityController.PostBufferedAttribute(this.transform, 4, SKID_FL_Attribute); // SKID_FL
                UNITY.EntityController.PostBufferedAttribute(this.transform, 5, SKID_FR_Attribute); // SKID_FR
                UNITY.EntityController.PostBufferedAttribute(this.transform, 6, SKID_RL_Attribute); // SKID_RL
                UNITY.EntityController.PostBufferedAttribute(this.transform, 7, SKID_RR_Attribute); // SKID_RR
                if (SPIN_FL_Transform != null && SPIN_FL_Transform.rotationQuaternion != null) {
                    SPIN_FL_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_FL_Rotation);
                    UNITY.EntityController.PostBufferedAttribute(this.transform, 8, this.SPIN_FL_Rotation.x); // SPIN_FL
                }
                else {
                    UNITY.EntityController.PostBufferedAttribute(this.transform, 8, 0);
                }
                if (SPIN_FR_Transform != null && SPIN_FR_Transform.rotationQuaternion != null) {
                    SPIN_FR_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_FR_Rotation);
                    UNITY.EntityController.PostBufferedAttribute(this.transform, 9, this.SPIN_FR_Rotation.x); // SPIN_FR
                }
                else {
                    UNITY.EntityController.PostBufferedAttribute(this.transform, 9, 0);
                }
                if (SPIN_RL_Transform != null && SPIN_RL_Transform.rotationQuaternion != null) {
                    SPIN_RL_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_RL_Rotation);
                    UNITY.EntityController.PostBufferedAttribute(this.transform, 10, this.SPIN_RL_Rotation.x); // SPIN_RL
                }
                else {
                    UNITY.EntityController.PostBufferedAttribute(this.transform, 10, 0);
                }
                if (SPIN_RR_Transform != null && SPIN_RR_Transform.rotationQuaternion != null) {
                    SPIN_RR_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_RR_Rotation);
                    UNITY.EntityController.PostBufferedAttribute(this.transform, 11, this.SPIN_RR_Rotation.x); // SPIN_RR
                }
                else {
                    UNITY.EntityController.PostBufferedAttribute(this.transform, 11, 0);
                }
                UNITY.EntityController.PostBufferedAttribute(this.transform, 12, this.animatorSteerAngle); // Steering
            }
            ///////////////////////////////////////////
            // Write Transform Metadata
            ///////////////////////////////////////////
            this.writeTransformMetadata();
        }
        writeTransformMetadata() {
            if (this.transform.metadata == null)
                this.transform.metadata = {};
            if (this.transform.metadata.car == null)
                this.transform.metadata.car = {};
            // ..
            // Update Transform Node Metadata
            // ..
            this.transform.metadata.car.forwardSpeed = this.forwardSpeed;
            this.transform.metadata.car.reversePower = this.maxReversePower;
            this.transform.metadata.car.americanSpeed = this.americanSpeed;
            this.transform.metadata.car.gradientSpeed = this.gradientSpeed;
            this.transform.metadata.car.currentForward = this.currentForward;
            this.transform.metadata.car.linearVelocity = this.getLinearVelocity().length();
            this.transform.metadata.car.normalizedSpeed = this.getNormalizedSpeed();
        }
        getVehicleEngineTorque(rpm, boost = 0) {
            let result = 0;
            if (this.engineTorqueCurve != null) {
                result = (UNITY.Utilities.SampleAnimationFloat(this.engineTorqueCurve, BABYLON.Scalar.Clamp(rpm, this.MIN_RPM, this.MAX_RPM), BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE, false) * (this.powerCoefficient + boost));
            }
            return result;
        }
        createSmokeParticleSystem(name, emitter) {
            const result = new BABYLON.ParticleSystem(name, 10000, this.scene);
            result.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD;
            result.renderingGroupId = UNITY.Utilities.DefaultRenderGroup();
            result.particleTexture = this.smokeTexture;
            result.emitter = emitter;
            result.emitRate = 0;
            result.updateSpeed = 0.01;
            // change size and speed
            result.minSize = 0.2;
            result.maxSize = 1.3;
            result.minAngularSpeed = -1.5;
            result.maxAngularSpeed = 1.5;
            // changed lifetime to control shape of the cloud in conjunction with velocity gradient
            result.minLifeTime = 3.0;
            result.maxLifeTime = 5.0;
            // adding velocity over time to prevent large bloom of particles by launching them fast and then slowing them down GPU particles don't take a gradient on velocity, but the reduction in velocity over time is worth the trade off for less randomization
            result.addVelocityGradient(0, 1);
            result.addVelocityGradient(0.1, 0.7);
            result.addVelocityGradient(0.7, 0.2);
            result.addVelocityGradient(1.0, 0.05);
            // reduced the emit rate to reduce bloom of particles in the center of mass
            result.gravity = new BABYLON.Vector3(0, -0.1, 0);
            result.minEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.maxEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.direction1 = new BABYLON.Vector3(-1, -1, -1);
            result.direction2 = new BABYLON.Vector3(1, 1, 1);
            // The color1, color2, colorDead pattern is overridden by color gradient so is unnecessary
            result.color1 = new BABYLON.Color4(0.95, 0.95, 0.95, this.smokeOpacity);
            result.color2 = new BABYLON.Color4(0.85, 0.85, 0.85, this.smokeOpacity);
            result.colorDead = new BABYLON.Color4(0.9, 0.9, 0.9, (this.smokeOpacity * 0.5));
            // Changed the color gradient to add a second value for randomization and ramped the color down further to create more texture with alpha blending
            //result.addColorGradient(0.0, new BABYLON.Color4(1, 1, 1, 0.0), new BABYLON.Color4(0.7, 0.7, 0.7, 0.0));
            //result.addColorGradient(0.2, new BABYLON.Color4(0.7, 0.7, 0.7, 0.2), new BABYLON.Color4(0.6, 0.6, 0.6, 0.2));
            //result.addColorGradient(0.6, new BABYLON.Color4(0.6, 0.6, 0.6, 0.1),new BABYLON.Color4(0.4, 0.4, 0.4, 0.1));
            //result.addColorGradient(1.0, new BABYLON.Color4(0.3, 0.3, 0.3, 0.0),new BABYLON.Color4(0.1, 0.1, 0.1, 0.0));            
            return result;
        }
        updateCurrentSkidInfo(wheel) {
            return BABYLON.Scalar.Clamp((1 - wheel.skidInfo));
        }
        updateCurrentBrakeDamping(linear, angular, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationLinearDamping = (linear + totalWheelDampener);
            let destinationAngularDamping = angular;
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentLinearDamping = this.transform.physicsBody.getLinearDamping();
                let currentAngularDamping = this.transform.physicsBody.getAngularDamping();
                let smoothedLinearDamping = BABYLON.Scalar.Lerp(currentLinearDamping, destinationLinearDamping, lerp);
                let smoothedAngularDamping = BABYLON.Scalar.Lerp(currentAngularDamping, destinationAngularDamping, lerp);
                this.transform.physicsBody.setLinearDamping(smoothedLinearDamping);
                this.transform.physicsBody.setAngularDamping(smoothedAngularDamping);
            }
            else {
                this.transform.physicsBody.setLinearDamping(destinationLinearDamping);
                this.transform.physicsBody.setAngularDamping(destinationAngularDamping);
            }
        }
        updateLinearBrakeDamping(linear, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationLinearDamping = (linear + totalWheelDampener);
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentLinearDamping = this.transform.physicsBody.getLinearDamping();
                let smoothedLinearDamping = BABYLON.Scalar.Lerp(currentLinearDamping, destinationLinearDamping, lerp);
                this.transform.physicsBody.setLinearDamping(smoothedLinearDamping);
            }
            else {
                this.transform.physicsBody.setLinearDamping(destinationLinearDamping);
            }
        }
        updateAngularBrakeDamping(angular, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationAngularDamping = angular;
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentAngularDamping = this.transform.physicsBody.getAngularDamping();
                let smoothedAngularDamping = BABYLON.Scalar.Lerp(currentAngularDamping, destinationAngularDamping, lerp);
                this.transform.physicsBody.setAngularDamping(smoothedAngularDamping);
            }
            else {
                this.transform.physicsBody.setAngularDamping(destinationAngularDamping);
            }
        }
        updateCurrentRotationDelta(delta) {
            if (this.m_frontLeftWheel != null)
                this.m_frontLeftWheel.deltaRotation = delta;
            if (this.m_frontRightWheel != null)
                this.m_frontRightWheel.deltaRotation = delta;
            if (this.m_backLeftWheel != null)
                this.m_backLeftWheel.deltaRotation = delta;
            if (this.m_backRightWheel != null)
                this.m_backRightWheel.deltaRotation = delta;
        }
        updateCurrentRotationBoost(boost) {
            if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                if (this.m_frontLeftWheel != null)
                    this.m_frontLeftWheel.rotationBoost = boost;
                if (this.m_frontRightWheel != null)
                    this.m_frontRightWheel.rotationBoost = boost;
            }
            if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                if (this.m_backLeftWheel != null)
                    this.m_backLeftWheel.rotationBoost = boost;
                if (this.m_backRightWheel != null)
                    this.m_backRightWheel.rotationBoost = boost;
            }
        }
        updateCurrentFrictionSlip(lerpSpeed) {
            if (this.m_frontLeftWheel != null && this.m_frontLeftWheel.defaultFriction != null) {
                let frontLeftFriction = this.m_frontLeftWheel.frictionSlip;
                if (frontLeftFriction < (this.m_frontLeftWheel.defaultFriction - 0.1)) {
                    this.frontLeftFrictionLerping = true;
                    frontLeftFriction = BABYLON.Scalar.Lerp(frontLeftFriction, this.m_frontLeftWheel.defaultFriction, (this.frontLeftFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_frontLeftWheel.frictionSlip = frontLeftFriction;
                }
                else {
                    this.frontLeftFrictionPenalty = false;
                    this.frontLeftFrictionLerping = false;
                    this.m_frontLeftWheel.frictionSlip = this.m_frontLeftWheel.defaultFriction;
                }
            }
            if (this.m_frontRightWheel != null && this.m_frontRightWheel.defaultFriction != null) {
                let frontRightFriction = this.m_frontRightWheel.frictionSlip;
                if (frontRightFriction < (this.m_frontRightWheel.defaultFriction - 0.1)) {
                    this.frontRightFrictionLerping = true;
                    frontRightFriction = BABYLON.Scalar.Lerp(frontRightFriction, this.m_frontRightWheel.defaultFriction, (this.frontRightFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_frontRightWheel.frictionSlip = frontRightFriction;
                }
                else {
                    this.frontRightFrictionPenalty = false;
                    this.frontRightFrictionLerping = false;
                    this.m_frontRightWheel.frictionSlip = this.m_frontRightWheel.defaultFriction;
                }
            }
            if (this.m_backLeftWheel != null && this.m_backLeftWheel.defaultFriction != null) {
                let backLeftFriction = this.m_backLeftWheel.frictionSlip;
                if (backLeftFriction < (this.m_backLeftWheel.defaultFriction - 0.1)) {
                    this.rearLeftFrictionLerping = true;
                    backLeftFriction = BABYLON.Scalar.Lerp(backLeftFriction, this.m_backLeftWheel.defaultFriction, (this.rearLeftFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_backLeftWheel.frictionSlip = backLeftFriction;
                }
                else {
                    this.rearLeftFrictionPenalty = false;
                    this.rearLeftFrictionLerping = false;
                    this.m_backLeftWheel.frictionSlip = this.m_backLeftWheel.defaultFriction;
                }
            }
            if (this.m_backRightWheel != null && this.m_backRightWheel.defaultFriction != null) {
                let backRightFriction = this.m_backRightWheel.frictionSlip;
                if (backRightFriction < (this.m_backRightWheel.defaultFriction - 0.1)) {
                    backRightFriction = BABYLON.Scalar.Lerp(backRightFriction, this.m_backRightWheel.defaultFriction, (this.rearRightFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_backRightWheel.frictionSlip = backRightFriction;
                }
                else {
                    this.rearRightFrictionPenalty = false;
                    this.rearRightFrictionLerping = false;
                    this.m_backRightWheel.frictionSlip = this.m_backRightWheel.defaultFriction;
                }
            }
        }
        getFrontLeftWheelContact() { return this.frontLeftContact; }
        getFrontRightWheelContact() { return this.frontRightContact; }
        getRearLeftWheelContact() { return this.rearLeftContact; }
        getRearRightWheelContact() { return this.rearRightContact; }
        getFrontLeftWheelContactTag() { return this.frontLeftContactTag; }
        getFrontRightWheelContactTag() { return this.frontRightContactTag; }
        getRearLeftWheelContactTag() { return this.rearLeftContactTag; }
        getRearRightWheelContactTag() { return this.rearRightContactTag; }
        getFrontLeftWheelContactPoint() { return this.frontLeftContactPoint; }
        getFrontRightWheelContactPoint() { return this.frontRightContactPoint; }
        getRearLeftWheelContactPoint() { return this.rearLeftContactPoint; }
        getRearRightWheelContactPoint() { return this.rearRightContactPoint; }
        getFrontLeftWheelContactNormal() { return this.frontLeftContactNormal; }
        getFrontRightWheelContactNormal() { return this.frontRightContactNormal; }
        getRearLeftWheelContactNormal() { return this.rearLeftContactNormal; }
        getRearRightWheelContactNormal() { return this.rearRightContactNormal; }
        castWheelContactRays() {
            if (this.transform.physicsBody == null)
                return;
            let raycast = null;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint.set(0, 0, 0);
            this.frontRightContactPoint.set(0, 0, 0);
            this.rearLeftContactPoint.set(0, 0, 0);
            this.rearRightContactPoint.set(0, 0, 0);
            this.frontLeftContactNormal.set(0, 0, 0);
            this.frontRightContactNormal.set(0, 0, 0);
            this.rearLeftContactNormal.set(0, 0, 0);
            this.rearRightContactNormal.set(0, 0, 0);
            // ..
            // Front Left Raycast Positions
            // ..
            UNITY.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.startRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Left Physics Raycast
            // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.frontLeftContact = true;
                this.frontLeftContactTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.frontLeftContactPoint.copyFrom(raycast.hitPoint);
                this.frontLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Left Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.frontLeftSensorLine == null)
                    this.frontLeftSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".FrontLeftSensorLine", this.scene);
                if (this.frontLeftContact === true) {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Front Right Raycast Positions
            // ..
            UNITY.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.startRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Right Physics Raycast
            // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.frontRightContact = true;
                this.frontRightContactTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.frontRightContactPoint.copyFrom(raycast.hitPoint);
                this.frontRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Right Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.frontRightSensorLine == null)
                    this.frontRightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".FrontRightSensorLine", this.scene);
                if (this.frontRightContact === true) {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Left Raycast Positions
            // ..
            UNITY.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.startRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Left Physics Raycast
            // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.rearLeftContact = true;
                this.rearLeftContactTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.rearLeftContactPoint.copyFrom(raycast.hitPoint);
                this.rearLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Left Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.rearLeftSensorLine == null)
                    this.rearLeftSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".RearLeftSensorLine", this.scene);
                if (this.rearLeftContact === true) {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Right Raycast Positions
            // ..
            UNITY.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.startRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Right Physics Raycast
            // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.rearRightContact = true;
                this.rearRightContactTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.rearRightContactPoint.copyFrom(raycast.hitPoint);
                this.rearRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Right Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.rearRightSensorLine == null)
                    this.rearRightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".RearRightSensorLine", this.scene);
                if (this.rearRightContact === true) {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
        }
    }
    StandardCarController.DEFAULT_SPEED_FACTOR = 1.0;
    StandardCarController.DEFAULT_PITCH_FACTOR = 1.0;
    PROJECT.StandardCarController = StandardCarController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class VehicleCameraManager
    */
    class VehicleCameraManager extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.enableCamera = false;
            this.followTarget = false;
            this.followHeight = 1.25;
            this.pitchingAngle = 0.0;
            this.rotationDamping = 5.0;
            this.minimumDistance = 4.0;
            this.maximumDistance = 5.0;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = UNITY.UserInputKey.P;
            this.tickRemoteEntities = false;
            this.firstPerson = false;
            this.cameraPivot = null;
            this.targetEulers = BABYLON.Vector3.Zero();
            this.cameraRotation = BABYLON.Quaternion.Zero();
            this.cameraPivotOffset = BABYLON.Vector3.Zero();
            this.autoAttachCamera = false;
            this.m_cameraTransform = null;
            this.m_inputController = null;
            this.m_standardController = null;
            this.m_firstPersonOffset = new BABYLON.Vector3(0.0, 1.15, 0.15);
        }
        awake() { this.awakeCameraManager(); }
        start() { this.initCameraManager(); }
        late() { this.lateUpdateCameraManager(); }
        destroy() { this.destroyCameraManager(); }
        awakeCameraManager() {
            this.enableCamera = this.getProperty("enableCamera", this.enableCamera);
            this.followTarget = this.getProperty("followTarget", this.followTarget);
            this.followHeight = this.getProperty("followHeight", this.followHeight);
            this.pitchingAngle = this.getProperty("pitchingAngle", this.pitchingAngle);
            this.rotationDamping = this.getProperty("rotationDamping", this.rotationDamping);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.maximumDistance = this.getProperty("maximumDistance", this.maximumDistance);
            this.autoAttachCamera = this.getProperty("attachCamera", this.autoAttachCamera);
            this.tickRemoteEntities = this.getProperty("tickRemoteEntities", this.tickRemoteEntities);
            // ..
            const firstPersonOffset = this.getProperty("firstPersonOffset");
            if (firstPersonOffset != null)
                this.m_firstPersonOffset = UNITY.Utilities.ParseVector3(firstPersonOffset);
            if (this.rotationDamping <= 0)
                this.rotationDamping = 1;
        }
        initCameraManager() {
            this.m_standardController = this.getComponent("PROJECT.StandardCarController");
            this.m_inputController = this.getComponent("PROJECT.VehicleInputController");
            if (this.m_inputController != null) {
                UNITY.InputController.OnKeyboardPress(this.keyboardCamera, () => {
                    //if (this.playerNumber === UNITY.PlayerNumber.One) {
                    this.togglePlayerCamera();
                    //}
                });
                UNITY.InputController.OnGamepadButtonPress(this.buttonCamera, () => {
                    this.togglePlayerCamera();
                } /*, this.playerNumber*/);
            }
        }
        lateUpdateCameraManager() {
            if (this.m_cameraTransform == null && this.autoAttachCamera === true) {
                if (this.m_inputController != null)
                    this.attachPlayerCamera(this.m_inputController.playerNumber);
            }
            if (this.firstPerson === true) {
                this.firstPersonCamera();
            }
            else {
                this.thirdPersonCamera();
            }
        }
        destroyCameraManager() {
            this.m_standardController = null;
            this.m_cameraTransform = null;
        }
        //////////////////////////////////////////////////
        // Player Camera Functions //
        //////////////////////////////////////////////////
        attachPlayerCamera(player) {
            if (this.m_cameraTransform == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.m_cameraTransform = PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                if (this.m_cameraTransform != null && this.followTarget === true) {
                    if (this.cameraPivot == null) {
                        this.cameraPivot = new BABYLON.TransformNode(this.transform.name + ".CameraPivot", this.scene);
                        this.cameraPivot.parent = null;
                        this.cameraPivot.position = this.transform.position.clone();
                        this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        // ..
                        // DEBUG: const testPivot:BABYLON.Mesh = BABYLON.Mesh.CreateBox("TestPivot", 0.25, this.scene);
                        // DEBUG: testPivot.parent = this.cameraPivot;
                        // DEBUG: testPivot.position.set(0,0,0);
                        // DEBUG: testPivot.rotationQuaternion = new BABYLON.Quaternion(0,0,0,1);
                    }
                    this.m_cameraTransform.parent = this.cameraPivot;
                    this.m_cameraTransform.position.set(0, 0, 0);
                    this.m_cameraTransform.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                }
            }
        }
        togglePlayerCamera() {
            this.firstPerson = !this.firstPerson;
        }
        firstPersonCamera() {
            if (this.enableCamera === true && this.m_cameraTransform != null && this.m_standardController != null) {
                if (this.followTarget === true) {
                    if (this.cameraPivot != null) {
                        // ..
                        // Update Position
                        // ..
                        UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position);
                        // ..
                        // Update Rotation
                        // ..
                        this.cameraPivot.rotationQuaternion.copyFrom(this.transform.rotationQuaternion);
                        // ..
                        // Update Camera Boom
                        // ..
                        this.m_cameraTransform.position.copyFrom(this.m_firstPersonOffset);
                        UNITY.Utilities.FromEulerToRef(0, 0, 0, this.m_cameraTransform.rotationQuaternion);
                    }
                }
                else {
                    this.m_cameraTransform.lookAt(this.transform.position);
                }
            }
        }
        // DEPRECIATED: private smoothDeltaTime:number = 0.0;
        thirdPersonCamera() {
            if (this.enableCamera === true && this.m_cameraTransform != null && this.m_standardController != null) {
                if (this.followTarget === true) {
                    if (this.cameraPivot != null) {
                        const deltaTime = this.getDeltaSeconds();
                        // KEEP FOR REFERECNE
                        // DEPRECIATED: const deltaFactor:number = UNITY.System.SmoothDeltaFactor;
                        // DEPRECIATED: this.smoothDeltaTime = deltaFactor * deltaTime + (1 - deltaFactor) * this.smoothDeltaTime;
                        // DEPRECIATED: const turnDampener:number = (this.smoothDeltaTime * this.rotationDamping);
                        // ..
                        // Update Position
                        // ..
                        this.cameraPivotOffset.set(0, this.followHeight, 0);
                        UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                        // ..
                        // Update Rotation
                        // ..
                        const turnDampener = (deltaTime * this.rotationDamping);
                        this.transform.rotationQuaternion.toEulerAnglesToRef(this.targetEulers);
                        BABYLON.Quaternion.FromEulerAnglesToRef((this.targetEulers.x + BABYLON.Tools.ToRadians(this.pitchingAngle)), this.targetEulers.y, 0, this.cameraRotation);
                        BABYLON.Quaternion.SlerpToRef(this.cameraPivot.rotationQuaternion, this.cameraRotation, turnDampener, this.cameraPivot.rotationQuaternion);
                        // ..
                        // Update Camera Boom
                        // ..
                        const cameraBoomDistance = BABYLON.Scalar.Lerp(this.minimumDistance, this.maximumDistance, this.m_standardController.getGradientSpeed());
                        this.m_cameraTransform.position.set(0, 0, -cameraBoomDistance);
                    }
                }
                else {
                    this.m_cameraTransform.lookAt(this.transform.position);
                }
            }
        }
    }
    PROJECT.VehicleCameraManager = VehicleCameraManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    class VehicleInputController extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.playerDeltaX = 0;
            this.playerDeltaY = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.ackermanRadius = 0.85;
            this.recoveryRadius = 0.25;
            this.waypointPosition = BABYLON.Vector3.Zero();
            this.waypointCount = 0;
            this.waypointIndex = 0;
            this.noMovementTime = 0;
            this.reverseFixMode = false;
            this.recoveryFixMode = false;
            this.nextTargetSpeed = 0;
            this.prevTargetSpeed = 0;
            this.vehicleResetCheck = 0;
            this.randomSkillFactor = 0;
            this.showChaseRabbit = false;
            this.showSensorLines = false;
            this.steeringWheelMode = -1;
            this.rabbitTrackerLine = null;
            this.rabbitTrackerColor = new BABYLON.Color3(1, 1, 1);
            this.greenTrackingColor = new BABYLON.Color3(0, 1, 0);
            this.redTrackingColor = new BABYLON.Color3(1, 0, 0);
            this.localTargetPosition = new BABYLON.Vector3(0, 0, 0);
            this.avoidPositionOffset = new BABYLON.Vector3(0, 0, 0);
            this.avoidanceLerp = 0;
            this.avoidanceTimer = 0;
            this.avoidanceValue = 0;
            this.randomTurning = 0;
            this.randomBoosting = 0;
            this.randomDistance = 0;
            this.lastCheckpoint = -1;
            this.mainCenterSensorLine = null;
            this.mainRightSensorLine = null;
            this.mainLeftSensorLine = null;
            this.angleRightSensorLine = null;
            this.angleLeftSensorLine = null;
            this.sideRightSensorLine = null;
            this.sideLeftSensorLine = null;
            this.backRightSensorLine = null;
            this.backLeftSensorLine = null;
            this.sidewaysOffsetVector = BABYLON.Vector3.Zero();
            this.backBumperEdgeVector = BABYLON.Vector3.Zero();
            this.sensorStartPos = BABYLON.Vector3.Zero();
            this.sensorPointPos = BABYLON.Vector3.Zero();
            this.sensorAnglePos = BABYLON.Vector3.Zero();
            this.rsideStartPos = BABYLON.Vector3.Zero();
            this.rsidePointPos = BABYLON.Vector3.Zero();
            this.lsideStartPos = BABYLON.Vector3.Zero();
            this.lsidePointPos = BABYLON.Vector3.Zero();
            this.tempScaleVector = BABYLON.Vector3.Zero();
            this.rbackStartPos = BABYLON.Vector3.Zero();
            this.rbackPointPos = BABYLON.Vector3.Zero();
            this.lbackStartPos = BABYLON.Vector3.Zero();
            this.lbackPointPos = BABYLON.Vector3.Zero();
            this.trackVehiclePosition = BABYLON.Vector3.Zero();
            this.trackRabbitPosition = BABYLON.Vector3.Zero();
            this.enableInput = false;
            this.resetTiming = 3.0;
            this.playerNumber = UNITY.PlayerNumber.One;
            this.pedelForward = 7; // Generic Button 7 (Foot Pedal)
            this.triggerForward = UNITY.Xbox360Trigger.Right;
            this.keyboardForawrd = UNITY.UserInputKey.W;
            this.auxKeyboardForawrd = UNITY.UserInputKey.UpArrow;
            this.pedalBackward = 6; // Generic Button 6 (Foot Pedal)
            this.triggerBackwards = UNITY.Xbox360Trigger.Left;
            this.keyboardBackwards = UNITY.UserInputKey.S;
            this.auxKeyboardBackwards = UNITY.UserInputKey.DownArrow;
            this.buttonHandbrake = BABYLON.Xbox360Button.X;
            this.keyboardHandbrake = UNITY.UserInputKey.SpaceBar;
            this.leftWheelHandbrake = 4; // Generic Button 4 (Hand Paddle)
            this.rightWheelHandbrake = 5; // Generic Button 5 (Hand Paddle)
            this.buttonDonut = BABYLON.Xbox360Button.B;
            this.keyboardDonut = UNITY.UserInputKey.Shift;
            this.leftWheelDonut = 10; // Generic Button 10 (Wheel Button)
            this.rightWheelDonut = 11; // Generic Button 11 (Wheel Button)
            // Auto Pilot Properties
            this.raceLineNode = 0;
            this.minLookAhead = 5;
            this.maxLookAhead = 50;
            this.driverSkillLevel = 1;
            this.chaseRabbitSpeed = 1.0;
            this.throttleSensitivity = 1;
            this.steeringSensitivity = 1;
            this.brakingSensitivity = 1;
            this.brakingTurnAngle = 15;
            this.brakingSpeedLimit = 90;
            this.skiddingSpeedLimit = 100;
            this.linearDampenForce = 0.1;
            this.driveSpeedMultiplier = 5.0;
            this.driveLineDistance = 1.0;
            this.resetMovingTimeout = 3;
            this.reverseThrottleTime = 3;
            this.maxRaceTrackSpeed = 0;
            this.trackManagerIdentity = "TrackManager";
            // Auto Pilot Avoid Sensors
            this.vehicleTag = "Vehicle";
            this.obstacleTag = "Obstacle";
            this.sensorLength = 8;
            this.spacerWidths = 0.85;
            this.angleFactors = 1.5;
            this.initialOffsetX = 1;
            this.initialOffsetY = 0.5;
            this.initialOffsetZ = 2;
            this.sidewaysLength = 1.5;
            this.sidewaysOffset = 0.5;
            this.backBumperEdge = 2.5;
            this.powerBoosting = 0.5;
            this.wonderDistance = 1.0;
            this.avoidanceFactor = 0.5;
            this.avoidanceSpeed = 3.0;
            this.avoidanceTimeout = 3.0;
            this.avoidanceDistance = 2.0;
            // Auto Pilot Reverse Options
            this.reversingFlag = false;
            this.reversingTime = 0.0;
            this.reversingWait = 2.0;
            this.reversingFor = 1.5;
            // Vehicle Drive Properties
            this.m_chasePointMesh = null;
            this.m_chaseRabbitMesh = null;
            this.m_circuitInterfaces = null;
            this.m_circuitRaceLine_1 = null;
            this.m_circuitRaceLine_2 = null;
            this.m_circuitRaceLine_3 = null;
            this.m_circuitRaceLine_4 = null;
            this.m_circuitRaceLine_5 = null;
            this.m_rigidbodyPhysics = null;
            this.m_checkpointManager = null;
            this.m_standardCarController = null;
        }
        // Public Properties
        getPlayerDeltaX() { return this.playerDeltaX; }
        ;
        getPlayerDeltaY() { return this.playerDeltaY; }
        ;
        getPlayerMouseX() { return this.playerMouseX; }
        ;
        getPlayerMouseY() { return this.playerMouseY; }
        ;
        getWaypointIndex() { return this.waypointIndex; }
        ;
        getChaseRabbitMesh() { return this.m_chaseRabbitMesh; }
        ;
        resetChaseRabbitMesh() {
            if (this.m_chaseRabbitMesh != null) {
                this.m_chaseRabbitMesh.position = this.transform.position.clone();
                this.m_chaseRabbitMesh.rotationQuaternion = this.transform.rotationQuaternion.clone();
            }
        }
        getChasePointMesh() { return this.m_chasePointMesh; }
        ;
        resetChasePointMesh() {
            if (this.m_chasePointMesh != null) {
                this.m_chasePointMesh.position = this.transform.position.clone();
                this.m_chasePointMesh.rotationQuaternion = this.transform.rotationQuaternion.clone();
            }
        }
        awake() { this.awakeVehicleController(); }
        start() { this.initVehicleController(); }
        update() { this.updateVehicleController(); }
        destroy() { this.destroyVehicleController(); }
        //////////////////////////////////////////////////
        // Protected Character Movement State Functions //
        //////////////////////////////////////////////////
        awakeVehicleController() {
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.resetTiming = this.getProperty("resetTiming", this.resetTiming);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.ackermanRadius = this.getProperty("ackermanRadius", this.ackermanRadius);
            this.recoveryRadius = this.getProperty("recoveryRadius", this.recoveryRadius);
            this.showChaseRabbit = this.getProperty("showChaseRabbit", this.showChaseRabbit);
            this.showSensorLines = this.getProperty("showSensorLines", this.showSensorLines);
            // ..
            this.minLookAhead = this.getProperty("minLookAhead", this.minLookAhead);
            this.maxLookAhead = this.getProperty("maxLookAhead", this.maxLookAhead);
            this.driverSkillLevel = this.getProperty("driverSkillLevel", this.driverSkillLevel);
            this.throttleSensitivity = this.getProperty("throttleSensitivity", this.throttleSensitivity);
            this.steeringSensitivity = this.getProperty("steeringSensitivity", this.steeringSensitivity);
            this.brakingSensitivity = this.getProperty("brakingSensitivity", this.brakingSensitivity);
            this.brakingTurnAngle = this.getProperty("brakingTurnAngle", this.brakingTurnAngle);
            this.brakingSpeedLimit = this.getProperty("brakingSpeedLimit", this.brakingSpeedLimit);
            this.skiddingSpeedLimit = this.getProperty("skiddingSpeedLimit", this.skiddingSpeedLimit);
            this.linearDampenForce = this.getProperty("linearDampenForce", this.linearDampenForce);
            this.resetMovingTimeout = this.getProperty("resetMovingTimeout", this.resetMovingTimeout);
            this.reverseThrottleTime = this.getProperty("reverseThrottleTime", this.reverseThrottleTime);
            this.driveSpeedMultiplier = this.getProperty("driveSpeedMultiplier", this.driveSpeedMultiplier);
            this.driveLineDistance = this.getProperty("driveLineDistance", this.driveLineDistance);
            this.maxRaceTrackSpeed = this.getProperty("maxRaceTrackSpeed", this.maxRaceTrackSpeed);
            this.trackManagerIdentity = this.getProperty("trackManagerIdentity", this.trackManagerIdentity);
            // ..
            this.vehicleTag = this.getProperty("vehicleTag", this.vehicleTag);
            this.obstacleTag = this.getProperty("obstacleTag", this.obstacleTag);
            this.sensorLength = this.getProperty("sensorLength", this.sensorLength);
            this.spacerWidths = this.getProperty("spacerWidths", this.spacerWidths);
            this.angleFactors = this.getProperty("angleFactors", this.angleFactors);
            this.initialOffsetX = this.getProperty("initialOffsetX", this.initialOffsetX);
            this.initialOffsetY = this.getProperty("initialOffsetY", this.initialOffsetY);
            this.initialOffsetZ = this.getProperty("initialOffsetZ", this.initialOffsetZ);
            this.sidewaysLength = this.getProperty("sidewaysLength", this.sidewaysLength);
            this.sidewaysOffset = this.getProperty("sidewaysOffset", this.sidewaysOffset);
            this.backBumperEdge = this.getProperty("backBumperEdge", this.backBumperEdge);
            this.powerBoosting = this.getProperty("powerBoosting", this.powerBoosting);
            this.wonderDistance = this.getProperty("wonderDistance", this.wonderDistance);
            this.avoidanceFactor = this.getProperty("avoidanceFactor", this.avoidanceFactor);
            this.avoidanceSpeed = this.getProperty("avoidanceSpeed", this.avoidanceSpeed);
            this.avoidanceTimeout = this.getProperty("avoidanceTimeout", this.avoidanceTimeout);
            this.avoidanceDistance = this.getProperty("avoidanceDistance", this.avoidanceDistance);
            // ..
            if (this.ackermanRadius <= 0)
                this.ackermanRadius = 1;
            if (this.recoveryRadius <= 0)
                this.recoveryRadius = 1;
            if (this.resetMovingTimeout <= 0)
                this.resetMovingTimeout = 3;
            if (this.reverseThrottleTime <= 0)
                this.reverseThrottleTime = 3;
            if (this.throttleSensitivity <= 0)
                this.throttleSensitivity = 1;
            if (this.steeringSensitivity <= 0)
                this.steeringSensitivity = 1;
            if (this.brakingSensitivity <= 0)
                this.brakingSensitivity = 1;
            if (this.linearDampenForce <= 0)
                this.linearDampenForce = 0.1;
            if (this.angleFactors <= 0)
                this.angleFactors = 1.5;
            if (this.sensorLength <= 0)
                this.sensorLength = 8;
            if (this.sidewaysLength <= 0)
                this.sidewaysLength = 1;
            // ..
            if (this.brakingSpeedLimit <= 0)
                this.brakingSpeedLimit = 40;
            if (this.skiddingSpeedLimit <= 0)
                this.skiddingSpeedLimit = 80;
            if (this.driveSpeedMultiplier <= 1)
                this.driveSpeedMultiplier = 5;
            if (this.trackManagerIdentity == null || this.trackManagerIdentity === "")
                this.trackManagerIdentity = "TrackManager";
            // ..
            const initialRaceLineNode = this.getProperty("initialRaceLineNode", 1);
            this.raceLineNode = (initialRaceLineNode - 1);
            // ..
            const randomizer = this.getRandomNumber(10, 15) * 1000;
            UNITY.SceneManager.SetInterval(randomizer, () => { this.randomSkillFactor = this.getRandomNumber(1, 20); });
        }
        initVehicleController() {
            this.m_rigidbodyPhysics = this.getComponent("UNITY.RigidbodyPhysics");
            this.m_checkpointManager = this.getComponent("PROJECT.CheckpointManager");
            if (this.m_rigidbodyPhysics != null) {
                this.m_rigidbodyPhysics.onCollisionEnterObservable.add((mesh) => {
                    const tag = UNITY.SceneManager.GetTransformTag(mesh);
                    if (tag === this.vehicleTag) {
                        // UNITY.SceneManager.ConsoleWarn(this.transform.name.toLocaleUpperCase() + " CAR COLLISION ENTER: " + mesh.name + " ---> TAG: " + tag);
                    }
                });
                this.m_rigidbodyPhysics.onCollisionStayObservable.add((mesh) => {
                    if (mesh != null) {
                        const tag = UNITY.SceneManager.GetTransformTag(mesh);
                        if (tag === this.vehicleTag) {
                            // UNITY.SceneManager.ConsoleLog(this.transform.name.toLocaleUpperCase() + " CAR COLLISION STAY: " + mesh.name + " ---> TAG: " + tag);
                        }
                    }
                });
                this.m_rigidbodyPhysics.onCollisionExitObservable.add((mesh) => {
                    if (mesh != null) {
                        const tag = UNITY.SceneManager.GetTransformTag(mesh);
                        if (tag === this.vehicleTag) {
                            // UNITY.SceneManager.ConsoleWarn(this.transform.name.toLocaleUpperCase() + " CAR COLLISION EXIT: " + mesh.name + " ---> TAG: " + tag);
                        }
                    }
                });
            }
            else {
                UNITY.SceneManager.LogWarning("Null rigidbody physics for: " + this.transform.name);
            }
            // Get Standard Car Controller
            this.m_standardCarController = this.getComponent("PROJECT.StandardCarController");
            //if (this.m_standardCarController != null) {
            //    this.m_standardCarController.playVehicleSounds = true;
            //} else {
            //    UNITY.SceneManager.LogWarning("Null standard car controller for: " + this.transform.name);
            //}
            // Get Race Track Manager Waypoints
            const waypointsTransform = UNITY.SceneManager.GetTransformNode(this.scene, this.trackManagerIdentity);
            if (waypointsTransform != null) {
                const raceTrackManager = UNITY.SceneManager.FindScriptComponent(waypointsTransform, "PROJECT.RaceTrackManager");
                if (raceTrackManager != null) {
                    this.waypointCount = 0;
                    this.waypointIndex = 0;
                    this.m_circuitInterfaces = raceTrackManager.getTrackNodes();
                    this.m_circuitRaceLine_1 = raceTrackManager.getControlPoints(0);
                    this.m_circuitRaceLine_2 = raceTrackManager.getControlPoints(1);
                    this.m_circuitRaceLine_3 = raceTrackManager.getControlPoints(2);
                    this.m_circuitRaceLine_4 = raceTrackManager.getControlPoints(3);
                    this.m_circuitRaceLine_5 = raceTrackManager.getControlPoints(4);
                    if (this.m_circuitInterfaces != null && this.m_circuitInterfaces.length > 0) {
                        this.waypointCount = this.m_circuitInterfaces.length;
                    }
                }
                else {
                    UNITY.SceneManager.LogWarning("Fail to locate race track manager for: " + this.transform.name);
                }
            }
            else {
                UNITY.SceneManager.LogWarning("Fail to locate race track manager '" + this.trackManagerIdentity + "' for: " + this.transform.name);
            }
        }
        updateVehicleController() {
            if (this.enableInput === true) {
                if (this.playerNumber === 0) {
                    this.updateAutoPilotDrive();
                }
                else {
                    this.updateManualInputDrive();
                }
            }
            //////////////////////////////////////////////////////////////////////////////////
            // Validate Vehicle Flipped Upright
            //////////////////////////////////////////////////////////////////////////////////
            if (this.resetTiming > 0 && this.m_standardCarController != null) {
                const gameTime = UNITY.SceneManager.GetGameTime();
                if (this.transform.up.y > 0.5 || this.m_standardCarController.getAbsoluteSpeed() > 1) {
                    this.vehicleResetCheck = gameTime;
                }
                if (gameTime > (this.vehicleResetCheck + this.resetTiming)) {
                    // FIXME: Reset To Last Check Point
                    this.transform.position.addInPlace(BABYLON.Vector3.Up().scale(0.5));
                    UNITY.Utilities.LookRotationToRef(this.transform.forward, this.transform.rotationQuaternion);
                }
            }
        }
        updateManualInputDrive() {
            if (this.m_standardCarController != null) {
                this.playerDeltaX = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.Horizontal, this.playerNumber);
                this.playerDeltaY = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.Vertical, this.playerNumber);
                this.playerMouseX = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.MouseX, this.playerNumber);
                this.playerMouseY = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.MouseY, this.playerNumber);
                // Get Button Triggers
                const auxForwardKeyboard = UNITY.InputController.GetKeyboardInput(this.auxKeyboardForawrd); // Player One Only
                const forwardKeyboard = UNITY.InputController.GetKeyboardInput(this.keyboardForawrd); // Player One Only
                const forwardTrigger = UNITY.InputController.GetGamepadTriggerInput(this.triggerForward, this.playerNumber);
                const forwardPedal = UNITY.InputController.GetGamepadButtonInput(this.pedelForward, this.playerNumber);
                const auxBackwardKeyboard = UNITY.InputController.GetKeyboardInput(this.auxKeyboardBackwards); // Player One Only
                const backwardKeyboard = UNITY.InputController.GetKeyboardInput(this.keyboardBackwards); // Player One Only
                const backwardTrigger = UNITY.InputController.GetGamepadTriggerInput(this.triggerBackwards, this.playerNumber);
                const backwardPedal = UNITY.InputController.GetGamepadButtonInput(this.pedalBackward, this.playerNumber);
                const handbrakeKeyboard = UNITY.InputController.GetKeyboardInput(this.keyboardHandbrake); // Player One Only
                const handbrakeButton = UNITY.InputController.GetGamepadButtonInput(this.buttonHandbrake, this.playerNumber);
                const handbrakeWheel_L = UNITY.InputController.GetGamepadButtonInput(this.leftWheelHandbrake, this.playerNumber);
                const handbrakeWheel_R = UNITY.InputController.GetGamepadButtonInput(this.rightWheelHandbrake, this.playerNumber);
                const donutKeyboard = UNITY.InputController.GetKeyboardInput(this.keyboardDonut); // Player One Only
                const donutButton = UNITY.InputController.GetGamepadButtonInput(this.buttonDonut, this.playerNumber);
                const donutWheel_L = UNITY.InputController.GetGamepadButtonInput(this.leftWheelDonut, this.playerNumber);
                const donutWheel_R = UNITY.InputController.GetGamepadButtonInput(this.rightWheelDonut, this.playerNumber);
                // Reset Player Movement
                let playerMovement = 0;
                let playerSteering = 0;
                let playerHandbrake = false;
                let playerDonuts = false;
                let wheelInput = false;
                // Primary Accelerattion
                if (forwardTrigger > 0.2)
                    playerMovement = forwardTrigger;
                else if (forwardPedal === true) {
                    playerMovement = 1;
                    wheelInput = true;
                }
                else if (this.playerNumber === UNITY.PlayerNumber.One && (forwardKeyboard === true || auxForwardKeyboard === true))
                    playerMovement = 1;
                // Braking Takes Precedence
                if (backwardTrigger > 0.2)
                    playerMovement = -backwardTrigger;
                else if (backwardPedal === true) {
                    playerMovement = -1;
                    wheelInput = true;
                }
                else if (this.playerNumber === UNITY.PlayerNumber.One && (backwardKeyboard === true || auxBackwardKeyboard === true))
                    playerMovement = -1;
                // Includes AD And Arrow Keys
                playerSteering = this.playerDeltaX;
                // Pull Hard Hand Brake Lever
                playerHandbrake = (handbrakeKeyboard === true || handbrakeButton === true || handbrakeWheel_L === true || handbrakeWheel_R === true);
                // Press Burnout Donut Button
                playerDonuts = (donutKeyboard === true || donutButton === true || donutWheel_L === true || donutWheel_R === true);
                // Validate Steering Wheel Mode
                if (this.steeringWheelMode === -1 && UNITY.UserInputOptions.SupportedInputDevices != null && UNITY.UserInputOptions.SupportedInputDevices.length > 0) {
                    const gamepad = UNITY.InputController.GetGamepad(this.playerNumber);
                    if (gamepad != null && gamepad.id != null) {
                        let foundSupportedDevice = false;
                        for (let index = 0; index < UNITY.UserInputOptions.SupportedInputDevices.length; index++) {
                            const wheel = UNITY.UserInputOptions.SupportedInputDevices[index];
                            if (gamepad.id.toLowerCase().indexOf(wheel.deviceName.toLowerCase()) >= 0) {
                                if (wheel.forwardButton > -1)
                                    this.pedelForward = wheel.forwardButton;
                                if (wheel.backwardButton > -1)
                                    this.pedalBackward = wheel.backwardButton;
                                if (wheel.leftHandBrake > -1)
                                    this.leftWheelHandbrake = wheel.leftHandBrake;
                                if (wheel.rightHandBrake > -1)
                                    this.rightWheelHandbrake = wheel.rightHandBrake;
                                if (wheel.leftDonutBoost > -1)
                                    this.leftWheelDonut = wheel.leftDonutBoost;
                                if (wheel.rightDonutBoost > -1)
                                    this.rightWheelDonut = wheel.rightDonutBoost;
                                foundSupportedDevice = true;
                                console.warn(gamepad.id + " steering wheel controls attached to: " + this.transform.name);
                                break;
                            }
                        }
                        this.steeringWheelMode = (foundSupportedDevice === true) ? 1 : 0;
                    }
                }
                // Drive Standard Car Controller
                this.m_standardCarController.ackermanTurnFactor = (wheelInput === true) ? this.ackermanRadius : 1.0;
                this.m_standardCarController.throttleEngineSpeed = 0;
                this.m_standardCarController.throttleBrakingForce = 0;
                this.m_standardCarController.drive(playerMovement, playerSteering, playerHandbrake, playerDonuts, 0, false);
            }
        }
        updateAutoPilotDrive() {
            if (this.m_standardCarController != null) {
                const gameTime = this.getGameTime();
                const deltaTime = this.getDeltaSeconds();
                const transformPosition = this.transform.getAbsolutePosition();
                this.raceLineNode = BABYLON.Scalar.Clamp(this.raceLineNode, 0, 4);
                if (this.m_chaseRabbitMesh == null) {
                    this.m_chaseRabbitMesh = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".Rabbit", { segments: 24, diameter: 1 }, this.scene);
                    this.m_chaseRabbitMesh.checkCollisions = false;
                    this.m_chaseRabbitMesh.receiveShadows = false;
                    this.m_chaseRabbitMesh.visibility = 1.0;
                    this.m_chaseRabbitMesh.isVisible = false;
                    this.resetChaseRabbitMesh();
                }
                if (this.m_chaseRabbitMesh != null) {
                    if (this.m_chaseRabbitMesh.isVisible === true && this.showChaseRabbit === false) {
                        this.m_chaseRabbitMesh.isVisible = false;
                    }
                    if (this.m_chaseRabbitMesh.isVisible === false && this.showChaseRabbit === true) {
                        this.m_chaseRabbitMesh.isVisible = true;
                    }
                }
                if (this.m_chasePointMesh == null) {
                    this.m_chasePointMesh = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".Point", { size: 0.9 }, this.scene);
                    this.m_chasePointMesh.checkCollisions = false;
                    this.m_chasePointMesh.receiveShadows = false;
                    this.m_chasePointMesh.visibility = 1.0;
                    this.m_chasePointMesh.isVisible = false;
                    this.resetChasePointMesh();
                }
                if (this.m_chasePointMesh != null) {
                    if (this.m_chasePointMesh.isVisible === true && this.showChaseRabbit === false) {
                        this.m_chasePointMesh.isVisible = false;
                    }
                    if (this.m_chasePointMesh.isVisible === false && this.showChaseRabbit === true) {
                        this.m_chasePointMesh.isVisible = true;
                    }
                }
                ////////////////////////////////////////////////////////////////////////////////////////////
                // Update Avoidance Timer
                ////////////////////////////////////////////////////////////////////////////////////////////
                if (this.avoidanceTimer > 0) {
                    this.avoidanceTimer -= deltaTime;
                    if (this.avoidanceTimer <= 0) {
                        this.avoidanceTimer = 0;
                        this.avoidanceValue = 0;
                    }
                }
                ////////////////////////////////////////////////////////////////////////////////////////////
                // Sensor Update System
                ////////////////////////////////////////////////////////////////////////////////////////////
                let tagname = "";
                let contact = false;
                let raycast = null;
                let avoidance = 0;
                this.sidewaysOffsetVector.set(0, 0, -this.sidewaysOffset);
                this.backBumperEdgeVector.set(0, 0, -this.backBumperEdge);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Main Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                this.sensorStartPos.copyFrom(transformPosition);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.sensorStartPos);
                this.transform.forward.scaleAndAddToRef(this.initialOffsetZ, this.sensorStartPos);
                // Setup Main Sensor Point
                this.sensorPointPos.copyFrom(this.sensorStartPos);
                this.transform.forward.scaleAndAddToRef(this.sensorLength, this.sensorPointPos);
                this.sensorAnglePos.copyFrom(this.sensorPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Right Side Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.rsideStartPos, this.sidewaysOffsetVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.rsideStartPos);
                this.transform.right.scaleAndAddToRef(this.initialOffsetX, this.rsideStartPos);
                // Setup Right Side Sensor Point
                this.rsidePointPos.copyFrom(this.rsideStartPos);
                this.transform.right.scaleAndAddToRef(this.sidewaysLength, this.rsidePointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Right Back Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.rbackStartPos, this.backBumperEdgeVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.rbackStartPos);
                this.transform.right.scaleAndAddToRef(this.initialOffsetX, this.rbackStartPos);
                // Setup Right Back Sensor Point
                this.rbackPointPos.copyFrom(this.rbackStartPos);
                this.transform.right.scaleAndAddToRef(this.sidewaysLength, this.rbackPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Left Side Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.lsideStartPos, this.sidewaysOffsetVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.lsideStartPos);
                this.transform.right.scaleAndAddToRef(-this.initialOffsetX, this.lsideStartPos);
                // Setup Left Side Sensor Point
                this.lsidePointPos.copyFrom(this.lsideStartPos);
                this.transform.right.scaleAndAddToRef(-this.sidewaysLength, this.lsidePointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Left Back Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.lbackStartPos, this.backBumperEdgeVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.lbackStartPos);
                this.transform.right.scaleAndAddToRef(-this.initialOffsetX, this.lbackStartPos);
                // Setup Left Back Sensor Point
                this.lbackPointPos.copyFrom(this.lbackStartPos);
                this.transform.right.scaleAndAddToRef(-this.sidewaysLength, this.lbackPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Save Initial Start Point
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                const firstSensorStartPos = this.sensorStartPos.clone();
                const firstSensorPointPos = this.sensorPointPos.clone();
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let mainRightSensorContact = false;
                this.transform.right.scaleToRef(this.spacerWidths, this.tempScaleVector);
                this.sensorStartPos.addInPlace(this.tempScaleVector);
                this.sensorPointPos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorPointPos);
                if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                    tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                    contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                    if (contact === true) {
                        mainRightSensorContact = true;
                        avoidance -= 1.0;
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainRightSensorLine == null)
                        this.mainRightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".MainRightSensorLine", this.scene);
                    if (contact === true) {
                        this.mainRightSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainRightSensorLine.drawLine([this.sensorStartPos, this.sensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Angle Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let angleRightSensorContact = false;
                this.transform.right.scaleToRef((this.spacerWidths * 2) * this.angleFactors, this.tempScaleVector);
                this.sensorAnglePos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorAnglePos);
                if (mainRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            angleRightSensorContact = true;
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.angleRightSensorLine == null)
                        this.angleRightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".AngleRightSensorLine", this.scene);
                    if (contact === true) {
                        this.angleRightSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.angleRightSensorLine.drawLine([this.sensorStartPos, this.sensorAnglePos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Side Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let sideRightSensorContact = false;
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.rsideStartPos, this.rsidePointPos);
                if (mainRightSensorContact === false && angleRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            sideRightSensorContact = true;
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.sideRightSensorLine == null)
                        this.sideRightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".SideRightSensorLine", this.scene);
                    if (contact === true) {
                        this.sideRightSensorLine.drawLine([this.rsideStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.sideRightSensorLine.drawLine([this.rsideStartPos, this.rsidePointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Back Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.rbackStartPos, this.rbackPointPos);
                if (mainRightSensorContact === false && angleRightSensorContact === false && sideRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.backRightSensorLine == null)
                        this.backRightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".BackRightSensorLine", this.scene);
                    if (contact === true) {
                        this.backRightSensorLine.drawLine([this.rbackStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.backRightSensorLine.drawLine([this.rbackStartPos, this.rbackPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let mainLeftSensorContact = false;
                this.transform.right.scaleToRef(-(this.spacerWidths * 2), this.tempScaleVector);
                this.sensorStartPos.addInPlace(this.tempScaleVector);
                this.sensorPointPos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorPointPos);
                if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                    tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                    contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                    if (contact === true) {
                        mainLeftSensorContact = true;
                        avoidance += 1.0;
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainLeftSensorLine == null)
                        this.mainLeftSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".MainLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.mainLeftSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainLeftSensorLine.drawLine([this.sensorStartPos, this.sensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Angle Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let angleLeftSensorContact = false;
                this.transform.right.scaleToRef(-(this.spacerWidths * 4) * this.angleFactors, this.tempScaleVector);
                this.sensorAnglePos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorAnglePos);
                if (mainLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            angleLeftSensorContact = true;
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.angleLeftSensorLine == null)
                        this.angleLeftSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".AngleLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.angleLeftSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.angleLeftSensorLine.drawLine([this.sensorStartPos, this.sensorAnglePos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Side Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let sideLeftSensorContact = false;
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.lsideStartPos, this.lsidePointPos);
                if (mainLeftSensorContact === false && angleLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            sideLeftSensorContact = true;
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.sideLeftSensorLine == null)
                        this.sideLeftSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".SideLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.sideLeftSensorLine.drawLine([this.lsideStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.sideLeftSensorLine.drawLine([this.lsideStartPos, this.lsidePointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Back Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.lbackStartPos, this.lbackPointPos);
                if (mainLeftSensorContact === false && angleLeftSensorContact === false && sideLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.backLeftSensorLine == null)
                        this.backLeftSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".BackLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.backLeftSensorLine.drawLine([this.lbackStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.backLeftSensorLine.drawLine([this.lbackStartPos, this.lbackPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Center Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                // FIXME: raycast = UNITY.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, firstSensorStartPos, firstSensorPointPos);
                if (avoidance === 0) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            if (raycast.hitNormal.x < 0) {
                                avoidance = -1;
                            }
                            else {
                                avoidance = 1;
                            }
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainCenterSensorLine == null)
                        this.mainCenterSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".MainCenterSensorLine", this.scene);
                    if (contact === true) {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, firstSensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // TODO - Long Range Brake Threat Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                /*
                tagname = "";
                contact = false;
                raycast = UNITY.SceneManager.PhysicsRaycastToPoint(this.scene, firstSensorStartPos, firstSensorPointPos);
                if (avoidance === 0) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainCenterSensorLine == null) this.mainCenterSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".MainCenterSensorLine", this.scene);
                    if (contact === true) {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    } else {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, firstSensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                */
                ////////////////////////////////////////////////////////////////////////////////////////////
                const trackNode = this.getCurrentTrackNode(this.waypointIndex);
                const controlPoint = this.getCurrentControlPoint(this.raceLineNode, this.waypointIndex);
                if (this.m_chaseRabbitMesh != null && this.waypointCount > 0 && trackNode != null && controlPoint != null) {
                    this.waypointPosition.set(controlPoint.position.x, controlPoint.position.y, controlPoint.position.z);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const targetSpeed = (controlPoint.speed > 0 ? controlPoint.speed : 100) * this.getDriverSkillFactor();
                    const targetRadius = (trackNode.radius * 1);
                    const distToTarget = BABYLON.Vector3.Distance(this.waypointPosition, transformPosition);
                    if (distToTarget < targetRadius) {
                        if (this.prevTargetSpeed <= 0)
                            this.prevTargetSpeed = targetSpeed;
                        this.nextTargetSpeed = BABYLON.Scalar.Lerp(this.prevTargetSpeed, targetSpeed, (1.0 - (distToTarget / targetRadius)));
                        if (this.showChaseRabbit === true)
                            this.rabbitTrackerColor = this.redTrackingColor;
                    }
                    else {
                        this.nextTargetSpeed = targetSpeed;
                        if (this.showChaseRabbit === true)
                            this.rabbitTrackerColor = this.greenTrackingColor;
                    }
                    const gradientSpeed = this.m_standardCarController.getGradientSpeed();
                    const americanSpeed = this.m_standardCarController.getAmericanSpeed();
                    const isSkidding = this.m_standardCarController.getCurrentSkidding();
                    const lookAhead = BABYLON.Scalar.Lerp(this.minLookAhead, this.maxLookAhead, gradientSpeed);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // TODO - UPDATE CHASE RABBIT - Walk Spline Waypoint Positions - (RaceTrackManager.GetRoadAheadDirection) - ???
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    /* GET ROUT POINT WITH DISTANCE
                    const pointToPointThreshold:number = 6;
                    const targetDelta = this.m_chaseRabbitMesh.position.subtract(transformPosition);
                    const deltaLength:number = targetDelta.length();
                    if (deltaLength < pointToPointThreshold) {
                        this.waypointIndex = (this.waypointIndex + 1) % this.m_circuitInterfaces.length;
                    }
                    // ..
                    this.m_chaseRabbitMesh.position = this.m_circuitInterfaces[this.waypointIndex].localPosition.clone();
                    this.m_chaseRabbitMesh.rotationQuaternion = this.m_circuitInterfaces[this.waypointIndex].localRotation.clone();
                    // ..
                    // get our current progress along the route
                    const progressPoint = this.raceTrackManager.getRoutePoint(this.progressDistance);
                    const aheadPoint = this.raceTrackManager.getRoutePoint(this.progressDistance + 40);
                    // ..
                    this.m_chasePointMesh.position.copyFrom(aheadPoint.position);
                    UNITY.Utilities.LookRotationToRef(aheadPoint.direction, this.m_chasePointMesh.rotationQuaternion);
                    // ..
                    const progressDelta = progressPoint.position.subtract(transformPosition);
                    if (BABYLON.Vector3.Dot(progressDelta, progressPoint.direction) < 0) {
                        this.progressDistance += progressDelta.length();
                    }
                    UTIL.PrintToScreen("Waypoint: " + this.waypointIndex + " --> Delta Length: " + deltaLength.toFixed(2) + " --> Progress Distance: " + this.progressDistance);
                    */
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // TODO - UPDATE CHASE RABBIT - Walk Spline Waypoint Positions - (RaceTrackManager.GetRoadAheadDirection) - ???
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const rabbitPosition = this.m_chaseRabbitMesh.getAbsolutePosition();
                    const rabbitDistance = BABYLON.Vector3.Distance(transformPosition, rabbitPosition);
                    if (rabbitDistance <= lookAhead) {
                        this.chaseRabbitSpeed = BABYLON.Scalar.Lerp(1.0, this.driveSpeedMultiplier, gradientSpeed);
                        this.m_chaseRabbitMesh.lookAt(this.waypointPosition);
                        this.m_chaseRabbitMesh.translate(BABYLON.Axis.Z, this.chaseRabbitSpeed);
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Avoidance Mode Tracking
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (avoidance !== 0) {
                        this.avoidanceValue = avoidance; // Last Avoidance Value
                        this.avoidanceTimer = this.avoidanceTimeout; // Reset Avoidance Timer
                    }
                    if (this.m_checkpointManager != null) {
                        const currentCheckpoint = this.m_checkpointManager.getCheckPoint();
                        if (currentCheckpoint != this.lastCheckpoint) {
                            this.randomTurning = this.generateRandonNumber(0, 3);
                            if (this.powerBoosting > 0) {
                                this.randomBoosting = this.generateRandonNumber(0, this.powerBoosting);
                            }
                            if (this.wonderDistance > 0) {
                                const minimumVal = this.driveLineDistance;
                                const randomSign = Math.sign(this.generateRandonNumber(-1, 1));
                                this.randomDistance = this.generateRandonNumber(minimumVal, (minimumVal + this.wonderDistance)) * randomSign;
                            }
                            this.lastCheckpoint = currentCheckpoint;
                        }
                    }
                    else {
                        this.randomTurning = 0;
                        this.randomBoosting = 0;
                        this.randomDistance = 0;
                    }
                    let wantedAvoidDistance = (this.avoidanceTimer > 0 && this.avoidanceValue !== 0) ? (this.avoidanceDistance * Math.sign(this.avoidanceValue)) : 0;
                    wantedAvoidDistance += this.randomDistance;
                    this.avoidanceLerp = BABYLON.Scalar.Lerp(this.avoidanceLerp, wantedAvoidDistance, (this.avoidanceSpeed * deltaTime));
                    this.avoidPositionOffset.set(this.avoidanceLerp, 0, 0);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    UNITY.Utilities.GetAbsolutePositionToRef(this.m_chaseRabbitMesh, this.m_chasePointMesh.position, this.avoidPositionOffset);
                    if (this.showChaseRabbit === true) {
                        this.trackVehiclePosition.set(transformPosition.x, (transformPosition.y + 0.5), transformPosition.z);
                        // DEPRECIATED: this.trackRabbitPosition.set(rabbitPosition.x, (rabbitPosition.y + 0.25), rabbitPosition.z);
                        this.trackRabbitPosition.set(this.m_chasePointMesh.position.x, (this.m_chasePointMesh.position.y + 0.25), this.m_chasePointMesh.position.z);
                        if (this.rabbitTrackerLine == null)
                            this.rabbitTrackerLine = new UNITY.LinesMeshRenderer((this.transform.name + ".TrackingLine"), this.scene);
                        if (this.rabbitTrackerLine != null)
                            this.rabbitTrackerLine.drawLine([this.trackVehiclePosition, this.trackRabbitPosition], this.rabbitTrackerColor);
                    }
                    // ..
                    // Validate Waypoint Distance
                    // ..
                    const waypointDistance = BABYLON.Vector3.Distance(rabbitPosition, this.waypointPosition);
                    if (waypointDistance <= 5.0) {
                        this.prevTargetSpeed = this.nextTargetSpeed;
                        this.waypointIndex++;
                        if (this.waypointIndex >= this.waypointCount) {
                            this.waypointIndex = 0;
                        }
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // DEPRECIATED: UNITY.Utilities.InverseTransformPointToRef(this.transform, rabbitPosition, this.localTargetPosition);
                    UNITY.Utilities.InverseTransformPointToRef(this.transform, this.m_chasePointMesh.position, this.localTargetPosition);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const localTargetAngle = BABYLON.Tools.ToDegrees(Math.atan2(this.localTargetPosition.x, this.localTargetPosition.z));
                    const cornerAngle = BABYLON.Scalar.Clamp(Math.abs(localTargetAngle), 0, 90);
                    const cornerFactor = (cornerAngle / 90);
                    // ..
                    // Update Vehicle Driving
                    // ..
                    let braking = 0;
                    let slowdown = 0;
                    let boosting = this.randomBoosting;
                    let topspeed = this.maxRaceTrackSpeed;
                    let throttle = (1.0 * this.throttleSensitivity);
                    let steering = BABYLON.Scalar.Clamp(((this.localTargetPosition.x / this.localTargetPosition.length()) * this.steeringSensitivity), -1, 1);
                    if (this.avoidanceFactor > 0 && avoidance !== 0) {
                        const lowSpeedAvoidance = ((avoidance * 0.112) * this.avoidanceFactor);
                        const highSpeedAvoidance = ((avoidance * 0.06) * this.avoidanceFactor);
                        steering += BABYLON.Scalar.Lerp(lowSpeedAvoidance, highSpeedAvoidance, gradientSpeed);
                    }
                    let handbraking = false;
                    if (this.nextTargetSpeed <= 0)
                        this.nextTargetSpeed = targetSpeed;
                    if (americanSpeed > this.nextTargetSpeed) { // Target Speed Throttling
                        slowdown = BABYLON.Scalar.Lerp(0.0, this.linearDampenForce, gradientSpeed);
                        throttle *= 0.2; // Note : 20 Percent Throttle Input
                    }
                    if (this.brakingTurnAngle > 0) { // Corner Angle Foot Braking
                        const checkCornerAngle = (this.brakingTurnAngle - this.randomTurning);
                        if (cornerAngle >= checkCornerAngle && americanSpeed >= this.brakingSpeedLimit) {
                            braking = BABYLON.Scalar.Lerp(0, (1 + gradientSpeed), cornerFactor);
                            slowdown = 0;
                            // ..
                            // Hard Hand Braking (Drifting)
                            // ..
                            const skiddingTriggerSpeed = (isSkidding === true) ? this.brakingSpeedLimit : this.skiddingSpeedLimit;
                            handbraking = (braking > 0 && americanSpeed >= skiddingTriggerSpeed);
                            if (handbraking === true)
                                braking = 1.0; // Note: Use Hand Braking Zone Strength
                        }
                    }
                    if (braking > 0)
                        braking = BABYLON.Scalar.Clamp((braking * this.brakingSensitivity), 0, 1);
                    if (braking > 0)
                        throttle = (-braking);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Reverse Movement Fix Mode
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (this.reverseFixMode === true) {
                        throttle = -1;
                        boosting = 0;
                        steering = 0;
                        slowdown = 0;
                        handbraking = false;
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Validate No Forward Velocity
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (throttle >= 0.1 && americanSpeed < 2.0) {
                        this.noMovementTime += deltaTime;
                    }
                    else {
                        this.noMovementTime = 0;
                    }
                    if (this.noMovementTime >= this.resetMovingTimeout) {
                        this.noMovementTime = 0;
                        this.reverseFixMode = true;
                        this.recoveryFixMode = true;
                        const reverseTime = (this.reverseThrottleTime * 1000);
                        const recoveryTime = ((this.reverseThrottleTime * 1000) * 3.0);
                        UNITY.SceneManager.SetTimeout(reverseTime, () => { this.reverseFixMode = false; });
                        UNITY.SceneManager.SetTimeout(recoveryTime, () => { this.recoveryFixMode = false; });
                    }
                    this.m_standardCarController.ackermanTurnFactor = (this.recoveryFixMode === true) ? this.recoveryRadius : 1.0;
                    this.m_standardCarController.throttleEngineSpeed = topspeed;
                    this.m_standardCarController.throttleBrakingForce = slowdown;
                    this.m_standardCarController.drive(throttle, steering, handbraking, false, boosting, true);
                }
            }
        }
        getDriverSkillFactor() {
            let result = 0.60;
            let skill = this.driverSkillLevel;
            if (this.randomSkillFactor >= 18) {
                skill += 2;
            }
            else if (this.randomSkillFactor >= 12) {
                skill += 1;
            }
            skill = BABYLON.Scalar.Clamp(skill, 1, 10);
            // WM.PrintToScreen("Driver Skill Level: " + skill);
            switch (skill) {
                case 10:
                    result = 1.00;
                    break;
                case 9:
                    result = 0.98;
                    break;
                case 8:
                    result = 0.95;
                    break;
                case 7:
                    result = 0.90;
                    break;
                case 6:
                    result = 0.85;
                    break;
                case 5:
                    result = 0.80;
                    break;
                case 4:
                    result = 0.75;
                    break;
                case 3:
                    result = 0.70;
                    break;
                case 2:
                    result = 0.65;
                    break;
                case 1:
                    result = 0.60;
                    break;
            }
            return result;
        }
        getCurrentTrackNode(index) {
            let result = null;
            if (index >= 0 && index < this.waypointCount) {
                result = this.m_circuitInterfaces[index];
            }
            return result;
        }
        getCurrentControlPoint(lane, index) {
            let result = null;
            if (index >= 0 && index < this.waypointCount) {
                switch (lane) {
                    case 0:
                        result = this.m_circuitRaceLine_1[index];
                        break;
                    case 1:
                        result = this.m_circuitRaceLine_2[index];
                        break;
                    case 2:
                        result = this.m_circuitRaceLine_3[index];
                        break;
                    case 3:
                        result = this.m_circuitRaceLine_4[index];
                        break;
                    case 4:
                        result = this.m_circuitRaceLine_5[index];
                        break;
                }
            }
            return result;
        }
        getRandomNumber(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        generateRandonNumber(min, max, decimals = 2) {
            const rand = (Math.random() * (max - min) + min).toFixed(decimals);
            return parseFloat(rand);
        }
        destroyVehicleController() {
            this.m_circuitInterfaces = null;
            this.m_circuitRaceLine_1 = null;
            this.m_circuitRaceLine_2 = null;
            this.m_circuitRaceLine_3 = null;
            this.m_circuitRaceLine_4 = null;
            this.m_circuitRaceLine_5 = null;
            this.m_rigidbodyPhysics = null;
            this.m_standardCarController = null;
            if (this.m_chasePointMesh != null) {
                this.m_chasePointMesh.dispose();
                this.m_chasePointMesh = null;
            }
            if (this.m_chaseRabbitMesh != null) {
                this.m_chaseRabbitMesh.dispose();
                this.m_chaseRabbitMesh = null;
            }
        }
    }
    PROJECT.VehicleInputController = VehicleInputController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class VehicleNetworkLabel
    */
    class VehicleNetworkLabel extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.label = null;
            this.autoCreate = true;
            this.offsetX = 0;
            this.offsetY = 0;
            this.labelColor = new BABYLON.Color3(1.0, 1.0, 1.0);
            this.borderColor = new BABYLON.Color3(0.0, 0.8431373, 0.827451);
            this.backgroundColor = new BABYLON.Color3(0.0, 0.4745098, 0.4666667);
            this.labelCreated = false;
        }
        update() {
            if (this.labelCreated === false && this.autoCreate === true && this.isReady()) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    const ownerName = UNITY.EntityController.QueryNetworkAttribute(this.transform, "ownerName");
                    if (ownerName != null && ownerName !== "") {
                        this.autoCreate = false;
                        this.labelCreated = true;
                        this.createLabel(ownerName);
                    }
                }
            }
        }
        createLabel(name) {
            const advancedTexture = UNITY.SceneManager.GetFullscreenUI(this.scene);
            this.label = new BABYLON.GUI.TextBlock();
            this.label.text = name;
            this.label.color = this.labelColor.toHexString(); // "white";
            this.label.fontSize = 24;
            // ..
            this.rect = new BABYLON.GUI.Rectangle();
            this.rect.width = "200px";
            this.rect.height = "40px";
            this.rect.cornerRadius = 10;
            this.rect.color = this.borderColor.toHexString(); // "#00D7D3";
            this.rect.thickness = 4;
            this.rect.background = this.backgroundColor.toHexString(); // "#007977";
            this.rect.addControl(this.label);
            // ..
            advancedTexture.addControl(this.rect);
            this.rect.linkWithMesh(this.transform);
            this.rect.linkOffsetXInPixels = this.offsetX;
            this.rect.linkOffsetYInPixels = this.offsetY;
            // FIXME: One Of Them Does Not Get The Label Created
            // console.warn("WTF: Owner Name");
            // console.log(name);
        }
        destroy() {
            console.warn("*** GOT DESTROY MESSAGE ***");
            if (this.label != null) {
                this.label.dispose();
                this.label = null;
            }
            if (this.rect != null) {
                this.rect.dispose();
                this.rect = null;
            }
        }
    }
    PROJECT.VehicleNetworkLabel = VehicleNetworkLabel;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit default camera system class
     * @class DefaultCameraSystem - All rights reserved (c) 2020 Mackey Kinard
     * https://doc.babylonjs.com/divingDeeper/postProcesses/defaultRenderingPipeline
     */
    class DefaultCameraSystem extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.mainCamera = false;
            this.cameraType = 0;
            this.cameraInertia = 0.5;
            this.cameraController = null;
            this.immersiveOptions = null;
            this.arcRotateConfig = null;
            this.multiPlayerSetup = null;
            this.fullScreenToggle = 0;
            this.editorPostProcessing = null;
            this.m_cameraRig = null;
        }
        static GetRenderingPipeline() { return PROJECT.DefaultCameraSystem.renderingPipeline; }
        ;
        static GetScreenSpacePipeline() { return PROJECT.DefaultCameraSystem.screenSpacePipeline; }
        ;
        static IsCameraSystemReady() { return PROJECT.DefaultCameraSystem.cameraReady; }
        isMainCamera() { return this.mainCamera; }
        getCameraType() { return this.cameraType; }
        awake() { this.awakeCameraSystemState(); }
        start() { this.startCameraSystemState(); }
        update() { this.updateCameraSystemState(); }
        destroy() { this.destroyCameraSystemState(); }
        /////////////////////////////////////////////
        // Universal Camera System State Functions //
        /////////////////////////////////////////////
        awakeCameraSystemState() {
            this.mainCamera = (this.getTransformTag() === "MainCamera");
            this.cameraType = this.getProperty("mainCameraType", this.cameraType);
            this.cameraInertia = this.getProperty("setCameraInertia", this.cameraInertia);
            this.fullScreenToggle = this.getProperty("fullScreenToggle", this.fullScreenToggle);
            this.immersiveOptions = this.getProperty("immersiveOptions", this.immersiveOptions);
            this.arcRotateConfig = this.getProperty("arcRotateConfig", this.arcRotateConfig);
            this.multiPlayerSetup = this.getProperty("multiPlayerSetup", this.multiPlayerSetup);
            this.cameraController = this.getProperty("cameraController", this.cameraController);
            this.editorPostProcessing = this.getProperty("renderingPipeline", this.editorPostProcessing);
            this.cleanCameraSystemState();
            if (this.fullScreenToggle === 0) {
                UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.F, () => {
                    this.scene.getEngine().enterFullscreen(true);
                });
            }
        }
        startCameraSystemState() {
            return __awaiter(this, void 0, void 0, function* () {
                UNITY.Utilities.ValidateTransformQuaternion(this.transform);
                if (this.multiPlayerSetup != null) {
                    PROJECT.DefaultCameraSystem.startupMode = this.multiPlayerSetup.playerStartupMode;
                    PROJECT.DefaultCameraSystem.stereoCameras = this.multiPlayerSetup.stereoSideBySide;
                }
                // ..
                // Default Camera System Support
                // ..
                this.m_cameraRig = this.getCameraRig();
                if (this.m_cameraRig != null) {
                    this.m_cameraRig.inertia = this.cameraInertia;
                    if (this.cameraController != null) {
                        this.m_cameraRig.speed = this.cameraController.cameraSpeed;
                        this.m_cameraRig.inverseRotationSpeed = this.cameraController.invRotationSpeed;
                        if (this.m_cameraRig instanceof BABYLON.UniversalCamera) {
                            this.m_cameraRig.gamepadAngularSensibility = this.cameraController.gamepadRotation;
                            this.m_cameraRig.gamepadMoveSensibility = this.cameraController.gamepadMovement;
                            this.m_cameraRig.touchAngularSensibility = this.cameraController.touchRotation;
                            this.m_cameraRig.touchMoveSensibility = this.cameraController.touchMovement;
                        }
                        if (this.cameraController.keyboardWASD === true) {
                            if (this.m_cameraRig.inputs != null && this.m_cameraRig.inputs.attached != null && this.m_cameraRig.inputs.attached.keyboard != null) {
                                if (this.m_cameraRig.inputs.attached.keyboard instanceof BABYLON.FreeCameraKeyboardMoveInput) {
                                    const cinput = this.m_cameraRig.inputs.attached.keyboard;
                                    cinput.keysUp.push(UNITY.UserInputKey.W);
                                    cinput.keysLeft.push(UNITY.UserInputKey.A);
                                    cinput.keysDown.push(UNITY.UserInputKey.S);
                                    cinput.keysRight.push(UNITY.UserInputKey.D);
                                    cinput.rotationSpeed = this.cameraController.rotationSpeed;
                                    if (this.cameraController.arrowKeyRotation === true) {
                                        cinput.keysLeft = [UNITY.UserInputKey.A];
                                        cinput.keysRight = [UNITY.UserInputKey.D];
                                        cinput.keysRotateLeft = [UNITY.UserInputKey.LeftArrow];
                                        cinput.keysRotateRight = [UNITY.UserInputKey.RightArrow];
                                    }
                                }
                            }
                        }
                    }
                    if (this.m_cameraRig.inputs != null && this.m_cameraRig.inputs.attached != null && this.m_cameraRig.inputs.attached.mouse != null) {
                        const mouseInput = this.m_cameraRig.inputs.attached.mouse;
                        // ..
                        // NOTE: Touch Enabled Mouse Hack
                        // ..
                        if (UNITY.Utilities.HasOwnProperty(mouseInput, "touchEnabled")) {
                            mouseInput.touchEnabled = true;
                        }
                    }
                    if (this.cameraType === 0 || this.cameraType === 4) { // Universal And Free Target Camera
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = this.m_cameraRig;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = this.transform;
                        //}             
                    }
                    else if (this.cameraType === 1 || this.cameraType === 2) { // WebXR Camera Types
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = this.m_cameraRig;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = this.transform;
                        //}             
                        if (this.immersiveOptions != null) {
                            const localStorageRequired = (this.immersiveOptions.localStorageOption === true);
                            if (localStorageRequired === false || (localStorageRequired === true && UNITY.WindowManager.GetVirtualRealityEnabled())) {
                                let webvrFloorMeshes = null;
                                let webvrHelperOptions = null;
                                let webvrImmersiveMode = (this.cameraType === 1) ? "immersive-ar" : "immersive-vr";
                                let webvrReferenceType = "local-floor";
                                switch (this.immersiveOptions.referenceSpaceType) {
                                    case 0:
                                        webvrReferenceType = "viewer";
                                        break;
                                    case 1:
                                        webvrReferenceType = "local";
                                        break;
                                    case 2:
                                        webvrReferenceType = "local-floor";
                                        break;
                                    case 4:
                                        webvrReferenceType = "unbounded";
                                        break;
                                    default:
                                        webvrReferenceType = "local-floor";
                                        break;
                                }
                                if (this.immersiveOptions.setFloorMeshesTags == null || this.immersiveOptions.setFloorMeshesTags === "")
                                    this.immersiveOptions.setFloorMeshesTags = "Navigation";
                                if (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === true)
                                    webvrFloorMeshes = this.scene.getMeshesByTags(this.immersiveOptions.setFloorMeshesTags);
                                if (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === true && webvrFloorMeshes != null && webvrFloorMeshes.length > 0) {
                                    webvrHelperOptions = {
                                        floorMeshes: webvrFloorMeshes,
                                        optionalFeatures: this.immersiveOptions.optionalFeatures,
                                        useStablePlugins: this.immersiveOptions.useStablePlugins,
                                        renderingGroupId: this.immersiveOptions.renderingGroupNum,
                                        disableDefaultUI: this.immersiveOptions.disableUserInterface,
                                        disableTeleportation: (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === false),
                                        disablePointerSelection: this.immersiveOptions.disablePointerSelect,
                                        ignoreNativeCameraTransformation: this.immersiveOptions.ignoreNativeCamera,
                                        inputOptions: {
                                            doNotLoadControllerMeshes: this.immersiveOptions.experienceInputOptions.disableMeshLoad,
                                            forceInputProfile: this.immersiveOptions.experienceInputOptions.forceInputProfile,
                                            disableOnlineControllerRepository: this.immersiveOptions.experienceInputOptions.disableRepository,
                                            customControllersRepositoryURL: this.immersiveOptions.experienceInputOptions.customRepository,
                                            disableControllerAnimation: this.immersiveOptions.experienceInputOptions.disableModelAnim,
                                            controllerOptions: {
                                                disableMotionControllerAnimation: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlAnim,
                                                doNotLoadControllerMesh: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlMesh,
                                                forceControllerProfile: this.immersiveOptions.experienceInputOptions.controllerOptions.forceCtrlProfile,
                                                renderingGroupId: this.immersiveOptions.experienceInputOptions.controllerOptions.renderingGroup
                                            }
                                        },
                                        uiOptions: {
                                            sessionMode: webvrImmersiveMode,
                                            referenceSpaceType: webvrReferenceType
                                        }
                                    };
                                }
                                else {
                                    webvrHelperOptions = {
                                        optionalFeatures: this.immersiveOptions.optionalFeatures,
                                        useStablePlugins: this.immersiveOptions.useStablePlugins,
                                        renderingGroupId: this.immersiveOptions.renderingGroupNum,
                                        disableDefaultUI: this.immersiveOptions.disableUserInterface,
                                        disableTeleportation: (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === false),
                                        disablePointerSelection: this.immersiveOptions.disablePointerSelect,
                                        ignoreNativeCameraTransformation: this.immersiveOptions.ignoreNativeCamera,
                                        inputOptions: {
                                            doNotLoadControllerMeshes: this.immersiveOptions.experienceInputOptions.disableMeshLoad,
                                            forceInputProfile: this.immersiveOptions.experienceInputOptions.forceInputProfile,
                                            disableOnlineControllerRepository: this.immersiveOptions.experienceInputOptions.disableRepository,
                                            customControllersRepositoryURL: this.immersiveOptions.experienceInputOptions.customRepository,
                                            disableControllerAnimation: this.immersiveOptions.experienceInputOptions.disableModelAnim,
                                            controllerOptions: {
                                                disableMotionControllerAnimation: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlAnim,
                                                doNotLoadControllerMesh: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlMesh,
                                                forceControllerProfile: this.immersiveOptions.experienceInputOptions.controllerOptions.forceCtrlProfile,
                                                renderingGroupId: this.immersiveOptions.renderingGroupNum
                                            }
                                        },
                                        uiOptions: {
                                            sessionMode: webvrImmersiveMode,
                                            referenceSpaceType: webvrReferenceType
                                        }
                                    };
                                }
                                PROJECT.DefaultCameraSystem.XRExperienceHelper = yield this.scene.createDefaultXRExperienceAsync(webvrHelperOptions);
                                if (PROJECT.DefaultCameraSystem.XRExperienceHelper != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience != null) {
                                    if (PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation != null) {
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.rotationAngle = BABYLON.Tools.ToRadians(this.immersiveOptions.defaultTeleportationSetup.turningAxisAngle);
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.rotationEnabled = this.immersiveOptions.defaultTeleportationSetup.rotationsEnabled;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.backwardsMovementEnabled = this.immersiveOptions.defaultTeleportationSetup.backwardsEnabled;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.backwardsTeleportationDistance = this.immersiveOptions.defaultTeleportationSetup.backwardsDistance;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.parabolicCheckRadius = this.immersiveOptions.defaultTeleportationSetup.parabolicRadius;
                                    }
                                    if (PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable && PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable.hasObservers()) {
                                        PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable.notifyObservers(PROJECT.DefaultCameraSystem.XRExperienceHelper);
                                    }
                                    if (UNITY.SceneManager.HasNavigationData()) {
                                        const navmesh = UNITY.SceneManager.GetNavigationMesh();
                                        PROJECT.DefaultCameraSystem.SetupNavigationWebXR(navmesh, this.immersiveOptions.setFloorMeshesTags);
                                    }
                                    else {
                                        UNITY.SceneManager.OnNavMeshReadyObservable.addOnce((navmesh) => {
                                            PROJECT.DefaultCameraSystem.SetupNavigationWebXR(navmesh, this.immersiveOptions.setFloorMeshesTags);
                                        });
                                    }
                                }
                                else {
                                    UNITY.SceneManager.LogWarning("WebXR not supported in current browser.");
                                }
                            }
                        }
                    }
                    else if (this.cameraType === 3) { // Multi Player Camera
                        const cameraName = this.m_cameraRig.name;
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        const playerOneTransform = new BABYLON.TransformNode("Player Camera 1", this.scene);
                        playerOneTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerOneTransform.position = this.transform.position.clone();
                        playerOneTransform.parent = this.transform.parent;
                        // ..
                        const playerOneName = cameraName + ".1";
                        const playerOneCamerax = this.m_cameraRig.clone(playerOneName);
                        playerOneCamerax.name = playerOneName;
                        playerOneCamerax.parent = playerOneTransform;
                        playerOneCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerOneCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerOneCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerOneCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = playerOneCamerax;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = playerOneTransform;
                        playerOneTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerOneCamera;
                        //}             
                        //if (PROJECT.DefaultCameraSystem.PlayerTwoCamera == null) {
                        const playerTwoTransform = new BABYLON.TransformNode("Player Camera 2", this.scene);
                        playerTwoTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerTwoTransform.position = this.transform.position.clone();
                        playerTwoTransform.parent = this.transform.parent;
                        // ..
                        const playerTwoName = cameraName + ".2";
                        const playerTwoCamerax = this.m_cameraRig.clone(playerTwoName);
                        playerTwoCamerax.name = playerTwoName;
                        playerTwoCamerax.parent = playerTwoTransform;
                        playerTwoCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerTwoCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerTwoCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerTwoCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera = playerTwoCamerax;
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform = playerTwoTransform;
                        playerTwoTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerTwoCamera;
                        //}
                        //if (PROJECT.DefaultCameraSystem.PlayerThreeCamera == null) {
                        const playerThreeTransform = new BABYLON.TransformNode("Player Camera 3", this.scene);
                        playerThreeTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerThreeTransform.position = this.transform.position.clone();
                        playerThreeTransform.parent = this.transform.parent;
                        // ..
                        const playerThreeName = cameraName + ".3";
                        const playerThreeCamerax = this.m_cameraRig.clone(playerThreeName);
                        playerThreeCamerax.name = playerThreeName;
                        playerThreeCamerax.parent = playerThreeTransform;
                        playerThreeCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerThreeCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerThreeCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerThreeCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera = playerThreeCamerax;
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform = playerThreeTransform;
                        playerThreeTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerThreeCamera;
                        //}
                        //if (PROJECT.DefaultCameraSystem.PlayerFourCamera == null) {
                        const playerFourTransform = new BABYLON.TransformNode("Player Camera 4", this.scene);
                        playerFourTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerFourTransform.position = this.transform.position.clone();
                        playerFourTransform.parent = this.transform.parent;
                        // ..
                        const playerFourName = cameraName + ".4";
                        const playerFourCamerax = this.m_cameraRig.clone(playerFourName);
                        playerFourCamerax.name = playerFourName;
                        playerFourCamerax.parent = playerFourTransform;
                        playerFourCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerFourCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerFourCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerFourCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera = playerFourCamerax;
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.transform = playerFourTransform;
                        playerFourTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerFourCamera;
                        //}
                        PROJECT.DefaultCameraSystem.multiPlayerView = true;
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, PROJECT.DefaultCameraSystem.startupMode);
                    }
                    // ..
                    // Validate Camera Attach Control
                    // ..
                    if (this.cameraController.attachControl === true) {
                        this.m_cameraRig.parent = null; // Detach Camera Parent When Attaching Control
                        this.m_cameraRig.position.copyFrom(this.transform.position);
                        this.m_cameraRig.rotationQuaternion = (this.transform.rotationQuaternion != null) ? this.transform.rotationQuaternion.clone() : BABYLON.Quaternion.FromEulerAngles(this.transform.rotation.x, this.transform.rotation.y, this.transform.rotation.z);
                        const children = this.transform.getChildren(null, true);
                        if (children != null) {
                            children.forEach((child) => { child.parent = this.m_cameraRig; });
                        }
                        if (this.m_cameraRig instanceof BABYLON.FreeCamera) { // Note: Check Base Class For Universal Camera
                            this.m_cameraRig.checkCollisions = this.cameraController.checkCollisions;
                            this.m_cameraRig.applyGravity = this.cameraController.setApplyGravity;
                        }
                        this.m_cameraRig.attachControl(this.cameraController.preventDefault);
                    }
                }
                const quality = UNITY.RenderQuality.High; // FIXME: UNITY.SceneManager.GetRenderQuality();
                const allowProcessing = (quality === UNITY.RenderQuality.High);
                //if (PROJECT.DefaultCameraSystem.renderingPipeline == null) {
                if (allowProcessing === true && this.editorPostProcessing != null && this.editorPostProcessing.usePostProcessing === true) {
                    PROJECT.DefaultCameraSystem.renderingPipeline = new BABYLON.DefaultRenderingPipeline("DefaultCameraSystem", this.editorPostProcessing.highDynamicRange, this.scene, this.scene.cameras, true);
                    if (PROJECT.DefaultCameraSystem.renderingPipeline.isSupported === true) {
                        const defaultPipeline = PROJECT.DefaultCameraSystem.renderingPipeline;
                        defaultPipeline.samples = this.editorPostProcessing.screenAntiAliasing.msaaSamples; // 1 by default (MSAA)
                        /* Image Processing */
                        defaultPipeline.imageProcessingEnabled = this.editorPostProcessing.imageProcessingConfig.imageProcessing; //true by default
                        if (defaultPipeline.imageProcessingEnabled) {
                            defaultPipeline.imageProcessing.contrast = this.editorPostProcessing.imageProcessingConfig.imageContrast; // 1 by default
                            defaultPipeline.imageProcessing.exposure = this.editorPostProcessing.imageProcessingConfig.imageExposure; // 1 by default
                            defaultPipeline.imageProcessing.toneMappingEnabled = this.editorPostProcessing.imageProcessingConfig.toneMapping; // false by default
                            defaultPipeline.imageProcessing.toneMappingType = this.editorPostProcessing.imageProcessingConfig.toneMapType; // standard by default
                            defaultPipeline.imageProcessing.vignetteEnabled = this.editorPostProcessing.imageProcessingConfig.vignetteEnabled;
                            if (defaultPipeline.imageProcessing.vignetteEnabled) {
                                defaultPipeline.imageProcessing.vignetteBlendMode = this.editorPostProcessing.imageProcessingConfig.vignetteBlendMode;
                                defaultPipeline.imageProcessing.vignetteCameraFov = this.editorPostProcessing.imageProcessingConfig.vignetteCameraFov;
                                defaultPipeline.imageProcessing.vignetteCentreX = this.editorPostProcessing.imageProcessingConfig.vignetteCentreX;
                                defaultPipeline.imageProcessing.vignetteCentreY = this.editorPostProcessing.imageProcessingConfig.vignetteCentreY;
                                defaultPipeline.imageProcessing.vignetteStretch = this.editorPostProcessing.imageProcessingConfig.vignetteStretch;
                                defaultPipeline.imageProcessing.vignetteWeight = this.editorPostProcessing.imageProcessingConfig.vignetteWeight;
                                if (this.editorPostProcessing.imageProcessingConfig.vignetteColor != null) {
                                    const vcolor = UNITY.Utilities.ParseColor4(this.editorPostProcessing.imageProcessingConfig.vignetteColor);
                                    if (vcolor != null)
                                        defaultPipeline.imageProcessing.vignetteColor = vcolor;
                                }
                            }
                            /* Color Grading */
                            defaultPipeline.imageProcessing.colorGradingEnabled = this.editorPostProcessing.imageProcessingConfig.useColorGrading; // false by default
                            if (defaultPipeline.imageProcessing.colorGradingEnabled) {
                                // KEEP FOR REFERENCE
                                /* using .3dl (best) : defaultPipeline.imageProcessing.colorGradingTexture = new BABYLON.ColorGradingTexture("textures/LateSunset.3dl", this.scene); */
                                /* using .png :
                                var colorGradingTexture = new BABYLON.Texture("textures/colorGrade-highContrast.png", this.scene, true, false);
                                colorGradingTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                colorGradingTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                defaultPipeline.imageProcessing.colorGradingTexture = colorGradingTexture;
                                defaultPipeline.imageProcessing.colorGradingWithGreenDepth = false; */
                                //////////////////////////////////////////////////////////////////////////
                                if (this.editorPostProcessing.imageProcessingConfig.setGradingTexture != null) {
                                    const colorGradingTexture = UNITY.Utilities.ParseTexture(this.editorPostProcessing.imageProcessingConfig.setGradingTexture, this.scene, true, false);
                                    colorGradingTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                    colorGradingTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                    defaultPipeline.imageProcessing.colorGradingTexture = colorGradingTexture;
                                    defaultPipeline.imageProcessing.colorGradingWithGreenDepth = false;
                                }
                            }
                            /* Color Curves */
                            defaultPipeline.imageProcessing.colorCurvesEnabled = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.curvesEnabled; // false by default
                            if (defaultPipeline.imageProcessing.colorCurvesEnabled) {
                                var curve = new BABYLON.ColorCurves();
                                curve.globalDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalDen; // 0 by default
                                curve.globalExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalExp; // 0 by default
                                curve.globalHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalHue; // 30 by default
                                curve.globalSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalSat; // 0 by default
                                curve.highlightsDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsDen; // 0 by default
                                curve.highlightsExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsExp; // 0 by default
                                curve.highlightsHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsHue; // 30 by default
                                curve.highlightsSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsSat; // 0 by default
                                curve.midtonesDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesDen; // 0 by default
                                curve.midtonesExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesExp; // 0 by default
                                curve.midtonesHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesHue; // 30 by default
                                curve.midtonesSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesSat; // 0 by default
                                curve.shadowsDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsDen; // 0 by default
                                curve.shadowsExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsExp; // 800 by default
                                curve.shadowsHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsHue; // 30 by default
                                curve.shadowsSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsSat; // 0 by default;
                                defaultPipeline.imageProcessing.colorCurves = curve;
                            }
                        }
                        /* Bloom */
                        defaultPipeline.bloomEnabled = this.editorPostProcessing.bloomEffectProperties.bloomEnabled; // false by default
                        if (defaultPipeline.bloomEnabled) {
                            defaultPipeline.bloomKernel = this.editorPostProcessing.bloomEffectProperties.bloomKernel; // 64 by default
                            defaultPipeline.bloomScale = this.editorPostProcessing.bloomEffectProperties.bloomScale; // 0.5 by default
                            defaultPipeline.bloomWeight = this.editorPostProcessing.bloomEffectProperties.bloomWeight; // 0.15 by default
                            defaultPipeline.bloomThreshold = this.editorPostProcessing.bloomEffectProperties.bloomThreshold; // 0.9 by default
                        }
                        /* Chromatic Abberation */
                        defaultPipeline.chromaticAberrationEnabled = this.editorPostProcessing.chromaticAberration.aberrationEnabled; // false by default
                        if (defaultPipeline.chromaticAberrationEnabled) {
                            defaultPipeline.chromaticAberration.aberrationAmount = this.editorPostProcessing.chromaticAberration.aberrationAmount; // 30 by default
                            defaultPipeline.chromaticAberration.adaptScaleToCurrentViewport = this.editorPostProcessing.chromaticAberration.adaptScaleViewport; // false by default
                            defaultPipeline.chromaticAberration.alphaMode = this.editorPostProcessing.chromaticAberration.alphaMode; // 0 by default
                            defaultPipeline.chromaticAberration.alwaysForcePOT = this.editorPostProcessing.chromaticAberration.alwaysForcePOT; // false by default
                            defaultPipeline.chromaticAberration.enablePixelPerfectMode = this.editorPostProcessing.chromaticAberration.pixelPerfectMode; // false by default
                            defaultPipeline.chromaticAberration.forceFullscreenViewport = this.editorPostProcessing.chromaticAberration.fullscreenViewport; // true by default
                        }
                        /* DOF */
                        defaultPipeline.depthOfFieldEnabled = this.editorPostProcessing.focalDepthOfField.depthOfField; // false by default
                        if (defaultPipeline.depthOfFieldEnabled && defaultPipeline.depthOfField.isSupported) {
                            defaultPipeline.depthOfFieldBlurLevel = this.editorPostProcessing.focalDepthOfField.blurLevel; // 0 by default
                            defaultPipeline.depthOfField.fStop = this.editorPostProcessing.focalDepthOfField.focalStop; // 1.4 by default
                            defaultPipeline.depthOfField.focalLength = this.editorPostProcessing.focalDepthOfField.focalLength; // 50 by default, mm
                            defaultPipeline.depthOfField.focusDistance = this.editorPostProcessing.focalDepthOfField.focusDistance; // 2000 by default, mm
                            defaultPipeline.depthOfField.lensSize = this.editorPostProcessing.focalDepthOfField.maxLensSize; // 50 by default
                        }
                        /* FXAA */
                        defaultPipeline.fxaaEnabled = this.editorPostProcessing.screenAntiAliasing.fxaaEnabled; // false by default
                        if (defaultPipeline.fxaaEnabled) {
                            defaultPipeline.fxaa.samples = this.editorPostProcessing.screenAntiAliasing.fxaaSamples; // 1 by default
                            defaultPipeline.fxaa.adaptScaleToCurrentViewport = this.editorPostProcessing.screenAntiAliasing.fxaaScaling; // false by default
                        }
                        /* GlowLayer */
                        defaultPipeline.glowLayerEnabled = this.editorPostProcessing.glowLayerProperties.glowEnabled;
                        if (defaultPipeline.glowLayerEnabled) {
                            defaultPipeline.glowLayer.intensity = this.editorPostProcessing.glowLayerProperties.glowIntensity; // 1 by default
                            defaultPipeline.glowLayer.blurKernelSize = this.editorPostProcessing.glowLayerProperties.blurKernelSize; // 16 by default
                        }
                        /* Grain */
                        defaultPipeline.grainEnabled = this.editorPostProcessing.grainEffectProperties.grainEnabled;
                        if (defaultPipeline.grainEnabled) {
                            defaultPipeline.grain.animated = this.editorPostProcessing.grainEffectProperties.grainAnimated; // false by default
                            defaultPipeline.grain.intensity = this.editorPostProcessing.grainEffectProperties.grainIntensity; // 30 by default
                            defaultPipeline.grain.adaptScaleToCurrentViewport = this.editorPostProcessing.grainEffectProperties.adaptScaleViewport; // false by default
                        }
                        /* Sharpen */
                        defaultPipeline.sharpenEnabled = this.editorPostProcessing.sharpEffectProperties.sharpenEnabled;
                        if (defaultPipeline.sharpenEnabled) {
                            defaultPipeline.sharpen.edgeAmount = this.editorPostProcessing.sharpEffectProperties.sharpEdgeAmount; // 0.3 by default
                            defaultPipeline.sharpen.colorAmount = this.editorPostProcessing.sharpEffectProperties.sharpColorAmount; // 1 by default
                            defaultPipeline.sharpen.adaptScaleToCurrentViewport = this.editorPostProcessing.sharpEffectProperties.adaptScaleViewport; // false by default
                        }
                    }
                    else {
                        UNITY.SceneManager.LogWarning("Babylon.js default rendering pipeline not supported");
                    }
                    // ..
                    // Screen Space Ambient Occlusion
                    // ..
                    if (this.editorPostProcessing.screenSpaceRendering != null && this.editorPostProcessing.screenSpaceRendering.SSAO === true) {
                        const ssaoRatio = {
                            ssaoRatio: this.editorPostProcessing.screenSpaceRendering.SSAORatio, // Ratio of the SSAO post-process, in a lower resolution
                            combineRatio: this.editorPostProcessing.screenSpaceRendering.combineRatio // Ratio of the combine post-process (combines the SSAO and the scene)
                        };
                        PROJECT.DefaultCameraSystem.screenSpacePipeline = new BABYLON.SSAORenderingPipeline("DefaultCameraSystem-SSAO", this.scene, ssaoRatio, this.scene.cameras);
                        if (PROJECT.DefaultCameraSystem.screenSpacePipeline.isSupported === true) {
                            const ssaoPipeline = PROJECT.DefaultCameraSystem.screenSpacePipeline;
                            ssaoPipeline.fallOff = this.editorPostProcessing.screenSpaceRendering.fallOff;
                            ssaoPipeline.area = this.editorPostProcessing.screenSpaceRendering.area;
                            ssaoPipeline.radius = this.editorPostProcessing.screenSpaceRendering.radius;
                            ssaoPipeline.totalStrength = this.editorPostProcessing.screenSpaceRendering.totalStrength;
                            ssaoPipeline.base = this.editorPostProcessing.screenSpaceRendering.baseValue;
                        }
                        else {
                            UNITY.SceneManager.LogWarning("Babylon.js SSAO rendering pipeline not supported");
                        }
                    }
                }
                //}
                PROJECT.DefaultCameraSystem.cameraReady = true;
            });
        }
        updateCameraSystemState() {
            if (this.m_cameraRig != null) {
                if (this.cameraType === 0) { // Default Universal Camera
                }
                else if (this.cameraType === 1) { // Augmented Reality Camera
                }
                else if (this.cameraType === 2) { // Virtual Reality Camera
                }
                else if (this.cameraType === 3) { // Multi Player Camera
                }
            }
        }
        cleanCameraSystemState() {
            if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerOneCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerOneCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerTwoCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerTwoCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerTwoCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerThreeCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerThreeCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerThreeCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerFourCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerFourCamera = null;
            }
        }
        destroyCameraSystemState() {
            this.immersiveOptions = null;
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera Virtual Reality Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Get the WebXR default experience helper */
        static GetWebXR() { return PROJECT.DefaultCameraSystem.XRExperienceHelper; }
        /** Is universal camera system in WebXR mode */
        static IsInWebXR() { return (PROJECT.DefaultCameraSystem.XRExperienceHelper != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience.state === BABYLON.WebXRState.IN_XR); }
        /** Setup navigation mesh for WebXR */
        static SetupNavigationWebXR(mesh, tag) {
            const webxr = PROJECT.DefaultCameraSystem.XRExperienceHelper;
            if (webxr != null && webxr.teleportation != null && mesh != null && tag != null && tag != "") {
                const hastag = BABYLON.Tags.MatchesQuery(mesh, tag);
                if (hastag === true)
                    webxr.teleportation.addFloorMesh(mesh);
            }
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera System Player Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Get main camera rig for the scene */
        static GetMainCamera(scene, detach = false) {
            return PROJECT.DefaultCameraSystem.GetPlayerCamera(scene, UNITY.PlayerNumber.One, detach);
        }
        /** Get universal camera rig for desired player */
        static GetPlayerCamera(scene, player = UNITY.PlayerNumber.One, detach = false) {
            let result = null;
            let transform = PROJECT.DefaultCameraSystem.GetCameraTransform(scene, player);
            if (PROJECT.DefaultCameraSystem.IsCameraSystemReady()) {
                if (player === UNITY.PlayerNumber.One && PROJECT.DefaultCameraSystem.PlayerOneCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerOneCamera;
                else if (player === UNITY.PlayerNumber.Two && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerTwoCamera;
                else if (player === UNITY.PlayerNumber.Three && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerThreeCamera;
                else if (player === UNITY.PlayerNumber.Four && PROJECT.DefaultCameraSystem.PlayerFourCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerFourCamera;
                if (result != null && detach === true && parent != null) {
                    result.parent = null;
                    if (transform != null) {
                        result.position.copyFrom(transform.position);
                        result.rotationQuaternion = (transform.rotationQuaternion != null) ? transform.rotationQuaternion.clone() : BABYLON.Quaternion.FromEulerAngles(transform.rotation.x, transform.rotation.y, transform.rotation.z);
                        const children = transform.getChildren(null, true);
                        if (children != null) {
                            children.forEach((child) => { child.parent = result; });
                        }
                    }
                }
            }
            return result;
        }
        /** Get camera transform node for desired player */
        static GetCameraTransform(scene, player = UNITY.PlayerNumber.One) {
            let result = null;
            if (PROJECT.DefaultCameraSystem.IsCameraSystemReady()) {
                if (player === UNITY.PlayerNumber.One && PROJECT.DefaultCameraSystem.PlayerOneCamera != null && PROJECT.DefaultCameraSystem.PlayerOneCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerOneCamera.transform;
                else if (player === UNITY.PlayerNumber.Two && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null && PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform;
                else if (player === UNITY.PlayerNumber.Three && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null && PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform;
                else if (player === UNITY.PlayerNumber.Four && PROJECT.DefaultCameraSystem.PlayerFourCamera != null && PROJECT.DefaultCameraSystem.PlayerFourCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerFourCamera.transform;
            }
            return result;
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera System Multi Player Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Are stereo side side camera services available. */
        static IsStereoCameras() {
            return PROJECT.DefaultCameraSystem.stereoCameras;
        }
        /** Are local multi player view services available. */
        static IsMultiPlayerView() {
            return PROJECT.DefaultCameraSystem.multiPlayerView;
        }
        /** Get the current local multi player count */
        static GetMultiPlayerCount() {
            return PROJECT.DefaultCameraSystem.multiPlayerCount;
        }
        /** Activates current local multi player cameras. */
        static ActivateMultiPlayerCameras(scene) {
            let result = false;
            if (PROJECT.DefaultCameraSystem.multiPlayerCameras != null && PROJECT.DefaultCameraSystem.multiPlayerCameras.length > 0) {
                scene.activeCameras = PROJECT.DefaultCameraSystem.multiPlayerCameras;
                result = true;
            }
            return result;
        }
        /** Disposes current local multiplayer cameras */
        static DisposeMultiPlayerCameras() {
            if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerOneCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerOneCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerTwoCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerTwoCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerTwoCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerThreeCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerThreeCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerThreeCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerFourCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerFourCamera = null;
            }
        }
        /** Sets the multi player camera view layout */
        static SetMultiPlayerViewLayout(scene, totalNumPlayers) {
            let result = false;
            let players = BABYLON.Scalar.Clamp(totalNumPlayers, 1, 4);
            if (PROJECT.DefaultCameraSystem.IsMultiPlayerView()) {
                if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null && PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                    PROJECT.DefaultCameraSystem.multiPlayerCameras = [];
                    if (players === 1) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 1, 1);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                    }
                    else if (players === 2) {
                        if (PROJECT.DefaultCameraSystem.stereoCameras === true) {
                            PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 1);
                            PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 1);
                        }
                        else {
                            PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0.5, 1, 0.5);
                            PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 1, 0.5);
                        }
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                    }
                    else if (players === 3) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 1);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0.5, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerThreeCamera);
                    }
                    else if (players === 4) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0.5, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerThreeCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerFourCamera);
                    }
                    else {
                        UNITY.SceneManager.LogWarning("Babylon.js camera rig invalid player count specified: " + players);
                    }
                }
                else {
                    UNITY.SceneManager.LogWarning("Babylon.js camera rig failed to initialize multi player cameras");
                }
                PROJECT.DefaultCameraSystem.multiPlayerCount = players;
                result = PROJECT.DefaultCameraSystem.ActivateMultiPlayerCameras(scene);
                if (result === false)
                    UNITY.SceneManager.LogWarning("Babylon.js camera rig failed to initialize multi player views");
            }
            else {
                UNITY.SceneManager.LogWarning("Babylon.js camera rig multi player view option not enabled");
            }
            return result;
        }
    }
    DefaultCameraSystem.PlayerOneCamera = null;
    DefaultCameraSystem.PlayerTwoCamera = null;
    DefaultCameraSystem.PlayerThreeCamera = null;
    DefaultCameraSystem.PlayerFourCamera = null;
    DefaultCameraSystem.XRExperienceHelper = null;
    DefaultCameraSystem.multiPlayerView = false;
    DefaultCameraSystem.multiPlayerCount = 1;
    DefaultCameraSystem.multiPlayerCameras = null;
    DefaultCameraSystem.stereoCameras = true;
    DefaultCameraSystem.startupMode = 1;
    DefaultCameraSystem.cameraReady = false;
    DefaultCameraSystem.renderingPipeline = null;
    DefaultCameraSystem.screenSpacePipeline = null;
    /** Register handler that is triggered when the webxr experience helper has been created */
    DefaultCameraSystem.OnXRExperienceHelperObservable = new BABYLON.Observable();
    PROJECT.DefaultCameraSystem = DefaultCameraSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon Script Component
     * @class DebugInformation
     */
    class DebugInformation extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.keys = true;
            this.show = true;
            this.popup = false;
            this.views = false;
            this.xbox = false;
            this.color = BABYLON.Color3.Green();
        }
        awake() {
            this.keys = this.getProperty("enableDebugKeys", this.keys);
            this.show = this.getProperty("showDebugLabels", this.show);
            this.popup = this.getProperty("popupDebugPanel", this.popup);
            this.views = this.getProperty("togglePlayerViews", this.views);
            this.xbox = this.getProperty("allowXboxLiveSignIn", this.xbox);
            // ..
            const debugLabelColor = this.getProperty("debugOutputTextColor");
            if (debugLabelColor != null)
                this.color = UNITY.Utilities.ParseColor3(debugLabelColor);
            // ..
            if (UNITY.WindowManager.IsWindows())
                this.popup = false;
            UNITY.SceneManager.LogMessage("Debug information overlay loaded");
        }
        start() {
            //this.screen = document.getElementById("screen");
            //this.toggle = document.getElementById("toggle");
            //this.signin = document.getElementById("signin");
            //this.reload = document.getElementById("reload");
            //this.mouse = document.getElementById("mouse");
            //this.debug = document.getElementById("debug");
            if (this.show === true) {
                /*
                if (this.keys === true) {
                    if (!UNITY.SceneManager.IsXboxOne()) {
                        if (this.screen) this.screen.innerHTML = "F - Show Full Screen";
                    }
                    if (BABYLON.CameraSystem.IsMultiPlayerView() && this.views === true) {
                        if (this.toggle) {
                            if (UNITY.SceneManager.IsXboxOne()) {
                                this.toggle.style.top = "29px";
                            }
                            this.toggle.innerHTML = "1 - 4 Toggle Player View";
                        }
                    }
                    if (UNITY.SceneManager.IsXboxLivePluginEnabled() && this.xbox === true) {
                        if (this.signin) {
                            if (UNITY.SceneManager.IsXboxOne()) {
                                this.signin.style.top = "49px";
                            }
                            this.signin.innerHTML = "X - Xbox Live Sign In";
                        }
                    }
                    if (this.mouse) this.mouse.innerHTML = (UNITY.SceneManager.IsXboxOne()) ? "M - Mouse" : "";
                    if (this.reload) this.reload.innerHTML = "R - Reload";
                    if (this.debug) this.debug.innerHTML = "P - Debug";
                }
                */
            }
            if (this.keys === true) {
                if (this.views === true) {
                    UNITY.SceneManager.LogMessage("Enable Multiplayer Keys");
                    UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.Num1, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 1);
                        UNITY.SceneManager.LogMessage("1 player pressed");
                    });
                    UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.Num2, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 2);
                        UNITY.SceneManager.LogMessage("2 players pressed");
                    });
                    UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.Num3, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 3);
                        UNITY.SceneManager.LogMessage("3 players pressed");
                    });
                    UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.Num4, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 4);
                        UNITY.SceneManager.LogMessage("4 players pressed");
                    });
                }
                UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.R, () => {
                    window.location.reload();
                });
                UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.I, () => {
                    if (this.popup === true) {
                        UNITY.WindowManager.PopupDebug(this.scene);
                    }
                    else {
                        UNITY.WindowManager.ToggleDebug(this.scene, true, null);
                    }
                });
                UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.F, () => {
                    //UNITY.SceneManager.ToggleFullScreenMode(this.scene);
                });
                /*
                if (UNITY.SceneManager.IsXboxOne()) {
                    if (navigator.gamepadInputEmulation) {
                        UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.M, ()=>{
                            if (navigator.gamepadInputEmulation !== "mouse") {
                                navigator.gamepadInputEmulation = "mouse";
                            } else {
                                navigator.gamepadInputEmulation = "gamepad";
                            }
                        });
                    }
                } else {
                    UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.F, ()=>{
                        //BABYLON.Tools.RequestFullscreen(document.documentElement);
                        this.scene.getEngine().enterFullscreen(true);
                    });
                }
                if (BABYLON.WindowsPlatform.IsXboxLivePluginEnabled() && this.xbox === true) {
                    UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.X, ()=>{
                        var player:UNITY.PlayerNumber.One = UNITY.PlayerNumber.One;
                        if (!BABYLON.WindowsPlatform.IsXboxLiveUserSignedIn(null, player)) {
                            UNITY.SceneManager.LogMessage("===> Trying Xbox Live Sign In For Player: " + player.toString());
                            BABYLON.WindowsPlatform.XboxLiveUserSignIn(player, (result: Microsoft.Xbox.Services.System.SignInResult) => {
                                var user = BABYLON.WindowsPlatform.GetXboxLiveUser(player);
                                var msg = "(" + user.xboxUserId + ") - " + user.gamertag;
                                UNITY.SceneManager.AlertMessage(msg, "Xbox Live User Signed In");
                            }, (err)=>{
                                UNITY.SceneManager.LogMessage(err);
                                var msg:string = "Encountered Sign Error";
                                UNITY.SceneManager.LogWarning(msg);
                                UNITY.SceneManager.AlertMessage(msg, "Xbox Live Warning");
                            });
                        } else {
                            UNITY.SceneManager.LogWarning("Xbox Live User Already Signed In");
                            UNITY.SceneManager.AlertMessage("User Already Signed In", "Xbox Live Warning");
                        }
                    });
                }
                */
            }
            // Default Print To Screen Text
            var printColor = (this.scene.getEngine().webGLVersion < 2) ? "red" : this.color.toHexString();
            var graphicsVersion = UNITY.SceneManager.GetWebGLVersionString(this.scene);
            UNITY.WindowManager.PrintToScreen(graphicsVersion, printColor);
        }
        destroy() {
            //this.screen = null;
            //this.toggle = null;
            //this.signin = null;
            //this.reload = null;
            //this.mouse = null;
            //this.debug = null;
        }
    }
    PROJECT.DebugInformation = DebugInformation;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class UserInterface
    */
    class UserInterface extends UNITY.ScriptComponent {
        static IsCanvasReady() { return (PROJECT.UserInterface.AdvancedTexture != null); }
        static GetCanvasElement(name) { return (PROJECT.UserInterface.AdvancedTexture != null) ? PROJECT.UserInterface.AdvancedTexture.getControlByName(name) : null; }
        static ShowCanvasElement(element, fadeSpeedRatio = 0.0, onAnimationComplete = null) {
            let result = null;
            if (element != null) {
                if (fadeSpeedRatio > 0) {
                    const alphaStart = element.alpha;
                    const alphaEnd = 1.0;
                    element.isEnabled = true;
                    element.alpha = alphaEnd;
                    if (onAnimationComplete != null)
                        onAnimationComplete();
                    //result = UNITY.SceneManager.StartTweenAnimation(PROJECT.UserInterface.SceneController, (element.name + "-ShowAlphaTween"), element, "alpha", alphaStart, alphaEnd, fadeSpeedRatio, null, null, null, ()=>{
                    //    element.isEnabled = true;
                    //    if (onAnimationComplete != null) onAnimationComplete();
                    //});
                }
                else {
                    element.isEnabled = true;
                    element.alpha = 1.0;
                }
            }
            return result;
        }
        static HideCanvasElement(element, fadeSpeedRatio = 0.0, onAnimationComplete = null) {
            let result = null;
            if (element != null) {
                if (fadeSpeedRatio > 0) {
                    element.isEnabled = false;
                    const alphaStart = element.alpha;
                    const alphaEnd = 0.0;
                    element.isEnabled = false;
                    element.alpha = alphaEnd;
                    if (onAnimationComplete != null)
                        onAnimationComplete();
                    //result = UNITY.SceneManager.StartTweenAnimation(PROJECT.UserInterface.SceneController, (element.name + "-HideAlphaTween"), element, "alpha", alphaStart, alphaEnd, fadeSpeedRatio, null, null, null, ()=>{
                    //    if (onAnimationComplete != null) onAnimationComplete();
                    //});
                }
                else {
                    element.isEnabled = false;
                    element.alpha = 0.0;
                }
            }
            return result;
        }
        static SetSceneController(scene) { PROJECT.UserInterface.SceneController = scene; }
        static GetAdvancedTexture() { return PROJECT.UserInterface.AdvancedTexture; }
        static GetBackgroundTexture() { return PROJECT.UserInterface.BackgroundTexture; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.exportLowerCase = false;
            this.backgroundData = null;
            this.textureSampleMode = 2;
            this.idealRenderingSize = 0;
            this.viewportRenderSize = 0;
            this.customViewportSize = new BABYLON.Vector2(1920, 1080);
            this.defaultImageLocation = "scenes/assets/";
            this.defaultImageControl = true;
            this.isManagedTexture = true;
            this.scaleTextureSize = true;
            this.setAdaptiveScale = true;
            this.drawAtIdealSize = true;
            this.useSmallestIdeal = false;
            this.fontFamilyList = null;
            PROJECT.UserInterface.SetSceneController(scene);
            this.attachWebFonts();
        }
        awake() {
            this.setupProperties();
            this.preloadWebFonts();
        }
        start() {
            this.setupInterface();
        }
        destroy() {
            PROJECT.UserInterface.OnFontFacesReady.clear();
            PROJECT.UserInterface.OnFontFacesReady = null;
            PROJECT.UserInterface.OnFontFacesLoaded.clear();
            PROJECT.UserInterface.OnFontFacesLoaded = null;
            PROJECT.UserInterface.OnParseNodeObject.clear();
            PROJECT.UserInterface.OnParseNodeObject = null;
            PROJECT.UserInterface.OnInterfaceLoaded.clear();
            PROJECT.UserInterface.OnInterfaceLoaded = null;
            if (this.isManagedTexture === false && PROJECT.UserInterface.AdvancedTexture != null) {
                PROJECT.UserInterface.AdvancedTexture.dispose();
            }
            PROJECT.UserInterface.AdvancedTexture = null;
            if (PROJECT.UserInterface.BackgroundTexture != null) {
                PROJECT.UserInterface.BackgroundTexture.dispose();
            }
            PROJECT.UserInterface.BackgroundTexture = null;
        }
        engineResize() {
            this.scene.getEngine().resize(true); // Note: Force Initial Resize Content
        }
        setupProperties() {
            if (this.defaultImageLocation != null && this.defaultImageLocation !== "") {
                this.defaultImageLocation = this.defaultImageLocation.trim();
            }
            if (this.defaultImageLocation != null && this.defaultImageLocation !== "" && this.defaultImageLocation.endsWith("/") === false) {
                this.defaultImageLocation = (this.defaultImageLocation + "/");
            }
            if (this.customViewportSize.x <= 0)
                this.customViewportSize.x = 1920;
            if (this.customViewportSize.y <= 0)
                this.customViewportSize.y = 1080;
        }
        setupInterface() {
            let interfaceParsed = null;
            let backgroundParsed = null;
            const interfaceText = this.getProperty("base64UserInterface");
            if (interfaceText != null && interfaceText !== "") {
                const interfaceJson = window.atob(interfaceText);
                if (interfaceJson != null && interfaceJson !== "") {
                    interfaceParsed = JSON.parse(interfaceJson);
                    if (interfaceParsed != null) {
                        if (interfaceParsed.root != null) {
                            this.parseNodeObject(interfaceParsed.root);
                        }
                        let width = (this.viewportRenderSize === 0 && interfaceParsed.width !== null && interfaceParsed.width >= 0) ? interfaceParsed.width : this.customViewportSize.x;
                        let height = (this.viewportRenderSize === 0 && interfaceParsed.height !== null && interfaceParsed.height >= 0) ? interfaceParsed.height : this.customViewportSize.y;
                        if (this.viewportRenderSize === 1) {
                            width = this.scene.getEngine().getRenderingCanvas().width;
                            height = this.scene.getEngine().getRenderingCanvas().height;
                        }
                        // ..
                        // Advanced Texture
                        // ..
                        if (this.isManagedTexture === true) {
                            if (UNITY.SceneManager.AdvDynamicTexture == null)
                                UNITY.SceneManager.AdvDynamicTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("Default-Screen-UI", true, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                            PROJECT.UserInterface.AdvancedTexture = UNITY.SceneManager.AdvDynamicTexture;
                        }
                        else {
                            PROJECT.UserInterface.AdvancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("GUI", true, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                        }
                        if (PROJECT.UserInterface.AdvancedTexture != null) {
                            if (this.idealRenderingSize > 0) {
                                if (this.idealRenderingSize === 1 || this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.idealWidth = width;
                                }
                                if (this.idealRenderingSize === 2 || this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.idealHeight = height;
                                }
                                if (this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal = this.useSmallestIdeal;
                                }
                                PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize = this.drawAtIdealSize;
                            }
                            else {
                                PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal = false;
                                PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize = false;
                            }
                            if (this.scaleTextureSize === true) {
                                PROJECT.UserInterface.AdvancedTexture.parseSerializedObject(interfaceParsed, false);
                                PROJECT.UserInterface.AdvancedTexture.scaleTo(width, height);
                            }
                            else {
                                PROJECT.UserInterface.AdvancedTexture.parseSerializedObject(interfaceParsed, false);
                            }
                        }
                        // ..
                        // Background Texture
                        // ..
                        if (this.backgroundData != null && this.backgroundData.createBackground === true) {
                            const backgroundText = this.getProperty("base64BackgroundData");
                            if (backgroundText != null && backgroundText !== "") {
                                const backgroundJson = window.atob(backgroundText);
                                if (backgroundJson != null && backgroundJson !== "") {
                                    backgroundParsed = JSON.parse(backgroundJson);
                                    if (backgroundParsed != null) {
                                        if (backgroundParsed.root != null) {
                                            this.parseNodeObject(backgroundParsed.root);
                                        }
                                    }
                                }
                            }
                            PROJECT.UserInterface.BackgroundTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("BACKGROUND", false, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                            if (PROJECT.UserInterface.BackgroundTexture != null) {
                                if (this.backgroundData.scaleToForeground === true) {
                                    if (PROJECT.UserInterface.AdvancedTexture.idealWidth != null) {
                                        PROJECT.UserInterface.BackgroundTexture.idealWidth = PROJECT.UserInterface.AdvancedTexture.idealWidth;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.idealHeight != null) {
                                        PROJECT.UserInterface.BackgroundTexture.idealHeight = PROJECT.UserInterface.AdvancedTexture.idealHeight;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal != null) {
                                        PROJECT.UserInterface.BackgroundTexture.useSmallestIdeal = PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize != null) {
                                        PROJECT.UserInterface.BackgroundTexture.renderAtIdealSize = PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize;
                                    }
                                }
                                else {
                                    PROJECT.UserInterface.BackgroundTexture.useSmallestIdeal = false;
                                    PROJECT.UserInterface.BackgroundTexture.renderAtIdealSize = false;
                                }
                                if (backgroundParsed != null)
                                    PROJECT.UserInterface.BackgroundTexture.parseSerializedObject(backgroundParsed, false);
                                if (this.backgroundData.scaleToForeground === true)
                                    PROJECT.UserInterface.BackgroundTexture.scaleTo(width, height);
                            }
                        }
                    }
                }
            }
            if (PROJECT.UserInterface.OnInterfaceLoaded && PROJECT.UserInterface.OnInterfaceLoaded.hasObservers()) {
                try {
                    PROJECT.UserInterface.OnInterfaceLoaded.notifyObservers(PROJECT.UserInterface.AdvancedTexture);
                }
                catch (error) {
                    console.warn(error.message);
                }
            }
            this.engineResize();
        }
        attachWebFonts() {
            if (PROJECT.UserInterface.FontFacesAttached === false) {
                PROJECT.UserInterface.FontFacesAttached = true;
                document.fonts.ready.then(() => {
                    BABYLON.Tools.Log("Document fonts ready.");
                    if (PROJECT.UserInterface.OnFontFacesReady && PROJECT.UserInterface.OnFontFacesReady.hasObservers()) {
                        try {
                            PROJECT.UserInterface.OnFontFacesReady.notifyObservers(document.fonts);
                        }
                        catch (error) {
                            console.warn(error.message);
                        }
                    }
                });
                document.fonts.onloadingdone = (fontFaceSetEvent) => {
                    this.engineResize();
                    BABYLON.Tools.Warn("All document fonts loaded.");
                    if (PROJECT.UserInterface.OnFontFacesLoaded && PROJECT.UserInterface.OnFontFacesLoaded.hasObservers()) {
                        try {
                            PROJECT.UserInterface.OnFontFacesLoaded.notifyObservers(fontFaceSetEvent);
                        }
                        catch (error) {
                            console.warn(error.message);
                        }
                    }
                };
            }
        }
        preloadWebFonts() {
            if (PROJECT.UserInterface.FontFacesPreloaded === false) {
                PROJECT.UserInterface.FontFacesPreloaded = true;
                if (this.fontFamilyList != null && this.fontFamilyList.length > 0) {
                    this.fontFamilyList.forEach((family) => {
                        const txt = document.createElement("span");
                        txt.style.fontFamily = family;
                        document.body.appendChild(txt);
                    });
                }
            }
        }
        parseNodeObject(object) {
            if (object != null) {
                if (this.defaultImageControl === true) {
                    try {
                        if (object.name != null && object.source != null && object.source !== "" && object.source.toLowerCase().indexOf("./images/") >= 0) {
                            object.source = (this.defaultImageLocation.endsWith("/")) ? object.source.replace("./images/", this.defaultImageLocation) : object.source.replace("./images", this.defaultImageLocation);
                            if (this.exportLowerCase === true)
                                object.source = object.source.toLowerCase();
                            /* DEPRECATED: KEEP-FOR-REFERENCE
                            const oname:string = object.name;
                            const lpart:number = oname.indexOf("(");
                            const rpart:number = oname.indexOf(")");
                            // ..
                            // Format New Object Source
                            // ..
                            if (lpart >= 0 && rpart >= 0 && rpart > lpart) {
                                let url:string = oname.substring((lpart + 1), rpart);
                                if (url != null && url !== "") {
                                    url = url.trim();
                                }
                                if (url != null && url !== "") {
                                    object.source = (this.defaultImageLocation.endsWith("/")) ? (this.defaultImageLocation + url) : (this.defaultImageLocation + "/" + url);
                                    // ..
                                    // Format New Object Name
                                    // ..
                                    let fname1:string = oname.substring(0, lpart);
                                    let fname2:string = oname.substring((rpart + 1));
                                    let fname3 = (fname1 + fname2);
                                    if (fname3 != null && fname3 !== "") {
                                        fname3 = fname3.trim();
                                    }
                                    if (fname3 != null && fname3 !== "") {
                                        object.name = fname3;
                                    }
                                }
                            }*/
                        }
                    }
                    catch (error) {
                        console.warn(error.message);
                    }
                }
                if (PROJECT.UserInterface.OnParseNodeObject && PROJECT.UserInterface.OnParseNodeObject.hasObservers()) {
                    try {
                        PROJECT.UserInterface.OnParseNodeObject.notifyObservers(object);
                    }
                    catch (error) {
                        console.warn(error.message);
                    }
                }
                if (object.children != null) {
                    object.children.forEach((child) => {
                        this.parseNodeObject(child);
                    });
                }
            }
        }
    }
    UserInterface.OnFontFacesReady = new BABYLON.Observable();
    UserInterface.OnFontFacesLoaded = new BABYLON.Observable();
    UserInterface.OnParseNodeObject = new BABYLON.Observable();
    UserInterface.OnInterfaceLoaded = new BABYLON.Observable();
    UserInterface.SceneController = null;
    UserInterface.AdvancedTexture = null;
    UserInterface.BackgroundTexture = null;
    UserInterface.FontFacesAttached = false;
    UserInterface.FontFacesPreloaded = false;
    PROJECT.UserInterface = UserInterface;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AssetExporter
    */
    class AssetExporter extends UNITY.ScriptComponent {
        // Example: private helloWorld:string = "Hello World";
        awake() {
            /* Init component function */
        }
        start() {
            /* Start component function */
        }
        fixed() {
            /* Fixed update loop function */
        }
        update() {
            /* Update render loop function */
        }
        late() {
            /* Late update render loop function */
        }
        after() {
            /* After update render loop function */
        }
        ready() {
            /* Execute when ready function */
        }
        destroy() {
            /* Destroy component function */
        }
    }
    PROJECT.AssetExporter = AssetExporter;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AssetPreloader
    */
    class AssetPreloader extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.parentMeshes = false;
            this.importMeshes = null;
            this.assetContainers = null;
        }
        destroy() {
            this.importMeshes = null;
            this.assetContainers = null;
        }
        /** Add asset preloader tasks (https://doc.babylonjs.com/divingDeeper/importers/assetManager) */
        addPreloaderTasks(assetsManager) {
            const sceneRootUrl = UNITY.SceneManager.GetRootUrl(this.scene);
            let rooturl = sceneRootUrl;
            let filename = "";
            if (this.importMeshes != null) {
                this.importMeshes.forEach((imporUrl, importIndex) => {
                    rooturl = sceneRootUrl;
                    filename = imporUrl;
                    if (imporUrl.indexOf("://") >= 0) {
                        rooturl = imporUrl.substring(0, imporUrl.lastIndexOf('/')) + "/";
                        filename = imporUrl.substring(imporUrl.lastIndexOf('/') + 1);
                    }
                    const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask." + importIndex.toString()), null, rooturl, filename);
                    importTask.onSuccess = (task) => {
                        if (task.loadedMeshes != null) {
                            if (this.parentMeshes === true)
                                task.loadedMeshes[0].parent = this.transform;
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            UNITY.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            //console.log("Preloaded mesh: " + meshTaskKey);
                        }
                    };
                    importTask.onError = (task, message, exception) => { console.error(message, exception); };
                });
            }
            if (this.assetContainers != null) {
                this.assetContainers.forEach((assetUrl, assetIndex) => {
                    let rooturl = sceneRootUrl;
                    let filename = assetUrl;
                    if (assetUrl.indexOf("://") >= 0) {
                        rooturl = assetUrl.substring(0, assetUrl.lastIndexOf('/')) + "/";
                        filename = assetUrl.substring(assetUrl.lastIndexOf('/') + 1);
                    }
                    const assetTask = assetsManager.addContainerTask((this.transform.name + ".ContainerTask." + assetIndex.toString()), null, rooturl, filename);
                    assetTask.onSuccess = (task) => {
                        if (task.loadedContainer != null) {
                            const assetTaskKey = task.sceneFilename.toString().toLowerCase();
                            UNITY.SceneManager.RegisterAssetContainer(this.scene, assetTaskKey, task.loadedContainer);
                            //console.log("Preloaded asset: " + assetTaskKey);
                        }
                    };
                    assetTask.onError = (task, message, exception) => { console.error(message, exception); };
                });
            }
        }
    }
    PROJECT.AssetPreloader = AssetPreloader;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialInstance
    */
    class NodeMaterialInstance extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialData = null;
            this.setCustomRootUrl = null;
            this.m_nodeMaterial = null;
        }
        getMaterialInstance() { return this.m_nodeMaterial; }
        awake() {
            if (this.nodeMaterialData != null) {
                const rootUrl = (this.setCustomRootUrl != null && this.setCustomRootUrl !== "") ? this.setCustomRootUrl.trim() : "";
                this.m_nodeMaterial = BABYLON.NodeMaterial.Parse(this.nodeMaterialData, this.scene, rootUrl);
                this.m_nodeMaterial.name = this.transform.name + ".NodeMaterial";
            }
        }
        destroy() {
            if (this.m_nodeMaterial != null) {
                this.m_nodeMaterial.dispose();
                this.m_nodeMaterial = null;
            }
        }
    }
    PROJECT.NodeMaterialInstance = NodeMaterialInstance;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialParticle
    */
    class NodeMaterialParticle extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
        }
        awake() {
            /* Init component function */
        }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
        }
        update() {
            /* Update render loop function */
        }
        late() {
            /* Late update render loop function */
        }
        after() {
            /* After update render loop function */
        }
        fixed() {
            /* Fixed update physics step function */
        }
        ready() {
            /* Execute when scene is ready function */
        }
        destroy() {
            this.nodeMaterialEditor = null;
        }
    }
    PROJECT.NodeMaterialParticle = NodeMaterialParticle;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialProcess
    */
    class NodeMaterialProcess extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
            this.numberOfSamples = 1;
            this.samplingMode = 0;
            this.textureType = 0;
            this.textureFormat = BABYLON.Constants.TEXTUREFORMAT_RGBA;
            this.sizeRatio = 1.0;
            this.resuable = false;
            this.m_postProcess = null;
        }
        getPostProcess() { return this.m_postProcess; }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
            const camera = this.getCameraRig();
            if (camera != null) {
                this.m_postProcess = materialInstance.createPostProcess(camera, this.sizeRatio, this.samplingMode, this.scene.getEngine(), this.resuable, this.textureType, this.textureFormat);
                if (this.m_postProcess != null) {
                    this.m_postProcess.name = (this.transform.name + ".Process");
                    this.m_postProcess.samples = this.numberOfSamples;
                }
                else {
                    console.warn("Failed to create post process for: " + this.transform.name);
                }
            }
            else {
                console.warn("Null camera rig for: " + this.transform.name);
            }
        }
        destroy() {
            this.nodeMaterialEditor = null;
            if (this.m_postProcess != null) {
                this.m_postProcess.dispose();
                this.m_postProcess = null;
            }
        }
    }
    PROJECT.NodeMaterialProcess = NodeMaterialProcess;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialTexture
    */
    class NodeMaterialTexture extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
            this.textureSize = 256;
            this.m_proceduralTexture = null;
        }
        getProceduralTexture() { return this.m_proceduralTexture; }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
            this.m_proceduralTexture = materialInstance.createProceduralTexture(this.textureSize, this.scene);
            if (this.m_proceduralTexture != null) {
                this.m_proceduralTexture.name = (this.transform.name + ".Texture");
            }
        }
        destroy() {
            this.nodeMaterialEditor = null;
            if (this.m_proceduralTexture != null) {
                this.m_proceduralTexture.dispose();
                this.m_proceduralTexture = null;
            }
        }
    }
    PROJECT.NodeMaterialTexture = NodeMaterialTexture;
})(PROJECT || (PROJECT = {}));
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileInputController
    */
    class MobileInputController extends UNITY.ScriptComponent {
        static get Instance() { return PROJECT.MobileInputController.StaticInstance; }
        getLeftStick() { return this.m_leftStick; }
        getRightStick() { return this.m_rightStick; }
        getLeftStickEnabled() { return this.enableLeftJoystick; }
        getRightStickEnabled() { return this.enableRightJoystick; }
        getLeftStickElement() { return this.leftBaseElement; }
        getRightStickElement() { return this.rightBaseElement; }
        showLeftStickElement(show) { if (this.leftBaseElement != null)
            this.leftBaseElement.style.display = (show === true) ? "block" : "none"; }
        showRightStickElement(show) { if (this.rightBaseElement != null)
            this.rightBaseElement.style.display = (show === true) ? "block" : "none"; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.controlType = 0;
            this.sideMargins = 16;
            this.bottomMargins = 16;
            this.readyTimeout = 200;
            this.leftBaseElement = null;
            this.rightBaseElement = null;
            this.leftStickStyle = 0;
            this.rightStickStyle = 0;
            this.invertLeftStickY = true;
            this.invertRightStickY = true;
            this.centerLeftJoystick = false;
            this.enableLeftJoystick = true;
            this.enableRightJoystick = true;
            this.disableMouseRotation = true;
            this.updateCameraInput = false;
            this.m_leftStick = null;
            this.m_rightStick = null;
            PROJECT.MobileInputController.StaticInstance = this;
        }
        start() {
            if (this.updateCameraInput === true) {
                const camera = PROJECT.DefaultCameraSystem.GetMainCamera(this.scene);
                if (camera != null) {
                    const input = new PROJECT.FreeCameraTouchJoystickInput();
                    input.controller = this;
                    input.invertYAxis = !this.invertRightStickY;
                    camera.inputs.add(input);
                }
            }
        }
        ready() {
            if (this.controlType === 1 || UNITY.WindowManager.IsMobile()) {
                if (this.disableMouseRotation === true)
                    UNITY.SceneManager.VirtualJoystickEnabled = true; // Note: If Using Joystick Rotation Then Disable Mouse Input
                const displayTimeout = (this.readyTimeout >= 10) ? this.readyTimeout : 10;
                UNITY.SceneManager.SetTimeout(displayTimeout, () => {
                    this.createHtmlElements();
                    if (this.enableLeftJoystick === true)
                        this.m_leftStick = new UNITY.TouchJoystickHandler("stick1", 64, 8);
                    if (this.enableRightJoystick === true)
                        this.m_rightStick = new UNITY.TouchJoystickHandler("stick2", 64, 8);
                });
            }
        }
        update() {
            if (this.enableLeftJoystick === true && this.m_leftStick != null) {
                const leftStickValueX = this.m_leftStick.getValueX();
                const leftStickValueY = this.m_leftStick.getValueY();
                UNITY.InputController.SetLeftJoystickBuffer(leftStickValueX, leftStickValueY, this.invertLeftStickY);
            }
            if (this.enableRightJoystick === true && this.m_rightStick != null) {
                const rightStickValueX = this.m_rightStick.getValueX();
                const rightStickValueY = this.m_rightStick.getValueY();
                UNITY.InputController.SetRightJoystickBuffer(rightStickValueX, rightStickValueY, this.invertRightStickY);
            }
        }
        destroy() {
            if (this.m_leftStick != null) {
                this.m_leftStick.dispose();
                this.m_leftStick = null;
            }
            if (this.m_rightStick != null) {
                this.m_rightStick.dispose();
                this.m_rightStick = null;
            }
        }
        createHtmlElements() {
            const rootUrl = UNITY.SceneManager.GetRootUrl(this.scene);
            const baseImageData = this.getProperty("joystickBaseImage");
            const leftStickImageData = this.getProperty("leftStickImage");
            const rightStickImageData = this.getProperty("rightStickImage");
            const baseImageFilename = (baseImageData != null) ? baseImageData.filename : "baseImage.png";
            const leftStickImageFilename = (leftStickImageData != null) ? leftStickImageData.filename : "leftStick.png";
            const rightStickImageFilename = (rightStickImageData != null) ? rightStickImageData.filename : "rightStick.png";
            // ..
            // style="border: 1px solid red; width: 128px; position: absolute; left:20px; bottom:20px;"
            // ..
            if (this.enableLeftJoystick === true) {
                this.leftBaseElement = document.createElement("div");
                this.leftBaseElement.id = "base1";
                this.leftBaseElement.style.width = "128px";
                this.leftBaseElement.style.display = (this.leftStickStyle === 0) ? "block" : "none";
                if (this.centerLeftJoystick === true) {
                    this.leftBaseElement.style.position = "fixed";
                    this.leftBaseElement.style.left = "50%";
                    this.leftBaseElement.style.bottom = (this.bottomMargins.toFixed(0) + "px");
                    this.leftBaseElement.style.transform = "translate(-50%, 0%)";
                    this.leftBaseElement.style.margin = "0 auto";
                }
                else {
                    this.leftBaseElement.style.position = "absolute";
                    this.leftBaseElement.style.left = (this.sideMargins.toFixed(0) + "px");
                    this.leftBaseElement.style.bottom = (this.bottomMargins.toFixed(0) + "px");
                }
                const baseImg1 = document.createElement("img");
                baseImg1.id = "image1";
                baseImg1.src = (rootUrl + baseImageFilename);
                const ballDiv1 = document.createElement("div");
                ballDiv1.id = "stick1";
                ballDiv1.style.position = "absolute";
                ballDiv1.style.top = "32px";
                ballDiv1.style.left = "32px";
                const ballImg1 = document.createElement("img");
                ballImg1.id = "ball1";
                ballImg1.src = (rootUrl + leftStickImageFilename);
                this.leftBaseElement.appendChild(baseImg1);
                ballDiv1.appendChild(ballImg1);
                this.leftBaseElement.appendChild(ballDiv1);
                document.body.appendChild(this.leftBaseElement);
            }
            // ..
            // style="border: 1px solid blue; width: 128px; position: absolute; right:20px; bottom:20px;"
            // ..
            if (this.enableRightJoystick === true) {
                this.rightBaseElement = document.createElement("div");
                this.rightBaseElement.id = "base2";
                this.rightBaseElement.style.width = "128px";
                this.rightBaseElement.style.position = "absolute";
                this.rightBaseElement.style.right = (this.sideMargins.toFixed(0) + "px");
                this.rightBaseElement.style.bottom = (this.bottomMargins.toFixed(0) + "px");
                this.rightBaseElement.style.display = (this.rightStickStyle === 0) ? "block" : "none";
                const baseImg2 = document.createElement("img");
                baseImg2.id = "image2";
                baseImg2.src = (rootUrl + baseImageFilename);
                const ballDiv2 = document.createElement("div");
                ballDiv2.id = "stick2";
                ballDiv2.style.position = "absolute";
                ballDiv2.style.top = "32px";
                ballDiv2.style.left = "32px";
                const ballImg2 = document.createElement("img");
                ballImg2.id = "ball2";
                ballImg2.src = (rootUrl + rightStickImageFilename);
                this.rightBaseElement.appendChild(baseImg2);
                ballDiv2.appendChild(ballImg2);
                this.rightBaseElement.appendChild(ballDiv2);
                document.body.appendChild(this.rightBaseElement);
            }
        }
    }
    MobileInputController.StaticInstance = null;
    PROJECT.MobileInputController = MobileInputController;
    /**
     * Manage the joystick inputs to control a free camera.
     * @see https://doc.babylonjs.com/how_to/customizing_camera_inputs
     */
    class FreeCameraTouchJoystickInput {
        constructor() {
            /**
             * Defines the joystick rotation sensiblity.
             * This is the threshold from when rotation starts to be accounted for to prevent jittering.
             */
            this.joystickAngularSensibility = 200;
            /**
             * Defines the joystick move sensiblity.
             * This is the threshold from when moving starts to be accounted for for to prevent jittering.
             */
            this.joystickMoveSensibility = 40.0;
            /**
             * Defines the minimum value at which any analog stick input is ignored.
             * Note: This value should only be a value between 0 and 1.
             */
            this.deadzoneDelta = 0.1;
            this._yAxisScale = 1.0;
            // private members
            this.LSValues = new BABYLON.Vector2(0, 0);
            this.RSValues = new BABYLON.Vector2(0, 0);
            this._cameraTransform = BABYLON.Matrix.Identity();
            this._deltaTransform = BABYLON.Vector3.Zero();
            this._vector3 = BABYLON.Vector3.Zero();
            this._vector2 = BABYLON.Vector2.Zero();
            this._attached = false;
        }
        /**
         * Gets or sets a boolean indicating that Yaxis (for right stick) should be inverted
         */
        get invertYAxis() { return this._yAxisScale !== 1.0; }
        set invertYAxis(value) { this._yAxisScale = value ? -1.0 : 1.0; }
        /**
         * Attach the input controls to a specific dom element to get the input from.
         */
        attachControl() {
            this._attached = true;
        }
        /**
         * Detach the current controls from the specified dom element.
         * @param ignored defines an ignored parameter kept for backward compatibility. If you want to define the source input element, you can set engine.inputElement before calling camera.attachControl
         */
        detachControl(ignored) {
            this._attached = false;
        }
        /**
         * Update the current camera state depending on the inputs that have been used this frame.
         * This is a dynamically created lambda to avoid the performance penalty of looping for inputs in the render loop.
         */
        checkInputs() {
            if (this.camera != null && this.controller != null && this._attached === true) {
                const LStick = this.controller.getLeftStick();
                if (LStick != null) {
                    this.LSValues.set(LStick.getValueX(), LStick.getValueY());
                    if (this.joystickMoveSensibility !== 0) {
                        this.LSValues.x = (Math.abs(this.LSValues.x) > this.deadzoneDelta) ? this.LSValues.x / this.joystickMoveSensibility : 0;
                        this.LSValues.y = (Math.abs(this.LSValues.y) > this.deadzoneDelta) ? this.LSValues.y / this.joystickMoveSensibility : 0;
                    }
                }
                else {
                    this.LSValues.set(0, 0);
                }
                // ..
                const RStick = this.controller.getRightStick();
                if (RStick != null) {
                    this.RSValues.set(RStick.getValueX(), RStick.getValueY());
                    if (this.joystickAngularSensibility !== 0) {
                        this.RSValues.x = (Math.abs(this.RSValues.x) > this.deadzoneDelta) ? this.RSValues.x / this.joystickAngularSensibility : 0;
                        this.RSValues.y = ((Math.abs(this.RSValues.y) > this.deadzoneDelta) ? this.RSValues.y / this.joystickAngularSensibility : 0) * this._yAxisScale;
                    }
                }
                else {
                    this.RSValues.set(0, 0);
                }
                // ..
                if (!this.camera.rotationQuaternion) {
                    BABYLON.Matrix.RotationYawPitchRollToRef(this.camera.rotation.y, this.camera.rotation.x, 0, this._cameraTransform);
                }
                else {
                    this.camera.rotationQuaternion.toRotationMatrix(this._cameraTransform);
                }
                // ..
                var speed = this.camera._computeLocalCameraSpeed() * 50.0;
                this._vector3.copyFromFloats(this.LSValues.x * speed, 0, -this.LSValues.y * speed);
                // ..
                BABYLON.Vector3.TransformCoordinatesToRef(this._vector3, this._cameraTransform, this._deltaTransform);
                this.camera.cameraDirection.addInPlace(this._deltaTransform);
                this._vector2.copyFromFloats(this.RSValues.y, this.RSValues.x);
                this.camera.cameraRotation.addInPlace(this._vector2);
            }
        }
        /**
         * Gets the class name of the current input.
         * @returns the class name
         */
        getClassName() {
            return "FreeCameraTouchJoystickInput";
        }
        /**
         * Get the friendly name associated with the input class.
         * @returns the input friendly name
         */
        getSimpleName() {
            return "joystick";
        }
    }
    __decorate([
        BABYLON.serialize()
    ], FreeCameraTouchJoystickInput.prototype, "joystickAngularSensibility", void 0);
    __decorate([
        BABYLON.serialize()
    ], FreeCameraTouchJoystickInput.prototype, "joystickMoveSensibility", void 0);
    PROJECT.FreeCameraTouchJoystickInput = FreeCameraTouchJoystickInput;
    BABYLON.CameraInputTypes["FreeCameraTouchJoystickInput"] = PROJECT.FreeCameraTouchJoystickInput;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileOccludeMaterial
    */
    class MobileOccludeMaterial extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.applyToMaterial = true;
        }
        awake() {
            if (this.applyToMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                this.transform.material.disableColorWrite = true;
            }
        }
    }
    PROJECT.MobileOccludeMaterial = MobileOccludeMaterial;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileShadowMaterial
    */
    class MobileShadowMaterial extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.createNewMaterial = true;
        }
        awake() {
            if (this.createNewMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                const materialName = this.transform.name.replace(" ", "") + ".ShadowMaterial";
                this.transform.material = new BABYLON.ShadowOnlyMaterial(materialName, this.scene);
            }
        }
        destroy() {
            if (this.createNewMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                if (this.transform.material != null && this.transform.material instanceof BABYLON.ShadowOnlyMaterial) {
                    this.transform.material.dispose();
                }
            }
        }
    }
    PROJECT.MobileShadowMaterial = MobileShadowMaterial;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class BallSocketJoint
    */
    class BallSocketJoint extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(-0.5, 0, -0.5);
            this.pivotB = new BABYLON.Vector3(-0.5, 0, 0.5);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.BallAndSocketConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.BallSocketJoint = BallSocketJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class DistanceJoint
    */
    class DistanceJoint extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.maxDistance = 0;
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.DistanceConstraint(this.maxDistance, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.DistanceJoint = DistanceJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class FixedHingeJoint
    */
    class FixedHingeJoint extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.5);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.5);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.HingeConstraint(this.pivotA, this.pivotB, undefined, undefined, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.FixedHingeJoint = FixedHingeJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class LockedJoint
    */
    class LockedJoint extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0.5, 0.5, -0.5);
            this.pivotB = new BABYLON.Vector3(-0.5, -0.5, 0.5);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.LockConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.LockedJoint = LockedJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class PrismaticJoint
    */
    class PrismaticJoint extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.2);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.25);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.PrismaticConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.PrismaticJoint = PrismaticJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SixdofJoint
    */
    class SixdofJoint extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, -0.5, 0);
            this.pivotB = new BABYLON.Vector3(0, 0.5, 0);
            this.perpAxisA = new BABYLON.Vector3(1, 0, 0);
            this.perpAxisB = new BABYLON.Vector3(1, 0, 0);
            this.axisLimits = null;
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.Physics6DoFConstraint({
                            pivotA: this.pivotA,
                            pivotB: this.pivotB,
                            perpAxisA: this.perpAxisA,
                            perpAxisB: this.perpAxisB
                        }, this.axisLimits, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.SixdofJoint = SixdofJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SliderJoint
    */
    class SliderJoint extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.2);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.25);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.SliderConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.SliderJoint = SliderJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class RemotePlayerController
    */
    class RemotePlayerController extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.updateStateParams = true;
            this.smoothMotionTime = 0;
            this.smoothInputVectors = false;
            this.animationState = null;
            this.animationStateParams = null;
        }
        awake() {
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.smoothMotionTime = this.getProperty("smoothMotionTime", this.smoothMotionTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            //console.warn("Remote Player Controller: " + this.transform.name);
            //console.log(this);
        }
        update() {
            const deltaTime = this.getDeltaSeconds();
            // TODO - FIX THIS SHIT
            if (this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            // Query Network Attributes
            // ..
            if (UNITY.EntityController.HasNetworkEntity(this.transform)) {
                const direction = UNITY.EntityController.QueryBufferedAttribute(this.transform, 0); // Direction
                const magnitude = UNITY.EntityController.QueryBufferedAttribute(this.transform, 1); // Magnitude
                const inputX = UNITY.EntityController.QueryBufferedAttribute(this.transform, 2); // Horizonal
                const inputZ = UNITY.EntityController.QueryBufferedAttribute(this.transform, 3); // Vertical
                const mouseX = UNITY.EntityController.QueryBufferedAttribute(this.transform, 4); // MouseX
                const mouseY = UNITY.EntityController.QueryBufferedAttribute(this.transform, 5); // Mousey
                const vvelocity = UNITY.EntityController.QueryBufferedAttribute(this.transform, 6); // Vertical Velocity
                const movespeed = UNITY.EntityController.QueryBufferedAttribute(this.transform, 7); // Movement Speed
                const actionstate = UNITY.EntityController.QueryBufferedAttribute(this.transform, 8); // Action State
                const jumpframe = UNITY.EntityController.QueryBufferedAttribute(this.transform, 9); // Jump Frame
                const isjumping = UNITY.EntityController.QueryBufferedAttribute(this.transform, 10); // Is Jumping
                const isfalling = UNITY.EntityController.QueryBufferedAttribute(this.transform, 11); // Is Falling
                const issliding = UNITY.EntityController.QueryBufferedAttribute(this.transform, 12); // Is Sliding
                const isgrounded = UNITY.EntityController.QueryBufferedAttribute(this.transform, 13); // Is Grounded
                // ..
                // Update Animation State Params
                // ..
                if (this.animationState != null && this.updateStateParams === true) {
                    this.validateAnimationStateParams();
                    this.animationState.setInteger(this.animationStateParams.moveDirection, direction);
                    this.animationState.setFloat(this.animationStateParams.heightInput, vvelocity);
                    this.animationState.setBool(this.animationStateParams.jumpFrame, (jumpframe !== 0));
                    this.animationState.setBool(this.animationStateParams.jumpState, (isjumping !== 0));
                    this.animationState.setInteger(this.animationStateParams.actionState, actionstate);
                    this.animationState.setBool(this.animationStateParams.fallingState, (isfalling !== 0));
                    this.animationState.setBool(this.animationStateParams.slidingState, (issliding !== 0));
                    this.animationState.setBool(this.animationStateParams.groundedState, (isgrounded !== 0));
                    if (this.smoothMotionTime > 0) {
                        if (this.smoothInputVectors === true) {
                            this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, inputX, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, inputZ, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, mouseX, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, mouseY, this.smoothMotionTime, deltaTime);
                        }
                        else {
                            this.animationState.setFloat(this.animationStateParams.horizontalInput, inputX);
                            this.animationState.setFloat(this.animationStateParams.verticalInput, inputZ);
                            this.animationState.setFloat(this.animationStateParams.mouseXInput, mouseX);
                            this.animationState.setFloat(this.animationStateParams.mouseYInput, mouseY);
                        }
                        this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, magnitude, this.smoothMotionTime, deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.speedInput, movespeed, this.smoothMotionTime, deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, inputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, inputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, mouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, mouseY);
                        this.animationState.setFloat(this.animationStateParams.inputMagnitude, magnitude);
                        this.animationState.setFloat(this.animationStateParams.speedInput, movespeed);
                    }
                    //if (this.isCharacterNavigating === true) {
                    //    // TODO - Update Speed Input With Navigation Magnitude
                    //    // this.animationState.setFloat(this.animationStateParams.speedInput, magnitude);
                    //}
                }
            }
        }
        destroy() {
            this.animationState = null;
            this.animationStateParams = null;
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("UNITY.AnimationState");
                if (this.animationState == null) {
                    const animationNode = this.getChildWithScript("UNITY.AnimationState");
                    if (animationNode != null) {
                        this.animationState = UNITY.SceneManager.FindScriptComponent(animationNode, "UNITY.AnimationState");
                    }
                    else {
                        // DEBUG: UNITY.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                    }
                }
            }
            if (this.animationState != null) {
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        //if (this._ikLeftController != null) {
                        //    this._ikLeftController.update();
                        //}
                        //if (this._ikRightController != null) {
                        //    this._ikRightController.update();
                        //}
                    }
                });
            }
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded"
                };
            }
        }
    }
    PROJECT.RemotePlayerController = RemotePlayerController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit standard player controller class
     * @class StandardPlayerController - All rights reserved (c) 2020 Mackey Kinard
    */
    class StandardPlayerController extends UNITY.ScriptComponent {
        isAnimationEnabled() { return this.updateStateParams; }
        isRunButtonPressed() { return this.isRunPressed; }
        isJumpButtonPressed() { return this.isJumpPressed; }
        getPlayerJumped() { return this.isCharacterJumpFrame; }
        getPlayerJumping() { return this.isCharacterJumping; }
        getPlayerFalling() { return this.isCharacterFalling; }
        getPlayerSliding() { return this.isCharacterSliding; }
        getPlayerGrounded() { return this.isCharacterGrounded; }
        getFallTriggered() { return this.isCharacterFallTriggered; }
        getMovementSpeed() { return this.movementSpeed; }
        getCameraBoomNode() { return this.cameraNode; }
        getCameraTransform() { return this.cameraPivot; }
        getAnimationState() { return this.animationState; }
        getVerticalVelocity() { return this.getCheckedVerticalVelocity(); }
        getCharacterController() { return this.characterController; }
        getPlayerLookRotation() { return this.playerLookRotation; }
        getPlayerMoveDirection() { return this.playerMoveDirection; }
        getInputMovementVector() { return this.inputMovementVector; }
        getInputMagnitudeValue() { return this.inputMagnitude; }
        getCameraPivotPosition() { return (this.cameraPivot != null) ? this.cameraPivot.position : null; }
        getCameraPivotRotation() { return (this.cameraPivot != null) ? this.cameraPivot.rotationQuaternion : null; }
        getClimbContact() { return this.climbContact; }
        getClimbContactNode() { return this.climbContactNode; }
        getClimbContactPoint() { return this.climbContactPoint; }
        getClimbContactAngle() { return this.climbContactAngle; }
        getClimbContactNormal() { return this.climbContactNormal; }
        getClimbContactDistance() { return this.climbContactDistance; }
        ;
        getHeightContact() { return this.heightContact; }
        getHeightContactNode() { return this.heightContactNode; }
        getHeightContactPoint() { return this.heightContactPoint; }
        getHeightContactAngle() { return this.heightContactAngle; }
        getHeightContactNormal() { return this.heightContactNormal; }
        getHeightContactDistance() { return this.heightContactDistance; }
        ;
        setGavityForce(gravity) {
            this.gravitationalForce = gravity;
            if (this.characterController != null) {
                this.characterController.setGravity(this.gravitationalForce);
            }
        }
        setFallingSpeed(velocity) {
            this.terminalVelocity = velocity;
            if (this.characterController != null) {
                this.characterController.setFallingSpeed(this.terminalVelocity);
            }
        }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.enableInput = false;
            this.attachCamera = false;
            this.rotateCamera = true;
            this.mouseWheel = true;
            this.toggleView = true;
            this.freeLooking = false;
            this.requireSprintButton = false;
            this.gravitationalForce = 29.4;
            this.terminalVelocity = 55.0;
            this.minFallVelocity = 1.0;
            this.airbornTimeout = 0.5;
            this.detectionRadius = 0.22;
            this.verticalOffset = 0.08;
            this.forwardOffset = 0.0;
            //public normalAngle:number = 0.6;
            //public radiusScale:number = 0.5;
            //public rayLength:number = 10;
            //public rayOrigin:number = 1;
            this.maxAngle = 45;
            this.speedFactor = 1.0;
            this.rootMotion = false;
            this.moveSpeed = 6.0;
            this.walkSpeed = 2.0;
            this.lookSpeed = 2.0;
            this.jumpSpeed = 10.0;
            this.jumpDelay = 0.25;
            this.eyesHeight = 1.0;
            this.pivotHeight = 1.0;
            this.maxDistance = 5.0;
            this.scrollSpeed = 25;
            this.topLookLimit = 60.0;
            this.downLookLimit = 30.0;
            this.lowTurnSpeed = 15.0;
            this.highTurnSpeed = 25.0;
            // DEPRECIATED: public smoothingSpeed:number = 0.12;
            this.smoothMotionTime = 0;
            this.smoothInputVectors = false;
            this.smoothAcceleration = false;
            this.accelerationSpeed = 0.1;
            this.decelerationSpeed = 0.1;
            this.avatarSkinTag = "Skin";
            this.climbVolumeTag = "Climb";
            this.vaultVolumeTag = "Vault";
            this.maxHeightRanges = null;
            this.useClimbSystem = false;
            this.distanceFactor = 0.85;
            this.cameraSmoothing = 5;
            this.cameraCollisions = true;
            this.inputMagnitude = 0;
            this.landingEpsilon = 0.1;
            this.minimumDistance = 0.85;
            this.movementAllowed = true;
            this.playerInputX = 0;
            this.playerInputZ = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.runKeyRequired = true;
            this.ignoreTriggerTags = null;
            this.buttonRun = BABYLON.Xbox360Button.LeftStick;
            this.keyboardRun = UNITY.UserInputKey.Shift;
            this.buttonJump = BABYLON.Xbox360Button.A;
            this.keyboardJump = UNITY.UserInputKey.SpaceBar;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = UNITY.UserInputKey.P;
            this.postNetworkAttributes = false;
            this.playerNumber = UNITY.PlayerNumber.One;
            this.boomPosition = new BABYLON.Vector3(0, 0, 0);
            this.airbornVelocity = new BABYLON.Vector3(0, 0, 0);
            this.movementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.targetCameraOffset = new BABYLON.Vector3(0, 0, 0);
            //public getGroundHit():boolean { return this.groundHit; }
            //public getGroundNode():BABYLON.TransformNode { return this.groundNode; }
            //public getGroundPoint():BABYLON.Vector3 { return this.groundPoint; }
            //public getGroundAngle():number { return this.groundAngle; }
            //public getGroundNormal():BABYLON.Vector3 { return this.groundNormal; }
            //public getGroundDistance():number { return this.groundDistance; }
            //public getGroundCollision():boolean { return this.groundCollision; }
            this.rayClimbOffset = 0.35;
            this.rayClimbLength = 0.85;
            this.canClimbObstaclePredicate = null;
            this.rayHeightOffset = 5.0;
            this.rayHeightLength = 6.0;
            this.physicsWorld = null;
            this.abstractMesh = null;
            this.cameraDistance = 0;
            this.forwardCamera = true; // Note Always Camera Forward
            this.avatarRadius = 0.5;
            this.groundingMesh = null;
            this.groundingObject = null;
            this.groundingCallback = null;
            this.dollyDirection = new BABYLON.Vector3(0, 0, 0);
            this.cameraEulers = new BABYLON.Vector3(0, 0, 0);
            this.rotationEulers = new BABYLON.Vector3(0, 0, 0);
            this.cameraPivotOffset = new BABYLON.Vector3(0, 0, 0);
            this.cameraForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.cameraRightVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredRightVector = new BABYLON.Vector3(0, 0, 0);
            this.scaledCamDirection = new BABYLON.Vector3(0, 0, 0);
            this.scaledMaxDirection = new BABYLON.Vector3(0, 0, 0);
            this.parentNodePosition = new BABYLON.Vector3(0, 0, 0);
            this.maximumCameraPos = new BABYLON.Vector3(0, 0, 0);
            this.tempWorldPosition = new BABYLON.Vector3(0, 0, 0);
            this.cameraRaycastShape = null;
            this.defaultRaycastGroup = UNITY.CollisionFilters.DefaultFilter;
            this.defaultRaycastMask = UNITY.CollisionFilters.StaticFilter;
            this.cameraRaycastMask = (UNITY.CollisionFilters.DefaultFilter | UNITY.CollisionFilters.StaticFilter | UNITY.CollisionFilters.KinematicFilter); // Note: Exclude The Player Character Controller From Camera Collision
            this.avatarSkins = null;
            this.cameraNode = null;
            this.cameraPivot = null;
            this.navigationAgent = null;
            this.characterController = null;
            this.verticalVelocity = 0;
            this.movementSpeed = 0;
            this.isRunPressed = false;
            this.isJumpPressed = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterGrounded = false;
            this.isCharacterFallTriggered = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterNavigating = false;
            this.navigationAngularSpeed = 0;
            this.updateStateParams = true;
            this.animationStateParams = null;
            this.sphereCollisionShape = null;
            this.hasGroundedContact = false;
            this.showDebugColliders = false;
            this.colliderVisibility = 0;
            this.colliderRenderGroup = 0;
            this.deltaTime = 0;
            this.minJumpTimer = 0;
            this.delayJumpTimer = 0;
            this.playerControl = 0;
            this.canPlayerJump = true;
            this.animationState = null;
            // DEPRECIATED: private rotationVelocityX:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            // DEPRECIATED: private rotationVelocityY:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            this.lastJumpVelocity = new BABYLON.Vector3(0, 0, 0);
            this.inputMovementVector = new BABYLON.Vector3(0, 0, 0);
            this.playerLookRotation = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationVector = BABYLON.Vector2.Zero();
            this.playerMovementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationQuaternion = BABYLON.Quaternion.Zero();
            this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            //private groundHit:boolean = false;
            //private groundNode:BABYLON.TransformNode = null;
            //private groundAngle:number = 0;
            //private groundPoint:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            //private groundNormal:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            //private groundDistance:number = 0;
            //private groundCollision:boolean = false;
            //private groundVelocity:number = 0;
            //private groundSensorLine:UNITY.LinesMeshRenderer = null;
            //private offsetGroundRaycastPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            //private startGroundRaycastPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            //private endGroundRaycastPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.forwardDirection = new BABYLON.Vector3(0, 0, 1);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactAngle = 0;
            this.climbContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.climbContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.climbContactDistance = 0;
            this.climbSensorLine = null;
            this.offsetClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactAngle = 0;
            this.heightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.heightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.heightContactDistance = 0;
            this.heightSensorLine = null;
            this.offsetHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_actualVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            this.playerDrawVelocity = 0;
            /** Register handler that is triggered before the controller has been updated */
            this.onPreUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered before the controller movement has been applied */
            this.onBeforeMoveObservable = new BABYLON.Observable();
            /** Register handler that is triggered after the controller has been updated */
            this.onPostUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered after player input has been updated */
            this.onPlayerInputObservable = new BABYLON.Observable();
            /** Register handler that is triggered when player position should be updated */
            this.onPlayerPositionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after performing action has been updated */
            this.onUpdateActionObservable = new BABYLON.Observable();
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Root Motion Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this._deltaMotionPosition = new BABYLON.Vector3(0, 0, 0);
            this._deltaMotionRotation = new BABYLON.Quaternion(0, 0, 0, 0);
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Blocking Action Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal = new BABYLON.Vector3(0, 0, 0);
            this.lastTargetRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this.lastDeltaPosition = new BABYLON.Vector3(0, 0, 0);
            this.lastDeltaRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this._ikLeftController = null;
            this._ikLeftFootTarget = null;
            this._ikLeftPoleTarget = null;
            this._ikRightController = null;
            this._ikRightFootTarget = null;
            this._ikRightPoleTarget = null;
            this.abstractSkinMesh = null;
            this.rootBoneTransform = null;
            this.leftFootTransform = null;
            //private leftFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.leftFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.leftFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.leftFootPoleAngle = 0;
            this.leftFootMaxAngle = 180;
            this.rightFootTransform = null;
            //private rightFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.rightFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.rightFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.rightFootPoleAngle = 0;
            this.rightFootMaxAngle = 180;
            this.smoothBoomArmLength = null;
            this.smoothBoomArmSpeed = null;
        }
        awake() { this.awakePlayerController(); }
        start() { this.startPlayerController(); }
        after() { this.afterPlayerController(); }
        update() { this.updatePlayerController(); }
        destroy() { this.destroyPlayerController(); }
        getDeltaMotionPosition() {
            this._deltaMotionPosition.set(0, 0, 0);
            if (this.animationState != null) {
                const rootMotionPosition = this.animationState.getDeltaRootMotionPosition();
                if (rootMotionPosition != null) {
                    // FIXME: Calculate Delta Root Motion Position
                    this._deltaMotionPosition.copyFrom(rootMotionPosition);
                }
            }
            return this._deltaMotionPosition;
        }
        getDeltaMotionRotation() {
            this._deltaMotionRotation.set(0, 0, 0, 0);
            if (this.animationState != null) {
                const rootMotionRotation = this.animationState.getDeltaRootMotionRotation();
                if (rootMotionRotation != null) {
                    // FIXME: Calculate Delta Root Motion Rotation
                    this._deltaMotionRotation.copyFrom(rootMotionRotation);
                }
            }
            return this._deltaMotionRotation;
        }
        getIsPerformingAction() { return this.isPerformingAction; }
        getIsRootMotionAction() { return this.isRootMotionAction; }
        getIsActionInterruptable() { return this.isActionInterruptable; }
        playActionAnimation(action, interruptableAction = true, enableRootMotion = false, afterActionComplete = null) {
            if (this.isPerformingAction === false && this.animationState != null && action >= 0) {
                this.isPerformingAction = true;
                this.performActionTimer = 0;
                this.performActionNumber = action;
                this.afterActionHandler = afterActionComplete;
                this.isActionInterruptable = interruptableAction;
                this.isRootMotionAction = enableRootMotion;
                this.playerRotationSpeed = 10;
                this.rotatePlayerTowards = false;
                this.matchStartTime = 0;
                this.matchTargetTime = 0;
                this.matchTargetOffset = 0;
                this.matchTargetHeight = false;
                this.lockTargetHeight = false;
                this.lastStartHeight = null;
                this.lastTargetHeight = null;
                this.lastTargetNormal.set(0, 0, 0);
                this.lastTargetRotation.set(0, 0, 0, 1);
                if (this.isRootMotionAction === true) {
                    this.enableCharacterController(false); // Note: Disable Character Controller
                }
                if (this.animationState != null) {
                    this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                }
            }
        }
        resetActionAnimationState() {
            if (this.afterActionHandler != null) {
                try {
                    this.afterActionHandler();
                }
                catch (_a) { }
            }
            if (this.isRootMotionAction === true) {
                this.enableCharacterController(true); // Note: Enable Character Controller
            }
            if (this.animationState != null) {
                this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
            }
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal.set(0, 0, 0);
            this.lastTargetRotation.set(0, 0, 0, 1);
        }
        updateAnimationActionState() {
            const deltaTime = this.getDeltaSeconds();
            const dampTime = (this.matchTargetTime - this.matchStartTime);
            if (this.animationState != null && this.isRootMotionAction === true) {
                const playerGlobalHeight = this.transform.absolutePosition.y;
                this.lastDeltaPosition.copyFrom(this.getDeltaMotionPosition());
                BABYLON.Vector3.TransformNormalToRef(this.lastDeltaPosition, this.transform.getWorldMatrix(), this.lastDeltaPosition);
                if (this.matchTargetHeight === true) {
                    if (this.lastStartHeight == null && this.performActionTimer >= this.matchStartTime) {
                        this.lastStartHeight = playerGlobalHeight;
                        this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                        // console.warn(">>> Start Global Height: " + this.lastStartHeight + " --> Perform Action Timer: " + this.performActionTimer);
                    }
                    if (this.lastStartHeight != null && this.lastTargetHeight != null) {
                        this.lastDeltaPosition.y = 0;
                        const fixedTargetHeight = (this.lastTargetHeight + this.matchTargetOffset);
                        if (this.performActionTimer < this.matchTargetTime) {
                            this.animationState.setSmoothFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT, fixedTargetHeight, dampTime, deltaTime);
                            const smoothPlayerHeight = this.animationState.getFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                            this.lastDeltaPosition.y = (smoothPlayerHeight - playerGlobalHeight);
                            // console.warn(">>> Lerp Target Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                        }
                        else if (this.lockTargetHeight === false && this.performActionTimer >= this.matchTargetTime) {
                            this.lastDeltaPosition.y = (fixedTargetHeight - playerGlobalHeight);
                            this.lockTargetHeight = true;
                            // console.warn(">>> Last Global Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer + " ---> Match Target Time: " + this.matchTargetTime);
                        }
                    }
                }
                // ..
                // Apply Root Motion To Position
                // ..
                // this.lastDeltaPosition.x = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                // this.lastDeltaPosition.y = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                this.transform.position.addInPlace(this.lastDeltaPosition);
                // console.log("Player Action Height: " + playerGlobalHeight + " --> Perform Action Timer: " + this.performActionTimer);
                // console.log("Current Delta Height: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                // ..
                // Apply Root Motion To Rotation
                // ..
                if (this.rotatePlayerTowards === true) {
                    if (this.climbContact === true) {
                        this.lastTargetNormal.set(-this.climbContactNormal.x, -this.climbContactNormal.y, -this.climbContactNormal.z);
                        UNITY.Utilities.LookRotationToRef(this.lastTargetNormal, this.lastTargetRotation);
                        const lerpAmount = BABYLON.Scalar.Clamp(this.playerRotationSpeed * deltaTime);
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.lastTargetRotation, lerpAmount, this.transform.rotationQuaternion);
                        //console.log("Climb Target Rotation: " + this.lastTargetRotation);
                    }
                }
                else {
                    this.lastDeltaRotation.copyFrom(this.getDeltaMotionRotation());
                    this.transform.rotationQuaternion.multiplyInPlace(this.lastDeltaRotation);
                }
            }
            this.performActionTimer += deltaTime;
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Attachment Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Set the player world position */
        setWorldPosition(x, y, z) {
            if (this.characterController != null) {
                this.characterController.set(x, y, z);
            }
        }
        /** TODO */
        setPlayerControl(mode) {
            this.playerControl = mode;
            if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                this.showAvatarSkins(true);
            }
            else {
                this.showAvatarSkins(false);
            }
            this.forwardCamera = false; // NoteL Always False
        }
        /** TODO */
        togglePlayerControl() {
            if (this.toggleView === true) {
                if (this.playerControl === PROJECT.PlayerInputControl.FirstPersonStrafing) {
                    this.setPlayerControl(PROJECT.PlayerInputControl.ThirdPersonStrafing);
                }
                else {
                    this.setPlayerControl(PROJECT.PlayerInputControl.FirstPersonStrafing);
                }
            }
        }
        showAvatarSkins(show) {
            if (this.avatarSkins != null) {
                // TODO - Make Skins Visible Or Not TO Camera But Keep Shadows - ???
                this.avatarSkins.forEach((skin) => { skin.isVisible = show; });
            }
        }
        /** TODO */
        attachPlayerCamera(player) {
            if (this.cameraNode == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.cameraNode = PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                if (this.cameraNode != null) {
                    this.cameraNode.parent = this.cameraPivot;
                    this.cameraNode.position.copyFrom(this.boomPosition);
                    this.cameraNode.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                    // ..
                    // const actualCamera:BABYLON.UniversalCamera = SM.FindSceneCameraRig(this.cameraNode) as BABYLON.UniversalCamera;
                    // if (actualCamera != null) actualCamera.rotationQuaternion = BABYLON.Quaternion.FromEulerAngles(BABYLON.Tools.ToRadians(30),0,0);
                    // ..
                    // TODO - Move somewhere better - ???
                    // TODO - Handle Long Intitial Camera Pan - ???
                    // ..
                    this.cameraDistance = this.cameraNode.position.length();
                    this.dollyDirection.copyFrom(this.cameraNode.position);
                    this.dollyDirection.normalize();
                }
                else {
                    // DEBUG: UNITY.SceneManager.LogWarning("Failed to locate player camera for: " + this.transform.name);
                }
            }
        }
        getLeftFootTarget() { return this._ikLeftFootTarget; }
        getRightFootTarget() { return this._ikRightFootTarget; }
        getLeftFootController() { return this._ikLeftController; }
        getRightFootController() { return this._ikRightController; }
        attachBoneControllers() {
            const displayHandles = this.getProperty("displayHandles");
            const abstractSkinMeshData = this.getProperty("abstractSkinMesh");
            if (abstractSkinMeshData != null)
                this.abstractSkinMesh = this.getChildNode(abstractSkinMeshData.name, UNITY.SearchType.ExactMatch, false);
            const rootBoneTransformData = this.getProperty("rootBoneTransform");
            if (rootBoneTransformData != null)
                this.rootBoneTransform = this.getChildNode(rootBoneTransformData.name, UNITY.SearchType.ExactMatch, false);
            // ..
            const leftFootTransformData = this.getProperty("leftFootTransform");
            if (leftFootTransformData != null)
                this.leftFootTransform = this.getChildNode(leftFootTransformData.name, UNITY.SearchType.ExactMatch, false);
            //const leftFootPositionData:UNITY.IUnityVector3 = this.getProperty("leftFootPosition");
            //if (leftFootPositionData != null) this.leftFootPosition.copyFrom(UNITY.Utilities.ParseVector3(leftFootPositionData));
            const leftPoleHandleData = this.getProperty("leftFootPolePos");
            if (leftPoleHandleData != null)
                this.leftFootPolePos.copyFrom(UNITY.Utilities.ParseVector3(leftPoleHandleData));
            const leftBendAxisData = this.getProperty("leftFootBendAxis");
            if (leftBendAxisData != null)
                this.leftFootBendAxis.copyFrom(UNITY.Utilities.ParseVector3(leftBendAxisData));
            this.leftFootPoleAngle = this.getProperty("leftFootPoleAngle", this.leftFootPoleAngle);
            this.leftFootMaxAngle = this.getProperty("leftFootMaxAngle", this.leftFootMaxAngle);
            // ..
            const rightFootTransformData = this.getProperty("rightFootTransform");
            if (rightFootTransformData != null)
                this.rightFootTransform = this.getChildNode(rightFootTransformData.name, UNITY.SearchType.ExactMatch, false);
            //const rightFootPositionData:UNITY.IUnityVector3 = this.getProperty("rightFootPosition");
            //if (rightFootPositionData != null) this.rightFootPosition.copyFrom(UNITY.Utilities.ParseVector3(rightFootPositionData));
            const rightPoleHandleData = this.getProperty("rightFootPolePos");
            if (rightPoleHandleData != null)
                this.rightFootPolePos.copyFrom(UNITY.Utilities.ParseVector3(rightPoleHandleData));
            const rightBendAxisData = this.getProperty("rightFootBendAxis");
            if (rightBendAxisData != null)
                this.rightFootBendAxis.copyFrom(UNITY.Utilities.ParseVector3(rightBendAxisData));
            this.rightFootPoleAngle = this.getProperty("rightFootPoleAngle", this.rightFootPoleAngle);
            this.rightFootMaxAngle = this.getProperty("rightFootMaxAngle", this.rightFootMaxAngle);
            // ..
            if (this.abstractSkinMesh != null) {
                let materialName = "M_TARGET_MESH";
                let targetMaterial = this.scene.getMaterialByName(materialName);
                if (targetMaterial == null) {
                    targetMaterial = new BABYLON.StandardMaterial("M_TARGET_MESH", this.scene);
                    targetMaterial.diffuseColor = new BABYLON.Color3(1.0, 0.5, 0.25);
                }
                // ..
                // Setup Left Foot Controller
                // ..
                if (this.leftFootTransform != null && this.leftFootTransform._linkedBone != null) {
                    this._ikLeftFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".LeftFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikLeftFootTarget.parent = this.abstractSkinMesh;
                    //this._ikLeftFootTarget.position.copyFrom(this.leftFootPosition);
                    if (this._ikLeftFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftFootTarget.material = targetMaterial;
                        this._ikLeftFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikLeftPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".LeftFootPole", { diameter: 0.15 }, this.scene);
                    this._ikLeftPoleTarget.parent = this.abstractSkinMesh;
                    this._ikLeftPoleTarget.position.copyFrom(this.leftFootPolePos);
                    if (this._ikLeftPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikLeftController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.leftFootTransform)._linkedBone, {targetMesh:this._ikLeftFootTarget, poleTargetMesh:this._ikLeftPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.leftFootPoleAngle), bendAxis:this.leftFootBendAxis});
                    // this._ikLeftController.maxAngle = BABYLON.Tools.ToRadians(this.leftFootMaxAngle);
                }
                // ..
                // Setup Right Foot Controller
                // ..
                if (this.rightFootTransform != null && this.rightFootTransform._linkedBone != null) {
                    this._ikRightFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".RightFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikRightFootTarget.parent = this.abstractSkinMesh;
                    //this._ikRightFootTarget.position.copyFrom(this.rightFootPosition);
                    if (this._ikRightFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightFootTarget.material = targetMaterial;
                        this._ikRightFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikRightPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".RightFootPole", { diameter: 0.15 }, this.scene);
                    this._ikRightPoleTarget.parent = this.abstractSkinMesh;
                    this._ikRightPoleTarget.position.copyFrom(this.rightFootPolePos);
                    if (this._ikRightPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikRightController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.rightFootTransform)._linkedBone, {targetMesh:this._ikRightFootTarget, poleTargetMesh:this._ikRightPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.rightFootPoleAngle), bendAxis:this.rightFootBendAxis});
                    // this._ikRightController.maxAngle = BABYLON.Tools.ToRadians(this.rightFootMaxAngle);
                }
            }
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("UNITY.AnimationState");
                if (this.animationState == null) {
                    const animationNode = this.getChildWithScript("UNITY.AnimationState");
                    if (animationNode != null) {
                        this.animationState = UNITY.SceneManager.FindScriptComponent(animationNode, "UNITY.AnimationState");
                    }
                    else {
                        // DEBUG: UNITY.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                    }
                }
            }
            if (this.animationState != null) {
                this.animationState.onAnimationEndObservable.add(() => {
                    if (this.isPerformingAction === true) {
                        //console.log("Animation End: " + this.transform.name);
                        this.resetActionAnimationState();
                    }
                });
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        if (this._ikLeftController != null) {
                            this._ikLeftController.update();
                        }
                        if (this._ikRightController != null) {
                            this._ikRightController.update();
                        }
                    }
                });
            }
        }
        /** TODO */
        enableCharacterController(state) {
            if (state === true) {
                this.movementAllowed = true;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    ////this.characterController.syncGhostToTransformPosition();
                    ////this.characterController.syncMovementState();
                    ////this.characterController.syncTransformToGhostPosition();
                    this.characterController.setGravity(this.gravitationalForce);
                    this.characterController.setFallingSpeed(this.terminalVelocity);
                    this.characterController.setGhostCollisionState(true);
                    this.characterController.updatePosition = true;
                }
            }
            else {
                this.movementAllowed = false;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravity(0);
                    this.characterController.setFallingSpeed(0);
                    this.characterController.setGhostCollisionState(false);
                    ////this.characterController.syncGhostToTransformPosition();
                    this.characterController.updatePosition = false;
                }
            }
        }
        /** TODO */
        resetPlayerRotation() {
            this.transform.rotationQuaternion.toEulerAnglesToRef(this.rotationEulers);
            this.playerRotationVector.x = this.rotationEulers.x;
            this.playerRotationVector.y = this.rotationEulers.y;
        }
        /** TODO */
        resetPlayerJumpingState() {
            this.minJumpTimer = 0;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterJumpFrame = false;
            if (this.characterController != null) {
                this.characterController.jump(0); // Note: Zero Jump Speed
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        awakePlayerController() {
            this.gravitationalForce = this.getProperty("gravitationalForce", this.gravitationalForce);
            this.terminalVelocity = this.getProperty("terminalVelocity", this.terminalVelocity);
            this.rotateCamera = this.getProperty("rotateCamera", this.rotateCamera);
            this.mouseWheel = this.getProperty("mouseWheel", this.mouseWheel);
            //this.normalAngle = this.getProperty("normalAngle", this.normalAngle);
            //this.radiusScale = this.getProperty("radiusScale", this.radiusScale);
            //this.rayLength = this.getProperty("rayLength", this.rayLength);
            //this.rayOrigin = this.getProperty("rayOrigin", this.rayOrigin);
            this.detectionRadius = this.getProperty("detectionRadius", this.detectionRadius);
            this.verticalOffset = this.getProperty("verticalOffset", this.verticalOffset);
            this.forwardOffset = this.getProperty("forwardOffset", this.forwardOffset);
            this.rayClimbLength = this.getProperty("rayClimbLength", this.rayClimbLength);
            this.rayClimbOffset = this.getProperty("rayClimbOffset", this.rayClimbOffset);
            this.rayHeightLength = this.getProperty("rayHeightLength", this.rayHeightLength);
            this.rayHeightOffset = this.getProperty("rayHeightOffset", this.rayHeightOffset);
            this.maxAngle = this.getProperty("maxAngle", this.maxAngle);
            this.landingEpsilon = this.getProperty("landingEpsilon", this.landingEpsilon);
            this.minFallVelocity = this.getProperty("minFallVelocity", this.minFallVelocity);
            this.airbornTimeout = this.getProperty("airbornTimeout", this.airbornTimeout);
            this.rootMotion = this.getProperty("rootMotion", this.rootMotion);
            this.moveSpeed = this.getProperty("moveSpeed", this.moveSpeed);
            this.walkSpeed = this.getProperty("walkSpeed", this.walkSpeed);
            this.lookSpeed = this.getProperty("lookSpeed", this.lookSpeed);
            this.jumpSpeed = this.getProperty("jumpSpeed", this.jumpSpeed);
            this.jumpDelay = this.getProperty("jumpDelay", this.jumpDelay);
            this.eyesHeight = this.getProperty("eyesHeight", this.eyesHeight);
            this.pivotHeight = this.getProperty("pivotHeight", this.pivotHeight);
            this.maxDistance = this.getProperty("maxDistance", this.maxDistance);
            this.scrollSpeed = this.getProperty("scrollSpeed", this.scrollSpeed);
            this.topLookLimit = this.getProperty("topLookLimit", this.topLookLimit);
            this.downLookLimit = this.getProperty("downLookLimit", this.downLookLimit);
            this.lowTurnSpeed = this.getProperty("lowTurnSpeed", this.lowTurnSpeed);
            this.highTurnSpeed = this.getProperty("highTurnSpeed", this.highTurnSpeed);
            // DEPRECIATED: this.smoothingSpeed = this.getProperty("smoothingSpeed", this.smoothingSpeed);
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.attachCamera = this.getProperty("attachCamera", this.attachCamera);
            this.freeLooking = this.getProperty("freeLooking", this.freeLooking);
            this.toggleView = this.getProperty("toggleView", this.toggleView);
            this.avatarSkinTag = this.getProperty("avatarSkinTag", this.avatarSkinTag);
            this.runKeyRequired = this.getProperty("runKeyRequired", this.runKeyRequired);
            this.cameraCollisions = this.getProperty("cameraCollisions", this.cameraCollisions);
            this.cameraSmoothing = this.getProperty("cameraSmoothing", this.cameraSmoothing);
            this.distanceFactor = this.getProperty("distanceFactor", this.distanceFactor);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.smoothMotionTime = this.getProperty("smoothMotionTime", this.smoothMotionTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.smoothAcceleration = this.getProperty("smoothAcceleration", this.smoothAcceleration);
            this.accelerationSpeed = this.getProperty("accelerationSpeed", this.accelerationSpeed);
            this.decelerationSpeed = this.getProperty("decelerationSpeed", this.decelerationSpeed);
            this.climbVolumeTag = this.getProperty("climbVolumeTag", this.climbVolumeTag);
            this.vaultVolumeTag = this.getProperty("vaultVolumeTag", this.vaultVolumeTag);
            this.useClimbSystem = this.getProperty("useClimbSystem", this.useClimbSystem);
            this.maxHeightRanges = this.getProperty("maxHeightRanges", this.maxHeightRanges);
            this.ignoreTriggerTags = this.getProperty("ignoreTriggerTags", this.ignoreTriggerTags);
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            this.postNetworkAttributes = this.getProperty("postNetworkAttributes", this.postNetworkAttributes);
            // ..
            const arrowKeyRotation = this.getProperty("arrowKeyRotation");
            if (arrowKeyRotation === true)
                UNITY.UserInputOptions.UseArrowKeyRotation = true;
            // ..
            const boomPositionData = this.getProperty("boomPosition");
            if (boomPositionData != null)
                this.boomPosition = UNITY.Utilities.ParseVector3(boomPositionData);
            // ..
            const sphereRadius = this.getProperty("sphereRadius", 0.5);
            //this.cameraRaycastShape = UNITY.RigidbodyPhysics.CreatePhysicsSphereShape(sphereRadius);
            // ..
            this.abstractMesh = this.getAbstractMesh();
            this.showDebugColliders = UNITY.Utilities.ShowDebugColliders();
            this.colliderVisibility = UNITY.Utilities.ColliderVisibility();
            this.colliderRenderGroup = UNITY.Utilities.ColliderRenderGroup();
            // Note: Get Avatar Skins First Thing
            if (this.avatarSkinTag != null && this.avatarSkinTag !== "") {
                this.avatarSkins = this.getChildrenWithTags(this.avatarSkinTag, false);
            }
            const pcontrol = this.getProperty("playerControl", this.playerControl);
            this.setPlayerControl(pcontrol);
            this.resetPlayerRotation();
            // ..
            /*
            this.physicsWorld = UNITY.RigidbodyPhysics.GetPhysicsWorld(this.scene);
            this.groundingMesh = BABYLON.MeshBuilder.CreateSphere("GroundingMesh", { segments: 24, diameter: (this.detectionRadius * 2), }, this.scene);
            this.groundingMesh.setParent(this.transform);
            this.groundingMesh.position.set(0, this.verticalOffset, this.forwardOffset);
            this.groundingMesh.rotationQuaternion = new BABYLON.Quaternion(0,0,0,1);
            this.groundingMesh.material = UNITY.Utilities.GetColliderMaterial(this.scene);
            this.groundingMesh.isVisible = this.showDebugColliders;
            this.groundingMesh.visibility = this.colliderVisibility;
            this.groundingMesh.renderingGroupId = this.colliderRenderGroup;
            UNITY.RigidbodyPhysics.CreatePhysicsImpostor(this.scene, this.groundingMesh, BABYLON.PhysicsImpostor.SphereImpostor, { mass: 0 });
            this.groundingMesh.physicsImpostor.executeNativeFunction((word:any, body:any) => {
                this.groundingObject = Ammo.castObject(body, Ammo.btCollisionObject);
                this.groundingCallback = new Ammo.ConcreteContactResultCallback();
                this.groundingCallback.m_collisionFilterGroup = UNITY.CollisionFilters.KinematicFilter;
                this.groundingCallback.m_collisionFilterMask = UNITY.CollisionFilters.DefaultFilter | UNITY.CollisionFilters.StaticFilter;
                this.groundingCallback.addSingleResult = (cp, colObj0Wrap, partId0, index0, colObj1Wrap, partId1, index1) => {
                    // KEEP FOR REFERENCE
                    // const contactPoint = Ammo.wrapPointer(cp, Ammo.btManifoldPoint);
                    // const colObj0Wrapper:any = Ammo.wrapPointer(colObj0Wrap, Ammo.btCollisionObjectWrapper);
                    // const colobj0:any = colObj0Wrapper.getCollisionObject();
                    // const entity0:BABYLON.TransformNode = (colobj0 != null && colobj0.entity != null) ? colobj0.entity : null;
                    // let contactEntity:BABYLON.TransformNode = null;
                    // if (colObj1Wrap != null) {
                    //    const colObj1Wrapper:any = Ammo.wrapPointer(colObj1Wrap, Ammo.btCollisionObjectWrapper);
                    //    if (colObj1Wrapper != null) {
                    //        const colobj1:any = colObj1Wrapper.getCollisionObject();
                    //        contactEntity = (colobj1 != null && colobj1.entity != null) ? colobj1.entity : null;
                    //    }
                    // }
                    // if (contactEntity != null) {
                    //    this.hasGroundedContact = true;
                    //    // console.log("Ground Contact Mesh: " + contactEntity.name);
                    // }
                    this.hasGroundedContact = true;
                };
                if (body.activate) body.activate();
                // ..
                // Set Collision Flags
                // ..
                if (body.setCollisionFlags && body.getCollisionFlags) {
                    body.setCollisionFlags(body.getCollisionFlags() | BABYLON.CollisionFlags.CF_NO_CONTACT_RESPONSE);       // TRIGGER_OBJECT
                    body.setCollisionFlags(body.getCollisionFlags() | BABYLON.CollisionFlags.CF_KINEMATIC_OBJECT);          // STATIC_OBJECT
                    body.setCollisionFlags(body.getCollisionFlags() | BABYLON.CollisionFlags.CF_CUSTOM_MATERIAL_CALLBACK);  // CUSTOM_MATERIAL
                }
                // ..
                // Set Collision Masks
                // ..
                if (body.getBroadphaseProxy) {
                    body.getBroadphaseProxy().set_m_collisionFilterGroup(UNITY.CollisionFilters.KinematicFilter)
                    body.getBroadphaseProxy().set_m_collisionFilterMask(UNITY.CollisionFilters.DefaultFilter | UNITY.CollisionFilters.StaticFilter)
                }
            });
            */
            // ..
            this.cameraPivot = new BABYLON.Mesh(this.transform.name + ".CameraPivot", this.scene);
            this.cameraPivot.parent = null;
            this.cameraPivot.position = this.transform.position.clone();
            this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
            this.cameraPivot.checkCollisions = false;
            this.cameraPivot.isPickable = false;
            // ..
            if (this.showDebugColliders === true) {
                const testPivot = BABYLON.MeshBuilder.CreateBox("TestPivot", { width: 0.25, height: 0.25, depth: 0.5 }, this.scene);
                testPivot.parent = this.cameraPivot;
                testPivot.position.set(0, 0, 0);
                testPivot.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                testPivot.visibility = 0.5;
                testPivot.renderingGroupId = this.colliderRenderGroup;
                testPivot.checkCollisions = false;
                testPivot.isPickable = false;
            }
            // ..
            const cylinderShape = this.getProperty("cylinderShape");
            const configController = this.getComponent("UNITY.CharacterController");
            if (configController != null && cylinderShape === true)
                configController.preCreateCylinderShape();
            // ..
            // Setup IK Bone Controllers
            // ..
            this.attachBoneControllers();
            // ..
            UNITY.InputController.OnKeyboardPress(this.keyboardCamera, () => { this.togglePlayerControl(); });
            UNITY.InputController.OnGamepadButtonPress(this.buttonCamera, () => { this.togglePlayerControl(); });
        }
        startPlayerController() {
            // TODO - Support Dynamic PlayerNumber Change - ???
            if (this.attachCamera === true) {
                this.attachPlayerCamera(this.playerNumber);
            }
            this.navigationAgent = this.getComponent("UNITY.NavigationAgent");
            this.characterController = this.getComponent("UNITY.CharacterController");
            if (this.characterController != null) {
                this.avatarRadius = this.characterController.getAvatarRadius();
                this.characterController.setGravity(this.gravitationalForce);
                this.characterController.setFallingSpeed(this.terminalVelocity);
                //this.characterController.onUpdatePositionObservable.add(() => {
                //    this.updatePlayerPosition();
                //    this.updateCameraController();
                //});
                UNITY.SceneManager.LogWarning("Starting player controller in physic engine mode for: " + this.transform.name);
            }
            else {
                UNITY.SceneManager.LogWarning("No character controller found for: " + this.transform.name);
            }
            // Set player window state variable
            // SM.SetWindowState("player", this);
        }
        updatePlayerPosition() {
            if (this.onPlayerPositionObservable && this.onPlayerPositionObservable.hasObservers()) {
                this.onPlayerPositionObservable.notifyObservers(this.transform);
            }
        }
        updatePlayerController() {
            this.deltaTime = this.getDeltaSeconds();
            //this.smoothDeltaTime = UNITY.System.SmoothDeltaFactor * this.deltaTime + (1 - UNITY.System.SmoothDeltaFactor) * this.smoothDeltaTime;
            // ..
            this.m_actualVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_linearVelocity.copyFrom(this.m_actualVelocity);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.deltaTime);
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.playerDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.playerDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            // TODO - FIX THIS SHIT
            if (this.updateStateParams === true && this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            if (this.minJumpTimer > 0) {
                this.minJumpTimer -= this.deltaTime;
                if (this.minJumpTimer < 0)
                    this.minJumpTimer = 0;
            }
            if (this.isCharacterGrounded === true && this.delayJumpTimer > 0) {
                this.delayJumpTimer -= this.deltaTime;
                if (this.delayJumpTimer < 0)
                    this.delayJumpTimer = 0;
            }
            // ..
            this.canPlayerJump = true;
            if (this.isPerformingAction === true) {
                this.updateAnimationActionState();
                if (this.onUpdateActionObservable && this.onUpdateActionObservable.hasObservers()) {
                    this.onUpdateActionObservable.notifyObservers(this.transform);
                }
            }
            if (this.enableInput === false)
                return;
            const userInputX = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.Horizontal, this.playerNumber);
            const userInputZ = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.Vertical, this.playerNumber);
            const userMouseX = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.MouseX, this.playerNumber);
            const userMouseY = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.MouseY, this.playerNumber);
            if (this.smoothAcceleration === true) {
                // SMOOTH USER INPUT X
                if (userInputX > 0) {
                    this.playerInputX += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX > 1)
                        this.playerInputX = 1;
                }
                else if (userInputX < 0) {
                    this.playerInputX -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX < -1)
                        this.playerInputX = -1;
                }
                else {
                    if (this.playerInputX < 0) {
                        this.playerInputX += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX > 0)
                            this.playerInputX = 0;
                    }
                    else if (this.playerInputX > 0) {
                        this.playerInputX -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX < 0)
                            this.playerInputX = 0;
                    }
                }
                // SMOOTH USER INPUT Z
                if (userInputZ > 0) {
                    this.playerInputZ += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ > 1)
                        this.playerInputZ = 1;
                }
                else if (userInputZ < 0) {
                    this.playerInputZ -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ < -1)
                        this.playerInputZ = -1;
                }
                else {
                    if (this.playerInputZ < 0) {
                        this.playerInputZ += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ > 0)
                            this.playerInputZ = 0;
                    }
                    else if (this.playerInputZ > 0) {
                        this.playerInputZ -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ < 0)
                            this.playerInputZ = 0;
                    }
                }
            }
            else {
                // RAW USER INPUT XZ
                this.playerInputX = userInputX;
                this.playerInputZ = userInputZ;
            }
            // ..
            this.playerMouseX = userMouseX;
            this.playerMouseY = userMouseY;
            // ..
            // Validate Animation Action
            // ..
            if (this.isPerformingAction === true && this.isActionInterruptable === true) {
                if (this.playerInputX !== 0 || this.playerInputZ !== 0) {
                    //console.log("Animation Interrupt: " + this.transform.name);
                    this.resetActionAnimationState();
                }
            }
            if (this.isPerformingAction === true) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Input
            // ..
            if (this.onPlayerInputObservable && this.onPlayerInputObservable.hasObservers()) {
                this.onPlayerInputObservable.notifyObservers(this.transform);
            }
            //..
            // Update Input Magnitude
            // ..
            this.inputMovementVector.set(this.playerInputX, 0, this.playerInputZ);
            if (this.inputMovementVector.length() > 1.0)
                this.inputMovementVector.normalize(); // Note: Normalize In Place
            this.inputMagnitude = this.inputMovementVector.length();
            // ..
            // Update Move Direction
            // ..
            const moveForward = (this.playerInputZ > 0);
            const moveBackward = (this.playerInputZ < 0);
            const moveRight = (this.playerInputX > 0);
            const moveLeft = (this.playerInputX < 0);
            if (moveForward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Forward;
                }
            }
            else if (moveBackward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Backward;
                }
            }
            else if (moveLeft === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingLeft;
            }
            else if (moveRight === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingRight;
            }
            else {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            }
            // ..
            // Update Pre Notifications
            // ..
            if (this.onPreUpdateObservable && this.onPreUpdateObservable.hasObservers()) {
                this.onPreUpdateObservable.notifyObservers(this.transform);
            }
            // ..
            // Update Forward Camera Vector
            // ..
            this.cameraForwardVector.copyFrom(this.cameraPivot.forward);
            this.cameraForwardVector.y = 0;
            this.cameraForwardVector.normalize();
            this.cameraForwardVector.scaleToRef(this.playerInputZ, this.desiredForwardVector);
            // ..
            // Update Right Camera Vector
            // ..
            this.cameraRightVector.copyFrom(this.cameraPivot.right);
            this.cameraRightVector.y = 0;
            this.cameraRightVector.normalize();
            this.cameraRightVector.scaleToRef(this.playerInputX, this.desiredRightVector);
            // ..
            // Update Player Rotation Vector
            // ..
            this.playerRotationVector.y += (this.playerMouseX * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x += (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x = BABYLON.Scalar.Clamp(this.playerRotationVector.x, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            if (this.movementAllowed === false) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Smooth Player Rotation Vector (DEPRECIATED)
            // ..
            // let newPlayerRotationVectorY = this.playerRotationVector.y + (this.playerMouseX * this.lookSpeed * this.deltaTime);
            // let newPlayerRotationVectorX = this.playerRotationVector.x + (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            // newPlayerRotationVectorX = BABYLON.Scalar.Clamp(newPlayerRotationVectorX, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            // this.playerRotationVector.x = UNITY.Utilities.SmoothDampAngle(this.playerRotationVector.x, newPlayerRotationVectorX, this.smoothingSpeed, Number.MAX_VALUE, this.deltaTime, this.rotationVelocityX);
            // this.playerRotationVector.y = UNITY.Utilities.SmoothDampAngle(this.playerRotationVector.y, newPlayerRotationVectorY, this.smoothingSpeed, Number.MAX_VALUE, this.deltaTime, this.rotationVelocityY);
            // ..
            // Update Player Button Presses
            // ..
            this.isRunPressed = (UNITY.InputController.GetKeyboardInput(this.keyboardRun) || UNITY.InputController.GetGamepadButtonInput(this.buttonRun));
            this.isJumpPressed = (UNITY.InputController.GetKeyboardInput(this.keyboardJump) || UNITY.InputController.GetGamepadButtonInput(this.buttonJump));
            // ..
            // Update Player Movement Velocity
            // ..
            this.movementSpeed = (this.inputMagnitude * this.moveSpeed * this.speedFactor);
            if (this.runKeyRequired === true && this.isRunPressed === false) {
                // ..
                // TODO: Lerp Max Speed From Walk To Run And Vice Versa (Smooth Out Transitions)
                // ..
                this.movementSpeed = BABYLON.Scalar.Clamp(this.movementSpeed, 0, this.walkSpeed);
            }
            this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerMovementVelocity);
            this.playerMovementVelocity.scaleInPlace(this.movementSpeed);
            if (this.movementAllowed === true) {
                if (this.playerControl === PROJECT.PlayerInputControl.FirstPersonStrafing) {
                    // TODO: Handle Root Motion Rotation
                    // No Free Looking - Snap Player Rotation (Euler Angle Rotation)
                    BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.transform.rotationQuaternion);
                }
                else if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                    // Validate Free Looking Rotation
                    if (this.freeLooking === true) {
                        if (this.inputMagnitude > 0) {
                            // FIXME - Note: Large Movement - Slerp Player Rotation (Euler Angle Rotation)
                            const strafingTurnRatio = (this.playerMovementVelocity.length() / this.moveSpeed);
                            const strafingTurnSpeed = BABYLON.Scalar.Lerp(this.highTurnSpeed, this.lowTurnSpeed, strafingTurnRatio);
                            BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.playerRotationQuaternion);
                            // TODO: Handle Root Motion Rotation
                            BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.playerRotationQuaternion, (strafingTurnSpeed * this.deltaTime), this.transform.rotationQuaternion);
                        }
                    }
                    else {
                        // TODO: Handle Root Motion Rotation
                        // No Free Looking - Snap Player Rotation (Euler Angle Rotation)
                        BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.transform.rotationQuaternion);
                    }
                }
            }
            this.verticalVelocity = this.getVerticalVelocity();
            this.movementVelocity.copyFrom(this.playerMovementVelocity);
            // ..
            // Update Character Controller
            // ..
            this.hasGroundedContact = false;
            this.isCharacterGrounded = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterNavigating = (this.navigationAgent != null && this.navigationAgent.isNavigating());
            this.navigationAngularSpeed = (this.navigationAgent != null) ? this.navigationAgent.angularSpeed : 0;
            this.updateCharacterController();
            // ..
            // Update Animation State Params
            // ..
            if (this.animationState != null && this.updateStateParams === true) {
                this.validateAnimationStateParams();
                this.animationState.setInteger(this.animationStateParams.moveDirection, this.playerMoveDirection);
                this.animationState.setFloat(this.animationStateParams.heightInput, this.verticalVelocity);
                this.animationState.setBool(this.animationStateParams.jumpFrame, this.isCharacterJumpFrame);
                this.animationState.setBool(this.animationStateParams.jumpState, this.isCharacterJumping);
                this.animationState.setInteger(this.animationStateParams.actionState, this.performActionNumber);
                this.animationState.setBool(this.animationStateParams.fallingState, this.isCharacterFalling);
                this.animationState.setBool(this.animationStateParams.slidingState, this.isCharacterSliding);
                this.animationState.setBool(this.animationStateParams.groundedState, this.isCharacterGrounded);
                if (this.smoothMotionTime > 0) {
                    if (this.smoothInputVectors === true) {
                        this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, this.playerInputX, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, this.playerInputZ, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, this.playerMouseX, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, this.playerMouseY, this.smoothMotionTime, this.deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    }
                    this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude, this.smoothMotionTime, this.deltaTime);
                    this.animationState.setSmoothFloat(this.animationStateParams.speedInput, this.movementSpeed, this.smoothMotionTime, this.deltaTime);
                }
                else {
                    this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                    this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                    this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                    this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    this.animationState.setFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude);
                    this.animationState.setFloat(this.animationStateParams.speedInput, this.movementSpeed);
                }
                if (this.isCharacterNavigating === true) {
                    // TODO - Update Speed Input With Navigation Magnitude
                    // this.animationState.setFloat(this.animationStateParams.speedInput, this.inputMagnitude);
                }
            }
            // ..
            // Post Network Attributes
            // ..
            if (this.postNetworkAttributes == true && UNITY.EntityController.HasNetworkEntity(this.transform)) {
                UNITY.EntityController.PostBufferedAttribute(this.transform, 0, this.playerMoveDirection); // Direction
                UNITY.EntityController.PostBufferedAttribute(this.transform, 1, this.inputMagnitude); // Magnitude
                UNITY.EntityController.PostBufferedAttribute(this.transform, 2, this.playerInputX); // Horizonal
                UNITY.EntityController.PostBufferedAttribute(this.transform, 3, this.playerInputZ); // Vertical
                UNITY.EntityController.PostBufferedAttribute(this.transform, 4, this.playerMouseX); // MouseX
                UNITY.EntityController.PostBufferedAttribute(this.transform, 5, this.playerMouseY); // MouseY
                UNITY.EntityController.PostBufferedAttribute(this.transform, 6, this.verticalVelocity); // Vertical Velocity
                UNITY.EntityController.PostBufferedAttribute(this.transform, 7, this.movementSpeed); // Movement Speed
                UNITY.EntityController.PostBufferedAttribute(this.transform, 8, this.performActionNumber); // Action State
                UNITY.EntityController.PostBufferedAttribute(this.transform, 9, ((this.isCharacterJumpFrame) ? 1 : 0)); // Jump Frame
                UNITY.EntityController.PostBufferedAttribute(this.transform, 10, ((this.isCharacterJumping) ? 1 : 0)); // Is Jumping
                UNITY.EntityController.PostBufferedAttribute(this.transform, 11, ((this.isCharacterFalling) ? 1 : 0)); // Is Falling
                UNITY.EntityController.PostBufferedAttribute(this.transform, 12, ((this.isCharacterSliding) ? 1 : 0)); // Is Sliding
                UNITY.EntityController.PostBufferedAttribute(this.transform, 13, ((this.isCharacterGrounded) ? 1 : 0)); // Is Grounded
            }
            // ..
            // Update Post Notifications
            // ..
            if (this.onPostUpdateObservable && this.onPostUpdateObservable.hasObservers()) {
                this.onPostUpdateObservable.notifyObservers(this.transform);
            }
        }
        afterPlayerController() {
        }
        // FIXME: Extra Raycast Distance When On Various Slope Angles - ???
        updateCharacterController() {
            if (this.characterController != null) {
                if (this.groundingMesh != null) {
                    this.groundingMesh.position.set(0, this.verticalOffset, this.forwardOffset);
                }
                if (this.physicsWorld != null && this.physicsWorld.contactTest != null && this.groundingObject != null && this.groundingCallback != null) {
                    this.physicsWorld.contactTest(this.groundingObject, this.groundingCallback);
                }
                this.isCharacterRising = (this.isCharacterJumping == true && this.verticalVelocity > 0);
                this.isCharacterLanding = (this.isCharacterJumping == true && this.verticalVelocity < 0);
                if (this.isCharacterRising == true) {
                    this.hasGroundedContact = false; // IGNORE CONTACT
                }
                if (this.hasGroundedContact === true && this.minJumpTimer <= 0) {
                    this.isCharacterSliding = false; // NOT SLIDING
                    this.isCharacterGrounded = true; // IS GROUNDED
                }
                //this.castPhysicsGroundCheckRay();
                //const slopeAngleLength:number = 0; // TODO: Account For Current Slope Angle - ???
                //const minGroundDistanceLength:number = (PROJECT.StandardPlayerController.MIN_GROUND_DISTANCE + slopeAngleLength);
                //this.groundCollision = (this.groundHit === true && this.groundDistance <= minGroundDistanceLength && (this.normalAngle <= 0 || this.groundNormal.y >= this.normalAngle));
                //if (this.groundCollision === true && this.minJumpTimer <= 0) {
                //    if (this.verticalVelocity === 0 || (this.groundAngle > 0 && this.verticalVelocity > 0)) {
                //        this.isCharacterSliding = false;    // NOT SLIDING
                //        this.isCharacterGrounded = true;    // IS GROUNDED
                //    } else if (this.groundAngle > 0 && this.verticalVelocity < 0) {
                //        this.isCharacterSliding = true;     // IS SLIDING
                //        this.isCharacterGrounded = false;   // NOT GROUNDED
                //    }
                //}
                if (this.isCharacterGrounded === true)
                    this.isCharacterJumping = false;
                this.isCharacterFalling = (this.isCharacterGrounded === false && this.isCharacterSliding == false && this.isCharacterJumping == false && this.verticalVelocity < 0 && Math.abs(this.verticalVelocity) >= this.minFallVelocity);
                if (this.isCharacterFalling === true && this.isCharacterFallTriggered === false) {
                    this.isCharacterFallTriggered = true;
                    if (this.jumpDelay > 0)
                        this.delayJumpTimer = this.jumpDelay; // DUNNO: MAYBE USE SEPERATE FALLING DELAY TIMER - ???
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterFallTriggered = false;
                // WM.PrintToScreen("Is Grounded: " + this.isCharacterGrounded);
                // ..
                // Update Climbing System
                // ..
                if (this.useClimbSystem === true) {
                    this.castPhysicsClimbingVolumeRay();
                    this.castPhysicsHeightCheckVolumeRay();
                }
                // ..
                // Process Character Movement
                // ..
                //if (this.movementAllowed === false) return;
                if (this.isCharacterNavigating === false && this.movementAllowed === true) {
                    if (this.isCharacterGrounded === true) {
                        if (this.delayJumpTimer <= 0)
                            this.isCharacterJumpFrame = (this.canPlayerJump === true && this.isJumpPressed === true);
                        if (this.isPerformingAction === false && this.isCharacterJumpFrame === true && this.useClimbSystem === true && this.climbContact === true && this.heightContact === true) {
                            let climbAction = -1;
                            let rotateSpeed = 1;
                            let rotateTowards = false;
                            let matchHeight = false;
                            let startTime = 0;
                            let targetTime = 0;
                            let targetOffset = 0;
                            const hitHeight = parseFloat(this.heightContactPoint.y.toFixed(2));
                            const playerHeight = parseFloat(this.transform.position.y.toFixed(2));
                            const obstacleHeight = parseFloat((hitHeight - playerHeight).toFixed(2));
                            //console.log("Climb Action -->  Hit Height: " + hitHeight + " --> Player Height: " + playerHeight + " --> Obstacle Height: " + obstacleHeight + " --> Rotate Towards: " + rotateTowards);
                            if (obstacleHeight >= this.maxHeightRanges.stepUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.stepUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.StepUp;
                                rotateSpeed = this.maxHeightRanges.stepUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.stepUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.stepUpRange.matchHeight;
                                startTime = this.maxHeightRanges.stepUpRange.startTime;
                                targetTime = this.maxHeightRanges.stepUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.stepUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.jumpUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.jumpUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.JumpUp;
                                rotateSpeed = this.maxHeightRanges.jumpUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.jumpUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.jumpUpRange.matchHeight;
                                startTime = this.maxHeightRanges.jumpUpRange.startTime;
                                targetTime = this.maxHeightRanges.jumpUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.jumpUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.climbUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.climbUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.ClimbUp;
                                rotateSpeed = this.maxHeightRanges.climbUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.climbUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.climbUpRange.matchHeight;
                                startTime = this.maxHeightRanges.climbUpRange.startTime;
                                targetTime = this.maxHeightRanges.climbUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.climbUpRange.targetOffset;
                            }
                            if (climbAction >= 0) {
                                if (this.canClimbObstaclePredicate == null || this.canClimbObstaclePredicate(climbAction) === true) {
                                    this.isCharacterJumpFrame = false;
                                    this.isCharacterJumping = false;
                                    this.isCharacterLanding = false;
                                    this.isCharacterRising = false;
                                    this.playActionAnimation(climbAction, false, true);
                                    this.playerRotationSpeed = rotateSpeed;
                                    this.rotatePlayerTowards = rotateTowards;
                                    this.matchTargetHeight = matchHeight;
                                    this.matchStartTime = (startTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetTime = (targetTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetOffset = targetOffset;
                                    this.lastTargetHeight = hitHeight;
                                    this.lastStartHeight = null;
                                    this.lockTargetHeight = false;
                                }
                            }
                        }
                        if (this.isCharacterJumpFrame === true && this.jumpSpeed > 0) {
                            this.isCharacterJumping = true;
                            this.characterController.jump(this.jumpSpeed);
                            if (this.jumpDelay > 0)
                                this.delayJumpTimer = this.jumpDelay;
                            if (this.airbornTimeout > 0)
                                this.minJumpTimer = (this.airbornTimeout + this.deltaTime);
                            this.lastJumpVelocity.set(this.movementVelocity.x, 0, this.movementVelocity.z);
                        }
                        // ..
                        // Update Move Notifications
                        // ..
                        if (this.onBeforeMoveObservable && this.onBeforeMoveObservable.hasObservers()) {
                            this.onBeforeMoveObservable.notifyObservers(this.transform);
                        }
                        // ..
                        // Validate Root Motion Velocity
                        // ..
                        if (this.animationState != null && this.rootMotion === true) {
                            const rootMotion = this.getDeltaMotionPosition();
                            this.movementVelocity.set(rootMotion.x, 0, rootMotion.z);
                            BABYLON.Vector3.TransformNormalToRef(this.movementVelocity, this.transform.getWorldMatrix(), this.movementVelocity);
                            this.characterController.move(this.movementVelocity);
                        }
                        else {
                            this.movementVelocity.scaleInPlace(this.deltaTime);
                            this.characterController.move(this.movementVelocity);
                        }
                    }
                    // this.characterController.updatePosition = true; - Which Is Best - ???
                }
                else {
                    // this.characterController.updatePosition = false; - Which Is Best - ???
                    // FIXME: EITHER OR - ???
                    // this.characterController.setGhostWorldPosition(this.transform.position);
                    this.characterController.syncGhostToTransformPosition();
                }
            }
        }
        updateCameraController() {
            if (this.enableInput === false)
                return;
            // DUNNO FUR SURE:  if (this.isCharacterNavigating === true && this.navigationAngularSpeed > 0) allowRotation = false;
            if (this.cameraPivot != null) {
                // .. 
                // Update Camera Pivot Offset
                // ..
                if (this.targetCameraOffset.x !== 0 || this.targetCameraOffset.y !== 0 || this.targetCameraOffset.z !== 0) {
                    this.cameraPivotOffset.copyFrom(this.targetCameraOffset);
                }
                else {
                    if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                        this.cameraPivotOffset.set(0, this.pivotHeight, 0);
                    }
                    else {
                        this.cameraPivotOffset.set(0, this.eyesHeight, 0);
                    }
                }
                // ..
                // Update Camera Pivot Position
                // ..
                UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                // ..
                // Update Camera Pivot Rotation
                // ..
                if (this.rotateCamera === true) {
                    BABYLON.Quaternion.FromEulerAnglesToRef(this.playerRotationVector.x, this.playerRotationVector.y, 0, this.cameraPivot.rotationQuaternion);
                }
            }
            if (this.rotateCamera === true && this.cameraNode != null) {
                if (this.cameraSmoothing <= 0)
                    this.cameraSmoothing = 5.0; // Default Camera Smoothing
                if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                    if (this.cameraCollisions === true) {
                        // ..
                        // Check Camera Collision
                        // ..
                        // const maxDistance:number = Math.abs(this.boomPosition.z);
                        const parentNode = this.cameraNode.parent;
                        this.dollyDirection.scaleToRef(this.maxDistance, this.scaledMaxDirection);
                        this.dollyDirection.scaleToRef(this.cameraDistance, this.scaledCamDirection);
                        UNITY.Utilities.GetAbsolutePositionToRef(parentNode, this.parentNodePosition);
                        UNITY.Utilities.TransformPointToRef(parentNode, this.scaledMaxDirection, this.maximumCameraPos);
                        // ..
                        let contact = false;
                        let distance = 0;
                        if (this.characterController != null) {
                            // Note: Use Bullet Physics Shape Cast
                            //const raycast:UNITY.RaycastHitResult = UNITY.RigidbodyPhysics.PhysicsShapecastToPoint(this.scene, this.cameraRaycastShape, this.parentNodePosition, this.maximumCameraPos, this.defaultRaycastGroup, this.cameraRaycastMask);
                            //contact = (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null);
                            //distance = (raycast != null && raycast.hasHit === true) ? raycast.hitDistance : 0;
                            //if (contact === true) {
                            //    const contactTag:string = SM.GetTransformTag(raycast.collisionObject.entity);
                            //    if (this.ignoreTriggerTags != null && this.ignoreTriggerTags !== "" && this.ignoreTriggerTags.indexOf(contactTag) >= 0) {
                            //        contact = false;
                            //        distance = 0;
                            //    }
                            //}
                        }
                        if (contact /* === true*/) {
                            this.cameraDistance = BABYLON.Scalar.Clamp((distance * this.distanceFactor), this.minimumDistance, this.maxDistance);
                            // Lerp Past Camera Collisions
                            if (this.cameraNode.position.x !== this.scaledCamDirection.x || this.cameraNode.position.y !== this.scaledCamDirection.y || this.cameraNode.position.z !== this.scaledCamDirection.z) {
                                BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.scaledCamDirection, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                            }
                        }
                        else {
                            if (this.mouseWheel === true) {
                                if (UNITY.InputController.IsWheelScrolling()) {
                                    const wheel = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.Wheel);
                                    if (wheel < 0) { // ZOOM OUT
                                        const zoomOutSpeed = (this.scrollSpeed * this.deltaTime);
                                        this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.maxDistance, zoomOutSpeed);
                                    }
                                    else if (wheel > 0) { // ZOOM IN
                                        const zoomInSpeed = (this.scrollSpeed * this.deltaTime);
                                        this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.minimumDistance, zoomInSpeed);
                                    }
                                }
                            }
                            // Lerp To Camera Boom Position
                            if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                                BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                            }
                        }
                    }
                    else {
                        // Lerp To Camera Boom Position
                        if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                }
                else {
                    // Note: Snap To Zero Camera Pivot Position - First Person View
                    if (this.cameraNode.position.x !== 0 || this.cameraNode.position.y !== 0 || this.cameraNode.position.z !== 0) {
                        this.cameraNode.position.set(0, 0, 0);
                    }
                }
            }
            this.updateSmoothBoomArmLength();
        }
        getBoomArmMaxDistance() { return this.maxDistance; }
        setBoomArmMaxDistance(distance) { this.maxDistance = Math.abs(distance); }
        setSmoothBoomArmLength(length, speed, updateMaxDistance = true) {
            const absoluteLength = Math.abs(length);
            this.smoothBoomArmLength = -absoluteLength;
            this.smoothBoomArmSpeed = speed;
            if (updateMaxDistance === true) {
                const absoluteDistance = Math.abs(this.maxDistance);
                if (absoluteLength > absoluteDistance) {
                    this.setBoomArmMaxDistance(absoluteLength);
                }
            }
        }
        updateSmoothBoomArmLength() {
            if (this.smoothBoomArmLength != null && this.smoothBoomArmSpeed != null) {
                if (this.boomPosition.z !== this.smoothBoomArmLength) {
                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, this.smoothBoomArmLength, (this.smoothBoomArmSpeed * this.getDeltaSeconds()));
                }
                else {
                    this.smoothBoomArmLength = null;
                    this.smoothBoomArmSpeed = null;
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Ammo Physics Raycasting
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /*
        private castPhysicsGroundCheckRay():void {
            this.groundHit = false;
            this.groundNode = null;
            this.groundPoint.set(0,0,0);
            this.groundNormal.set(0,0,0);
            this.groundAngle = 0;
            this.groundDistance = 0;
            if (this.rayLength <= 0) this.rayLength = 0.1;
            const raycastLength:number = (this.rayLength / this.transform.scaling.y) + 0.1;
            // ..
            // Grounding Raycast Positions
            // ..
            const playerTransformDownDirection = UTIL.TransformDirection(this.transform, this.downDirection);
            this.offsetGroundRaycastPosition.set(0, this.rayOrigin, 0);
            UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.startGroundRaycastPosition, this.offsetGroundRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.endGroundRaycastPosition, this.downDirection.scale(raycastLength));
            this.endGroundRaycastPosition.y += this.rayOrigin;
            // ..
            // Cast Collision Shape Ray
            // ..
            if (this.radiusScale <= 0) this.radiusScale = 1.0;
            if (this.sphereCollisionShape == null) this.sphereCollisionShape = UNITY.SceneManager.CreatePhysicsSphereShape(this.avatarRadius * this.radiusScale);
            const raycast:UNITY.RaycastHitResult = UNITY.SceneManager.PhysicsShapecast(this.scene, this.sphereCollisionShape, this.startGroundRaycastPosition, playerTransformDownDirection, raycastLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            // DEPRECIATED: const raycast:UNITY.RaycastHitResult = UNITY.SceneManager.PhysicsRaycast(this.scene, this.startGroundRaycastPosition, playerTransformDownDirection, raycastLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.groundHit = true;
                this.groundNode = raycast.collisionObject.entity;
                if (raycast.hitPoint != null) this.groundPoint.copyFrom(raycast.hitPoint);
                if (raycast.hitNormal != null) this.groundNormal.copyFrom(raycast.hitNormal);
                this.groundAngle = (this.groundHit === true) ? Math.abs(UNITY.Utilities.GetAngle(this.groundNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                if (this.groundAngle >= 88) this.groundAngle = 0; // Note: Zero Max 88 Degree Ground Angle
                this.groundDistance = (raycast.hitDistance - this.rayOrigin);
            }
            // Ground Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.groundSensorLine == null) this.groundSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".GroundSensorLine", this.scene);
                if (this.groundHit === true) {
                    this.groundSensorLine.drawLine([this.startGroundRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                } else {
                  this.groundSensorLine.drawLine([this.startGroundRaycastPosition, this.endGroundRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        */
        castPhysicsClimbingVolumeRay() {
            let raycast = null;
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactPoint.set(0, 0, 0);
            this.climbContactNormal.set(0, 0, 0);
            this.climbContactAngle = 0;
            this.climbContactDistance = 0;
            // ..
            // Climbing Raycast Positions
            // ..
            const playerTransformForwardDirection = UTIL.TransformDirection(this.transform, this.forwardDirection);
            this.offsetClimbRaycastPosition.set(0, this.rayClimbOffset, 0);
            UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.startClimbRaycastPosition, this.offsetClimbRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.endClimbRaycastPosition, this.forwardDirection.scale(this.rayClimbLength));
            this.endClimbRaycastPosition.y += this.rayClimbOffset;
            // ..
            //raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startClimbRaycastPosition, playerTransformForwardDirection, this.rayClimbLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.climbContact = true;
                    this.climbContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.climbContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.climbContactNormal.copyFrom(raycast.hitNormal);
                    this.climbContactAngle = (this.climbContactNormal != null) ? Math.abs(UNITY.Utilities.GetAngle(this.climbContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.climbContactDistance = raycast.hitDistance;
                }
            }
            // Climbing Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.climbSensorLine == null)
                    this.climbSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".ClimbingSensorLine", this.scene);
                if (this.climbContact === true) {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, this.endClimbRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        castPhysicsHeightCheckVolumeRay() {
            let raycast = null;
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactPoint.set(0, 0, 0);
            this.heightContactNormal.set(0, 0, 0);
            this.heightContactAngle = 0;
            this.heightContactDistance = 0;
            // ..
            // Height Check Raycast Positions
            // ..
            const playerTransformHeightDirection = UTIL.TransformDirection(this.transform, this.downDirection);
            if (this.climbContact === true) {
                this.endHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.addInPlace(BABYLON.Vector3.UpReadOnly.scale(this.rayHeightLength));
                //raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startHeightRaycastPosition, playerTransformHeightDirection, this.rayHeightLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            }
            else {
                this.offsetHeightRaycastPosition.set(0, this.rayHeightOffset, this.rayClimbLength);
                UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.startHeightRaycastPosition, this.offsetHeightRaycastPosition);
                this.endHeightRaycastPosition.copyFrom(this.startHeightRaycastPosition);
                this.endHeightRaycastPosition.addInPlace(this.downDirection.scale(this.rayHeightLength));
            }
            // ..
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.heightContact = true;
                    this.heightContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.heightContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.heightContactNormal.copyFrom(raycast.hitNormal);
                    this.heightContactAngle = (this.heightContactNormal != null) ? Math.abs(UNITY.Utilities.GetAngle(this.heightContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.heightContactDistance = raycast.hitDistance;
                }
            }
            // Height Check Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.heightSensorLine == null)
                    this.heightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".HeightCheckSensorLine", this.scene);
                if (raycast != null && this.heightContact === true) {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, this.endHeightRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Private Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getCheckedVerticalVelocity() {
            const currentVelocity = (this.characterController != null) ? this.characterController.getVerticalVelocity() : 0;
            return (Math.abs(currentVelocity) >= PROJECT.StandardPlayerController.MIN_VERTICAL_VELOCITY) ? currentVelocity : 0;
        }
        destroyPlayerController() {
            this.cameraPivot = null;
            this.cameraNode = null;
            this.animationState = null;
            this.characterController = null;
            this.onPreUpdateObservable.clear();
            this.onPreUpdateObservable = null;
            this.onBeforeMoveObservable.clear();
            this.onBeforeMoveObservable = null;
            this.onPostUpdateObservable.clear();
            this.onPostUpdateObservable = null;
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded",
                };
            }
        }
    }
    StandardPlayerController.MIN_VERTICAL_VELOCITY = 0.01;
    StandardPlayerController.MIN_GROUND_DISTANCE = 0.15;
    StandardPlayerController.MIN_MOVE_EPSILON = 0.001;
    StandardPlayerController.MIN_TIMER_OFFSET = 0;
    StandardPlayerController.MIN_SLOPE_LIMIT = 0;
    StandardPlayerController.PLAYER_HEIGHT = "playerHeight";
    PROJECT.StandardPlayerController = StandardPlayerController;
    /**
    * Babylon Enum Definition
    * @interface PlayerInputControl
    */
    let PlayerInputControl;
    (function (PlayerInputControl) {
        PlayerInputControl[PlayerInputControl["FirstPersonStrafing"] = 0] = "FirstPersonStrafing";
        PlayerInputControl[PlayerInputControl["ThirdPersonStrafing"] = 1] = "ThirdPersonStrafing";
    })(PlayerInputControl = PROJECT.PlayerInputControl || (PROJECT.PlayerInputControl = {}));
    /**
    * Babylon Enum Definition
    * @interface PlayerMoveDirection
    */
    let PlayerMoveDirection;
    (function (PlayerMoveDirection) {
        PlayerMoveDirection[PlayerMoveDirection["Stationary"] = 0] = "Stationary";
        PlayerMoveDirection[PlayerMoveDirection["Forward"] = 1] = "Forward";
        PlayerMoveDirection[PlayerMoveDirection["ForwardLeft"] = 2] = "ForwardLeft";
        PlayerMoveDirection[PlayerMoveDirection["ForwardRight"] = 3] = "ForwardRight";
        PlayerMoveDirection[PlayerMoveDirection["Backward"] = 4] = "Backward";
        PlayerMoveDirection[PlayerMoveDirection["BackwardLeft"] = 5] = "BackwardLeft";
        PlayerMoveDirection[PlayerMoveDirection["BackwardRight"] = 6] = "BackwardRight";
        PlayerMoveDirection[PlayerMoveDirection["StrafingLeft"] = 7] = "StrafingLeft";
        PlayerMoveDirection[PlayerMoveDirection["StrafingRight"] = 8] = "StrafingRight";
    })(PlayerMoveDirection = PROJECT.PlayerMoveDirection || (PROJECT.PlayerMoveDirection = {}));
    /**
    * Babylon Enum Definition
    * @interface ActionAnimationType
    */
    let ActionAnimationType;
    (function (ActionAnimationType) {
        ActionAnimationType[ActionAnimationType["Neutral"] = 0] = "Neutral";
        ActionAnimationType[ActionAnimationType["StepUp"] = 1] = "StepUp";
        ActionAnimationType[ActionAnimationType["JumpUp"] = 2] = "JumpUp";
        ActionAnimationType[ActionAnimationType["ClimbUp"] = 3] = "ClimbUp";
        ActionAnimationType[ActionAnimationType["VaultOver"] = 4] = "VaultOver";
    })(ActionAnimationType = PROJECT.ActionAnimationType || (PROJECT.ActionAnimationType = {}));
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit third person player controller class
     * @class ThirdPersonPlayerController - All rights reserved (c) 2020 Mackey Kinard
    */
    class ThirdPersonPlayerController extends UNITY.ScriptComponent {
        isAnimationEnabled() { return this.updateStateParams; }
        isRunButtonPressed() { return this.isRunPressed; }
        isJumpButtonPressed() { return this.isJumpPressed; }
        getPlayerJumped() { return this.isCharacterJumpFrame; }
        getPlayerJumping() { return this.isCharacterJumping; }
        getPlayerFalling() { return this.isCharacterFalling; }
        getPlayerSliding() { return this.isCharacterSliding; }
        getPlayerGrounded() { return this.isCharacterGrounded; }
        getFallTriggered() { return this.isCharacterFallTriggered; }
        getMovementSpeed() { return this.movementSpeed; }
        getCameraBoomNode() { return this.cameraNode; }
        getCameraTransform() { return this.cameraPivot; }
        getAnimationState() { return this.animationState; }
        getVerticalVelocity() { return this.getCheckedVerticalVelocity(); }
        getCharacterController() { return this.characterController; }
        getPlayerLookRotation() { return this.playerLookRotation; }
        getPlayerMoveDirection() { return this.playerMoveDirection; }
        getInputMovementVector() { return this.inputMovementVector; }
        getInputMagnitudeValue() { return this.inputMagnitude; }
        getCameraPivotPosition() { return (this.cameraPivot != null) ? this.cameraPivot.position : null; }
        getCameraPivotRotation() { return (this.cameraPivot != null) ? this.cameraPivot.rotationQuaternion : null; }
        getClimbContact() { return this.climbContact; }
        getClimbContactNode() { return this.climbContactNode; }
        getClimbContactPoint() { return this.climbContactPoint; }
        getClimbContactAngle() { return this.climbContactAngle; }
        getClimbContactNormal() { return this.climbContactNormal; }
        getClimbContactDistance() { return this.climbContactDistance; }
        ;
        getHeightContact() { return this.heightContact; }
        getHeightContactNode() { return this.heightContactNode; }
        getHeightContactPoint() { return this.heightContactPoint; }
        getHeightContactAngle() { return this.heightContactAngle; }
        getHeightContactNormal() { return this.heightContactNormal; }
        getHeightContactDistance() { return this.heightContactDistance; }
        ;
        setGavityForce(gravity) {
            this.gravitationalForce = gravity;
            if (this.characterController != null) {
                this.characterController.setGravity(this.gravitationalForce);
            }
        }
        setFallingSpeed(velocity) {
            this.terminalVelocity = velocity;
            if (this.characterController != null) {
                this.characterController.setFallingSpeed(this.terminalVelocity);
            }
        }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.enableInput = false;
            this.attachCamera = false;
            this.rotateCamera = true;
            this.mouseWheel = true;
            this.freeLooking = false;
            this.requireSprintButton = false;
            this.gravitationalForce = 29.4;
            this.terminalVelocity = 55.0;
            this.minFallVelocity = 1.0;
            this.airbornTimeout = 0.5;
            this.detectionRadius = 0.22;
            this.verticalOffset = 0.08;
            this.forwardOffset = 0.0;
            //public normalAngle:number = 0.6;
            //public radiusScale:number = 0.5;
            //public rayLength:number = 10;
            //public rayOrigin:number = 1;
            this.maxAngle = 45;
            this.speedFactor = 1.0;
            this.rootMotion = false;
            this.moveSpeed = 6.0;
            this.walkSpeed = 2.0;
            this.lookSpeed = 2.0;
            this.jumpSpeed = 10.0;
            this.jumpDelay = 0.25;
            this.eyesHeight = 1.0;
            this.pivotHeight = 1.0;
            this.maxDistance = 5.0;
            this.scrollSpeed = 25;
            this.topLookLimit = 60.0;
            this.downLookLimit = 30.0;
            this.lowTurnSpeed = 15.0;
            this.highTurnSpeed = 25.0;
            // DEPRECIATED: public smoothingSpeed:number = 0.12;
            this.smoothMotionTime = 0;
            this.smoothInputVectors = false;
            this.smoothAcceleration = false;
            this.accelerationSpeed = 0.1;
            this.decelerationSpeed = 0.1;
            this.climbVolumeTag = "Climb";
            this.vaultVolumeTag = "Vault";
            this.maxHeightRanges = null;
            this.useClimbSystem = false;
            this.distanceFactor = 0.85;
            this.cameraSmoothing = 5;
            this.cameraCollisions = true;
            this.inputMagnitude = 0;
            this.landingEpsilon = 0.1;
            this.minimumDistance = 0.85;
            this.movementAllowed = true;
            this.playerInputX = 0;
            this.playerInputZ = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.runKeyRequired = true;
            this.ignoreTriggerTags = null;
            this.buttonRun = BABYLON.Xbox360Button.LeftStick;
            this.keyboardRun = UNITY.UserInputKey.Shift;
            this.buttonJump = BABYLON.Xbox360Button.A;
            this.keyboardJump = UNITY.UserInputKey.SpaceBar;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = UNITY.UserInputKey.P;
            this.postNetworkAttributes = false;
            this.playerNumber = UNITY.PlayerNumber.One;
            this.boomPosition = new BABYLON.Vector3(0, 0, 0);
            this.airbornVelocity = new BABYLON.Vector3(0, 0, 0);
            this.movementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.targetCameraOffset = new BABYLON.Vector3(0, 0, 0);
            //public getGroundHit():boolean { return this.groundHit; }
            //public getGroundNode():BABYLON.TransformNode { return this.groundNode; }
            //public getGroundPoint():BABYLON.Vector3 { return this.groundPoint; }
            //public getGroundAngle():number { return this.groundAngle; }
            //public getGroundNormal():BABYLON.Vector3 { return this.groundNormal; }
            //public getGroundDistance():number { return this.groundDistance; }
            //public getGroundCollision():boolean { return this.groundCollision; }
            this.rayClimbOffset = 0.35;
            this.rayClimbLength = 0.85;
            this.canClimbObstaclePredicate = null;
            this.rayHeightOffset = 5.0;
            this.rayHeightLength = 6.0;
            this.physicsWorld = null;
            this.abstractMesh = null;
            this.cameraDistance = 0;
            this.forwardCamera = true; // Note Always Camera Forward
            this.avatarRadius = 0.5;
            this.groundingMesh = null;
            this.groundingObject = null;
            this.groundingCallback = null;
            this.dollyDirection = new BABYLON.Vector3(0, 0, 0);
            this.cameraEulers = new BABYLON.Vector3(0, 0, 0);
            this.rotationEulers = new BABYLON.Vector3(0, 0, 0);
            this.cameraPivotOffset = new BABYLON.Vector3(0, 0, 0);
            this.cameraForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.cameraRightVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredRightVector = new BABYLON.Vector3(0, 0, 0);
            this.scaledCamDirection = new BABYLON.Vector3(0, 0, 0);
            this.scaledMaxDirection = new BABYLON.Vector3(0, 0, 0);
            this.parentNodePosition = new BABYLON.Vector3(0, 0, 0);
            this.maximumCameraPos = new BABYLON.Vector3(0, 0, 0);
            this.tempWorldPosition = new BABYLON.Vector3(0, 0, 0);
            this.cameraRaycastShape = null;
            this.defaultRaycastGroup = UNITY.CollisionFilters.DefaultFilter;
            this.defaultRaycastMask = UNITY.CollisionFilters.StaticFilter;
            this.cameraRaycastMask = (UNITY.CollisionFilters.DefaultFilter | UNITY.CollisionFilters.StaticFilter | UNITY.CollisionFilters.KinematicFilter); // Note: Exclude The Player Character Controller From Camera Collision
            this.avatarSkins = null;
            this.cameraNode = null;
            this.cameraPivot = null;
            this.navigationAgent = null;
            this.characterController = null;
            this.verticalVelocity = 0;
            this.movementSpeed = 0;
            this.isRunPressed = false;
            this.isJumpPressed = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterGrounded = false;
            this.isCharacterFallTriggered = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterJumping = false;
            this.isCharacterRising = false;
            this.isCharacterLanding = false;
            this.isCharacterNavigating = false;
            this.navigationAngularSpeed = 0;
            this.updateStateParams = true;
            this.animationStateParams = null;
            this.sphereCollisionShape = null;
            this.hasGroundedContact = false;
            this.showDebugColliders = false;
            this.colliderVisibility = 0;
            this.colliderRenderGroup = 0;
            this.deltaTime = 0;
            this.minJumpTimer = 0;
            this.delayJumpTimer = 0;
            this.canPlayerJump = true;
            this.animationState = null;
            // DEPRECIATED: private rotationVelocityX:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            // DEPRECIATED: private rotationVelocityY:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            this.lastJumpVelocity = new BABYLON.Vector3(0, 0, 0);
            this.inputMovementVector = new BABYLON.Vector3(0, 0, 0);
            this.playerLookRotation = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationVector = BABYLON.Vector2.Zero();
            this.playerMovementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationQuaternion = BABYLON.Quaternion.Zero();
            this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            //private groundHit:boolean = false;
            //private groundNode:BABYLON.TransformNode = null;
            //private groundAngle:number = 0;
            //private groundPoint:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            //private groundNormal:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            //private groundDistance:number = 0;
            //private groundCollision:boolean = false;
            //private groundVelocity:number = 0;
            //private groundSensorLine:UNITY.LinesMeshRenderer = null;
            //private offsetGroundRaycastPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            //private startGroundRaycastPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            //private endGroundRaycastPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.forwardDirection = new BABYLON.Vector3(0, 0, 1);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactAngle = 0;
            this.climbContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.climbContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.climbContactDistance = 0;
            this.climbSensorLine = null;
            this.offsetClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactAngle = 0;
            this.heightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.heightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.heightContactDistance = 0;
            this.heightSensorLine = null;
            this.offsetHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_actualVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            this.playerDrawVelocity = 0;
            /** Register handler that is triggered before the controller has been updated */
            this.onPreUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered before the controller movement has been applied */
            this.onBeforeMoveObservable = new BABYLON.Observable();
            /** Register handler that is triggered after the controller has been updated */
            this.onPostUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered after player input has been updated */
            this.onPlayerInputObservable = new BABYLON.Observable();
            /** Register handler that is triggered when player position should be updated */
            this.onPlayerPositionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after performing action has been updated */
            this.onUpdateActionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after animation state has been updated */
            this.onAnimationStateObservable = new BABYLON.Observable();
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Root Motion Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this._deltaMotionPosition = new BABYLON.Vector3(0, 0, 0);
            this._deltaMotionRotation = new BABYLON.Quaternion(0, 0, 0, 0);
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Blocking Action Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal = new BABYLON.Vector3(0, 0, 0);
            this.lastTargetRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this.lastDeltaPosition = new BABYLON.Vector3(0, 0, 0);
            this.lastDeltaRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this._ikLeftController = null;
            this._ikLeftFootTarget = null;
            this._ikLeftPoleTarget = null;
            this._ikRightController = null;
            this._ikRightFootTarget = null;
            this._ikRightPoleTarget = null;
            this.abstractSkinMesh = null;
            this.rootBoneTransform = null;
            this.leftFootTransform = null;
            //private leftFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.leftFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.leftFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.leftFootPoleAngle = 0;
            this.leftFootMaxAngle = 180;
            this.rightFootTransform = null;
            //private rightFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.rightFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.rightFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.rightFootPoleAngle = 0;
            this.rightFootMaxAngle = 180;
            this.smoothBoomArmLength = null;
            this.smoothBoomArmSpeed = null;
        }
        awake() { this.awakePlayerController(); }
        start() { this.startPlayerController(); }
        after() { this.afterPlayerController(); }
        update() { this.updatePlayerController(); }
        destroy() { this.destroyPlayerController(); }
        getDeltaMotionPosition() {
            this._deltaMotionPosition.set(0, 0, 0);
            if (this.animationState != null) {
                const rootMotionPosition = this.animationState.getDeltaRootMotionPosition();
                if (rootMotionPosition != null) {
                    // FIXME: Calculate Delta Root Motion Position
                    this._deltaMotionPosition.copyFrom(rootMotionPosition);
                }
            }
            return this._deltaMotionPosition;
        }
        getDeltaMotionRotation() {
            this._deltaMotionRotation.set(0, 0, 0, 0);
            if (this.animationState != null) {
                const rootMotionRotation = this.animationState.getDeltaRootMotionRotation();
                if (rootMotionRotation != null) {
                    // FIXME: Calculate Delta Root Motion Rotation
                    this._deltaMotionRotation.copyFrom(rootMotionRotation);
                }
            }
            return this._deltaMotionRotation;
        }
        getIsPerformingAction() { return this.isPerformingAction; }
        getIsRootMotionAction() { return this.isRootMotionAction; }
        getIsActionInterruptable() { return this.isActionInterruptable; }
        playActionAnimation(action, interruptableAction = true, enableRootMotion = false, afterActionComplete = null) {
            if (this.isPerformingAction === false && this.animationState != null && action >= 0) {
                this.isPerformingAction = true;
                this.performActionTimer = 0;
                this.performActionNumber = action;
                this.afterActionHandler = afterActionComplete;
                this.isActionInterruptable = interruptableAction;
                this.isRootMotionAction = enableRootMotion;
                this.playerRotationSpeed = 10;
                this.rotatePlayerTowards = false;
                this.matchStartTime = 0;
                this.matchTargetTime = 0;
                this.matchTargetOffset = 0;
                this.matchTargetHeight = false;
                this.lockTargetHeight = false;
                this.lastStartHeight = null;
                this.lastTargetHeight = null;
                this.lastTargetNormal.set(0, 0, 0);
                this.lastTargetRotation.set(0, 0, 0, 1);
                if (this.isRootMotionAction === true) {
                    this.enableCharacterController(false); // Note: Disable Character Controller
                }
                if (this.animationState != null) {
                    this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                }
            }
        }
        resetActionAnimationState() {
            if (this.afterActionHandler != null) {
                try {
                    this.afterActionHandler();
                }
                catch (_a) { }
            }
            if (this.isRootMotionAction === true) {
                this.enableCharacterController(true); // Note: Enable Character Controller
            }
            if (this.animationState != null) {
                this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
            }
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal.set(0, 0, 0);
            this.lastTargetRotation.set(0, 0, 0, 1);
        }
        updateAnimationActionState() {
            const deltaTime = this.getDeltaSeconds();
            const dampTime = (this.matchTargetTime - this.matchStartTime);
            if (this.animationState != null && this.isRootMotionAction === true) {
                const playerGlobalHeight = this.transform.absolutePosition.y;
                this.lastDeltaPosition.copyFrom(this.getDeltaMotionPosition());
                BABYLON.Vector3.TransformNormalToRef(this.lastDeltaPosition, this.transform.getWorldMatrix(), this.lastDeltaPosition);
                if (this.matchTargetHeight === true) {
                    if (this.lastStartHeight == null && this.performActionTimer >= this.matchStartTime) {
                        this.lastStartHeight = playerGlobalHeight;
                        this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                        // console.warn(">>> Start Global Height: " + this.lastStartHeight + " --> Perform Action Timer: " + this.performActionTimer);
                    }
                    if (this.lastStartHeight != null && this.lastTargetHeight != null) {
                        this.lastDeltaPosition.y = 0;
                        const fixedTargetHeight = (this.lastTargetHeight + this.matchTargetOffset);
                        if (this.performActionTimer < this.matchTargetTime) {
                            this.animationState.setSmoothFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT, fixedTargetHeight, dampTime, deltaTime);
                            const smoothPlayerHeight = this.animationState.getFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                            this.lastDeltaPosition.y = (smoothPlayerHeight - playerGlobalHeight);
                            // console.warn(">>> Lerp Target Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                        }
                        else if (this.lockTargetHeight === false && this.performActionTimer >= this.matchTargetTime) {
                            this.lastDeltaPosition.y = (fixedTargetHeight - playerGlobalHeight);
                            this.lockTargetHeight = true;
                            // console.warn(">>> Last Global Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer + " ---> Match Target Time: " + this.matchTargetTime);
                        }
                    }
                }
                // ..
                // Apply Root Motion To Position
                // ..
                // this.lastDeltaPosition.x = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                // this.lastDeltaPosition.y = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                this.transform.position.addInPlace(this.lastDeltaPosition);
                // console.log("Player Action Height: " + playerGlobalHeight + " --> Perform Action Timer: " + this.performActionTimer);
                // console.log("Current Delta Height: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                // ..
                // Apply Root Motion To Rotation
                // ..
                if (this.rotatePlayerTowards === true) {
                    if (this.climbContact === true) {
                        this.lastTargetNormal.set(-this.climbContactNormal.x, -this.climbContactNormal.y, -this.climbContactNormal.z);
                        UNITY.Utilities.LookRotationToRef(this.lastTargetNormal, this.lastTargetRotation);
                        const lerpAmount = BABYLON.Scalar.Clamp(this.playerRotationSpeed * deltaTime);
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.lastTargetRotation, lerpAmount, this.transform.rotationQuaternion);
                        //console.log("Climb Target Rotation: " + this.lastTargetRotation);
                    }
                }
                else {
                    this.lastDeltaRotation.copyFrom(this.getDeltaMotionRotation());
                    this.transform.rotationQuaternion.multiplyInPlace(this.lastDeltaRotation);
                }
            }
            this.performActionTimer += deltaTime;
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Attachment Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Set the player world position */
        setWorldPosition(x, y, z) {
            if (this.characterController != null) {
                this.characterController.set(x, y, z);
            }
        }
        /** TODO */
        attachPlayerCamera(player) {
            if (this.cameraNode == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.cameraNode = PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                if (this.cameraNode != null) {
                    this.cameraNode.parent = this.cameraPivot;
                    this.cameraNode.position.copyFrom(this.boomPosition);
                    this.cameraNode.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                    // ..
                    // const actualCamera:BABYLON.UniversalCamera = SM.FindSceneCameraRig(this.cameraNode) as BABYLON.UniversalCamera;
                    // if (actualCamera != null) actualCamera.rotationQuaternion = BABYLON.Quaternion.FromEulerAngles(BABYLON.Tools.ToRadians(30),0,0);
                    // ..
                    // TODO - Move somewhere better - ???
                    // TODO - Handle Long Intitial Camera Pan - ???
                    // ..
                    this.cameraDistance = this.cameraNode.position.length();
                    this.dollyDirection.copyFrom(this.cameraNode.position);
                    this.dollyDirection.normalize();
                }
                else {
                    // DEBUG: UNITY.SceneManager.LogWarning("Failed to locate player camera for: " + this.transform.name);
                }
            }
        }
        getLeftFootTarget() { return this._ikLeftFootTarget; }
        getRightFootTarget() { return this._ikRightFootTarget; }
        getLeftFootController() { return this._ikLeftController; }
        getRightFootController() { return this._ikRightController; }
        attachBoneControllers() {
            const displayHandles = this.getProperty("displayHandles");
            const abstractSkinMeshData = this.getProperty("abstractSkinMesh");
            if (abstractSkinMeshData != null)
                this.abstractSkinMesh = this.getChildNode(abstractSkinMeshData.name, UNITY.SearchType.ExactMatch, false);
            const rootBoneTransformData = this.getProperty("rootBoneTransform");
            if (rootBoneTransformData != null)
                this.rootBoneTransform = this.getChildNode(rootBoneTransformData.name, UNITY.SearchType.ExactMatch, false);
            // ..
            const leftFootTransformData = this.getProperty("leftFootTransform");
            if (leftFootTransformData != null)
                this.leftFootTransform = this.getChildNode(leftFootTransformData.name, UNITY.SearchType.ExactMatch, false);
            //const leftFootPositionData:UNITY.IUnityVector3 = this.getProperty("leftFootPosition");
            //if (leftFootPositionData != null) this.leftFootPosition.copyFrom(UNITY.Utilities.ParseVector3(leftFootPositionData));
            const leftPoleHandleData = this.getProperty("leftFootPolePos");
            if (leftPoleHandleData != null)
                this.leftFootPolePos.copyFrom(UNITY.Utilities.ParseVector3(leftPoleHandleData));
            const leftBendAxisData = this.getProperty("leftFootBendAxis");
            if (leftBendAxisData != null)
                this.leftFootBendAxis.copyFrom(UNITY.Utilities.ParseVector3(leftBendAxisData));
            this.leftFootPoleAngle = this.getProperty("leftFootPoleAngle", this.leftFootPoleAngle);
            this.leftFootMaxAngle = this.getProperty("leftFootMaxAngle", this.leftFootMaxAngle);
            // ..
            const rightFootTransformData = this.getProperty("rightFootTransform");
            if (rightFootTransformData != null)
                this.rightFootTransform = this.getChildNode(rightFootTransformData.name, UNITY.SearchType.ExactMatch, false);
            //const rightFootPositionData:UNITY.IUnityVector3 = this.getProperty("rightFootPosition");
            //if (rightFootPositionData != null) this.rightFootPosition.copyFrom(UNITY.Utilities.ParseVector3(rightFootPositionData));
            const rightPoleHandleData = this.getProperty("rightFootPolePos");
            if (rightPoleHandleData != null)
                this.rightFootPolePos.copyFrom(UNITY.Utilities.ParseVector3(rightPoleHandleData));
            const rightBendAxisData = this.getProperty("rightFootBendAxis");
            if (rightBendAxisData != null)
                this.rightFootBendAxis.copyFrom(UNITY.Utilities.ParseVector3(rightBendAxisData));
            this.rightFootPoleAngle = this.getProperty("rightFootPoleAngle", this.rightFootPoleAngle);
            this.rightFootMaxAngle = this.getProperty("rightFootMaxAngle", this.rightFootMaxAngle);
            // ..
            if (this.abstractSkinMesh != null) {
                let materialName = "M_TARGET_MESH";
                let targetMaterial = this.scene.getMaterialByName(materialName);
                if (targetMaterial == null) {
                    targetMaterial = new BABYLON.StandardMaterial("M_TARGET_MESH", this.scene);
                    targetMaterial.diffuseColor = new BABYLON.Color3(1.0, 0.5, 0.25);
                }
                // ..
                // Setup Left Foot Controller
                // ..
                if (this.leftFootTransform != null && this.leftFootTransform._linkedBone != null) {
                    this._ikLeftFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".LeftFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikLeftFootTarget.parent = this.abstractSkinMesh;
                    //this._ikLeftFootTarget.position.copyFrom(this.leftFootPosition);
                    if (this._ikLeftFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftFootTarget.material = targetMaterial;
                        this._ikLeftFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikLeftPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".LeftFootPole", { diameter: 0.15 }, this.scene);
                    this._ikLeftPoleTarget.parent = this.abstractSkinMesh;
                    this._ikLeftPoleTarget.position.copyFrom(this.leftFootPolePos);
                    if (this._ikLeftPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikLeftController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.leftFootTransform)._linkedBone, {targetMesh:this._ikLeftFootTarget, poleTargetMesh:this._ikLeftPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.leftFootPoleAngle), bendAxis:this.leftFootBendAxis});
                    // this._ikLeftController.maxAngle = BABYLON.Tools.ToRadians(this.leftFootMaxAngle);
                }
                // ..
                // Setup Right Foot Controller
                // ..
                if (this.rightFootTransform != null && this.rightFootTransform._linkedBone != null) {
                    this._ikRightFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".RightFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikRightFootTarget.parent = this.abstractSkinMesh;
                    //this._ikRightFootTarget.position.copyFrom(this.rightFootPosition);
                    if (this._ikRightFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightFootTarget.material = targetMaterial;
                        this._ikRightFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikRightPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".RightFootPole", { diameter: 0.15 }, this.scene);
                    this._ikRightPoleTarget.parent = this.abstractSkinMesh;
                    this._ikRightPoleTarget.position.copyFrom(this.rightFootPolePos);
                    if (this._ikRightPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikRightController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.rightFootTransform)._linkedBone, {targetMesh:this._ikRightFootTarget, poleTargetMesh:this._ikRightPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.rightFootPoleAngle), bendAxis:this.rightFootBendAxis});
                    // this._ikRightController.maxAngle = BABYLON.Tools.ToRadians(this.rightFootMaxAngle);
                }
            }
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("UNITY.AnimationState");
                if (this.animationState == null) {
                    const animationNode = this.getChildWithScript("UNITY.AnimationState");
                    if (animationNode != null) {
                        this.animationState = UNITY.SceneManager.FindScriptComponent(animationNode, "UNITY.AnimationState");
                    }
                    else {
                        // DEBUG: UNITY.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                    }
                }
            }
            if (this.animationState != null) {
                this.animationState.onAnimationEndObservable.add(() => {
                    if (this.isPerformingAction === true) {
                        //console.log("Animation End: " + this.transform.name);
                        this.resetActionAnimationState();
                    }
                });
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        if (this._ikLeftController != null) {
                            this._ikLeftController.update();
                        }
                        if (this._ikRightController != null) {
                            this._ikRightController.update();
                        }
                    }
                });
            }
        }
        /** TODO */
        enableCharacterController(state) {
            if (state === true) {
                this.movementAllowed = true;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    ////this.characterController.syncGhostToTransformPosition();
                    ////this.characterController.syncMovementState();
                    ////this.characterController.syncTransformToGhostPosition();
                    this.characterController.setGravity(this.gravitationalForce);
                    this.characterController.setFallingSpeed(this.terminalVelocity);
                    this.characterController.setGhostCollisionState(true);
                    this.characterController.updatePosition = true;
                }
            }
            else {
                this.movementAllowed = false;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravity(0);
                    this.characterController.setFallingSpeed(0);
                    this.characterController.setGhostCollisionState(false);
                    ////this.characterController.syncGhostToTransformPosition();
                    this.characterController.updatePosition = false;
                }
            }
        }
        /** TODO */
        resetPlayerRotation() {
            this.transform.rotationQuaternion.toEulerAnglesToRef(this.rotationEulers);
            this.playerRotationVector.x = this.rotationEulers.x;
            this.playerRotationVector.y = this.rotationEulers.y;
        }
        /** TODO */
        resetPlayerJumpingState() {
            this.minJumpTimer = 0;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterJumpFrame = false;
            if (this.characterController != null) {
                this.characterController.jump(0); // Note: Zero Jump Speed
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        awakePlayerController() {
            this.gravitationalForce = this.getProperty("gravitationalForce", this.gravitationalForce);
            this.terminalVelocity = this.getProperty("terminalVelocity", this.terminalVelocity);
            this.rotateCamera = this.getProperty("rotateCamera", this.rotateCamera);
            this.mouseWheel = this.getProperty("mouseWheel", this.mouseWheel);
            //this.normalAngle = this.getProperty("normalAngle", this.normalAngle);
            //this.radiusScale = this.getProperty("radiusScale", this.radiusScale);
            //this.rayLength = this.getProperty("rayLength", this.rayLength);
            //this.rayOrigin = this.getProperty("rayOrigin", this.rayOrigin);
            this.detectionRadius = this.getProperty("detectionRadius", this.detectionRadius);
            this.verticalOffset = this.getProperty("verticalOffset", this.verticalOffset);
            this.forwardOffset = this.getProperty("forwardOffset", this.forwardOffset);
            this.rayClimbLength = this.getProperty("rayClimbLength", this.rayClimbLength);
            this.rayClimbOffset = this.getProperty("rayClimbOffset", this.rayClimbOffset);
            this.rayHeightLength = this.getProperty("rayHeightLength", this.rayHeightLength);
            this.rayHeightOffset = this.getProperty("rayHeightOffset", this.rayHeightOffset);
            this.maxAngle = this.getProperty("maxAngle", this.maxAngle);
            this.landingEpsilon = this.getProperty("landingEpsilon", this.landingEpsilon);
            this.minFallVelocity = this.getProperty("minFallVelocity", this.minFallVelocity);
            this.airbornTimeout = this.getProperty("airbornTimeout", this.airbornTimeout);
            this.rootMotion = this.getProperty("rootMotion", this.rootMotion);
            this.moveSpeed = this.getProperty("moveSpeed", this.moveSpeed);
            this.walkSpeed = this.getProperty("walkSpeed", this.walkSpeed);
            this.lookSpeed = this.getProperty("lookSpeed", this.lookSpeed);
            this.jumpSpeed = this.getProperty("jumpSpeed", this.jumpSpeed);
            this.jumpDelay = this.getProperty("jumpDelay", this.jumpDelay);
            this.eyesHeight = this.getProperty("eyesHeight", this.eyesHeight);
            this.pivotHeight = this.getProperty("pivotHeight", this.pivotHeight);
            this.maxDistance = this.getProperty("maxDistance", this.maxDistance);
            this.scrollSpeed = this.getProperty("scrollSpeed", this.scrollSpeed);
            this.topLookLimit = this.getProperty("topLookLimit", this.topLookLimit);
            this.downLookLimit = this.getProperty("downLookLimit", this.downLookLimit);
            this.lowTurnSpeed = this.getProperty("lowTurnSpeed", this.lowTurnSpeed);
            this.highTurnSpeed = this.getProperty("highTurnSpeed", this.highTurnSpeed);
            // DEPRECIATED: this.smoothingSpeed = this.getProperty("smoothingSpeed", this.smoothingSpeed);
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.attachCamera = this.getProperty("attachCamera", this.attachCamera);
            this.freeLooking = this.getProperty("freeLooking", this.freeLooking);
            this.runKeyRequired = this.getProperty("runKeyRequired", this.runKeyRequired);
            this.cameraCollisions = this.getProperty("cameraCollisions", this.cameraCollisions);
            this.cameraSmoothing = this.getProperty("cameraSmoothing", this.cameraSmoothing);
            this.distanceFactor = this.getProperty("distanceFactor", this.distanceFactor);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.smoothMotionTime = this.getProperty("smoothMotionTime", this.smoothMotionTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.smoothAcceleration = this.getProperty("smoothAcceleration", this.smoothAcceleration);
            this.accelerationSpeed = this.getProperty("accelerationSpeed", this.accelerationSpeed);
            this.decelerationSpeed = this.getProperty("decelerationSpeed", this.decelerationSpeed);
            this.climbVolumeTag = this.getProperty("climbVolumeTag", this.climbVolumeTag);
            this.vaultVolumeTag = this.getProperty("vaultVolumeTag", this.vaultVolumeTag);
            this.useClimbSystem = this.getProperty("useClimbSystem", this.useClimbSystem);
            this.maxHeightRanges = this.getProperty("maxHeightRanges", this.maxHeightRanges);
            this.ignoreTriggerTags = this.getProperty("ignoreTriggerTags", this.ignoreTriggerTags);
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            this.postNetworkAttributes = this.getProperty("postNetworkAttributes", this.postNetworkAttributes);
            // ..
            const arrowKeyRotation = this.getProperty("arrowKeyRotation");
            if (arrowKeyRotation === true)
                UNITY.UserInputOptions.UseArrowKeyRotation = true;
            // ..
            const boomPositionData = this.getProperty("boomPosition");
            if (boomPositionData != null)
                this.boomPosition = UNITY.Utilities.ParseVector3(boomPositionData);
            // ..
            const sphereRadius = this.getProperty("sphereRadius", 0.5);
            //this.cameraRaycastShape = UNITY.RigidbodyPhysics.CreatePhysicsSphereShape(sphereRadius);
            // ..
            this.abstractMesh = this.getAbstractMesh();
            this.showDebugColliders = UNITY.Utilities.ShowDebugColliders();
            this.colliderVisibility = UNITY.Utilities.ColliderVisibility();
            this.colliderRenderGroup = UNITY.Utilities.ColliderRenderGroup();
            this.resetPlayerRotation();
            // ..
            /*
            this.physicsWorld = UNITY.RigidbodyPhysics.GetPhysicsWorld(this.scene);
            this.groundingMesh = BABYLON.MeshBuilder.CreateSphere("GroundingMesh", { segments: 24, diameter: (this.detectionRadius * 2), }, this.scene);
            this.groundingMesh.setParent(this.transform);
            this.groundingMesh.position.set(0, (this.verticalOffset * 2), (this.forwardOffset * 2));
            this.groundingMesh.rotationQuaternion = new BABYLON.Quaternion(0,0,0,1);
            this.groundingMesh.material = UNITY.Utilities.GetColliderMaterial(this.scene);
            this.groundingMesh.isVisible = this.showDebugColliders;
            this.groundingMesh.visibility = this.colliderVisibility;
            this.groundingMesh.renderingGroupId = this.colliderRenderGroup;
            UNITY.RigidbodyPhysics.CreatePhysicsImpostor(this.scene, this.groundingMesh, BABYLON.PhysicsImpostor.SphereImpostor, { mass: 0 });
            this.groundingMesh.physicsImpostor.executeNativeFunction((word:any, body:any) => {
                this.groundingObject = Ammo.castObject(body, Ammo.btCollisionObject);
                this.groundingCallback = new Ammo.ConcreteContactResultCallback();
                this.groundingCallback.m_collisionFilterGroup = UNITY.CollisionFilters.KinematicFilter;
                this.groundingCallback.m_collisionFilterMask = UNITY.CollisionFilters.DefaultFilter | UNITY.CollisionFilters.StaticFilter;
                this.groundingCallback.addSingleResult = (cp, colObj0Wrap, partId0, index0, colObj1Wrap, partId1, index1) => {
                    // KEEP FOR REFERENCE
                    // const contactPoint = Ammo.wrapPointer(cp, Ammo.btManifoldPoint);
                    // const colObj0Wrapper:any = Ammo.wrapPointer(colObj0Wrap, Ammo.btCollisionObjectWrapper);
                    // const colobj0:any = colObj0Wrapper.getCollisionObject();
                    // const entity0:BABYLON.TransformNode = (colobj0 != null && colobj0.entity != null) ? colobj0.entity : null;
                    // let contactEntity:BABYLON.TransformNode = null;
                    // if (colObj1Wrap != null) {
                    //    const colObj1Wrapper:any = Ammo.wrapPointer(colObj1Wrap, Ammo.btCollisionObjectWrapper);
                    //    if (colObj1Wrapper != null) {
                    //        const colobj1:any = colObj1Wrapper.getCollisionObject();
                    //        contactEntity = (colobj1 != null && colobj1.entity != null) ? colobj1.entity : null;
                    //    }
                    // }
                    // if (contactEntity != null) {
                    //    this.hasGroundedContact = true;
                    //    // console.log("Ground Contact Mesh: " + contactEntity.name);
                    // }
                    this.hasGroundedContact = true;
                };
                if (body.activate) body.activate();
                // ..
                // Set Collision Flags
                // ..
                if (body.setCollisionFlags && body.getCollisionFlags) {
                    body.setCollisionFlags(body.getCollisionFlags() | BABYLON.CollisionFlags.CF_NO_CONTACT_RESPONSE);       // TRIGGER_OBJECT
                    body.setCollisionFlags(body.getCollisionFlags() | BABYLON.CollisionFlags.CF_KINEMATIC_OBJECT);          // STATIC_OBJECT
                    body.setCollisionFlags(body.getCollisionFlags() | BABYLON.CollisionFlags.CF_CUSTOM_MATERIAL_CALLBACK);  // CUSTOM_MATERIAL
                }
                // ..
                // Set Collision Masks
                // ..
                if (body.getBroadphaseProxy) {
                    body.getBroadphaseProxy().set_m_collisionFilterGroup(UNITY.CollisionFilters.KinematicFilter)
                    body.getBroadphaseProxy().set_m_collisionFilterMask(UNITY.CollisionFilters.DefaultFilter | UNITY.CollisionFilters.StaticFilter)
                }
            });
            */
            // ..
            this.cameraPivot = new BABYLON.Mesh(this.transform.name + ".CameraPivot", this.scene);
            this.cameraPivot.parent = null;
            this.cameraPivot.position = this.transform.position.clone();
            this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
            this.cameraPivot.checkCollisions = false;
            this.cameraPivot.isPickable = false;
            // ..
            if (this.showDebugColliders === true) {
                const testPivot = BABYLON.MeshBuilder.CreateBox("TestPivot", { width: 0.25, height: 0.25, depth: 0.5 }, this.scene);
                testPivot.parent = this.cameraPivot;
                testPivot.position.set(0, 0, 0);
                testPivot.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                testPivot.visibility = 0.5;
                testPivot.renderingGroupId = this.colliderRenderGroup;
                testPivot.checkCollisions = false;
                testPivot.isPickable = false;
            }
            // ..
            const cylinderShape = this.getProperty("cylinderShape");
            const configController = this.getComponent("UNITY.CharacterController");
            if (configController != null && cylinderShape === true)
                configController.preCreateCylinderShape();
            // ..
            // Setup IK Bone Controllers
            // ..
            this.attachBoneControllers();
        }
        startPlayerController() {
            // TODO - Support Dynamic PlayerNumber Change - ???
            if (this.attachCamera === true) {
                this.attachPlayerCamera(this.playerNumber);
            }
            this.navigationAgent = this.getComponent("UNITY.NavigationAgent");
            this.characterController = this.getComponent("UNITY.CharacterController");
            if (this.characterController != null) {
                this.avatarRadius = this.characterController.getAvatarRadius();
                this.characterController.setGravity(this.gravitationalForce);
                this.characterController.setFallingSpeed(this.terminalVelocity);
                //this.characterController.onUpdatePositionObservable.add(() => {
                //    this.updatePlayerPosition();
                //    this.updateCameraController();
                //});
                UNITY.SceneManager.LogWarning("Starting player controller in physic engine mode for: " + this.transform.name);
            }
            else {
                UNITY.SceneManager.LogWarning("No character controller found for: " + this.transform.name);
            }
            // Set player window state variable
            // SM.SetWindowState("player", this);
        }
        updatePlayerPosition() {
            if (this.onPlayerPositionObservable && this.onPlayerPositionObservable.hasObservers()) {
                this.onPlayerPositionObservable.notifyObservers(this.transform);
            }
        }
        updatePlayerController() {
            this.deltaTime = this.getDeltaSeconds();
            //this.smoothDeltaTime = UNITY.System.SmoothDeltaFactor * this.deltaTime + (1 - UNITY.System.SmoothDeltaFactor) * this.smoothDeltaTime;
            // ..
            this.m_actualVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_linearVelocity.copyFrom(this.m_actualVelocity);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.deltaTime);
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.playerDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.playerDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            // TODO - FIX THIS SHIT
            if (this.updateStateParams === true && this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            if (this.minJumpTimer > 0) {
                this.minJumpTimer -= this.deltaTime;
                if (this.minJumpTimer < 0)
                    this.minJumpTimer = 0;
            }
            if (this.isCharacterGrounded === true && this.delayJumpTimer > 0) {
                this.delayJumpTimer -= this.deltaTime;
                if (this.delayJumpTimer < 0)
                    this.delayJumpTimer = 0;
            }
            // ..
            this.canPlayerJump = true;
            if (this.isPerformingAction === true) {
                this.updateAnimationActionState();
                if (this.onUpdateActionObservable && this.onUpdateActionObservable.hasObservers()) {
                    this.onUpdateActionObservable.notifyObservers(this.transform);
                }
            }
            if (this.enableInput === false)
                return;
            const userInputX = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.Horizontal, this.playerNumber);
            const userInputZ = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.Vertical, this.playerNumber);
            const userMouseX = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.MouseX, this.playerNumber);
            const userMouseY = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.MouseY, this.playerNumber);
            if (this.smoothAcceleration === true) {
                // SMOOTH USER INPUT X
                if (userInputX > 0) {
                    this.playerInputX += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX > 1)
                        this.playerInputX = 1;
                }
                else if (userInputX < 0) {
                    this.playerInputX -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX < -1)
                        this.playerInputX = -1;
                }
                else {
                    if (this.playerInputX < 0) {
                        this.playerInputX += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX > 0)
                            this.playerInputX = 0;
                    }
                    else if (this.playerInputX > 0) {
                        this.playerInputX -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX < 0)
                            this.playerInputX = 0;
                    }
                }
                // SMOOTH USER INPUT Z
                if (userInputZ > 0) {
                    this.playerInputZ += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ > 1)
                        this.playerInputZ = 1;
                }
                else if (userInputZ < 0) {
                    this.playerInputZ -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ < -1)
                        this.playerInputZ = -1;
                }
                else {
                    if (this.playerInputZ < 0) {
                        this.playerInputZ += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ > 0)
                            this.playerInputZ = 0;
                    }
                    else if (this.playerInputZ > 0) {
                        this.playerInputZ -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ < 0)
                            this.playerInputZ = 0;
                    }
                }
            }
            else {
                // RAW USER INPUT XZ
                this.playerInputX = userInputX;
                this.playerInputZ = userInputZ;
            }
            // ..
            this.playerMouseX = userMouseX;
            this.playerMouseY = userMouseY;
            // ..
            // Validate Animation Action
            // ..
            if (this.isPerformingAction === true && this.isActionInterruptable === true) {
                if (this.playerInputX !== 0 || this.playerInputZ !== 0) {
                    //console.log("Animation Interrupt: " + this.transform.name);
                    this.resetActionAnimationState();
                }
            }
            if (this.isPerformingAction === true) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Input
            // ..
            if (this.onPlayerInputObservable && this.onPlayerInputObservable.hasObservers()) {
                this.onPlayerInputObservable.notifyObservers(this.transform);
            }
            //..
            // Update Input Magnitude
            // ..
            this.inputMovementVector.set(this.playerInputX, 0, this.playerInputZ);
            if (this.inputMovementVector.length() > 1.0)
                this.inputMovementVector.normalize(); // Note: Normalize In Place
            this.inputMagnitude = this.inputMovementVector.length();
            // ..
            // Update Move Direction
            // ..
            const moveForward = (this.playerInputZ > 0);
            const moveBackward = (this.playerInputZ < 0);
            const moveRight = (this.playerInputX > 0);
            const moveLeft = (this.playerInputX < 0);
            if (moveForward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Forward;
                }
            }
            else if (moveBackward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Backward;
                }
            }
            else if (moveLeft === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingLeft;
            }
            else if (moveRight === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingRight;
            }
            else {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            }
            // ..
            // Update Pre Notifications
            // ..
            if (this.onPreUpdateObservable && this.onPreUpdateObservable.hasObservers()) {
                this.onPreUpdateObservable.notifyObservers(this.transform);
            }
            // ..
            // Update Forward Camera Vector
            // ..
            this.cameraForwardVector.copyFrom(this.cameraPivot.forward);
            this.cameraForwardVector.y = 0;
            this.cameraForwardVector.normalize();
            this.cameraForwardVector.scaleToRef(this.playerInputZ, this.desiredForwardVector);
            // ..
            // Update Right Camera Vector
            // ..
            this.cameraRightVector.copyFrom(this.cameraPivot.right);
            this.cameraRightVector.y = 0;
            this.cameraRightVector.normalize();
            this.cameraRightVector.scaleToRef(this.playerInputX, this.desiredRightVector);
            // ..
            // Update Player Rotation Vector
            // ..
            this.playerRotationVector.y += (this.playerMouseX * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x += (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x = BABYLON.Scalar.Clamp(this.playerRotationVector.x, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            if (this.movementAllowed === false) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Smooth Player Rotation Vector (DEPRECIATED)
            // ..
            // let newPlayerRotationVectorY = this.playerRotationVector.y + (this.playerMouseX * this.lookSpeed * this.deltaTime);
            // let newPlayerRotationVectorX = this.playerRotationVector.x + (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            // newPlayerRotationVectorX = BABYLON.Scalar.Clamp(newPlayerRotationVectorX, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            // this.playerRotationVector.x = UNITY.Utilities.SmoothDampAngle(this.playerRotationVector.x, newPlayerRotationVectorX, this.smoothingSpeed, Number.MAX_VALUE, this.deltaTime, this.rotationVelocityX);
            // this.playerRotationVector.y = UNITY.Utilities.SmoothDampAngle(this.playerRotationVector.y, newPlayerRotationVectorY, this.smoothingSpeed, Number.MAX_VALUE, this.deltaTime, this.rotationVelocityY);
            // ..
            // Update Player Button Presses
            // ..
            this.isRunPressed = (UNITY.InputController.GetKeyboardInput(this.keyboardRun) || UNITY.InputController.GetGamepadButtonInput(this.buttonRun));
            this.isJumpPressed = (UNITY.InputController.GetKeyboardInput(this.keyboardJump) || UNITY.InputController.GetGamepadButtonInput(this.buttonJump));
            // ..
            // Update Player Movement Velocity
            // ..
            this.movementSpeed = (this.inputMagnitude * this.moveSpeed * this.speedFactor);
            if (this.runKeyRequired === true && this.isRunPressed === false) {
                // ..
                // TODO: Lerp Max Speed From Walk To Run And Vice Versa (Smooth Out Transitions)
                // ..
                this.movementSpeed = BABYLON.Scalar.Clamp(this.movementSpeed, 0, this.walkSpeed);
            }
            // ..
            // Forward Third Person View - Player Look Rotation
            // ..
            this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerLookRotation);
            this.transform.forward.scaleToRef(this.movementSpeed, this.playerMovementVelocity);
            // Always Free Looking - Lerp Player Rotation (Turn And Burn)
            if (this.movementAllowed == true) {
                if (this.inputMagnitude > 0) {
                    const forwardTurnRatio = (this.playerMovementVelocity.length() / this.moveSpeed);
                    const forwardTurnSpeed = BABYLON.Scalar.Lerp(this.highTurnSpeed, this.lowTurnSpeed, forwardTurnRatio);
                    UNITY.Utilities.LookRotationToRef(this.playerLookRotation, this.playerRotationQuaternion);
                    // TODO: Handle Root Motion Rotation
                    BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.playerRotationQuaternion, (forwardTurnSpeed * this.deltaTime), this.transform.rotationQuaternion);
                }
            }
            this.verticalVelocity = this.getVerticalVelocity();
            this.movementVelocity.copyFrom(this.playerMovementVelocity);
            // ..
            // Update Character Controller
            // ..
            this.hasGroundedContact = false;
            this.isCharacterGrounded = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterNavigating = (this.navigationAgent != null && this.navigationAgent.isNavigating());
            this.navigationAngularSpeed = (this.navigationAgent != null) ? this.navigationAgent.angularSpeed : 0;
            this.updateCharacterController();
            // ..
            // Update Animation State Params
            // ..
            if (this.animationState != null && this.updateStateParams === true) {
                this.validateAnimationStateParams();
                this.animationState.setInteger(this.animationStateParams.moveDirection, this.playerMoveDirection);
                this.animationState.setFloat(this.animationStateParams.heightInput, this.verticalVelocity);
                this.animationState.setBool(this.animationStateParams.jumpFrame, this.isCharacterJumpFrame);
                this.animationState.setBool(this.animationStateParams.jumpState, this.isCharacterJumping);
                this.animationState.setInteger(this.animationStateParams.actionState, this.performActionNumber);
                this.animationState.setBool(this.animationStateParams.fallingState, this.isCharacterFalling);
                this.animationState.setBool(this.animationStateParams.slidingState, this.isCharacterSliding);
                this.animationState.setBool(this.animationStateParams.groundedState, this.isCharacterGrounded);
                if (this.smoothMotionTime > 0) {
                    if (this.smoothInputVectors === true) {
                        this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, this.playerInputX, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, this.playerInputZ, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, this.playerMouseX, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, this.playerMouseY, this.smoothMotionTime, this.deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    }
                    this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude, this.smoothMotionTime, this.deltaTime);
                    this.animationState.setSmoothFloat(this.animationStateParams.speedInput, this.movementSpeed, this.smoothMotionTime, this.deltaTime);
                }
                else {
                    this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                    this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                    this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                    this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    this.animationState.setFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude);
                    this.animationState.setFloat(this.animationStateParams.speedInput, this.movementSpeed);
                }
                if (this.isCharacterNavigating === true) {
                    // TODO - Update Speed Input With Navigation Magnitude
                    // this.animationState.setFloat(this.animationStateParams.speedInput, this.inputMagnitude);
                }
                if (this.onAnimationStateObservable && this.onAnimationStateObservable.hasObservers()) {
                    this.onAnimationStateObservable.notifyObservers(this.transform);
                }
            }
            // ..
            // Post Network Attributes
            // ..
            if (this.postNetworkAttributes == true && UNITY.EntityController.HasNetworkEntity(this.transform)) {
                UNITY.EntityController.PostBufferedAttribute(this.transform, 0, this.playerMoveDirection); // Direction
                UNITY.EntityController.PostBufferedAttribute(this.transform, 1, this.inputMagnitude); // Magnitude
                UNITY.EntityController.PostBufferedAttribute(this.transform, 2, this.playerInputX); // Horizonal
                UNITY.EntityController.PostBufferedAttribute(this.transform, 3, this.playerInputZ); // Vertical
                UNITY.EntityController.PostBufferedAttribute(this.transform, 4, this.playerMouseX); // MouseX
                UNITY.EntityController.PostBufferedAttribute(this.transform, 5, this.playerMouseY); // MouseY
                UNITY.EntityController.PostBufferedAttribute(this.transform, 6, this.verticalVelocity); // Vertical Velocity
                UNITY.EntityController.PostBufferedAttribute(this.transform, 7, this.movementSpeed); // Movement Speed
                UNITY.EntityController.PostBufferedAttribute(this.transform, 8, this.performActionNumber); // Action State
                UNITY.EntityController.PostBufferedAttribute(this.transform, 9, ((this.isCharacterJumpFrame) ? 1 : 0)); // Jump Frame
                UNITY.EntityController.PostBufferedAttribute(this.transform, 10, ((this.isCharacterJumping) ? 1 : 0)); // Is Jumping
                UNITY.EntityController.PostBufferedAttribute(this.transform, 11, ((this.isCharacterFalling) ? 1 : 0)); // Is Falling
                UNITY.EntityController.PostBufferedAttribute(this.transform, 12, ((this.isCharacterSliding) ? 1 : 0)); // Is Sliding
                UNITY.EntityController.PostBufferedAttribute(this.transform, 13, ((this.isCharacterGrounded) ? 1 : 0)); // Is Grounded
            }
            // ..
            // Update Post Notifications
            // ..
            if (this.onPostUpdateObservable && this.onPostUpdateObservable.hasObservers()) {
                this.onPostUpdateObservable.notifyObservers(this.transform);
            }
        }
        afterPlayerController() {
        }
        // FIXME: Extra Raycast Distance When On Various Slope Angles - ???
        updateCharacterController() {
            if (this.characterController != null) {
                if (this.groundingMesh != null) {
                    this.groundingMesh.position.set(0, (this.verticalOffset * 2), (this.forwardOffset * 2));
                }
                if (this.physicsWorld != null && this.physicsWorld.contactTest != null && this.groundingObject != null && this.groundingCallback != null) {
                    this.physicsWorld.contactTest(this.groundingObject, this.groundingCallback);
                }
                this.isCharacterRising = (this.isCharacterJumping == true && this.verticalVelocity > 0);
                this.isCharacterLanding = (this.isCharacterJumping == true && this.verticalVelocity < 0);
                if (this.isCharacterRising == true) {
                    this.hasGroundedContact = false; // IGNORE CONTACT
                }
                if (this.hasGroundedContact === true && this.minJumpTimer <= 0) {
                    this.isCharacterSliding = false; // NOT SLIDING
                    this.isCharacterGrounded = true; // IS GROUNDED
                }
                //this.castPhysicsGroundCheckRay();
                //const slopeAngleLength:number = 0; // TODO: Account For Current Slope Angle - ???
                //const minGroundDistanceLength:number = (PROJECT.StandardPlayerController.MIN_GROUND_DISTANCE + slopeAngleLength);
                //this.groundCollision = (this.groundHit === true && this.groundDistance <= minGroundDistanceLength && (this.normalAngle <= 0 || this.groundNormal.y >= this.normalAngle));
                //if (this.groundCollision === true && this.minJumpTimer <= 0) {
                //    if (this.verticalVelocity === 0 || (this.groundAngle > 0 && this.verticalVelocity > 0)) {
                //        this.isCharacterSliding = false;    // NOT SLIDING
                //        this.isCharacterGrounded = true;    // IS GROUNDED
                //    } else if (this.groundAngle > 0 && this.verticalVelocity < 0) {
                //        this.isCharacterSliding = true;     // IS SLIDING
                //        this.isCharacterGrounded = false;   // NOT GROUNDED
                //    }
                //}
                if (this.isCharacterGrounded === true)
                    this.isCharacterJumping = false;
                this.isCharacterFalling = (this.isCharacterGrounded === false && this.isCharacterSliding == false && this.isCharacterJumping == false && this.verticalVelocity < 0 && Math.abs(this.verticalVelocity) >= this.minFallVelocity);
                if (this.isCharacterFalling === true && this.isCharacterFallTriggered === false) {
                    this.isCharacterFallTriggered = true;
                    if (this.jumpDelay > 0)
                        this.delayJumpTimer = this.jumpDelay; // DUNNO: MAYBE USE SEPERATE FALLING DELAY TIMER - ???
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterFallTriggered = false;
                // var msgx = ("Grounded: " + this.isCharacterGrounded + " -> Jumping: " + this.isCharacterJumping + " -> Rising: " + this.isCharacterRising + " -> Landing: " + this.isCharacterLanding + " -> Velocity: " + this.verticalVelocity);
                // console.log(msgx);
                // WM.PrintToScreen(msgx);
                // ..
                // Update Climbing System
                // ..
                if (this.useClimbSystem === true) {
                    this.castPhysicsClimbingVolumeRay();
                    this.castPhysicsHeightCheckVolumeRay();
                }
                // ..
                // Process Character Movement
                // ..
                //if (this.movementAllowed === false) return;
                if (this.isCharacterNavigating === false && this.movementAllowed === true) {
                    if (this.isCharacterGrounded === true) {
                        if (this.delayJumpTimer <= 0)
                            this.isCharacterJumpFrame = (this.canPlayerJump === true && this.isJumpPressed === true);
                        if (this.isPerformingAction === false && this.isCharacterJumpFrame === true && this.useClimbSystem === true && this.climbContact === true && this.heightContact === true) {
                            let climbAction = -1;
                            let rotateSpeed = 1;
                            let rotateTowards = false;
                            let matchHeight = false;
                            let startTime = 0;
                            let targetTime = 0;
                            let targetOffset = 0;
                            const hitHeight = parseFloat(this.heightContactPoint.y.toFixed(2));
                            const playerHeight = parseFloat(this.transform.position.y.toFixed(2));
                            const obstacleHeight = parseFloat((hitHeight - playerHeight).toFixed(2));
                            //console.log("Climb Action -->  Hit Height: " + hitHeight + " --> Player Height: " + playerHeight + " --> Obstacle Height: " + obstacleHeight + " --> Rotate Towards: " + rotateTowards);
                            if (obstacleHeight >= this.maxHeightRanges.stepUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.stepUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.StepUp;
                                rotateSpeed = this.maxHeightRanges.stepUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.stepUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.stepUpRange.matchHeight;
                                startTime = this.maxHeightRanges.stepUpRange.startTime;
                                targetTime = this.maxHeightRanges.stepUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.stepUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.jumpUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.jumpUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.JumpUp;
                                rotateSpeed = this.maxHeightRanges.jumpUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.jumpUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.jumpUpRange.matchHeight;
                                startTime = this.maxHeightRanges.jumpUpRange.startTime;
                                targetTime = this.maxHeightRanges.jumpUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.jumpUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.climbUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.climbUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.ClimbUp;
                                rotateSpeed = this.maxHeightRanges.climbUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.climbUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.climbUpRange.matchHeight;
                                startTime = this.maxHeightRanges.climbUpRange.startTime;
                                targetTime = this.maxHeightRanges.climbUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.climbUpRange.targetOffset;
                            }
                            if (climbAction >= 0) {
                                if (this.canClimbObstaclePredicate == null || this.canClimbObstaclePredicate(climbAction) === true) {
                                    this.isCharacterJumpFrame = false;
                                    this.isCharacterJumping = false;
                                    this.isCharacterLanding = false;
                                    this.isCharacterRising = false;
                                    this.playActionAnimation(climbAction, false, true);
                                    this.playerRotationSpeed = rotateSpeed;
                                    this.rotatePlayerTowards = rotateTowards;
                                    this.matchTargetHeight = matchHeight;
                                    this.matchStartTime = (startTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetTime = (targetTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetOffset = targetOffset;
                                    this.lastTargetHeight = hitHeight;
                                    this.lastStartHeight = null;
                                    this.lockTargetHeight = false;
                                }
                            }
                        }
                        if (this.isCharacterJumpFrame === true && this.jumpSpeed > 0) {
                            this.isCharacterJumping = true;
                            this.characterController.jump(this.jumpSpeed);
                            if (this.jumpDelay > 0)
                                this.delayJumpTimer = this.jumpDelay;
                            if (this.airbornTimeout > 0)
                                this.minJumpTimer = (this.airbornTimeout + this.deltaTime);
                            this.lastJumpVelocity.set(this.movementVelocity.x, 0, this.movementVelocity.z);
                        }
                        // ..
                        // Update Move Notifications
                        // ..
                        if (this.onBeforeMoveObservable && this.onBeforeMoveObservable.hasObservers()) {
                            this.onBeforeMoveObservable.notifyObservers(this.transform);
                        }
                        // ..
                        // Validate Root Motion Velocity
                        // ..
                        if (this.animationState != null && this.rootMotion === true) {
                            const rootMotion = this.getDeltaMotionPosition();
                            this.movementVelocity.set(rootMotion.x, 0, rootMotion.z);
                            BABYLON.Vector3.TransformNormalToRef(this.movementVelocity, this.transform.getWorldMatrix(), this.movementVelocity);
                            this.characterController.move(this.movementVelocity);
                        }
                        else {
                            this.movementVelocity.scaleInPlace(this.deltaTime);
                            this.characterController.move(this.movementVelocity);
                        }
                    }
                    // this.characterController.updatePosition = true; - Which Is Best - ???
                }
                else {
                    // this.characterController.updatePosition = false; - Which Is Best - ???
                    // FIXME: EITHER OR - ???
                    // this.characterController.setGhostWorldPosition(this.transform.position);
                    this.characterController.syncGhostToTransformPosition();
                }
            }
        }
        updateCameraController() {
            if (this.enableInput === false)
                return;
            // DUNNO FUR SURE:  if (this.isCharacterNavigating === true && this.navigationAngularSpeed > 0) allowRotation = false;
            if (this.cameraPivot != null) {
                // .. 
                // Update Camera Pivot Offset
                // ..
                if (this.targetCameraOffset.x !== 0 || this.targetCameraOffset.y !== 0 || this.targetCameraOffset.z !== 0) {
                    this.cameraPivotOffset.copyFrom(this.targetCameraOffset);
                }
                else {
                    this.cameraPivotOffset.set(0, this.pivotHeight, 0);
                }
                // ..
                // Update Camera Pivot Position
                // ..
                UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                // ..
                // Update Camera Pivot Rotation
                // ..
                if (this.rotateCamera === true) {
                    BABYLON.Quaternion.FromEulerAnglesToRef(this.playerRotationVector.x, this.playerRotationVector.y, 0, this.cameraPivot.rotationQuaternion);
                }
            }
            if (this.rotateCamera === true && this.cameraNode != null) {
                if (this.cameraSmoothing <= 0)
                    this.cameraSmoothing = 5.0; // Default Camera Smoothing
                if (this.cameraCollisions === true) {
                    // ..
                    // Check Camera Collision
                    // ..
                    // const maxDistance:number = Math.abs(this.boomPosition.z);
                    const parentNode = this.cameraNode.parent;
                    this.dollyDirection.scaleToRef(this.maxDistance, this.scaledMaxDirection);
                    this.dollyDirection.scaleToRef(this.cameraDistance, this.scaledCamDirection);
                    UNITY.Utilities.GetAbsolutePositionToRef(parentNode, this.parentNodePosition);
                    UNITY.Utilities.TransformPointToRef(parentNode, this.scaledMaxDirection, this.maximumCameraPos);
                    // ..
                    let contact = false;
                    let distance = 0;
                    if (this.characterController != null) {
                        // Note: Use Bullet Physics Shape Cast
                        //const raycast:UNITY.RaycastHitResult = UNITY.RigidbodyPhysics.PhysicsShapecastToPoint(this.scene, this.cameraRaycastShape, this.parentNodePosition, this.maximumCameraPos, this.defaultRaycastGroup, this.cameraRaycastMask);
                        //contact = (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null);
                        //distance = (raycast != null && raycast.hasHit === true) ? raycast.hitDistance : 0;
                        //if (contact === true) {
                        //    const contactTag:string = SM.GetTransformTag(raycast.collisionObject.entity);
                        //    if (this.ignoreTriggerTags != null && this.ignoreTriggerTags !== "" && this.ignoreTriggerTags.indexOf(contactTag) >= 0) {
                        //        contact = false;
                        //        distance = 0;
                        //    }
                        //}
                    }
                    if (contact /* === true*/) {
                        this.cameraDistance = BABYLON.Scalar.Clamp((distance * this.distanceFactor), this.minimumDistance, this.maxDistance);
                        // Lerp Past Camera Collisions
                        if (this.cameraNode.position.x !== this.scaledCamDirection.x || this.cameraNode.position.y !== this.scaledCamDirection.y || this.cameraNode.position.z !== this.scaledCamDirection.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.scaledCamDirection, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                    else {
                        if (this.mouseWheel === true) {
                            if (UNITY.InputController.IsWheelScrolling()) {
                                const wheel = UNITY.InputController.GetUserInput(UNITY.UserInputAxis.Wheel);
                                if (wheel < 0) { // ZOOM OUT
                                    const zoomOutSpeed = (this.scrollSpeed * this.deltaTime);
                                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.maxDistance, zoomOutSpeed);
                                }
                                else if (wheel > 0) { // ZOOM IN
                                    const zoomInSpeed = (this.scrollSpeed * this.deltaTime);
                                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.minimumDistance, zoomInSpeed);
                                }
                            }
                        }
                        // Lerp To Camera Boom Position
                        if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                }
                else {
                    // Lerp To Camera Boom Position
                    if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                        BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                    }
                }
            }
            this.updateSmoothBoomArmLength();
        }
        getBoomArmMaxDistance() { return this.maxDistance; }
        setBoomArmMaxDistance(distance) { this.maxDistance = Math.abs(distance); }
        setSmoothBoomArmLength(length, speed, updateMaxDistance = true) {
            const absoluteLength = Math.abs(length);
            this.smoothBoomArmLength = -absoluteLength;
            this.smoothBoomArmSpeed = speed;
            if (updateMaxDistance === true) {
                const absoluteDistance = Math.abs(this.maxDistance);
                if (absoluteLength > absoluteDistance) {
                    this.setBoomArmMaxDistance(absoluteLength);
                }
            }
        }
        updateSmoothBoomArmLength() {
            if (this.smoothBoomArmLength != null && this.smoothBoomArmSpeed != null) {
                if (this.boomPosition.z !== this.smoothBoomArmLength) {
                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, this.smoothBoomArmLength, (this.smoothBoomArmSpeed * this.getDeltaSeconds()));
                }
                else {
                    this.smoothBoomArmLength = null;
                    this.smoothBoomArmSpeed = null;
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Ammo Physics Raycasting
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /*
        private castPhysicsGroundCheckRay():void {
            this.groundHit = false;
            this.groundNode = null;
            this.groundPoint.set(0,0,0);
            this.groundNormal.set(0,0,0);
            this.groundAngle = 0;
            this.groundDistance = 0;
            if (this.rayLength <= 0) this.rayLength = 0.1;
            const raycastLength:number = (this.rayLength / this.transform.scaling.y) + 0.1;
            // ..
            // Grounding Raycast Positions
            // ..
            const playerTransformDownDirection = UTIL.TransformDirection(this.transform, this.downDirection);
            this.offsetGroundRaycastPosition.set(0, this.rayOrigin, 0);
            UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.startGroundRaycastPosition, this.offsetGroundRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.endGroundRaycastPosition, this.downDirection.scale(raycastLength));
            this.endGroundRaycastPosition.y += this.rayOrigin;
            // ..
            // Cast Collision Shape Ray
            // ..
            if (this.radiusScale <= 0) this.radiusScale = 1.0;
            if (this.sphereCollisionShape == null) this.sphereCollisionShape = UNITY.SceneManager.CreatePhysicsSphereShape(this.avatarRadius * this.radiusScale);
            const raycast:UNITY.RaycastHitResult = UNITY.SceneManager.PhysicsShapecast(this.scene, this.sphereCollisionShape, this.startGroundRaycastPosition, playerTransformDownDirection, raycastLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            // DEPRECIATED: const raycast:UNITY.RaycastHitResult = UNITY.SceneManager.PhysicsRaycast(this.scene, this.startGroundRaycastPosition, playerTransformDownDirection, raycastLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.groundHit = true;
                this.groundNode = raycast.collisionObject.entity;
                if (raycast.hitPoint != null) this.groundPoint.copyFrom(raycast.hitPoint);
                if (raycast.hitNormal != null) this.groundNormal.copyFrom(raycast.hitNormal);
                this.groundAngle = (this.groundHit === true) ? Math.abs(UNITY.Utilities.GetAngle(this.groundNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                if (this.groundAngle >= 88) this.groundAngle = 0; // Note: Zero Max 88 Degree Ground Angle
                this.groundDistance = (raycast.hitDistance - this.rayOrigin);
            }
            // Ground Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.groundSensorLine == null) this.groundSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".GroundSensorLine", this.scene);
                if (raycast != null && this.groundHit === true) {
                    this.groundSensorLine.drawLine([this.startGroundRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                } else {
                  this.groundSensorLine.drawLine([this.startGroundRaycastPosition, this.endGroundRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        */
        castPhysicsClimbingVolumeRay() {
            let raycast = null;
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactPoint.set(0, 0, 0);
            this.climbContactNormal.set(0, 0, 0);
            this.climbContactAngle = 0;
            this.climbContactDistance = 0;
            // ..
            // Climbing Raycast Positions
            // ..
            const playerTransformForwardDirection = UTIL.TransformDirection(this.transform, this.forwardDirection);
            this.offsetClimbRaycastPosition.set(0, this.rayClimbOffset, 0);
            UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.startClimbRaycastPosition, this.offsetClimbRaycastPosition);
            UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.endClimbRaycastPosition, this.forwardDirection.scale(this.rayClimbLength));
            this.endClimbRaycastPosition.y += this.rayClimbOffset;
            // ..
            // raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startClimbRaycastPosition, playerTransformForwardDirection, this.rayClimbLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.climbContact = true;
                    this.climbContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.climbContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.climbContactNormal.copyFrom(raycast.hitNormal);
                    this.climbContactAngle = (this.climbContactNormal != null) ? Math.abs(UNITY.Utilities.GetAngle(this.climbContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.climbContactDistance = raycast.hitDistance;
                }
            }
            // Climbing Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.climbSensorLine == null)
                    this.climbSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".ClimbingSensorLine", this.scene);
                if (raycast != null && this.climbContact === true) {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, this.endClimbRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        castPhysicsHeightCheckVolumeRay() {
            let raycast = null;
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactPoint.set(0, 0, 0);
            this.heightContactNormal.set(0, 0, 0);
            this.heightContactAngle = 0;
            this.heightContactDistance = 0;
            // ..
            // Height Check Raycast Positions
            // ..
            const playerTransformHeightDirection = UTIL.TransformDirection(this.transform, this.downDirection);
            if (this.climbContact === true) {
                this.endHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.addInPlace(BABYLON.Vector3.UpReadOnly.scale(this.rayHeightLength));
                // raycast = UNITY.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startHeightRaycastPosition, playerTransformHeightDirection, this.rayHeightLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            }
            else {
                this.offsetHeightRaycastPosition.set(0, this.rayHeightOffset, this.rayClimbLength);
                UNITY.Utilities.GetAbsolutePositionToRef(this.transform, this.startHeightRaycastPosition, this.offsetHeightRaycastPosition);
                this.endHeightRaycastPosition.copyFrom(this.startHeightRaycastPosition);
                this.endHeightRaycastPosition.addInPlace(this.downDirection.scale(this.rayHeightLength));
            }
            // ..
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = UNITY.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.heightContact = true;
                    this.heightContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.heightContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.heightContactNormal.copyFrom(raycast.hitNormal);
                    this.heightContactAngle = (this.heightContactNormal != null) ? Math.abs(UNITY.Utilities.GetAngle(this.heightContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.heightContactDistance = raycast.hitDistance;
                }
            }
            // Height Check Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.heightSensorLine == null)
                    this.heightSensorLine = new UNITY.LinesMeshRenderer(this.transform.name + ".HeightCheckSensorLine", this.scene);
                if (raycast != null && this.heightContact === true) {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, this.endHeightRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Private Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getCheckedVerticalVelocity() {
            const currentVelocity = (this.characterController != null) ? this.characterController.getVerticalVelocity() : 0;
            return (Math.abs(currentVelocity) >= PROJECT.ThirdPersonPlayerController.MIN_VERTICAL_VELOCITY) ? currentVelocity : 0;
        }
        destroyPlayerController() {
            this.cameraPivot = null;
            this.cameraNode = null;
            this.animationState = null;
            this.characterController = null;
            this.onPreUpdateObservable.clear();
            this.onPreUpdateObservable = null;
            this.onBeforeMoveObservable.clear();
            this.onBeforeMoveObservable = null;
            this.onPostUpdateObservable.clear();
            this.onPostUpdateObservable = null;
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded",
                };
            }
        }
    }
    ThirdPersonPlayerController.MIN_VERTICAL_VELOCITY = 0.01;
    ThirdPersonPlayerController.MIN_GROUND_DISTANCE = 0.15;
    ThirdPersonPlayerController.MIN_MOVE_EPSILON = 0.001;
    ThirdPersonPlayerController.MIN_TIMER_OFFSET = 0;
    ThirdPersonPlayerController.MIN_SLOPE_LIMIT = 0;
    ThirdPersonPlayerController.PLAYER_HEIGHT = "playerHeight";
    PROJECT.ThirdPersonPlayerController = ThirdPersonPlayerController;
    /**
    * Babylon Enum Definition
    * @interface ThirdPersonControl
    */
    let ThirdPersonControl;
    (function (ThirdPersonControl) {
        ThirdPersonControl[ThirdPersonControl["ThirdPersonTurning"] = 0] = "ThirdPersonTurning";
        ThirdPersonControl[ThirdPersonControl["ThirdPersonForward"] = 1] = "ThirdPersonForward";
    })(ThirdPersonControl = PROJECT.ThirdPersonControl || (PROJECT.ThirdPersonControl = {}));
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class FxParticleSystem
    */
    class FxParticleSystem extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.m_particleEmitter = null;
            this.m_particleSystem = null;
        }
        getParticleEmitter() { return this.m_particleEmitter; }
        getParticleSystem() { return this.m_particleSystem; }
        awake() {
            const rootUrl = UNITY.SceneManager.GetRootUrl(this.scene);
            const classType = this.getProperty("classType", 0);
            const particleText = this.getProperty("base64ParticleSystem");
            const playOnAwake = this.getProperty("playOnAwake", false);
            const particleTexture = this.getProperty("particleTexture");
            this.m_particleEmitter = this.getAbstractMesh();
            if (this.m_particleEmitter == null) {
                this.m_particleEmitter = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".Emitter", { size: 0.25 }, this.scene);
                this.m_particleEmitter.parent = this.transform;
                this.m_particleEmitter.position.set(0, 0, 0);
                this.m_particleEmitter.isVisible = false;
                this.m_particleEmitter.isPickable = false;
                this.m_particleEmitter.material = UNITY.Utilities.GetColliderMaterial(this.scene);
            }
            if (particleText != null && particleText !== "") {
                const particleJson = window.atob(particleText);
                if (particleJson != null && particleJson !== "") {
                    const particleParsed = JSON.parse(particleJson);
                    if (particleParsed != null) {
                        if (particleParsed.texture != null && particleTexture != null) {
                            particleParsed.texture.name = particleTexture.filename; // Note: Particle System Parser Use Name Not Url
                            particleParsed.texture.url = particleTexture.filename; // Note: Particle System Parser Use Name Not Url
                        }
                        if (classType === 1) { // GPU Particle System
                            this.m_particleSystem = BABYLON.GPUParticleSystem.Parse(particleParsed, this.scene, rootUrl);
                        }
                        else { // CPU Particle System
                            this.m_particleSystem = BABYLON.ParticleSystem.Parse(particleParsed, this.scene, rootUrl);
                        }
                        if (this.m_particleSystem != null) {
                            if (this.m_particleEmitter != null)
                                this.m_particleSystem.emitter = this.m_particleEmitter;
                            if (playOnAwake === false)
                                this.m_particleSystem.stop();
                        }
                    }
                }
            }
        }
        destroy() {
            this.m_particleEmitter = null;
            if (this.m_particleSystem != null) {
                this.m_particleSystem.dispose();
                this.m_particleSystem = null;
            }
        }
    }
    PROJECT.FxParticleSystem = FxParticleSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon water material system pro class (Babylon Water Material)
     * @class SkyMaterialSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    class SkyMaterialSystem extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.skyfog = false;
            this.skysize = 1000;
            this.probesize = 128;
            this.reflections = false;
            this.reflectlevel = 1;
            this.skytintcolor = new BABYLON.Color3(1, 1, 1);
            this.m_skyboxMesh = null;
            this.m_skyMaterial = null;
            this.m_reflectProbe = null;
        }
        getSkyboxMesh() { return this.m_skyboxMesh; }
        getSkyMaterial() { return this.m_skyMaterial; }
        getReflectionProbe() { return this.m_reflectProbe; }
        awake() { this.awakeSkyboxMaterial(); }
        start() { }
        update() { }
        late() { }
        after() { }
        destroy() { this.destroySkyboxMaterial(); }
        awakeSkyboxMaterial() {
            this.skyfog = this.getProperty("applyMeshFog", this.skyfog);
            this.skysize = this.getProperty("boxSize", this.skysize);
            this.probesize = this.getProperty("probeSize", this.probesize);
            this.reflections = this.getProperty("reflections", this.reflections);
            this.reflectlevel = this.getProperty("reflectLevel", this.reflectlevel);
            // ..
            const tintColor = this.getProperty("tintColor");
            if (tintColor != null)
                this.skytintcolor = UNITY.Utilities.ParseColor3(tintColor);
            // ..
            this.m_skyboxMesh = BABYLON.MeshBuilder.CreateBox("Ambient Skybox", { size: this.skysize }, this.scene);
            this.m_skyboxMesh.position.set(0, 0, 0);
            this.m_skyboxMesh.infiniteDistance = true;
            this.m_skyboxMesh.applyFog = this.skyfog;
            if (this.scene.useRightHandedSystem === true)
                this.m_skyboxMesh.scaling.x *= -1;
            // Setup Sky Material Properties
            this.m_skyMaterial = new BABYLON.SkyMaterial(this.transform.name + ".SkyMaterial", this.scene);
            this.m_skyMaterial.backFaceCulling = false;
            this.setSkyboxTintColor(this.skytintcolor);
            /**
             * Defines the overall luminance of sky in interval [0, 1].
             */
            this.m_skyMaterial.luminance = this.getProperty("luminance", this.m_skyMaterial.luminance);
            /**
            * Defines the amount (scattering) of haze as opposed to molecules in atmosphere.
            */
            this.m_skyMaterial.turbidity = this.getProperty("turbidity", this.m_skyMaterial.turbidity);
            /**
             * Defines the sky appearance (light intensity).
             */
            this.m_skyMaterial.rayleigh = this.getProperty("rayleigh", this.m_skyMaterial.rayleigh);
            /**
             * Defines the mieCoefficient in interval [0, 0.1] which affects the property .mieDirectionalG.
             */
            this.m_skyMaterial.mieCoefficient = this.getProperty("mieCoefficient", this.m_skyMaterial.mieCoefficient);
            /**
             * Defines the amount of haze particles following the Mie scattering theory.
             */
            this.m_skyMaterial.mieDirectionalG = this.getProperty("mieDirectionalG", this.m_skyMaterial.mieDirectionalG);
            /**
             * Defines the distance of the sun according to the active scene camera.
             */
            this.m_skyMaterial.distance = this.getProperty("distance", this.m_skyMaterial.distance);
            /**
             * Defines the sun inclination, in interval [-0.5, 0.5]. When the inclination is not 0, the sun is said
             * "inclined".
             */
            this.m_skyMaterial.inclination = this.getProperty("inclination", this.m_skyMaterial.inclination);
            /**
             * Defines the solar azimuth in interval [0, 1]. The azimuth is the angle in the horizontal plan between
             * an object direction and a reference direction.
             */
            this.m_skyMaterial.azimuth = this.getProperty("azimuth", this.m_skyMaterial.azimuth);
            /**
             * Defines an offset vector used to get a horizon offset.
             * @example skyMaterial.cameraOffset.y = camera.globalPosition.y // Set horizon relative to 0 on the Y axis
             */
            const camOffsetData = this.getProperty("cameraOffset");
            if (camOffsetData != null)
                this.m_skyMaterial.cameraOffset = UNITY.Utilities.ParseVector3(camOffsetData);
            /**
             * Defines if the sun position should be computed (inclination and azimuth) according to the scene
             * sun position.
             */
            this.m_skyMaterial.useSunPosition = this.getProperty("useSunPosition", this.m_skyMaterial.useSunPosition);
            this.m_skyMaterial.sunPosition = new BABYLON.Vector3(0, 50, 0);
            if (this.scene.metadata != null && this.scene.metadata.unity != null && this.scene.metadata.unity) {
                if (this.scene.metadata.unity.sunposition != null) {
                    this.m_skyMaterial.sunPosition = UNITY.Utilities.ParseVector3(this.scene.metadata.unity.sunposition);
                }
            }
            // Assign Sky Material To Skybox Mesh
            this.m_skyboxMesh.material = this.m_skyMaterial;
            // Setup Environment Reflection Probe Texture
            if (this.reflections === true) {
                this.m_reflectProbe = new BABYLON.ReflectionProbe("Skybox-ReflectionProbe", this.probesize, this.scene);
                this.m_reflectProbe.renderList.push(this.m_skyboxMesh);
                this.scene.customRenderTargets.push(this.m_reflectProbe.cubeTexture);
                this.scene.environmentTexture = this.m_reflectProbe.cubeTexture;
                this.scene.environmentIntensity = this.reflectlevel;
            }
        }
        destroySkyboxMaterial() {
            if (this.m_skyboxMesh != null) {
                this.m_skyboxMesh.dispose();
                this.m_skyboxMesh = null;
            }
            if (this.m_reflectProbe != null) {
                this.m_reflectProbe.dispose();
                this.m_reflectProbe = null;
            }
            if (this.m_skyMaterial != null) {
                this.m_skyMaterial.dispose();
                this.m_skyMaterial = null;
            }
        }
        /** Set Skybox Mesh tint color. (Box Mesh Vertex Colors) */
        setSkyboxTintColor(color) {
            const colors = [];
            const numVertices = this.m_skyboxMesh.getTotalVertices();
            for (let i = 0; i < numVertices; ++i) {
                colors.push(color.r, color.g, color.b, 1.0);
            }
            this.m_skyboxMesh.setVerticesData("color", colors);
            this.m_skyboxMesh.useVertexColors = true;
        }
    }
    PROJECT.SkyMaterialSystem = SkyMaterialSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon water material system pro class (Babylon Water Material)
     * @class WaterMaterialSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    class WaterMaterialSystem extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.waterTag = "Water";
            this.targetSize = new BABYLON.Vector2(128, 128);
            this.renderSize = new BABYLON.Vector2(512, 512);
            this.depthFactor = 1.0;
            this.reflectSkybox = true;
            this.subDivisions = 32;
            this.heightOffset = 1.0;
            this.windDirection = new BABYLON.Vector2(0, 1);
            this.windForce = 6;
            this.waveSpeed = 1.0;
            this.waveLength = 0.4;
            this.waveHeight = 0.4;
            this.bumpHeight = 0.4;
            this.waterColor = new BABYLON.Color3(0.1, 0.1, 0.6);
            this.colorBlendFactor = 0.2;
            this.waterColor2 = new BABYLON.Color3(0.1, 0.1, 0.6);
            this.colorBlendFactor2 = 0.2;
            this.disableClipPlane = false;
            this.m_waterGeometry = null;
            this.m_waterMaterial = null;
        }
        getWaterGeometry() { return this.m_waterGeometry; }
        getWaterMaterial() { return this.m_waterMaterial; }
        awake() {
            this.waterTag = this.getProperty("waterTag", this.waterTag);
            this.depthFactor = this.getProperty("depthFactor", this.depthFactor);
            this.subDivisions = this.getProperty("subDivisions", this.subDivisions);
            this.heightOffset = this.getProperty("heightOffset", this.heightOffset);
            this.reflectSkybox = this.getProperty("reflectSkybox", this.reflectSkybox);
            this.windForce = this.getProperty("windForce", this.windForce);
            this.waveSpeed = this.getProperty("waveSpeed", this.waveSpeed);
            this.waveLength = this.getProperty("waveLength", this.waveLength);
            this.waveHeight = this.getProperty("waveHeight", this.waveHeight);
            this.bumpHeight = this.getProperty("bumpHeight", this.bumpHeight);
            this.bumpSuperimpose = this.getProperty("bumpSuperimpose", this.bumpSuperimpose);
            this.bumpAffectsReflection = this.getProperty("bumpAffectsReflection", this.bumpAffectsReflection);
            this.colorBlendFactor = this.getProperty("colorBlendFactor", this.colorBlendFactor);
            this.colorBlendFactor2 = this.getProperty("colorBlendFactor2", this.colorBlendFactor2);
            this.disableClipPlane = this.getProperty("disableClipPlane", this.disableClipPlane);
            this.fresnelSeparate = this.getProperty("fresnelSeparate", this.fresnelSeparate);
            // ..
            const wcolor1 = this.getProperty("waterColor");
            this.waterColor = UNITY.Utilities.ParseColor3(wcolor1);
            // ..
            const wcolor2 = this.getProperty("waterColor2");
            this.waterColor2 = UNITY.Utilities.ParseColor3(wcolor2);
            // ..
            const wdirection = this.getProperty("windDirection");
            this.windDirection = UNITY.Utilities.ParseVector2(wdirection);
            // ..
            const itargetsize = this.getProperty("targetSize");
            if (itargetsize != null)
                this.targetSize = UNITY.Utilities.ParseVector2(itargetsize);
            // ..        
            const irendersize = this.getProperty("renderSize");
            if (irendersize != null)
                this.renderSize = UNITY.Utilities.ParseVector2(irendersize);
            /* Awake component function */
            let bumpTexture = null;
            const bumpTextureData = this.getProperty("bumpTexture");
            if (bumpTextureData != null)
                bumpTexture = UNITY.Utilities.ParseTexture(bumpTextureData, this.scene);
            if (bumpTexture != null) {
                this.m_waterMaterial = new BABYLON.WaterMaterial(this.transform.name + ".Water", this.scene, this.renderSize);
                this.m_waterMaterial.bumpTexture = bumpTexture;
                this.m_waterMaterial.windDirection = this.windDirection;
                this.m_waterMaterial.windForce = this.windForce;
                this.m_waterMaterial.waveSpeed = this.waveSpeed;
                this.m_waterMaterial.waveLength = this.waveLength;
                this.m_waterMaterial.waveHeight = this.waveHeight;
                this.m_waterMaterial.bumpHeight = this.bumpHeight;
                this.m_waterMaterial.bumpSuperimpose = this.bumpSuperimpose;
                this.m_waterMaterial.bumpAffectsReflection = this.bumpAffectsReflection;
                this.m_waterMaterial.waterColor = this.waterColor;
                this.m_waterMaterial.colorBlendFactor = this.colorBlendFactor;
                this.m_waterMaterial.waterColor2 = this.waterColor2;
                this.m_waterMaterial.colorBlendFactor2 = this.colorBlendFactor2;
                this.m_waterMaterial.disableClipPlane = this.disableClipPlane;
                this.m_waterMaterial.fresnelSeparate = this.fresnelSeparate;
                // ..
                // Water Material Tags
                // ..
                if (this.reflectSkybox === true) {
                    const skyboxMesh = UNITY.SceneManager.GetDefaultSkybox(this.scene);
                    if (skyboxMesh != null)
                        this.m_waterMaterial.addToRenderList(skyboxMesh);
                }
                if (this.waterTag != null && this.waterTag !== "") {
                    const waterMeshes = this.scene.getMeshesByTags(this.waterTag);
                    if (waterMeshes != null && waterMeshes.length > 0) {
                        waterMeshes.forEach((mesh) => {
                            this.m_waterMaterial.addToRenderList(mesh);
                        });
                    }
                }
                // ..
                // Water Material Mesh
                // ..
                this.m_waterGeometry = BABYLON.MeshBuilder.CreateGround(this.transform.name + ".WaterMesh", { width: this.targetSize.x, height: this.targetSize.y, subdivisions: this.subDivisions, updatable: false }, this.scene);
                this.m_waterGeometry.parent = this.transform;
                this.m_waterGeometry.position.set(0, this.heightOffset, 0);
                if (this.depthFactor > 0)
                    this.m_waterGeometry.scaling.y *= this.depthFactor;
                this.m_waterGeometry.material = this.m_waterMaterial;
            }
            else {
                UNITY.SceneManager.LogWarning("No supported water bump texture for: " + this.transform.name);
            }
        }
        start() { }
        update() { }
        late() { }
        after() { }
        destroy() { }
    }
    PROJECT.WaterMaterialSystem = WaterMaterialSystem;
})(PROJECT || (PROJECT = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon windows platform pro class
     * @class WindowsPlatform - All rights reserved (c) 2020 Mackey Kinard
     */
    class WindowsPlatform {
        /** Is xbox live user signed in if platform services enabled. (WinRT) */
        static IsXboxLiveUserSignedIn(systemUser = null, player = UNITY.PlayerNumber.One) {
            if (UNITY.WindowManager.IsWindows()) {
                let user = (systemUser != null) ? BABYLON.WindowsPlatform.GetXboxLiveSystemUser(systemUser, player) : BABYLON.WindowsPlatform.GetXboxLiveUser(player);
                return (user != null && user.isSignedIn == true);
            }
            else {
                return false;
            }
        }
        /** Validated sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserSignIn(player = UNITY.PlayerNumber.One, oncomplete, onerror, onprogress) {
            if (UNITY.WindowManager.IsWindows()) {
                BABYLON.WindowsPlatform.XboxLiveUserSilentSignIn(player, (first) => {
                    if (first.status === Microsoft.Xbox.Services.System.SignInStatus.userInteractionRequired) {
                        BABYLON.WindowsPlatform.XboxLiveUserDialogSignIn(player, (second) => {
                            if (oncomplete)
                                oncomplete(second);
                        }, onerror, onprogress);
                    }
                    else {
                        if (oncomplete)
                            oncomplete(first);
                    }
                }, onerror, onprogress);
            }
        }
        /** Silent sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserSilentSignIn(player = UNITY.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (UNITY.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUser(player).signInSilentlyAsync(null).then(oncomplete, onerror, onprogress) : null;
        }
        /** Dialog sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserDialogSignIn(player = UNITY.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (UNITY.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUser(player).signInAsync(null).then(oncomplete, onerror, onprogress) : null;
        }
        /** Loads a xbox live user profile if platform services available. (WinRT) */
        static LoadXboxLiveUserProfile(player = UNITY.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (UNITY.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUserContext(player).profileService.getUserProfileAsync(BABYLON.WindowsPlatform.GetXboxLiveUser(player).xboxUserId).then(oncomplete, onerror, onprogress) : null;
        }
        // ************************************** //
        // * Babylon Xbox Live Player Functions * //
        // ************************************** //
        /** Get xbox live user if platform services available. (WinRT) */
        static GetXboxLiveUser(player = UNITY.PlayerNumber.One) {
            let user = null;
            if (UNITY.WindowManager.IsWindows()) {
                switch (player) {
                    case UNITY.PlayerNumber.One:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserOne();
                        break;
                    case UNITY.PlayerNumber.Two:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserTwo();
                        break;
                    case UNITY.PlayerNumber.Three:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserThree();
                        break;
                    case UNITY.PlayerNumber.Four:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserFour();
                        break;
                }
            }
            return user;
        }
        /** Get xbox live user if platform services available. (WinRT) */
        static GetXboxLiveSystemUser(systemUser, player = UNITY.PlayerNumber.One) {
            let user = null;
            if (UNITY.WindowManager.IsWindows()) {
                switch (player) {
                    case UNITY.PlayerNumber.One:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserOne(systemUser);
                        break;
                    case UNITY.PlayerNumber.Two:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserTwo(systemUser);
                        break;
                    case UNITY.PlayerNumber.Three:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserThree(systemUser);
                        break;
                    case UNITY.PlayerNumber.Four:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserFour(systemUser);
                        break;
                }
            }
            return user;
        }
        /** Get xbox live user context if platform services available. (WinRT) */
        static GetXboxLiveUserContext(player = UNITY.PlayerNumber.One) {
            let context = null;
            if (UNITY.WindowManager.IsWindows()) {
                switch (player) {
                    case UNITY.PlayerNumber.One:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextOne();
                        break;
                    case UNITY.PlayerNumber.Two:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextTwo();
                        break;
                    case UNITY.PlayerNumber.Three:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextThree();
                        break;
                    case UNITY.PlayerNumber.Four:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextFour();
                        break;
                }
            }
            return context;
        }
        /** Resets xbox live user context if platform services available. (WinRT) */
        static ResetXboxLiveUserContext(player = UNITY.PlayerNumber.One) {
            if (UNITY.WindowManager.IsWindows()) {
                switch (player) {
                    case UNITY.PlayerNumber.One:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextOne();
                        break;
                    case UNITY.PlayerNumber.Two:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextTwo();
                        break;
                    case UNITY.PlayerNumber.Three:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextThree();
                        break;
                    case UNITY.PlayerNumber.Four:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextFour();
                        break;
                }
            }
        }
        // *************************************** //
        // * Babylon Xbox Live Context Functions * //
        // *************************************** //
        /** Get xbox live context property if platform services available. (WinRT) */
        static GetXboxLiveContextProperty(name) {
            return (UNITY.WindowManager.IsWindows()) ? window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextProperty(name) : null;
        }
        /** Get xbox live context property if platform services available. (WinRT) */
        static SetXboxLiveContextProperty(name, property) {
            if (UNITY.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.setXboxLiveContextProperty(name, property);
            }
        }
        /** Resets xbox live property context bag if platform services available. (WinRT) */
        static ResetXboxLivePropertyContexts() {
            if (UNITY.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.resetXboxLivePropertyContexts();
            }
        }
        // **************************************** //
        // * Babylon Xbox Live Sign Out Functions * //
        // **************************************** //
        /** Sets the Xbox User Sign Out Complete Handler (WinRT) */
        static SetXboxLiveSignOutHandler(handler = null) {
            if (UNITY.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.onusersignout = handler;
            }
        }
    }
    BABYLON.WindowsPlatform = WindowsPlatform;
})(BABYLON || (BABYLON = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class PaintShop
    */
    class PaintShop extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.carMaterial = 0;
            this.raceCarBody = null;
            this.raceCarDriver = null;
        }
        awake() {
            if (this.carMaterial > 0)
                this.setCarMaterial(this.carMaterial);
        }
        destroy() {
            this.raceCarBody = null;
        }
        setCarMaterial(oneBasedIndex) {
            let carMaterialName = null;
            const zeroBasedIndex = BABYLON.Scalar.Clamp((oneBasedIndex - 1), 0, 19);
            switch (zeroBasedIndex) {
                case 0:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_01;
                    break;
                case 1:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_02;
                    break;
                case 2:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_03;
                    break;
                case 3:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_04;
                    break;
                case 4:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_05;
                    break;
                case 5:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_06;
                    break;
                case 6:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_07;
                    break;
                case 7:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_08;
                    break;
                case 8:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_09;
                    break;
                case 9:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_10;
                    break;
                case 10:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_11;
                    break;
                case 11:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_12;
                    break;
                case 12:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_13;
                    break;
                case 13:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_14;
                    break;
                case 14:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_15;
                    break;
                case 15:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_16;
                    break;
                case 16:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_17;
                    break;
                case 17:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_18;
                    break;
                case 18:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_19;
                    break;
                case 19:
                    carMaterialName = PROJECT.PaintShop.CAR_MATERIAL_20;
                    break;
            }
            if (this.raceCarBody != null && carMaterialName != null && carMaterialName !== "") {
                const material = this.scene.getMaterialByName(carMaterialName, true);
                if (material != null && material instanceof BABYLON.PBRMaterial) {
                    this.raceCarBody.material = material;
                }
                else {
                    BABYLON.Tools.Warn("Failed to locate race car material: " + carMaterialName);
                }
            }
        }
    }
    PaintShop.CAR_MATERIAL_01 = "RaceCar V02 C01";
    PaintShop.CAR_MATERIAL_02 = "RaceCar V02 C02";
    PaintShop.CAR_MATERIAL_03 = "RaceCar V02 C03";
    PaintShop.CAR_MATERIAL_04 = "RaceCar V02 C04";
    PaintShop.CAR_MATERIAL_05 = "RaceCar V02 C05";
    PaintShop.CAR_MATERIAL_06 = "RaceCar V02 C06";
    PaintShop.CAR_MATERIAL_07 = "RaceCar V02 C07";
    PaintShop.CAR_MATERIAL_08 = "RaceCar V02 C08";
    PaintShop.CAR_MATERIAL_09 = "RaceCar V02 C09";
    PaintShop.CAR_MATERIAL_10 = "RaceCar V02 C10";
    PaintShop.CAR_MATERIAL_11 = "RaceCar V02 C11";
    PaintShop.CAR_MATERIAL_12 = "RaceCar V02 C12";
    PaintShop.CAR_MATERIAL_13 = "RaceCar V02 C13";
    PaintShop.CAR_MATERIAL_14 = "RaceCar V02 C14";
    PaintShop.CAR_MATERIAL_15 = "RaceCar V02 C15";
    PaintShop.CAR_MATERIAL_16 = "RaceCar V02 C16";
    PaintShop.CAR_MATERIAL_17 = "RaceCar V02 C17";
    PaintShop.CAR_MATERIAL_18 = "RaceCar V02 C18";
    PaintShop.CAR_MATERIAL_19 = "RaceCar V02 C19";
    PaintShop.CAR_MATERIAL_20 = "RaceCar V02 C20";
    PROJECT.PaintShop = PaintShop;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class RacingHud
    */
    class RacingHud extends UNITY.ScriptComponent {
        // Example: private helloWorld:string = "Hello World";
        awake() {
            /* Init component function */
        }
        start() {
            /* Start component function */
        }
        fixed() {
            /* Fixed update loop function */
        }
        update() {
            /* Update render loop function */
        }
        late() {
            /* Late update render loop function */
        }
        after() {
            /* After update render loop function */
        }
        ready() {
            /* Execute when ready function */
        }
        destroy() {
            /* Destroy component function */
        }
    }
    PROJECT.RacingHud = RacingHud;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component (Written By: Mackey Kinard)
    * @class Camera_BigScreens
    */
    class Camera_BigScreens extends UNITY.ScriptComponent {
        static get Instance() { return PROJECT.Camera_BigScreens._StaticInstance; }
        SwitchActiveView(updatePlayer = 1, updateMount = 99) { if (this.renderTexture != null)
            this.switchCameraLocation(updatePlayer, updateMount); }
        ActivateMainCamera() { if (this.main != null)
            this.scene.activeCamera = this.main; }
        ActivatePlayerCamera() { if (this.camera != null)
            this.scene.activeCamera = this.camera; }
        GetPlayerFocusVehicle() { return this.focusPlayerVehicle; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.resolution = 1;
            this.interval = 30;
            this.cycle = 1;
            this.timer = 0;
            this.points = null;
            this.screens = null;
            this.player = null;
            this.camera = null;
            this.main = null;
            this.rearCamera = null;
            this.frontCamera = null;
            this.currentPoint = -1;
            this.currentMount = -1;
            this.currentPlayer = -1;
            this.keepAspectRatio = true;
            this.setFixedLocations = false;
            this.renderTexture = null;
            this.screenMaterial = null;
            this.focusPlayerVehicle = null;
            this.syncCameraTransform = null;
            this.lookCameraTransform = null;
            this.positionVectorBuffer = new BABYLON.Vector3(0, 0, 0);
            this.positionOffsetBuffer = new BABYLON.Vector3(0, 0, 0);
            this.relativePositionBuffer = new BABYLON.Vector3(0, 0, 0);
            this.relativeRotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
            this.AutoSwitchCamera = true;
            this.canvasWidth = 0;
            this.canvasHeight = 0;
            PROJECT.Camera_BigScreens._StaticInstance = this;
        }
        start() {
            this.initCameraSetup();
        }
        update() {
            this.updateCamerTimer();
        }
        late() {
            this.updateCameraPosition();
        }
        destroy() {
            this.camera = null;
            this.player = null;
            this.points = null;
            this.screens = null;
            if (this.renderTexture != null) {
                this.renderTexture.dispose();
                this.renderTexture = null;
            }
            if (this.screenMaterial != null) {
                this.screenMaterial.dispose();
                this.screenMaterial = null;
            }
        }
        initCameraSetup() {
            this.main = this.scene.activeCamera;
            this.camera = this.getCameraRig();
            this.points = this.getTransformNodesWithName(this.scene, "Camera_Point");
            this.screens = this.getTransformNodesWithName(this.scene, "Screen");
            this.initScreenTextures();
            this.switchCameraLocation();
        }
        initScreenTextures() {
            const canvas = this.scene.getEngine().getRenderingCanvas();
            this.canvasWidth = (canvas.width * 0.5);
            this.canvasHeight = (canvas.height * 0.5);
            if (this.renderTexture == null)
                this.renderTexture = new BABYLON.RenderTargetTexture("BigScreenTexture", { width: this.canvasWidth, height: this.canvasHeight }, this.scene, { doNotChangeAspectRatio: this.keepAspectRatio });
            this.renderTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
            this.renderTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
            this.renderTexture.renderList = this.scene.meshes;
            this.renderTexture.activeCamera = this.camera;
            this.scene.customRenderTargets.push(this.renderTexture);
            //this.renderTexture.vScale = (this.canvasWidth / this.canvasHeight) * PROJECT.Camera_BigScreens.RTT_RATIO;
            //this.renderTexture.vOffset += (PROJECT.Camera_BigScreens.RTT_RATIO * 0.5);
            this.scene.getEngine().onResizeObservable.add(() => {
                this.canvasWidth = (canvas.width * 0.5);
                this.canvasHeight = (canvas.height * 0.5);
                this.renderTexture.resize({ width: this.canvasWidth, height: this.canvasHeight });
                //this.renderTexture.vScale = (this.canvasWidth / this.canvasHeight) * PROJECT.Camera_BigScreens.RTT_RATIO;
                //this.renderTexture.vOffset += (PROJECT.Camera_BigScreens.RTT_RATIO * 0.5);
            });
            // ..
            // Create Screen Material
            // ..
            if (this.screenMaterial == null)
                this.screenMaterial = new BABYLON.StandardMaterial("BigScreenMaterial", this.scene);
            this.screenMaterial.disableLighting = true;
            this.screenMaterial.emissiveTexture = this.renderTexture;
            // ..
            // Assign Screen Materials
            // ..
            if (this.screens != null && this.screens.length > 0) {
                this.screens.forEach((screen) => {
                    if (screen instanceof BABYLON.AbstractMesh) {
                        const instanced = (screen instanceof BABYLON.InstancedMesh);
                        if (instanced === false)
                            screen.material = this.screenMaterial;
                    }
                });
            }
        }
        updateCamerTimer() {
            if (this.renderTexture != null) {
                this.timer += this.getDeltaSeconds();
                if (this.timer >= this.interval) {
                    if (this.AutoSwitchCamera === true) {
                        this.switchCameraLocation();
                    }
                    else {
                        this.timer = 0;
                    }
                }
            }
        }
        updateCurrentPoint(updatePoint = 1) {
            if (updatePoint !== 0) {
                this.currentPoint = (this.cycle === 0 || updatePoint === 99) ? parseInt(UNITY.Utilities.GetRandomRange(0, (this.points.length - 1), this.currentPoint, 10000).toFixed(0)) : (this.currentPoint + updatePoint);
                if (this.currentPoint < 0)
                    this.currentPoint = (this.points.length - 1);
                else if (this.currentPoint > (this.points.length - 1))
                    this.currentPoint = 0;
            }
        }
        updateCurrentPlayer(updatePlayer = 1) {
            if (updatePlayer !== 0) {
                const registeredVehicles = PROJECT.RaceTrackManager.GetPlayerVehicles();
                if (registeredVehicles != null && registeredVehicles.length > 0) {
                    this.currentPlayer = (this.cycle === 0 || updatePlayer === 99) ? parseInt(UNITY.Utilities.GetRandomRange(0, (registeredVehicles.length - 1), this.currentPlayer, 10000).toFixed(0)) : (this.currentPlayer + updatePlayer);
                    if (this.currentPlayer < 0)
                        this.currentPlayer = (registeredVehicles.length - 1);
                    else if (this.currentPlayer > (registeredVehicles.length - 1))
                        this.currentPlayer = 0;
                }
            }
        }
        updateCurrentMount(updateMount = 99) {
            // DEPRECATED: this.currentMount = (this.cycle === 0 || updateMount === 99) ? parseInt(UNITY.Utilities.GetRandomRange(0, 2, this.currentMount, 10000).toFixed(0)) : (this.currentMount + updateMount);
            let nextCameraMount = parseInt(BABYLON.Scalar.RandomRange(0, 100).toFixed(0));
            if (nextCameraMount >= 70) {
                nextCameraMount = 2;
            }
            else if (nextCameraMount >= 35) {
                nextCameraMount = 1;
            }
            else if (nextCameraMount >= 0) {
                nextCameraMount = 0;
            }
            // ..
            if (nextCameraMount === this.currentMount) {
                nextCameraMount = parseInt(BABYLON.Scalar.RandomRange(0, 100).toFixed(0));
                if (nextCameraMount >= 70) {
                    nextCameraMount = 2;
                }
                else if (nextCameraMount >= 35) {
                    nextCameraMount = 1;
                }
                else if (nextCameraMount >= 0) {
                    nextCameraMount = 0;
                }
            }
            // ..
            if (nextCameraMount === this.currentMount) {
                nextCameraMount = parseInt(BABYLON.Scalar.RandomRange(0, 100).toFixed(0));
                if (nextCameraMount >= 70) {
                    nextCameraMount = 2;
                }
                else if (nextCameraMount >= 35) {
                    nextCameraMount = 1;
                }
                else if (nextCameraMount >= 0) {
                    nextCameraMount = 0;
                }
            }
            // ..
            if (nextCameraMount === this.currentMount) {
                nextCameraMount = (this.currentMount + 1);
            }
            // ..
            if (updateMount !== 0) {
                this.currentMount = (updateMount === 99) ? nextCameraMount : (this.currentMount + updateMount);
                if (this.currentMount < 0)
                    this.currentMount = 2;
                else if (this.currentMount > 2)
                    this.currentMount = 0;
            }
        }
        updateCameraPosition() {
            if (this.syncCameraTransform != null && this.currentMount > 0) {
                const deltaTime = this.getDeltaSeconds();
                // ..
                // Setup Camera Mount
                // ..
                let positionOffset = 20.0;
                let positionSpeed = 4.0;
                let rotationSpeed = 2.0;
                let lookAtVehicle = false;
                let smoothMovement = false;
                if (this.currentMount === 2) { // Front Facing View
                    if (this.frontCamera != null) {
                        positionOffset = this.frontCamera.positionOffset;
                        positionSpeed = this.frontCamera.positionSpeed;
                        rotationSpeed = this.frontCamera.rotationSpeed;
                        lookAtVehicle = this.frontCamera.lookAtVehicle;
                        smoothMovement = this.frontCamera.smoothSpeeds;
                    }
                }
                else if (this.currentMount === 1) { // Rear Facing View
                    if (this.rearCamera != null) {
                        positionOffset = this.rearCamera.positionOffset;
                        positionSpeed = this.rearCamera.positionSpeed;
                        rotationSpeed = this.rearCamera.rotationSpeed;
                        lookAtVehicle = this.rearCamera.lookAtVehicle;
                        smoothMovement = this.rearCamera.smoothSpeeds;
                    }
                }
                // ..
                // Update Camera Position
                // ..
                if (smoothMovement === true) {
                    // DEPRECATED: BABYLON.Vector3.LerpToRef(this.transform.position, this.syncCameraTransform.absolutePosition, (positionSpeed * deltaTime), this.transform.position);
                    let normalizedSpeed = 0;
                    let forwardSpeed = 0;
                    let scaledOffset = (this.currentMount === 2) ? (positionOffset + PROJECT.Camera_BigScreens.FRONT_CAMERA_PADDING) : (positionOffset + PROJECT.Camera_BigScreens.REAR_CAMERA_PADDING);
                    if (this.focusPlayerVehicle != null && this.focusPlayerVehicle.metadata != null && this.focusPlayerVehicle.metadata.car != null) {
                        if (this.focusPlayerVehicle.metadata.car.forwardSpeed != null) {
                            forwardSpeed = this.focusPlayerVehicle.metadata.car.forwardSpeed;
                        }
                        if (this.focusPlayerVehicle.metadata.car.normalizedSpeed != null) {
                            normalizedSpeed = this.focusPlayerVehicle.metadata.car.normalizedSpeed;
                        }
                    }
                    scaledOffset = BABYLON.Scalar.Lerp(0, scaledOffset, normalizedSpeed);
                    if (this.currentMount === 2) { // Front Facing View
                        scaledOffset = (forwardSpeed > 0) ? -scaledOffset : (scaledOffset * 0.5); // Note: Half Power On Reverse
                    }
                    else if (this.currentMount === 1) { // Rear Facing View
                        scaledOffset = (forwardSpeed > 0) ? scaledOffset : -(scaledOffset * 2.0); // Note: Double Power On Reverse
                    }
                    this.positionOffsetBuffer.set(0, 0, scaledOffset);
                    UNITY.Utilities.GetAbsolutePositionToRef(this.syncCameraTransform, this.positionVectorBuffer, this.positionOffsetBuffer);
                    BABYLON.Vector3.LerpToRef(this.transform.position, this.positionVectorBuffer, (positionSpeed * deltaTime), this.transform.position);
                }
                else {
                    this.transform.position.copyFrom(this.syncCameraTransform.absolutePosition);
                }
                // ..
                // Update Camera Rotation
                // ..
                if (lookAtVehicle === true && this.focusPlayerVehicle != null) {
                    const lookAtTransform = (this.lookCameraTransform != null) ? this.lookCameraTransform : this.focusPlayerVehicle;
                    lookAtTransform.absolutePosition.subtractToRef(this.transform.absolutePosition, this.relativePositionBuffer);
                    UNITY.Utilities.LookRotationToRef(this.relativePositionBuffer, this.relativeRotationBuffer);
                    if (smoothMovement === true) {
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.relativeRotationBuffer, (rotationSpeed * deltaTime), this.transform.rotationQuaternion);
                    }
                    else {
                        this.transform.rotationQuaternion.copyFrom(this.relativeRotationBuffer);
                    }
                }
                else {
                    if (smoothMovement === true) {
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.syncCameraTransform.absoluteRotationQuaternion, (rotationSpeed * deltaTime), this.transform.rotationQuaternion);
                    }
                    else {
                        this.transform.rotationQuaternion.copyFrom(this.syncCameraTransform.absoluteRotationQuaternion);
                    }
                }
            }
        }
        switchCameraLocation(updatePlayer = 1, updateMount = 99) {
            this.timer = 0; // Note: Must Reset Update Timer
            this.syncCameraTransform = null;
            this.lookCameraTransform = null;
            if (this.setFixedLocations === false) {
                const registeredVehicles = PROJECT.RaceTrackManager.GetPlayerVehicles();
                if (registeredVehicles != null && registeredVehicles.length > 0) {
                    this.updateCurrentPlayer(updatePlayer); // Note: Set Next Current Focus Player
                    this.updateCurrentMount(updateMount); // Note: Set Next Current Focus Mount
                    this.focusPlayerVehicle = registeredVehicles[this.currentPlayer];
                }
                if (this.focusPlayerVehicle == null)
                    this.focusPlayerVehicle = this.player;
                if (this.focusPlayerVehicle != null) {
                    this.setPlayerFocusCameraMount();
                }
                else {
                    this.setFixedCameraLocation(updatePlayer);
                }
            }
            else {
                this.setFixedCameraLocation(updatePlayer);
            }
        }
        setFixedCameraLocation(updatePoint = 1) {
            if (this.points != null && this.points.length > 0) {
                this.updateCurrentPoint(updatePoint); // Note: Set Next Fixed Track Camera Point
                const point = this.points[this.currentPoint];
                if (point != null) {
                    // DEPRECATED: if (this.transform.parent != null) this.transform.parent = null;
                    // DEPRECATED: this.transform.position.copyFrom(point.absolutePosition);
                    // DEPRECATED: this.transform.rotationQuaternion.copyFrom(point.absoluteRotationQuaternion);
                    // DEPRECATED: this.syncCameraTransform = point;
                    if (this.transform.parent != point)
                        this.transform.parent = point;
                    this.transform.position.set(0, 0, 0);
                    this.transform.rotationQuaternion.set(0, 0, 0, 1);
                    this.syncCameraTransform = null;
                    this.lookCameraTransform = null;
                }
            }
        }
        setCameraClosestToPlayer() {
            if (this.points != null && this.points.length > 0) {
                const closest = this.getCameraClosestToPlayer(this.focusPlayerVehicle);
                const distance = this.getDistanceToClosestCamera(this.focusPlayerVehicle, closest);
                const point = this.points[closest];
                if (point != null) {
                    // DEPRECATED: if (this.transform.parent != null) this.transform.parent = null;
                    // DEPRECATED: this.transform.position.copyFrom(point.absolutePosition);
                    // DEPRECATED: this.transform.rotationQuaternion.copyFrom(point.absoluteRotationQuaternion);
                    // DEPRECATED: this.syncCameraTransform = point;
                    if (this.transform.parent != point)
                        this.transform.parent = point;
                    this.transform.position.set(0, 0, 0);
                    this.transform.rotationQuaternion.set(0, 0, 0, 1);
                    this.syncCameraTransform = null;
                    this.lookCameraTransform = null;
                }
            }
        }
        setPlayerFocusCameraMount() {
            if (this.focusPlayerVehicle != null) {
                let mount = "DriverCameraMount";
                if (this.currentMount === 2) {
                    mount = "FrontCameraMount";
                }
                else if (this.currentMount === 1) {
                    mount = "RearCameraMount";
                }
                let focusCameraMount = UNITY.SceneManager.FindChildTransformNode(this.focusPlayerVehicle, mount, UNITY.SearchType.ExactMatch, false);
                if (focusCameraMount != null) {
                    if (this.currentMount === 0) {
                        if (this.transform.parent != focusCameraMount)
                            this.transform.parent = focusCameraMount;
                        this.transform.position.set(0, 0, 0);
                        this.transform.rotationQuaternion.set(0, 0, 0, 1);
                        this.syncCameraTransform = null;
                        this.lookCameraTransform = null;
                    }
                    else {
                        if (this.transform.parent != null)
                            this.transform.parent = null;
                        this.transform.position.copyFrom(focusCameraMount.absolutePosition);
                        this.transform.rotationQuaternion.copyFrom(focusCameraMount.absoluteRotationQuaternion);
                        this.syncCameraTransform = focusCameraMount;
                        this.lookCameraTransform = UNITY.SceneManager.FindChildTransformNode(this.focusPlayerVehicle, "LookAtCameraMount", UNITY.SearchType.ExactMatch, false);
                    }
                }
                else {
                    this.setCameraClosestToPlayer();
                }
            }
        }
        getCameraClosestToPlayer(player) {
            let result = 0;
            let points = (this.points != null) ? this.points.length : 0;
            if (points > 0) {
                let _distance = 10000;
                let _d = 0;
                for (let i = 0; i < points; i++) {
                    _d = BABYLON.Vector3.Distance(this.points[i].position, player.position);
                    if (_distance > _d) {
                        _distance = _d;
                        result = i;
                    }
                }
            }
            return result;
        }
        getDistanceToClosestCamera(player, camera) {
            return (this.points != null && this.points.length < camera) ? BABYLON.Vector3.Distance(this.points[camera].position, player.position) : 0;
        }
        getTransformNodesWithName(scene, name) {
            let result = null;
            if (scene.transformNodes != null) {
                scene.transformNodes.forEach((node) => {
                    if (node.name === name) {
                        if (result == null)
                            result = [];
                        result.push(node);
                    }
                });
            }
            if (scene.meshes != null) {
                scene.meshes.forEach((mesh) => {
                    if (mesh.name === name) {
                        if (result == null)
                            result = [];
                        result.push(mesh);
                    }
                });
            }
            return result;
        }
    }
    Camera_BigScreens._StaticInstance = null;
    Camera_BigScreens.FRONT_CAMERA_PADDING = 8;
    Camera_BigScreens.REAR_CAMERA_PADDING = 4;
    Camera_BigScreens.RTT_RATIO = 0;
    PROJECT.Camera_BigScreens = Camera_BigScreens;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SpectatorCameraView
    */
    class SpectatorCameraView extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this.attachPlayerCamera = true;
            this.autoSwitchCameras = true;
        }
        // TODO: Implement Spectator UI With Selected Car Info
        awake() {
            this.initSpectatorView();
        }
        start() {
            /* Start component function */
        }
        fixed() {
            /* Fixed update loop function */
        }
        update() {
            /* Update render loop function */
        }
        late() {
            /* Late update render loop function */
        }
        after() {
            /* After update render loop function */
        }
        ready() {
            this.startSpectatorView();
        }
        destroy() {
            /* Destroy component function */
        }
        initSpectatorView() {
            UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.T, () => {
                //if (this.attachPlayerCamera === true && PROJECT.Camera_BigScreens.Instance != null) {
                PROJECT.Camera_BigScreens.Instance.AutoSwitchCamera = !PROJECT.Camera_BigScreens.Instance.AutoSwitchCamera;
                //}
            });
            UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.UpArrow, () => {
                //if (this.attachPlayerCamera === true && PROJECT.Camera_BigScreens.Instance != null) {
                PROJECT.Camera_BigScreens.Instance.AutoSwitchCamera = false;
                PROJECT.Camera_BigScreens.Instance.SwitchActiveView(-1, 0);
                //}
            });
            UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.DownArrow, () => {
                //if (this.attachPlayerCamera === true && PROJECT.Camera_BigScreens.Instance != null) {
                PROJECT.Camera_BigScreens.Instance.AutoSwitchCamera = false;
                PROJECT.Camera_BigScreens.Instance.SwitchActiveView(+1, 0);
                //}
            });
            UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.LeftArrow, () => {
                //if (this.attachPlayerCamera === true && PROJECT.Camera_BigScreens.Instance != null) {
                PROJECT.Camera_BigScreens.Instance.AutoSwitchCamera = false;
                PROJECT.Camera_BigScreens.Instance.SwitchActiveView(0, -1);
                //}
            });
            UNITY.InputController.OnKeyboardPress(UNITY.UserInputKey.RightArrow, () => {
                //if (this.attachPlayerCamera === true && PROJECT.Camera_BigScreens.Instance != null) {
                PROJECT.Camera_BigScreens.Instance.AutoSwitchCamera = false;
                PROJECT.Camera_BigScreens.Instance.SwitchActiveView(0, +1);
                //}
            });
        }
        startSpectatorView() {
            if (PROJECT.Camera_BigScreens.Instance != null) {
                PROJECT.Camera_BigScreens.Instance.AutoSwitchCamera = this.autoSwitchCameras;
                if (this.attachPlayerCamera === true)
                    PROJECT.Camera_BigScreens.Instance.ActivatePlayerCamera();
            }
        }
    }
    PROJECT.SpectatorCameraView = SpectatorCameraView;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Shader Material
    * @class VertexSplat
    */
    class VertexSplat extends UNITY.UniversalAlbedoMaterial {
        constructor(name, scene) {
            super(name, scene);
            this.enableTime = false;
            this.enableShaderChunks = true;
        }
        getShaderName() {
            return "pbr";
        }
        getShaderChunk() {
            return "VertexSplat";
        }
        getCustomAttributes() {
            return null; // Optional: Custom Attributes
        }
        updateShaderChunks() {
            // Optional: Update Material Shader Chunks
        }
        ////////////////////////////////////////////////
        // Albedo Material Life Cycle Functions       //
        ////////////////////////////////////////////////
        awake() {
            /* Init material function */
        }
        after() {
            /* After bind update function */
        }
    }
    PROJECT.VertexSplat = VertexSplat;
    BABYLON.RegisterClass("PROJECT.VertexSplat", VertexSplat);
})(PROJECT || (PROJECT = {}));
var UNITY;
(function (UNITY) {
    /**
     * Babylon character controller pro class (Unity Style Character Controller System)
     * @class CharacterController - All rights reserved (c) 2020 Mackey Kinard
     */
    class CharacterController extends UNITY.ScriptComponent {
        constructor() {
            super(...arguments);
            this._abstractMesh = null;
            this._avatarRadius = 0.5;
            this._avatarHeight = 2;
            this._centerOffset = new BABYLON.Vector3(0, 0, 0);
            this._slopeLimit = 45;
            this._skinWidth = 0.08;
            this._stepOffset = 0.3; // See https://discourse.threejs.org/t/ammo-js-with-three-js/12530/47 (Works Best With 0.535 and Box Or Cylinder Shape - ???)
            this._capsuleSegments = 16;
            this._minMoveDistance = 0.001;
            this._isPhysicsReady = false;
            this._maxCollisions = 4;
            this._createCylinderShape = false;
            this._movementVelocity = new BABYLON.Vector3(0, 0, 0);
            this._tmpPositionBuffer = new BABYLON.Vector3(0, 0, 0);
            this.updatePosition = true;
            this.syncGhostToTransform = true;
        }
        preCreateCylinderShape() { this._createCylinderShape = true; }
        //public getInternalCharacter():any { return this.m_character; }
        //public getCollisionShape():any { return this.m_ghostShape; }
        getAvatarRadius() { return this._avatarRadius; }
        getAvatarHeight() { return this._avatarHeight; }
        getSkinWidth() { return this._skinWidth; }
        getStepOffset() { return this._stepOffset; }
        getCenterOffset() { return this._centerOffset; }
        //public getCapsuleSize():BABYLON.Vector3 { return this.m_capsuleSize; }
        getMinMoveDistance() { return this._minMoveDistance; }
        setMinMoveDistance(distance) { this._minMoveDistance = distance; }
        getVerticalVelocity() { return 0; } // Note: Toolkit Addon Function
        getAddedMargin() { return 0; } // Note: Toolkit Addon Function
        setAddedMargin(margin) { } // Note: Toolkit Addon Function
        setMaxJumpHeight(maxJumpHeight) { }
        setFallingSpeed(fallSpeed) { }
        getSlopeLimit() { return 0; }
        setSlopeLimit(slopeRadians) { }
        setUpAxis(axis) { }
        getGravity() { return 0; }
        setGravity(gravity) { }
        isGrounded() { return false; }
        isReady() { return false; }
        canJump() { return false; }
        syncMovementState() {
            if (this._isPhysicsReady === true) {
                //this.m_ghostTransform = this.m_ghostObject.getWorldTransform();
                //if (this.m_ghostTransform != null) {
                //    this.m_ghostPosition = this.m_ghostTransform.getOrigin();
                //} else {
                //    this.m_ghostPosition = null;
                //}
            }
            this.scene.getPhysicsEngine();
        }
        syncTransformToGhostPosition() {
            if (this._isPhysicsReady === true) {
                //if (this.m_ghostPosition != null) {
                //    this.m_characterPosition.set(this.m_ghostPosition.x(), this.m_ghostPosition.y(), this.m_ghostPosition.z());
                //    if (this.transform.parent != null) UNITY.Utilities.InverseTransformDirectionToRef((this.transform.parent as BABYLON.TransformNode), this.m_characterPosition, this.m_characterPosition);
                //    if (this._centerOffset != null) {
                //        // Note: Subtract Character Controller Center Offset
                //        this.m_characterPosition.subtractInPlace(this._centerOffset); 
                //    }
                //    this.transform.position.copyFrom(this.m_characterPosition);
                //}
            }
        }
        syncGhostToTransformPosition() {
            if (this._isPhysicsReady === true) {
                //this.m_characterPosition.copyFrom(this.transform.position);
                //if (this._centerOffset != null) {
                //    // Note: Add Character Controller Center Offset
                //    this.m_characterPosition.addInPlace(this._centerOffset); 
                //}
                //if (this.transform.parent != null) UNITY.Utilities.TransformDirectionToRef((this.transform.parent as BABYLON.TransformNode), this.m_characterPosition, this.m_characterPosition);
                //this.setGhostWorldPosition(this.m_characterPosition);
            }
        }
        setGhostCollisionState(collision) {
            if (collision === true) {
                //this.m_ghostObject.setCollisionFlags(BABYLON.CollisionFlags.CF_CHARACTER_OBJECT);
            }
            else {
                //this.m_ghostObject.setCollisionFlags(BABYLON.CollisionFlags.CF_NO_CONTACT_RESPONSE);
            }
        }
        ////////////////////////////////////////////////////
        // Public Character Controller Movement Functions //
        ////////////////////////////////////////////////////
        /** Sets the kinematic character position to the specified location. */
        set(x, y, z) {
            /*
            this._tmpPositionBuffer.set(x,y,z);
            this.setGhostWorldPosition(this._tmpPositionBuffer);
            */
        }
        /** Translates the kinematic character with the specfied velocity. */
        move(velocity) {
            if (velocity != null) {
                /*
                this.m_moveDeltaX = velocity.x;
                this.m_moveDeltaZ = velocity.z;
                if (Math.abs(velocity.x) < this._minMoveDistance) {
                    if (velocity.x > 0) {
                        this.m_moveDeltaX = this._minMoveDistance;
                    } else if (velocity.x < 0) {
                        this.m_moveDeltaX = -this._minMoveDistance;
                    }
                }
                if (Math.abs(velocity.z) < this._minMoveDistance) {
                    if (velocity.z > 0) {
                        this.m_moveDeltaZ = this._minMoveDistance;
                    } else if (velocity.z < 0) {
                        this.m_moveDeltaZ = -this._minMoveDistance;
                    }
                }
                if (this.m_walkDirection != null) {
                    this._movementVelocity.set(this.m_moveDeltaX, 0, this.m_moveDeltaZ);
                    this.m_walkDirection.setValue(this._movementVelocity.x, this._movementVelocity.y, this._movementVelocity.z);
                    this.internalSetWalkDirection(this.m_walkDirection);
                }
                */
            }
        }
        /** Jumps the kinematic chacracter with the specified speed. */
        jump(speed) {
            /*
            if (this.canJump()) {
                this.internalSetJumpSpeed(speed);
                this.internalJump();
            }
            */
        }
        /** Warps the kinematic chacracter to the specified position. */
        warp(position) {
            /*
            if (this.m_warpPosition != null) {
                this.m_warpPosition.setValue(position.x, position.y, position.z);
                this.internalWarp(this.m_warpPosition);
            }
            */
        }
    }
    UNITY.CharacterController = CharacterController;
})(UNITY || (UNITY = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdHkucGxheWdyb3VuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL0Fzc2V0cy9BZGRvbnMvTmV0d29yay9Db2x5c2V1c0dhbWVTZXJ2ZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL05ldHdvcmsvQ29seXNldXNOZXR3b3JrQXZhdGFyLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9OZXR3b3JrL0NvbHlzZXVzTmV0d29ya0VudGl0eS50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvTmV0d29yay9Db2x5c2V1c05ldHdvcmtNYW5hZ2VyLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9SYWNpbmcvU2NyaXB0cy9BdXRvQm9keUdhcmFnZS50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvQ2hlY2twb2ludE1hbmFnZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL05ldHdvcmtDYXJQcmVkaWN0aW9uLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9SYWNpbmcvU2NyaXB0cy9SYWNlVHJhY2tNYW5hZ2VyLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9SYWNpbmcvU2NyaXB0cy9SZW1vdGVDYXJDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9SYWNpbmcvU2NyaXB0cy9Ta2lkTWFya01hbmFnZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1N0YW5kYXJkQ2FyQ29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvVmVoaWNsZUNhbWVyYU1hbmFnZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1ZlaGljbGVJbnB1dENvbnRyb2xsZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1ZlaGljbGVOZXR3b3JrTGFiZWwudHMiLCIuLi9Bc3NldHMvQ29udGVudC9DYW1lcmEvRGVmYXVsdENhbWVyYVN5c3RlbS50cyIsIi4uL0Fzc2V0cy9Db250ZW50L0luc3BlY3Rvci9EZWJ1Z0luZm9ybWF0aW9uLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvSW50ZXJmYWNlL1VzZXJJbnRlcmZhY2VNYW5hZ2VyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTG9hZGVyL0Fzc2V0RXhwb3J0ZXIudHMiLCIuLi9Bc3NldHMvQ29udGVudC9Mb2FkZXIvQXNzZXRQcmVsb2FkZXIudHMiLCIuLi9Bc3NldHMvQ29udGVudC9NYXRlcmlhbC9Ob2RlTWF0ZXJpYWxJbnN0YW5jZS50cyIsIi4uL0Fzc2V0cy9Db250ZW50L01hdGVyaWFsL05vZGVNYXRlcmlhbFBhcnRpY2xlLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTWF0ZXJpYWwvTm9kZU1hdGVyaWFsUHJvY2Vzcy50cyIsIi4uL0Fzc2V0cy9Db250ZW50L01hdGVyaWFsL05vZGVNYXRlcmlhbFRleHR1cmUudHMiLCIuLi9Bc3NldHMvQ29udGVudC9Nb2JpbGUvTW9iaWxlSW5wdXRDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTW9iaWxlL01vYmlsZU9jY2x1ZGVNYXRlcmlhbC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L01vYmlsZS9Nb2JpbGVTaGFkb3dNYXRlcmlhbC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BoeXNpY3MvQmFsbFNvY2tldEpvaW50LnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGh5c2ljcy9EaXN0YW5jZUpvaW50LnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGh5c2ljcy9GaXhlZEhpbmdlSm9pbnQudHMiLCIuLi9Bc3NldHMvQ29udGVudC9QaHlzaWNzL0xvY2tlZEpvaW50LnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGh5c2ljcy9QcmlzbWF0aWNKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BoeXNpY3MvU2l4ZG9mSm9pbnQudHMiLCIuLi9Bc3NldHMvQ29udGVudC9QaHlzaWNzL1NsaWRlckpvaW50LnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGxheWVyL1JlbW90ZVBsYXllckNvbnRyb2xsZXIudHMiLCIuLi9Bc3NldHMvQ29udGVudC9QbGF5ZXIvU3RhbmRhcmRQbGF5ZXJDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGxheWVyL1RoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1NoYWRlci9GeFBhcnRpY2xlU3lzdGVtLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvU2hhZGVyL1NreU1hdGVyaWFsU3lzdGVtLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvU2hhZGVyL1dhdGVyTWF0ZXJpYWxTeXN0ZW0udHMiLCIuLi9Bc3NldHMvQ29udGVudC9XaW5kb3dzL1dpbmRvd3NQbGF0Zm9ybS50cyIsIi4uL0Fzc2V0cy9TeXN0ZW0vRjFSYWNpbmdDYXJzL1NjcmlwdHMvUGFpbnRTaG9wLnRzIiwiLi4vQXNzZXRzL1N5c3RlbS9GMVJhY2luZ0NhcnMvU2NyaXB0cy9SYWNpbmdIdWQudHMiLCIuLi9Bc3NldHMvU3lzdGVtL01hc3RlclBpeGVsM0QvUlRHIDEuMy9CaWcgU2NyZWVuL1NjcmlwdHMvQ2FtZXJhX0JpZ1NjcmVlbnMudHMiLCIuLi9Bc3NldHMvU3lzdGVtL01hc3RlclBpeGVsM0QvUlRHIDEuMy9CaWcgU2NyZWVuL1NjcmlwdHMvU3BlY3RhdG9yQ2FtZXJhVmlldy50cyIsIi4uL0Fzc2V0cy9TeXN0ZW0vTWFzdGVyUGl4ZWwzRC9SVEcgMS4zL1NoYWRlcnMvVmVydGV4U3BsYXQudHMiLCIuLi9Bc3NldHMvW0JhYnlsb25dL1tQcm9dL0NoYXJhY3RlckNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBTyxPQUFPLENBMktiO0FBM0tELFdBQU8sT0FBTztJQUNWOzs7TUFHRTtJQUNGLE1BQWEsa0JBQW1CLFNBQVEsS0FBSyxDQUFDLGVBQWU7UUFtQmxELE1BQU0sS0FBSyxRQUFRLEtBQWdDLE9BQU8sT0FBTyxDQUFDLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFD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LGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FB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QUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztZQUNkLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWpCLElBQUksQ0FBQyxXQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7WUFDcEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFFBQUEsT0FBTyxFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLFFBQUEsVUFBVSxFQUFFLENBQUM7WUFDbkMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLFFBQUEsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLENBQUM7UUFFRCxjQUFjLENBQUMsTUFBZSxFQUFFLENBQVMsRUFBRSxFQUFXLEVBQUUsRUFBVyxFQUFFLEVBQVcsRUFBRSxFQUFXO1lBQ3pGLHFHQUFxRztZQUNyRyxLQUFLLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDbkUsQ0FBQztRQUVELGNBQWMsQ0FBQyxNQUFlLEVBQUUsQ0FBUyxFQUFFLEVBQVcsRUFBRSxFQUFXLEVBQUUsRUFBVyxFQUFFLEVBQVc7WUFDekYscUdBQXFHO1lBQ3JHLE1BQU0sR0FBRyxHQUFvQixPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDeEUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QixDQUFDO1FBRUQsYUFBYSxDQUFDLE1BQWUsRUFBRSxDQUFTLEVBQUUsRUFBVyxFQUFFLEVBQVcsRUFBRSxFQUFXLEVBQUUsRUFBVztZQUN4RixNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2pCLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDOUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDM0IsTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzFCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7WUFFbEIsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsQ0FBQztRQUVEOzs7Ozs7Ozs7VUFTRTtRQUVGLElBQUksQ0FBQyxNQUFlLEVBQUUsRUFBVyxFQUFFLEVBQVcsRUFBRSxLQUFhO1lBQ3pELFFBQUEsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBRUQsS0FBSyxDQUFDLE1BQWtCLEVBQUUsRUFBYyxFQUFFLEVBQWMsRUFBRSxLQUFhO1lBQ25FLFFBQUEsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNqRCxDQUFDO1FBRUQsNkJBQTZCO1lBQ3pCLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxJQUFJLGNBQWMsRUFBRSxDQUFDO1FBQy9ELENBQUM7UUFFRCxZQUFZLENBQUMsUUFBa0IsRUFBRSxRQUFrQixFQUFFLFVBQXVCLEVBQUUsS0FBZSxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQyxFQUFFLFFBQWUsQ0FBQztZQUNuZCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNqRixnRUFBZ0U7WUFDaEUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ2xDLElBQUksUUFBUTtvQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDL0MsSUFBSSxRQUFRO29CQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUMvQyxJQUFJLFVBQVU7b0JBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3JELElBQUksS0FBSztvQkFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUN2QixDQUFDO2lCQUFNLENBQUM7Z0JBQ0osTUFBTSxVQUFVLEdBQUcsSUFBSSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUM7Z0JBQzVDLE1BQU0sUUFBUSxHQUFHLGNBQWMsRUFBRSxDQUFDO2dCQUNsQyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUM1RCxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUM1RCxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxVQUFVLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUNsRSxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNuRCxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQy9CLENBQUM7UUFDTCxDQUFDO1FBRUQscUtBQXFLO1FBQ3JLLGtJQUFrSTtRQUNsSSx5SEFBeUg7UUFDekgsdUdBQXVHO1FBRXZHLE1BQU0sQ0FBQyxLQUFhO1lBQ2hCLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxXQUFXLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQzFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ3pCLElBQUksQ0FBQyw2QkFBNkIsRUFBRSxDQUFDO29CQUNyQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUNsRCxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO29CQUN0RCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUM1QyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUM7Z0JBQ3ZDLENBQUM7WUFDTCxDQUFDO1lBRUQsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDdkMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ3hELElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQztnQkFDckMsQ0FBQztZQUNMLENBQUM7WUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNyQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQ3pDLHNDQUFzQztnQkFDdEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBQzFELDZFQUE2RTtvQkFDN0UsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQzt3QkFDekIsSUFBSSxDQUFDLDZCQUE2QixFQUFFLENBQUM7b0JBQ3pDLENBQUM7eUJBQU0sQ0FBQzt3QkFDSixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7d0JBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO3dCQUNoRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDdEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFB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RyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDdEQsQ0FBQztRQUVTLE1BQU07WUFDWixJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztnQkFDMUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFRLFFBQVE7Z0JBQ2xHLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBUSxRQUFRO2dCQUNsRyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQU0sVUFBVTtnQkFDcEcsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFNLFVBQVU7Z0JBQ3BHLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBTSxVQUFVO2dCQUNwRyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQU0sVUFBVTtnQkFDcEcsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFNLFVBQVU7Z0JBQ3BH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QUFJLEtBQUssR0FBVSxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDekQsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUs7WUFDTCxpQ0FBaUM7WUFDakMsS0FBSztZQUNMLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxD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QUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNuRixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUN6RixJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUM1RixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztZQUMvRixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUN6RixJQUFJ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QUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDaEcsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFX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LENBQUMsQ0FBQyxDQUFDO29CQUNILEtBQUssQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUUsRUFBRTt3QkFDL0QsT0FBTyxDQUFDLG1CQUFtQixDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQ3BFLEtBQUssQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLG1CQUFtQixDQUFDLENBQUM7b0JBQ3ZELENBQUMsQ0FBQyxDQUFDO29CQUNILEtBQUssQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUUsRUFBRTt3QkFDL0QsT0FBTyxDQUFDLG1CQUFtQixDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQ3BFLEtBQUssQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLG1CQUFtQixDQUFDLENBQUM7b0JBQ3ZELENBQUMsQ0FBQyxDQUFDO29CQUNILEtBQUssQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUUsRUFBRTt3QkFDL0QsT0FBTyxDQUFDLG1CQUFtQixDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQ3BFLEtBQUssQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLG1CQUFtQixDQUFDLENBQUM7b0JBQ3ZELENBQUMsQ0FBQyxDQUFDO2dCQUNQLENBQUM7Z0JBQ0QsS0FBSyxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsR0FBRSxFQUFFO29CQUM1RCxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUM3QixDQUFDLENBQUMsQ0FBQztnQkFDSCxLQUFLLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsWUFB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SSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUM5RSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMs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QUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3hFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzNFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3hFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzNFLDhGQUE4RjtZQUM5RixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtZQUN2RSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQzlFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO1lBQ25GLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUE7WUFDaEYsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQTtZQUM3RSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2pGLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3BGLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQzFGLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQzFGLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3ZGLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3ZGLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDOUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUM5RSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQzlFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDakYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDaEcsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDbkcsS0FBSztZQUNMLE1BQU0sZ0JBQWdCLEdBQVcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3RFLElBQUksZ0JBQWdCLEtBQUssSUFBSTtnQkFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO1lBQ2pGLEtBQUs7WUFDTCxNQUFNLGdCQUFnQixHQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDOUQsSUFBSSxnQkFBZ0IsSUFBSSxJQUFJO2dCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNqRyxLQUFLO1lBQ0wsTUFBTSxZQUFZLEdBQVUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUE7WUFDakUsMEZBQTBGO1lBQzFGLEtBQUs7WUFDTCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUMzQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQy9ELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDL0QsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUNqRSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUMzQixLQUFLO1lBQ0w7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2NBcURFO1lBQ0YsS0FBSztZQUNMLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLGNBQWMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdEYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQy9CLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNoRixJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7WUFDekMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1lBQ3BDLEtBQUs7WUFDTCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsS0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDbkMsTUFBTSxTQUFTLEdBQWdCLE9BQU8sQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNqSSxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7Z0JBQ3BDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzlCLFNBQVMsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQy9ELFNBQVMsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO2dCQUMzQixTQUFTLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDO2dCQUN0RCxTQUFTLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztnQkFDbEMsU0FBUyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDakMsQ0FBQztZQUNELEtBQUs7WUFDTCxNQUFNLGFBQWEsR0FBVyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2hFLE1BQU0sZ0JBQWdCLEdBQTZCLElBQUksQ0FBQyxZQUFZLENBQUMsMkJBQTJCLENBQUMsQ0FBQztZQUNsRyxJQUFJLGdCQUFnQixJQUFJLElBQUksSUFBSSxhQUFhLEtBQUssSUFBSTtnQkFBRSxnQkFBZ0IsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1lBQ2xHLEtBQUs7WUFDTCw0QkFBNEI7WUFDNUIsS0FBSztZQUNMLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ2pDLENBQUM7UUFDTyxxQkFBcUI7WUFDekIsbURBQW1EO1lBQ25ELElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMvQyxDQUFDO1lBQ0QsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsMkJBQTJCLENBQUMsQ0FBQztZQUMxRSxJQUFJLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsZUFBZSxFQUFFLENBQUM7Z0JBQy9ELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQzdELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7Z0JBQ2hFLGlFQUFpRTtnQkFDakUsa0NBQWtDO2dCQUNsQyxvQ0FBb0M7Z0JBQ3BDLEtBQUs7Z0JBQ0wsS0FBSyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsd0RBQXdELEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsSCxDQUFDO2lCQUFNLENBQUM7Z0JBQ0osS0FBSyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMscUNBQXFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvRixDQUFDO1lBQ0QsbUNBQW1DO1lBQ25DLHFDQUFxQztRQUN6QyxDQUFDO1FBRU8sb0JBQW9CO1lBQ3hCLElBQUksSUFBSSxDQUFDLDBCQUEwQixJQUFJLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO2dCQUNwRixJQUFJLENBQUMsMEJBQTBCLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNwRSxDQUFDO1FBQ0wsQ0FBQztRQUVPLHNCQUFzQjtZQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN4Qyx1SUFBdUk7WUFDdkksS0FBSztZQUNMLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDdEYsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUN0RCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNsQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzFELElBQUksSUFBSSxDQUFDLGtCQUFrQixHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUM5QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUN0RCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ2hFLENBQUM7aUJBQU0sQ0FBQztnQkFDSixJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsQ0FBQztZQUNELElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUU5RCx1QkFBdUI7WUFDdkIsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxjQUFjLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ2pFLElBQUksQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO1lBQ3JDLENBQUM7WUFDRCxLQUFLO1lBQ0wsSUFBSSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN4QixJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQ3BDLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDO29CQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1lBQ3JELENBQUM7WUFDRCxJQUFJLElBQUksQ0FBQyxtQkFBbUIsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDL0QsSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUN0QyxJQUFJLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQztvQkFBRSxJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztZQUN6RCxDQUFDO1lBQ0QsS0FBSztZQUNMLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1lBQzFCLElBQUksSUFBSSxDQUFDLGtCQUFrQixLQUFLLElBQUksRUFBRSxDQUFDO2dCQUNuQyxJQUFJLENBQUMsMEJBQTBCLEVBQUUsQ0FBQztnQkFDbEMsSUFBSSxJQUFJLENBQUMsd0JBQXdCLElBQUksSUFBSSxDQUFDLHdCQUF3QixDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7b0JBQ2hGLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNsRSxDQUFDO1lBQ0wsQ0FBQztZQUNELElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxLQUFLO2dCQUFFLE9BQU87WUFDdkMsTUFBTSxVQUFVLEdBQVUsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ2hILE1BQU0sVUFBVSxHQUFVLEtBQUssQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM5RyxNQUFNLFVBQVUsR0FBVSxLQUFLLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDNUcsTUFBTSxVQUFVLEdBQVUsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQzVHLElBQUksSUFBSSxDQUFDLGtCQUFrQixLQUFLLElBQUksRUFBRSxDQUFDO2dCQUNuQyxzQkFBc0I7Z0JBQ3RCLElBQUksVUFBVSxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUNqQixJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztvQkFDL0QsSUFBSSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUM7d0JBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7Z0JBQ3JELENBQUM7cUJBQU0sSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ3hCLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUMvRCxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO3dCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZELENBQUM7cUJBQU0sQ0FBQztvQkFDSixJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxFQUFFLENBQUM7d0JBQ3hCLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUMvRCxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQzs0QkFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztvQkFDckQsQ0FBQzt5QkFBTSxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxFQUFFLENBQUM7d0JBQy9CLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUMvRCxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQzs0QkFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztvQkFDckQsQ0FBQztnQkFDTCxDQUFDO2dCQUNELHNCQUFzQjtnQkFDdEIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ2pCLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUMvRCxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQzt3QkFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztnQkFDckQsQ0FBQztxQkFBTSxJQUFJLFVBQVUsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDeEIsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBQy9ELElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7d0JBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDdkQsQ0FBQztxQkFBTSxDQUFDO29CQUNKLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEVBQUUsQ0FBQzt3QkFDeEIsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7d0JBQy9ELElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDOzRCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO29CQUNyRCxDQUFDO3lCQUFNLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEVBQUUsQ0FBQzt3QkFDL0IsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7d0JBQy9ELElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDOzRCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO29CQUNyRCxDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDO2lCQUFNLENBQUM7Z0JBQ0osb0JBQW9CO2dCQUNwQixJQUFJLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQztnQkFDL0IsSUFBSSxDQUFDLFlBQVksR0FBRyxVQUFVLENBQUM7WUFDbkMsQ0FBQztZQUNELEtBQUs7WUFDTCxJQUFJLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQztZQUMvQixJQUFJLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQztZQUMvQixLQUFLO1lBQ0wsNEJBQTRCO1lBQzVCLEtBQUs7WUFDTCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLHFCQUFxQixLQUFLLElBQUksRUFBRSxDQUFDO2dCQUMxRSxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQ3JELDZEQUE2RDtvQkFDN0QsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7Z0JBQ3JDLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO2dCQUMzQixJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7WUFDMUIsQ0FBQztZQUNELEtBQUs7WUFDTCxzQkFBc0I7WUFDdEIsS0FBSztZQUNMLElBQUksSUFBSSxDQUFDLHVCQUF1QixJQUFJLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO2dCQUM5RSxJQUFJLENBQUMsdUJBQXVCLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNqRSxDQUFDO1lBQ0QsSUFBSTtZQUNKLHlCQUF5QjtZQUN6QixLQUFLO1lBQ0wsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdEUsSUFBSSxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRztnQkFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQywyQkFBMkI7WUFDOUcsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDeEQsS0FBSztZQUNMLHdCQUF3QjtZQUN4QixLQUFLO1lBQ0wsTUFBTSxXQUFXLEdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3BELE1BQU0sWUFBWSxHQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNyRCxNQUFNLFNBQVMsR0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbEQsTUFBTSxRQUFRLEdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2pELElBQUksV0FBVyxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUN2QixJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDcEIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLENBQUM7Z0JBQ3ZFLENBQUM7cUJBQU0sSUFBSSxTQUFTLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQzVCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsWUFBWSxDQUFDO2dCQUN4RSxDQUFDO3FCQUFNLENBQUM7b0JBQ0osSUFBSSxDQUFDLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUM7Z0JBQ25FLENBQUM7WUFDTCxDQUFDO2lCQUFNLElBQUksWUFBWSxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUMvQixJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDcEIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLENBQUM7Z0JBQ3hFLENBQUM7cUJBQU0sSUFBSSxTQUFTLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQzVCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDO2dCQUN6RSxDQUFDO3FCQUFNLENBQUM7b0JBQ0osSUFBSSxDQUFDLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUM7Z0JBQ3BFLENBQUM7WUFDTCxDQUFDO2lCQUFNLElBQUksUUFBUSxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUMzQixJQUFJLENBQUMsbUJBQW1CLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLFlBQVksQ0FBQztZQUN4RSxDQUFDO2lCQUFNLElBQUksU0FBUyxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUM1QixJQUFJLENBQUMsbUJBQW1CLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLGFBQWEsQ0FBQztZQUN6RSxDQUFDO2lCQUFNLENBQUM7Z0JBQ0osSUFBSSxDQUFDLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLENBQUM7WUFDdEUsQ0FBQztZQUNELEtBQUs7WUFDTCwyQkFBMkI7WUFDM0IsS0FBSztZQUNMLElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO2dCQUMxRSxJQUFJLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxDQUFDO1lBQ0QsS0FBSztZQUNMLCtCQUErQjtZQUMvQixLQUFLO1lBQ0wsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzVELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9CLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNyQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDbEYsS0FBSztZQUNMLDZCQUE2QjtZQUM3QixLQUFLO1lBQ0wsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3hELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNuQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDOUUsS0FBSztZQUNMLGdDQUFnQztZQUNoQyxLQUFLO1lBQ0wsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDckYsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN0RixJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFDMUssSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLEtBQUssRUFBRSxDQUFDO2dCQUNqQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztnQkFDM0IsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1lBQzFCLENBQUM7WUFDRCxLQUFLO1lBQ0wsOENBQThDO1lBQzlDLEtBQUs7WUFDTCxzSEFBc0g7WUFDdEgsdUhBQXVIO1lBQ3ZILHVLQUF1SztZQUN2Syx1TUFBdU07WUFDdk0sdU1BQXVNO1lBQ3ZNLEtBQUs7WUFDTCwrQkFBK0I7WUFDL0IsS0FBSztZQUNMLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxLQUFLLENBQUMsZUFBZSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzlJLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxLQUFLLENBQUMsZUFBZSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQ2pKLEtBQUs7WUFDTCxrQ0FBa0M7WUFDbEMsS0FBSztZQUNMLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQy9FLElBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxLQUFLLEVBQUUsQ0FBQztnQkFDOUQsS0FBSztnQkFDTCxnRkFBZ0Y7Z0JBQ2hGLEtBQUs7Z0JBQ0wsSUFBSSxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDckYsQ0FBQztZQUNELEtBQUs7WUFDTCxtREFBbUQ7WUFDbkQsS0FBSztZQUNMLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3JGLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBQ25GLDZEQUE2RDtZQUM3RCxJQUFJLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQy9CLElBQUksSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDMUIsTUFBTSxnQkFBZ0IsR0FBVSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBQ3hGLE1BQU0sZ0JBQWdCLEdBQVUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLGdCQUFnQixDQUFDLENBQUM7b0JBQzdHLEtBQUssQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO29CQUMxRixvQ0FBb0M7b0JBQ3BDLE9BQU8sQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQztnQkFDNUssQ0FBQztZQUNMLENBQUM7WUFDRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFDbkQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUM1RCxLQUFLO1lBQ0wsOEJBQThCO1lBQzlCLEtBQUs7WUFDTCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO1lBQ2hDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7WUFDakMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztZQUNoQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO1lBQ2hDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxLQUFLLENBQUM7WUFDbEMsSUFBSSxDQUFDLHFCQUFxQixHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO1lBQ25HLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckcsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7WUFDakMsS0FBSztZQUNMLGdDQUFnQztZQUNoQyxLQUFLO1lBQ0wsSUFBSSxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ2pFLElBQUksQ0FBQyw0QkFBNEIsRUFBRSxDQUFDO2dCQUNwQyxJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO2dCQUNsRyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUMzRixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2dCQUM1RixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUMxRixJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO2dCQUNoRyxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUM3RixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUM3RixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO2dCQUMvRixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDNUIsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ25DLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUN4SSxJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFDdEksSUFBSSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7d0JBQ3BJLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUN4SSxDQUFDO3lCQUFNLENBQUM7d0JBQ0osSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7d0JBQzNGLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO3dCQUN6RixJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQzt3QkFDdkYsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQzNGLENBQUM7b0JBQ0QsSUFBSSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBQ3pJLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN4SSxDQUFDO3FCQUFNLENBQUM7b0JBQ0osSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQzNGLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO29CQUN6RixJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztvQkFDdkYsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQ3ZGLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUM1RixJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDM0YsQ0FBQztnQkFDRCxJQUFJLElBQUksQ0FBQyxxQkFBcUIsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDdEMsc0RBQXNEO29CQUN0RCwyRkFBMkY7Z0JBQy9GLENBQUM7Z0JBQ0QsSUFBSSxJQUFJLENBQUMsMEJBQTBCLElBQUksSUFBSSxDQUFDLDBCQUEwQixDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7b0JBQ3BGLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNwRSxDQUFDO1lBQ0wsQ0FBQztZQUNELEtBQUs7WUFDTCwwQkFBMEI7WUFDMUIsS0FBSztZQUNMLElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7Z0JBQ2hHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFvQixZQUFZO2dCQUMxSCxLQUFLLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQXlCLFlBQVk7Z0JBQzFILEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBMkIsWUFBWTtnQkFDMUgsS0FBSyxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUEyQixXQUFXO2dCQUN6SCxLQUFLLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQTJCLFNBQVM7Z0JBQ3ZILEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBMkIsU0FBUztnQkFDdkgsS0FBSyxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQXVCLG9CQUFvQjtnQkFDbEksS0FBSyxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUEwQixpQkFBaUI7Z0JBQy9ILEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFvQixlQUFlO2dCQUM3SCxLQUFLLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBTyxhQUFhO2dCQUMzSCxLQUFLLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBUSxhQUFhO2dCQUMzSCxLQUFLLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBUSxhQUFhO2dCQUMzSCxLQUFLLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBUSxhQUFhO2dCQUMzSCxLQUFLLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBTyxjQUFjO1lBQ2hJLENBQUM7WUFDRCxLQUFLO1lBQ0wsNEJBQTRCO1lBQzVCLEtBQUs7WUFDTCxJQUFJLElBQUksQ0FBQyxzQkFBc0IsSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztnQkFDNUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDaEUsQ0FBQztRQUNMLENBQUM7UUFFTyxxQkFBcUI7UUFDN0IsQ0FBQztRQUVELG1FQUFtRTtRQUMzRCx5QkFBeUI7WUFDN0IsSUFBSSxJQUFJLENBQUMsbUJBQW1CLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ25DLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLEVBQUUsQ0FBQztvQkFDN0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzVGLENBQUM7Z0JBQ0QsSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGlCQUFpQixJQUFJLElBQUksRUFBRSxDQUFDO29CQUN2SSxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2dCQUNoRixDQUFDO2dCQUNELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN4RixJQUFJLENBQUMsa0JBQWtCLEdBQUcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDekYsSUFBSSxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQ2pDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUMsQ0FBSSxpQkFBaUI7Z0JBQ3pELENBQUM7Z0JBQ0QsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxFQUFFLENBQUM7b0JBQzdELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUMsQ0FBSSxjQUFjO29CQUNsRCxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLENBQUksY0FBYztnQkFDdEQsQ0FBQztnQkFFRCxtQ0FBbUM7Z0JBQ25DLG1GQUFtRjtnQkFDbkYsbUhBQW1IO2dCQUNuSCwyS0FBMks7Z0JBQzNLLGdFQUFnRTtnQkFDaEUsK0ZBQStGO2dCQUMvRiw0REFBNEQ7Z0JBQzVELDREQUE0RDtnQkFDNUQscUVBQXFFO2dCQUNyRSwyREFBMkQ7Z0JBQzNELDZEQUE2RDtnQkFDN0QsT0FBTztnQkFDUCxHQUFHO2dCQUVILElBQUksSUFBSSxDQUFDLG1CQUFtQixLQUFLLElBQUk7b0JBQUUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztnQkFDdkUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLENBQUMsSUFBSSxDQUFDLG1CQUFtQixLQUFLLEtBQUssSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDL04sSUFBSSxJQUFJLENBQUMsa0JBQWtCLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyx3QkFBd0IsS0FBSyxLQUFLLEVBQUUsQ0FBQztvQkFDOUUsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksQ0FBQztvQkFDckMsSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUM7d0JBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsc0RBQXNEO2dCQUN4SCxDQUFDO2dCQUNELElBQUksSUFBSSxDQUFDLG1CQUFtQixLQUFLLElBQUk7b0JBQUUsSUFBSSxDQUFDLHdCQUF3QixHQUFHLEtBQUssQ0FBQztnQkFDN0UscU9BQXFPO2dCQUNyTyxxQkFBcUI7Z0JBQ3JCLDBCQUEwQjtnQkFDMUIsS0FBSztnQkFDTCx5QkFBeUI7Z0JBQ3pCLEtBQUs7Z0JBQ0wsSUFBSSxJQUFJLENBQUMsY0FBYyxLQUFLLElBQUksRUFBRSxDQUFDO29CQUMvQixJQUFJLENBQUMsNEJBQTRCLEVBQUUsQ0FBQztvQkFDcEMsSUFBSSxDQUFDLCtCQUErQixFQUFFLENBQUM7Z0JBQzNDLENBQUM7Z0JBQ0QsS0FBSztnQkFDTCw2QkFBNkI7Z0JBQzdCLEtBQUs7Z0JBQ0wsNkNBQTZDO2dCQUM3QyxJQUFJLElBQUksQ0FBQyxxQkFBcUIsS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLGVBQWUsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDeEUsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ3BDLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxDQUFDOzRCQUFFLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxDQUFDLENBQUM7d0JBQ3ZILElBQUksSUFBSSxDQUFDLGtCQUFrQixLQUFLLEtBQUssSUFBSSxJQUFJLENBQUMsb0JBQW9CLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxjQUFjLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxFQUFFLENBQUM7NEJBQ3ZLLElBQUksV0FBVyxHQUFVLENBQUMsQ0FBQyxDQUFDOzRCQUM1QixJQUFJLFdBQVcsR0FBVSxDQUFDLENBQUM7NEJBQzNCLElBQUksYUFBYSxHQUFXLEtBQUssQ0FBQzs0QkFDbEMsSUFBSSxXQUFXLEdBQVcsS0FBSyxDQUFDOzRCQUNoQyxJQUFJLFNBQVMsR0FBVSxDQUFDLENBQUM7NEJBQ3pCLElBQUksVUFBVSxHQUFVLENBQUMsQ0FBQzs0QkFDMUIsSUFBSSxZQUFZLEdBQVUsQ0FBQyxDQUFDOzRCQUM1QixNQUFNLFNBQVMsR0FBVSxVQUFVLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDMUUsTUFBTSxZQUFZLEdBQVUsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDN0UsTUFBTSxjQUFjLEdBQVUsVUFBVSxDQUFDLENBQUMsU0FBUyxHQUFHLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUNoRiwwTEFBMEw7NEJBQzFMLElBQUksY0FBYyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLGFBQWEsSUFBSSxjQUFjLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLENBQUM7Z0NBQ3ZJLFdBQVcsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDO2dDQUNqRCxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDO2dDQUM3RCxhQUFhLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDO2dDQUMvRCxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDO2dDQUMzRCxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO2dDQUN2RCxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDO2dDQUN6RCxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDOzRCQUNqRSxDQUFDO2lDQUFNLElBQUksY0FBYyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLGFBQWEsSUFBSSxjQUFjLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLENBQUM7Z0NBQzlJLFdBQVcsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDO2dDQUNqRCxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDO2dDQUM3RCxhQUFhLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDO2dDQUMvRCxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDO2dDQUMzRCxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO2dDQUN2RCxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDO2dDQUN6RCxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDOzRCQUNqRSxDQUFDO2lDQUFNLElBQUksY0FBYyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLGFBQWEsSUFBSSxjQUFjLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLENBQUM7Z0NBQ2hKLFdBQVcsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDO2dDQUNsRCxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDO2dDQUM5RCxhQUFhLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDO2dDQUNoRSxXQUFXLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDO2dDQUM1RCxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDO2dDQUN4RCxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDO2dDQUMxRCxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDOzRCQUNsRSxDQUFDOzRCQUNELElBQUksV0FBVyxJQUFJLENBQUMsRUFBRSxDQUFDO2dDQUNuQixJQUFJLElBQUksQ0FBQyx5QkFBeUIsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLHlCQUF5QixDQUFDLFdBQVcsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO29DQUNqRyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsS0FBSyxDQUFDO29DQUNsQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO29DQUNoQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO29DQUNoQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO29DQUMvQixJQUFJLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztvQ0FDbkQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLFdBQVcsQ0FBQztvQ0FDdkMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGFBQWEsQ0FBQztvQ0FDekMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLFdBQVcsQ0FBQztvQ0FDckMsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsMkJBQTJCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztvQ0FDekYsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsMkJBQTJCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztvQ0FDM0YsSUFBSSxDQUFDLGlCQUFpQixHQUFHLFlBQVksQ0FBQztvQ0FDdEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQztvQ0FDbEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7b0NBQzVCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7Z0NBQ2xDLENBQUM7NEJBQ0wsQ0FBQzt3QkFDTCxDQUFDO3dCQUNELElBQUksSUFBSSxDQUFDLG9CQUFvQixLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBRSxDQUFDOzRCQUMzRCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDOzRCQUMvQixJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzs0QkFDOUMsSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUM7Z0NBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDOzRCQUM3RCxJQUFJLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQztnQ0FBRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7NEJBQ3hGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNuRixDQUFDO3dCQUNELEtBQUs7d0JBQ0wsNEJBQTRCO3dCQUM1QixLQUFLO3dCQUNMLElBQUksSUFBSSxDQUFDLHNCQUFzQixJQUFJLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDOzRCQUM1RSxJQUFJLENBQUMsc0JBQXNCLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFDaEUsQ0FBQzt3QkFDRCxLQUFLO3dCQUNMLGdDQUFnQzt3QkFDaEMsS0FBSzt3QkFDTCxJQUFJLElBQUksQ0FBQyxjQUFjLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFLENBQUM7NEJBQzFELE1BQU0sVUFBVSxHQUFtQixJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQzs0QkFDakUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ3pELE9BQU8sQ0FBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7NEJBQ3BILElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7d0JBQ3pELENBQUM7NkJBQU0sQ0FBQzs0QkFDSixJQUFJLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzs0QkFDbkQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzt3QkFDekQsQ0FBQztvQkFDTCxDQUFDO29CQUNELHdFQUF3RTtnQkFDNUUsQ0FBQztxQkFBTSxDQUFDO29CQUNKLHlFQUF5RTtvQkFDekUseUJBQXlCO29CQUN6QiwyRUFBMkU7b0JBQzNFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyw0QkFBNEIsRUFBRSxDQUFDO2dCQUM1RCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFTyxzQkFBc0I7WUFDMUIsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLEtBQUs7Z0JBQUUsT0FBTztZQUN2QyxzSEFBc0g7WUFDdEgsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUMzQixNQUFNO2dCQUNOLDZCQUE2QjtnQkFDN0IsS0FBSztnQkFDTCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQ3hHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQzdELENBQUM7cUJBQU0sQ0FBQztvQkFDSixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN2RCxDQUFDO2dCQUNELEtBQUs7Z0JBQ0wsK0JBQStCO2dCQUMvQixLQUFLO2dCQUNMLEtBQUssQ0FBQyxTQUFTLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztnQkFDNUcsS0FBSztnQkFDTCwrQkFBK0I7Z0JBQy9CLEtBQUs7Z0JBQ0wsSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLElBQUksRUFBRSxDQUFDO29CQUM3QixPQUFPLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUM5SSxDQUFDO1lBQ0wsQ0FBQztZQUNELElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDeEQsSUFBSSxJQUFJLENBQUMsZUFBZSxJQUFJLENBQUM7b0JBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxHQUFHLENBQUMsQ0FBQywyQkFBMkI7Z0JBQ3RGLElBQUksSUFBSSxDQUFDLGdCQUFnQixLQUFLLElBQUksRUFBRSxDQUFDO29CQUNqQyxLQUFLO29CQUNMLHlCQUF5QjtvQkFDekIsS0FBSztvQkFDTCw0REFBNEQ7b0JBQzVELE1BQU0sVUFBVSxHQUEwQixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQWdDLENBQUM7b0JBQzNGLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7b0JBQzFFLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7b0JBQzdFLEtBQUssQ0FBQyxTQUFTLENBQUMsd0JBQXdCLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO29CQUM5RSxLQUFLLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7b0JBQ2hHLEtBQUs7b0JBQ0wsSUFBSSxPQUFPLEdBQVcsS0FBSyxDQUFDO29CQUM1QixJQUFJLFFBQVEsR0FBVSxDQUFDLENBQUM7b0JBQ3hCLElBQUksSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUksRUFBRSxDQUFDO3dCQUNuQyxzQ0FBc0M7d0JBQ3RDLCtOQUErTjt3QkFDL04sc0lBQXNJO3dCQUN0SSxvRkFBb0Y7d0JBQ3BGLHlCQUF5Qjt3QkFDekIsbUZBQW1GO3dCQUNuRiwrSEFBK0g7d0JBQy9ILDBCQUEwQjt3QkFDMUIsdUJBQXVCO3dCQUN2QixPQUFPO3dCQUNQLEdBQUc7b0JBQ1AsQ0FBQztvQkFDRCxJQUFJLE9BQU8sQ0FBQSxhQUFhLEVBQUUsQ0FBQzt3QkFDdkIsSUFBSSxDQUFDLGNBQWMsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7d0JBQ3JILDhCQUE4Qjt3QkFDOUIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBRSxDQUFDOzRCQUNuTCxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUNwSixDQUFDO29CQUNMLENBQUM7eUJBQU0sQ0FBQzt3QkFDSixJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFLENBQUM7NEJBQzNCLElBQUksS0FBSyxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLENBQUM7Z0NBQzNDLE1BQU0sS0FBSyxHQUFVLEtBQUssQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7Z0NBQ25GLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVztvQ0FDeEIsTUFBTSxZQUFZLEdBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztvQ0FDaEUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLFlBQVksQ0FBQyxDQUFDO2dDQUMzRyxDQUFDO3FDQUFNLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsVUFBVTtvQ0FDOUIsTUFBTSxXQUFXLEdBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztvQ0FDL0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQyxDQUFDO2dDQUM5RyxDQUFDOzRCQUNMLENBQUM7d0JBQ0wsQ0FBQzt3QkFDRCwrQkFBK0I7d0JBQy9CLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQzs0QkFDakssT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7d0JBQzlJLENBQUM7b0JBQ0wsQ0FBQztnQkFDTCxDQUFDO3FCQUFNLENBQUM7b0JBQ0osK0JBQStCO29CQUMvQixJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUM7d0JBQ2pLLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUM5SSxDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7UUFDckMsQ0FBQztRQUNNLHFCQUFxQixLQUFZLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDM0QscUJBQXFCLENBQUMsUUFBZSxJQUFTLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEYsc0JBQXNCLENBQUMsTUFBYSxFQUFFLEtBQVksRUFBRSxvQkFBMEIsSUFBSTtZQUNyRixNQUFNLGNBQWMsR0FBVSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9DLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxDQUFDLGNBQWMsQ0FBQztZQUMzQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO1lBQ2hDLElBQUksaUJBQWlCLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQzdCLE1BQU0sZ0JBQWdCLEdBQVUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzNELElBQUksY0FBYyxHQUFHLGdCQUFnQixFQUFFLENBQUM7b0JBQ3BDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDL0MsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBR08seUJBQXlCO1lBQzdCLElBQUksSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ3RFLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7b0JBQ25ELElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN4SixDQUFDO3FCQUFNLENBQUM7b0JBQ0osSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQztvQkFDaEMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztnQkFDbkMsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRUQseUhBQXlIO1FBQ3pILDJCQUEyQjtRQUMzQix5SEFBeUg7UUFFekg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1VBNENFO1FBRU0sNEJBQTRCO1lBQ2hDLElBQUksT0FBTyxHQUEwQixJQUFJLENBQUM7WUFDMUMsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7WUFDMUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztZQUM3QixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxDQUFDLENBQUM7WUFDM0IsSUFBSSxDQUFDLG9CQUFvQixHQUFHLENBQUMsQ0FBQztZQUM5QixLQUFLO1lBQ0wsNkJBQTZCO1lBQzdCLEtBQUs7WUFDTCxNQUFNLCtCQUErQixHQUFtQixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUN2SCxJQUFJLENBQUMsMEJBQTBCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQy9ELEtBQUssQ0FBQyxTQUFTLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUM7WUFDMUgsS0FBSyxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1lBQ3pJLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUN0RCxLQUFLO1lBQ0wsd01BQXdNO1lBQ3hNLElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLElBQUksSUFBSSxPQUFPLENBQUMsZUFBZSxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDMUgsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDcEYsSUFBSSxRQUFRLEtBQUssSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO29CQUNuQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztvQkFDekIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDO29CQUN2RCxJQUFJLE9BQU8sQ0FBQyxRQUFRLElBQUksSUFBSTt3QkFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDaEYsSUFBSSxPQUFPLENBQUMsU0FBUyxJQUFJLElBQUk7d0JBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBQ25GLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3pKLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO2dCQUNwRCxDQUFDO1lBQ0wsQ0FBQztZQUNELDJCQUEyQjtZQUMzQixJQUFJLElBQUksQ0FBQyxrQkFBa0IsS0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDbkMsSUFBSSxJQUFJLENBQUMsZUFBZSxJQUFJLElBQUk7b0JBQUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzlJLElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLElBQUksRUFBRSxDQUFDO29CQUNoRCxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyx5QkFBeUIsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO2dCQUM1RyxDQUFDO3FCQUFNLENBQUM7b0JBQ0wsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO2dCQUN6SCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFTywrQkFBK0I7WUFDbkMsSUFBSSxPQUFPLEdBQTBCLElBQUksQ0FBQztZQUMxQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUMzQixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO1lBQzlCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLENBQUMsQ0FBQztZQUM1QixJQUFJLENBQUMscUJBQXFCLEdBQUcsQ0FBQyxDQUFDO1lBQy9CLEtBQUs7WUFDTCxpQ0FBaUM7WUFDakMsS0FBSztZQUNMLE1BQU0sOEJBQThCLEdBQW1CLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNuSCxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQzdCLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQy9ELElBQUksQ0FBQywwQkFBMEIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQ2pFLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO2dCQUNuRyx5TUFBeU07WUFDN00sQ0FBQztpQkFBTSxDQUFDO2dCQUNKLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUNuRixLQUFLLENBQUMsU0FBUyxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO2dCQUM1SCxJQUFJLENBQUMsd0JBQXdCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO2dCQUN4RSxJQUFJLENBQUMsd0JBQXdCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO1lBQzdGLENBQUM7WUFDRCxLQUFLO1lBQ0wsSUFBSSxPQUFPLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssSUFBSSxJQUFJLE9BQU8sQ0FBQyxlQUFlLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxlQUFlLENBQUMsTUFBTSxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUMxSCxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNwRixJQUFJLFFBQVEsS0FBSyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBQ25DLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO29CQUMxQixJQUFJLENBQUMsaUJBQWlCLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUM7b0JBQ3hELElBQUksT0FBTyxDQUFDLFFBQVEsSUFBSSxJQUFJO3dCQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUNqRixJQUFJLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSTt3QkFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztvQkFDcEYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLENBQUMsSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDNUosSUFBSSxDQUFDLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUM7Z0JBQ3JELENBQUM7WUFDTCxDQUFDO1lBQ0QsK0JBQStCO1lBQy9CLElBQUksSUFBSSxDQUFDLGtCQUFrQixLQUFLLElBQUksRUFBRSxDQUFDO2dCQUNuQyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJO29CQUFFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyx3QkFBd0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ25KLElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLElBQUksRUFBRSxDQUFDO29CQUNqRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLDBCQUEwQixFQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7Z0JBQzlHLENBQUM7cUJBQU0sQ0FBQztvQkFDTCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztnQkFDNUgsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRUQseUhBQXlIO1FBQ3pILDRCQUE0QjtRQUM1Qix5SEFBeUg7UUFFakgsMEJBQTBCO1lBQzlCLE1BQU0sZUFBZSxHQUFVLENBQUMsSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZILE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxJQUFJLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxSCxDQUFDO1FBQ08sdUJBQXVCO1lBQzNCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBQ3hCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1lBQzNCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7WUFDaEMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ25DLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUM7WUFDbEMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3BDLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUM7WUFDbkMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3BDLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUM7UUFDdkMsQ0FBQztRQUNPLDRCQUE0QjtZQUNoQyxJQUFJLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDcEMsSUFBSSxDQUFDLG9CQUFvQixHQUFHO29CQUN4QixhQUFhLEVBQUUsV0FBVztvQkFDMUIsY0FBYyxFQUFFLFdBQVc7b0JBQzNCLGVBQWUsRUFBRSxZQUFZO29CQUM3QixhQUFhLEVBQUUsVUFBVTtvQkFDekIsV0FBVyxFQUFFLFFBQVE7b0JBQ3JCLFdBQVcsRUFBRSxRQUFRO29CQUNyQixXQUFXLEVBQUUsUUFBUTtvQkFDckIsVUFBVSxFQUFFLE9BQU87b0JBQ25CLFNBQVMsRUFBRSxRQUFRO29CQUNuQixTQUFTLEVBQUUsTUFBTTtvQkFDakIsV0FBVyxFQUFFLFFBQVE7b0JBQ3JCLFlBQVksRUFBRSxVQUFVO29CQUN4QixZQUFZLEVBQUUsU0FBUztvQkFDdkIsYUFBYSxFQUFFLFVBQVU7aUJBQzVCLENBQUM7WUFDTixDQUFDO1FBQ0wsQ0FBQzs7SUF0akRhLGlEQUFxQixHQUFVLElBQUksQUFBZCxDQUFlO0lBQ3BDLCtDQUFtQixHQUFVLElBQUksQUFBZCxDQUFlO0lBQ2xDLDRDQUFnQixHQUFVLEtBQUssQUFBZixDQUFnQjtJQUNoQyw0Q0FBZ0IsR0FBVSxDQUFDLEFBQVgsQ0FBWTtJQUM1QiwyQ0FBZSxHQUFVLENBQUMsQUFBWCxDQUFZO0lBQzNCLHlDQUFhLEdBQVUsY0FBYyxBQUF4QixDQUF5QjtJQU4zQyxtQ0FBMkIsOEJBd2pEdkMsQ0FBQTtJQUNEOzs7TUFHRTtJQUNELElBQVksa0JBR1o7SUFIQSxXQUFZLGtCQUFrQjtRQUMzQix1RkFBc0IsQ0FBQTtRQUN0Qix1RkFBc0IsQ0FBQTtJQUMxQixDQUFDLEVBSFksa0JBQWtCLEdBQWxCLDBCQUFrQixLQUFsQiwwQkFBa0IsUUFHOUI7QUFDTCxDQUFDLEVBdGtETSxPQUFPLEtBQVAsT0FBTyxRQXNrRGI7QUN0a0RELElBQU8sT0FBTyxDQXlEYjtBQXpERCxXQUFPLE9BQU87SUFDVjs7O01BR0U7SUFDRixNQUFhLGdCQUFpQixTQUFRLEtBQUssQ0FBQyxlQUFlO1FBQTNEOztZQUljLHNCQUFpQixHQUF3QixJQUFJLENBQUM7WUFDOUMscUJBQWdCLEdBQXNELElBQUksQ0FBQztRQThDekYsQ0FBQztRQWxEVSxrQkFBa0IsS0FBMEIsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1FBQzVFLGlCQUFpQixLQUF3RCxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7UUFJckcsS0FBSztZQUNYLE1BQU0sT0FBTyxHQUFVLEtBQUssQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqRSxNQUFNLFNBQVMsR0FBVSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMxRCxNQUFNLFlBQVksR0FBVSxJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDckUsTUFBTSxXQUFXLEdBQVcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDbkUsTUFBTSxlQUFlLEdBQXVCLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUNoRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ2hELElBQUksSUFBSSxDQUFDLGlCQUFpQixJQUFJLElBQUksRUFBRSxDQUFDO2dCQUNqQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsVUFBVSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDckgsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUMvQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMzQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztnQkFDekMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7Z0JBQzFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdEYsQ0FBQztZQUNELElBQUksWUFBWSxJQUFJLElBQUksSUFBSSxZQUFZLEtBQUssRUFBRSxFQUFFLENBQUM7Z0JBQzlDLE1BQU0sWUFBWSxHQUFVLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQ3RELElBQUksWUFBWSxJQUFJLElBQUksSUFBSSxZQUFZLEtBQUssRUFBRSxFQUFFLENBQUM7b0JBQzlDLE1BQU0sY0FBYyxHQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQ3BELElBQUksY0FBYyxJQUFJLElBQUksRUFBRSxDQUFDO3dCQUN6QixJQUFJLGNBQWMsQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLGVBQWUsSUFBSSxJQUFJLEVBQUcsQ0FBQzs0QkFDN0QsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDLGdEQUFnRDs0QkFDeEcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFFLGdEQUFnRDt3QkFDNUcsQ0FBQzt3QkFDRCxJQUFJLFNBQVMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFFLHNCQUFzQjs0QkFDMUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7d0JBQ2pHLENBQUM7NkJBQU0sQ0FBQyxDQUFnQixzQkFBc0I7NEJBQzFDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQzt3QkFDOUYsQ0FBQzt3QkFDRCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDaEMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSTtnQ0FBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQzs0QkFDM0YsSUFBSSxXQUFXLEtBQUssS0FBSztnQ0FBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLENBQUM7d0JBQzVELENBQUM7b0JBQ0wsQ0FBQztnQkFDTCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFUyxPQUFPO1lBQ2IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztZQUM5QixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDaEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNoQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1lBQ2pDLENBQUM7UUFDTCxDQUFDO0tBQ0o7SUFuRFksd0JBQWdCLG1CQW1ENUIsQ0FBQTtBQUNMLENBQUMsRUF6RE0sT0FBTyxLQUFQLE9BQU8sUUF5RGI7QUN6REQsSUFBTyxPQUFPLENBb0liO0FBcElELFdBQU8sT0FBTztJQUNWOzs7T0FHRztJQUNILE1BQWEsaUJBQWtCLFNBQVEsS0FBSyxDQUFDLGVBQWU7UUFBNUQ7O1lBQ1ksV0FBTSxHQUFXLEtBQUssQ0FBQztZQUN2QixZQUFPLEdBQVUsSUFBSSxDQUFDO1lBQ3RCLGNBQVMsR0FBVSxHQUFHLENBQUM7WUFDdkIsZ0JBQVcsR0FBVyxLQUFLLENBQUM7WUFDNUIsaUJBQVksR0FBVSxDQUFDLENBQUM7WUFDeEIsaUJBQVksR0FBa0IsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFZdEQsaUJBQVksR0FBZ0IsSUFBSSxDQUFDO1lBQ2pDLGtCQUFhLEdBQXVCLElBQUksQ0FBQztZQUN6QyxtQkFBYyxHQUEyQixJQUFJLENBQUM7UUEwRzVELENBQUM7UUF2SFUsYUFBYSxLQUEwQixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLGNBQWMsS0FBeUIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztRQUNuRSxrQkFBa0IsS0FBNkIsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztRQUV6RSxLQUFLLEtBQVcsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdDLEtBQUssS0FBNEMsQ0FBQztRQUNsRCxNQUFNLEtBQTZDLENBQUM7UUFDcEQsSUFBSSxLQUFrRCxDQUFDO1FBQ3ZELEtBQUssS0FBNEMsQ0FBQztRQUNsRCxPQUFPLEtBQVcsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBS2pELG1CQUFtQjtZQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6RCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxLQUFLO1lBQ0wsTUFBTSxTQUFTLEdBQXFCLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDbEUsSUFBSSxTQUFTLElBQUksSUFBSTtnQkFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2xGLEtBQUs7WUFDTCxJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDeEcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFDMUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUN6QyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsb0JBQW9CLEtBQUssSUFBSTtnQkFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDaEYsZ0NBQWdDO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLGNBQWMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDL0YsSUFBSSxDQUFDLGFBQWEsQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO1lBQzNDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDM0M7O2VBRUc7WUFDSCxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzNGOztjQUVFO1lBQ0YsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMzRjs7ZUFFRztZQUNILElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDeEY7O2VBRUc7WUFDSCxJQUFJLENBQUMsYUFBYSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDMUc7O2VBRUc7WUFDSCxJQUFJLENBQUMsYUFBYSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDN0c7O2VBRUc7WUFDSCxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3hGOzs7ZUFHRztZQUNILElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDakc7OztlQUdHO1lBQ0gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNyRjs7O2VBR0c7WUFDSCxNQUFNLGFBQWEsR0FBdUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMzRSxJQUFJLGFBQWEsSUFBSSxJQUFJO2dCQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3pHOzs7ZUFHRztZQUNILElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMxRyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNoRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQ2hELElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDekcsQ0FBQztZQUNMLENBQUM7WUFDRCxxQ0FBcUM7WUFDckMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUNoRCw2Q0FBNkM7WUFDN0MsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUM1QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksT0FBTyxDQUFDLGVBQWUsQ0FBQyx3QkFBd0IsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDeEcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDdkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDckUsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQztnQkFDaEUsSUFBSSxDQUFDLEtBQUssQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ3hELENBQUM7UUFDTCxDQUFDO1FBQ1MscUJBQXFCO1lBQzNCLElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7WUFDN0IsQ0FBQztZQUNELElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7WUFDL0IsQ0FBQztZQUNELElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7WUFDOUIsQ0FBQztRQUNMLENBQUM7UUFDRCwyREFBMkQ7UUFDcEQsa0JBQWtCLENBQUMsS0FBb0I7WUFDMUMsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUN6RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUM7Z0JBQ25DLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDaEQsQ0FBQztZQUNELElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7UUFDN0MsQ0FBQztLQUNKO0lBOUhZLHlCQUFpQixvQkE4SDdCLENBQUE7QUFDTCxDQUFDLEVBcElNLE9BQU8sS0FBUCxPQUFPLFFBb0liO0FDcElELElBQU8sT0FBTyxDQXFIYjtBQXJIRCxXQUFPLE9BQU87SUFDVjs7O09BR0c7SUFDSCxNQUFhLG1CQUFvQixTQUFRLEtBQUssQ0FBQyxlQUFlO1FBQTlEOztZQUNZLGFBQVEsR0FBVSxPQUFPLENBQUM7WUFDMUIsZUFBVSxHQUFtQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzNELGVBQVUsR0FBbUIsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMzRCxnQkFBVyxHQUFVLEdBQUcsQ0FBQztZQUN6QixrQkFBYSxHQUFXLElBQUksQ0FBQztZQUM3QixpQkFBWSxHQUFVLEVBQUUsQ0FBQztZQUN6QixpQkFBWSxHQUFVLEdBQUcsQ0FBQztZQUMxQixrQkFBYSxHQUFvQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzNELGNBQVMsR0FBVyxDQUFDLENBQUM7WUFDdEIsY0FBUyxHQUFXLEdBQUcsQ0FBQztZQUN4QixlQUFVLEdBQVcsR0FBRyxDQUFDO1lBQ3pCLGVBQVUsR0FBVyxHQUFHLENBQUM7WUFDekIsZUFBVSxHQUFXLEdBQUcsQ0FBQztZQUd6QixlQUFVLEdBQW1CLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQy9ELHFCQUFnQixHQUFXLEdBQUcsQ0FBQztZQUMvQixnQkFBVyxHQUFtQixJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNoRSxzQkFBaUIsR0FBVyxHQUFHLENBQUM7WUFDaEMscUJBQWdCLEdBQVksS0FBSyxDQUFDO1lBSWhDLG9CQUFlLEdBQXdCLElBQUksQ0FBQztZQUM1QyxvQkFBZSxHQUF5QixJQUFJLENBQUM7UUFzRjNELENBQUM7UUF6RlUsZ0JBQWdCLEtBQTBCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7UUFDeEUsZ0JBQWdCLEtBQTJCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7UUFHdEUsS0FBSztZQUNYLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzVELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3hFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3hFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzNFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDakYsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDbkcsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNqRixLQUFLO1lBQ0wsTUFBTSxPQUFPLEdBQXFCLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDakUsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN2RCxLQUFLO1lBQ0wsTUFBTSxPQUFPLEdBQXFCLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN4RCxLQUFLO1lBQ0wsTUFBTSxVQUFVLEdBQXdCLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDMUUsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM5RCxLQUFLO1lBQ0wsTUFBTSxXQUFXLEdBQXdCLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDeEUsSUFBSSxXQUFXLElBQUksSUFBSTtnQkFBRSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3JGLGFBQWE7WUFDYixNQUFNLFdBQVcsR0FBd0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLFdBQVcsSUFBSSxJQUFJO2dCQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDckYsOEJBQThCO1lBQzlCLElBQUksV0FBVyxHQUFtQixJQUFJLENBQUM7WUFDdkMsTUFBTSxlQUFlLEdBQXVCLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDNUUsSUFBSSxlQUFlLElBQUksSUFBSTtnQkFBRSxXQUFXLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNyRyxJQUFJLFdBQVcsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUM5RyxJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7Z0JBQy9DLElBQUksQ0FBQyxlQUFlLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7Z0JBQ3hELElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQ2xELElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQ2xELElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQ2xELElBQUksQ0FBQyxlQUFlLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUM7Z0JBQzVELElBQUksQ0FBQyxlQUFlLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDO2dCQUN4RSxJQUFJLENBQUMsZUFBZSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO2dCQUNsRCxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztnQkFDOUQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztnQkFDcEQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUM7Z0JBQ2hFLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDO2dCQUM5RCxJQUFJLENBQUMsZUFBZSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO2dCQUM1RCxLQUFLO2dCQUNMLHNCQUFzQjtnQkFDdEIsS0FBSztnQkFDTCxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQzlCLE1BQU0sVUFBVSxHQUF3QixLQUFLLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDeEYsSUFBSSxVQUFVLElBQUksSUFBSTt3QkFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDN0UsQ0FBQztnQkFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssRUFBRSxFQUFFLENBQUM7b0JBQ2hELE1BQU0sV0FBVyxHQUEwQixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ3JGLElBQUksV0FBVyxJQUFJLElBQUksSUFBSSxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO3dCQUNoRCxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBeUIsRUFBRSxFQUFFOzRCQUM5QyxJQUFJLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDL0MsQ0FBQyxDQUFDLENBQUM7b0JBQ1AsQ0FBQztnQkFDTCxDQUFDO2dCQUNELEtBQUs7Z0JBQ0wsc0JBQXNCO2dCQUN0QixLQUFLO2dCQUNMLElBQUksQ0FBQyxlQUFlLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsWUFBWSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNwTixJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUM3QyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzNELElBQUksSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDO29CQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUM3RSxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1lBQ3pELENBQUM7aUJBQU0sQ0FBQztnQkFDSixLQUFLLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyx1Q0FBdUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pHLENBQUM7UUFDTCxDQUFDO1FBQ1MsS0FBSyxLQUE0QyxDQUFDO1FBQ2xELE1BQU0sS0FBNkMsQ0FBQztRQUNwRCxJQUFJLEtBQWtELENBQUM7UUFDdkQsS0FBSyxLQUE0QyxDQUFDO1FBQ2xELE9BQU8sS0FBNEMsQ0FBQztLQUNqRTtJQS9HWSwyQkFBbUIsc0JBK0cvQixDQUFBO0FBQ0wsQ0FBQyxFQXJITSxPQUFPLEtBQVAsT0FBTyxRQXFIYjtBQ3JIRCxJQUFPLE9BQU8sQ0FpS2I7QUFqS0QsV0FBTyxPQUFPO0lBQ1Y7OztPQUdHO0lBQ0gsTUFBYSxlQUFlO1FBQ3hCLHdFQUF3RTtRQUNqRSxNQUFNLENBQUMsc0JBQXNCLENBQUMsYUFBa0MsSUFBSSxFQUFFLFNBQTRCLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRztZQUMzSCxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztnQkFDbEMsSUFBSSxJQUFJLEdBQWdELENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLHFCQUFxQixDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ25NLE9BQU8sQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLENBQUM7WUFDckQsQ0FBQztpQkFBTSxDQUFDO2dCQUNKLE9BQU8sS0FBSyxDQUFDO1lBQ2pCLENBQUM7UUFDTCxDQUFDO1FBQ0QsK0VBQStFO1FBQ3hFLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxTQUE0QixLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxVQUEwRSxFQUFFLE9BQThCLEVBQUUsVUFBb0M7WUFDak8sSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7Z0JBQ2xDLE9BQU8sQ0FBQyxlQUFlLENBQUMsd0JBQXdCLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBa0QsRUFBRSxFQUFFO29CQUM1RyxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO3dCQUN2RixPQUFPLENBQUMsZUFBZSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sRUFBRSxDQUFDLE1BQW1ELEVBQUUsRUFBRTs0QkFDN0csSUFBSSxVQUFVO2dDQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDdkMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztvQkFDNUIsQ0FBQzt5QkFBTSxDQUFDO3dCQUNKLElBQUksVUFBVTs0QkFBRSxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3RDLENBQUM7Z0JBQ0wsQ0FBQyxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztZQUM1QixDQUFDO1FBQ0wsQ0FBQztRQUNELDRFQUE0RTtRQUNyRSxNQUFNLENBQUMsd0JBQXdCLENBQUMsU0FBNEIsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsVUFBMEUsRUFBRSxPQUE4QixFQUFFLFVBQW9DO1lBQ3ZPLE9BQU8sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDdEssQ0FBQztRQUNELDRFQUE0RTtRQUNyRSxNQUFNLENBQUMsd0JBQXdCLENBQUMsU0FBNEIsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsVUFBMEUsRUFBRSxPQUE4QixFQUFFLFVBQW9DO1lBQ3ZPLE9BQU8sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzlKLENBQUM7UUFDRCw2RUFBNkU7UUFDdEUsTUFBTSxDQUFDLHVCQUF1QixDQUFDLFNBQTRCLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLFVBQTZFLEVBQUUsT0FBOEIsRUFBRSxVQUFvQztZQUN6TyxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLHNCQUFzQixDQUFDLE1BQU0sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2xQLENBQUM7UUFFRCw0Q0FBNEM7UUFDNUMsNENBQTRDO1FBQzVDLDRDQUE0QztRQUU1QyxpRUFBaUU7UUFDMUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxTQUE0QixLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUc7WUFDNUUsSUFBSSxJQUFJLEdBQWdELElBQUksQ0FBQztZQUM3RCxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztnQkFDbEMsUUFBUSxNQUFNLEVBQUUsQ0FBQztvQkFDYixLQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRzt3QkFDdkIsSUFBSSxHQUFTLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO3dCQUN6RSxNQUFNO29CQUNWLEtBQUssS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHO3dCQUN2QixJQUFJLEdBQVMsTUFBTyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGtCQUFrQixFQUFFLENBQUM7d0JBQ3pFLE1BQU07b0JBQ1YsS0FBSyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUs7d0JBQ3pCLElBQUksR0FBUyxNQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsQ0FBQzt3QkFDM0UsTUFBTTtvQkFDVixLQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSTt3QkFDeEIsSUFBSSxHQUFTLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO3dCQUMxRSxNQUFNO2dCQUNmLENBQUM7WUFDSixDQUFDO1lBQ0QsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUNELGlFQUFpRTtRQUMxRCxNQUFNLENBQUMscUJBQXFCLENBQUMsVUFBK0IsRUFBRSxTQUE0QixLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUc7WUFDbkgsSUFBSSxJQUFJLEdBQWdELElBQUksQ0FBQztZQUM3RCxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztnQkFDbEMsUUFBUSxNQUFNLEVBQUUsQ0FBQztvQkFDYixLQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRzt3QkFDdkIsSUFBSSxHQUFTLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDekYsTUFBTTtvQkFDVixLQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRzt3QkFDdkIsSUFBSSxHQUFTLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDekYsTUFBTTtvQkFDVixLQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSzt3QkFDekIsSUFBSSxHQUFTLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDM0YsTUFBTTtvQkFDVixLQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSTt3QkFDeEIsSUFBSSxHQUFTLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDMUYsTUFBTTtnQkFDZixDQUFDO1lBQ0osQ0FBQztZQUNELE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFDRCx5RUFBeUU7UUFDbEUsTUFBTSxDQUFDLHNCQUFzQixDQUFDLFNBQTRCLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRztZQUNuRixJQUFJLE9BQU8sR0FBNEMsSUFBSSxDQUFDO1lBQzVELElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDO2dCQUNsQyxRQUFRLE1BQU0sRUFBRSxDQUFDO29CQUNiLEtBQUssS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHO3dCQUN2QixPQUFPLEdBQVMsTUFBTyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLHFCQUFxQixFQUFFLENBQUM7d0JBQy9FLE1BQU07b0JBQ1YsS0FBSyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUc7d0JBQ3ZCLE9BQU8sR0FBUyxNQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMscUJBQXFCLEVBQUUsQ0FBQzt3QkFDL0UsTUFBTTtvQkFDVixLQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSzt3QkFDekIsT0FBTyxHQUFTLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO3dCQUNqRixNQUFNO29CQUNWLEtBQUssS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJO3dCQUN4QixPQUFPLEdBQVMsTUFBTyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLHNCQUFzQixFQUFFLENBQUM7d0JBQ2hGLE1BQU07Z0JBQ2YsQ0FBQztZQUNKLENBQUM7WUFDRCxPQUFPLE9BQU8sQ0FBQztRQUNuQixDQUFDO1FBQ0QsNEVBQTRFO1FBQ3JFLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxTQUE0QixLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUc7WUFDckYsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7Z0JBQ2xDLFFBQVEsTUFBTSxFQUFFLENBQUM7b0JBQ2IsS0FBSyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUc7d0JBQ2pCLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQywyQkFBMkIsRUFBRSxDQUFBO3dCQUMxRSxNQUFNO29CQUNWLEtBQUssS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHO3dCQUNqQixNQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsMkJBQTJCLEVBQUUsQ0FBQTt3QkFDMUUsTUFBTTtvQkFDVixLQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSzt3QkFDbkIsTUFBTyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLDZCQUE2QixFQUFFLENBQUE7d0JBQzVFLE1BQU07b0JBQ1YsS0FBSyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUk7d0JBQ2xCLE1BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRSxDQUFBO3dCQUMzRSxNQUFNO2dCQUNkLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUVELDZDQUE2QztRQUM3Qyw2Q0FBNkM7UUFDN0MsNkNBQTZDO1FBRTdDLDZFQUE2RTtRQUN0RSxNQUFNLENBQUMsMEJBQTBCLENBQUMsSUFBUTtZQUM3QyxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBTyxNQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsMEJBQTBCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNwSSxDQUFDO1FBQ0QsNkVBQTZFO1FBQ3RFLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQyxJQUFTLEVBQUUsUUFBYTtZQUM3RCxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztnQkFDNUIsTUFBTyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLDBCQUEwQixDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztZQUM1RixDQUFDO1FBQ0wsQ0FBQztRQUNELG9GQUFvRjtRQUM3RSxNQUFNLENBQUMsNkJBQTZCO1lBQ3ZDLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDO2dCQUM1QixNQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsNkJBQTZCLEVBQUUsQ0FBQTtZQUNoRixDQUFDO1FBQ0wsQ0FBQztRQUVELDhDQUE4QztRQUM5Qyw4Q0FBOEM7UUFDOUMsOENBQThDO1FBRTlDLDJEQUEyRDtRQUNwRCxNQUFNLENBQUMseUJBQXlCLENBQUMsVUFBc0YsSUFBSTtZQUM5SCxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztnQkFDNUIsTUFBTyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUM7WUFDekUsQ0FBQztRQUNMLENBQUM7S0FDSjtJQTNKWSx1QkFBZSxrQkEySjNCLENBQUE7QUFDTCxDQUFDLEVBaktNLE9BQU8sS0FBUCxPQUFPLFFBaUtiO0FDaktELElBQU8sT0FBTyxDQW1IYjtBQW5IRCxXQUFPLE9BQU87SUFDVjs7O01BR0U7SUFDRixNQUFhLFNBQVUsU0FBUSxLQUFLLENBQUMsZUFBZTtRQUFwRDs7WUFzQlksZ0JBQVcsR0FBVSxDQUFDLENBQUM7WUFDdkIsZ0JBQVcsR0FBd0IsSUFBSSxDQUFDO1lBQ3hDLGtCQUFhLEdBQXdCLElBQUksQ0FBQztRQXFGdEQsQ0FBQztRQW5GYSxLQUFLO1lBQ1gsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUM7Z0JBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDcEUsQ0FBQztRQUVTLE9BQU87WUFDYixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUM1QixDQUFDO1FBRU0sY0FBYyxDQUFDLGFBQW9CO1lBQ3RDLElBQUksZUFBZSxHQUFVLElBQUksQ0FBQztZQUNsQyxNQUFNLGNBQWMsR0FBVSxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLGFBQWEsR0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDN0UsUUFBUSxjQUFjLEVBQUUsQ0FBQztnQkFDckIsS0FBSyxDQUFDO29CQUNGLGVBQWUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQztvQkFDcEQsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsZUFBZSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO29CQUNwRCxNQUFNO2dCQUNWLEtBQUssQ0FBQztvQkFDRixlQUFlLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUM7b0JBQ3BELE1BQU07Z0JBQ1YsS0FBSyxDQUFDO29CQUNGLGVBQWUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQztvQkFDcEQsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsZUFBZSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO29CQUNwRCxNQUFNO2dCQUNWLEtBQUssQ0FBQztvQkFDRixlQUFlLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUM7b0JBQ3BELE1BQU07Z0JBQ1YsS0FBSyxDQUFDO29CQUNGLGVBQWUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQztvQkFDcEQsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsZUFBZSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO29CQUNwRCxNQUFNO2dCQUNWLEtBQUssQ0FBQztvQkFDRixlQUFlLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUM7b0JBQ3BELE1BQU07Z0JBQ1YsS0FBSyxDQUFDO29CQUNGLGVBQWUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQztvQkFDcEQsTUFBTTtnQkFDVixLQUFLLEVBQUU7b0JBQ0gsZUFBZSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO29CQUNwRCxNQUFNO2dCQUNWLEtBQUssRUFBRTtvQkFDSCxlQUFlLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUM7b0JBQ3BELE1BQU07Z0JBQ1YsS0FBSyxFQUFFO29CQUNILGVBQWUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQztvQkFDcEQsTUFBTTtnQkFDVixLQUFLLEVBQUU7b0JBQ0gsZUFBZSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO29CQUNwRCxNQUFNO2dCQUNWLEtBQUssRUFBRTtvQkFDSCxlQUFlLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUM7b0JBQ3BELE1BQU07Z0JBQ1YsS0FBSyxFQUFFO29CQUNILGVBQWUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQztvQkFDcEQsTUFBTTtnQkFDVixLQUFLLEVBQUU7b0JBQ0gsZUFBZSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO29CQUNwRCxNQUFNO2dCQUNWLEtBQUssRUFBRTtvQkFDSCxlQUFlLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUM7b0JBQ3BELE1BQU07Z0JBQ1YsS0FBSyxFQUFFO29CQUNILGVBQWUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQztvQkFDcEQsTUFBTTtnQkFDVixLQUFLLEVBQUU7b0JBQ0gsZUFBZSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO29CQUNwRCxNQUFNO1lBRWQsQ0FBQztZQUNELElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLElBQUksZUFBZSxJQUFJLElBQUksSUFBSSxlQUFlLEtBQUssRUFBRSxFQUFFLENBQUM7Z0JBQ2hGLE1BQU0sUUFBUSxHQUFvQixJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDdEYsSUFBSSxRQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsWUFBWSxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQzlELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztnQkFDekMsQ0FBQztxQkFBTSxDQUFDO29CQUNKLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHNDQUFzQyxHQUFHLGVBQWUsQ0FBQyxDQUFDO2dCQUNqRixDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7O0lBM0dhLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBQ3BDLHlCQUFlLEdBQUcsaUJBQWlCLEFBQXBCLENBQXFCO0lBcEJ6QyxpQkFBUyxZQTZHckIsQ0FBQTtBQUNMLENBQUMsRUFuSE0sT0FBTyxLQUFQLE9BQU8sUUFtSGI7QUNuSEQsSUFBTyxPQUFPLENBd0NiO0FBeENELFdBQU8sT0FBTztJQUNWOzs7TUFHRTtJQUNGLE1BQWEsU0FBVSxTQUFRLEtBQUssQ0FBQyxlQUFlO1FBQ2hELHNEQUFzRDtRQUU1QyxLQUFLO1lBQ1gsNkJBQTZCO1FBQ2pDLENBQUM7UUFFUyxLQUFLO1lBQ1gsOEJBQThCO1FBQ2xDLENBQUM7UUFFUyxLQUFLO1lBQ1gsZ0NBQWdDO1FBQ3BDLENBQUM7UUFFUyxNQUFNO1lBQ1osaUNBQWlDO1FBQ3JDLENBQUM7UUFFUyxJQUFJO1lBQ1Ysc0NBQXNDO1FBQzFDLENBQUM7UUFFUyxLQUFLO1lBQ1gsdUNBQXVDO1FBQzNDLENBQUM7UUFFUyxLQUFLO1lBQ1gsaUNBQWlDO1FBQ3JDLENBQUM7UUFFUyxPQUFPO1lBQ2IsZ0NBQWdDO1FBQ3BDLENBQUM7S0FDSjtJQWxDWSxpQkFBUyxZQWtDckIsQ0FBQTtBQUNMLENBQUMsRUF4Q00sT0FBTyxLQUFQLE9BQU8sUUF3Q2I7QUN4Q0QsSUFBTyxPQUFPLENBZ2ViO0FBaGVELFdBQU8sT0FBTztJQUNWOzs7TUFHRTtJQUNGLE1BQWEsaUJBQWtCLFNBQVEsS0FBSyxDQUFDLGVBQWU7UUFFakQsTUFBTSxLQUFLLFFBQVEsS0FBSyxPQUFPLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO1FBbUMzRSxnQkFBZ0IsQ0FBQyxlQUFzQixDQUFDLEVBQUUsY0FBcUIsRUFBRSxJQUFTLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJO1lBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFlBQVksRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakssa0JBQWtCLEtBQVUsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUk7WUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN6RixvQkFBb0IsS0FBVSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSTtZQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQy9GLHFCQUFxQixLQUEyQixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7UUFFeEYsWUFBWSxTQUFnQyxFQUFFLEtBQW9CLEVBQUUsVUFBZ0I7WUFDaEYsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFwQ2hDLGVBQVUsR0FBVSxDQUFDLENBQUM7WUFDdEIsYUFBUSxHQUFVLEVBQUUsQ0FBQztZQUNyQixVQUFLLEdBQVUsQ0FBQyxDQUFDO1lBQ2pCLFVBQUssR0FBVSxDQUFDLENBQUM7WUFDakIsV0FBTSxHQUEyQixJQUFJLENBQUM7WUFDdEMsWUFBTyxHQUEyQixJQUFJLENBQUM7WUFDdkMsV0FBTSxHQUF5QixJQUFJLENBQUM7WUFDcEMsV0FBTSxHQUFzQixJQUFJLENBQUM7WUFDakMsU0FBSSxHQUFrQixJQUFJLENBQUM7WUFFM0IsZUFBVSxHQUF3QixJQUFJLENBQUM7WUFDdkMsZ0JBQVcsR0FBd0IsSUFBSSxDQUFDO1lBRXhDLGlCQUFZLEdBQVUsQ0FBQyxDQUFDLENBQUM7WUFDekIsaUJBQVksR0FBVSxDQUFDLENBQUMsQ0FBQztZQUN6QixrQkFBYSxHQUFVLENBQUMsQ0FBQyxDQUFDO1lBQzFCLG9CQUFlLEdBQVcsSUFBSSxDQUFDO1lBQy9CLHNCQUFpQixHQUFXLEtBQUssQ0FBQztZQUNsQyxrQkFBYSxHQUErQixJQUFJLENBQUM7WUFDakQsbUJBQWMsR0FBNEIsSUFBSSxDQUFDO1lBQy9DLHVCQUFrQixHQUF5QixJQUFJLENBQUM7WUFDaEQsd0JBQW1CLEdBQXlCLElBQUksQ0FBQztZQUNqRCx3QkFBbUIsR0FBeUIsSUFBSSxDQUFDO1lBRWpELHlCQUFvQixHQUFtQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUNsRSx5QkFBb0IsR0FBbUIsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEUsMkJBQXNCLEdBQW1CLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BFLDJCQUFzQixHQUFzQixJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFFN0UscUJBQWdCLEdBQVcsSUFBSSxDQUFDO1lBK0MvQixnQkFBVyxHQUFVLENBQUMsQ0FBQztZQUN2QixpQkFBWSxHQUFVLENBQUMsQ0FBQztZQXhDNUIsT0FBTyxDQUFDLGlCQUFpQixDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7UUFDckQsQ0FBQztRQUVTLEtBQUs7WUFDWCxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDM0IsQ0FBQztRQUVTLE1BQU07WUFDWixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUM1QixDQUFDO1FBRVMsSUFBSTtZQUNWLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ2hDLENBQUM7UUFFUyxPQUFPO1lBQ2IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7WUFDcEIsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUM3QixJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUM3QixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztZQUM5QixDQUFDO1lBQ0QsSUFBSSxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUM5QixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUM5QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztZQUMvQixDQUFDO1FBQ0wsQ0FBQztRQUVTLGVBQWU7WUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQztZQUNwQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUNsQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1lBQ3pFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDMUIsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDaEMsQ0FBQztRQU9TLGtCQUFrQjtZQUN4QixNQUFNLE1BQU0sR0FBcUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQzdFLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJO2dCQUFFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxPQUFPLENBQUMsbUJBQW1CLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxzQkFBc0IsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQztZQUMvTixJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO1lBQzdELElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUM7WUFDN0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDbEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUM5QyxJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDeEQsMkdBQTJHO1lBQzNHLDRFQUE0RTtZQUM1RSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUU7Z0JBQy9DLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QyxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDMUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBQyxDQUFDLENBQUM7Z0JBQ2hGLDJHQUEyRztnQkFDM0csNEVBQTRFO1lBQ2hGLENBQUMsQ0FBQyxDQUFDO1lBQ0gsS0FBSztZQUNMLHlCQUF5QjtZQUN6QixLQUFLO1lBQ0wsSUFBSSxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUk7Z0JBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDckgsSUFBSSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO1lBQzNDLElBQUksQ0FBQyxjQUFjLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7WUFDekQsS0FBSztZQUNMLDBCQUEwQjtZQUMxQixLQUFLO1lBQ0wsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDbEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUE0QixFQUFFLEVBQUU7b0JBQ2xELElBQUksTUFBTSxZQUFZLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQzt3QkFDekMsTUFBTSxTQUFTLEdBQVcsQ0FBQyxNQUFNLFlBQVksT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO3dCQUNwRSxJQUFJLFNBQVMsS0FBSyxLQUFLOzRCQUFFLE1BQU0sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztvQkFDbkUsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7UUFDTCxDQUFDO1FBRVMsZ0JBQWdCO1lBQ3RCLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7Z0JBQ3JDLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7b0JBQzlCLElBQUksSUFBSSxDQUFDLGdCQUFnQixLQUFLLElBQUksRUFBRSxDQUFDO3dCQUNqQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztvQkFDaEMsQ0FBQzt5QkFBTSxDQUFDO3dCQUNKLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNuQixDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUVTLGtCQUFrQixDQUFDLGNBQXFCLENBQUM7WUFDL0MsSUFBSSxXQUFXLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxXQUFXLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDLENBQUM7Z0JBQzlNLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDO29CQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztxQkFDbkUsSUFBSSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO29CQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1lBQ2pGLENBQUM7UUFDTCxDQUFDO1FBRVMsbUJBQW1CLENBQUMsZUFBc0IsQ0FBQztZQUNqRCxJQUFJLFlBQVksS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDckIsTUFBTSxrQkFBa0IsR0FBMkIsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixFQUFFLENBQUM7Z0JBQ2hHLElBQUksa0JBQWtCLElBQUksSUFBSSxJQUFJLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDOUQsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLFlBQVksS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUMsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQUcsWUFBWSxDQUFDLENBQUM7b0JBQzFOLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDO3dCQUFFLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7eUJBQzVFLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7d0JBQUUsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7Z0JBQzFGLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUVTLGtCQUFrQixDQUFDLGNBQXFCLEVBQUU7WUFDaEQsc01BQXNNO1lBQ3RNLElBQUksZUFBZSxHQUFVLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckYsSUFBSSxlQUFlLElBQUksRUFBRSxFQUFFLENBQUM7Z0JBQ3hCLGVBQWUsR0FBRyxDQUFDLENBQUM7WUFDeEIsQ0FBQztpQkFBTSxJQUFJLGVBQWUsSUFBSSxFQUFFLEVBQUUsQ0FBQztnQkFDL0IsZUFBZSxHQUFHLENBQUMsQ0FBQztZQUN4QixDQUFDO2lCQUFNLElBQUksZUFBZSxJQUFJLENBQUMsRUFBRSxDQUFDO2dCQUM5QixlQUFlLEdBQUcsQ0FBQyxDQUFDO1lBQ3hCLENBQUM7WUFDRCxLQUFLO1lBQ0wsSUFBSSxlQUFlLEtBQUssSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUN4QyxlQUFlLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUUsSUFBSSxlQUFlLElBQUksRUFBRSxFQUFFLENBQUM7b0JBQ3hCLGVBQWUsR0FBRyxDQUFDLENBQUM7Z0JBQ3hCLENBQUM7cUJBQU0sSUFBSSxlQUFlLElBQUksRUFBRSxFQUFFLENBQUM7b0JBQy9CLGVBQWUsR0FBRyxDQUFDLENBQUM7Z0JBQ3hCLENBQUM7cUJBQU0sSUFBSSxlQUFlLElBQUksQ0FBQyxFQUFFLENBQUM7b0JBQzlCLGVBQWUsR0FBRyxDQUFDLENBQUM7Z0JBQ3hCLENBQUM7WUFDTCxDQUFDO1lBQ0QsS0FBSztZQUNMLElBQUksZUFBZSxLQUFLLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDeEMsZUFBZSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFFLElBQUksZUFBZSxJQUFJLEVBQUUsRUFBRSxDQUFDO29CQUN4QixlQUFlLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QixDQUFDO3FCQUFNLElBQUksZUFBZSxJQUFJLEVBQUUsRUFBRSxDQUFDO29CQUMvQixlQUFlLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QixDQUFDO3FCQUFNLElBQUksZUFBZSxJQUFJLENBQUMsRUFBRSxDQUFDO29CQUM5QixlQUFlLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QixDQUFDO1lBQ0wsQ0FBQztZQUNELEtBQUs7WUFDTCxJQUFJLGVBQWUsS0FBSyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQ3hDLGVBQWUsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDOUMsQ0FBQztZQUNELEtBQUs7WUFDTCxJQUFJLFdBQVcsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLFdBQVcsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDLENBQUM7Z0JBQy9GLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDO29CQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO3FCQUM1QyxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQztvQkFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztZQUMxRCxDQUFDO1FBQ0wsQ0FBQztRQUVTLG9CQUFvQjtZQUMxQixJQUFJLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDNUQsTUFBTSxTQUFTLEdBQVUsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO2dCQUNoRCxLQUFLO2dCQUNMLHFCQUFxQjtnQkFDckIsS0FBSztnQkFDTCxJQUFJLGNBQWMsR0FBVSxJQUFJLENBQUM7Z0JBQ2pDLElBQUksYUFBYSxHQUFVLEdBQUcsQ0FBQztnQkFDL0IsSUFBSSxhQUFhLEdBQVUsR0FBRyxDQUFDO2dCQUMvQixJQUFJLGFBQWEsR0FBVyxLQUFLLENBQUM7Z0JBQ2xDLElBQUksY0FBYyxHQUFXLEtBQUssQ0FBQztnQkFDbkMsSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsb0JBQW9CO29CQUMvQyxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFLENBQUM7d0JBQzNCLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQzt3QkFDakQsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDO3dCQUMvQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUM7d0JBQy9DLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQzt3QkFDL0MsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDO29CQUNuRCxDQUFDO2dCQUNMLENBQUM7cUJBQU0sSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsbUJBQW1CO29CQUNyRCxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxFQUFFLENBQUM7d0JBQzFCLGNBQWMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQzt3QkFDaEQsYUFBYSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDO3dCQUM5QyxhQUFhLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7d0JBQzlDLGFBQWEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQzt3QkFDOUMsY0FBYyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDO29CQUNsRCxDQUFDO2dCQUNMLENBQUM7Z0JBQ0QsS0FBSztnQkFDTCx5QkFBeUI7Z0JBQ3pCLEtBQUs7Z0JBQ0wsSUFBSSxjQUFjLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQzFCLG1LQUFtSztvQkFDbkssSUFBSSxlQUFlLEdBQVUsQ0FBQyxDQUFDO29CQUMvQixJQUFJLFlBQVksR0FBVSxDQUFDLENBQUM7b0JBQzVCLElBQUksWUFBWSxHQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO29CQUMzTCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7d0JBQzlILElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsWUFBWSxJQUFJLElBQUksRUFBRSxDQUFDOzRCQUM1RCxZQUFZLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDO3dCQUNyRSxDQUFDO3dCQUNELElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsZUFBZSxJQUFJLElBQUksRUFBRSxDQUFDOzRCQUMvRCxlQUFlLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDO3dCQUMzRSxDQUFDO29CQUNMLENBQUM7b0JBQ0QsWUFBWSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxZQUFZLEVBQUUsZUFBZSxDQUFDLENBQUM7b0JBQ3JFLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLG9CQUFvQjt3QkFDL0MsWUFBWSxHQUFHLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyw4QkFBOEI7b0JBQzVHLENBQUM7eUJBQU0sSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsbUJBQW1CO3dCQUNyRCxZQUFZLEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLGdDQUFnQztvQkFDOUcsQ0FBQztvQkFDRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7b0JBQ2xELEtBQUssQ0FBQyxTQUFTLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztvQkFDekgsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUMsYUFBYSxHQUFHLFNBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3hJLENBQUM7cUJBQU0sQ0FBQztvQkFDSixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGdCQUFnQixDQUFDLENBQUM7Z0JBQ2hGLENBQUM7Z0JBQ0QsS0FBSztnQkFDTCx5QkFBeUI7Z0JBQ3pCLEtBQUs7Z0JBQ0wsSUFBSSxhQUFhLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztvQkFDNUQsTUFBTSxlQUFlLEdBQXlCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztvQkFDdEksZUFBZSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFBO29CQUM1RyxLQUFLLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztvQkFDNUYsSUFBSSxjQUFjLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQzFCLE9BQU8sQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUMsYUFBYSxHQUFHLFNBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQztvQkFDbEssQ0FBQzt5QkFBTSxDQUFDO3dCQUNKLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO29CQUM1RSxDQUFDO2dCQUNMLENBQUM7cUJBQU0sQ0FBQztvQkFDSixJQUFJLGNBQWMsS0FBSyxJQUFJLEVBQUUsQ0FBQzt3QkFDMUIsT0FBTyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsMEJBQTBCLEVBQUUsQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO29CQUMxTCxDQUFDO3lCQUFNLENBQUM7d0JBQ0osSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLDBCQUEwQixDQUFDLENBQUM7b0JBQ3BHLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRVMsb0JBQW9CLENBQUMsZUFBc0IsQ0FBQyxFQUFFLGNBQXFCLEVBQUU7WUFDM0UsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxnQ0FBZ0M7WUFDaEQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQztZQUNoQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO1lBQ2hDLElBQUksSUFBSSxDQUFDLGlCQUFpQixLQUFLLEtBQUssRUFBRSxDQUFDO2dCQUNuQyxNQUFNLGtCQUFrQixHQUEyQixPQUFPLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztnQkFDaEcsSUFBSSxrQkFBa0IsSUFBSSxJQUFJLElBQUksa0JBQWtCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUM5RCxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBRSxzQ0FBc0M7b0JBQy9FLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFJLHFDQUFxQztvQkFDOUUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLGtCQUFrQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDckUsQ0FBQztnQkFDRCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJO29CQUFFLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO2dCQUMzRSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztvQkFDbEMsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7Z0JBQ3JDLENBQUM7cUJBQU0sQ0FBQztvQkFDSixJQUFJLENBQUMsc0JBQXNCLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzlDLENBQUM7WUFDTCxDQUFDO2lCQUFNLENBQUM7Z0JBQ0osSUFBSSxDQUFDLHNCQUFzQixDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQzlDLENBQUM7UUFDTCxDQUFDO1FBRVMsc0JBQXNCLENBQUMsY0FBcUIsQ0FBQztZQUNuRCxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUNoRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQywwQ0FBMEM7Z0JBQ2hGLE1BQU0sS0FBSyxHQUF5QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDbkUsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQ2hCLCtFQUErRTtvQkFDL0Usd0VBQXdFO29CQUN4RSw0RkFBNEY7b0JBQzVGLGdEQUFnRDtvQkFDaEQsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxLQUFLO3dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztvQkFDbEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO29CQUMvQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO29CQUNoQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO2dCQUNwQyxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFUyx3QkFBd0I7WUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDaEQsTUFBTSxPQUFPLEdBQVUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUM5RSxNQUFNLFFBQVEsR0FBVSxJQUFJLENBQUMsMEJBQTBCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUMxRixNQUFNLEtBQUssR0FBeUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDekQsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQ2hCLCtFQUErRTtvQkFDL0Usd0VBQXdFO29CQUN4RSw0RkFBNEY7b0JBQzVGLGdEQUFnRDtvQkFDaEQsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxLQUFLO3dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztvQkFDbEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO29CQUMvQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO29CQUNoQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO2dCQUNwQyxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFUyx5QkFBeUI7WUFDL0IsSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ2xDLElBQUksS0FBSyxHQUFVLG1CQUFtQixDQUFDO2dCQUN2QyxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQzFCLEtBQUssR0FBRyxrQkFBa0IsQ0FBQztnQkFDL0IsQ0FBQztxQkFBTSxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQ2pDLEtBQUssR0FBRyxpQkFBaUIsQ0FBQztnQkFDOUIsQ0FBQztnQkFDRCxJQUFJLGdCQUFnQixHQUF5QixLQUFLLENBQUMsWUFBWSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQzNKLElBQUksZ0JBQWdCLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQzNCLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxDQUFDLEVBQUUsQ0FBQzt3QkFDMUIsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxnQkFBZ0I7NEJBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsZ0JBQWdCLENBQUM7d0JBQ3hGLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNuQyxJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQzt3QkFDL0MsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQzt3QkFDaEMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQztvQkFDcEMsQ0FBQzt5QkFBTSxDQUFDO3dCQUNKLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLElBQUksSUFBSTs0QkFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7d0JBQ2hFLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO3dCQUNwRSxJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO3dCQUN4RixJQUFJLENBQUMsbUJBQW1CLEdBQUcsZ0JBQWdCLENBQUM7d0JBQzVDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxtQkFBbUIsRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDM0osQ0FBQztnQkFDTCxDQUFDO3FCQUFNLENBQUM7b0JBQ0osSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUM7Z0JBQ3BDLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUVTLHdCQUF3QixDQUFDLE1BQTRCO1lBQzNELElBQUksTUFBTSxHQUFVLENBQUMsQ0FBQztZQUN0QixJQUFJLE1BQU0sR0FBVSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkUsSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ2IsSUFBSSxTQUFTLEdBQVUsS0FBSyxDQUFDO2dCQUM3QixJQUFJLEVBQUUsR0FBVSxDQUFDLENBQUM7Z0JBQ2xCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDOUIsRUFBRSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDeEUsSUFBSSxTQUFTLEdBQUcsRUFBRSxFQUFFLENBQUM7d0JBQ2pCLFNBQVMsR0FBRyxFQUFFLENBQUM7d0JBQ2YsTUFBTSxHQUFHLENBQUMsQ0FBQztvQkFDZixDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDO1lBQ0QsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUVTLDBCQUEwQixDQUFDLE1BQTRCLEVBQUUsTUFBYTtZQUM1RSxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlJLENBQUM7UUFFUyx5QkFBeUIsQ0FBQyxLQUFtQixFQUFFLElBQVc7WUFDaEUsSUFBSSxNQUFNLEdBQTJCLElBQUksQ0FBQztZQUMxQyxJQUFJLEtBQUssQ0FBQyxjQUFjLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQy9CLEtBQUssQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBMEIsRUFBRSxFQUFFO29CQUN4RCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ3JCLElBQUksTUFBTSxJQUFJLElBQUk7NEJBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQzt3QkFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdEIsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFDRCxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ3ZCLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBeUIsRUFBRSxFQUFFO29CQUMvQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ3JCLElBQUksTUFBTSxJQUFJLElBQUk7NEJBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQzt3QkFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdEIsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFDRCxPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDOztJQXZaYyxpQ0FBZSxHQUE2QixJQUFJLEFBQWpDLENBQWtDO0lBR2pELHNDQUFvQixHQUFVLENBQUMsQUFBWCxDQUFZO0lBQ2hDLHFDQUFtQixHQUFVLENBQUMsQUFBWCxDQUFZO0lBaUYvQiwyQkFBUyxHQUFVLENBQUMsQUFBWCxDQUFZO0lBdEYzQix5QkFBaUIsb0JBbWQ3QixDQUFBO0FBUUwsQ0FBQyxFQWhlTSxPQUFPLEtBQVAsT0FBTyxRQWdlYjtBQ2hlRCxJQUFPLE9BQU8sQ0FrRmI7QUFsRkQsV0FBTyxPQUFPO0lBQ1Y7OztNQUdFO0lBQ0YsTUFBYSxtQkFBb0IsU0FBUSxLQUFLLENBQUMsZUFBZTtRQUE5RDs7WUFDWSx1QkFBa0IsR0FBVyxJQUFJLENBQUM7WUFDbEMsc0JBQWlCLEdBQVcsSUFBSSxDQUFDO1FBMEU3QyxDQUFDO1FBeEVHLHNEQUFzRDtRQUU1QyxLQUFLO1lBQ1gsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDN0IsQ0FBQztRQUVTLEtBQUs7WUFDWCw4QkFBOEI7UUFDbEMsQ0FBQztRQUVTLEtBQUs7WUFDWCxnQ0FBZ0M7UUFDcEMsQ0FBQztRQUVTLE1BQU07WUFDWixpQ0FBaUM7UUFDckMsQ0FBQztRQUVTLElBQUk7WUFDVixzQ0FBc0M7UUFDMUMsQ0FBQztRQUVTLEtBQUs7WUFDWCx1Q0FBdUM7UUFDM0MsQ0FBQztRQUVTLEtBQUs7WUFDWCxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUM5QixDQUFDO1FBRVMsT0FBTztZQUNiLGdDQUFnQztRQUNwQyxDQUFDO1FBRVMsaUJBQWlCO1lBQ3ZCLEtBQUssQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLEdBQUUsRUFBRTtnQkFDNUQsdUZBQXVGO2dCQUNuRixPQUFPLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLGdCQUFnQixHQUFHLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQztnQkFDL0csR0FBRztZQUNQLENBQUMsQ0FBQyxDQUFDO1lBQ0gsS0FBSyxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsR0FBRSxFQUFFO2dCQUNsRSx1RkFBdUY7Z0JBQ25GLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO2dCQUM1RCxPQUFPLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMvRCxHQUFHO1lBQ1AsQ0FBQyxDQUFDLENBQUM7WUFDSCxLQUFLLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxHQUFFLEVBQUU7Z0JBQ3BFLHVGQUF1RjtnQkFDbkYsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7Z0JBQzVELE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQy9ELEdBQUc7WUFDUCxDQUFDLENBQUMsQ0FBQztZQUNILEtBQUssQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLEdBQUUsRUFBRTtnQkFDcEUsdUZBQXVGO2dCQUNuRixPQUFPLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQztnQkFDNUQsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDL0QsR0FBRztZQUNQLENBQUMsQ0FBQyxDQUFDO1lBQ0gsS0FBSyxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsR0FBRSxFQUFFO2dCQUNyRSx1RkFBdUY7Z0JBQ25GLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO2dCQUM1RCxPQUFPLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvRCxHQUFHO1lBQ1AsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRVMsa0JBQWtCO1lBQ3hCLElBQUksT0FBTyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0MsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUM7Z0JBQzdFLElBQUksSUFBSSxDQUFDLGtCQUFrQixLQUFLLElBQUk7b0JBQUUsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1lBQ3BHLENBQUM7UUFDTCxDQUFDO0tBQ0o7SUE1RVksMkJBQW1CLHNCQTRFL0IsQ0FBQTtBQUNMLENBQUMsRUFsRk0sT0FBTyxLQUFQLE9BQU8sUUFrRmI7QUNsRkQsSUFBTyxPQUFPLENBcUNiO0FBckNELFdBQU8sT0FBTztJQUNWOzs7TUFHRTtJQUNGLE1BQWEsV0FBWSxTQUFRLEtBQUssQ0FBQyx1QkFBdUI7UUFDMUQsWUFBbUIsSUFBWSxFQUFFLEtBQW9CO1lBQ2pELEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztRQUNuQyxDQUFDO1FBQ00sYUFBYTtZQUNoQixPQUFPLEtBQUssQ0FBQztRQUNqQixDQUFDO1FBQ00sY0FBYztZQUNqQixPQUFPLGFBQWEsQ0FBQztRQUN6QixDQUFDO1FBQ00sbUJBQW1CO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLENBQUMsOEJBQThCO1FBQy9DLENBQUM7UUFDUyxrQkFBa0I7WUFDeEIsMENBQTBDO1FBQzlDLENBQUM7UUFFRCxnREFBZ0Q7UUFDaEQsZ0RBQWdEO1FBQ2hELGdEQUFnRDtRQUV0QyxLQUFLO1lBQ1gsNEJBQTRCO1FBQ2hDLENBQUM7UUFFUyxLQUFLO1lBQ1gsZ0NBQWdDO1FBQ3BDLENBQUM7S0FDSjtJQTlCWSxtQkFBVyxjQThCdkIsQ0FBQTtJQUNELE9BQU8sQ0FBQyxhQUFhLENBQUMscUJBQXFCLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDOUQsQ0FBQyxFQXJDTSxPQUFPLEtBQVAsT0FBTyxRQXFDYjtBQ3JDRCxJQUFPLEtBQUssQ0EwSlg7QUExSkQsV0FBTyxLQUFLO0lBQ1I7OztPQUdHO0lBQ0gsTUFBYSxtQkFBb0IsU0FBUSxLQUFLLENBQUMsZUFBZTtRQUE5RDs7WUFDWSxrQkFBYSxHQUF3QixJQUFJLENBQUM7WUFDMUMsa0JBQWEsR0FBVSxHQUFHLENBQUM7WUFDM0Isa0JBQWEsR0FBVSxDQUFDLENBQUM7WUFDekIsa0JBQWEsR0FBbUIsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0QsZ0JBQVcsR0FBVSxFQUFFLENBQUM7WUFDeEIsZUFBVSxHQUFVLElBQUksQ0FBQztZQUN6QixnQkFBVyxHQUFVLEdBQUcsQ0FBQyxDQUFHLDZIQUE2SDtZQUN6SixxQkFBZ0IsR0FBVSxFQUFFLENBQUM7WUFDN0IscUJBQWdCLEdBQVUsS0FBSyxDQUFDO1lBQ2hDLG9CQUFlLEdBQVcsS0FBSyxDQUFDO1lBQ2hDLG1CQUFjLEdBQVUsQ0FBQyxDQUFDO1lBQzFCLHlCQUFvQixHQUFXLEtBQUssQ0FBQztZQUNyQyxzQkFBaUIsR0FBbUIsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0QsdUJBQWtCLEdBQW1CLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWpFLG1CQUFjLEdBQVcsSUFBSSxDQUFDO1lBQzlCLHlCQUFvQixHQUFXLElBQUksQ0FBQztRQW1JL0MsQ0FBQztRQWxJVSxzQkFBc0IsS0FBVSxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMxRSxnRUFBZ0U7UUFDaEUsOERBQThEO1FBQ3ZELGVBQWUsS0FBWSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELGVBQWUsS0FBWSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELFlBQVksS0FBWSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ2pELGFBQWEsS0FBWSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ25ELGVBQWUsS0FBcUIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztRQUN2RSx3RUFBd0U7UUFDakUsa0JBQWtCLEtBQVksT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO1FBQzdELGtCQUFrQixDQUFDLFFBQWUsSUFBUyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUM5RSxtQkFBbUIsS0FBWSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQywrQkFBK0I7UUFDMUUsY0FBYyxLQUFZLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLCtCQUErQjtRQUNyRSxjQUFjLENBQUMsTUFBYSxJQUFTLENBQUMsQ0FBQywrQkFBK0I7UUFDdEUsZ0JBQWdCLENBQUMsYUFBb0IsSUFBUyxDQUFDO1FBQy9DLGVBQWUsQ0FBQyxTQUFnQixJQUFTLENBQUM7UUFDMUMsYUFBYSxLQUFZLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQyxhQUFhLENBQUMsWUFBbUIsSUFBUyxDQUFDO1FBQzNDLFNBQVMsQ0FBQyxJQUFXLElBQVMsQ0FBQztRQUMvQixVQUFVLEtBQVksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLFVBQVUsQ0FBQyxPQUFjLElBQVMsQ0FBQztRQUNuQyxVQUFVLEtBQWEsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sS0FBYSxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkMsT0FBTyxLQUFhLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQztRQUduQyxpQkFBaUI7WUFDcEIsSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUNoQyxpRUFBaUU7Z0JBQ2pFLHNDQUFzQztnQkFDdEMsK0RBQStEO2dCQUMvRCxVQUFVO2dCQUNWLGtDQUFrQztnQkFDbEMsR0FBRztZQUNQLENBQUM7WUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUE7UUFDakMsQ0FBQztRQUVNLDRCQUE0QjtZQUMvQixJQUFJLElBQUksQ0FBQyxlQUFlLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ2hDLHFDQUFxQztnQkFDckMsaUhBQWlIO2dCQUNqSCw4TEFBOEw7Z0JBQzlMLHVDQUF1QztnQkFDdkMsOERBQThEO2dCQUM5RCx3RUFBd0U7Z0JBQ3hFLE9BQU87Z0JBQ1AsaUVBQWlFO2dCQUNqRSxHQUFHO1lBQ1AsQ0FBQztRQUNMLENBQUM7UUFFTSw0QkFBNEI7WUFDL0IsSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUNoQyw2REFBNkQ7Z0JBQzdELG1DQUFtQztnQkFDbkMscURBQXFEO2dCQUNyRCwrREFBK0Q7Z0JBQy9ELEdBQUc7Z0JBQ0gsbUxBQW1MO2dCQUNuTCx1REFBdUQ7WUFDM0QsQ0FBQztRQUNMLENBQUM7UUFFTSxzQkFBc0IsQ0FBQyxTQUFpQjtZQUMzQyxJQUFJLFNBQVMsS0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDckIsbUZBQW1GO1lBQ3ZGLENBQUM7aUJBQU0sQ0FBQztnQkFDSixzRkFBc0Y7WUFDMUYsQ0FBQztRQUNMLENBQUM7UUFFRCxvREFBb0Q7UUFDcEQsb0RBQW9EO1FBQ3BELG9EQUFvRDtRQUVwRCx1RUFBdUU7UUFDaEUsR0FBRyxDQUFDLENBQVEsRUFBRSxDQUFRLEVBQUUsQ0FBUTtZQUNuQzs7O2NBR0U7UUFDTixDQUFDO1FBQ0QscUVBQXFFO1FBQzlELElBQUksQ0FBQyxRQUF3QjtZQUNoQyxJQUFJLFFBQVEsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDbkI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBc0JFO1lBQ04sQ0FBQztRQUNMLENBQUM7UUFDRCwrREFBK0Q7UUFDeEQsSUFBSSxDQUFDLEtBQVk7WUFDcEI7Ozs7O2NBS0U7UUFDTixDQUFDO1FBQ0QsZ0VBQWdFO1FBQ3pELElBQUksQ0FBQyxRQUF3QjtZQUNoQzs7Ozs7Y0FLRTtRQUNOLENBQUM7S0FDSjtJQXBKWSx5QkFBbUIsc0JBb0ovQixDQUFBO0FBQ0wsQ0FBQyxFQTFKTSxLQUFLLEtBQUwsS0FBSyxRQTBKWCIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIG5ldHdvcmsgZW50aXR5IChDb2x5c2V1cyBVbml2ZXJzYWwgR2FtZSBSb29tKVxuICAgICAqIEBjbGFzcyBDb2x5c2V1c0dhbWVTZXJ2ZXIgLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBDb2x5c2V1c0dhbWVTZXJ2ZXIgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1BWF9GUkFNRV9SQVRFOm51bWJlciA9IDIwMDtcbiAgICAgICAgcHVibGljIHByb2plY3ROYW1lOnN0cmluZyA9IFwiR2FtZSBQcm9qZWN0XCI7XG4gICAgICAgIHB1YmxpYyBhdXRvSm9pblJvb206Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJVc2VyTmFtZTpzdHJpbmc9IFwiUGxheWVyXCI7XG4gICAgICAgIHB1YmxpYyBkZWZhdWx0Um9vbU5hbWU6c3RyaW5nID0gXCJkZWZhdWx0XCI7XG4gICAgICAgIHB1YmxpYyByb29tTG9naWNNb2R1bGU6c3RyaW5nID0gXCJEZWZhdWx0TG9naWNcIjtcbiAgICAgICAgcHVibGljIG1heENsaWVudHNBbGxvd2VkOm51bWJlciA9IDg7XG4gICAgICAgIHB1YmxpYyBwYXRjaFVwZGF0ZVJhdGVGcHM6bnVtYmVyID0gMjA7XG4gICAgICAgIHB1YmxpYyByb29tU2ltdWxhdGVSYXRlRnBzOm51bWJlciA9IDYwO1xuICAgICAgICBwdWJsaWMgbmV0d29ya0J1ZmZlcmluZ1RpbWU6bnVtYmVyID0gMC4xNTtcbiAgICAgICAgXG4gICAgICAgIHByaXZhdGUgc29sb1Nlc3Npb246Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNvbHlzZXVzQXZhaWxhYmxlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBuZXR3b3JrUm9vbUNvbm5lY3RlZDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaG9zdFNlc3Npb25OYW1lOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgam9pblJvb21JZDpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNsaWVudDpDb2x5c2V1cy5DbGllbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTdGF0aWNJbnN0YW5jZTpQUk9KRUNULkNvbHlzZXVzR2FtZVNlcnZlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEluc3RhbmNlKCk6UFJPSkVDVC5Db2x5c2V1c0dhbWVTZXJ2ZXIgeyByZXR1cm4gUFJPSkVDVC5Db2x5c2V1c0dhbWVTZXJ2ZXIuU3RhdGljSW5zdGFuY2U7IH1cbiAgICAgICAgcHVibGljIGlzU29sb1Nlc3Npb24oKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuc29sb1Nlc3Npb247IH1cbiAgICAgICAgcHVibGljIGlzSG9zdFNlc3Npb24oKTpib29sZWFuIHsgcmV0dXJuICh0aGlzLmhvc3RTZXNzaW9uTmFtZSAhPSBudWxsICYmIHRoaXMuaG9zdFNlc3Npb25OYW1lICE9PSBcIlwiKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q29seXNldXNDbGllbnQoKTpDb2x5c2V1cy5DbGllbnQgeyByZXR1cm4gdGhpcy5jbGllbnQ7IH1cbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwcm9wZXJ0aWVzPzogYW55KSB7XG4gICAgICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIHNjZW5lLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLlN0YXRpY0luc3RhbmNlID0gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLklzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLkxvZyhcIkNvbHlzZXVzIG5ldHdvcmsgbGlicmFyeSBsb2FkZWRcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29seXNldXNBdmFpbGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJDb2x5c2V1cyBuZXR3b3JrIGxpYnJhcnkgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyU29sb1BhcmFtOnN0cmluZyA9IFVOSVRZLldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwic29sb1wiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyU29sb1BhcmFtICE9IG51bGwgJiYgcGxheWVyU29sb1BhcmFtICE9PSBcIlwiICYmIHBsYXllclNvbG9QYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllclNvbG9QYXJhbS50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xvU2Vzc2lvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJDb2x5c2V1cyBzb2xvIG5ldHdvcmsgZ2FtZSBwbGF5IHJlcXVlc3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb2x5c2V1c0F2YWlsYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckVuZHBvaW50UGFyYW06c3RyaW5nID0gVU5JVFkuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJlbmRwb2ludFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckVuZHBvaW50UGFyYW0gIT0gbnVsbCAmJiBzZXJ2ZXJFbmRwb2ludFBhcmFtICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJFbmRwb2ludDpzdHJpbmcgPSBkZWNvZGVVUklDb21wb25lbnQoc2VydmVyRW5kcG9pbnRQYXJhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmVyRW5kcG9pbnQgIT0gbnVsbCAmJiBzZXJ2ZXJFbmRwb2ludCAhPT0gXCJcIiAmJiBzZXJ2ZXJFbmRwb2ludCAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQgPSBzZXJ2ZXJFbmRwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZTApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllck5hbWVQYXJhbTpzdHJpbmcgPSBVTklUWS5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcInBsYXllclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllck5hbWVQYXJhbSAhPSBudWxsICYmIHBsYXllck5hbWVQYXJhbSAhPT0gXCJcIiAmJiBwbGF5ZXJOYW1lUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllclVzZXJOYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KHBsYXllck5hbWVQYXJhbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoKGUxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByb29tTmFtZVBhcmFtOnN0cmluZyA9IFVOSVRZLldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwicm9vbVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb21OYW1lUGFyYW0gIT0gbnVsbCAmJiByb29tTmFtZVBhcmFtICE9PSBcIlwiICYmIHJvb21OYW1lUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRSb29tTmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChyb29tTmFtZVBhcmFtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RTZXNzaW9uUGFyYW06c3RyaW5nID0gVU5JVFkuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJob3N0XCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdFNlc3Npb25QYXJhbSAhPSBudWxsICYmIGhvc3RTZXNzaW9uUGFyYW0gIT09IFwiXCIgJiYgaG9zdFNlc3Npb25QYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdFNlc3Npb25OYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGhvc3RTZXNzaW9uUGFyYW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlMykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9pblNlc3Npb25QYXJhbTpzdHJpbmcgPSBVTklUWS5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcImpvaW5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqb2luU2Vzc2lvblBhcmFtICE9IG51bGwgJiYgam9pblNlc3Npb25QYXJhbSAhPT0gXCJcIiAmJiBqb2luU2Vzc2lvblBhcmFtICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luUm9vbUlkID0gZGVjb2RlVVJJQ29tcG9uZW50KGpvaW5TZXNzaW9uUGFyYW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlNCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGU0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkpvaW5Sb29tT2JzZXJ2YWJsZS5hZGQoKHVzZXI6QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlcik9PnsgY29uc29sZS53YXJuKHVzZXIubmFtZSArIFwiIGpvaW5lZCB0aGUgXCIgKyB0aGlzLmRlZmF1bHRSb29tTmFtZS50b0xvd2VyQ2FzZSgpICsgXCIgcm9vbS5cIiAgKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29seXNldXNBdmFpbGFibGUgPT09IHRydWUgJiYgdGhpcy5uZXR3b3JrUm9vbUNvbm5lY3RlZCA9PT0gZmFsc2UgJiYgdGhpcy5hdXRvSm9pblJvb20gPT09IHRydWUgJiYgdGhpcy5pc1JlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9Kb2luUm9vbSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuam9pblJvb20oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5hdXRvSm9pblJvb20gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29seXNldXNBdmFpbGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubmV0d29ya1Jvb21Db25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0Um9vbU5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJVc2VyTmFtZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYXN5bmMgam9pblJvb20oKTpQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhdGNoVXBkYXRlUmF0ZUZwcyA+IFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLk1BWF9GUkFNRV9SQVRFKSB0aGlzLnBhdGNoVXBkYXRlUmF0ZUZwcyA9IFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLk1BWF9GUkFNRV9SQVRFO1xuICAgICAgICAgICAgaWYgKHRoaXMucm9vbVNpbXVsYXRlUmF0ZUZwcyA+IFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLk1BWF9GUkFNRV9SQVRFKSB0aGlzLnJvb21TaW11bGF0ZVJhdGVGcHMgPSBQUk9KRUNULkNvbHlzZXVzR2FtZVNlcnZlci5NQVhfRlJBTUVfUkFURTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2Vic29ja2V0VXJsOnN0cmluZyA9IChVTklUWS5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiaHR0cFwiKSkgPyAoXCJ3c1wiICsgVU5JVFkuU2NlbmVNYW5hZ2VyLlNlcnZlckVuZFBvaW50LnN1YnN0cmluZyg0KSkgOiBVTklUWS5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChVTklUWS5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQuZW5kc1dpdGgoXCIvXCIpKSBVTklUWS5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQgPSBVTklUWS5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQuc3Vic3RyaW5nKDAsIChVTklUWS5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQubGVuZ3RoLTEpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvamVjdE5hbWUgPT0gbnVsbCB8fCB0aGlzLnByb2plY3ROYW1lID09PSBcIlwiKSB0aGlzLnByb2plY3ROYW1lID0gXCJHYW1lIFByb2plY3RcIjtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj4+PiBTZXJ2ZXIgRW5kcG9pbnQ6IFwiICsgVU5JVFkuU2NlbmVNYW5hZ2VyLlNlcnZlckVuZFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4gV2ViIFNvY2tldCBVcmw6IFwiICsgd2Vic29ja2V0VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4gTWF4IENsaWVudHM6IFwiICsgdGhpcy5tYXhDbGllbnRzQWxsb3dlZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPj4+IFJvb20gTmFtZTogXCIgKyB0aGlzLmRlZmF1bHRSb29tTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPj4+IFVzZXIgTmFtZTogXCIgKyB0aGlzLnBsYXllclVzZXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4gSG9zdCBEZXNjOiBcIiArIHRoaXMuaG9zdFNlc3Npb25OYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4gSm9pbiBSb29tOiBcIiArIHRoaXMuam9pblJvb21JZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJvb206QkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudCA9PSBudWxsKSB0aGlzLmNsaWVudCA9IG5ldyBDb2x5c2V1cy5DbGllbnQod2Vic29ja2V0VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9zdFNlc3Npb25OYW1lICE9IG51bGwgJiYgdGhpcy5ob3N0U2Vzc2lvbk5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjZW5lRmlsZTpzdHJpbmcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0U2NlbmVGaWxlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbSA9IGF3YWl0IHRoaXMuY2xpZW50LmNyZWF0ZTxCQUJZTE9OLklDb2x5c2V1c1Jvb21TdGF0ZT4odGhpcy5kZWZhdWx0Um9vbU5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogdGhpcy5wbGF5ZXJVc2VyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29tTG9naWM6IHRoaXMucm9vbUxvZ2ljTW9kdWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENsaWVudHM6IHRoaXMubWF4Q2xpZW50c0FsbG93ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbkJ1ZmZlcjogdGhpcy5uZXR3b3JrQnVmZmVyaW5nVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFVwZGF0ZVJhdGVNczogKDEwMDAgLyB0aGlzLnBhdGNoVXBkYXRlUmF0ZUZwcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbVNpbXVsYXRpb25JbnRlcnZhbE1zOiAoMTAwMCAvIHRoaXMucm9vbVNpbXVsYXRlUmF0ZUZwcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGFncmFtUHJvdG9jb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXByZXNzRGF0YVBhY2tldHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IHRoaXMucHJvamVjdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjbGllbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiB0aGlzLmhvc3RTZXNzaW9uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXA6IHNjZW5lRmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXg6IFwiKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmpvaW5Sb29tSWQgIT0gbnVsbCAmJiB0aGlzLmpvaW5Sb29tSWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb20gPSBhd2FpdCB0aGlzLmNsaWVudC5qb2luQnlJZDxCQUJZTE9OLklDb2x5c2V1c1Jvb21TdGF0ZT4odGhpcy5qb2luUm9vbUlkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMucGxheWVyVXNlck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb29tICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuQXR0YWNoRGVmYXVsdFJvb20odGhpcy5zY2VuZSwgcm9vbSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGpvaW4gcm9vbTogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNvbm5lY3Q6IFwiLCBlKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ldHdvcmtSb29tQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQ29seXNldXNOZXR3b3JrQXZhdGFyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQ29seXNldXNOZXR3b3JrQXZhdGFyIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IGltcGxlbWVudHMgVU5JVFkuSUFzc2V0UHJlbG9hZGVyICB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRk9OVF9QQURESU5HOm51bWJlciA9IDM2O1xuICAgICAgICBwdWJsaWMgc3RhdGljIEhFSUdIVF9QQURESU5HOm51bWJlciA9IDAuMTtcbiAgICAgICAgXG4gICAgICAgIHByaXZhdGUgY29udHJvbE1vZGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0QXZhdGFyOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbWFsZUFuaW1hdGlvblJpZzpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZlbWFsZUFuaW1hdGlvblJpZzpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhc3RSZWFsdGltZVNoYWRvdzpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBkaXNwb3NlT2ZNYW5uZXF1aW46Ym9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJpdmF0ZSBwaXhlbE9mZnNldFg6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwaXhlbE9mZnNldFk6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJKb2luZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHByZWxvYWRMb2NhdGlvbjpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGFtYmllbnRNYXRlcmlhbDpCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLjAsMS4wLDEuMCk7XG4gICAgICAgIHByaXZhdGUgYXZhdGFyQXJtYXR1cmU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJTa2VsZXRvbjpCQUJZTE9OLlNrZWxldG9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJIYW5kbmVzczpzdHJpbmcgPSBcIkxlZnRcIjtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJHZW5kZXI6c3RyaW5nID0gXCJNYWxlXCI7XG4gICAgICAgIHByaXZhdGUgYXZhdGFyTGFiZWw6c3RyaW5nID0gXCJEZWZhdWx0IFBsYXllclwiO1xuICAgICAgICBwcml2YXRlIGF2YXRhckxvYWRlZDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgYW5pbWF0b3I6VU5JVFkuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGF2YXRhclJlYWR5OmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgbWFuYWdlTGFiZWxUZXh0dXJlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgdGV4dHVyZVJlc29sdXRpb246bnVtYmVyID0gNTEyO1xuICAgICAgICBwdWJsaWMgbWF4TGFiZWxXaWR0aDpudW1iZXIgPSA5NjA7XG4gICAgICAgIHB1YmxpYyBtaW5MYWJlbFdpZHRoOm51bWJlciA9IDMyMDtcbiAgICAgICAgcHVibGljIGxhYmVsT2Zmc2V0WDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbGFiZWxPZmZzZXRZOm51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIGxhYmVsSGVpZ2h0Om51bWJlciA9IDY0O1xuICAgICAgICBwdWJsaWMgbGFiZWxDb2xvcjpCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjAsMS4wLDAuMCk7XG4gICAgICAgIHB1YmxpYyBsYWJlbEFscGhhOm51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyByZWN0Q29sb3I6QkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMC4wLDAuMCwwLjApO1xuICAgICAgICBwdWJsaWMgcmVjdEFscGhhOm51bWJlciA9IDAuNjU7XG4gICAgICAgIHB1YmxpYyBmb250RmFtaWx5OnN0cmluZyA9IFwiQXJpYWxcIjtcbiAgICAgICAgcHVibGljIGZvbnRTdHlsZTpzdHJpbmcgPSBcIkJvbGRcIjtcbiAgICAgICAgcHVibGljIGZvbnRTaXplOm51bWJlciA9IDM2O1xuICAgICAgICBwdWJsaWMgZmlsbFJlY3Q6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRvciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiVU5JVFkuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRvciA9PSBudWxsKSBCQUJZTE9OLlRvb2xzLldhcm4oXCJGYWlsZWQgdG8gbG9jYXRlIGFuaWF0aW9uIHN0YXRlIGNvbXBvbmVudCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0QXZhdGFySW5mbzpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiZGVmYXVsdEF2YXRhclwiKTtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0QXZhdGFySW5mbyAhPSBudWxsKSB0aGlzLmRlZmF1bHRBdmF0YXIgPSAoZGVmYXVsdEF2YXRhckluZm8ubmFtZSArIFwiLmdsYlwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1hbGVBbmltYXRpb25JbmZvOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYWxlQW5pbWF0aW9uUmlnXCIpO1xuICAgICAgICAgICAgaWYgKG1hbGVBbmltYXRpb25JbmZvICE9IG51bGwpIHRoaXMubWFsZUFuaW1hdGlvblJpZyA9IChtYWxlQW5pbWF0aW9uSW5mby5uYW1lICsgXCIuZ2xiXCIpO1xuICAgICAgICAgICAgY29uc3QgZmVtYWxlQW5pbWF0aW9uSW5mbzpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiZmVtYWxlQW5pbWF0aW9uUmlnXCIpO1xuICAgICAgICAgICAgaWYgKGZlbWFsZUFuaW1hdGlvbkluZm8gIT0gbnVsbCkgdGhpcy5mZW1hbGVBbmltYXRpb25SaWcgPSAoZmVtYWxlQW5pbWF0aW9uSW5mby5uYW1lICsgXCIuZ2xiXCIpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldHVwIEJyb3dzZXIgUGxhdGZvcm0gT3B0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2FmYXJpQnJvd3NlcigpID09PSB0cnVlKSB0aGlzLnBpeGVsT2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICBlbHNlIHRoaXMucGl4ZWxPZmZzZXRZID0gMjsgLy8gTm90ZTogRGVmYXVsdCBUd28gUGl4ZWwgT2Zmc2V0XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcmVhZHkoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xNb2RlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cExvY2FsUGxheWVyQXZhdGFyKCk7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdmF0YXJSZWFkeSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySm9pbmVkID09PSBmYWxzZSAmJiB0aGlzLmF2YXRhclJlYWR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySm9pbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbE1vZGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hbmFnZUxhYmVsVGV4dHVyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyTGFiZWwgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkdldEN1cnJlbnRVc2VyKCkubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUF2YXRhckxhYmVsKHRoaXMuYXZhdGFyTGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJvbE1vZGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBSZW1vdGVQbGF5ZXJBdmF0YXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hbmFnZUxhYmVsVGV4dHVyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQXZhdGFyTGFiZWwodGhpcy5hdmF0YXJMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hdmF0YXJMYWJlbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmF2YXRhckdlbmRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmF2YXRhckhhbmRuZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYXZhdGFyQXJtYXR1cmUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hdmF0YXJTa2VsZXRvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRBdmF0YXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wcmVsb2FkTG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tYWxlQW5pbWF0aW9uUmlnID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZmVtYWxlQW5pbWF0aW9uUmlnID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaXNTYWZhcmlCcm93c2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5hdmlnYXRvciAhPSBudWxsICYmIG5hdmlnYXRvci51c2VyQWdlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5hdmlnYXRvci52ZW5kb3IubWF0Y2goL2FwcGxlL2kpICYmXG4gICAgICAgICAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2NyaW9zL2kpICYmXG4gICAgICAgICAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2Z4aW9zL2kpICYmXG4gICAgICAgICAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09wZXJhfE9QVFxcLy8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY3JlYXRlQXZhdGFyTGFiZWwobmFtZTpzdHJpbmcpOnZvaWQge1xuICAgICAgICAgICAgaWYgKG5hbWUgIT0gbnVsbCAmJiBuYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhbmU6QkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVQbGFuZShcIlRleHR1cmVQbGFuZVwiLCB7IHdpZHRoOjEsIGhlaWdodDoxIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYW5lTWF0ZXJpYWw6QkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCgodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlBsYW5lTWF0ZXJpYWxcIiksIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQmFja2dyb3VuZCBPcGFjaXR5IFRleHR1cmVcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHlUZXh0dXJlOkJBQllMT04uRHluYW1pY1RleHR1cmUgPSBuZXcgQkFCWUxPTi5EeW5hbWljVGV4dHVyZShcIlBsYXllclRleHR1cmVcIiwgeyB3aWR0aDp0aGlzLnRleHR1cmVSZXNvbHV0aW9uLCBoZWlnaHQ6dGhpcy50ZXh0dXJlUmVzb2x1dGlvbiB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcGFjaXR5Q3R4OmFueSA9IG9wYWNpdHlUZXh0dXJlLmdldENvbnRleHQoKSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9udFN0cmluZzpzdHJpbmcgPSB0aGlzLmdldFJlc2l6ZWRGb250U3RyaW5nKG5hbWUsIHRoaXMubWF4TGFiZWxXaWR0aCwgdGhpcy5mb250U2l6ZSwgdGhpcy5mb250RmFtaWx5LCB0aGlzLmZvbnRTdHlsZSk7XG4gICAgICAgICAgICAgICAgb3BhY2l0eUN0eC5mb250ID0gZm9udFN0cmluZzsgLy8gTm90ZTogTXVzdCBCZSBTZXQgQmVmb3JlIE1lYXN1cmluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRXaWR0aDpudW1iZXIgPSBvcGFjaXR5Q3R4Lm1lYXN1cmVUZXh0KG5hbWUpLndpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRQYWRkaW5nOm51bWJlciA9IFBST0pFQ1QuQ29seXNldXNOZXR3b3JrQXZhdGFyLkZPTlRfUEFERElORztcbiAgICAgICAgICAgICAgICBsZXQgcmVjdFdpZHRoOm51bWJlciA9IChmb250V2lkdGggKyBmb250UGFkZGluZyk7XG4gICAgICAgICAgICAgICAgbGV0IHJlY3RIZWlnaHQ6bnVtYmVyID0gdGhpcy5sYWJlbEhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAocmVjdFdpZHRoIDwgdGhpcy5taW5MYWJlbFdpZHRoKSByZWN0V2lkdGggPSB0aGlzLm1pbkxhYmVsV2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3RXaWR0aCA+IHRoaXMubWF4TGFiZWxXaWR0aCkgcmVjdFdpZHRoID0gdGhpcy5tYXhMYWJlbFdpZHRoO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGxSZWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHlDdHguZmlsbFN0eWxlID0gYHJnYmEoMCwgMCwgMCwgJHt0aGlzLnJlY3RBbHBoYS50b1N0cmluZygpfSlgO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJvdW5kZWRSZWN0KCh0aGlzLnRleHR1cmVSZXNvbHV0aW9uKjAuNSkgLSAocmVjdFdpZHRoKjAuNSksICh0aGlzLnRleHR1cmVSZXNvbHV0aW9uKjAuNSkgLSAocmVjdEhlaWdodCowLjUpICwgcmVjdFdpZHRoLCByZWN0SGVpZ2h0LCAocmVjdEhlaWdodCowLjUpLCBvcGFjaXR5Q3R4KTtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wYWNpdHlDdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICBvcGFjaXR5Q3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG4gICAgICAgICAgICAgICAgb3BhY2l0eUN0eC5maWxsU3R5bGUgPSBgcmdiYSgwLCAwLCAwLCAke3RoaXMubGFiZWxBbHBoYS50b1N0cmluZygpfSlgO1xuICAgICAgICAgICAgICAgIG9wYWNpdHlDdHguZmlsbFRleHQobmFtZSwgKHRoaXMudGV4dHVyZVJlc29sdXRpb24qMC41KSArIHRoaXMucGl4ZWxPZmZzZXRYLCAodGhpcy50ZXh0dXJlUmVzb2x1dGlvbiowLjUpICsgdGhpcy5waXhlbE9mZnNldFkpO1xuICAgICAgICAgICAgICAgIG9wYWNpdHlUZXh0dXJlLnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEJhY2tncm91bmQgJiBGb3JlZ3JvdW5kIENvbG9yc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JUZXh0dXJlOkJBQllMT04uRHluYW1pY1RleHR1cmUgPSBuZXcgQkFCWUxPTi5EeW5hbWljVGV4dHVyZShcIlBsYXllclRleHR1cmVDb2xvclwiLCB7IHdpZHRoOnRoaXMudGV4dHVyZVJlc29sdXRpb24sIGhlaWdodDp0aGlzLnRleHR1cmVSZXNvbHV0aW9uIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yQ3R4OmFueSA9IGNvbG9yVGV4dHVyZS5nZXRDb250ZXh0KCkgYXMgYW55O1xuICAgICAgICAgICAgICAgIGNvbG9yQ3R4LmZpbGxTdHlsZSA9IHRoaXMucmVjdENvbG9yLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29sb3JDdHguZmlsbFJlY3QoMCwgMCwgdGhpcy50ZXh0dXJlUmVzb2x1dGlvbiwgdGhpcy50ZXh0dXJlUmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgY29sb3JDdHguZm9udCA9IGZvbnRTdHJpbmc7XG4gICAgICAgICAgICAgICAgY29sb3JDdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICBjb2xvckN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuICAgICAgICAgICAgICAgIGNvbG9yQ3R4LmZpbGxTdHlsZSA9IHRoaXMubGFiZWxDb2xvci50b0hleFN0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbG9yQ3R4LmZpbGxUZXh0KG5hbWUsICh0aGlzLnRleHR1cmVSZXNvbHV0aW9uKjAuNSkgKyB0aGlzLnBpeGVsT2Zmc2V0WCwgKHRoaXMudGV4dHVyZVJlc29sdXRpb24qMC41KSArIHRoaXMucGl4ZWxPZmZzZXRZKTtcbiAgICAgICAgICAgICAgICBjb2xvclRleHR1cmUudXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gUGxhbmUgTmFtZSBMYWJlbCBNYXRlcmlhbCBTZXR1cFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgcGxhbmVNYXRlcmlhbC5kaXNhYmxlTGlnaHRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBsYW5lTWF0ZXJpYWwub3BhY2l0eVRleHR1cmUgPSBvcGFjaXR5VGV4dHVyZTtcbiAgICAgICAgICAgICAgICBwbGFuZU1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gY29sb3JUZXh0dXJlXG4gICAgICAgICAgICAgICAgcGxhbmVNYXRlcmlhbC5lbWlzc2l2ZVRleHR1cmUgPSBjb2xvclRleHR1cmU7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBQbGFuZSBQb3NpdGlvbiAmIE9mZnNldCBQYXJlbnRpbmdcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHBsYW5lLm1hdGVyaWFsID0gcGxhbmVNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICBwbGFuZS5iaWxsYm9hcmRNb2RlID0gQkFCWUxPTi5NZXNoLkJJTExCT0FSRE1PREVfQUxMO1xuICAgICAgICAgICAgICAgIHBsYW5lLnBvc2l0aW9uLnggPSB0aGlzLmxhYmVsT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICBwbGFuZS5wb3NpdGlvbi55ID0gKHRoaXMubGFiZWxPZmZzZXRZICsgUFJPSkVDVC5Db2x5c2V1c05ldHdvcmtBdmF0YXIuSEVJR0hUX1BBRERJTkcpO1xuICAgICAgICAgICAgICAgIHBsYW5lLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDsgLy8gRklYTUU6IE1heWJlIFBhcmVudCBUbyBNb2RlbCBIZWFkIEJvbmUgT3IgU29tZXRoaW5nIC0gPz8/XG4gICAgICAgICAgICAgICAgcGxhbmUucmVuZGVyaW5nR3JvdXBJZCA9IFVOSVRZLlV0aWxpdGllcy5EZWZhdWx0UmVuZGVyR3JvdXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY3JlYXRlUm91bmRlZFJlY3QoeDpudW1iZXIsIHk6bnVtYmVyLCB3Om51bWJlciwgaDpudW1iZXIsIHI6bnVtYmVyLCBjdHg6YW55KTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodyA8IDIgKiByKSByID0gdyAvIDI7XG4gICAgICAgICAgICBpZiAoaCA8IDIgKiByKSByID0gaCAvIDI7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHggKyByLCB5KTtcbiAgICAgICAgICAgIGN0eC5hcmNUbyh4ICsgdywgeSwgeCArIHcsIHkgKyBoLCByKTtcbiAgICAgICAgICAgIGN0eC5hcmNUbyh4ICsgdywgeSArIGgsIHgsIHkgKyBoLCByKTtcbiAgICAgICAgICAgIGN0eC5hcmNUbyh4LCB5ICsgaCwgeCwgeSwgcik7XG4gICAgICAgICAgICBjdHguYXJjVG8oeCwgeSwgeCArIHcsIHksIHIpO1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICB9ICAgICAgICBcblxuICAgICAgICBwcml2YXRlIGdldFJlc2l6ZWRGb250U3RyaW5nKHRleHQ6c3RyaW5nLCBtYXhXaWR0aDpudW1iZXIsIHN0YXJ0aW5nRm9udFNpemU6bnVtYmVyLCBmb250RmFtaWx5OnN0cmluZyA9IFwiQXJpYWxcIiwgZm9udFN0eWxlOnN0cmluZyA9IFwiXCIpOnN0cmluZyB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wQ2FudmFzOkhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjb25zdCBtZWFzdXJlQ3R4OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIGNvbnN0IGdldEZvbnRTdHJpbmc6RnVuY3Rpb24gPSAoc2l6ZTpzdHJpbmcpID0+IHsgcmV0dXJuIGAke2ZvbnRTdHlsZX0keyhmb250U3R5bGUgPT09IFwiXCIpP1wiXCI6XCIgXCJ9JHtzaXplfXB4ICR7Zm9udEZhbWlseX1gOyB9XG4gICAgICAgICAgICBsZXQgY3VycmVudFNpemUgPSBzdGFydGluZ0ZvbnRTaXplO1xuICAgICAgICAgICAgbWVhc3VyZUN0eC5mb250ID0gZ2V0Rm9udFN0cmluZyhjdXJyZW50U2l6ZSk7IC8vIE5vdGU6IE11c3QgQmUgU2V0IEJlZm9yZSBNZWFzdXJpbmdcbiAgICAgICAgICAgIGxldCBjdXJyZW50V2lkdGggPSBtZWFzdXJlQ3R4Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0ZXA6bnVtYmVyID0gMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudFdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1NpemUgPSBjdXJyZW50U2l6ZSAtIHN0ZXA7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVDdHguZm9udCA9IGdldEZvbnRTdHJpbmcobmV3U2l6ZSk7IC8vIE5vdGU6IE11c3QgQmUgU2V0IEJlZm9yZSBNZWFzdXJpbmdcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1dpZHRoOm51bWJlciA9IG1lYXN1cmVDdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdXaWR0aCA8IG1heFdpZHRoICYmIHN0ZXAgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXAgPSAwLjE7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTaXplICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2lkdGggPSBuZXdXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2l6ZSA9IG5ld1NpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldEZvbnRTdHJpbmcoY3VycmVudFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwcml2YXRlIHNldHVwTG9jYWxQbGF5ZXJBdmF0YXIoKTp2b2lkIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyQXZhdGFyUGFyYW06c3RyaW5nID0gVU5JVFkuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJhdmF0YXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckF2YXRhclBhcmFtICE9IG51bGwgJiYgcGxheWVyQXZhdGFyUGFyYW0gIT09IFwiXCIgJiYgcGxheWVyQXZhdGFyUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdEF2YXRhciA9IGRlY29kZVVSSUNvbXBvbmVudChwbGF5ZXJBdmF0YXJQYXJhbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaChlMSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJHZW5kZXJQYXJhbTpzdHJpbmcgPSBVTklUWS5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcImdlbmRlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyR2VuZGVyUGFyYW0gIT0gbnVsbCAmJiBwbGF5ZXJHZW5kZXJQYXJhbSAhPT0gXCJcIiAmJiBwbGF5ZXJHZW5kZXJQYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJHZW5kZXIgPSBkZWNvZGVVUklDb21wb25lbnQocGxheWVyR2VuZGVyUGFyYW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2goZTIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVySGFuZG5lc3NQYXJhbTpzdHJpbmcgPSBVTklUWS5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcImhhbmRcIik7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckhhbmRuZXNzUGFyYW0gIT0gbnVsbCAmJiBwbGF5ZXJIYW5kbmVzc1BhcmFtICE9PSBcIlwiICYmIHBsYXllckhhbmRuZXNzUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFySGFuZG5lc3MgPSBkZWNvZGVVUklDb21wb25lbnQocGxheWVySGFuZG5lc3NQYXJhbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaChlMykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckhhbmRuZXNzUGFyYW06c3RyaW5nID0gVU5JVFkuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJoYW5kXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJIYW5kbmVzc1BhcmFtICE9IG51bGwgJiYgcGxheWVySGFuZG5lc3NQYXJhbSAhPT0gXCJcIiAmJiBwbGF5ZXJIYW5kbmVzc1BhcmFtICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF2YXRhckhhbmRuZXNzID0gZGVjb2RlVVJJQ29tcG9uZW50KHBsYXllckhhbmRuZXNzUGFyYW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2goZTMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBOZXR3b3JrIEVudGl0eSBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qga2xhc3M6c3RyaW5nID0gXCJQUk9KRUNULkNvbHlzZXVzTmV0d29ya0VudGl0eVwiO1xuICAgICAgICAgICAgbGV0IGNvbHlzZXVzOlBST0pFQ1QuQ29seXNldXNOZXR3b3JrRW50aXR5ID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy50cmFuc2Zvcm0sIGtsYXNzKTtcbiAgICAgICAgICAgIGlmIChjb2x5c2V1cyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHlzZXVzID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy50cmFuc2Zvcm0ucGFyZW50IGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZSwga2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29seXNldXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHlzZXVzID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy50cmFuc2Zvcm0ucGFyZW50LnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGtsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29seXNldXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50LnBhcmVudC5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29seXNldXMgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLnRyYW5zZm9ybS5wYXJlbnQucGFyZW50LnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGtsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2x5c2V1cyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHlzZXVzLnJ1bnRpbWVBdHRyaWJ1dGVzID09IG51bGwpIGNvbHlzZXVzLnJ1bnRpbWVBdHRyaWJ1dGVzID0gW107XG4gICAgICAgICAgICAgICAgY29seXNldXMucnVudGltZUF0dHJpYnV0ZXMucHVzaCh7IGtleTogXCJwbGF5ZXJBdmF0YXJcIiwgdmFsdWU6IHRoaXMuZGVmYXVsdEF2YXRhciB9KTtcbiAgICAgICAgICAgICAgICBjb2x5c2V1cy5ydW50aW1lQXR0cmlidXRlcy5wdXNoKHsga2V5OiBcInBsYXllckdlbmRlclwiLCB2YWx1ZTogdGhpcy5hdmF0YXJHZW5kZXIgfSk7XG4gICAgICAgICAgICAgICAgY29seXNldXMucnVudGltZUF0dHJpYnV0ZXMucHVzaCh7IGtleTogXCJwbGF5ZXJIYW5kXCIsIHZhbHVlOiB0aGlzLmF2YXRhckhhbmRuZXNzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vICBMb2FkIFJ1bnRpbWUgUGxheWVyIEF2YXRhciBNb2RlbFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRBdmF0YXIgIT0gbnVsbCAmJiB0aGlzLmRlZmF1bHRBdmF0YXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoVU5JVFkuU2NlbmVNYW5hZ2VyLkhhc1NjZW5lQmVlblByZUxvYWRlZCh0aGlzLnNjZW5lKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRSdW50aW1lUGxheWVyQXZhdGFyKHRoaXMuZGVmYXVsdEF2YXRhcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkTG9jYXRpb24gPSB0aGlzLmRlZmF1bHRBdmF0YXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJJbnZhbGlkIGF2YXRhciBsb2NhdGlvbiBzcGVjaWZpZWQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXR1cFJlbW90ZVBsYXllckF2YXRhcigpOnZvaWQge1xuICAgICAgICAgICAgbGV0IHJlbW90ZUVudGl0eTphbnkgPSAoPGFueT50aGlzLnRyYW5zZm9ybSkubmV0d29ya0VudGl0eTtcbiAgICAgICAgICAgIGlmIChyZW1vdGVFbnRpdHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVFbnRpdHkgPSAoPGFueT50aGlzLnRyYW5zZm9ybSkucGFyZW50Lm5ldHdvcmtFbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdGVFbnRpdHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUVudGl0eSA9ICg8YW55PnRoaXMudHJhbnNmb3JtKS5wYXJlbnQucGFyZW50Lm5ldHdvcmtFbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW90ZUVudGl0eSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQucGFyZW50LnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVFbnRpdHkgPSAoPGFueT50aGlzLnRyYW5zZm9ybSkucGFyZW50LnBhcmVudC5wYXJlbnQubmV0d29ya0VudGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFF1ZXJ5IE5ldHdvcmsgRW50aXR5IEF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAocmVtb3RlRW50aXR5ICE9IG51bGwgJiYgcmVtb3RlRW50aXR5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCAmJiByZW1vdGVFbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgIT0gbnVsbCAmJiByZW1vdGVFbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJBdmF0YXI6c3RyaW5nID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeU5ldHdvcmtBdHRyaWJ1dGUocmVtb3RlRW50aXR5LnRyYW5zZm9ybU5vZGUsIFwicGxheWVyQXZhdGFyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJBdmF0YXIgIT0gbnVsbCAmJiBwbGF5ZXJBdmF0YXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0QXZhdGFyID0gcGxheWVyQXZhdGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJHZW5kZXI6c3RyaW5nID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeU5ldHdvcmtBdHRyaWJ1dGUocmVtb3RlRW50aXR5LnRyYW5zZm9ybU5vZGUsIFwicGxheWVyR2VuZGVyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJHZW5kZXIgIT0gbnVsbCAmJiBwbGF5ZXJHZW5kZXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJHZW5kZXIgPSBwbGF5ZXJHZW5kZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckhhbmQ6c3RyaW5nID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeU5ldHdvcmtBdHRyaWJ1dGUocmVtb3RlRW50aXR5LnRyYW5zZm9ybU5vZGUsIFwicGxheWVySGFuZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVySGFuZCAhPSBudWxsICYmIHBsYXllckhhbmQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJIYW5kbmVzcyA9IHBsYXllckhhbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG93bmVyTmFtZTpzdHJpbmcgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5TmV0d29ya0F0dHJpYnV0ZShyZW1vdGVFbnRpdHkudHJhbnNmb3JtTm9kZSwgXCJvd25lck5hbWVcIik7XG4gICAgICAgICAgICAgICAgaWYgKG93bmVyTmFtZSAhPSBudWxsICYmIG93bmVyTmFtZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF2YXRhckxhYmVsID0gb3duZXJOYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyAgTG9hZCBSdW50aW1lIFBsYXllciBBdmF0YXIgTW9kZWxcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0QXZhdGFyICE9IG51bGwgJiYgdGhpcy5kZWZhdWx0QXZhdGFyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkUnVudGltZVBsYXllckF2YXRhcih0aGlzLmRlZmF1bHRBdmF0YXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJJbnZhbGlkIGF2YXRhciBsb2NhdGlvbiBzcGVjaWZpZWQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjb25maWd1cmVQbGF5ZXJBdmF0YXJSaWcocm9vdDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFybWF0dXJlcyA9IHJvb3QuZ2V0Q2hpbGRyZW4oKG5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKSA9PiB7IHJldHVybiAobm9kZS5uYW1lID09PSBcIkFybWF0dXJlXCIpOyB9LCBmYWxzZSkgYXMgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlW107XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyQXJtYXR1cmUgPSAoYXJtYXR1cmVzICE9IG51bGwgJiYgYXJtYXR1cmVzLmxlbmd0aCA+IDApID8gYXJtYXR1cmVzWzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgc2hhZG93TGlzdDogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IG51bGw7IFxuICAgICAgICAgICAgICAgIGxldCBmcmVlemVMaXN0OiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gbnVsbDsgXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzaGVzOkJBQllMT04uQWJzdHJhY3RNZXNoW10gPSByb290LmdldENoaWxkTWVzaGVzKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAobWVzaGVzICE9IG51bGwgJiYgbWVzaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2gucmVuZGVyaW5nR3JvdXBJZCA9IFVOSVRZLlV0aWxpdGllcy5EZWZhdWx0UmVuZGVyR3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNraW5zOkJBQllMT04uQWJzdHJhY3RNZXNoW10gPSByb290LmdldENoaWxkTWVzaGVzKGZhbHNlLCAobm9kZTpCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyByZXR1cm4gKG5vZGUuc2tlbGV0b24gIT0gbnVsbCk7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChza2lucyAhPSBudWxsICYmIHNraW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpbnMuZm9yRWFjaCgoc2tpbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXZhdGFyU2tlbGV0b24gPT0gbnVsbCAmJiBza2luLnNrZWxldG9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF2YXRhclNrZWxldG9uID0gc2tpbi5za2VsZXRvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhc3RSZWFsdGltZVNoYWRvdyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3dMaXN0ID09IG51bGwpIHNoYWRvd0xpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dMaXN0LnB1c2goc2tpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBza2luLmlzUGlja2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbi51c2VWZXJ0ZXhDb2xvcnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraW4uY3VsbGluZ1N0cmF0ZWd5ID0gQkFCWUxPTi5BYnN0cmFjdE1lc2guQ1VMTElOR1NUUkFURUdZX1NUQU5EQVJEO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbi5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2ggPSB0cnVlOyAvLyBOb3RlOiBBbHdheXMgU2V0IEZvciBTa2luIFdpdGhvdXQgVXBkYXRlZCBCb3VuZGluZyBCb3ggSW5mb1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd0xpc3QgIT0gbnVsbCAmJiBzaGFkb3dMaXN0Lmxlbmd0aCA+IDAgJiYgdGhpcy5zY2VuZS5saWdodHMgIT0gbnVsbCAmJiB0aGlzLnNjZW5lLmxpZ2h0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGlnaHRzLmZvckVhY2goKGxpZ2h0OiBCQUJZTE9OLkxpZ2h0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3dnZW5lcmF0b3I6IEJBQllMT04uSVNoYWRvd0dlbmVyYXRvciA9IGxpZ2h0LmdldFNoYWRvd0dlbmVyYXRvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYWRvd2dlbmVyYXRvciAhPSBudWxsICYmIGxpZ2h0Lm1ldGFkYXRhICE9IG51bGwgJiYgbGlnaHQubWV0YWRhdGEudW5pdHkgIT0gbnVsbCAmJiBsaWdodC5tZXRhZGF0YS51bml0eS5hdXRvcmVuZGVyID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hhZG93bWFwOkJBQllMT04uUmVuZGVyVGFyZ2V0VGV4dHVyZSA9IHNoYWRvd2dlbmVyYXRvci5nZXRTaGFkb3dNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93bWFwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYWRvd21hcC5yZW5kZXJMaXN0ID09IG51bGwpIHNoYWRvd21hcC5yZW5kZXJMaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0xpc3QuZm9yRWFjaCgobWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyBzaGFkb3dtYXAucmVuZGVyTGlzdC5wdXNoKG1lc2gpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnJlZXplTGlzdCAhPSBudWxsICYmIGZyZWV6ZUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmcmVlemVMaXN0LmZvckVhY2goKG1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2gpID0+IHsgbWVzaC5mcmVlemVXb3JsZE1hdHJpeCgpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBSRVRBUkdFVCBBTklNQVRJT04gR1JPVVBTIC0gKFRPRE86IEJsZW5kIFNoYXBlcylcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF2YXRhclNrZWxldG9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uUmlnOnN0cmluZyA9ICh0aGlzLmF2YXRhckdlbmRlciAhPSBudWxsICYmIHRoaXMuYXZhdGFyR2VuZGVyLnRvTG93ZXJDYXNlKCkgPT09IFwiZmVtYWxlXCIpID8gdGhpcy5mZW1hbGVBbmltYXRpb25SaWcgOiB0aGlzLm1hbGVBbmltYXRpb25SaWc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25SaWcgIT0gbnVsbCAmJiBhbmltYXRpb25SaWcgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbkFzc2V0OkJBQllMT04uQXNzZXRDb250YWluZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0QXNzZXRDb250YWluZXIodGhpcy5zY2VuZSwgYW5pbWF0aW9uUmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25Bc3NldCAhPSBudWxsICYmIGFuaW1hdGlvbkFzc2V0LmFuaW1hdGlvbkdyb3VwcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNncm91cHM6QkFCWUxPTi5BbmltYXRpb25Hcm91cFtdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeGNsaXBzOmFueVtdID0gKHRoaXMuYW5pbWF0b3IgIT0gbnVsbCkgPyB0aGlzLmFuaW1hdG9yLmdldERlZmF1bHRDbGlwcygpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25Bc3NldC5hbmltYXRpb25Hcm91cHMuZm9yRWFjaCgoYWdyb3VwLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyBhZ3JvdXAuc3RvcCgpOyB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld25hbWUgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlwiICsgYWdyb3VwLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZ3JvdXAgPSBhZ3JvdXAuY2xvbmUobmV3bmFtZSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2dyb3VwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNncm91cC5sb29wQW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5SZXRhcmdldEFuaW1hdGlvbkdyb3VwU2tlbGV0b24oY2dyb3VwLCB0aGlzLmF2YXRhclNrZWxldG9uLCB0aGlzLmF2YXRhckFybWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdG9yICE9IG51bGwgJiYgeGNsaXBzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4Y2xpcCA9IHRoaXMuYW5pbWF0b3IuZml4QW5pbWF0aW9uR3JvdXAoY2dyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGNsaXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2dyb3VwcyA9PSBudWxsKSBjZ3JvdXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNncm91cHMucHVzaChjZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBsb2NhdGUgYW5pbWF0aW9uIGdyb3VwIGluIGRlZmF1bHQgY2xpcHM6IFwiICsgY2dyb3VwLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBjbG9uZSBhbmltYXRpb24gZ3JvdXA6IFwiICsgYWdyb3VwLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0b3IgIT0gbnVsbCAmJiBjZ3JvdXBzICE9IG51bGwgJiYgY2dyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0b3Iuc2V0QW5pbWF0aW9uR3JvdXBzKGNncm91cHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1PVkUgQk9ORSBTT0NLRVQgVFJBTkZPUk1TIC0gPz8/XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBEaXNwb3NlIE1hbm5lcXVpbm4gU2tpbiBBbmQgQm9uZXMgRm9yIFBlcmZvcm1hbmNlXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdmF0YXJMb2FkZWQgPT09IHRydWUgJiYgdGhpcy5kaXNwb3NlT2ZNYW5uZXF1aW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW46QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlW10gPSB0aGlzLnRyYW5zZm9ybS5nZXRDaGlsZHJlbihudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkJBQllMT04uVHJhbnNmb3JtTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnNrZWxldG9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5za2VsZXRvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2tlbGV0b24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVueDpCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IHRoaXMudHJhbnNmb3JtLmdldENoaWxkcmVuKG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbnguZm9yRWFjaCgoY2hpbGR4OkJBQllMT04uVHJhbnNmb3JtTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkeCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGR4LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGU0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIExvYWQgcnVudGltZSBwbGF5ZXIgYXZhdGFyIGZyb20gc3BlY2ZpZWQgbG9jYXRpb24gKi9cbiAgICAgICAgcHJpdmF0ZSBsb2FkUnVudGltZVBsYXllckF2YXRhcih1cmw6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh1cmwgIT0gbnVsbCAmJiB1cmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUud2FybihcIj4+PiBMb2FkaW5nIHBsYXllciBhdmF0YXIgZnJvbTogXCIgKyB1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjZW5lUm9vdFVybDpzdHJpbmcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0Um9vdFVybCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBsZXQgaW1wb3J0VXJsOnN0cmluZyA9IHVybDtcbiAgICAgICAgICAgICAgICBsZXQgcm9vdHVybDpzdHJpbmcgPSBzY2VuZVJvb3RVcmw7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lOnN0cmluZyA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICByb290dXJsID0gc2NlbmVSb290VXJsO1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gaW1wb3J0VXJsO1xuICAgICAgICAgICAgICAgIGlmIChpbXBvcnRVcmwuaW5kZXhPZihcIjovL1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3R1cmwgPSBpbXBvcnRVcmwuc3Vic3RyaW5nKDAsIGltcG9ydFVybC5sYXN0SW5kZXhPZignLycpKSArIFwiL1wiO1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9ydFVybC5zdWJzdHJpbmcoaW1wb3J0VXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhc3NldHNNYW5hZ2VyOkJBQllMT04uQXNzZXRzTWFuYWdlciA9IG5ldyBCQUJZTE9OLkFzc2V0c01hbmFnZXIodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0VGFzazpCQUJZTE9OLk1lc2hBc3NldFRhc2sgPSBhc3NldHNNYW5hZ2VyLmFkZE1lc2hUYXNrKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWVzaFRhc2tcIiksIG51bGwsIHJvb3R1cmwsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpbXBvcnRUYXNrLm9uU3VjY2VzcyA9ICh0YXNrOkJBQllMT04uTWVzaEFzc2V0VGFzaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFzay5sb2FkZWRNZXNoZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5sb2FkZWRNZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNoLm1hdGVyaWFsIGluc3RhbmNlb2YgQkFCWUxPTi5QQlJNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNoLm1hdGVyaWFsLmFtYmllbnRDb2xvciA9IHRoaXMuYW1iaWVudE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvb3RBdmF0YXJNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gdGFzay5sb2FkZWRNZXNoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm9vdEF2YXRhck1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RBdmF0YXJNZXNoLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290QXZhdGFyTWVzaC5uYW1lID0gXCJCbGVuZGVyQXZhdGFyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzaFRhc2tLZXk6c3RyaW5nID0gdGFzay5zY2VuZUZpbGVuYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuUmVnaXN0ZXJJbXBvcnRNZXNoZXModGhpcy5zY2VuZSwgbWVzaFRhc2tLZXksIHRhc2subG9hZGVkTWVzaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZVBsYXllckF2YXRhclJpZyhyb290QXZhdGFyTWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltcG9ydFRhc2sub25FcnJvciA9ICh0YXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2ssIG1lc3NhZ2U/OiBzdHJpbmcsIGV4Y2VwdGlvbj86IGFueSkgPT4geyBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGV4Y2VwdGlvbik7IH07XG4gICAgICAgICAgICAgICAgYXNzZXRzTWFuYWdlci5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQWRkIGFzc2V0IHByZWxvYWRlciB0YXNrcyAoaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9kaXZpbmdEZWVwZXIvaW1wb3J0ZXJzL2Fzc2V0TWFuYWdlcikgKi9cbiAgICAgICAgcHVibGljIGFkZFByZWxvYWRlclRhc2tzKGFzc2V0c01hbmFnZXI6VU5JVFkuUHJlbG9hZEFzc2V0c01hbmFnZXIpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJlbG9hZExvY2F0aW9uICE9IG51bGwgJiYgdGhpcy5wcmVsb2FkTG9jYXRpb24gIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUud2FybihcIj4+PiBQcmVsb2FkaW5nIHBsYXllciBhdmF0YXIgZnJvbTogXCIgKyB0aGlzLnByZWxvYWRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NlbmVSb290VXJsOnN0cmluZyA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRSb290VXJsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGxldCBpbXBvcnRVcmw6c3RyaW5nID0gdGhpcy5wcmVsb2FkTG9jYXRpb247XG4gICAgICAgICAgICAgICAgbGV0IHJvb3R1cmw6c3RyaW5nID0gc2NlbmVSb290VXJsO1xuICAgICAgICAgICAgICAgIGxldCBmaWxlbmFtZTpzdHJpbmcgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgcm9vdHVybCA9IHNjZW5lUm9vdFVybDtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9ydFVybDtcbiAgICAgICAgICAgICAgICBpZiAoaW1wb3J0VXJsLmluZGV4T2YoXCI6Ly9cIikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICByb290dXJsID0gaW1wb3J0VXJsLnN1YnN0cmluZygwLCBpbXBvcnRVcmwubGFzdEluZGV4T2YoJy8nKSkgKyBcIi9cIjtcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBpbXBvcnRVcmwuc3Vic3RyaW5nKGltcG9ydFVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0VGFzazpCQUJZTE9OLk1lc2hBc3NldFRhc2sgPSBhc3NldHNNYW5hZ2VyLmFkZE1lc2hUYXNrKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWVzaFRhc2tcIiksIG51bGwsIHJvb3R1cmwsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpbXBvcnRUYXNrLm9uU3VjY2VzcyA9ICh0YXNrOkJBQllMT04uTWVzaEFzc2V0VGFzaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFzay5sb2FkZWRNZXNoZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5sb2FkZWRNZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNoLm1hdGVyaWFsIGluc3RhbmNlb2YgQkFCWUxPTi5QQlJNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNoLm1hdGVyaWFsLmFtYmllbnRDb2xvciA9IHRoaXMuYW1iaWVudE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvb3RBdmF0YXJNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gdGFzay5sb2FkZWRNZXNoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm9vdEF2YXRhck1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RBdmF0YXJNZXNoLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290QXZhdGFyTWVzaC5uYW1lID0gXCJCbGVuZGVyQXZhdGFyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzaFRhc2tLZXk6c3RyaW5nID0gdGFzay5zY2VuZUZpbGVuYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuUmVnaXN0ZXJJbXBvcnRNZXNoZXModGhpcy5zY2VuZSwgbWVzaFRhc2tLZXksIHRhc2subG9hZGVkTWVzaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZVBsYXllckF2YXRhclJpZyhyb290QXZhdGFyTWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltcG9ydFRhc2sub25FcnJvciA9ICh0YXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2ssIG1lc3NhZ2U/OiBzdHJpbmcsIGV4Y2VwdGlvbj86IGFueSkgPT4geyBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGV4Y2VwdGlvbik7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gbmV0d29yayBlbnRpdHkgKENvbHlzZXVzIFVuaXZlcnNhbCBHYW1lIFJvb20pXG4gICAgICogQGNsYXNzIENvbHlzZXVzTmV0d29ya0VudGl0eSAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBDb2x5c2V1c05ldHdvcmtFbnRpdHkgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYXV0b0NyZWF0ZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHJlbW90ZVByZWZhYjpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYXNzZXRDb250YWluZXI6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1vdmVtZW50RXBzaWxvbjpudW1iZXIgPSAwLjAwMDAxO1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRNZXRob2Q6QkFCWUxPTi5FbnRpdHlNb3ZlbWVudFR5cGUgPSBCQUJZTE9OLkVudGl0eU1vdmVtZW50VHlwZS5DbGllbnRBdXRob3JpdHk7XG4gICAgICAgIHB1YmxpYyBpbnRlcnBvbGF0aW9uTW9kZTpCQUJZTE9OLkVudGl0eUludGVycG9sYXRpb24gPSBCQUJZTE9OLkVudGl0eUludGVycG9sYXRpb24uRGVmYXVsdDtcbiAgICAgICAgcHVibGljIGludGVycG9sYXRpb25IYW5kbGVyOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzeW5jVHJhbnNmb3JtTm9kZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHJ1bnRpbWVBdHRyaWJ1dGVzOkJBQllMT04uRW50aXR5QXR0cmlidXRlW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNyZWF0aW9uQXR0cmlidXRlczpCQUJZTE9OLkVudGl0eUF0dHJpYnV0ZVtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBidWZmZXJlZEF0dHJpYnV0ZXM6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBuZXR3b3JrRW50aXR5Q3JlYXRlZDpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5ldHdvcmtFbnRpdHlDcmVhdGVkID09PSBmYWxzZSAmJiB0aGlzLmF1dG9DcmVhdGUgPT09IHRydWUgJiYgdGhpcy5pc1JlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRvQ3JlYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRW50aXR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmF1dG9DcmVhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRNZXRob2QgPSAwO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVQcmVmYWIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hc3NldENvbnRhaW5lciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRpb25Nb2RlID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbkhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGlvbkF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ydW50aW1lQXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnN5bmNUcmFuc2Zvcm1Ob2RlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmtFbnRpdHlDcmVhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eUlkOnN0cmluZyA9IFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuR2V0TmV0d29ya0VudGl0eUlkKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIGlmIChlbnRpdHlJZCAhPSBudWxsICYmIGVudGl0eUlkICE9PSBcIlwiKSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJlbW92ZU5ldHdvcmtFbnRpdHkoZW50aXR5SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZUVudGl0eSgpOnZvaWQge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlc1RvQ3JlYXRlOmFueSA9IHt9O1xuICAgICAgICAgICAgaWYgKHRoaXMuY3JlYXRpb25BdHRyaWJ1dGVzICE9IG51bGwgJiYgdGhpcy5jcmVhdGlvbkF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRpb25BdHRyaWJ1dGVzLmZvckVhY2goKGNyZWF0aW9uQXR0cmlidXRlOkJBQllMT04uRW50aXR5QXR0cmlidXRlKSA9PiB7IGF0dHJpYnV0ZXNUb0NyZWF0ZVtjcmVhdGlvbkF0dHJpYnV0ZS5rZXldID0gY3JlYXRpb25BdHRyaWJ1dGUudmFsdWU7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucnVudGltZUF0dHJpYnV0ZXMgIT0gbnVsbCAmJiB0aGlzLnJ1bnRpbWVBdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bnRpbWVBdHRyaWJ1dGVzLmZvckVhY2goKHJ1bnRpbWVBdHRyaWJ1dGU6QkFCWUxPTi5FbnRpdHlBdHRyaWJ1dGUpID0+IHsgYXR0cmlidXRlc1RvQ3JlYXRlW3J1bnRpbWVBdHRyaWJ1dGUua2V5XSA9IHJ1bnRpbWVBdHRyaWJ1dGUudmFsdWU7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VzdG9tSGFuZGxlcjpzdHJpbmcgPSAodGhpcy5pbnRlcnBvbGF0aW9uTW9kZSA9PT0gQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uLkN1c3RvbSkgPyB0aGlzLmludGVycG9sYXRpb25IYW5kbGVyIDogXCJcIjtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuQ3JlYXRlTmV0d29ya0VudGl0eSh0aGlzLnRyYW5zZm9ybSwgdGhpcy5yZW1vdGVQcmVmYWIsIHRoaXMuYXNzZXRDb250YWluZXIsIHRoaXMubW92ZW1lbnRFcHNpbG9uLCB0aGlzLm1vdmVtZW50TWV0aG9kLCB0aGlzLmludGVycG9sYXRpb25Nb2RlLCB0aGlzLnN5bmNUcmFuc2Zvcm1Ob2RlLCBjdXN0b21IYW5kbGVyLCB0aGlzLmJ1ZmZlcmVkQXR0cmlidXRlcywgYXR0cmlidXRlc1RvQ3JlYXRlKTtcbiAgICAgICAgICAgIHRoaXMubmV0d29ya0VudGl0eUNyZWF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBCQUJZTE9OIHtcbiAgICBleHBvcnQgdHlwZSBVbml2ZXJzYWxHYW1lUm9vbSA9IENvbHlzZXVzLlJvb208QkFCWUxPTi5JQ29seXNldXNSb29tU3RhdGU+O1xuICAgIGV4cG9ydCBlbnVtIFJlbW90ZUZ1bmN0aW9uQ2FsbFRhcmdldCB7IEFsbCA9IDAsIE90aGVycyA9IDEgfVxuICAgIGV4cG9ydCBlbnVtIE5ldHdvcmtFbnRpdHlUeXBlIHsgTm9uZSA9IDAsIExvY2FsID0gMSwgUmVtb3RlID0gMiB9XG4gICAgZXhwb3J0IGVudW0gRW50aXR5TW92ZW1lbnRUeXBlIHsgQ2xpZW50QXV0aG9yaXR5ID0gMCwgU2VydmVyQXV0aG9yaXR5ID0gMSB9XG4gICAgZXhwb3J0IGVudW0gRW50aXR5SW50ZXJwb2xhdGlvbiB7IERlZmF1bHQgPSAwLCBIZXJtaXRlID0gMSwgQ3VzdG9tID0gMiB9XG4gICAgZXhwb3J0IGNsYXNzIEVudGl0eUF0dHJpYnV0ZSB7IHB1YmxpYyBrZXk6c3RyaW5nOyBwdWJsaWMgdmFsdWU6c3RyaW5nOyB9XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBuZXR3b3JrIG1hbmFnZW1lbnQgc3lzdGVtIGNsYXNzIChDb2x5c2V1cyBVbml2ZXJzYWwgR2FtZSBSb29tKVxuICAgICAqIFN1cHBvcnRzIG5ldHdvcmsgdXNlcnMsIGVudGl0aWVzLCBhdHRyaWJ1dGVzLCByZW1vdGUgZnVuY3Rpb24gY2FsbHMsIGN1c3RvbSBtZXNzYWdlcywgY3VzdG9tIG1ldGhvZHMgYW5kIGN1c3RvbSByb29tIGxvZ2ljIG1vZHVsZXMuXG4gICAgICogQGNsYXNzIE5ldHdvcmtNYW5hZ2VyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE5ldHdvcmtNYW5hZ2VyIHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgUm9vdE5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgRGVmYXVsdFJvb206QkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFVzZXJSZWZlcmVuY2U6QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIE5ldHdvcmtTZXJ2ZXJUaW1lOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIE5ldHdvcmtFbnRpdHlRdWV1ZTpNYXA8c3RyaW5nLCBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHk+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgQ3VzdG9tSGFuZGxlck1hcDpNYXA8c3RyaW5nLCAoZW50aXR5OkJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgdHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSwgZGVsdGFUaW1lOm51bWJlcik9PnZvaWQ+ID0gbmV3IE1hcDxzdHJpbmcsIChlbnRpdHk6QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCB0cmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6bnVtYmVyKT0+dm9pZD4oKTtcbiAgICAgICAgXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNlbmRQb3NpdGlvbkJ1ZmZlcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2VuZFJvdGF0aW9uQnVmZmVyOkJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNlbmRMaW5lYXJCdWZmZXI6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNlbmRBbmd1bGFyQnVmZmVyOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2NlbmVSZWZlcmVuY2U6QkFCWUxPTi5TY2VuZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSW50ZXJwb2xhdGlvbkJ1ZmZlcjpudW1iZXIgPSAwLjE1O1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uQ29ubmVjdE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uSUNvbHlzZXVzTmV0d29ya1VzZXI+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25EaXNjb25uZWN0T2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlcj4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkpvaW5Sb29tT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlcj4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkxlYXZlUm9vbU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPG51bWJlcj4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkNyZWF0ZUVudGl0eU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eT4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPblJlbW92ZUVudGl0eU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eT4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkNoYXRNZXNzYWdlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5JQ29seXNldXNDaGF0TWVzc2FnZT4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPblBpbmdSZWNlaXZlZE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPGFueT4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkVycm9yTWVzc2FnZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPFVOSVRZLlJvb21FcnJvck1lc3NhZ2U+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25SZW1vdGVQcm9jZWR1cmVDYWxsT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8YW55PigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFJlZ2lzdGVyQ3VzdG9tSW50ZXJwb2xhdGlvbkhhbmRsZXIobmFtZTpzdHJpbmcsIGhhbmRsZXI6KGVudGl0eTpCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZTpudW1iZXIpPT52b2lkKTp2b2lkIHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5DdXN0b21IYW5kbGVyTWFwLnNldChuYW1lLCBoYW5kbGVyKTsgfVxuXG4gICAgICAgIC8qKiBJcyB0aGUgY29seXNldXMgbmV0d29yayBsaWJyYXJ5IGlzIGF2YWlsYWJsZSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzQXZhaWxhYmxlKCk6Ym9vbGVhbiB7IHJldHVybiAoKDxhbnk+d2luZG93KS5Db2x5c2V1cyAhPT0gdW5kZWZpbmVkICYmICg8YW55PndpbmRvdykuQ29seXNldXMuQ2xpZW50ICE9PSB1bmRlZmluZWQpOyB9XG4gICAgICAgIC8qKiBJcyB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tIGF0dGFjaGVkIHRvIHRoZSBzY2VuZSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzUm9vbUF0dGFjaGVkKCk6Ym9vbGVhbiB7IHJldHVybiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSAhPSBudWxsICYmIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gIT0gbnVsbCk7IH1cbiAgICAgICAgLyoqIEhhcyBjbGllbnQgcmVjZWl2ZWQgYSBqb2luIHJvb20gY29uZmlybWF0aW9uIG1lc3NhZ2UgZnJvbSB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSGFzSm9pbmVkUm9vbSgpOmJvb2xlYW4geyByZXR1cm4gKEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UgIT0gbnVsbCAmJiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tICE9IG51bGwgJiYgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Vc2VyUmVmZXJlbmNlICE9IG51bGwpOyB9XG4gICAgICAgIC8qKiBHZXRzIHRoZSBjdXJyZW50IHVzZXIgaW4gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldEN1cnJlbnRVc2VyKCk6QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlciB7IHJldHVybiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlVzZXJSZWZlcmVuY2U7IH1cbiAgICAgICAgLyoqIEdldHMgdGhlIGF0dGFjaGVkIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldERlZmF1bHRSb29tKCk6QkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSB7IHJldHVybiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tOyB9XG4gICAgICAgIC8qKiBHZXRzIHRoZSBuZXR3b3JrIHNlcnZlciB0aW1lIG9mIHRoZSBhdHRhY2hlZCBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKFNlY29uZHMpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TmV0d29ya1RpbWUoKTpudW1iZXIgeyByZXR1cm4gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrU2VydmVyVGltZTsgfVxuICAgICAgICAvKiogSXMgbG9jYWwgbmV0d29yayBlbnRpdHkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc0xvY2FsTmV0d29ya0VudGl0eShlbnRpdHk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTpib29sZWFuIHsgcmV0dXJuIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkdldE5ldHdvcmtFbnRpdHlUeXBlKGVudGl0eSkgPT09IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuTG9jYWwpOyB9XG4gICAgICAgIC8qKiBJcyByZW1vdGUgbmV0d29yayBlbnRpdHkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc1JlbW90ZU5ldHdvcmtFbnRpdHkoZW50aXR5OkJBQllMT04uVHJhbnNmb3JtTm9kZSk6Ym9vbGVhbiB7IHJldHVybiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5HZXROZXR3b3JrRW50aXR5VHlwZShlbnRpdHkpID09PSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLlJlbW90ZSk7IH1cbiAgICAgICAgLyoqIEdldHMgdGhlIG5ldHdvcmsgZW50aXR5IHR5cGUgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXROZXR3b3JrRW50aXR5VHlwZShlbnRpdHk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgY29uc3QgYWVudGl0eTphbnkgPSBlbnRpdHk7XG4gICAgICAgICAgICBpZiAoYWVudGl0eS50cmFuc2Zvcm1Ob2RlICE9IG51bGwgJiYgYWVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYWVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEF0dGFjaGVzIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSB0byB0aGUgc3BlY2lmaWVkIHNjZW5lICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQXR0YWNoRGVmYXVsdFJvb20oc2NlbmU6QkFCWUxPTi5TY2VuZSwgcm9vbTpCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tKTp2b2lkIHtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGV0YWNoRGVmYXVsdFJvb20oKTtcbiAgICAgICAgICAgIGlmIChzY2VuZSAhPSBudWxsICYmIHJvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gPSByb29tO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UgPSBzY2VuZTtcbiAgICAgICAgICAgICAgICBpZiAocm9vbS5zdGF0ZSAhPSBudWxsICYmIHJvb20uc3RhdGUuZW50aXRpZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5yb29tLnN0YXRlLmVudGl0aWVzKS5vbkFkZCgoZSwgayk9PnsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5BZGROZXR3b3JrRW50aXR5SGFuZGxlcihlLCBrKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PnJvb20uc3RhdGUuZW50aXRpZXMpLm9uUmVtb3ZlKChlLCBrKT0+eyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJlbW92ZU5ldHdvcmtFbnRpdHlIYW5kbGVyKGUsIGspOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm9vbS5vblN0YXRlQ2hhbmdlLm9uY2UoKHN0YXRlKSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuT25EaXNwYXRjaENoYXRRdWV1ZU1lc3NhZ2VzKHN0YXRlKTsgfSk7IC8vIE5vdGU6IEZpcnN0IFN0YXRlIENobmFnZVxuICAgICAgICAgICAgICAgIHJvb20ub25TdGF0ZUNoYW5nZSgoc3RhdGUpID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkRpc3BhdGNoQ2hhdFF1ZXVlTWVzc2FnZXMoc3RhdGUpOyB9KTsgICAgICAvLyBOb3RlOiBTdGF0ZSBVcGRhdGVkXG4gICAgICAgICAgICAgICAgcm9vbS5vbk1lc3NhZ2UoXCJvbkNvbm5lY3RcIiwgKGluZm86YW55KSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuT25Db25uZWN0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaW5mby51c2VyKTsgfSk7XG4gICAgICAgICAgICAgICAgcm9vbS5vbk1lc3NhZ2UoXCJvbkRpc2Nvbm5lY3RcIiwgKGluZm86YW55KSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuT25EaXNjb25uZWN0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaW5mby51c2VyKTsgfSk7XG4gICAgICAgICAgICAgICAgcm9vbS5vbk1lc3NhZ2UoXCJvbkpvaW5cIiwgKGluZm86YW55KSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuSm9pbkRlZmF1bHRSb29tSGFuZGxlcihpbmZvKTsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkpvaW5Sb29tT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaW5mby51c2VyKTsgfSk7XG4gICAgICAgICAgICAgICAgcm9vbS5vbk1lc3NhZ2UoXCJvblJGQ1wiLCAobWVzc2FnZTphbnkpID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PblJlbW90ZVByb2NlZHVyZUNhbGxPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhtZXNzYWdlKTsgfSk7XG4gICAgICAgICAgICAgICAgcm9vbS5vbkxlYXZlKChjb2RlOm51bWJlcikgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uTGVhdmVSb29tT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoY29kZSk7IH0pO1xuICAgICAgICAgICAgICAgIHJvb20ub25FcnJvcigoY29kZTpudW1iZXIsIG1lc3NhZ2U6c3RyaW5nKT0+eyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uRXJyb3JNZXNzYWdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyBjb2RlOiBjb2RlLCBtZXNzYWdlOiBtZXNzYWdlIH0pOyB9KTtcbiAgICAgICAgICAgICAgICBzY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKEJBQllMT04uTmV0d29ya01hbmFnZXIuT25TY2VuZUJlZm9yZVJlbmRlclVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIERldGFjaGVzIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSBmcm9tIHRoZSBzY2VuZSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIERldGFjaERlZmF1bHRSb29tKCk6dm9pZCB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJvb3ROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZS5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlMikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PblNjZW5lQmVmb3JlUmVuZGVyVXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZTYpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlNik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaChlOSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTkpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJvb3ROb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tID0gbnVsbDtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlVzZXJSZWZlcmVuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtTZXJ2ZXJUaW1lID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyBhIG5ldHdvcmsgdXNlciBpbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TmV0d29ya1VzZXIoaWQ6c3RyaW5nKTpCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZSAhPSBudWxsICYmIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUudXNlcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnN0YXRlLnVzZXJzLmdldChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGEgbmV0d29yayBlbnRpdHkgaW4gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldE5ldHdvcmtFbnRpdHkoaWQ6c3RyaW5nKTpCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHkgPSBudWxsO1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUgIT0gbnVsbCAmJiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnN0YXRlLmVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZS5lbnRpdGllcy5nZXQoaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogQ3JlYXRlcyBhIG5ldHdvcmsgZW50aXR5IGluIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBDcmVhdGVOZXR3b3JrRW50aXR5KGxvY2FsVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSwgcmVtb3RlUHJlZmFiOnN0cmluZyA9IG51bGwsIGFzc2V0Q29udGFpbmVyOnN0cmluZyA9IG51bGwsIG1vdmVtZW50RXBzaWxvbjpudW1iZXIgPSAwLjAwMDAxLCBtb3ZlbWVudFR5cGU6QkFCWUxPTi5FbnRpdHlNb3ZlbWVudFR5cGUgPSBCQUJZTE9OLkVudGl0eU1vdmVtZW50VHlwZS5DbGllbnRBdXRob3JpdHksIGludGVycG9sYXRpb25Nb2RlOkJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbiA9IEJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbi5EZWZhdWx0LCBhdXRvU3luY1RyYW5zZm9ybTpib29sZWFuID0gdHJ1ZSwgY3VzdG9tSGFuZGxlck5hbWU6c3RyaW5nID0gbnVsbCwgYnVmZmVyZWRBdHRyaWJ1dGVzOmFueSwgY3JlYXRlQXR0cmlidXRlczphbnkgPSBudWxsKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uUm9vbUNvbnRyb2xsZXIuQ3JlYXRlTmV0d29ya0VudGl0eShCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlVzZXJSZWZlcmVuY2UubmFtZSwgbG9jYWxUcmFuc2Zvcm0sIHJlbW90ZVByZWZhYiwgYXNzZXRDb250YWluZXIsIG1vdmVtZW50RXBzaWxvbiwgbW92ZW1lbnRUeXBlLCBpbnRlcnBvbGF0aW9uTW9kZSwgYXV0b1N5bmNUcmFuc2Zvcm0sIGN1c3RvbUhhbmRsZXJOYW1lLCBidWZmZXJlZEF0dHJpYnV0ZXMsIGNyZWF0ZUF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlbW92ZXMgYSBuZXR3b3JrIGVudGl0eSBmcm9tIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBSZW1vdmVOZXR3b3JrRW50aXR5KGVudGl0eUlkOnN0cmluZyk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLlJlbW92ZU5ldHdvcmtFbnRpdHkoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSwgZW50aXR5SWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgYSB1c2VyIGF0dHJpYnV0ZSBvbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0VXNlckF0dHJpYnV0ZXModXNlcklkOnN0cmluZywgYXR0cmlidXRlc1RvU2V0OmFueSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLlNldFVzZXJBdHRyaWJ1dGVzKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20sIHVzZXJJZCwgYXR0cmlidXRlc1RvU2V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIGEgZW50aXR5IGF0dHJpYnV0ZSBvbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0RW50aXR5QXR0cmlidXRlcyhlbnRpdHlJZDpzdHJpbmcsIGF0dHJpYnV0ZXNUb1NldDphbnkpOnZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Sb29tQ29udHJvbGxlci5TZXRFbnRpdHlBdHRyaWJ1dGVzKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20sIGVudGl0eUlkLCBhdHRyaWJ1dGVzVG9TZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIENhbGxzIGEgY3VzdG9tIHNlcnZlciBtZXRob2Qgb24gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIENhbGxDdXN0b21NZXRob2QobWV0aG9kOnN0cmluZywgLi4uYXJnczphbnlbXSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLkNhbGxDdXN0b21NZXRob2QoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSwgbWV0aG9kLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBFeGVjdXRzIGEgcmVtb3RlIGZ1bmN0aW9uIGNhbGwgb24gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEV4ZWN1dGVSZW1vdGVGdW5jdGlvbkNhbGwodGFyZ2V0OkJBQllMT04uUmVtb3RlRnVuY3Rpb25DYWxsVGFyZ2V0LCBlbnRpdHlJZDpzdHJpbmcsIGZ1bmM6c3RyaW5nLCAuLi5hcmdzOmFueVtdKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uUm9vbUNvbnRyb2xsZXIuRXhlY3V0ZVJlbW90ZUZ1bmN0aW9uQ2FsbChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLCB0YXJnZXQsIGVudGl0eUlkLCBmdW5jLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gR2FtZSBTZXNzaW9uIENoYXQgTWVzc2FnZXNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogR2V0cyB0aGUgY3VycmVudCBjaGF0IG1lc3NhZ2UgcXVldWUgaXRlbXMgZm9yIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRDaGF0TWVzc2FnZXMoKTpCQUJZTE9OLklDb2x5c2V1c0NoYXRNZXNzYWdlW10ge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2VzOkJBQllMT04uSUNvbHlzZXVzQ2hhdE1lc3NhZ2VbXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZS5xdWV1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUucXVldWUuZm9yRWFjaCgocXVldWUsIGlkKSA9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZSAhPSBudWxsICYmIHF1ZXVlLm1lc3NhZ2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5tZXNzYWdlcy5mb3JFYWNoKChtZXNzYWdlLCBpbmRleCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VzID09IG51bGwpIG1lc3NhZ2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBTZW5kIGEgY2hhdCBtZXNzYWdlIHRvIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZW5kQ2hhdE1lc3NhZ2UobWVzc2FnZTpzdHJpbmcpOnZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Sb29tQ29udHJvbGxlci5TZW5kQ2hhdChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRW50aXR5IExpZmUgQ3ljbGUgVXBkYXRlc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIE9uU2NlbmVCZWZvcmVSZW5kZXJVcGRhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTpudW1iZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0RGVsdGFTZWNvbmRzKEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UpO1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya1NlcnZlclRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrU2VydmVyVGltZSArPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlByb2Nlc3NOZXR3b3JrRW50aXRpZXMoZGVsdGFUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIE9uRGlzcGF0Y2hDaGF0UXVldWVNZXNzYWdlcyhzdGF0ZTpCQUJZTE9OLklDb2x5c2V1c1Jvb21TdGF0ZSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZXM6QkFCWUxPTi5JQ29seXNldXNDaGF0TWVzc2FnZVtdID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5HZXRDaGF0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZXMgIT0gbnVsbCAmJiBtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgSW4gQXNjZW5kaW5nIE9yZGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnNvcnQoKGxlZnQsIHJpZ2h0KTogbnVtYmVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LnRpbWVzdGFtcCA8IHJpZ2h0LnRpbWVzdGFtcCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQudGltZXN0YW1wID4gcmlnaHQudGltZXN0YW1wKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gRGlzcGF0Y2ggU2hhbGxvdyBDb3BpZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMuZm9yRWFjaCgobXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChteCAhPSBudWxsICYmICgoPGFueT5teCkuZGlzcGF0Y2hlZCA9PSBudWxsIHx8ICg8YW55Pm14KS5kaXNwYXRjaGVkID09IGZhbHNlKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkNoYXRNZXNzYWdlT2JzZXJ2YWJsZSAmJiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uQ2hhdE1lc3NhZ2VPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uQ2hhdE1lc3NhZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7Li4ubXh9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55Pm14KS5kaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIEVudGl0eSBTY2VuZSBWaWV3IEZ1bmN0aW9ucyAoU2NlbmUgRGVsdGEgVGltZSlcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFByb2Nlc3NOZXR3b3JrRW50aXRpZXMoZGVsdGFUaW1lOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdHJhbnNtaXRQYWNrZXRCdWZmZXI6YW55W10gPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUuZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUgIT0gbnVsbCAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVN5bmMgIT0gbnVsbCAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVN5bmMgPT09IHRydWUgJiYgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlVHlwZSA9PT0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5Mb2NhbCkgeyAvLyBOb3RlOiBMb2NhbCBOZXR3b3JrIEVudGl0aWVzIE9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMYXN0UG9zaXRpb24gPT0gbnVsbCkgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMYXN0UG9zaXRpb24gPSAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLnBvc2l0aW9uLmVxdWFsc1dpdGhFcHNpbG9uKCg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGFzdFBvc2l0aW9uLCAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUVwc2lsb24pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUucG9zaXRpb24uc3VidHJhY3RUb1JlZigoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxhc3RQb3NpdGlvbiwgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkueCAvPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkueSAvPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkueiAvPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eS5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxhc3RQb3NpdGlvbi5jb3B5RnJvbSgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFja2V0OmFueSA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuQ3JlYXRlTmV0d29ya1BhY2tldERhdGEoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNtaXRQYWNrZXRCdWZmZXIgPT0gbnVsbCkgdHJhbnNtaXRQYWNrZXRCdWZmZXIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFja2V0ICE9IG51bGwpIHRyYW5zbWl0UGFja2V0QnVmZmVyLnB1c2gocGFja2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlVHlwZSA9PT0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5SZW1vdGUpIHsgLy8gTm90ZTogUmVtb3RlIE5ldHdvcmsgRW50aXRpZXMgT25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlcjpJbnRlcnBvbGF0aW9uQnVmZmVyID0gKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlJbnRlcnBCdWZmZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlci51cGRhdGUoZGVsdGFUaW1lICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUFjdGl2YXRlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlBY3RpdmF0ZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUFjdGl2YXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMyhlbnRpdHkueFBvcywgZW50aXR5LnlQb3MsIGVudGl0eS56UG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbihlbnRpdHkueFJvdCwgZW50aXR5LnlSb3QsIGVudGl0eS56Um90LCBlbnRpdHkud1JvdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLnNldEVuYWJsZWQodHJ1ZSk7IC8vIE5vdGU6IEVuYWJsZSBSb290IE5vZGUgT24gSW5pdGlhbCBBY3RpdmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiPj4+IEFjdGl2YXRpbmcgUmVtb3RlIEVudGl0eTogXCIgKyAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuVXBkYXRlUmVtb3RlRW50aXR5KGJ1ZmZlciwgZW50aXR5LCAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IExpbWl0IFBhY2tldCBTZW5kIC0gPz8/XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodHJhbnNtaXRQYWNrZXRCdWZmZXIgIT0gbnVsbCAmJiB0cmFuc21pdFBhY2tldEJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZERhdGFQYWNrZXRUb1NlcnZlcih0cmFuc21pdFBhY2tldEJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2VuZERhdGFQYWNrZXRUb1NlcnZlcih0cmFuc21pdFBhY2tldEJ1ZmZlcjphbnlbXSk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkYXRhUGFja2V0ID0geyBlbnRpdGllczogdHJhbnNtaXRQYWNrZXRCdWZmZXIgfTtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnNlbmQoXCJwYWNrZXRVcGRhdGVcIiwgZGF0YVBhY2tldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBVcGRhdGVSZW1vdGVFbnRpdHkoYnVmZmVyOkludGVycG9sYXRpb25CdWZmZXIsIGVudGl0eTpCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZTpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgaWYgKGVudGl0eSA9PSBudWxsIHx8IHRyYW5zZm9ybSA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIE5ldHdvcmsgVHJhbnNsYXRpb25cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uTW9kZTpudW1iZXIgPSAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlJbnRlcnBvbGF0ZTtcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uTW9kZSA9PT0gQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uLkN1c3RvbSkge1xuICAgICAgICAgICAgICAgIGlmICgoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlIYW5kbGVyICE9IG51bGwpIHsgXG4gICAgICAgICAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUhhbmRsZXIoZW50aXR5LCB0cmFuc2Zvcm0sIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLnN0YXRlID09PSBCdWZmZXJTdGF0ZS5QTEFZSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbShidWZmZXIucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKGJ1ZmZlci5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxpbmcuY29weUZyb20oYnVmZmVyLnNjYWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEJ1ZmZlcmVkIEF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAoKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyID09IG51bGwpICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlciA9IHt9O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMFwiXSA9IGVudGl0eS5hdXgwMDtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjFcIl0gPSBlbnRpdHkuYXV4MDE7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIyXCJdID0gZW50aXR5LmF1eDAyO1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiM1wiXSA9IGVudGl0eS5hdXgwMztcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjRcIl0gPSBlbnRpdHkuYXV4MDQ7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCI1XCJdID0gZW50aXR5LmF1eDA1O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiNlwiXSA9IGVudGl0eS5hdXgwNjtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjdcIl0gPSBlbnRpdHkuYXV4MDc7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCI4XCJdID0gZW50aXR5LmF1eDA4O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiOVwiXSA9IGVudGl0eS5hdXgwOTtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjEwXCJdID0gZW50aXR5LmF1eDEwO1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTFcIl0gPSBlbnRpdHkuYXV4MTE7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxMlwiXSA9IGVudGl0eS5hdXgxMjtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjEzXCJdID0gZW50aXR5LmF1eDEzO1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTRcIl0gPSBlbnRpdHkuYXV4MTQ7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxNVwiXSA9IGVudGl0eS5hdXgxNTtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjE2XCJdID0gZW50aXR5LmF1eDE2O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTdcIl0gPSBlbnRpdHkuYXV4MTc7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxOFwiXSA9IGVudGl0eS5hdXgxODtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjE5XCJdID0gZW50aXR5LmF1eDE5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgQ3JlYXRlTmV0d29ya1BhY2tldERhdGEobG9jYWxUcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBwb3N0QXR0cmlidXRlczpib29sZWFuID0gdHJ1ZSk6YW55IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6YW55ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmtFbnRpdHk6QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHk7XG4gICAgICAgICAgICBpZiAobmV0d29ya0VudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5TW92ZW1lbnQgIT0gbnVsbCAmJiAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eU1vdmVtZW50ID09PSBCQUJZTE9OLkVudGl0eU1vdmVtZW50VHlwZS5DbGllbnRBdXRob3JpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZihsb2NhbFRyYW5zZm9ybSwgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUG9zaXRpb25CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVSb3RhdGlvblRvUmVmKGxvY2FsVHJhbnNmb3JtLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRSb3RhdGlvbkJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFBvc2l0aW9uQnVmZmVyLmNvcHlGcm9tKGxvY2FsVHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRSb3RhdGlvbkJ1ZmZlci5jb3B5RnJvbShsb2NhbFRyYW5zZm9ybS5hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFBvc2l0aW9uQnVmZmVyLmNvcHlGcm9tKGxvY2FsVHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUm90YXRpb25CdWZmZXIuY29weUZyb20obG9jYWxUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkgIT0gbnVsbCkgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kTGluZWFyQnVmZmVyLmNvcHlGcm9tKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZExpbmVhckJ1ZmZlci5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBbmd1bGFyVmVsb2NpdHkgIT0gbnVsbCkgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kQW5ndWxhckJ1ZmZlci5jb3B5RnJvbSgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kQW5ndWxhckJ1ZmZlci5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBsZXQgYTAwOm51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhMDE6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwMjpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTAzOm51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhMDQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwNTpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTA2Om51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhMDc6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwODpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTA5Om51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhMTA6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExMTpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTEyOm51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhMTM6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExNDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTE1Om51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhMTY6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExNzpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTE4Om51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhMTk6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RBdHRyaWJ1dGVzID09PSB0cnVlICYmICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIwXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDAgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTAxID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjFcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjJcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwMiA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIyXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIzXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDMgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiM1wiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiNFwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTA0ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjRcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjVcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwNSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI1XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI2XCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDYgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiNlwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiN1wiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTA3ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjdcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjhcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwOCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI4XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI5XCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDkgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiOVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTBcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExMCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTFcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExMSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTJcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExMiA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMlwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTNcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExMyA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxM1wiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTRcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExNCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTVcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExNSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTZcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExNiA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNlwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTdcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExNyA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxN1wiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMThcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExOCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxOFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTlcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExOSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxOVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgTmV0d29yayBFbnRpdHkgVXBkYXRlIFBhY2tldFxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWNrZXQ6YW55ID0ge307XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5pZCA9IG5ldHdvcmtFbnRpdHkuaWQ7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC54UG9zID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUG9zaXRpb25CdWZmZXIueDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnlQb3MgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRQb3NpdGlvbkJ1ZmZlci55O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQuelBvcyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFBvc2l0aW9uQnVmZmVyLno7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC54Um90ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUm90YXRpb25CdWZmZXIueDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnlSb3QgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRSb3RhdGlvbkJ1ZmZlci55O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQuelJvdCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFJvdGF0aW9uQnVmZmVyLno7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC53Um90ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUm90YXRpb25CdWZmZXIudztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnhWZWwgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRMaW5lYXJCdWZmZXIueDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnlWZWwgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRMaW5lYXJCdWZmZXIueTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnpWZWwgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRMaW5lYXJCdWZmZXIuejtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnhBbmcgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRBbmd1bGFyQnVmZmVyLng7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC55QW5nID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kQW5ndWxhckJ1ZmZlci55O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQuekFuZyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZEFuZ3VsYXJCdWZmZXIuejtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwMCA9IGEwMDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwMSA9IGEwMTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwMiA9IGEwMjtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwMyA9IGEwMztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwNCA9IGEwNDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwNSA9IGEwNTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwNiA9IGEwNjtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwNyA9IGEwNztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwOCA9IGEwODtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwOSA9IGEwOTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExMCA9IGExMDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExMSA9IGExMTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExMiA9IGExMjtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExMyA9IGExMztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExNCA9IGExNDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExNSA9IGExNTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExNiA9IGExNjtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExNyA9IGExNztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExOCA9IGExODtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExOSA9IGExOTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnNwZWVkID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kTGluZWFyQnVmZmVyLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBwYWNrZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIEVudGl0eSBTdGF0aWMgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBKb2luRGVmYXVsdFJvb21IYW5kbGVyKGluZm86YW55KTp2b2lkIHtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuVXNlclJlZmVyZW5jZSA9IGluZm8udXNlcjtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya1NlcnZlclRpbWUgPSBpbmZvLnNlcnZlclRpbWU7XG4gICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkludGVycG9sYXRpb25CdWZmZXIgPSBpbmZvLmludGVycG9sYXRpb25CdWZmZXI7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJUQ1A6IFlvdSBhcmUgY29ubmVjdGVkIHRvIHRoZSBkZWZhdWx0IHJvb20gY2hhbm5lbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEFkZE5ldHdvcmtFbnRpdHlIYW5kbGVyKGVudGl0eTpCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIGtleTpzdHJpbmcpOnZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gUFJPQ0VTUyBRVUVVRUQgTkVUV09SSyBFTlRJVElFU1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlLmZvckVhY2goKHZ4OkJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwga3g6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlByb2Nlc3NOZXR3b3JrRW50aXR5SGFuZGxlcih2eCwga3gpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQUk9DRVNTIE5FVyBORVRXT1JLIEVOVElUWSBJVEVNXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Qcm9jZXNzTmV0d29ya0VudGl0eUhhbmRsZXIoZW50aXR5LCBrZXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUgPT0gbnVsbCkgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUgPSBuZXcgTWFwPHN0cmluZywgQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5PigpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlLnNldChrZXksIGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBQcm9jZXNzTmV0d29ya0VudGl0eUhhbmRsZXIoZW50aXR5OkJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwga2V5OnN0cmluZyk6dm9pZCB7XG4gICAgICAgICAgICAvL2NvbnNvbGUud2FybihcIj4+PiBBZGQgTmV3IE5ldHdvcmsgRW50aXR5OiBcIiArIGtleSk7XG4gICAgICAgICAgICBjb25zdCBhZW50aXR5OmFueSA9IGVudGl0eTtcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lUmVmOkJBQllMT04uU2NlbmUgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNjZW5lUmVmZXJlbmNlO1xuICAgICAgICAgICAgY29uc3QgcmVtb3RlUHJlZmFiOnN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcInJlbW90ZVByZWZhYlwiKTtcbiAgICAgICAgICAgIGNvbnN0IGFzc2V0Q29udGFpbmVyOnN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcImFzc2V0Q29udGFpbmVyXCIpO1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tSGFuZGxlcjpzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJjdXN0b21IYW5kbGVyXCIpO1xuICAgICAgICAgICAgY29uc3QgbW92ZW1lbnRFcHNpbG9uOnN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcIm1vdmVtZW50RXBzaWxvblwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVtZW50VHlwZTpzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJtb3ZlbWVudFR5cGVcIik7XG4gICAgICAgICAgICBjb25zdCBpbnRlcm9wbGF0aW9uOnN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcImludGVyb3BsYXRpb25cIik7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJlZEF0dHJpYnM6c3RyaW5nID0gZW50aXR5LmF0dHJpYnV0ZXMuZ2V0KFwiYnVmZmVyZWRBdHRyaWJzXCIpO1xuICAgICAgICAgICAgY29uc3Qgc3luY1RyYW5zZm9ybTpzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJzeW5jVHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgY29uc3QgcGxheWVyQXZhdGFyOnN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcInBsYXllckF2YXRhclwiKTtcbiAgICAgICAgICAgIGNvbnN0IGlzTG9jYWxFbnRpdHk6Ym9vbGVhbiA9IChlbnRpdHkub3duZXJJZCA9PT0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Vc2VyUmVmZXJlbmNlLmlkKTtcbiAgICAgICAgICAgIGlmIChpc0xvY2FsRW50aXR5ID09PSBmYWxzZSkgeyAvLyBOb3RlOiBMb2NhbCBOZXR3b3JrIEVudGl0aWVzIE9ubHlcbiAgICAgICAgICAgICAgICBhZW50aXR5Lm9uQ2hhbmdlKChjaGFuZ2VzOmFueSk9PnsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Qcm9jZXNzUmVtb3RlRW50aXR5Q2hhbmdlcyhlbnRpdHksIGNoYW5nZXMpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHNvdXJjZU5hbWU6c3RyaW5nID0gZW50aXR5LmF0dHJpYnV0ZXMuZ2V0KFwic291cmNlTmFtZVwiKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VOYW1lID09IG51bGwgfHwgc291cmNlTmFtZSA9PT0gXCJcIikgc291cmNlTmFtZSA9IFwiVW5rbm93blwiO1xuXG4gICAgICAgICAgICBsZXQgdHJhbnNmb3JtTm9kZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHRyYW5zZm9ybU5vZGVOYW1lOnN0cmluZyA9IChzb3VyY2VOYW1lICsgXCIuXCIgKyBlbnRpdHkub3duZXJJZCk7XG4gICAgICAgICAgICBsZXQgdHJhbnNmb3JtTm9kZVR5cGU6QkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZSA9IChpc0xvY2FsRW50aXR5ID09PSB0cnVlKSA/IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuTG9jYWwgOiBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLlJlbW90ZTtcblxuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwiTmV0d29yayBFbnRpdGllc1wiLCBzY2VuZVJlZik7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZS5wb3NpdGlvbi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgIGlmIChpc0xvY2FsRW50aXR5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0aWFsUm90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3RlUHJlZmFiICE9IG51bGwgJiYgcmVtb3RlUHJlZmFiICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NldENvbnRhaW5lciAhPSBudWxsICYmIGFzc2V0Q29udGFpbmVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWllcjpCQUJZTE9OLkFzc2V0Q29udGFpbmVyID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldEFzc2V0Q29udGFpbmVyKHNjZW5lUmVmLCBhc3NldENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUgPSBVTklUWS5TY2VuZU1hbmFnZXIuSW5zdGFudGlhdGVQcmVmYWJGcm9tQ29udGFpbmVyKGNvbnRhaWVyLCByZW1vdGVQcmVmYWIsIHRyYW5zZm9ybU5vZGVOYW1lLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJvb3ROb2RlLCBpbml0aWFsUG9zaXRpb24sIGluaXRpYWxSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5vZGUgPT0gbnVsbCkgQkFCWUxPTi5Ub29scy5XYXJuKFwiRmFpbGVkIHRvIGluc3RhbmlhdGUgJ1wiICsgcmVtb3RlUHJlZmFiICsgXCInIGZyb20gYXNzZXQgY29udGFpbmVyICdcIiArIGFzc2V0Q29udGFpbmVyICsgXCInLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiQXNzZXQgY29udGFpbmVyICdcIiArIGFzc2V0Q29udGFpbmVyICsgXCInIG5vdCByZWdpc3RlcmVkIG9uIHRoZSBzY2VuZS5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkluc3RhbnRpYXRlUHJlZmFiRnJvbVNjZW5lKHNjZW5lUmVmLCByZW1vdGVQcmVmYWIsIHRyYW5zZm9ybU5vZGVOYW1lLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJvb3ROb2RlLCBpbml0aWFsUG9zaXRpb24sIGluaXRpYWxSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtTm9kZSA9PSBudWxsKSBCQUJZTE9OLlRvb2xzLldhcm4oXCJGYWlsZWQgdG8gaW5zdGFuaWF0ZSAnXCIgKyByZW1vdGVQcmVmYWIgKyBcIicgZnJvbSBjdXJyZW50IHNjZW5lLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtTm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKHRyYW5zZm9ybU5vZGVOYW1lLCBzY2VuZVJlZik7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUucGFyZW50ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZS5wb3NpdGlvbiA9IGluaXRpYWxQb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlLnJvdGF0aW9uUXVhdGVybmlvbiA9IGluaXRpYWxSb3RhdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlLm5hbWUgPSB0cmFuc2Zvcm1Ob2RlTmFtZTsgLy8gTm90ZTogRG91YmxlIENoZWNrIFRyYW5zZm9ybSBOb2RlIE5hbWUgSXMgU2V0XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZS5zZXRFbmFibGVkKGZhbHNlKTsgICAgICAgIC8vIE5vdGU6IERpc2FibGUgUm9vdCBOb2RlIFVudGlsIEluaXRpYWwgQWN0aXZhdGlvblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gSGlkZSBOZXRvd3JrIEF2YXRhciBQbGF5ZXIgQXJtYXR1cmVcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllckF2YXRhciAhPSBudWxsICYmIHBsYXllckF2YXRhciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpbnM6QkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IHRyYW5zZm9ybU5vZGUuZ2V0Q2hpbGRNZXNoZXMoZmFsc2UsIChub2RlOkJBQllMT04uQWJzdHJhY3RNZXNoKSA9PiB7IHJldHVybiAobm9kZS5za2VsZXRvbiAhPSBudWxsKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbnMgIT0gbnVsbCAmJiBza2lucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbnMuZm9yRWFjaCgoc2tpbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFnOnN0cmluZyA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcoc2tpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFnICE9IG51bGwgJiYgc3RhZyA9PT0gXCJBcm1hdHVyZVwiIHx8IHNraW4ubmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKFwiLnNraW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraW4uaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1Ob2RlQnlJRChzY2VuZVJlZiwgZW50aXR5LmNyZWF0aW9uSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Ob2RlID09IG51bGwpIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBsb2NhdGUgbG9jYWwgZW50aXR5IHRyYW5zZm9ybSAnXCIgKyBlbnRpdHkuY3JlYXRpb25JZCArIFwiJyBpbiBjdXJyZW50IHNjZW5lLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBDdXN0b20gSW50ZXJwb2xhdGlvbiBIYW5kbGVyXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgbGV0IGN1c3RvbUhhbmRsZXJGdW5jOihlbnRpdHk6QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCB0cmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6bnVtYmVyKT0+dm9pZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY3VzdG9tSGFuZGxlciAhPSBudWxsICYmIGN1c3RvbUhhbmRsZXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjdXN0b21IYW5kbGVyRnVuYyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuQ3VzdG9tSGFuZGxlck1hcC5nZXQoY3VzdG9tSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgaWYgKGN1c3RvbUhhbmRsZXJGdW5jID09IG51bGwpIEJBQllMT04uVG9vbHMuV2FybihcIkN1c3RvbSBpbnRlcm9wbGF0aW9uIGhhbmRsZXIgbm90IGZvdW5kOiBcIiArIGN1c3RvbUhhbmRsZXIgKyBcIi4gRGVmYXVsdCBpbnRlcnBvbGF0aW9uIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBMaW5rIEVudGl0eSBBbmQgVHJhbnNmb3JtIE5vZGUgUmVmZXJlbmNlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUgPSB0cmFuc2Zvcm1Ob2RlO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgPSB0cmFuc2Zvcm1Ob2RlVHlwZTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eSA9IGVudGl0eVxuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5VHlwZSA9IHRyYW5zZm9ybU5vZGVUeXBlO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5U3luYyA9IChzeW5jVHJhbnNmb3JtICE9IG51bGwgJiYgc3luY1RyYW5zZm9ybSA9PT0gXCJ0cnVlXCIpO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5QmF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SGFuZGxlciA9IGN1c3RvbUhhbmRsZXJGdW5jO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5RXBzaWxvbiA9IChtb3ZlbWVudEVwc2lsb24gIT0gbnVsbCAmJiBtb3ZlbWVudEVwc2lsb24gIT09IFwiXCIpID8gcGFyc2VGbG9hdChtb3ZlbWVudEVwc2lsb24pIDogMC4wMDAwMTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU1vdmVtZW50ID0gKG1vdmVtZW50VHlwZSAhPSBudWxsICYmIG1vdmVtZW50VHlwZSAhPT0gXCJcIikgPyBwYXJzZUZsb2F0KG1vdmVtZW50VHlwZSkgOiAwO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwb2xhdGUgPSAoaW50ZXJvcGxhdGlvbiAhPSBudWxsICYmIGludGVyb3BsYXRpb24gIT09IFwiXCIpID8gcGFyc2VGbG9hdChpbnRlcm9wbGF0aW9uKSA6IDA7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlBY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxhc3RQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1Bvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrUm90YXRpb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1ZlbG9jaXR5ID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrU2NhbGluZyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUludGVycEJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlQbGF5ZXJBdmF0YXIgPSBwbGF5ZXJBdmF0YXI7XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5vZGVUeXBlID09IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuUmVtb3RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb25Nb2RlOm51bWJlciA9IGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwb2xhdGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uTW9kZSAhPT0gQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uLkN1c3RvbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyQXR0cmliczphbnkgPSAoYnVmZmVyZWRBdHRyaWJzICE9IG51bGwgJiYgYnVmZmVyZWRBdHRyaWJzICE9PSBcIlwiKSA/IEpTT04ucGFyc2UoYnVmZmVyZWRBdHRyaWJzKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUludGVycEJ1ZmZlciA9IG5ldyBJbnRlcnBvbGF0aW9uQnVmZmVyKGludGVycG9sYXRpb25Nb2RlLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkludGVycG9sYXRpb25CdWZmZXIsIGJ1ZmZlckF0dHJpYnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmFuc2Zvcm1Ob2RlVHlwZSA9PSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLkxvY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IExvY2FsIE9ubHkgU2V0dXBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZSA9IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuTm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuT25DcmVhdGVFbnRpdHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgUHJvY2Vzc1JlbW90ZUVudGl0eUNoYW5nZXMoZW50aXR5OkJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgY2hhbmdlczphbnkpOnZvaWQge1xuICAgICAgICAgICAgaWYgKGVudGl0eSAhPSBudWxsICYmICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZSAhPSBudWxsICYmICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5U3luYyAhPSBudWxsICYmICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5U3luYyA9PT0gdHJ1ZSAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGVUeXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlVHlwZSA9PT0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5SZW1vdGUpIHsgLy8gTm90ZTogUmVtb3RlIE5ldHdvcmsgRW50aXRpZXMgT25seVxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUHJvY2Vzc1JlbW90ZUVudGl0eUNoYW5nZXM6IFwiLCBlbnRpdHksIGNoYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtQb3NpdGlvbi5zZXQoZW50aXR5LnhQb3MsIGVudGl0eS55UG9zLCBlbnRpdHkuelBvcyk7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1JvdGF0aW9uLnNldChlbnRpdHkueFJvdCwgZW50aXR5LnlSb3QsIGVudGl0eS56Um90LCBlbnRpdHkud1JvdCk7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1ZlbG9jaXR5LnNldChlbnRpdHkueFZlbCwgZW50aXR5LnlWZWwsIGVudGl0eS56VmVsKTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrU2NhbGluZy5zZXQoMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUludGVycEJ1ZmZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uOkJBQllMT04uUXVhdGVybmlvbiA9ICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1JvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrVmVsb2NpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsaW5nOkJBQllMT04uVmVjdG9yMyA9ICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1NjYWxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUludGVycEJ1ZmZlci5hcHBlbmRCdWZmZXIocG9zaXRpb24sIHZlbG9jaXR5LCByb3RhdGlvbiwgc2NhbGluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICAgICAgIFxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFJlbW92ZU5ldHdvcmtFbnRpdHlIYW5kbGVyKGVudGl0eTpCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIGtleTpzdHJpbmcpOnZvaWQge1xuICAgICAgICAgICAgY29uc3QgYWVudGl0eTphbnkgPSBlbnRpdHk7XG4gICAgICAgICAgICBpZiAoYWVudGl0eS50cmFuc2Zvcm1Ob2RlICE9IG51bGwgJiYgYWVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZSAhPSBudWxsICYmIGFlbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgPT09IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuUmVtb3RlKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IFJlbW92ZSBSZW1vdGUgTmV0d29yayBFbnRpdHk6IFwiICsga2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoYWVudGl0eS50cmFuc2Zvcm1Ob2RlLmRpc3Bvc2UpIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uUmVtb3ZlRW50aXR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHVuaXZlcnNhbCBnYW1lIHJvb20gY29udHJvbGxlciAoQ29seXNldXMgVW5pdmVyc2FsIEdhbWUgUm9vbSlcbiAgICAgKiBTdXBwb3J0cyBuZXR3b3JrIHVzZXJzLCBlbnRpdGllcywgYXR0cmlidXRlcywgcmVtb3RlIGZ1bmN0aW9uIGNhbGxzLCBjdXN0b20gbWVzc2FnZXMsIGN1c3RvbSBtZXRob2RzIGFuZCBjdXN0b20gcm9vbSBsb2dpYyBtb2R1bGVzLlxuICAgICAqIEBjbGFzcyBSb29tQ29udHJvbGxlciAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBSb29tQ29udHJvbGxlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2VuZFBpbmcocm9vbTpCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tKTp2b2lkIHtcbiAgICAgICAgICAgIHJvb20uc2VuZChcInBpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZW5kQ2hhdChyb29tOkJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20sIG1lc3NhZ2U6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgICAgIHJvb20uc2VuZChcInNlbmRDaGF0XCIsIHsgc2Vzc2lvbklkOiBcIipcIiwgbmFtZTogXCIqXCIsIG1lc3NhZ2U6IG1lc3NhZ2UsIHRpbWVzdGFtcDogLTEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBDYWxsQ3VzdG9tTWV0aG9kKHJvb206QkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSwgbWV0aG9kOnN0cmluZywgLi4uYXJnczphbnlbXSk6dm9pZCB7XG4gICAgICAgICAgICByb29tLnNlbmQoXCJjdXN0b21NZXRob2RcIiwgeyBtZXRob2Q6IG1ldGhvZCwgcGFyYW06IGFyZ3MgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRVc2VyQXR0cmlidXRlcyhyb29tOkJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20sIHVzZXJJZDpzdHJpbmcsIGF0dHJpYnV0ZXNUb1NldDphbnkpOnZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwic2V0QXR0cmlidXRlXCIsIHsgZW50aXR5SWQ6IG51bGwsIHVzZXJJZDogdXNlcklkLCBhdHRyaWJ1dGVzVG9TZXQ6IGF0dHJpYnV0ZXNUb1NldCB9KTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIFNldEVudGl0eUF0dHJpYnV0ZXMocm9vbTpCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tLCBlbnRpdHlJZDpzdHJpbmcsIGF0dHJpYnV0ZXNUb1NldDphbnkpOnZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwic2V0QXR0cmlidXRlXCIsIHsgZW50aXR5SWQ6IGVudGl0eUlkLCB1c2VySWQ6IG51bGwsIGF0dHJpYnV0ZXNUb1NldDogYXR0cmlidXRlc1RvU2V0IH0pO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXRlTmV0d29ya0VudGl0eShyb29tOkJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20sIG93bmVyTmFtZTpzdHJpbmcsIGxvY2FsVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSwgcmVtb3RlUHJlZmFiOnN0cmluZyA9IG51bGwsIGFzc2V0Q29udGFpbmVyOnN0cmluZyA9IG51bGwsIG1vdmVtZW50RXBzaWxvbjpudW1iZXIgPSAwLjAwMDAxLCBtb3ZlbWVudFR5cGU6QkFCWUxPTi5FbnRpdHlNb3ZlbWVudFR5cGUgPSBCQUJZTE9OLkVudGl0eU1vdmVtZW50VHlwZS5DbGllbnRBdXRob3JpdHksIGludGVycG9sYXRpb25Nb2RlOkJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbiA9IEJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbi5EZWZhdWx0LCBhdXRvU3luY1RyYW5zZm9ybTpib29sZWFuID0gdHJ1ZSwgY3VzdG9tSGFuZGxlck5hbWU6c3RyaW5nID0gbnVsbCwgYnVmZmVyZWRBdHRyaWJ1dGVzOmFueSwgY3JlYXRlQXR0cmlidXRlczphbnkgPSBudWxsKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eUF0dHJpYnV0ZXM6YW55ID0gKGNyZWF0ZUF0dHJpYnV0ZXMgIT0gbnVsbCkgPyBjcmVhdGVBdHRyaWJ1dGVzIDoge307XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBsb2NhbFRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eVJvdGF0aW9uOkJBQllMT04uUXVhdGVybmlvbiA9IChsb2NhbFRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkgPyBsb2NhbFRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gOiBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyVmVjdG9yKGxvY2FsVHJhbnNmb3JtLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJvd25lck5hbWVcIl0gPSBvd25lck5hbWU7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wic291cmNlTmFtZVwiXSA9IChsb2NhbFRyYW5zZm9ybS5uYW1lICE9IG51bGwpID8gbG9jYWxUcmFuc2Zvcm0ubmFtZSA6IGxvY2FsVHJhbnNmb3JtLmlkO1xuICAgICAgICAgICAgZW50aXR5QXR0cmlidXRlc1tcImNyZWF0aW9uUG9zXCJdID0gWyBlbnRpdHlQb3NpdGlvbi54LCBlbnRpdHlQb3NpdGlvbi55LCBlbnRpdHlQb3NpdGlvbi56IF07XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiY3JlYXRpb25Sb3RcIl0gPSBbIGVudGl0eVJvdGF0aW9uLngsIGVudGl0eVJvdGF0aW9uLnksIGVudGl0eVJvdGF0aW9uLnosIGVudGl0eVJvdGF0aW9uLncgXTtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJyZW1vdGVQcmVmYWJcIl0gPSByZW1vdGVQcmVmYWI7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiYXNzZXRDb250YWluZXJcIl0gPSBhc3NldENvbnRhaW5lcjtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJjdXN0b21IYW5kbGVyXCJdID0gY3VzdG9tSGFuZGxlck5hbWU7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wibW92ZW1lbnRFcHNpbG9uXCJdID0gbW92ZW1lbnRFcHNpbG9uLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wibW92ZW1lbnRUeXBlXCJdID0gbW92ZW1lbnRUeXBlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiaW50ZXJvcGxhdGlvblwiXSA9IGludGVycG9sYXRpb25Nb2RlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wic3luY1RyYW5zZm9ybVwiXSA9IGF1dG9TeW5jVHJhbnNmb3JtLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJidWZmZXJlZEF0dHJpYnNcIl0gPSAoYnVmZmVyZWRBdHRyaWJ1dGVzICE9IG51bGwpID8gSlNPTi5zdHJpbmdpZnkoYnVmZmVyZWRBdHRyaWJ1dGVzKSA6IG51bGw7XG4gICAgICAgICAgICByb29tLnNlbmQoXCJjcmVhdGVFbnRpdHlcIiwgeyBjcmVhdGlvbklkOiBsb2NhbFRyYW5zZm9ybS5pZCwgYXR0cmlidXRlczogZW50aXR5QXR0cmlidXRlc30gKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIFJlbW92ZU5ldHdvcmtFbnRpdHkocm9vbTpCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tLCBlbnRpdHlJZDpzdHJpbmcpOnZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwicmVtb3ZlRW50aXR5XCIsIGVudGl0eUlkKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEV4ZWN1dGVSZW1vdGVGdW5jdGlvbkNhbGwocm9vbTpCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tLCB0YXJnZXQ6QkFCWUxPTi5SZW1vdGVGdW5jdGlvbkNhbGxUYXJnZXQsIGVudGl0eUlkOnN0cmluZywgZnVuYzpzdHJpbmcsIC4uLmFyZ3M6YW55W10pOnZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwicmVtb3RlRnVuY3Rpb25DYWxsXCIsIHsgZW50aXR5SWQ6IGVudGl0eUlkLCBmdW5jdGlvbjogZnVuYywgcGFyYW06IGFyZ3MsIHRhcmdldDogdGFyZ2V0IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5ldHdvcmsgc3VwcG9ydCBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIChDb2x5c2V1cyBVbml2ZXJzYWwgR2FtZSBSb29tKVxuICAgICAqIFN1cHBvcnRzIG5ldHdvcmsgdXNlcnMsIGVudGl0aWVzLCBhdHRyaWJ1dGVzLCByZW1vdGUgZnVuY3Rpb24gY2FsbHMsIGN1c3RvbSBtZXNzYWdlcywgY3VzdG9tIG1ldGhvZHMgYW5kIGN1c3RvbSByb29tIGxvZ2ljIG1vZHVsZXMuXG4gICAgICovIFxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbHlzZXVzTmV0d29ya0VudGl0eSB7XG4gICAgICAgIGlkOnN0cmluZztcbiAgICAgICAgb3duZXJJZDpzdHJpbmc7XG4gICAgICAgIGNyZWF0aW9uSWQ6c3RyaW5nO1xuICAgICAgICB0aW1lc3RhbXA6bnVtYmVyO1xuICAgICAgICBhdHRyaWJ1dGVzOk1hcDxzdHJpbmcsIHN0cmluZz47XG4gICAgICAgIC8vIC4uXG4gICAgICAgIC8vIFdvcmxkIFN0YXRlIFByb3BlcnRpZXNcbiAgICAgICAgLy8gLi5cbiAgICAgICAgeFBvczpudW1iZXI7XG4gICAgICAgIHlQb3M6bnVtYmVyO1xuICAgICAgICB6UG9zOm51bWJlcjtcbiAgICAgICAgeFJvdDpudW1iZXI7XG4gICAgICAgIHlSb3Q6bnVtYmVyO1xuICAgICAgICB6Um90Om51bWJlcjtcbiAgICAgICAgd1JvdDpudW1iZXI7XG4gICAgICAgIHhWZWw6bnVtYmVyO1xuICAgICAgICB5VmVsOm51bWJlcjtcbiAgICAgICAgelZlbDpudW1iZXI7XG4gICAgICAgIHhBbmc6bnVtYmVyO1xuICAgICAgICB5QW5nOm51bWJlcjtcbiAgICAgICAgekFuZzpudW1iZXI7XG4gICAgICAgIGF1eDAwOm51bWJlcjtcbiAgICAgICAgYXV4MDE6bnVtYmVyO1xuICAgICAgICBhdXgwMjpudW1iZXI7XG4gICAgICAgIGF1eDAzOm51bWJlcjtcbiAgICAgICAgYXV4MDQ6bnVtYmVyO1xuICAgICAgICBhdXgwNTpudW1iZXI7XG4gICAgICAgIGF1eDA2Om51bWJlcjtcbiAgICAgICAgYXV4MDc6bnVtYmVyO1xuICAgICAgICBhdXgwODpudW1iZXI7XG4gICAgICAgIGF1eDA5Om51bWJlcjtcbiAgICAgICAgYXV4MTA6bnVtYmVyO1xuICAgICAgICBhdXgxMTpudW1iZXI7XG4gICAgICAgIGF1eDEyOm51bWJlcjtcbiAgICAgICAgYXV4MTM6bnVtYmVyO1xuICAgICAgICBhdXgxNDpudW1iZXI7XG4gICAgICAgIGF1eDE1Om51bWJlcjtcbiAgICAgICAgYXV4MTY6bnVtYmVyO1xuICAgICAgICBhdXgxNzpudW1iZXI7XG4gICAgICAgIGF1eDE4Om51bWJlcjtcbiAgICAgICAgYXV4MTk6bnVtYmVyO1xuICAgICAgICBzcGVlZDpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbHlzZXVzTmV0d29ya1VzZXIge1xuICAgICAgICBpZDpzdHJpbmc7XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICBzZXNzaW9uSWQ6c3RyaW5nO1xuICAgICAgICBjb25uZWN0ZWQ6Ym9vbGVhbjtcbiAgICAgICAgdGltZXN0YW1wOm51bWJlcjtcbiAgICAgICAgYXR0cmlidXRlczpNYXA8c3RyaW5nLCBzdHJpbmc+O1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDb2x5c2V1c0NoYXRNZXNzYWdlIHtcbiAgICAgICAgc2Vzc2lvbklkOnN0cmluZztcbiAgICAgICAgbmFtZTpzdHJpbmc7XG4gICAgICAgIG1lc3NhZ2U6c3RyaW5nO1xuICAgICAgICB0aW1lc3RhbXA6bnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDb2x5c2V1c0NoYXRRdWV1ZSB7XG4gICAgICAgIG1lc3NhZ2VzOkJBQllMT04uSUNvbHlzZXVzQ2hhdE1lc3NhZ2VbXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ29seXNldXNSb29tU3RhdGUge1xuICAgICAgICBlbnRpdGllczpNYXA8c3RyaW5nLCBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHk+O1xuICAgICAgICB1c2VyczpNYXA8c3RyaW5nLCBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyPjtcbiAgICAgICAgcXVldWU6TWFwPHN0cmluZywgQkFCWUxPTi5JQ29seXNldXNDaGF0UXVldWU+O1xuICAgICAgICBhdHRyaWJ1dGVzOk1hcDxzdHJpbmcsIHN0cmluZz47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5ldHdvcmsgSW50ZXJwb2xhdGlvbiBCdWZmZXJcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vdmlyYmVsYS9idWZmZXJlZC1pbnRlcnBvbGF0aW9uXG4gICAgICovIFxuICAgIGV4cG9ydCBlbnVtIEJ1ZmZlclN0YXRlIHtcbiAgICAgICAgSU5JVElBTElaSU5HID0gMCxcbiAgICAgICAgQlVGRkVSSU5HID0gMSxcbiAgICAgICAgUExBWUlORyA9IDJcbiAgICB9XG5cbiAgICBleHBvcnQgZW51bSBCdWZmZXJNb2RlIHtcbiAgICAgICAgTU9ERV9MRVJQID0gMCxcbiAgICAgICAgTU9ERV9IRVJNSVRFID0gMVxuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgZnJhbWUge1xuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMztcbiAgICAgICAgdmVsb2NpdHk6IFZlY3RvcjM7XG4gICAgICAgIHNjYWxlOiBWZWN0b3IzO1xuICAgICAgICBxdWF0ZXJuaW9uOiBRdWF0ZXJuaW9uO1xuICAgICAgICBhdXgwMDpudW1iZXI7XG4gICAgICAgIGF1eDAxOm51bWJlcjtcbiAgICAgICAgYXV4MDI6bnVtYmVyO1xuICAgICAgICBhdXgwMzpudW1iZXI7XG4gICAgICAgIGF1eDA0Om51bWJlcjtcbiAgICAgICAgYXV4MDU6bnVtYmVyO1xuICAgICAgICBhdXgwNjpudW1iZXI7XG4gICAgICAgIGF1eDA3Om51bWJlcjtcbiAgICAgICAgYXV4MDg6bnVtYmVyO1xuICAgICAgICBhdXgwOTpudW1iZXI7XG4gICAgICAgIGF1eDEwOm51bWJlcjtcbiAgICAgICAgYXV4MTE6bnVtYmVyO1xuICAgICAgICBhdXgxMjpudW1iZXI7XG4gICAgICAgIGF1eDEzOm51bWJlcjtcbiAgICAgICAgYXV4MTQ6bnVtYmVyO1xuICAgICAgICBhdXgxNTpudW1iZXI7XG4gICAgICAgIGF1eDE2Om51bWJlcjtcbiAgICAgICAgYXV4MTc6bnVtYmVyO1xuICAgICAgICBhdXgxODpudW1iZXI7XG4gICAgICAgIGF1eDE5Om51bWJlcjtcbiAgICAgICAgc3BlZWQ6bnVtYmVyO1xuICAgICAgICB0aW1lOiBudW1iZXI7XG4gICAgfVxuXG4gICAgLy8gY29uc3QgdmVjdG9yUG9vbDogVmVjdG9yM1tdID0gW107XG4gICAgLy8gY29uc3QgcXVhdFBvb2w6IFF1YXRlcm5pb25bXSA9IFtdO1xuICAgIGNvbnN0IGZyYW1lUG9vbDogZnJhbWVbXSA9IFtdO1xuXG4gICAgLy8gY29uc3QgZ2V0UG9vbGVkVmVjdG9yOiAoKSA9PiBWZWN0b3IzID0gKCkgPT4gdmVjdG9yUG9vbC5zaGlmdCgpIHx8IG5ldyBWZWN0b3IzKCk7XG4gICAgLy8gY29uc3QgZ2V0UG9vbGVkUXVhdGVybmlvbjogKCkgPT4gUXVhdGVybmlvbiA9ICgpID0+IHF1YXRQb29sLnNoaWZ0KCkgfHwgbmV3IFF1YXRlcm5pb24oKTtcblxuICAgIGNvbnN0IGdldFBvb2xlZEZyYW1lOiAoKSA9PiBmcmFtZSA9ICgpID0+IHtcbiAgICAgICAgbGV0IGZyYW1lID0gZnJhbWVQb29sLnBvcCgpO1xuXG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIGZyYW1lID0geyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoKSwgdmVsb2NpdHk6IG5ldyBWZWN0b3IzKCksIHNjYWxlOiBuZXcgVmVjdG9yMygxLCAxLCAxKSwgcXVhdGVybmlvbjogbmV3IFF1YXRlcm5pb24oKSwgYXV4MDA6IDAsIGF1eDAxOiAwLCBhdXgwMjogMCwgYXV4MDM6IDAsIGF1eDA0OiAwLCBhdXgwNTogMCwgYXV4MDY6IDAsIGF1eDA3OiAwLCBhdXgwODogMCwgYXV4MDk6IDAsIGF1eDEwOiAwLCBhdXgxMTogMCwgYXV4MTI6IDAsIGF1eDEzOiAwLCBhdXgxNDogMCwgYXV4MTU6IDAsIGF1eDE2OiAwLCBhdXgxNzogMCwgYXV4MTg6IDAsIGF1eDE5OiAwLCBzcGVlZDowLCB0aW1lOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnJhbWU7XG4gICAgfTtcblxuICAgIGNvbnN0IGZyZWVGcmFtZTogKGY6IGZyYW1lKSA9PiB2b2lkID0gZiA9PiBmcmFtZVBvb2wucHVzaChmKTtcblxuICAgIGV4cG9ydCBjbGFzcyBJbnRlcnBvbGF0aW9uQnVmZmVyIHtcbiAgICAgICAgc3RhdGU6IEJ1ZmZlclN0YXRlO1xuICAgICAgICBtb2RlOiBCdWZmZXJNb2RlO1xuICAgICAgICBidWZmZXI6IGZyYW1lW107XG4gICAgICAgIG9yaWdpbkZyYW1lOiBmcmFtZTtcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjM7XG4gICAgICAgIHNjYWxlOiBWZWN0b3IzO1xuICAgICAgICBxdWF0ZXJuaW9uOiBRdWF0ZXJuaW9uO1xuICAgICAgICBhdXgwMDpudW1iZXI7XG4gICAgICAgIGF1eDAxOm51bWJlcjtcbiAgICAgICAgYXV4MDI6bnVtYmVyO1xuICAgICAgICBhdXgwMzpudW1iZXI7XG4gICAgICAgIGF1eDA0Om51bWJlcjtcbiAgICAgICAgYXV4MDU6bnVtYmVyO1xuICAgICAgICBhdXgwNjpudW1iZXI7XG4gICAgICAgIGF1eDA3Om51bWJlcjtcbiAgICAgICAgYXV4MDg6bnVtYmVyO1xuICAgICAgICBhdXgwOTpudW1iZXI7XG4gICAgICAgIGF1eDEwOm51bWJlcjtcbiAgICAgICAgYXV4MTE6bnVtYmVyO1xuICAgICAgICBhdXgxMjpudW1iZXI7XG4gICAgICAgIGF1eDEzOm51bWJlcjtcbiAgICAgICAgYXV4MTQ6bnVtYmVyO1xuICAgICAgICBhdXgxNTpudW1iZXI7XG4gICAgICAgIGF1eDE2Om51bWJlcjtcbiAgICAgICAgYXV4MTc6bnVtYmVyO1xuICAgICAgICBhdXgxODpudW1iZXI7XG4gICAgICAgIGF1eDE5Om51bWJlcjtcbiAgICAgICAgc3BlZWQ6bnVtYmVyO1xuICAgICAgICB0aW1lOiBudW1iZXI7XG4gICAgICAgIGJ1ZmZlclRpbWU6IG51bWJlcjtcbiAgICAgICAgYnVmZmVyQXR0cmliczphbnk7XG5cbiAgICAgICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLnBvc2l0aW9uOyB9XG4gICAgICAgIGdldFF1YXRlcm5pb24oKSB7IHJldHVybiB0aGlzLnF1YXRlcm5pb247IH1cbiAgICAgICAgZ2V0U2NhbGUoKSB7IHJldHVybiB0aGlzLnNjYWxlOyB9XG5cbiAgICAgICAgY29uc3RydWN0b3IobW9kZSA9IEJ1ZmZlck1vZGUuTU9ERV9MRVJQLCBidWZmZXJUaW1lID0gMC4xNSwgYnVmZmVyQXR0cmlicyA9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBCdWZmZXJTdGF0ZS5JTklUSUFMSVpJTkc7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJUaW1lID0gYnVmZmVyVGltZSAqIDEwMDA7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckF0dHJpYnMgPSBidWZmZXJBdHRyaWJzO1xuICAgICAgICAgICAgdGhpcy50aW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG5cbiAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUgPSBnZXRQb29sZWRGcmFtZSgpO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgICAgICB0aGlzLnF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBWZWN0b3IzKDEsIDEsIDEpO1xuICAgICAgICAgICAgdGhpcy5hdXgwMCA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDAxID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDIgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwMyA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDA0ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDUgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwNiA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDA3ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDggPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwOSA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDEwID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTEgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxMiA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDEzID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTQgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxNSA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDE2ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTcgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxOCA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDE5ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVybWl0ZVRvb2xraXQodGFyZ2V0OiBWZWN0b3IzLCB0OiBudW1iZXIsIHAxOiBWZWN0b3IzLCBwMjogVmVjdG9yMywgdjE6IFZlY3RvcjMsIHYyOiBWZWN0b3IzKSB7XG4gICAgICAgICAgICAvL2NvbnN0IGRlbHRhVGltZTpudW1iZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0RGVsdGFTZWNvbmRzKEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UpO1xuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkhlcm1pdGVWZWN0b3IzVG9SZWYocDEsIHYxLCBwMiwgdjIsIHQsIHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBoZXJtaXRlQmFieWxvbih0YXJnZXQ6IFZlY3RvcjMsIHQ6IG51bWJlciwgcDE6IFZlY3RvcjMsIHAyOiBWZWN0b3IzLCB2MTogVmVjdG9yMywgdjI6IFZlY3RvcjMpIHtcbiAgICAgICAgICAgIC8vY29uc3QgZGVsdGFUaW1lOm51bWJlciA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXREZWx0YVNlY29uZHMoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSk7XG4gICAgICAgICAgICBjb25zdCBwb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5IZXJtaXRlKHAxLCB2MSwgcDIsIHYyLCB0KTtcbiAgICAgICAgICAgIHRhcmdldC5jb3B5RnJvbShwb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVybWl0ZUxlZ2FjeSh0YXJnZXQ6IFZlY3RvcjMsIHQ6IG51bWJlciwgcDE6IFZlY3RvcjMsIHAyOiBWZWN0b3IzLCB2MTogVmVjdG9yMywgdjI6IFZlY3RvcjMpIHtcbiAgICAgICAgICAgIGNvbnN0IHQyID0gdCAqIHQ7XG4gICAgICAgICAgICBjb25zdCB0MyA9IHQgKiB0ICogdDtcbiAgICAgICAgICAgIGNvbnN0IGEgPSAyICogdDMgLSAzICogdDIgKyAxO1xuICAgICAgICAgICAgY29uc3QgYiA9IC0yICogdDMgKyAzICogdDI7XG4gICAgICAgICAgICBjb25zdCBjID0gdDMgLSAyICogdDIgKyB0O1xuICAgICAgICAgICAgY29uc3QgZCA9IHQzIC0gdDI7XG5cbiAgICAgICAgICAgIHRhcmdldC5jb3B5RnJvbShwMS5zY2FsZUluUGxhY2UoYSkpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZChwMi5zY2FsZUluUGxhY2UoYikpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZCh2MS5zY2FsZUluUGxhY2UoYykpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZCh2Mi5zY2FsZUluUGxhY2UoZCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogQ1VCSUMgSEVSTU9URSBSRUZFUkVOQ0UgKEdEU0NSSVBUKVxuICAgICAgICBmdW5jIGhlcm1pdGUodCwgcDEsIHAyLCB2MSwgdjIpOlxuICAgICAgICAgICAgdmFyIHQyID0gcG93KHQsIDIpXG4gICAgICAgICAgICB2YXIgdDMgPSBwb3codCwgMylcbiAgICAgICAgICAgIHZhciBhID0gMSAtIDMqdDIgKyAyKnQzXG4gICAgICAgICAgICB2YXIgYiA9IHQyICogKDMgLSAyKnQpXG4gICAgICAgICAgICB2YXIgYyA9IHQgKiBwb3codCAtIDEsIDIpXG4gICAgICAgICAgICB2YXIgZCA9IHQyICogKHQgLSAxKVxuICAgICAgICAgICAgcmV0dXJuIGEgKiBwMSArIGIgKiBwMiArIGMgKiB2MSArIGQgKiB2MlxuICAgICAgICAqL1xuXG4gICAgICAgIGxlcnAodGFyZ2V0OiBWZWN0b3IzLCB2MTogVmVjdG9yMywgdjI6IFZlY3RvcjMsIGFscGhhOiBudW1iZXIpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuTGVycFRvUmVmKHYxLCB2MiwgYWxwaGEsIHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBzbGVycCh0YXJnZXQ6IFF1YXRlcm5pb24sIHIxOiBRdWF0ZXJuaW9uLCByMjogUXVhdGVybmlvbiwgYWxwaGE6IG51bWJlcikge1xuICAgICAgICAgICAgUXVhdGVybmlvbi5TbGVycFRvUmVmKHIxLCByMiwgYWxwaGEsIHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVPcmlnaW5GcmFtZVRvQnVmZmVyVGFpbCgpIHtcbiAgICAgICAgICAgIGZyZWVGcmFtZSh0aGlzLm9yaWdpbkZyYW1lKTtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUgPSB0aGlzLmJ1ZmZlci5zaGlmdCgpIHx8IGdldFBvb2xlZEZyYW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHBlbmRCdWZmZXIocG9zaXRpb24/OiBWZWN0b3IzLCB2ZWxvY2l0eT86IFZlY3RvcjMsIHF1YXRlcm5pb24/OiBRdWF0ZXJuaW9uLCBzY2FsZT86IFZlY3RvcjMsIGF1eDAwOm51bWJlciA9IDAsIGF1eDAxOm51bWJlciA9IDAsIGF1eDAyOm51bWJlciA9IDAsIGF1eDAzOm51bWJlciA9IDAsIGF1eDA0Om51bWJlciA9IDAsIGF1eDA1Om51bWJlciA9IDAsIGF1eDA2Om51bWJlciA9IDAsIGF1eDA3Om51bWJlciA9IDAsIGF1eDA4Om51bWJlciA9IDAsIGF1eDA5Om51bWJlciA9IDAsIGF1eDEwOm51bWJlciA9IDAsIGF1eDExOm51bWJlciA9IDAsIGF1eDEyOm51bWJlciA9IDAsIGF1eDEzOm51bWJlciA9IDAsIGF1eDE0Om51bWJlciA9IDAsIGF1eDE1Om51bWJlciA9IDAsIGF1eDE2Om51bWJlciA9IDAsIGF1eDE3Om51bWJlciA9IDAsIGF1eDE4Om51bWJlciA9IDAsIGF1eDE5Om51bWJlciA9IDAsIHNwZWVkOm51bWJlciA9IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRhaWwgPSB0aGlzLmJ1ZmZlci5sZW5ndGggPiAwID8gdGhpcy5idWZmZXJbdGhpcy5idWZmZXIubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYXN0IGVudHJ5IGluIHRoZSBidWZmZXIgaWYgdGhpcyBpcyB0aGUgc2FtZSBmcmFtZVxuICAgICAgICAgICAgaWYgKHRhaWwgJiYgdGFpbC50aW1lID09PSB0aGlzLnRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24pIHRhaWwucG9zaXRpb24uY29weUZyb20ocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh2ZWxvY2l0eSkgdGFpbC52ZWxvY2l0eS5jb3B5RnJvbSh2ZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgaWYgKHF1YXRlcm5pb24pIHRhaWwucXVhdGVybmlvbi5jb3B5RnJvbShxdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NhbGUpIHRhaWwuc2NhbGUuY29weUZyb20oc2NhbGUpO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDAgPSBhdXgwMDtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDAxID0gYXV4MDE7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwMiA9IGF1eDAyO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDMgPSBhdXgwMztcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDA0ID0gYXV4MDQ7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwNSA9IGF1eDA1O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDYgPSBhdXgwNjtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDA3ID0gYXV4MDc7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwOCA9IGF1eDA4O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDkgPSBhdXgwOTtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDEwID0gYXV4MTA7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxMSA9IGF1eDExO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTIgPSBhdXgxMjtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDEzID0gYXV4MTM7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxNCA9IGF1eDE0O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTUgPSBhdXgxNTtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDE2ID0gYXV4MTY7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxNyA9IGF1eDE3O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTggPSBhdXgxODtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDE5ID0gYXV4MTk7XG4gICAgICAgICAgICAgICAgdGFpbC5zcGVlZCA9IHNwZWVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmlvckZyYW1lID0gdGFpbCB8fCB0aGlzLm9yaWdpbkZyYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZyYW1lID0gZ2V0UG9vbGVkRnJhbWUoKTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5wb3NpdGlvbi5jb3B5RnJvbShwb3NpdGlvbiB8fCBwcmlvckZyYW1lLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS52ZWxvY2l0eS5jb3B5RnJvbSh2ZWxvY2l0eSB8fCBwcmlvckZyYW1lLnZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5xdWF0ZXJuaW9uLmNvcHlGcm9tKHF1YXRlcm5pb24gfHwgcHJpb3JGcmFtZS5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5zY2FsZS5jb3B5RnJvbShzY2FsZSB8fCBwcmlvckZyYW1lLnNjYWxlKTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwMCA9IGF1eDAwO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDAxID0gYXV4MDE7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDIgPSBhdXgwMjtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwMyA9IGF1eDAzO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDA0ID0gYXV4MDQ7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDUgPSBhdXgwNTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwNiA9IGF1eDA2O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDA3ID0gYXV4MDc7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDggPSBhdXgwODtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwOSA9IGF1eDA5O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDEwID0gYXV4MTA7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTEgPSBhdXgxMTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxMiA9IGF1eDEyO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDEzID0gYXV4MTM7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTQgPSBhdXgxNDtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxNSA9IGF1eDE1O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDE2ID0gYXV4MTY7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTcgPSBhdXgxNztcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxOCA9IGF1eDE4O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDE5ID0gYXV4MTk7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuc3BlZWQgPSBzcGVlZDtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS50aW1lID0gdGhpcy50aW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2gobmV3RnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gREVFUFJFQ0FURUQ6IHNldFRhcmdldChwb3NpdGlvbjogVmVjdG9yMywgdmVsb2NpdHk6IFZlY3RvcjMsIHF1YXRlcm5pb246IFF1YXRlcm5pb24sIHNjYWxlOiBWZWN0b3IzKSB7IHRoaXMuYXBwZW5kQnVmZmVyKHBvc2l0aW9uLCB2ZWxvY2l0eSwgcXVhdGVybmlvbiwgc2NhbGUpOyB9XG4gICAgICAgIC8vIERFRVBSRUNBVEVEOiBzZXRQb3NpdGlvbihwb3NpdGlvbjogVmVjdG9yMywgdmVsb2NpdHk6IFZlY3RvcjMpIHsgdGhpcy5hcHBlbmRCdWZmZXIocG9zaXRpb24sIHZlbG9jaXR5LCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH1cbiAgICAgICAgLy8gREVFUFJFQ0FURUQ6IHNldFF1YXRlcm5pb24ocXVhdGVybmlvbjogUXVhdGVybmlvbikgeyB0aGlzLmFwcGVuZEJ1ZmZlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgcXVhdGVybmlvbiwgdW5kZWZpbmVkKTsgfVxuICAgICAgICAvLyBERUVQUkVDQVRFRDogc2V0U2NhbGUoc2NhbGU6IFZlY3RvcjMpIHsgdGhpcy5hcHBlbmRCdWZmZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgc2NhbGUpOyB9XG5cbiAgICAgICAgdXBkYXRlKGRlbHRhOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBCdWZmZXJTdGF0ZS5JTklUSUFMSVpJTkcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU9yaWdpbkZyYW1lVG9CdWZmZXJUYWlsKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24uY29weUZyb20odGhpcy5vcmlnaW5GcmFtZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLm9yaWdpbkZyYW1lLnF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLmNvcHlGcm9tKHRoaXMub3JpZ2luRnJhbWUuc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAwID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwMSA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDIgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDAyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAzID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwMztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNCA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDUgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDA1O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA2ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwNjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNyA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDggPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDA4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA5ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwOTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMCA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTEgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDExO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDEyID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMyA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTQgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDE0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE1ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxNiA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTY7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTcgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDE3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE4ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxODtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxOSA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLm9yaWdpbkZyYW1lLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gQnVmZmVyU3RhdGUuQlVGRkVSSU5HO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IEJ1ZmZlclN0YXRlLkJVRkZFUklORykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwICYmIHRoaXMudGltZSA+IHRoaXMuYnVmZmVyVGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gQnVmZmVyU3RhdGUuUExBWUlORztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBCdWZmZXJTdGF0ZS5QTEFZSU5HKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFyayA9IHRoaXMudGltZSAtIHRoaXMuYnVmZmVyVGltZTtcbiAgICAgICAgICAgICAgICAvLyBQdXJnZSB0aGlzLmJ1ZmZlciBvZiBleHBpcmVkIGZyYW1lc1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwICYmIG1hcmsgPiB0aGlzLmJ1ZmZlclswXS50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGxhc3QgZnJhbWUgaW4gdGhlIGJ1ZmZlciwganVzdCB1cGRhdGUgdGhlIHRpbWUgYW5kIHJldXNlIGl0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU9yaWdpbkZyYW1lVG9CdWZmZXJUYWlsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuYnVmZmVyWzBdLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUudmVsb2NpdHkuY29weUZyb20odGhpcy5idWZmZXJbMF0udmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5xdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMuYnVmZmVyWzBdLnF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5zY2FsZS5jb3B5RnJvbSh0aGlzLmJ1ZmZlclswXS5zY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDAwID0gdGhpcy5idWZmZXJbMF0uYXV4MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDAxID0gdGhpcy5idWZmZXJbMF0uYXV4MDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDAyID0gdGhpcy5idWZmZXJbMF0uYXV4MDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDAzID0gdGhpcy5idWZmZXJbMF0uYXV4MDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA0ID0gdGhpcy5idWZmZXJbMF0uYXV4MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA1ID0gdGhpcy5idWZmZXJbMF0uYXV4MDU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA2ID0gdGhpcy5idWZmZXJbMF0uYXV4MDY7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA3ID0gdGhpcy5idWZmZXJbMF0uYXV4MDc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA4ID0gdGhpcy5idWZmZXJbMF0uYXV4MDg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA5ID0gdGhpcy5idWZmZXJbMF0uYXV4MDk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDEwID0gdGhpcy5idWZmZXJbMF0uYXV4MTA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDExID0gdGhpcy5idWZmZXJbMF0uYXV4MTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDEyID0gdGhpcy5idWZmZXJbMF0uYXV4MTI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDEzID0gdGhpcy5idWZmZXJbMF0uYXV4MTM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE0ID0gdGhpcy5idWZmZXJbMF0uYXV4MTQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE1ID0gdGhpcy5idWZmZXJbMF0uYXV4MTU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE2ID0gdGhpcy5idWZmZXJbMF0uYXV4MTY7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE3ID0gdGhpcy5idWZmZXJbMF0uYXV4MTc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE4ID0gdGhpcy5idWZmZXJbMF0uYXV4MTg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE5ID0gdGhpcy5idWZmZXJbMF0uYXV4MTk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnNwZWVkID0gdGhpcy5idWZmZXJbMF0uc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnRpbWUgPSB0aGlzLmJ1ZmZlclswXS50aW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbMF0udGltZSA9IHRoaXMudGltZSArIGRlbHRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwICYmIHRoaXMuYnVmZmVyWzBdLnRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEZyYW1lID0gdGhpcy5idWZmZXJbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhX3RpbWUgPSB0YXJnZXRGcmFtZS50aW1lIC0gdGhpcy5vcmlnaW5GcmFtZS50aW1lO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYSA9IChtYXJrIC0gdGhpcy5vcmlnaW5GcmFtZS50aW1lKSAvIGRlbHRhX3RpbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIE5ldHdvcmsgVHJhbnNsYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gQnVmZmVyTW9kZS5NT0RFX0xFUlApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVycCh0aGlzLnBvc2l0aW9uLCB0aGlzLm9yaWdpbkZyYW1lLnBvc2l0aW9uLCB0YXJnZXRGcmFtZS5wb3NpdGlvbiwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubW9kZSA9PT0gQnVmZmVyTW9kZS5NT0RFX0hFUk1JVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVybWl0ZUxlZ2FjeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RnJhbWUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS52ZWxvY2l0eS5zY2FsZUluUGxhY2UoZGVsdGFfdGltZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RnJhbWUudmVsb2NpdHkuc2NhbGVJblBsYWNlKGRlbHRhX3RpbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogVE9PTEtJVCBIRVJNSVRFXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhlcm1pdGVUb29sa2l0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRGcmFtZS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnZlbG9jaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEZyYW1lLnZlbG9jaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICApOyovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGVycCh0aGlzLnF1YXRlcm5pb24sIHRoaXMub3JpZ2luRnJhbWUucXVhdGVybmlvbiwgdGFyZ2V0RnJhbWUucXVhdGVybmlvbiwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlcnAodGhpcy5zY2FsZSwgdGhpcy5vcmlnaW5GcmFtZS5zY2FsZSwgdGFyZ2V0RnJhbWUuc2NhbGUsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gRW50aXR5IE1vdmVtZW50IFNwZWVkXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuc3BlZWQsIHRhcmdldEZyYW1lLnNwZWVkLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZmZlcmVkIFRhcmdldCBBdHRyaWJzXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDAgPSB0YXJnZXRGcmFtZS5hdXgwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwMSA9IHRhcmdldEZyYW1lLmF1eDAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAyID0gdGFyZ2V0RnJhbWUuYXV4MDI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDMgPSB0YXJnZXRGcmFtZS5hdXgwMztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNCA9IHRhcmdldEZyYW1lLmF1eDA0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA1ID0gdGFyZ2V0RnJhbWUuYXV4MDU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDYgPSB0YXJnZXRGcmFtZS5hdXgwNjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNyA9IHRhcmdldEZyYW1lLmF1eDA3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA4ID0gdGFyZ2V0RnJhbWUuYXV4MDg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDkgPSB0YXJnZXRGcmFtZS5hdXgwOTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMCA9IHRhcmdldEZyYW1lLmF1eDEwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDExID0gdGFyZ2V0RnJhbWUuYXV4MTE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTIgPSB0YXJnZXRGcmFtZS5hdXgxMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMyA9IHRhcmdldEZyYW1lLmF1eDEzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE0ID0gdGFyZ2V0RnJhbWUuYXV4MTQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTUgPSB0YXJnZXRGcmFtZS5hdXgxNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxNiA9IHRhcmdldEZyYW1lLmF1eDE2O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE3ID0gdGFyZ2V0RnJhbWUuYXV4MTc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTggPSB0YXJnZXRGcmFtZS5hdXgxODtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxOSA9IHRhcmdldEZyYW1lLmF1eDE5O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzICE9IG51bGwpIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDAgPT09IDEpIHRoaXMuYXV4MDAgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDAsIHRhcmdldEZyYW1lLmF1eDAwLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMCA9PT0gMikgdGhpcy5hdXgwMCA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDAwLCB0YXJnZXRGcmFtZS5hdXgwMCwgYWxwaGEpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMSA9PT0gMSkgdGhpcy5hdXgwMSA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwMSwgdGFyZ2V0RnJhbWUuYXV4MDEsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjAxID09PSAyKSB0aGlzLmF1eDAxID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDEsIHRhcmdldEZyYW1lLmF1eDAxLCBhbHBoYSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjAyID09PSAxKSB0aGlzLmF1eDAyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDAyLCB0YXJnZXRGcmFtZS5hdXgwMiwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDIgPT09IDIpIHRoaXMuYXV4MDIgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgwMiwgdGFyZ2V0RnJhbWUuYXV4MDIsIGFscGhhKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDMgPT09IDEpIHRoaXMuYXV4MDMgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDMsIHRhcmdldEZyYW1lLmF1eDAzLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMyA9PT0gMikgdGhpcy5hdXgwMyA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDAzLCB0YXJnZXRGcmFtZS5hdXgwMywgYWxwaGEpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNCA9PT0gMSkgdGhpcy5hdXgwNCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwNCwgdGFyZ2V0RnJhbWUuYXV4MDQsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA0ID09PSAyKSB0aGlzLmF1eDA0ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDQsIHRhcmdldEZyYW1lLmF1eDA0LCBhbHBoYSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA1ID09PSAxKSB0aGlzLmF1eDA1ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDA1LCB0YXJnZXRGcmFtZS5hdXgwNSwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDUgPT09IDIpIHRoaXMuYXV4MDUgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgwNSwgdGFyZ2V0RnJhbWUuYXV4MDUsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA2ID09PSAxKSB0aGlzLmF1eDA2ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDA2LCB0YXJnZXRGcmFtZS5hdXgwNiwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDYgPT09IDIpIHRoaXMuYXV4MDYgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgwNiwgdGFyZ2V0RnJhbWUuYXV4MDYsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA3ID09PSAxKSB0aGlzLmF1eDA3ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDA3LCB0YXJnZXRGcmFtZS5hdXgwNywgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDcgPT09IDIpIHRoaXMuYXV4MDcgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgwNywgdGFyZ2V0RnJhbWUuYXV4MDcsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA4ID09PSAxKSB0aGlzLmF1eDA4ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDA4LCB0YXJnZXRGcmFtZS5hdXgwOCwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDggPT09IDIpIHRoaXMuYXV4MDggPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgwOCwgdGFyZ2V0RnJhbWUuYXV4MDgsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA5ID09PSAxKSB0aGlzLmF1eDA5ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDA5LCB0YXJnZXRGcmFtZS5hdXgwOSwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDkgPT09IDIpIHRoaXMuYXV4MDkgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgwOSwgdGFyZ2V0RnJhbWUuYXV4MDksIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjEwID09PSAxKSB0aGlzLmF1eDEwID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDEwLCB0YXJnZXRGcmFtZS5hdXgxMCwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTAgPT09IDIpIHRoaXMuYXV4MTAgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxMCwgdGFyZ2V0RnJhbWUuYXV4MTAsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjExID09PSAxKSB0aGlzLmF1eDExID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDExLCB0YXJnZXRGcmFtZS5hdXgxMSwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTEgPT09IDIpIHRoaXMuYXV4MTEgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxMSwgdGFyZ2V0RnJhbWUuYXV4MTEsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjEyID09PSAxKSB0aGlzLmF1eDEyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDEyLCB0YXJnZXRGcmFtZS5hdXgxMiwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTIgPT09IDIpIHRoaXMuYXV4MTIgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxMiwgdGFyZ2V0RnJhbWUuYXV4MTIsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjEzID09PSAxKSB0aGlzLmF1eDEzID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDEzLCB0YXJnZXRGcmFtZS5hdXgxMywgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTMgPT09IDIpIHRoaXMuYXV4MTMgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxMywgdGFyZ2V0RnJhbWUuYXV4MTMsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE0ID09PSAxKSB0aGlzLmF1eDE0ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDE0LCB0YXJnZXRGcmFtZS5hdXgxNCwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTQgPT09IDIpIHRoaXMuYXV4MTQgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxNCwgdGFyZ2V0RnJhbWUuYXV4MTQsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE1ID09PSAxKSB0aGlzLmF1eDE1ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDE1LCB0YXJnZXRGcmFtZS5hdXgxNSwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTUgPT09IDIpIHRoaXMuYXV4MTUgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxNSwgdGFyZ2V0RnJhbWUuYXV4MTUsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE2ID09PSAxKSB0aGlzLmF1eDE2ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDE2LCB0YXJnZXRGcmFtZS5hdXgxNiwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTYgPT09IDIpIHRoaXMuYXV4MTYgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxNiwgdGFyZ2V0RnJhbWUuYXV4MTYsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE3ID09PSAxKSB0aGlzLmF1eDE3ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDE3LCB0YXJnZXRGcmFtZS5hdXgxNywgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTcgPT09IDIpIHRoaXMuYXV4MTcgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxNywgdGFyZ2V0RnJhbWUuYXV4MTcsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE4ID09PSAxKSB0aGlzLmF1eDE4ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDE4LCB0YXJnZXRGcmFtZS5hdXgxOCwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTggPT09IDIpIHRoaXMuYXV4MTggPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxOCwgdGFyZ2V0RnJhbWUuYXV4MTgsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE5ID09PSAxKSB0aGlzLmF1eDE5ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLmF1eDE5LCB0YXJnZXRGcmFtZS5hdXgxOSwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTkgPT09IDIpIHRoaXMuYXV4MTkgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUodGhpcy5vcmlnaW5GcmFtZS5hdXgxOSwgdGFyZ2V0RnJhbWUuYXV4MTksIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IEJ1ZmZlclN0YXRlLklOSVRJQUxJWklORykge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZSArPSBkZWx0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBBdXRvQm9keUdhcmFnZVxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEF1dG9Cb2R5R2FyYWdlIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBtX2JvZHlNYXRlcmlhbDpCQUJZTE9OLlBCUk1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBtX2JvZHlBYnRyYWN0TWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IG1haW5NYXRlcmlhbEluZGV4Om51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYWluTWF0ZXJpYWxJbmRleFwiLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IG1haW5Cb2R5VHJhbnNmb3JtOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYWluQm9keVRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1haW5Cb2R5VW5pdHlDb2xvcjpVTklUWS5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYWluQm9keVBhaW50Q29sb3JcIik7XG4gICAgICAgICAgICBjb25zdCBtYWluQm9keVBhaW50Q29sb3IgPSBVTklUWS5VdGlsaXRpZXMuUGFyc2VDb2xvcjMobWFpbkJvZHlVbml0eUNvbG9yLCBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpKTtcbiAgICAgICAgICAgIGlmIChtYWluQm9keVRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlBYnRyYWN0TWVzaCA9IFVOSVRZLlV0aWxpdGllcy5QYXJzZUNoaWxkVHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtLCBtYWluQm9keVRyYW5zZm9ybSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9ib2R5QWJ0cmFjdE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JvZHlBYnRyYWN0TWVzaC5tYXRlcmlhbCBpbnN0YW5jZW9mIEJBQllMT04uTXVsdGlNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXVsdGlNYXRlcmlhbDpCQUJZTE9OLk11bHRpTWF0ZXJpYWwgPSB0aGlzLm1fYm9keUFidHJhY3RNZXNoLm1hdGVyaWFsIGFzIEJBQllMT04uTXVsdGlNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdWx0aU1hdGVyaWFsLnN1Yk1hdGVyaWFscyAhPSBudWxsICYmIG11bHRpTWF0ZXJpYWwuc3ViTWF0ZXJpYWxzLmxlbmd0aCA+IG1haW5NYXRlcmlhbEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29weU1hdGVyaWFsOkJBQllMT04uTXVsdGlNYXRlcmlhbCA9IG11bHRpTWF0ZXJpYWwuY2xvbmUobXVsdGlNYXRlcmlhbC5uYW1lICsgXCIuXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKSBhcyBCQUJZTE9OLk11bHRpTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViTWF0ZXJpYWw6QkFCWUxPTi5NYXRlcmlhbCA9IGNvcHlNYXRlcmlhbC5zdWJNYXRlcmlhbHNbbWFpbk1hdGVyaWFsSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlNYXRlcmlhbC5zdWJNYXRlcmlhbHNbbWFpbk1hdGVyaWFsSW5kZXhdID0gc3ViTWF0ZXJpYWwuY2xvbmUoc3ViTWF0ZXJpYWwubmFtZSArIFwiLlwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSkgYXMgQkFCWUxPTi5QQlJNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYm9keU1hdGVyaWFsID0gY29weU1hdGVyaWFsLnN1Yk1hdGVyaWFsc1ttYWluTWF0ZXJpYWxJbmRleF0gYXMgQkFCWUxPTi5QQlJNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYm9keUFidHJhY3RNZXNoLm1hdGVyaWFsID0gY29weU1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlNYXRlcmlhbCA9IHRoaXMubV9ib2R5QWJ0cmFjdE1lc2gubWF0ZXJpYWwuY2xvbmUodGhpcy5tX2JvZHlBYnRyYWN0TWVzaC5tYXRlcmlhbC5uYW1lICsgXCIuXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKSBhcyBCQUJZTE9OLlBCUk1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlBYnRyYWN0TWVzaC5tYXRlcmlhbCA9IHRoaXMubV9ib2R5TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9ib2R5TWF0ZXJpYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IE1haW4gQm9keSBCYXNlIENvbG9yaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JvZHlNYXRlcmlhbC5pc0Zyb3plbikgdGhpcy5tX2JvZHlNYXRlcmlhbC51bmZyZWV6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlNYXRlcmlhbC5hbGJlZG9Db2xvci5jb3B5RnJvbShtYWluQm9keVBhaW50Q29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlNYXRlcmlhbC5mcmVlemUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGZpbmQgYXV0byBib2R5IG1lc2ggZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyB9XG4gICAgICAgIC8vcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgfVxuICAgICAgICAvL3Byb3RlY3RlZCBhZnRlcigpOiB2b2lkIHsgfVxuICAgICAgICAvL3Byb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB9XG5cbiAgICAgICAgcHVibGljIHNldHVwVmVoaWNsZU1hdGVyaWFscyhib2R5Q29sb3I6QkFCWUxPTi5Db2xvcjMsIHdoZWVsQ29sb3I6QkFCWUxPTi5Db2xvcjMgPSBudWxsLCB3aGVlbFR5cGU6bnVtYmVyID0gMCwgZGVjYWxJbmRleDpudW1iZXIgPSAwKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fYm9keU1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgTWFpbiBCb2R5IEJhc2UgQ29sb3JpbmdcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JvZHlNYXRlcmlhbC5pc0Zyb3plbikgdGhpcy5tX2JvZHlNYXRlcmlhbC51bmZyZWV6ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5TWF0ZXJpYWwuYWxiZWRvQ29sb3IuY29weUZyb20oYm9keUNvbG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYm9keU1hdGVyaWFsLmZyZWV6ZSgpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBTZXR1cCBXaGVlbCBUeXBlIEFuZCBDb2xvclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBTZXR1cCBEZWNhbCBCb2R5IFdyYXBwaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQ2hlY2twb2ludE1hbmFnZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBDaGVja3BvaW50TWFuYWdlciBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgY2hlY2tQb2ludExpc3Q6QkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2hlY2tQb2ludENvdW50Om51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY2hlY2tQb2ludEluZGV4Om51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbmV4dENoZWNrUG9pbnQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzdGFydFJhY2VUaW1lOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgdG90YWxSYWNlVGltZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhcE51bWJlcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhcFRpbWVyOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFwVGltZXM6bnVtYmVyW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHBsYXllcklEOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTmFtZTpzdHJpbmcgPSBcIlBsYXllclwiO1xuICAgICAgICBwcml2YXRlIHJhY2VPdmVyOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgcmVnaXN0ZXIoaWQ6bnVtYmVyLCBuYW1lOnN0cmluZyk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnBsYXllcklEID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnBsYXllck5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlJlZ2lzdGVyUGxheWVyKHRoaXMucGxheWVySUQsIHRoaXMucGxheWVyTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldExhcFRpbWVzKCk6bnVtYmVyW10geyByZXR1cm4gdGhpcy5sYXBUaW1lczsgfVxuICAgICAgICBwdWJsaWMgZ2V0TGFwTnVtYmVyKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMubGFwTnVtYmVyOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDaGVja1BvaW50KCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuY2hlY2tQb2ludEluZGV4OyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJOYW1lKCk6c3RyaW5nIHsgcmV0dXJuIHRoaXMucGxheWVyTmFtZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySUQoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5wbGF5ZXJJRDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmFjZVRpbWUoKTpudW1iZXIgeyByZXR1cm4gdGhpcy50b3RhbFJhY2VUaW1lOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSYWNlT3ZlcigpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5yYWNlT3ZlcjsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubGFwVGltZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubGFwTnVtYmVyID0gMDtcbiAgICAgICAgICAgIHRoaXMubmV4dENoZWNrUG9pbnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5jaGVja1BvaW50TGlzdCA9IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5HZXRDaGVja3BvaW50TGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5jaGVja1BvaW50Q291bnQgPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuR2V0Q2hlY2twb2ludENvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG5leHRDaGVja1BvaW50TmFtZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFjZU92ZXIgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tQb2ludExpc3QgIT0gbnVsbCAmJiB0aGlzLmNoZWNrUG9pbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dENoZWNrcG9pbnRNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gdGhpcy5jaGVja1BvaW50TGlzdFt0aGlzLm5leHRDaGVja1BvaW50XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGVja3BvaW50TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDaGVja1BvaW50TmFtZSA9IG5leHRDaGVja3BvaW50TWVzaC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGVja3BvaW50TWVzaC5pbnRlcnNlY3RzUG9pbnQodGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUG9pbnRJbmRleCA9IHRoaXMubmV4dENoZWNrUG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tQb2ludEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhcE51bWJlciA+IDAgJiYgdGhpcy5sYXBUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhcFRpbWU6bnVtYmVyID0gKFVOSVRZLlNjZW5lTWFuYWdlci5HZXRHYW1lVGltZSgpIC0gdGhpcy5sYXBUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXBUaW1lcyA9PSBudWxsKSB0aGlzLmxhcFRpbWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhcFRpbWVzLnB1c2gobGFwVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXBOdW1iZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXBUaW1lciA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRHYW1lVGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXBOdW1iZXIgPiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVG90YWxMYXBDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFJhY2VUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFwTnVtYmVyID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlRvdGFsTGFwQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VPdmVyID0gdHJ1ZTsgLy8gR0FNRSBPVkVSOiBDcm9zc2VkIEZpbmlzaCBMaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQnVzLlJhaXNlTWVzc2FnZShcIkdhbWVPdmVyXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF5YmUgUmVtb3ZlIEFuZCBVc2UgTGVhZGVyYm9hcmQgRm9yIFdpbm5lciAtID8/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLldpbm5lclRyYW5zZm9ybSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLldpbm5lclRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEhhbmRsZSBXaW4gQ29uZGl0aW9ucyAtID8/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUkFDRSBXSU5ORVI6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2hlY2tQb2ludCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHRDaGVja1BvaW50ID49IHRoaXMuY2hlY2tQb2ludENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENoZWNrUG9pbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gREVCVUcgTE9DQUwgUExBWUVSIENIRUNLUE9JTlRTXG4gICAgICAgICAgICAvLyBpZiAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gXCJMb2NhbFBsYXllclwiKSB7XG4gICAgICAgICAgICAvLyAgICBVVElMLlByaW50VG9TY3JlZW4oXCJDaGVja3BvaW50IEluZGV4OiBcIiArIHRoaXMuY2hlY2tQb2ludEluZGV4LnRvU3RyaW5nKCkgKyBcIiAtLS0+IE5leHQ6IFwiICsgdGhpcy5uZXh0Q2hlY2tQb2ludE5hbWUpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgaWYgKHRoaXMucmFjZU92ZXIgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRSYWNlVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbFJhY2VUaW1lID0gKFVOSVRZLlNjZW5lTWFuYWdlci5HZXRHYW1lVGltZSgpIC0gdGhpcy5zdGFydFJhY2VUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySUQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5VcGRhdGVMZWFkZXJib2FyZCh0aGlzLnBsYXllcklELCB0aGlzLmxhcE51bWJlciwgdGhpcy5jaGVja1BvaW50SW5kZXgsIHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydFJhY2VUaW1lcigpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRSYWNlVGltZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFwVGltZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJhY2VPdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFJhY2VUaW1lID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldEdhbWVUaW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTmV0d29ya0NhclByZWRpY3Rpb25cbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBOZXR3b3JrQ2FyUHJlZGljdGlvbiBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgYXV0b1JlZ2lzdGVyOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGhhbmRsZXJOYW1lOnN0cmluZyA9IFwiVmVoaWNsZVByZWRpY3Rpb25cIjtcbiAgICAgICAgcHJpdmF0ZSBleHRyYXBvbGF0ZVRpbWVNczpudW1iZXIgPSAyMDA7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b1JlZ2lzdGVyID09PSB0cnVlKSB0aGlzLnJlZ2lzdGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVnaXN0ZXIoKTp2b2lkIHtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUmVnaXN0ZXJDdXN0b21JbnRlcnBvbGF0aW9uSGFuZGxlcih0aGlzLmhhbmRsZXJOYW1lLCAobmV0d29ya0VudGl0eTpCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHJlbW90ZVRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZTpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLkhhbmRsZVVwZGF0ZShuZXR3b3JrRW50aXR5LCByZW1vdGVUcmFuc2Zvcm0sIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgSGFuZGxlVXBkYXRlKG5ldHdvcmtFbnRpdHk6QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCByZW1vdGVUcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE86IEhhbmRsZSBSZW1vdGUgTmV0d29yayBUcmFuc2Zvcm0gVXBkYXRlXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIExlZ2FjeUhhbmRsZVVwZGF0ZShuZXR3b3JrRW50aXR5OkJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgcmVtb3RlVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSwgZGVsdGFUaW1lOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlEZWx0YVRpbWU6bnVtYmVyID0gMDsgLy9CQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJlYWROZXR3b3JrRW50aXR5QnVmZmVyRGF0YTxudW1iZXI+KHJlbW90ZVRyYW5zZm9ybSwgQkFCWUxPTi5FbnRpdHlCdWZmZXJEYXRhLkRlbHRhVGltZSk7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlFbGFzcGVkVGltZTpudW1iZXIgPSAwOyAvL0JBQllMT04uTmV0d29ya01hbmFnZXIuUmVhZE5ldHdvcmtFbnRpdHlCdWZmZXJEYXRhPG51bWJlcj4ocmVtb3RlVHJhbnNmb3JtLCBCQUJZTE9OLkVudGl0eUJ1ZmZlckRhdGEuRWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgLy9jb25zdCBleHRyYXBvbGF0aW9uT2Zmc2V0OkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuUmVhZE5ldHdvcmtFbnRpdHlCdWZmZXJEYXRhPEJBQllMT04uVmVjdG9yMz4ocmVtb3RlVHJhbnNmb3JtLCBCQUJZTE9OLkVudGl0eUJ1ZmZlckRhdGEuRXh0cmFwb2xhdGlvbk9mZnNldCk7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlEZWx0YVRpbWVNczpudW1iZXIgPSAoZW50aXR5RGVsdGFUaW1lICogMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlFbGFzcGVkVGltZU1zOm51bWJlciA9IChlbnRpdHlFbGFzcGVkVGltZSAqIDEwMDApO1xuXG4gICAgICAgICAgICAvL2NvbnN0IGxhdGVzdFNuYXBzaG90OkJBQllMT04uRW50aXR5U25hcHNob3QgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJlYWROZXR3b3JrRW50aXR5QnVmZmVyRGF0YShyZW1vdGVUcmFuc2Zvcm0sIEJBQllMT04uRW50aXR5QnVmZmVyRGF0YS5MYXRlc3RTbmFwc2hvdCk7XG4gICAgICAgICAgICAvL2NvbnN0IG5ldHdvcmtQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBsYXRlc3RTbmFwc2hvdC5wb3NpdGlvbjtcbiAgICAgICAgICAgIC8vY29uc3QgbmV0d29ya1JvdGF0aW9uOkJBQllMT04uUXVhdGVybmlvbiA9IGxhdGVzdFNuYXBzaG90LnJvdGF0aW9uO1xuICAgICAgICAgICAgLy9jb25zdCBuZXR3b3JrTGluZWFyVmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gbGF0ZXN0U25hcHNob3QudmVsb2NpdHk7IFxuICAgICAgICAgICAgLy9jb25zdCBuZXR3b3JrQW5ndWxhclZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IGxhdGVzdFNuYXBzaG90LmFuZ2xlOyBcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eUN1cnJQb3NpdGlvbi5jb3B5RnJvbShyZW1vdGVUcmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5Q3VyclBvc2l0aW9uLnN1YnRyYWN0VG9SZWYoKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UHJldlBvc2l0aW9uLCAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uKTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eVByZXZQb3NpdGlvbi5jb3B5RnJvbSgoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlDdXJyUG9zaXRpb24pO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFQb3NpdGlvbi54ID0gKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFQb3NpdGlvbi54IC8gZGVsdGFUaW1lO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFQb3NpdGlvbi55ID0gKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFQb3NpdGlvbi55IC8gZGVsdGFUaW1lO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFQb3NpdGlvbi56ID0gKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFQb3NpdGlvbi56IC8gZGVsdGFUaW1lO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5Q3VyclJvdGF0aW9uLmNvcHlGcm9tKHJlbW90ZVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5RdWF0ZXJuaW9uRGlmZlRvUmVmKCg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eUN1cnJSb3RhdGlvbiwgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UHJldlJvdGF0aW9uLCAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVJvdGF0aW9uKTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUm90YXRpb24udG9FdWxlckFuZ2xlc1RvUmVmKCg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhRXVsZXJzKTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhRXVsZXJzLnggPSAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YUV1bGVycy54IC8gZGVsdGFUaW1lO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMueSA9ICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhRXVsZXJzLnkgLyBkZWx0YVRpbWU7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YUV1bGVycy56ID0gKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMueiAvIGRlbHRhVGltZTtcbiAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIGlmIChlbnRpdHlEZWx0YVRpbWVNcyA8PSB0aGlzLmV4dHJhcG9sYXRlVGltZU1zICYmIGVudGl0eUVsYXNwZWRUaW1lTXMgPD0gdGhpcy5leHRyYXBvbGF0ZVRpbWVNcykge1xuICAgICAgICAgICAgICAgIC8vIFF1YXRlcm5pb24gdHVyblJvdGF0aW9uID0gUXVhdGVybmlvbi5FdWxlciggMCwgbV9TeW5jaHJvbml6ZWRUdXJuU3BlZWQgKiB0aW1lUGFzc2VkLCAwICk7XG4gICAgICAgICAgICAgICAgLy8gZXh0cmFwb2xhdGVQb3NpdGlvbiA9IHR1cm5Sb3RhdGlvbiAqICggbV9TeW5jaHJvbml6ZWRTcGVlZCAqIHRpbWVQYXNzZWQgKTsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRXh0cmFwb2xhdGUgTmV3IFRhcmdldCBQb3NpdGlvbiAoQ2xpZW50IFByZWRpY3Rpb24pXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBjb25zdCBxdWF0OkJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXMoYW5ndWxhclZlbG9jaXR5LngsIGFuZ3VsYXJWZWxvY2l0eS55LCBhbmd1bGFyVmVsb2NpdHkueik7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgZXh0cmEgPSBVTklUWS5VdGlsaXRpZXMuTXVsdGlwbHlRdWF0ZXJuaW9uQnlWZWN0b3IocXVhdCwgbGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy9uZXR3b3JrTGluZWFyVmVsb2NpdHkuc2NhbGVUb1JlZihlbnRpdHlEZWx0YVRpbWUsIGV4dHJhcG9sYXRpb25PZmZzZXQpO1xuICAgICAgICAgICAgICAgIC8vbmV0d29ya1Bvc2l0aW9uLmFkZEluUGxhY2UoZXh0cmFwb2xhdGlvbk9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSBTbW9vdGggTmV0d29yayBQb3NpdGlvbiBVcGRhdGUgKE1vdmUgVG93YXJkcylcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vY29uc3QgbWV0ZXJzUGVyU2Vjb25kOm51bWJlciA9IChuZXR3b3JrTGluZWFyVmVsb2NpdHkubGVuZ3RoKCkgKiBzY2VuZURlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgLy9VTklUWS5VdGlsaXRpZXMuTW92ZVRvd2FyZHNWZWN0b3IzVG9SZWYocmVtb3RlVHJhbnNmb3JtLnBvc2l0aW9uLCBuZXR3b3JrUG9zaXRpb24sIG1ldGVyc1BlclNlY29uZCwgcmVtb3RlVHJhbnNmb3JtLnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gSW50ZXJwb2xhdGUgU21vb3RoIE5ldHdvcmsgUm90YXRpb24gVXBkYXRlIChMZWdhY3kgU2xlcnApXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDcmVhdGUgUXVhdGVybmlvbiBSb3RhdGUgVG93YXJkc1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEdldCBTbGVycCBTcGVlZCBBdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICBsZXQgcm90YXRpb25TbGVycEZhY3RvcjpudW1iZXIgPSAxMC4wOyBcbiAgICAgICAgICAgICAgICBsZXQgcm90YXRpb25MZXJwU3BlZWQ6bnVtYmVyID0gKHJvdGF0aW9uU2xlcnBGYWN0b3IgKiBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uTGVycFNwZWVkID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAocm90YXRpb25MZXJwU3BlZWQsIDAsIDEpO1xuICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYocmVtb3RlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgbmV0d29ya1JvdGF0aW9uLCByb3RhdGlvbkxlcnBTcGVlZCwgcmVtb3RlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG5cbiAgICAgICAgICAgICAgICAvLyBNT1ZFIFRPIE9OQ0hBTkdFXG4gICAgICAgICAgICAgICAgLy8oPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlQYWNrZXRQb3NpdGlvbi5jb3B5RnJvbShyZW1vdGVUcmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIC8vKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UGFja2V0Um90YXRpb24uY29weUZyb20ocmVtb3RlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgLy8oPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlQYWNrZXRWZWxvY2l0eS5jb3B5RnJvbSgoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eVBhY2tldEFuZ3VsYXIuY29weUZyb20oKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMpOyBcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFR5cGU6QkFCWUxPTi5FbnRpdHlDb250cm9sVHlwZSA9ICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eUNvbnRyb2w7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xUeXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xUeXBlID09PSBCQUJZTE9OLkVudGl0eUNvbnRyb2xUeXBlLlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVXNlIFRyYW5zZm9ybSBEaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xUeXBlID09PSBCQUJZTE9OLkVudGl0eUNvbnRyb2xUeXBlLlJpZ2lkYm9keVBoeXNpY3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVRyYW5zZm9ybU1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSByZW1vdGVUcmFuc2Zvcm0gYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3RlVHJhbnNmb3JtTWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBlbnRpdHlEZWx0YVRpbWU6bnVtYmVyID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZWFkTmV0d29ya0VudGl0eUJ1ZmZlckRhdGE8bnVtYmVyPihyZW1vdGVUcmFuc2Zvcm0sIEJBQllMT04uRW50aXR5QnVmZmVyRGF0YS5EZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UmVhbFZlbG9jaXR5LnNjYWxlSW5QbGFjZShlbnRpdHlEZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlVHJhbnNmb3JtTWVzaC5waHlzaWNzSW1wb3N0b3Iuc2V0TGluZWFyVmVsb2NpdHkoKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UmVhbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiU0VUIFZFTE9DSVRZOiBcIiArIHJlbW90ZVRyYW5zZm9ybS5uYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHIudmVsb2NpdHkgPSBWZWN0b3IzLkxlcnAodmVsb2NpdHlBdExhc3RQYWNrZXQsIGxhdGVzdFZlbG9jaXR5LCAoZmxvYXQpKGN1cnJlbnRUaW1lIC8gdGltZVRvUmVhY2hHb2FsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gci5hbmd1bGFyVmVsb2NpdHkgPSBWZWN0b3IzLkxlcnAoYW5ndWxhclZlbG9jaXR5QXRMYXN0UGFja2V0LCBsYXRlc3RBbmd1bGFyVmVsb2NpdHksIChmbG9hdCkoY3VycmVudFRpbWUgLyB0aW1lVG9SZWFjaEdvYWwpKTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbFR5cGUgPT09IEJBQllMT04uRW50aXR5Q29udHJvbFR5cGUuQ2hhcmFjdGVyQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogRmluZCBBbmQgVXNlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9yZW1vdGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20obmV0d29ya1Bvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvL3JlbW90ZVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obmV0d29ya1JvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBJVHJhY2tOb2RlIHtcbiAgICAgICAgcmFkaXVzOm51bWJlcjtcbiAgICAgICAgcG9zaXRpb246VU5JVFkuSVVuaXR5VmVjdG9yMztcbiAgICAgICAgcm90YXRpb246VU5JVFkuSVVuaXR5VmVjdG9yNDtcbiAgICAgICAgbG9jYWxQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjM7XG4gICAgICAgIGxvY2FsUm90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uO1xuICAgICAgICBsb2NhbERpc3RhbmNlOm51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ29udHJvbFBvaW50IHtcbiAgICAgICAgc3BlZWQ6bnVtYmVyO1xuICAgICAgICB0dmFsdWU6bnVtYmVyO1xuICAgICAgICBwb3NpdGlvbjpVTklUWS5JVW5pdHlWZWN0b3IzO1xuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgUm91dGVQb2ludCB7XG4gICAgICAgIHB1YmxpYyBwb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjM7XG4gICAgICAgIHB1YmxpYyBkaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzO1xuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgUGxheWVyUmFjZVN0YXRzIHtcbiAgICAgICAgcHVibGljIGlkOm51bWJlcjtcbiAgICAgICAgcHVibGljIG5hbWU6c3RyaW5nO1xuICAgICAgICBwdWJsaWMgcG9zaXRpb246bnVtYmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEJUX1JhY2VUcmFja01hbmFnZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBSYWNlVHJhY2tNYW5hZ2VyIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBUcmFja0xlbmd0aDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFRvdGFsTGFwQ291bnQ6bnVtYmVyID0gMztcbiAgICAgICAgcHVibGljIHN0YXRpYyBXaW5uZXJUcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBDaGVja1BvaW50VGFnOnN0cmluZyA9IFwiQ2hlY2twb2ludFwiO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBDaGVja1BvaW50TGlzdDpCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTGVhZGVyQm9hcmRMaXN0OlBST0pFQ1QuUGxheWVyUmFjZVN0YXRzW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBQbGF5ZXJWZWhpY2xlTGlzdDpCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSB0cmFja05vZGVzOlBST0pFQ1QuSVRyYWNrTm9kZVtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZURhdGFfMTpQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVEYXRhXzI6UFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lRGF0YV8zOlBST0pFQ1QuSUNvbnRyb2xQb2ludFtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZURhdGFfNDpQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVEYXRhXzU6UFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lQ29sb3JfMTpVTklUWS5JVW5pdHlDb2xvciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVDb2xvcl8yOlVOSVRZLklVbml0eUNvbG9yID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZUNvbG9yXzM6VU5JVFkuSVVuaXR5Q29sb3IgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lQ29sb3JfNDpVTklUWS5JVW5pdHlDb2xvciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVDb2xvcl81OlVOSVRZLklVbml0eUNvbG9yID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWJ1Z01lc2hMaW5lc18xOkJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWJ1Z01lc2hMaW5lc18yOkJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWJ1Z01lc2hMaW5lc18zOkJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWJ1Z01lc2hMaW5lc180OkJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWJ1Z01lc2hMaW5lc181OkJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIHAwbjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHAxbjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHAybjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHAzbjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGk6bnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfRXZlbnRCdXM6VU5JVFkuRXZlbnRNZXNzYWdlQnVzID0gbnVsbDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXQgQnVzKCk6VU5JVFkuRXZlbnRNZXNzYWdlQnVzIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuX0V2ZW50QnVzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuX0V2ZW50QnVzID0gbmV3IFVOSVRZLkV2ZW50TWVzc2FnZUJ1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5fRXZlbnRCdXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZHJhd0RlYnVnTGluZXM6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZ2V0VHJhY2tOb2RlcygpOlBST0pFQ1QuSVRyYWNrTm9kZVtdIHsgcmV0dXJuIHRoaXMudHJhY2tOb2RlczsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q29udHJvbFBvaW50cyhsaW5lOm51bWJlcik6UFJPSkVDVC5JQ29udHJvbFBvaW50W10geyBcbiAgICAgICAgICAgIGxldCByZXN1bHQ6UFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICAgICAgc3dpdGNoIChsaW5lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJhY2VMaW5lRGF0YV8xO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmFjZUxpbmVEYXRhXzI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yYWNlTGluZURhdGFfMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJhY2VMaW5lRGF0YV80O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmFjZUxpbmVEYXRhXzU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy50cmFja05vZGVzID0gdGhpcy5nZXRQcm9wZXJ0eShcIlRyYWNrTm9kZXNcIiwgdGhpcy50cmFja05vZGVzKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVEYXRhXzEgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVEYXRhXzFcIiwgdGhpcy5yYWNlTGluZURhdGFfMSk7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV8yID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lRGF0YV8yXCIsIHRoaXMucmFjZUxpbmVEYXRhXzIpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJSYWNlTGluZURhdGFfM1wiLCB0aGlzLnJhY2VMaW5lRGF0YV8zKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVEYXRhXzQgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVEYXRhXzRcIiwgdGhpcy5yYWNlTGluZURhdGFfNCk7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV81ID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lRGF0YV81XCIsIHRoaXMucmFjZUxpbmVEYXRhXzUpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZUNvbG9yXzEgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVDb2xvcl8xXCIsIHRoaXMucmFjZUxpbmVDb2xvcl8xKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVDb2xvcl8yID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lQ29sb3JfMlwiLCB0aGlzLnJhY2VMaW5lQ29sb3JfMik7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lQ29sb3JfMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJSYWNlTGluZUNvbG9yXzNcIiwgdGhpcy5yYWNlTGluZUNvbG9yXzMpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZUNvbG9yXzQgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVDb2xvcl80XCIsIHRoaXMucmFjZUxpbmVDb2xvcl80KTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVDb2xvcl81ID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lQ29sb3JfNVwiLCB0aGlzLnJhY2VMaW5lQ29sb3JfNSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdEZWJ1Z0xpbmVzID0gdGhpcy5nZXRQcm9wZXJ0eShcIkRyYXdEZWJ1Z0xpbmVzXCIsIHRoaXMuZHJhd0RlYnVnTGluZXMpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7ICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpcy50cmFja05vZGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVHJhY2tMZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRoaXMudHJhY2tOb2Rlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudDpQUk9KRUNULklUcmFja05vZGUgPSB0aGlzLnRyYWNrTm9kZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0MSA9IHRoaXMudHJhY2tOb2Rlc1soaW5kZXgpICUgdGhpcy50cmFja05vZGVzLmxlbmd0aF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQyID0gdGhpcy50cmFja05vZGVzWyhpbmRleCArIDEpICUgdGhpcy50cmFja05vZGVzLmxlbmd0aF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0MSAhPSBudWxsICYmIHQyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdDpCQUJZTE9OLlZlY3RvcjQgPSBVTklUWS5VdGlsaXRpZXMuUGFyc2VWZWN0b3I0KGVsZW1lbnQucm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5sb2NhbFJvdGF0aW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbihyb3QueCwgcm90LnksIHJvdC56LCByb3Qudyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmxvY2FsUG9zaXRpb24gPSBVTklUWS5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGVsZW1lbnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcDE6QkFCWUxPTi5WZWN0b3IzID0gVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyh0MS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwMjpCQUJZTE9OLlZlY3RvcjMgPSBVTklUWS5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHQyLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQubG9jYWxEaXN0YW5jZSA9IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5UcmFja0xlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5UcmFja0xlbmd0aCArPSAocDEuc3VidHJhY3QocDIpKS5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIj4+PiBSYWNlIFRyYWNrIE5vZGVzXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50cmFja05vZGVzKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdCA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdCA9IHRoaXMuc2NlbmUuZ2V0TWVzaGVzQnlUYWdzKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50VGFnKTtcbiAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0ICE9IG51bGwgJiYgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0W2luZGV4XS5yZWZyZXNoQm91bmRpbmdJbmZvKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmF3RGVidWdMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRleDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50U2l6ZTpudW1iZXIgPSAwLjU7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVidWdMaW5lczpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5EZWJ1Z0xpbmVzXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGRlYnVnTGluZXMucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICBkZWJ1Z0xpbmVzLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBUcmFjayBOb2Rlc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tOb2RlcyAhPSBudWxsICYmIHRoaXMudHJhY2tOb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZVBvc18xOkJBQllMT04uVmVjdG9yM1tdID0gW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZUNvbF8xOkJBQllMT04uQ29sb3IzID0gQkFCWUxPTi5Db2xvcjMuV2hpdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tOb2RlTWF0XzEgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Ob2RlTWF0ZXJpYWxcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrTm9kZU1hdF8xLmRpZmZ1c2VDb2xvciA9IHRyYWNrTm9kZUNvbF8xO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tOb2Rlcy5mb3JFYWNoKChub2RlOlBST0pFQ1QuSVRyYWNrTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tOb2RlUG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMyhub2RlLnBvc2l0aW9uLngsIG5vZGUucG9zaXRpb24ueSwgbm9kZS5wb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZVJvdGF0aW9uOkJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24obm9kZS5yb3RhdGlvbi54LCBub2RlLnJvdGF0aW9uLnksIG5vZGUucm90YXRpb24ueiwgbm9kZS5yb3RhdGlvbi53KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrTm9kZVBvc18xLnB1c2godHJhY2tOb2RlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tOb2RlOkJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlRyYWNrTm9kZV9cIiArIGluZGV4LCB7IGRpYW1ldGVyVG9wOjAsIGRpYW1ldGVyQm90dG9tOiAocG9pbnRTaXplICogMiksIGhlaWdodDoyLjAgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja05vZGUucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrTm9kZS5wb3NpdGlvbi5jb3B5RnJvbSh0cmFja05vZGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja05vZGUucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja05vZGUucm90YXRpb25RdWF0ZXJuaW9uID0gdHJhY2tOb2RlUm90YXRpb24ubXVsdGlwbHkoVU5JVFkuVXRpbGl0aWVzLkZyb21FdWxlcig5MCwwLDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrTm9kZS5tYXRlcmlhbCA9IHRyYWNrTm9kZU1hdF8xO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gUmFjZSBMaW5lIDVcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhY2VMaW5lRGF0YV81ICE9IG51bGwgJiYgdGhpcy5yYWNlTGluZURhdGFfNS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lUG9zXzU6QkFCWUxPTi5WZWN0b3IzW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVDb2xfNTpCQUJZTE9OLkNvbG9yMyA9ICh0aGlzLnJhY2VMaW5lQ29sb3JfNSAhPSBudWxsKSA/IG5ldyBCQUJZTE9OLkNvbG9yMyh0aGlzLnJhY2VMaW5lQ29sb3JfNS5yLCB0aGlzLnJhY2VMaW5lQ29sb3JfNS5nLCB0aGlzLnJhY2VMaW5lQ29sb3JfNS5iKSA6IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lTWF0XzUgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludE1hdGVyaWFsXzVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhY2VMaW5lTWF0XzUuZGlmZnVzZUNvbG9yID0gcmFjZUxpbmVDb2xfNTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV81LmZvckVhY2goKHBvaW50OlBST0pFQ1QuSUNvbnRyb2xQb2ludCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb2ludDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHBvaW50LnBvc2l0aW9uLngsIHBvaW50LnBvc2l0aW9uLnksIHBvaW50LnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVQb3NfNS5wdXNoKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50XzU6QkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRyb2xQb2ludF81X1wiICsgaW5kZXgsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHBvaW50U2l6ZSAqIDIpIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzUucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF81LnBvc2l0aW9uLmNvcHlGcm9tKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzUucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfNS5tYXRlcmlhbCA9IHJhY2VMaW5lTWF0XzU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc181ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVMaW5lcygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhY2VMaW5lXzVcIiksIHsgcG9pbnRzOiByYWNlTGluZVBvc181IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzUucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc181LnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzUuY29sb3IgPSByYWNlTGluZUNvbF81OyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBSYWNlIExpbmUgNFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmFjZUxpbmVEYXRhXzQgIT0gbnVsbCAmJiB0aGlzLnJhY2VMaW5lRGF0YV80Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb3NfNDpCQUJZTE9OLlZlY3RvcjNbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZUNvbF80OkJBQllMT04uQ29sb3IzID0gKHRoaXMucmFjZUxpbmVDb2xvcl80ICE9IG51bGwpID8gbmV3IEJBQllMT04uQ29sb3IzKHRoaXMucmFjZUxpbmVDb2xvcl80LnIsIHRoaXMucmFjZUxpbmVDb2xvcl80LmcsIHRoaXMucmFjZUxpbmVDb2xvcl80LmIpIDogQkFCWUxPTi5Db2xvcjMuV2hpdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVNYXRfNCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlBvaW50TWF0ZXJpYWxfNFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVNYXRfNC5kaWZmdXNlQ29sb3IgPSByYWNlTGluZUNvbF80O1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFjZUxpbmVEYXRhXzQuZm9yRWFjaCgocG9pbnQ6UFJPSkVDVC5JQ29udHJvbFBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMocG9pbnQucG9zaXRpb24ueCwgcG9pbnQucG9zaXRpb24ueSwgcG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWNlTGluZVBvc180LnB1c2gocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRfNDpCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQ29udHJvbFBvaW50XzRfXCIgKyBpbmRleCwgeyBzZWdtZW50czogMjQsIGRpYW1ldGVyOiAocG9pbnRTaXplICogMikgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfNC5wYXJlbnQgPSBkZWJ1Z0xpbmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzQucG9zaXRpb24uY29weUZyb20ocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfNC5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF80Lm1hdGVyaWFsID0gcmFjZUxpbmVNYXRfNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzQgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUxpbmVzKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmFjZUxpbmVfNFwiKSwgeyBwb2ludHM6IHJhY2VMaW5lUG9zXzQgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfNC5wYXJlbnQgPSBkZWJ1Z0xpbmVzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzQucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfNC5jb2xvciA9IHJhY2VMaW5lQ29sXzQ7IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFJhY2UgTGluZSAzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWNlTGluZURhdGFfMyAhPSBudWxsICYmIHRoaXMucmFjZUxpbmVEYXRhXzMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvc18zOkJBQllMT04uVmVjdG9yM1tdID0gW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lQ29sXzM6QkFCWUxPTi5Db2xvcjMgPSAodGhpcy5yYWNlTGluZUNvbG9yXzMgIT0gbnVsbCkgPyBuZXcgQkFCWUxPTi5Db2xvcjModGhpcy5yYWNlTGluZUNvbG9yXzMuciwgdGhpcy5yYWNlTGluZUNvbG9yXzMuZywgdGhpcy5yYWNlTGluZUNvbG9yXzMuYikgOiBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZU1hdF8zID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUG9pbnRNYXRlcmlhbF8zXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICByYWNlTGluZU1hdF8zLmRpZmZ1c2VDb2xvciA9IHJhY2VMaW5lQ29sXzM7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfMy5mb3JFYWNoKChwb2ludDpQUk9KRUNULklDb250cm9sUG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lUG9pbnQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMyhwb2ludC5wb3NpdGlvbi54LCBwb2ludC5wb3NpdGlvbi55LCBwb2ludC5wb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhY2VMaW5lUG9zXzMucHVzaChyYWNlTGluZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQb2ludF8zOkJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Db250cm9sUG9pbnRfM19cIiArIGluZGV4LCB7IHNlZ21lbnRzOiAyNCwgZGlhbWV0ZXI6IChwb2ludFNpemUgKiAyKSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8zLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMy5wb3NpdGlvbi5jb3B5RnJvbShyYWNlTGluZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8zLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzMubWF0ZXJpYWwgPSByYWNlTGluZU1hdF8zO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMyA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlTGluZXMoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SYWNlTGluZV8zXCIpLCB7IHBvaW50czogcmFjZUxpbmVQb3NfMyB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18zLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMy5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18zLmNvbG9yID0gcmFjZUxpbmVDb2xfMzsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gUmFjZSBMaW5lIDJcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhY2VMaW5lRGF0YV8yICE9IG51bGwgJiYgdGhpcy5yYWNlTGluZURhdGFfMi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lUG9zXzI6QkFCWUxPTi5WZWN0b3IzW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVDb2xfMjpCQUJZTE9OLkNvbG9yMyA9ICh0aGlzLnJhY2VMaW5lQ29sb3JfMiAhPSBudWxsKSA/IG5ldyBCQUJZTE9OLkNvbG9yMyh0aGlzLnJhY2VMaW5lQ29sb3JfMi5yLCB0aGlzLnJhY2VMaW5lQ29sb3JfMi5nLCB0aGlzLnJhY2VMaW5lQ29sb3JfMi5iKSA6IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lTWF0XzIgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludE1hdGVyaWFsXzJcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhY2VMaW5lTWF0XzIuZGlmZnVzZUNvbG9yID0gcmFjZUxpbmVDb2xfMjtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV8yLmZvckVhY2goKHBvaW50OlBST0pFQ1QuSUNvbnRyb2xQb2ludCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb2ludDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHBvaW50LnBvc2l0aW9uLngsIHBvaW50LnBvc2l0aW9uLnksIHBvaW50LnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVQb3NfMi5wdXNoKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50XzI6QkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRyb2xQb2ludF8yX1wiICsgaW5kZXgsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHBvaW50U2l6ZSAqIDIpIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzIucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8yLnBvc2l0aW9uLmNvcHlGcm9tKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzIucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMi5tYXRlcmlhbCA9IHJhY2VMaW5lTWF0XzI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18yID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVMaW5lcygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhY2VMaW5lXzJcIiksIHsgcG9pbnRzOiByYWNlTGluZVBvc18yIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzIucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18yLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzIuY29sb3IgPSByYWNlTGluZUNvbF8yOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBSYWNlIExpbmUgMVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmFjZUxpbmVEYXRhXzEgIT0gbnVsbCAmJiB0aGlzLnJhY2VMaW5lRGF0YV8xLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb3NfMTpCQUJZTE9OLlZlY3RvcjNbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZUNvbF8xOkJBQllMT04uQ29sb3IzID0gKHRoaXMucmFjZUxpbmVDb2xvcl8xICE9IG51bGwpID8gbmV3IEJBQllMT04uQ29sb3IzKHRoaXMucmFjZUxpbmVDb2xvcl8xLnIsIHRoaXMucmFjZUxpbmVDb2xvcl8xLmcsIHRoaXMucmFjZUxpbmVDb2xvcl8xLmIpIDogQkFCWUxPTi5Db2xvcjMuV2hpdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVNYXRfMSA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlBvaW50TWF0ZXJpYWxfMVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVNYXRfMS5kaWZmdXNlQ29sb3IgPSByYWNlTGluZUNvbF8xO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFjZUxpbmVEYXRhXzEuZm9yRWFjaCgocG9pbnQ6UFJPSkVDVC5JQ29udHJvbFBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMocG9pbnQucG9zaXRpb24ueCwgcG9pbnQucG9zaXRpb24ueSwgcG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWNlTGluZVBvc18xLnB1c2gocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRfMTpCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQ29udHJvbFBvaW50XzFfXCIgKyBpbmRleCwgeyBzZWdtZW50czogMjQsIGRpYW1ldGVyOiAocG9pbnRTaXplICogMikgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMS5wYXJlbnQgPSBkZWJ1Z0xpbmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzEucG9zaXRpb24uY29weUZyb20ocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMS5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8xLm1hdGVyaWFsID0gcmFjZUxpbmVNYXRfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzEgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUxpbmVzKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmFjZUxpbmVfMVwiKSwgeyBwb2ludHM6IHJhY2VMaW5lUG9zXzEgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMS5wYXJlbnQgPSBkZWJ1Z0xpbmVzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzEucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMS5jb2xvciA9IHJhY2VMaW5lQ29sXzE7IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNSZWFkeSgpKSB7IC8vIFVwZGF0ZSBBZnRlciBSZWFkeSBTdGF0ZVxuICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5Tb3J0TGVhZGVyYm9hcmRQb3NpdGlvbkxpc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gVE9ETyAtIERlc3Ryb3kgY29tcG9uZW50IGZ1bmN0aW9uXG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUHVibGljIFJvdXRlIFBvaW50IEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyBnZXRSb3V0ZVBvaW50KGRpc3RhbmNlOm51bWJlcik6UFJPSkVDVC5Sb3V0ZVBvaW50IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDpQUk9KRUNULlJvdXRlUG9pbnQgPSBuZXcgUm91dGVQb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5nZXRSb3V0ZVBvaW50VG9SZWYoZGlzdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRSb3V0ZVBvaW50VG9SZWYoZGlzdGFuY2U6bnVtYmVyLCByZXN1bHQ6UFJPSkVDVC5Sb3V0ZVBvaW50KTp2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE86IE9QVElNSVpFIFRISVMgRlVOQ1RJT05cbiAgICAgICAgICAgIGNvbnN0IHAxID0gdGhpcy5nZXRSb3V0ZVBvc2l0aW9uKGRpc3RhbmNlKTtcbiAgICAgICAgICAgIGNvbnN0IHAyID0gdGhpcy5nZXRSb3V0ZVBvc2l0aW9uKGRpc3RhbmNlICsgMC4xKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gcDIuc3VidHJhY3QocDEpO1xuICAgICAgICAgICAgcmVzdWx0LnBvc2l0aW9uID0gcDEuY2xvbmUoKTtcbiAgICAgICAgICAgIHJlc3VsdC5kaXJlY3Rpb24gPSBkZWx0YS5ub3JtYWxpemVUb05ldygpO1xuICAgICAgICAgICAgLy9yZXR1cm4gbmV3IFJvdXRlUG9pbnQocDEsIGRlbHRhLm5vcm1hbGl6ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRSb3V0ZVBvc2l0aW9uKGRpc3RhbmNlOm51bWJlcik6QkFCWUxPTi5WZWN0b3IzIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0Um91dGVQb3NpdGlvblRvUmVmKGRpc3RhbmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Um91dGVQb3NpdGlvblRvUmVmKGRpc3RhbmNlOm51bWJlciwgcmVzdWx0OkJBQllMT04uVmVjdG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBsZXQgcG9pbnQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGRpc3Q6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuUmVwZWF0KGRpc3RhbmNlLCBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVHJhY2tMZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgbnVtUG9pbnRzOm51bWJlciA9IHRoaXMudHJhY2tOb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy50cmFja05vZGVzW3BvaW50XS5sb2NhbERpc3RhbmNlIDwgZGlzdCkgeyArK3BvaW50OyB9XG4gICAgICAgICAgICAvLyBnZXQgbmVhcmVzdCB0d28gcG9pbnRzLCBlbnN1cmluZyBwb2ludHMgd3JhcC1hcm91bmQgc3RhcnQgJiBlbmQgb2YgY2lyY3VpdFxuICAgICAgICAgICAgdGhpcy5wMW4gPSAoKHBvaW50IC0gMSkgKyBudW1Qb2ludHMpICUgbnVtUG9pbnRzO1xuICAgICAgICAgICAgdGhpcy5wMm4gPSBwb2ludDtcbiAgICAgICAgICAgIC8vIGZvdW5kIHBvaW50IG51bWJlcnMsIG5vdyBmaW5kIGludGVycG9sYXRpb24gdmFsdWUgYmV0d2VlbiB0aGUgdHdvIG1pZGRsZSBwb2ludHNcbiAgICAgICAgICAgIHRoaXMuaSA9IEJBQllMT04uU2NhbGFyLkludmVyc2VMZXJwKHRoaXMudHJhY2tOb2Rlc1t0aGlzLnAxbl0ubG9jYWxEaXN0YW5jZSwgdGhpcy50cmFja05vZGVzW3RoaXMucDJuXS5sb2NhbERpc3RhbmNlLCBkaXN0KTtcbiAgICAgICAgICAgIC8vIHNpbXBsZSBsaW5lYXIgbGVycCBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzXG4gICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuTGVycFRvUmVmKHRoaXMudHJhY2tOb2Rlc1t0aGlzLnAxbl0ubG9jYWxQb3NpdGlvbiwgdGhpcy50cmFja05vZGVzW3RoaXMucDJuXS5sb2NhbFBvc2l0aW9uLCB0aGlzLmksIHJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gU3RhdGljIENoZWNrcG9pbnQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBHZXRzIHRoZSBjaGVja3BvaW50IHRhZyBpZGVudGlmaWVyICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q2hlY2twb2ludFRhZygpOnN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRUYWc7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB0aGUgY2hlY2twb2ludCBwb3NpdGlvbiBsaXN0ICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q2hlY2twb2ludExpc3QoKTpCQUJZTE9OLkFic3RyYWN0TWVzaFtdIHtcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGNoZWNrcG9pbnRzICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q2hlY2twb2ludENvdW50KCk6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0ICE9IG51bGwpID8gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0Lmxlbmd0aCA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uIGRpc3RhbmNlIHRvIG5leHQgY2hlY2twb2ludCAqL1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBHZXRDaGVja3BvaW50RGlzdGFuY2UocG9zaXRpb246QkFCWUxPTi5WZWN0b3IzLCBsYXN0UG9pbnRSZWFjaGVkOkJBQllMT04uVmVjdG9yMywgbmV4dFBvaW50OkJBQllMT04uVmVjdG9yMyk6bnVtYmVyIHtcbiAgICAgICAgICAgIC8vIFRPRE86IE9wdGltaXplIHZlY3RvcnNcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYWNlbWVudEZyb21DdXJyZW50Tm9kZTpCQUJZTE9OLlZlY3RvcjMgPSBwb3NpdGlvbi5zdWJ0cmFjdChsYXN0UG9pbnRSZWFjaGVkKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWdtZW50VmVjdG9yOkJBQllMT04uVmVjdG9yMyA9IG5leHRQb2ludC5zdWJ0cmFjdChsYXN0UG9pbnRSZWFjaGVkKTtcbiAgICAgICAgICAgIGNvbnN0IGZyYWN0aW9uOm51bWJlciA9IEJBQllMT04uVmVjdG9yMy5Eb3QoZGlzcGxhY2VtZW50RnJvbUN1cnJlbnROb2RlLCBjdXJyZW50U2VnbWVudFZlY3RvcikgLyBjdXJyZW50U2VnbWVudFZlY3Rvci5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICAgICAgICByZXR1cm4gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoZnJhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFN0YXRpYyBWZWhpY2xlIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogUmVnaXN0ZXIgdmVoaWNsZSB3aXRoIHRyYWNrIG1hbmFnZXIgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBSZWdpc3RlclZlaGljbGUodmVoaWNsZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUpOnZvaWQge1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5QbGF5ZXJWZWhpY2xlTGlzdCA9PSBudWxsKSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuUGxheWVyVmVoaWNsZUxpc3QgPSBbXTtcbiAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5QbGF5ZXJWZWhpY2xlTGlzdC5wdXNoKHZlaGljbGUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHRoZSByZWdpc3RlcmVkIHBsYXllciB2ZWhpY2xlcyAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFBsYXllclZlaGljbGVzKCk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlW10ge1xuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5QbGF5ZXJWZWhpY2xlTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBTdGF0aWMgTGVhZGVyYm9hcmQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBSZWdpc3RlciBwbGF5ZXIgd2l0aCB0cmFjayBtYW5hZ2VyICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVnaXN0ZXJQbGF5ZXIoaWQ6bnVtYmVyLCBuYW1lOnN0cmluZyk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXI6UFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHMgPSBuZXcgUFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHMoKTtcbiAgICAgICAgICAgIHBsYXllci5pZCA9IGlkLFxuICAgICAgICAgICAgcGxheWVyLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgcGxheWVyLnBvc2l0aW9uID0gMDtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0ID09IG51bGwpIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QgPSBbXTtcbiAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QucHVzaChwbGF5ZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBVcGRhdGUgcGxheWVyIGxlYWRlcmJvYXJkIGluZm9ybWF0aW9uICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgVXBkYXRlTGVhZGVyYm9hcmQoaWQ6bnVtYmVyLCBsYXA6bnVtYmVyLCBjaGVja3BvaW50Om51bWJlciwgcG9zaXRpb246QkFCWUxPTi5WZWN0b3IzKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0ICE9IG51bGwgJiYgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmQ6UFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHNbXSA9IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3Q7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxlYWRlcmJvYXJkLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50OlBST0pFQ1QuUGxheWVyUmFjZVN0YXRzID0gbGVhZGVyYm9hcmRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QgIT0gbnVsbCAmJiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGVja1BvaW50Q291bnQ6bnVtYmVyID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dENoZWNrUG9pbnRJbmRleDpudW1iZXIgPSAoY2hlY2twb2ludCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hlY2tQb2ludEluZGV4ID49IGNoZWNrUG9pbnRDb3VudCkgbmV4dENoZWNrUG9pbnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRDaGVja3BvaW50TWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdFtjaGVja3BvaW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hlY2twb2ludE1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3RbbmV4dENoZWNrUG9pbnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tQb2ludEZyYWN0aW9uOm51bWJlciA9IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5HZXRDaGVja3BvaW50RGlzdGFuY2UocG9zaXRpb24sIHN0YXJ0Q2hlY2twb2ludE1lc2guYWJzb2x1dGVQb3NpdGlvbiwgbmV4dENoZWNrcG9pbnRNZXNoLmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucG9zaXRpb24gPSAoKChsYXAgKiAxMDAwKSArIGNoZWNrcG9pbnQpICsgY2hlY2tQb2ludEZyYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgcGxheWVyIGxlYWRlcmJvYXJkIHBvc2l0aW9uICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TGVhZGVyYm9hcmRQb3NpdGlvbihpZDpudW1iZXIpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IC0xO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QgIT0gbnVsbCAmJiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWFkZXJib2FyZDpQUk9KRUNULlBsYXllclJhY2VTdGF0c1tdID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVhZGVyYm9hcmQubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6UFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHMgPSBsZWFkZXJib2FyZFtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gKGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCBsZWFkZXJib2FyZCBwb3NpdGlvbiBsaXN0ICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TGVhZGVyYm9hcmRQb3NpdGlvbkxpc3QoKTpQUk9KRUNULlBsYXllclJhY2VTdGF0c1tdIHtcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTb3J0IGxlYWRlcmJvYXJkIHBvc2l0aW9uIGxpc3QgKi9cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU29ydExlYWRlcmJvYXJkUG9zaXRpb25MaXN0KCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdCAhPSBudWxsICYmIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYWRlcmJvYXJkOlBST0pFQ1QuUGxheWVyUmFjZVN0YXRzW10gPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0O1xuICAgICAgICAgICAgICAgIGxlYWRlcmJvYXJkLnNvcnQoKGxlZnQsIHJpZ2h0KTogbnVtYmVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogU29ydCBJbiBEZXNjZW5kaW5nIE9yZGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LnBvc2l0aW9uIDwgcmlnaHQucG9zaXRpb24pIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdC5wb3NpdGlvbiA+IHJpZ2h0LnBvc2l0aW9uKSByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHJlbW90ZSB2ZWhpY2xlIGNvbnRyb2xsZXIgY2xhc3MgKENvbHlzZXVzIFVuaXZlcnNhbCBHYW1lIFJvb20pXG4gICAgKiBAY2xhc3MgUmVtb3RlQ2FyQ29udHJvbGxlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFJlbW90ZUNhckNvbnRyb2xsZXIgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTaG93U2Vuc29yTGluZXM6Ym9vbGVhbiA9IGZhbHNlOyAvLyBOb3RlOiBEaXNhYmxlIERlYnVnIE1vZGUgU2Vuc29yc1xuXG4gICAgICAgIHB1YmxpYyBjZW50ZXJPZk1hc3M6bnVtYmVyID0gMC40O1xuICAgICAgICBwdWJsaWMgYnVybm91dFdoZWVsUGl0Y2g6bnVtYmVyID0gMC44NTtcbiAgICAgICAgcHVibGljIGxpbmtUcmFja01hbmFnZXI6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwbGF5VmVoaWNsZVNvdW5kczpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHNtb2tlVGV4dHVyZTpCQUJZTE9OLlRleHR1cmUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc2tpZFRocmVhc2hvbGQ6bnVtYmVyID0gMC42NTtcbiAgICAgICAgcHVibGljIHNtb2tlSW50ZW5zaXR5Om51bWJlciA9IDE1MDtcbiAgICAgICAgcHVibGljIHdoZWVsRHJhd1ZlbG9jaXR5Om51bWJlciA9IDAuMDI7XG4gICAgICAgIHB1YmxpYyBzbW9rZU9wYWNpdHk6bnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgc21va2VEb251dHM6bnVtYmVyID0gMi4wO1xuXG4gICAgICAgIHByaXZhdGUgc3RlZXJpbmdXaGVlbEh1YjpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0ZWVyaW5nV2hlZWxBeGlzOm51bWJlciA9IDI7XG4gICAgICAgIHByaXZhdGUgbWF4U3RlZXJpbmdBbmdsZTpudW1iZXIgPSAzNS4wO1xuICAgICAgICBwcml2YXRlIG1heFN0ZWVyaW5nU3BlZWQgPSAxMC4wO1xuXG4gICAgICAgIHByaXZhdGUgX2FuaW1hdG9yOlVOSVRZLkFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZW5naW5lQXVkaW9Tb3VyY2U6VU5JVFkuQXVkaW9Tb3VyY2UgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9za2lkQXVkaW9Tb3VyY2U6VU5JVFkuQXVkaW9Tb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgYnJha2VMaWdodHNNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBicmFrZUxpZ2h0c1RyYW5zOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmV2ZXJzZUxpZ2h0c01lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJldmVyc2VMaWdodHNUcmFuczpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxUcmFuczpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbFRyYW5zOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbFRyYW5zOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxUcmFuczpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxNZXNoOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFdoZWVsTWVzaDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxNZXNoOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxNZXNoOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbEVtaXR0ZXI6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbEVtaXR0ZXI6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxFbWl0dGVyOkJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbEVtaXR0ZXI6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZTpCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZTpCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrTGVmdFdoZWVsUGFydGljbGU6QkFCWUxPTi5QYXJ0aWNsZVN5c3RlbSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZTpCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWFyTGVmdENvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0Q29udGFjdFRhZzpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0VGFnOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0VGFnOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0Q29udGFjdFRhZzpzdHJpbmcgPSBcIlwiO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0Q29udGFjdFBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0UG9pbnQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0UG9pbnQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0Q29udGFjdFBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0Q29udGFjdE5vcm1hbDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0Q29udGFjdE5vcm1hbDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSByZWFyTGVmdENvbnRhY3ROb3JtYWw6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0Q29udGFjdE5vcm1hbDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhcnRSYXljYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgZW5kUmF5Y2FzdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHNtb2tlSW50ZW5zaXR5RmFjdG9yOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZG93bkRpcmVjdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsLTEsMCk7XG4gICAgICAgIHByaXZhdGUgZG93bkRpc3RhbmNlOm51bWJlciA9IDIuMDtcblxuICAgICAgICBwcml2YXRlIGxhc3RQaXRjaDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RCcmFrZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RSZXZlcnNlOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFzdEJ1cm5vdXQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U3RlZXJpbmc6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U0tJRF9GTDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTS0lEX0ZSOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFzdFNLSURfUkw6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U0tJRF9SUjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTUElOX0ZMOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFzdFNQSU5fRlI6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U1BJTl9STDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTUElOX1JSOm51bWJlciA9IDA7XG5cbiAgICAgICAgcHJpdmF0ZSBQSVRDSF9GTDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFBJVENIX0ZSOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfUkw6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBQSVRDSF9SUjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFdIRUVMX1NLSURfUElUQ0g6bnVtYmVyID0gMDtcblxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0KCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3Q7fVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5mcm9udFJpZ2h0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhckxlZnRXaGVlbENvbnRhY3QoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMucmVhckxlZnRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyUmlnaHRXaGVlbENvbnRhY3QoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMucmVhclJpZ2h0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0VGFnKCk6c3RyaW5nIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdFRhZygpOnN0cmluZyB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0VGFnOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyTGVmdFdoZWVsQ29udGFjdFRhZygpOnN0cmluZyB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0VGFnKCk6c3RyaW5nIHsgcmV0dXJuIHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0UG9pbnQoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbENvbnRhY3RQb2ludCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0UG9pbnQoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5yZWFyTGVmdENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0UG9pbnQoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFdoZWVsQ29udGFjdE5vcm1hbCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbENvbnRhY3ROb3JtYWwoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5mcm9udFJpZ2h0Q29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhckxlZnRXaGVlbENvbnRhY3ROb3JtYWwoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5yZWFyTGVmdENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJSaWdodFdoZWVsQ29udGFjdE5vcm1hbCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3ROb3JtYWw7IH1cblxuICAgICAgICBwcm90ZWN0ZWQgbV9mcm9udExlZnRXaGVlbFNraWQ6bnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2Zyb250UmlnaHRXaGVlbFNraWQ6bnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2JhY2tMZWZ0V2hlZWxTa2lkOm51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9iYWNrUmlnaHRXaGVlbFNraWQ6bnVtYmVyID0gLTE7XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fdmVsb2NpdHlPZmZzZXQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2xpbmVhclZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9sYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX3Bvc2l0aW9uQ2VudGVyOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zY2FsZWRWZWxvY2l0eTpudW1iZXIgPSAwO1xuICAgICAgICBcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5jZW50ZXJPZk1hc3MgPSB0aGlzLmdldFByb3BlcnR5KFwiY2VudGVyT2ZNYXNzXCIsIHRoaXMuY2VudGVyT2ZNYXNzKTtcbiAgICAgICAgICAgIHRoaXMuYnVybm91dFdoZWVsUGl0Y2ggPSB0aGlzLmdldFByb3BlcnR5KFwiYnVybm91dFdoZWVsUGl0Y2hcIiwgdGhpcy5idXJub3V0V2hlZWxQaXRjaCk7XG4gICAgICAgICAgICB0aGlzLmxpbmtUcmFja01hbmFnZXIgPSB0aGlzLmdldFByb3BlcnR5KFwibGlua1RyYWNrTWFuYWdlclwiLCB0aGlzLmxpbmtUcmFja01hbmFnZXIpO1xuICAgICAgICAgICAgdGhpcy5wbGF5VmVoaWNsZVNvdW5kcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5VmVoaWNsZVNvdW5kc1wiLCB0aGlzLnBsYXlWZWhpY2xlU291bmRzKTtcbiAgICAgICAgICAgIHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwid2hlZWxEcmF3VmVsb2NpdHlcIiwgdGhpcy53aGVlbERyYXdWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNraWRUaHJlYXNob2xkID0gdGhpcy5nZXRQcm9wZXJ0eShcInNraWRUaHJlYXNob2xkXCIsIHRoaXMuc2tpZFRocmVhc2hvbGQpO1xuICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9rZUludGVuc2l0eVwiLCB0aGlzLnNtb2tlSW50ZW5zaXR5KTtcbiAgICAgICAgICAgIHRoaXMuc21va2VPcGFjaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlT3BhY2l0eVwiLCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNtb2tlRG9udXRzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlRG9udXRzXCIsIHRoaXMuc21va2VEb251dHMpO1xuXG4gICAgICAgICAgICB0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0ZWVyaW5nV2hlZWxBeGlzXCIsIHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMpO1xuICAgICAgICAgICAgdGhpcy5tYXhTdGVlcmluZ0FuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFN0ZWVyaW5nQW5nbGVcIiwgdGhpcy5tYXhTdGVlcmluZ0FuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubWF4U3RlZXJpbmdTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhTdGVlcmluZ1NwZWVkXCIsIHRoaXMubWF4U3RlZXJpbmdTcGVlZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcm9udExlZnRXaGVlbE1lc2hcIiwgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJvbnRSaWdodFdoZWVsTWVzaFwiLCB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlYXJMZWZ0V2hlZWxNZXNoXCIsIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWFyUmlnaHRXaGVlbE1lc2hcIiwgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zKTtcblxuICAgICAgICAgICAgdGhpcy5icmFrZUxpZ2h0c1RyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcImJyYWtlTGlnaHRzTWVzaFwiLCB0aGlzLmJyYWtlTGlnaHRzVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwicmV2ZXJzZUxpZ2h0c01lc2hcIiwgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMpO1xuXG4gICAgICAgICAgICBjb25zdCBzbW9rZVRleHR1cmVJbmZvOlVOSVRZLklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwic21va2VUZXh0dXJlXCIpO1xuICAgICAgICAgICAgaWYgKHNtb2tlVGV4dHVyZUluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc21va2VUZXh0dXJlID0gVU5JVFkuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShzbW9rZVRleHR1cmVJbmZvLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMubGlua1RyYWNrTWFuYWdlciA9PT0gdHJ1ZSkgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlJlZ2lzdGVyVmVoaWNsZSh0aGlzLnRyYW5zZm9ybSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdG9yID0gdGhpcy5nZXRDb21wb25lbnQoXCJVTklUWS5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRvciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uTm9kZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLmdldENoaWxkV2l0aFNjcmlwdChcIlVOSVRZLkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0b3IgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudChhbmltYXRpb25Ob2RlLCBcIlVOSVRZLkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFQlVHOiBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWxlZCB0byBsb2NhdGUgYW5pbWF0b3Igbm9kZSBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UgPSB0aGlzLmdldENvbXBvbmVudChcIlVOSVRZLkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlID09IG51bGwpIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiTm8gZW5naW5lIGF1ZGlvIHNvdXJjZSBtYW5hZ2VyIGZvdW5kIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcblxuICAgICAgICAgICAgY29uc3Qgc3RlZXJpbmdXaGVlbE5vZGU6VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0ZWVyaW5nV2hlZWxIdWJcIik7XG4gICAgICAgICAgICBpZiAoc3RlZXJpbmdXaGVlbE5vZGUgIT0gbnVsbCAmJiBzdGVlcmluZ1doZWVsTm9kZS5uYW1lICE9IG51bGwgJiYgc3RlZXJpbmdXaGVlbE5vZGUubmFtZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbEh1YiA9IHRoaXMuZ2V0Q2hpbGROb2RlKHN0ZWVyaW5nV2hlZWxOb2RlLm5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYnJha2VMaWdodHNsTmFtZTpzdHJpbmcgPSAodGhpcy5icmFrZUxpZ2h0c1RyYW5zICE9IG51bGwgJiYgdGhpcy5icmFrZUxpZ2h0c1RyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmJyYWtlTGlnaHRzVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJyYWtlTGlnaHRzVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCByZXZlcnNlTGlnaHRzbE5hbWU6c3RyaW5nID0gKHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zICE9IG51bGwgJiYgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zLm5hbWUgIT09IFwiXCIpID8gdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBmcm9udExlZnRXaGVlbE5hbWU6c3RyaW5nID0gKHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucyAhPSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zLm5hbWUgIT09IFwiXCIpID8gdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgZnJvbnRSaWdodFdoZWVsTmFtZTpzdHJpbmcgPSAodGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucyAhPSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgYmFja0xlZnRXaGVlbE5hbWU6c3RyaW5nID0gKHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zICE9IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zLm5hbWUgIT09IFwiXCIpID8gdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBiYWNrUmlnaHRXaGVlbE5hbWU6c3RyaW5nID0gKHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucyAhPSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zLm5hbWUgIT09IFwiXCIpID8gdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGJyYWtlTGlnaHRzbE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnJha2VMaWdodHNNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoYnJha2VMaWdodHNsTmFtZSwgVU5JVFkuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnJha2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5icmFrZUxpZ2h0c01lc2guaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJldmVyc2VMaWdodHNsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJldmVyc2VMaWdodHNsTmFtZSwgVU5JVFkuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoZnJvbnRMZWZ0V2hlZWxOYW1lLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFdoZWVsTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgKDxhbnk+dGhpcy5mcm9udExlZnRXaGVlbE1lc2gpLnNwaW5uZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmZyb250TGVmdFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uQWJzdHJhY3RNZXNoKFwiRW1pdHRlcl9GTFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsRW1pdHRlci5wYXJlbnQgPSAoPGFueT50aGlzLmZyb250TGVmdFdoZWVsTWVzaCkuc3Bpbm5lciB8fCB0aGlzLmZyb250TGVmdFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsRW1pdHRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9GTFwiLCB0aGlzLmZyb250TGVmdFdoZWVsRW1pdHRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbE1lc2ggPSB0aGlzLmdldENoaWxkTm9kZShmcm9udFJpZ2h0V2hlZWxOYW1lLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICg8YW55PnRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCkuc3Bpbm5lciA9IFVOSVRZLlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsRW1pdHRlciA9IG5ldyBCQUJZTE9OLkFic3RyYWN0TWVzaChcIkVtaXR0ZXJfRlJcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxFbWl0dGVyLnBhcmVudCA9ICg8YW55PnRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCkuc3Bpbm5lciB8fCB0aGlzLmZyb250UmlnaHRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxFbWl0dGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9GUlwiLCB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJhY2tMZWZ0V2hlZWxOYW1lLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAoPGFueT50aGlzLmJhY2tMZWZ0V2hlZWxNZXNoKS5zcGlubmVyID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRDaGlsZFRyYW5zZm9ybU5vZGUodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIgPSBuZXcgQkFCWUxPTi5BYnN0cmFjdE1lc2goXCJFbWl0dGVyX1JMXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIucGFyZW50ID0gKDxhbnk+dGhpcy5iYWNrTGVmdFdoZWVsTWVzaCkuc3Bpbm5lciB8fCB0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9STFwiLCB0aGlzLmJhY2tMZWZ0V2hlZWxFbWl0dGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoYmFja1JpZ2h0V2hlZWxOYW1lLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgKDxhbnk+dGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gpLnNwaW5uZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uQWJzdHJhY3RNZXNoKFwiRW1pdHRlcl9SUlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlci5wYXJlbnQgPSAoPGFueT50aGlzLmJhY2tSaWdodFdoZWVsTWVzaCkuc3Bpbm5lciB8fCB0aGlzLmJhY2tSaWdodFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9SUlwiLCB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gU2V0dXAgU2tpZCBBdWRpbyBTb3VyY2VzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoLCBcIlVOSVRZLkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuYmFja0xlZnRXaGVlbE1lc2ggIT0gbnVsbCkgdGhpcy5fc2tpZEF1ZGlvU291cmNlID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgXCJVTklUWS5BdWRpb1NvdXJjZVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPT0gbnVsbCAmJiB0aGlzLmZyb250UmlnaHRXaGVlbE1lc2ggIT0gbnVsbCkgdGhpcy5fc2tpZEF1ZGlvU291cmNlID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoLCBcIlVOSVRZLkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoICE9IG51bGwpIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoLCBcIlVOSVRZLkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsKSBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk5vIHNraWQgYXVkaW8gc291cmNlIG1hbmFnZXIgZm91bmQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3Bvc2l0aW9uQ2VudGVyLnNldCgwLDAsLXRoaXMuY2VudGVyT2ZNYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoVU5JVFkuRW50aXR5Q29udHJvbGxlci5IYXNOZXR3b3JrRW50aXR5KHRoaXMudHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFBpdGNoID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAwKTsgICAgICAgIC8vIFBpdGNoXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0QnJha2UgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEpOyAgICAgICAgLy8gQnJha2VcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZXZlcnNlID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAyKTsgICAgICAvLyBSZXZlcnNlXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0QnVybm91dCA9IFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMyk7ICAgICAgLy8gQnVybm91dFxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNLSURfRkwgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDQpOyAgICAgIC8vIFNLSURfRkxcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTS0lEX0ZSID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA1KTsgICAgICAvLyBTS0lEX0ZSXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U0tJRF9STCA9IFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNik7ICAgICAgLy8gU0tJRF9STFxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNLSURfUlIgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDcpOyAgICAgIC8vIFNLSURfUlJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTUElOX0ZMID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA4KTsgICAgICAvLyBTUElOX0ZMXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U1BJTl9GUiA9IFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOSk7ICAgICAgLy8gU1BJTl9GUlxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNQSU5fUkwgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEwKTsgICAgIC8vIFNQSU5fUkxcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTUElOX1JSID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMSk7ICAgICAvLyBTUElOX1JSXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U3RlZXJpbmcgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEyKTsgICAgLy8gU3RlZXJpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmVoaWNsZVByb3BlcnRpZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgLyogRGVzdHJveSBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQcml2YXRlIFdvcmtlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZVZlaGljbGVQcm9wZXJ0aWVzKCk6IHZvaWQge1xuICAgICAgICAgICAgLy9VTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbiwgdGhpcy5tX3Bvc2l0aW9uQ2VudGVyKTsgLy8gTm90ZTogVGhpcyBDb3JyZWN0IENlbnRlciBPZiBNYXNzIE9mZnNldFxuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5ID0gdGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLm1fbGFzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMubV9zY2FsZWRWZWxvY2l0eSA9ICh0aGlzLm1fbGluZWFyVmVsb2NpdHkubGVuZ3RoKCkgLyB0aGlzLmdldERlbHRhU2Vjb25kcygpKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5zY2FsZUluUGxhY2UodGhpcy5tX3NjYWxlZFZlbG9jaXR5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJhd1ZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5jb3B5RnJvbSh0aGlzLm1fbGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5zY2FsZUluUGxhY2UodGhpcy53aGVlbERyYXdWZWxvY2l0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tX2xhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY2FzdFdoZWVsQ29udGFjdFJheXMoKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRW5naW5lIFBpdGNoaW5nXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMucGxheVZlaGljbGVTb3VuZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmdpbmVTb3VuZENsaXA6QkFCWUxPTi5Tb3VuZCA9IHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlLmdldFNvdW5kQ2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5naW5lU291bmRDbGlwICE9IG51bGwpIGVuZ2luZVNvdW5kQ2xpcC5zZXRQbGF5YmFja1JhdGUodGhpcy5sYXN0UGl0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgU1BJTl9GTF9UcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gKDxhbnk+dGhpcy5mcm9udExlZnRXaGVlbE1lc2gpLnNwaW5uZXI7XG4gICAgICAgICAgICBjb25zdCBTUElOX0ZSX1RyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSAoPGFueT50aGlzLmZyb250UmlnaHRXaGVlbE1lc2gpLnNwaW5uZXI7XG4gICAgICAgICAgICBjb25zdCBTUElOX1JMX1RyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSAoPGFueT50aGlzLmJhY2tMZWZ0V2hlZWxNZXNoKS5zcGlubmVyO1xuICAgICAgICAgICAgY29uc3QgU1BJTl9SUl9UcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gKDxhbnk+dGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gpLnNwaW5uZXI7XG5cbiAgICAgICAgICAgIGlmIChTUElOX0ZMX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fRkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgU1BJTl9GTF9Sb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzKHRoaXMubGFzdFNQSU5fRkwsIDAsIDApO1xuICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKFNQSU5fRkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgU1BJTl9GTF9Sb3RhdGlvbiwgMC41LCBTUElOX0ZMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFNQSU5fRlJfVHJhbnNmb3JtICE9IG51bGwgJiYgU1BJTl9GUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBTUElOX0ZSX1JvdGF0aW9uOkJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModGhpcy5sYXN0U1BJTl9GUiwgMCwgMCk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYoU1BJTl9GUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCBTUElOX0ZSX1JvdGF0aW9uLCAwLjUsIFNQSU5fRlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoU1BJTl9STF9UcmFuc2Zvcm0gIT0gbnVsbCAmJiBTUElOX1JMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFNQSU5fUkxfUm90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh0aGlzLmxhc3RTUElOX1JMLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZihTUElOX1JMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIFNQSU5fUkxfUm90YXRpb24sIDAuNSwgU1BJTl9STF9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChTUElOX1JSX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fUlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgU1BJTl9SUl9Sb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzKHRoaXMubGFzdFNQSU5fUlIsIDAsIDApO1xuICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKFNQSU5fUlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgU1BJTl9SUl9Sb3RhdGlvbiwgMC41LCBTUElOX1JSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBTbW9rZSBJbnN0ZW5zaXR5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5zbW9rZURvbnV0cyA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMuc21va2VEb251dHMsIDEsIDEwKTtcbiAgICAgICAgICAgIHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgPSB0aGlzLnNtb2tlSW50ZW5zaXR5O1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEJ1cm5vdXQgPiAwKSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICo9IHRoaXMuc21va2VEb251dHM7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEZyb250IExlZnQgV2hlZWxcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0U0tJRF9GTCA+IDAgJiYgdGhpcy5mcm9udExlZnRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2tpZFNjYWxlRkw6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMubGFzdFNLSURfRkwsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQodGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQsIHRoaXMuZnJvbnRMZWZ0Q29udGFjdE5vcm1hbCwgc2tpZFNjYWxlRkwsIHRoaXMubV9mcm9udExlZnRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLnN0YXJ0KCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfRkw6bnVtYmVyID0gdGhpcy5sYXN0U0tJRF9GTCAqIHRoaXMubGFzdFNLSURfRkw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9GTDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9GTCArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9GTCArIDEuMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEZyb250IFJpZ2h0IFdoZWVsXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFNLSURfRlIgPiAwICYmIHRoaXMuZnJvbnRSaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVGUjpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5Ob3JtYWxpemUodGhpcy5sYXN0U0tJRF9GUiwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQodGhpcy5mcm9udFJpZ2h0Q29udGFjdFBvaW50LCB0aGlzLmZyb250UmlnaHRDb250YWN0Tm9ybWFsLCBza2lkU2NhbGVGUiwgdGhpcy5tX2Zyb250UmlnaHRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuaXNTdGFydGVkKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLnN0YXJ0KCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfRlI6bnVtYmVyID0gdGhpcy5sYXN0U0tJRF9GUiAqIHRoaXMubGFzdFNLSURfRlI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICogc21va2VfRlI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUubWluU2l6ZSA9IDAuMiAqIHNtb2tlX0ZSICsgMC4yO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9GUiArIDEuMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlBJVENIX0ZMID0gdGhpcy5sYXN0U0tJRF9GTDtcbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRlIgPSB0aGlzLmxhc3RTS0lEX0ZSO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEJ1cm5vdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9GTCAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfRlIgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRkwgKj0gMC43NTsgLy8gNzUlIFNraWQgRm9yIEZyb250IFdoZWVsc1xuICAgICAgICAgICAgdGhpcy5QSVRDSF9GUiAqPSAwLjc1OyAvLyA3NSUgU2tpZCBGb3IgRnJvbnQgV2hlZWxzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFJlYXIgTGVmdCBXaGVlbFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTS0lEX1JMID4gMCAmJiB0aGlzLnJlYXJMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTY2FsZVJMOm51bWJlciA9IEJBQllMT04uU2NhbGFyLk5vcm1hbGl6ZSh0aGlzLmxhc3RTS0lEX1JMLCB0aGlzLnNraWRUaHJlYXNob2xkLCAxLjApO1xuICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQodGhpcy5yZWFyTGVmdENvbnRhY3RQb2ludCwgdGhpcy5yZWFyTGVmdENvbnRhY3ROb3JtYWwsIHNraWRTY2FsZVJMLCB0aGlzLm1fYmFja0xlZnRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5pc1N0YXJ0ZWQoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLnN0YXJ0KCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfUkw6bnVtYmVyID0gdGhpcy5sYXN0U0tJRF9STCAqIHRoaXMubGFzdFNLSURfUkw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqIHNtb2tlX1JMO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5taW5TaXplID0gMC4yICogc21va2VfUkwgKyAwLjI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9STCArIDEuMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFJlYXIgUmlnaHQgV2hlZWxcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0U0tJRF9SUiA+IDAgJiYgdGhpcy5yZWFyUmlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2tpZFNjYWxlUlI6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMubGFzdFNLSURfUlIsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQodGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQsIHRoaXMucmVhclJpZ2h0Q29udGFjdE5vcm1hbCwgc2tpZFNjYWxlUlIsIHRoaXMubV9iYWNrUmlnaHRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLnN0YXJ0KCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfUlI6bnVtYmVyID0gdGhpcy5sYXN0U0tJRF9SUiAqIHRoaXMubGFzdFNLSURfUlI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9SUjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9SUiArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9SUiArIDEuMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlBJVENIX1JMID0gdGhpcy5sYXN0U0tJRF9STDtcbiAgICAgICAgICAgIHRoaXMuUElUQ0hfUlIgPSB0aGlzLmxhc3RTS0lEX1JSO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEJ1cm5vdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9STCAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfUlIgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gUGxheSBTa2lkIEF1ZGlvIFRyYWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfRkwgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfRkw7XG4gICAgICAgICAgICBpZiAodGhpcy5QSVRDSF9GUiA+IHRoaXMuV0hFRUxfU0tJRF9QSVRDSCkgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gdGhpcy5QSVRDSF9GUjtcbiAgICAgICAgICAgIGlmICh0aGlzLlBJVENIX1JMID4gdGhpcy5XSEVFTF9TS0lEX1BJVENIKSB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSB0aGlzLlBJVENIX1JMO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfUlIgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfUlI7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5VmVoaWNsZVNvdW5kcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9za2lkQXVkaW9Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkU291bmRDbGlwOkJBQllMT04uU291bmQgPSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UuZ2V0U291bmRDbGlwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChza2lkU291bmRDbGlwICE9IG51bGwpIHNraWRTb3VuZENsaXAuc2V0UGxheWJhY2tSYXRlKHRoaXMuV0hFRUxfU0tJRF9QSVRDSCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWZWhpY2xlIFN0ZWVyaW5nIFdoZWVsIFN5bmNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RlZXJpbmdXaGVlbEh1YiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RlZXJpbmdXaGVlbEh1Yi5yb3RhdGlvblF1YXRlcm5pb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb25RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlclZlY3Rvcih0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkZWdyZWVzU3RlZXJBbmdsZTpudW1iZXIgPSAodGhpcy5sYXN0U3RlZXJpbmcgKiB0aGlzLm1heFN0ZWVyaW5nQW5nbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhZGlhbnNTdGVlckFuZ2xlOm51bWJlciA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKGRlZ3JlZXNTdGVlckFuZ2xlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB4YXhpczpudW1iZXIgPSAodGhpcy5zdGVlcmluZ1doZWVsQXhpcyA9PT0gMCkgPyByYWRpYW5zU3RlZXJBbmdsZSA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgeWF4aXM6bnVtYmVyID0gKHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMgPT09IDEpID8gcmFkaWFuc1N0ZWVyQW5nbGUgOiAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHpheGlzOm51bWJlciA9ICh0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID09PSAyKSA/IHJhZGlhbnNTdGVlckFuZ2xlIDogMDtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoeGF4aXMsIHlheGlzLCB6YXhpcywgdGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0b3IgIT0gbnVsbCkgdGhpcy5fYW5pbWF0b3Iuc2V0RmxvYXQoXCJUdXJuQW5nbGVcIiwgdGhpcy5sYXN0U3RlZXJpbmcpO1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWZWhpY2xlIEJyYWtpbmcgTGlnaHRzIENoZWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICBpZiAodGhpcy5icmFrZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnJha2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9ICh0aGlzLmxhc3RCcmFrZSA+IDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWZWhpY2xlIFJldmVyc2UgTGlnaHRzIENoZWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICBpZiAodGhpcy5yZXZlcnNlTGlnaHRzTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSAodGhpcy5sYXN0UmV2ZXJzZSA+IDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBSZXNldCBTa2lkIFByb3BlcnRpZXNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTS0lEX0ZMID09PSAwICYmIHRoaXMubGFzdFNLSURfRkwgPT09IDAgJiYgdGhpcy5sYXN0U0tJRF9GTCA9PT0gMCAmJiB0aGlzLmxhc3RTS0lEX0ZMID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNhc3RXaGVlbENvbnRhY3RSYXlzKCk6dm9pZCB7XG4gICAgICAgICAgICBsZXQgcmF5Y2FzdDpVTklUWS5SYXljYXN0SGl0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0VGFnID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0VGFnID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFBvaW50LnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0UG9pbnQuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0UG9pbnQuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdFBvaW50LnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3ROb3JtYWwuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3ROb3JtYWwuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0Tm9ybWFsLnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3ROb3JtYWwuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBGcm9udCBMZWZ0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmZyb250TGVmdFdoZWVsTWVzaCwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHRoaXMuZG93bkRpc3RhbmNlKSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIC8vIEZyb250IExlZnQgUGh5c2ljcyBSYXljYXN0XG4gICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0VGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGcm9udCBMZWZ0IERyYXcgRGVidWcgTGluZXNcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJlbW90ZUNhckNvbnRyb2xsZXIuU2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmZyb250TGVmdFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkZyb250TGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gRnJvbnQgUmlnaHQgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLmRvd25EaXN0YW5jZSkpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAvLyBGcm9udCBSaWdodCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gVU5JVFkuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24sIHRoaXMuZG93bkRpc3RhbmNlKTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZyA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGcm9udCBSaWdodCBEcmF3IERlYnVnIExpbmVzXG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SZW1vdGVDYXJDb250cm9sbGVyLlNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuZnJvbnRSaWdodFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkZyb250UmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFJlYXIgTGVmdCBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gUmVhciBMZWZ0IFBoeXNpY3MgUmF5Y2FzdFxuICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBVTklUWS5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbiwgdGhpcy5kb3duRGlzdGFuY2UpO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWFyIExlZnQgRHJhdyBEZWJ1ZyBMaW5lc1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmVtb3RlQ2FyQ29udHJvbGxlci5TaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyTGVmdFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5yZWFyTGVmdFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJlYXJMZWZ0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyTGVmdENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBSZWFyIFJpZ2h0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHRoaXMuZG93bkRpc3RhbmNlKSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIC8vIFJlYXIgUmlnaHQgUGh5c2ljcyBSYXljYXN0XG4gICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0VGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWFyIFJpZ2h0IERyYXcgRGVidWcgTGluZXNcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJlbW90ZUNhckNvbnRyb2xsZXIuU2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJlYXJSaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0obmFtZTpzdHJpbmcsIGVtaXR0ZXI6QkFCWUxPTi5BYnN0cmFjdE1lc2gpOkJBQllMT04uUGFydGljbGVTeXN0ZW0ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEJBQllMT04uUGFydGljbGVTeXN0ZW0obmFtZSwgMTAwMDAsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgcmVzdWx0LmJsZW5kTW9kZSA9IEJBQllMT04uUGFydGljbGVTeXN0ZW0uQkxFTkRNT0RFX1NUQU5EQVJEO1xuICAgICAgICAgICAgcmVzdWx0LnBhcnRpY2xlVGV4dHVyZSA9IHRoaXMuc21va2VUZXh0dXJlICAgICAgXG4gICAgICAgICAgICByZXN1bHQuZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgICAgICAgICByZXN1bHQuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgcmVzdWx0LnVwZGF0ZVNwZWVkID0gMC4wMTtcblxuICAgICAgICAgICAgLy8gY2hhbmdlIHNpemUgYW5kIHNwZWVkXG4gICAgICAgICAgICByZXN1bHQubWluU2l6ZSA9IDAuMjtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhTaXplID0gMS4zO1xuICAgICAgICAgICAgcmVzdWx0Lm1pbkFuZ3VsYXJTcGVlZCA9IC0xLjU7XG4gICAgICAgICAgICByZXN1bHQubWF4QW5ndWxhclNwZWVkID0gMS41O1xuICAgIFxuICAgICAgICAgICAgLy8gY2hhbmdlZCBsaWZldGltZSB0byBjb250cm9sIHNoYXBlIG9mIHRoZSBjbG91ZCBpbiBjb25qdW5jdGlvbiB3aXRoIHZlbG9jaXR5IGdyYWRpZW50XG4gICAgICAgICAgICByZXN1bHQubWluTGlmZVRpbWUgPSAzLjA7XG4gICAgICAgICAgICByZXN1bHQubWF4TGlmZVRpbWUgPSA1LjA7XG4gICAgXG4gICAgICAgICAgICAvLyBhZGRpbmcgdmVsb2NpdHkgb3ZlciB0aW1lIHRvIHByZXZlbnQgbGFyZ2UgYmxvb20gb2YgcGFydGljbGVzIGJ5IGxhdW5jaGluZyB0aGVtIGZhc3QgYW5kIHRoZW4gc2xvd2luZyB0aGVtIGRvd24gR1BVIHBhcnRpY2xlcyBkb24ndCB0YWtlIGEgZ3JhZGllbnQgb24gdmVsb2NpdHksIGJ1dCB0aGUgcmVkdWN0aW9uIGluIHZlbG9jaXR5IG92ZXIgdGltZSBpcyB3b3J0aCB0aGUgdHJhZGUgb2ZmIGZvciBsZXNzIHJhbmRvbWl6YXRpb25cbiAgICAgICAgICAgIHJlc3VsdC5hZGRWZWxvY2l0eUdyYWRpZW50KDAsIDEpO1xuICAgICAgICAgICAgcmVzdWx0LmFkZFZlbG9jaXR5R3JhZGllbnQoMC4xLCAwLjcpO1xuICAgICAgICAgICAgcmVzdWx0LmFkZFZlbG9jaXR5R3JhZGllbnQoMC43LCAwLjIpO1xuICAgICAgICAgICAgcmVzdWx0LmFkZFZlbG9jaXR5R3JhZGllbnQoMS4wLCAwLjA1KTtcbiAgICBcbiAgICAgICAgICAgIC8vIHJlZHVjZWQgdGhlIGVtaXQgcmF0ZSB0byByZWR1Y2UgYmxvb20gb2YgcGFydGljbGVzIGluIHRoZSBjZW50ZXIgb2YgbWFzc1xuICAgICAgICAgICAgcmVzdWx0LmdyYXZpdHkgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0wLjEsIDApO1xuICAgICAgICAgICAgcmVzdWx0Lm1pbkVtaXRCb3ggPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0wLjI1LCAwKTtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhFbWl0Qm94ID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMC4yNSwgMCk7XG4gICAgICAgICAgICByZXN1bHQuZGlyZWN0aW9uMSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoLTEsIC0xLCAtMSk7XG4gICAgICAgICAgICByZXN1bHQuZGlyZWN0aW9uMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMSwgMSk7XG4gICAgXG4gICAgICAgICAgICAvLyBUaGUgY29sb3IxLCBjb2xvcjIsIGNvbG9yRGVhZCBwYXR0ZXJuIGlzIG92ZXJyaWRkZW4gYnkgY29sb3IgZ3JhZGllbnQgc28gaXMgdW5uZWNlc3NhcnlcbiAgICAgICAgICAgIHJlc3VsdC5jb2xvcjEgPSBuZXcgQkFCWUxPTi5Db2xvcjQoMC45NSwgMC45NSwgMC45NSwgdGhpcy5zbW9rZU9wYWNpdHkpO1xuICAgICAgICAgICAgcmVzdWx0LmNvbG9yMiA9IG5ldyBCQUJZTE9OLkNvbG9yNCgwLjg1LCAwLjg1LCAwLjg1LCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICByZXN1bHQuY29sb3JEZWFkID0gbmV3IEJBQllMT04uQ29sb3I0KDAuOSwgMC45LCAwLjksICh0aGlzLnNtb2tlT3BhY2l0eSAqIDAuNSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGFuZ2VkIHRoZSBjb2xvciBncmFkaWVudCB0byBhZGQgYSBzZWNvbmQgdmFsdWUgZm9yIHJhbmRvbWl6YXRpb24gYW5kIHJhbXBlZCB0aGUgY29sb3IgZG93biBmdXJ0aGVyIHRvIGNyZWF0ZSBtb3JlIHRleHR1cmUgd2l0aCBhbHBoYSBibGVuZGluZ1xuICAgICAgICAgICAgLy9yZXN1bHQuYWRkQ29sb3JHcmFkaWVudCgwLjAsIG5ldyBCQUJZTE9OLkNvbG9yNCgxLCAxLCAxLCAwLjApLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC43LCAwLjcsIDAuNywgMC4wKSk7XG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDAuMiwgbmV3IEJBQllMT04uQ29sb3I0KDAuNywgMC43LCAwLjcsIDAuMiksIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjYsIDAuNiwgMC42LCAwLjIpKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMC42LCBuZXcgQkFCWUxPTi5Db2xvcjQoMC42LCAwLjYsIDAuNiwgMC4xKSxuZXcgQkFCWUxPTi5Db2xvcjQoMC40LCAwLjQsIDAuNCwgMC4xKSk7XG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDEuMCwgbmV3IEJBQllMT04uQ29sb3I0KDAuMywgMC4zLCAwLjMsIDAuMCksbmV3IEJBQllMT04uQ29sb3I0KDAuMSwgMC4xLCAwLjEsIDAuMCkpOyAgICAgICAgICAgIFxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0OyAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHNraWRtYXJrIHNlY3Rpb24gY2xhc3MgKE5hdGl2ZSBCdWxsZXQgUGh5c2ljcyAyLjgyKVxuICAgICAqIEBjbGFzcyBTa2lkTWFya1NlY3Rpb25cbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU2tpZE1hcmtTZWN0aW9uIHtcbiAgICAgICAgcHVibGljIFBvczpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwdWJsaWMgTm9ybWFsOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHB1YmxpYyBUYW5nZW50OkJBQllMT04uVmVjdG9yNCA9IEJBQllMT04uVmVjdG9yNC5aZXJvKCk7XG4gICAgICAgIHB1YmxpYyBQb3NsOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHB1YmxpYyBQb3NyOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHB1YmxpYyBJbnRlbnNpdHk6bnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgTGFzdEluZGV4Om51bWJlciA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAgKiBAY2xhc3MgU2tpZE1hcmtNYW5hZ2VyXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNraWRNYXJrTWFuYWdlciBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIE1BWF9NQVJLUzpudW1iZXIgPSAxMDI0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1heCBudW1iZXIgb2YgbWFya3MgdG90YWwgZm9yIGV2ZXJ5b25lIHRvZ2V0aGVyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEdST1VORF9PRkZTRVQ6bnVtYmVyID0gMC4wMTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc3RhbmNlIGFib3ZlIHN1cmZhY2UgaW4gbWV0cmVzXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEdQVV9UUklBTkdMRVM6Ym9vbGVhbiA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdQVSBxdWFkIHRyaWFuZ2xlIGluZGljZXMgb25seVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBNQVJLX0NPTE9SOkJBQllMT04uQ29sb3IzID0gQkFCWUxPTi5Db2xvcjMuQmxhY2soKTsgICAgICAvLyBTa2lkTWFyayBDb2xvclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBNQVJLX1dJRFRIOm51bWJlciA9IDAuMzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaWR0aCBvZiB0aGUgU2tpZE1hcmtzLiBTaG91bGQgbWF0Y2ggdGhlIHdpZHRoIG9mIHRoZSB3aGVlbHNcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVEVYX0lOVEVOU0lUWTpudW1iZXIgPSAxLjA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW1vdW50IG9mIHRoZSBza2lkbWFyayB0ZXh0dXJlIGludGVuc2l0eSBjb2VmZmVjaWVudFxuICAgICAgICBwcml2YXRlIHN0YXRpYyBNSU5fRElTVEFOQ0U6bnVtYmVyID0gMC4xOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXN0YW5jZSBiZXR3ZWVuIHNraWQgdGV4dHVyZSBzZWN0aW9ucyBpbiBtZXRyZXMuIEJpZ2dlciA9IGJldHRlciBwZXJmb3JtYW5jZSwgbGVzcyBzbW9vdGhcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTUlOX1NRUl9ESVNUQU5DRSA9IChTa2lkTWFya01hbmFnZXIuTUlOX0RJU1RBTkNFICogU2tpZE1hcmtNYW5hZ2VyLk1JTl9ESVNUQU5DRSk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRFWFRVUkVfTUFSS1M6YW55ID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkQnVmZmVyUG9zaXRpb25zOkZsb2F0MzJBcnJheSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRCdWZmZXJOb3JtYWxzOkZsb2F0MzJBcnJheSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRCdWZmZXJUYW5nZW50czpGbG9hdDMyQXJyYXkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkQnVmZmVyQ29sb3JzOkZsb2F0MzJBcnJheSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRCdWZmZXJVdnM6RmxvYXQzMkFycmF5ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZEJ1ZmZlckluZGljZXM6SW50MzJBcnJheSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRNYXJrU2VjdGlvbnM6U2tpZE1hcmtTZWN0aW9uW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkTWFya0luZGV4Om51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRNYXJrTWVzaDpCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkTWFya1VwZGF0ZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRlbXBWZWN0b3IzX1BPUzpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVGVtcFZlY3RvcjNfRElSOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBUZW1wVmVjdG9yM19YRElSOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBUZW1wVmVjdG9yM19TRElSOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuXG4gICAgICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHByb3BlcnRpZXM6IGFueSA9IHt9KSB7XG4gICAgICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIHNjZW5lLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5NQVhfTUFSS1MgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4U2VjdGlvbnNcIiwgU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuTUFSS19DT0xPUiA9IFVOSVRZLlV0aWxpdGllcy5QYXJzZUNvbG9yMyh0aGlzLmdldFByb3BlcnR5KFwidGV4dHVyZUNvbG9yXCIpLCBTa2lkTWFya01hbmFnZXIuTUFSS19DT0xPUik7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuTUFSS19XSURUSCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXh0dXJlV2lkdGhcIiwgU2tpZE1hcmtNYW5hZ2VyLk1BUktfV0lEVEgpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLkdST1VORF9PRkZTRVQgPSB0aGlzLmdldFByb3BlcnR5KFwiZ3JvdW5kT2Zmc2V0XCIsIFNraWRNYXJrTWFuYWdlci5HUk9VTkRfT0ZGU0VUKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5HUFVfVFJJQU5HTEVTID0gdGhpcy5nZXRQcm9wZXJ0eShcImdwdVF1YWRJbmRpY2VzXCIsIFNraWRNYXJrTWFuYWdlci5HUFVfVFJJQU5HTEVTKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5URVhUVVJFX01BUktTID0gdGhpcy5nZXRQcm9wZXJ0eShcInRleHR1cmVNYXJrc1wiLCBTa2lkTWFya01hbmFnZXIuVEVYVFVSRV9NQVJLUyk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVEVYX0lOVEVOU0lUWSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXh0dXJlSW50ZW5zaXR5XCIsIFNraWRNYXJrTWFuYWdlci5URVhfSU5URU5TSVRZKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5NSU5fRElTVEFOQ0UgPSB0aGlzLmdldFByb3BlcnR5KFwidGV4dHVyZURpc3RhbmNlXCIsIFNraWRNYXJrTWFuYWdlci5NSU5fRElTVEFOQ0UpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLk1JTl9TUVJfRElTVEFOQ0UgPSAoU2tpZE1hcmtNYW5hZ2VyLk1JTl9ESVNUQU5DRSAqIFNraWRNYXJrTWFuYWdlci5NSU5fRElTVEFOQ0UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyBTa2lkTWFya01hbmFnZXIuQ3JlYXRlU2tpZE1hcmtNYW5hZ2VyKHRoaXMuc2NlbmUpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IFNraWRNYXJrTWFuYWdlci5VcGRhdGVTa2lkTWFya01hbmFnZXIoKTsgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQWRkU2tpZE1hcmtTZWdtZW50KHBvczpCQUJZTE9OLlZlY3RvcjMsIG5vcm1hbDpCQUJZTE9OLlZlY3RvcjMsIGludGVuc2l0eTpudW1iZXIsIGxhc3RJbmRleDpudW1iZXIpOkJBQllMT04uTnVsbGFibGU8bnVtYmVyPiB7XG4gICAgICAgICAgICBpZiAoU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaCA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19QT1Muc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19ESVIuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19YRElSLnNldCgwLDAsMCk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfU0RJUi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChpbnRlbnNpdHkgPiAxLjApIGludGVuc2l0eSA9IDEuMDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGludGVuc2l0eSA8IDAuMCkgcmV0dXJuIC0xLjA7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKGxhc3RJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBwb3Muc3VidHJhY3RUb1JlZihTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tsYXN0SW5kZXhdLlBvcywgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1BPUyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3FyRGlzdGFuY2U6bnVtYmVyID0gU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1BPUy5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNxckRpc3RhbmNlIDwgU2tpZE1hcmtNYW5hZ2VyLk1JTl9TUVJfRElTVEFOQ0UpIHJldHVybiBsYXN0SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgY3VyU2VjdGlvbjpTa2lkTWFya1NlY3Rpb24gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleF07XG4gICAgICAgICAgICBub3JtYWwuc2NhbGVUb1JlZihTa2lkTWFya01hbmFnZXIuR1JPVU5EX09GRlNFVCwgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1BPUyk7XG4gICAgICAgICAgICBwb3MuYWRkVG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1BPUywgY3VyU2VjdGlvbi5Qb3MpO1xuICAgICAgICAgICAgY3VyU2VjdGlvbi5Ob3JtYWwuY29weUZyb20obm9ybWFsKTtcbiAgICAgICAgICAgIGN1clNlY3Rpb24uSW50ZW5zaXR5ID0gKGludGVuc2l0eSAqIFNraWRNYXJrTWFuYWdlci5URVhfSU5URU5TSVRZKTtcbiAgICAgICAgICAgIGN1clNlY3Rpb24uTGFzdEluZGV4ID0gbGFzdEluZGV4O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChsYXN0SW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2VjdGlvbjpTa2lkTWFya1NlY3Rpb24gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tsYXN0SW5kZXhdO1xuICAgICAgICAgICAgICAgIGN1clNlY3Rpb24uUG9zLnN1YnRyYWN0VG9SZWYobGFzdFNlY3Rpb24uUG9zLCBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfRElSKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuQ3Jvc3NUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfRElSLCBub3JtYWwsIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19YRElSKTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfWERJUi5ub3JtYWxpemVUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfWERJUik7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfWERJUi5zY2FsZVRvUmVmKFNraWRNYXJrTWFuYWdlci5NQVJLX1dJRFRIICogMC41LCBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfU0RJUilcbiAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlBvcy5hZGRUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfU0RJUiwgY3VyU2VjdGlvbi5Qb3NsKTtcbiAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlBvcy5zdWJ0cmFjdFRvUmVmKFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19TRElSLCBjdXJTZWN0aW9uLlBvc3IpO1xuICAgICAgICAgICAgICAgIGN1clNlY3Rpb24uVGFuZ2VudC5zZXQoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIueCwgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIueSwgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIueiwgMSk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAobGFzdFNlY3Rpb24uTGFzdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlBvcy5hZGRUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfU0RJUiwgbGFzdFNlY3Rpb24uUG9zbCk7XG4gICAgICAgICAgICAgICAgICAgIGN1clNlY3Rpb24uUG9zLnN1YnRyYWN0VG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1NESVIsIGxhc3RTZWN0aW9uLlBvc3IpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0U2VjdGlvbi5UYW5nZW50LmNvcHlGcm9tKGN1clNlY3Rpb24uVGFuZ2VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1ZlcnRleERhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1ckluZGV4Om51bWJlciA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggPSArK1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICUgU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUztcbiAgICAgICAgICAgIHJldHVybiBjdXJJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBDcmVhdGVTa2lkTWFya01hbmFnZXIoc2NlbmU6QkFCWUxPTi5TY2VuZSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2tpZG1hcmtNYXRlcmlhbDpCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKFwiU2tpZE1hcmtNYXRlcmlhbFwiLCBzY2VuZSk7XG4gICAgICAgICAgICAgICAgc2tpZG1hcmtNYXRlcmlhbC5iYWNrRmFjZUN1bGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBza2lkbWFya01hdGVyaWFsLmRpc2FibGVMaWdodGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2tpZG1hcmtNYXRlcmlhbC5lbWlzc2l2ZUNvbG9yID0gU2tpZE1hcmtNYW5hZ2VyLk1BUktfQ09MT1I7XG4gICAgICAgICAgICAgICAgc2tpZG1hcmtNYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBTa2lkTWFya01hbmFnZXIuTUFSS19DT0xPUjtcbiAgICAgICAgICAgICAgICBza2lkbWFya01hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gVU5JVFkuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShTa2lkTWFya01hbmFnZXIuVEVYVFVSRV9NQVJLUywgc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmIChza2lkbWFya01hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpZG1hcmtNYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5oYXNBbHBoYSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNraWRtYXJrTWF0ZXJpYWwudXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBza2lkbWFya01hdGVyaWFsLmZyZWV6ZSgpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2ggPSBuZXcgQkFCWUxPTi5NZXNoKFwiU2tpZE1hcmtNZXNoXCIsIHNjZW5lKTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLm1hdGVyaWFsID0gc2tpZG1hcmtNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLnJlbmRlcmluZ0dyb3VwSWQgPSBVTklUWS5VdGlsaXRpZXMuRGVmYXVsdFJlbmRlckdyb3VwKCk7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZG9Ob3RTeW5jQm91bmRpbmdJbmZvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLnJlY2VpdmVTaGFkb3dzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLnVzZVZlcnRleENvbG9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5oYXNWZXJ0ZXhBbHBoYSA9IHRydWU7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBTa2lkTWFyayBTZWN0aW9uIFByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1NlY3Rpb25zID0gbmV3IEFycmF5PFNraWRNYXJrU2VjdGlvbj4oU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tpXSA9IG5ldyBTa2lkTWFya1NlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSYXcgTWVzaCBWZXJ0ZXggQnVmZmVyIERhdGFcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNCAqIDMpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyAqIDQgKiAzKTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzID0gbmV3IEZsb2F0MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNCAqIDQpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNCAqIDQpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzID0gbmV3IEZsb2F0MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNCAqIDIpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlcyA9IG5ldyBJbnQzMkFycmF5KFNraWRNYXJrTWFuYWdlci5NQVhfTUFSS1MgKiA2KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IFJhdyBWZXJ0ZXggQnVmZmVyIERhdGEgVG8gTWVzaFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IG5ldyBCQUJZTE9OLlZlcnRleERhdGEoKTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLnBvc2l0aW9ucyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zO1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGEubm9ybWFscyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFscztcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLnRhbmdlbnRzID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50cztcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLmNvbG9ycyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzO1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGEudXZzID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnM7ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YS5pbmRpY2VzID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzO1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGEuYXBwbHlUb01lc2goU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5mcmVlemVXb3JsZE1hdHJpeCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEFkZFNraWRNYXJrVmVydGV4RGF0YSgpOnZvaWQge1xuICAgICAgICAgICAgY29uc3QgY3VycjpTa2lkTWFya1NlY3Rpb24gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleF07XG4gICAgICAgICAgICBpZiAoY3Vyci5MYXN0SW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBsYXN0OlNraWRNYXJrU2VjdGlvbiA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1NlY3Rpb25zW2N1cnIuTGFzdEluZGV4XTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1VwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQb3NpdGlvbiBCdWZmZXJzIERpcmVjdGx5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgbGV0IGluZGV4Om51bWJlciA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1tpbmRleCAqIDNdID0gbGFzdC5Qb3NsLng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1soaW5kZXggKiAzKSArIDFdID0gbGFzdC5Qb3NsLnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1soaW5kZXggKiAzKSArIDJdID0gbGFzdC5Qb3NsLno7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1tpbmRleCAqIDNdID0gbGFzdC5Qb3NyLng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1soaW5kZXggKiAzKSArIDFdID0gbGFzdC5Qb3NyLnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1soaW5kZXggKiAzKSArIDJdID0gbGFzdC5Qb3NyLno7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDI7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1tpbmRleCAqIDNdID0gY3Vyci5Qb3NsLng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1soaW5kZXggKiAzKSArIDFdID0gY3Vyci5Qb3NsLnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1soaW5kZXggKiAzKSArIDJdID0gY3Vyci5Qb3NsLno7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDM7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1tpbmRleCAqIDNdID0gY3Vyci5Qb3NyLng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1soaW5kZXggKiAzKSArIDFdID0gY3Vyci5Qb3NyLnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9uc1soaW5kZXggKiAzKSArIDJdID0gY3Vyci5Qb3NyLno7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIE5vcm1hbCBCdWZmZXJzIERpcmVjdGx5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAwO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzW2luZGV4ICogM10gPSBsYXN0Lk5vcm1hbC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzWyhpbmRleCAqIDMpICsgMV0gPSBsYXN0Lk5vcm1hbC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzWyhpbmRleCAqIDMpICsgMl0gPSBsYXN0Lk5vcm1hbC56O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzW2luZGV4ICogM10gPSBsYXN0Lk5vcm1hbC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzWyhpbmRleCAqIDMpICsgMV0gPSBsYXN0Lk5vcm1hbC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzWyhpbmRleCAqIDMpICsgMl0gPSBsYXN0Lk5vcm1hbC56O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAyO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzW2luZGV4ICogM10gPSBjdXJyLk5vcm1hbC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzWyhpbmRleCAqIDMpICsgMV0gPSBjdXJyLk5vcm1hbC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzWyhpbmRleCAqIDMpICsgMl0gPSBjdXJyLk5vcm1hbC56O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAzO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzW2luZGV4ICogM10gPSBjdXJyLk5vcm1hbC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzWyhpbmRleCAqIDMpICsgMV0gPSBjdXJyLk5vcm1hbC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzWyhpbmRleCAqIDMpICsgMl0gPSBjdXJyLk5vcm1hbC56O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBUYW5nZW50IEJ1ZmZlcnMgRGlyZWN0bHlcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzW2luZGV4ICogNF0gPSBsYXN0LlRhbmdlbnQueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAxXSA9IGxhc3QuVGFuZ2VudC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDJdID0gbGFzdC5UYW5nZW50Lno7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgM10gPSBsYXN0LlRhbmdlbnQudztcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbaW5kZXggKiA0XSA9IGxhc3QuVGFuZ2VudC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDFdID0gbGFzdC5UYW5nZW50Lnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgMl0gPSBsYXN0LlRhbmdlbnQuejtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAzXSA9IGxhc3QuVGFuZ2VudC53O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAyO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1tpbmRleCAqIDRdID0gY3Vyci5UYW5nZW50Lng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgMV0gPSBjdXJyLlRhbmdlbnQueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAyXSA9IGN1cnIuVGFuZ2VudC56O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDNdID0gY3Vyci5UYW5nZW50Lnc7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDM7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzW2luZGV4ICogNF0gPSBjdXJyLlRhbmdlbnQueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAxXSA9IGN1cnIuVGFuZ2VudC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDJdID0gY3Vyci5UYW5nZW50Lno7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgM10gPSBjdXJyLlRhbmdlbnQudztcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgQ29sb3IgQnVmZmVycyBEaXJlY3RseVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzW2luZGV4ICogNF0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDFdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAyXSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgM10gPSBsYXN0LkludGVuc2l0eTtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzW2luZGV4ICogNF0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDFdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAyXSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgM10gPSBsYXN0LkludGVuc2l0eTtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMjtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzW2luZGV4ICogNF0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDFdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAyXSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgM10gPSBjdXJyLkludGVuc2l0eTtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMztcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzW2luZGV4ICogNF0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDFdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAyXSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgM10gPSBjdXJyLkludGVuc2l0eTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgQ29vcmQgQnVmZmVycyBEaXJlY3RseVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzW2luZGV4ICogMl0gPSAwO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnNbKGluZGV4ICogMikgKyAxXSA9IDA7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2c1tpbmRleCAqIDJdID0gMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzWyhpbmRleCAqIDIpICsgMV0gPSAwO1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAyO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnNbaW5kZXggKiAyXSA9IDA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2c1soaW5kZXggKiAyKSArIDFdID0gMTtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMztcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzW2luZGV4ICogMl0gPSAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnNbKGluZGV4ICogMikgKyAxXSA9IDE7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFRyaWFuZ2xlIDEgQnVmZmVycyBEaXJlY3RseSAoUVVBRClcbiAgICAgICAgICAgIC8vLi5cbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDYgKyAwXSA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckluZGljZXNbU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA2ICsgMl0gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzW1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNiArIDFdID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMjtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgVHJpYW5nbGUgMiBCdWZmZXJzIERpcmVjdGx5IChRVUFEKVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDYgKyAzXSA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDI7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckluZGljZXNbU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA2ICsgNV0gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzW1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNiArIDRdID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMztcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBVcGRhdGVTa2lkTWFya01hbmFnZXIoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoICE9IG51bGwgJiYgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrVXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1VwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5nZW9tZXRyeSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoQkFCWUxPTi5WZXJ0ZXhCdWZmZXIuUG9zaXRpb25LaW5kLCBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9ucywgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmdlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KEJBQllMT04uVmVydGV4QnVmZmVyLk5vcm1hbEtpbmQsIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFscywgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmdlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KEJBQllMT04uVmVydGV4QnVmZmVyLlRhbmdlbnRLaW5kLCBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzLCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoQkFCWUxPTi5WZXJ0ZXhCdWZmZXIuQ29sb3JLaW5kLCBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9ycywgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmdlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KEJBQllMT04uVmVydGV4QnVmZmVyLlVWS2luZCwgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnMsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5nZW9tZXRyeS51cGRhdGVJbmRpY2VzKFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlcywgMCwgU2tpZE1hcmtNYW5hZ2VyLkdQVV9UUklBTkdMRVMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBzdGFuZGFyZCByaWdpZGJvZHkgdmVoaWNsZSBjb250cm9sbGVyIGNsYXNzIChOYXRpdmUgQnVsbGV0IFBoeXNpY3MgMi44MilcbiAgICAgKiBAY2xhc3MgU3RhbmRhcmRDYXJDb250cm9sbGVyXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFN0YW5kYXJkQ2FyQ29udHJvbGxlciBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9TUEVFRF9GQUNUT1IgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9QSVRDSF9GQUNUT1IgPSAxLjA7XG4gICAgICAgIFxuICAgICAgICBwdWJsaWMgTUlOX1JQTSA9IDEwMDA7XG4gICAgICAgIHB1YmxpYyBNQVhfUlBNID0gNjAwMDtcblxuICAgICAgICBwcml2YXRlIF9hbmltYXRvcjpVTklUWS5BbmltYXRpb25TdGF0ZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3JpZ2lkYm9keTpVTklUWS5SaWdpZGJvZHlQaHlzaWNzID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZW5naW5lQXVkaW9Tb3VyY2U6VU5JVFkuQXVkaW9Tb3VyY2UgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9za2lkQXVkaW9Tb3VyY2U6VU5JVFkuQXVkaW9Tb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgc3RlZXJpbmdXaGVlbEh1YjpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0ZWVyaW5nV2hlZWxBeGlzOm51bWJlciA9IDI7XG4gICAgICAgIHByaXZhdGUgbWF4U3RlZXJpbmdBbmdsZTpudW1iZXIgPSA2NS4wO1xuICAgICAgICBwcml2YXRlIG1heFN0ZWVyaW5nU3BlZWQ6bnVtYmVyID0gMTUuMDtcbiAgICBcbiAgICAgICAgcHJpdmF0ZSBnZWFySW5kZXg6bnVtYmVyID0gMDsgLy8gRmlyc3QgR2VhciBSYXRpb1xuICAgICAgICBwcml2YXRlIGRvd25TaGlmdDpudW1iZXIgPSAxMDAwO1xuICAgICAgICBwcml2YXRlIHNraWRkaW5nVGltZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNoaWZ0aW5nVGltZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNoaWZ0aW5nQnJha2U6bnVtYmVyID0gMS4wO1xuICAgICAgICBwcml2YXRlIGVuZ2luZUZvcmNlOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaGFuZEJyYWtpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGxpbmVhckRhbXBpbmc6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhbmd1bGFyRGFtcGluZzpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGZvcndhcmRTcGVlZDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGFic29sdXRlU3BlZWQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhbWVyaWNhblNwZWVkOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZ3JhZGllbnRTcGVlZDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGZyb250V2hlZWxQb3dlcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGJhY2tXaGVlbFBvd2VyOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgd2hlZWxCcmFraW5nRm9yY2U6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBlbmdpbmVQaXRjaExldmVsOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc21va2VJbnRlbnNpdHlGYWN0b3I6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByYXljYXN0VmVoaWNsZTpVTklUWS5SYXljYXN0VmVoaWNsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYnJha2VMaWdodHNNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBicmFrZUxpZ2h0c1RyYW5zOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmV2ZXJzZUxpZ2h0c01lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJldmVyc2VMaWdodHNUcmFuczpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsVHJhbnM6VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0V2hlZWxUcmFuczpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxUcmFuczpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsVHJhbnM6VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbE1lc2g6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0V2hlZWxNZXNoOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbE1lc2g6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbE1lc2g6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbEVtaXR0ZXI6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbEVtaXR0ZXI6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxFbWl0dGVyOkJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbEVtaXR0ZXI6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsUGFydGljbGU6QkFCWUxPTi5QYXJ0aWNsZVN5c3RlbSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFdoZWVsUGFydGljbGU6QkFCWUxPTi5QYXJ0aWNsZVN5c3RlbSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbFBhcnRpY2xlOkJBQllMT04uUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsUGFydGljbGU6QkFCWUxPTi5QYXJ0aWNsZVN5c3RlbSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxDb2xsaWRlcjphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbENvbGxpZGVyOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbENvbGxpZGVyOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxDb2xsaWRlcjphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGVuZ2luZVRvcnF1ZUN1cnZlOkJBQllMT04uQW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBwaHlzaWNzU3RlZXJBbmdsZUw6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwaHlzaWNzU3RlZXJBbmdsZVI6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB2aXN1YWxTdGVlckFuZ2xlTDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHZpc3VhbFN0ZWVyQW5nbGVSOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgdmlzdWFsU3RlZXJCb29zdEw6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB2aXN1YWxTdGVlckJvb3N0UjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHdoZWVsUmFkaXVzOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY2x1dGNoU2xpcDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGVuZ2luZVJQTTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBpdGNoUlBNOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc2hpZnRSUE06bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBTS0lEX0ZMOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgU0tJRF9GUjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFNLSURfUkw6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBTS0lEX1JSOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfRkw6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBQSVRDSF9GUjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFBJVENIX1JMOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfUlI6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBGUk9OVF9MRUZUOm51bWJlciA9IC0xO1xuICAgICAgICBwcml2YXRlIEZST05UX1JJR0hUOm51bWJlciA9IC0xO1xuICAgICAgICBwcml2YXRlIEJBQ0tfTEVGVDpudW1iZXIgPSAtMTtcbiAgICAgICAgcHJpdmF0ZSBCQUNLX1JJR0hUOm51bWJlciA9IC0xO1xuICAgICAgICBwcml2YXRlIFdIRUVMX1NLSURfUElUQ0g6bnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIFNQSU5fRkxfUm90YXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgU1BJTl9GUl9Sb3RhdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBTUElOX1JMX1JvdGF0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIFNQSU5fUlJfUm90YXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG5cbiAgICAgICAgcHVibGljIGdldEZvb3RCcmFraW5nKCk6Ym9vbGVhbiB7IHJldHVybiAodGhpcy5jdXJyZW50Rm9yd2FyZCA8IDAgJiYgdGhpcy5mb3J3YXJkU3BlZWQgPj0gMCk7IH1cbiAgICAgICAgcHVibGljIGdldEhhbmRCcmFraW5nKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmhhbmRCcmFraW5nOyB9XG4gICAgICAgIHB1YmxpYyBnZXRMaW5lYXJWZWxvY2l0eSgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLm1fbGluZWFyVmVsb2NpdHk7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRGb3J3YXJkKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudEZvcndhcmQ7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRUdXJuaW5nKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudFR1cm5pbmc7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRTa2lkZGluZygpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50U2tpZGRpbmc7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnREb251dHMoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuY3VycmVudERvbnV0czsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmV2ZXJzZVRocm90dGxlKCk6Ym9vbGVhbiB7IHJldHVybiAodGhpcy5jdXJyZW50Rm9yd2FyZCA8IDAgJiYgdGhpcy5mb3J3YXJkU3BlZWQgPCAwKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0RW5naW5lUGl0Y2hMZXZlbCgpOm51bWJlciB7IHJldHVybiB0aGlzLmVuZ2luZVBpdGNoTGV2ZWw7IH1cbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHB1YmxpYyBnZXRGcm9udExlZnRTcGluKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuc3Bpbm5lciAhPSBudWxsICYmIHRoaXMubV9mcm9udExlZnRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRoaXMubV9mcm9udExlZnRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiA6IG51bGw7IH1cbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHB1YmxpYyBnZXRGcm9udFJpZ2h0U3BpbigpOkJBQllMT04uUXVhdGVybmlvbiB7IHJldHVybiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuc3Bpbm5lciAhPSBudWxsICYmIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuc3Bpbm5lci5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkgPyB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLnNwaW5uZXIucm90YXRpb25RdWF0ZXJuaW9uIDogbnVsbDsgfVxuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIGdldEJhY2tMZWZ0U3BpbigpOkJBQllMT04uUXVhdGVybmlvbiB7IHJldHVybiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja0xlZnRXaGVlbC5zcGlubmVyICE9IG51bGwgJiYgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuc3Bpbm5lci5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkgPyB0aGlzLm1fYmFja0xlZnRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiA6IG51bGw7IH1cbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHB1YmxpYyBnZXRCYWNrUmlnaHRTcGluKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuc3Bpbm5lciAhPSBudWxsICYmIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRoaXMubV9iYWNrUmlnaHRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiA6IG51bGw7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRCdXJub3V0KCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLndoZWVsQnVybm91dCB8fCB0aGlzLnJlc3RvcmVUaW1lciA+IDA7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFNraWQoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5TS0lEX0ZMOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udFJpZ2h0U2tpZCgpOm51bWJlciB7IHJldHVybiB0aGlzLlNLSURfRlI7IH1cbiAgICAgICAgcHVibGljIGdldEJhY2tMZWZ0U2tpZCgpOm51bWJlciB7IHJldHVybiB0aGlzLlNLSURfUkw7IH1cbiAgICAgICAgcHVibGljIGdldEJhY2tSaWdodFNraWQoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5TS0lEX1JSOyB9XG4gICAgICAgIHB1YmxpYyBnZXRXaGVlbFNraWRQaXRjaCgpOm51bWJlciB7IHJldHVybiB0aGlzLldIRUVMX1NLSURfUElUQ0g7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2lkYm9keVBoeXNpY3MoKTpVTklUWS5SaWdpZGJvZHlQaHlzaWNzIHsgcmV0dXJuIHRoaXMuX3JpZ2lkYm9keTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmF5Y2FzdFZlaGljbGUoKTpVTklUWS5SYXljYXN0VmVoaWNsZSB7IHJldHVybiB0aGlzLnJheWNhc3RWZWhpY2xlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRHcmFkaWVudFNwZWVkKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuZ3JhZGllbnRTcGVlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Rm9yd2FyZFNwZWVkKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuZm9yd2FyZFNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBYnNvbHV0ZVNwZWVkKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuYWJzb2x1dGVTcGVlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0QW1lcmljYW5TcGVlZCgpOm51bWJlciB7IHJldHVybiB0aGlzLmFtZXJpY2FuU3BlZWQ7IH1cbiAgICAgICAgcHVibGljIGdldE5vcm1hbGl6ZWRTcGVlZCgpOm51bWJlciB7IHJldHVybiB0aGlzLmFtZXJpY2FuU3BlZWQgLyB0aGlzLnRvcEVuZ2luZVNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRUb3BFbmdpbmVTcGVlZCgpOm51bWJlciB7IHJldHVybiB0aGlzLnRvcEVuZ2luZVNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRNYXhSZXZlcnNlUG93ZXIoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5tYXhSZXZlcnNlUG93ZXI7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRHZWFySW5kZXgoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5nZWFySW5kZXggfVxuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudEVuZ2luZVJQTSgpOm51bWJlciB7IHJldHVybiB0aGlzLmVuZ2luZVJQTSB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50RW5naW5lRm9yY2UoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5lbmdpbmVGb3JjZSB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50RW5naW5lUGl0Y2goKTpudW1iZXIgeyByZXR1cm4gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKHRoaXMucGl0Y2hSUE0gLyB0aGlzLmdlYXJCb3hNYXhQaXRjaGluZykgKyAwLjEpOyB9XG4gICAgICAgIHB1YmxpYyBnZXRHZWFyU2hpZnRSYXRpb0NvdW50KCk6bnVtYmVyIHsgcmV0dXJuICh0aGlzLmdlYXJCb3hTaGlmdFJhdGlvcyAhPSBudWxsKSA/IHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zLmxlbmd0aCA6IDAgfVxuICAgICAgICBwdWJsaWMgZ2V0U21va2VUZXh0dXJlTWFzaygpOkJBQllMT04uVGV4dHVyZSB7IHJldHVybiB0aGlzLnNtb2tlVGV4dHVyZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0QnJha2VMaWdodHNNZXNoKCk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuYnJha2VMaWdodHNNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZXZlcnNlTGlnaHRzTWVzaCgpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLnJldmVyc2VMaWdodHNNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbE5vZGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5mcm9udExlZnRXaGVlbE1lc2g7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbE5vZGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRCYWNrTGVmdFdoZWVsTm9kZSgpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRCYWNrUmlnaHRXaGVlbE5vZGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2g7IH1cbiAgICAgICAgcHVibGljIGdldFdoZWVsQnVybm91dEVuYWJsZWQoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMud2hlZWxCdXJub3V0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRXaGVlbERvbnV0c0VuYWJsZWQoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMud2hlZWxEb251dHM7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnREb251dFNwaW5UaW1lKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuZG9udXRTcGluVGltZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0U21va2VJbnRlbnNpdHlGYWN0b3IoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0V2hlZWxWZWxvY2l0eU9mZnNldCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLm1fdmVsb2NpdHlPZmZzZXQ7IH1cblxuICAgICAgICBwdWJsaWMgc21va2VUZXh0dXJlOkJBQllMT04uVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBza2lkVGhyZWFzaG9sZDpudW1iZXIgPSAwLjY1O1xuICAgICAgICBwdWJsaWMgd2hlZWxEcmF3VmVsb2NpdHk6bnVtYmVyID0gMC4wMjtcbiAgICAgICAgcHVibGljIHNtb2tlSW50ZW5zaXR5Om51bWJlciA9IDE1MDtcbiAgICAgICAgcHVibGljIHNtb2tlT3BhY2l0eTpudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBzbW9rZURvbnV0czpudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBtYXhCdXJub3V0RmFjdG9yOm51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIG1heFN0ZWVyQm9vc3Q6bnVtYmVyID0gNjtcbiAgICAgICAgcHVibGljIG92ZXJTdGVlclNwZWVkOm51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIG92ZXJTdGVlclRpbWVvdXQ6bnVtYmVyID0gMC4yO1xuICAgICAgICBwdWJsaWMgdG9wRW5naW5lU3BlZWQ6bnVtYmVyID0gMTI1O1xuICAgICAgICBwdWJsaWMgcG93ZXJDb2VmZmljaWVudDpudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBmcmljdGlvbkxlcnBTcGVlZDpudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyB0b3BTcGVlZERhbXBlbmVyOm51bWJlciA9IDAuMTU7XG4gICAgICAgIHB1YmxpYyBsb3dTcGVlZFN0ZWVyaW5nOm51bWJlciA9IDUuMDtcbiAgICAgICAgcHVibGljIGhpZ2hTcGVlZFN0ZWVyaW5nOm51bWJlciA9IDUuMDtcbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHB1YmxpYyByYXlUZXN0aW5nVHlwZTpudW1iZXIgPSAwO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIHRlc3RQb2ludENvdW50Om51bWJlciA9IDMyO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIHN3ZWVwUGVuZXRyYXRpb246bnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgc3RhYmxlR3Jhdml0eUZhY3RvcjpudW1iZXIgPSA0O1xuICAgICAgICBwdWJsaWMgc21vb3RoRmx5aW5nRm9yY2U6bnVtYmVyID0gMjUwO1xuICAgICAgICBwdWJsaWMgdHJhbnNtaXNzaW9uUmF0aW86bnVtYmVyID0gMC43NTtcbiAgICAgICAgcHVibGljIGRpZmZlcmVudGlhbFJhdGlvOm51bWJlciA9IDMuNTU7XG4gICAgICAgIHB1YmxpYyBtYXhGcm9udEJyYWtpbmc6bnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgbWF4UmV2ZXJzZVBvd2VyOm51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIG1pbkJyYWtpbmdGb3JjZTpudW1iZXIgPSA1MDtcbiAgICAgICAgcHVibGljIG1heEJyYWtpbmdGb3JjZTpudW1iZXIgPSAyNTA7XG4gICAgICAgIHB1YmxpYyBoYW5kQnJha2luZ0ZvcmNlOm51bWJlciA9IDI1MDA7XG4gICAgICAgIHB1YmxpYyBoYW5kQnJha2luZ1RpbWVyOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBsaW5lYXJCcmFraW5nRm9yY2U6bnVtYmVyID0gMjUuMDtcbiAgICAgICAgcHVibGljIGFuZ3VsYXJCcmFraW5nRm9yY2U6bnVtYmVyID0gMC4yNTtcbiAgICAgICAgcHVibGljIGJ1cm5vdXRGcmljdGlvblNsaXA6bnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgYnVybm91dFRpbWVEZWxheTpudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgYnVybm91dFdoZWVsUGl0Y2g6bnVtYmVyID0gMC44NTtcbiAgICAgICAgcHVibGljIGJ1cm5vdXRDb2VmZmljaWVudDpudW1iZXIgPSAxMDtcbiAgICAgICAgcHVibGljIGJ1cm5vdXRUcmlnZ2VyTWFyazpudW1iZXIgPSAxMDtcbiAgICAgICAgcHVibGljIGVuYWJsZUJ1cm5vdXRzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHBlbmFsdHlHcm91bmRUYWc6c3RyaW5nID0gXCJPZmZyb2FkXCI7XG4gICAgICAgIHB1YmxpYyBtaW5QZW5hbHR5U3BlZWQ6bnVtYmVyID0gNjU7XG4gICAgICAgIHB1YmxpYyBsaW5lYXJXaGVlbERyYWc6bnVtYmVyID0gMC4wNTtcbiAgICAgICAgcHVibGljIGZyaWN0aW9uV2hlZWxTbGlwOm51bWJlciA9IDAuMjE1O1xuICAgICAgICBwdWJsaWMgc2hvd1NlbnNvckxpbmVzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGxpbmtUcmFja01hbmFnZXI6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwbGF5VmVoaWNsZVNvdW5kczpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBvc3ROZXR3b3JrQXR0cmlidXRlczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyB3aGVlbERyaXZlVHlwZTpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgZ2VhckJveE11bHRpcGxpZXI6bnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgZ2VhckJveE1heFBpdGNoaW5nID0gNjUwMDtcbiAgICAgICAgcHVibGljIGdlYXJCb3hTaGlmdENoYW5nZTpudW1iZXIgPSA1MTAwO1xuICAgICAgICBwdWJsaWMgZ2VhckJveFNoaWZ0RGVsYXk6bnVtYmVyID0gMC4zNTtcbiAgICAgICAgcHVibGljIGdlYXJCb3hTaGlmdFJhdGlvczpudW1iZXJbXSA9IFs0LjE3LCAyLjM0LCAxLjgyLCAxLjU0LCAwLjk2LCAwLjY4XTtcbiAgICAgICAgcHVibGljIGdlYXJCb3hTaGlmdFJhbmdlczpudW1iZXJbXSA9IFsxMDAwLCAyNDAwLCAyNjAwLCAyNjAwLCAyODAwLCAyODAwXTtcblxuICAgICAgICBwdWJsaWMgdGhyb3R0bGVCcmFraW5nRm9yY2U6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHRocm90dGxlRW5naW5lU3BlZWQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGJyYWtlUmVjb3ZlcnlEZWxheTpudW1iZXIgPSAwLjI1O1xuICAgICAgICBwdWJsaWMgYnJha2VSZWNvdmVyeVNwZWVkOm51bWJlciA9IDAuMjU7XG4gICAgICAgIHB1YmxpYyBza2lkUmVjb3ZlcnlTcGVlZDpudW1iZXIgPSAwLjI1O1xuICAgICAgICBwdWJsaWMgYnVybm91dExlcnBTcGVlZDpudW1iZXIgPSAwLjA1O1xuICAgICAgICBwdWJsaWMgYWNrZXJtYW5XaGVlbEJhc2U6bnVtYmVyID0gMi41O1xuICAgICAgICBwdWJsaWMgYWNrZXJtYW5SZWFyVHJhY2s6bnVtYmVyID0gMS41O1xuICAgICAgICBwdWJsaWMgYWNrZXJtYW5UdXJuUmFkaXVzOm51bWJlciA9IDE1O1xuICAgICAgICBwdWJsaWMgYWNrZXJtYW5UdXJuRmFjdG9yOm51bWJlciA9IDE7XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fZnJvbnRMZWZ0V2hlZWw6VU5JVFkuSGF2b2tXaGVlbEluZm8gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9mcm9udFJpZ2h0V2hlZWw6VU5JVFkuSGF2b2tXaGVlbEluZm8gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9iYWNrTGVmdFdoZWVsOlVOSVRZLkhhdm9rV2hlZWxJbmZvID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fYmFja1JpZ2h0V2hlZWw6VU5JVFkuSGF2b2tXaGVlbEluZm8gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9mcm9udExlZnRXaGVlbFNraWQ6bnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2Zyb250UmlnaHRXaGVlbFNraWQ6bnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2JhY2tMZWZ0V2hlZWxTa2lkOm51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9iYWNrUmlnaHRXaGVlbFNraWQ6bnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2FuZ3VsYXJEYW1wZW5lcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEuMCwgMS4wLCAxLjApO1xuICAgICAgICBwcm90ZWN0ZWQgbV92ZWxvY2l0eU9mZnNldDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fbGluZWFyVmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2xhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fc2NhbGVkVmVsb2NpdHk6bnVtYmVyID0gMDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTp2b2lkIHsgdGhpcy5hd2FrZVZlaGljbGVTdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOnZvaWQgeyB0aGlzLmluaXRWZWhpY2xlU3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6dm9pZCB7IHRoaXMudXBkYXRlVmVoaWNsZVN0YXRlKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7IHRoaXMuZGVzdHJveVZlaGljbGVTdGF0ZSgpOyB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUHJvdGVjdGVkIFZlaGljbGUgTW92ZW1lbnQgU3RhdGUgRnVuY3Rpb25zIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZVZlaGljbGVTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5mcm9udFdoZWVsUG93ZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5iYWNrV2hlZWxQb3dlciA9IDA7XG4gICAgICAgICAgICB0aGlzLndoZWVsQnJha2luZ0ZvcmNlID0gMDtcbiAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiB0aGlzLnJheVRlc3RpbmdUeXBlID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheVRlc3RpbmdUeXBlXCIsIHRoaXMucmF5VGVzdGluZ1R5cGUpO1xuICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IHRoaXMudGVzdFBvaW50Q291bnQgPSB0aGlzLmdldFByb3BlcnR5KFwidGVzdFBvaW50Q291bnRcIiwgdGhpcy50ZXN0UG9pbnRDb3VudCk7XG4gICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogdGhpcy5zd2VlcFBlbmV0cmF0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInN3ZWVwUGVuZXRyYXRpb25cIiwgdGhpcy5zd2VlcFBlbmV0cmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYWNrZXJtYW5XaGVlbEJhc2UgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNrZXJtYW5XaGVlbEJhc2VcIiwgdGhpcy5hY2tlcm1hbldoZWVsQmFzZSk7XG4gICAgICAgICAgICB0aGlzLmFja2VybWFuUmVhclRyYWNrID0gdGhpcy5nZXRQcm9wZXJ0eShcImFja2VybWFuUmVhclRyYWNrXCIsIHRoaXMuYWNrZXJtYW5SZWFyVHJhY2spO1xuICAgICAgICAgICAgdGhpcy5hY2tlcm1hblR1cm5SYWRpdXMgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNrZXJtYW5UdXJuUmFkaXVzXCIsIHRoaXMuYWNrZXJtYW5UdXJuUmFkaXVzKTtcbiAgICAgICAgICAgIHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwid2hlZWxEcmF3VmVsb2NpdHlcIiwgdGhpcy53aGVlbERyYXdWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNraWRUaHJlYXNob2xkID0gdGhpcy5nZXRQcm9wZXJ0eShcInNraWRUaHJlYXNob2xkXCIsIHRoaXMuc2tpZFRocmVhc2hvbGQpO1xuICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9rZUludGVuc2l0eVwiLCB0aGlzLnNtb2tlSW50ZW5zaXR5KTtcbiAgICAgICAgICAgIHRoaXMuc21va2VPcGFjaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlT3BhY2l0eVwiLCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNtb2tlRG9udXRzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlRG9udXRzXCIsIHRoaXMuc21va2VEb251dHMpO1xuICAgICAgICAgICAgdGhpcy50b3BFbmdpbmVTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b3BFbmdpbmVTcGVlZFwiLCB0aGlzLnRvcEVuZ2luZVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMucG93ZXJDb2VmZmljaWVudCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb3dlckNvZWZmaWNpZW50XCIsIHRoaXMucG93ZXJDb2VmZmljaWVudCk7XG4gICAgICAgICAgICB0aGlzLm1heEZyb250QnJha2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhGcm9udEJyYWtpbmdcIiwgdGhpcy5tYXhGcm9udEJyYWtpbmcpO1xuICAgICAgICAgICAgdGhpcy5tYXhSZXZlcnNlUG93ZXIgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4UmV2ZXJzZVBvd2VyXCIsIHRoaXMubWF4UmV2ZXJzZVBvd2VyKTtcbiAgICAgICAgICAgIHRoaXMucGVuYWx0eUdyb3VuZFRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwZW5hbHR5R3JvdW5kVGFnXCIsIHRoaXMucGVuYWx0eUdyb3VuZFRhZyk7XG4gICAgICAgICAgICB0aGlzLm1pblBlbmFsdHlTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5QZW5hbHR5U3BlZWRcIiwgdGhpcy5taW5QZW5hbHR5U3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5saW5lYXJXaGVlbERyYWcgPSB0aGlzLmdldFByb3BlcnR5KFwibGluZWFyV2hlZWxEcmFnXCIsIHRoaXMubGluZWFyV2hlZWxEcmFnKTtcbiAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25XaGVlbFNsaXAgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJpY3Rpb25XaGVlbFNsaXBcIiwgdGhpcy5mcmljdGlvbldoZWVsU2xpcCk7XG4gICAgICAgICAgICB0aGlzLnNob3dTZW5zb3JMaW5lcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaG93U2Vuc29yTGluZXNcIiwgdGhpcy5zaG93U2Vuc29yTGluZXMpO1xuICAgICAgICAgICAgdGhpcy5zdGFibGVHcmF2aXR5RmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0YWJsZUdyYXZpdHlGYWN0b3JcIiwgdGhpcy5zdGFibGVHcmF2aXR5RmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoRmx5aW5nRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoRmx5aW5nRm9yY2VcIiwgdGhpcy5zbW9vdGhGbHlpbmdGb3JjZSk7XG4gICAgICAgICAgICB0aGlzLmZyaWN0aW9uTGVycFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyaWN0aW9uTGVycFNwZWVkXCIsIHRoaXMuZnJpY3Rpb25MZXJwU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5tYXhCdXJub3V0RmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEJ1cm5vdXRGYWN0b3JcIiwgdGhpcy5tYXhCdXJub3V0RmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMubWF4U3RlZXJCb29zdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhTdGVlckJvb3N0XCIsIHRoaXMubWF4U3RlZXJCb29zdCk7XG4gICAgICAgICAgICB0aGlzLm92ZXJTdGVlclNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm92ZXJTdGVlclNwZWVkXCIsIHRoaXMub3ZlclN0ZWVyU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5vdmVyU3RlZXJUaW1lb3V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm92ZXJTdGVlclRpbWVvdXRcIiwgdGhpcy5vdmVyU3RlZXJUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMud2hlZWxEcml2ZVR5cGUgPSB0aGlzLmdldFByb3BlcnR5KFwid2hlZWxEcml2ZVR5cGVcIiwgdGhpcy53aGVlbERyaXZlVHlwZSk7XG4gICAgICAgICAgICB0aGlzLm1pbkJyYWtpbmdGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5CcmFraW5nRm9yY2VcIiwgdGhpcy5taW5CcmFraW5nRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy5tYXhCcmFraW5nRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4QnJha2luZ0ZvcmNlXCIsIHRoaXMubWF4QnJha2luZ0ZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZEJyYWtpbmdGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoYW5kQnJha2luZ0ZvcmNlXCIsIHRoaXMuaGFuZEJyYWtpbmdGb3JjZSk7XG4gICAgICAgICAgICB0aGlzLmJyYWtlUmVjb3ZlcnlEZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJicmFrZVJlY292ZXJ5RGVsYXlcIiwgdGhpcy5icmFrZVJlY292ZXJ5RGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5icmFrZVJlY292ZXJ5U3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiYnJha2VSZWNvdmVyeVNwZWVkXCIsIHRoaXMuYnJha2VSZWNvdmVyeVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuc2tpZFJlY292ZXJ5U3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwic2tpZFJlY292ZXJ5U3BlZWRcIiwgdGhpcy5za2lkUmVjb3ZlcnlTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVhckJyYWtpbmdGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsaW5lYXJCcmFraW5nRm9yY2VcIiwgdGhpcy5saW5lYXJCcmFraW5nRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy5hbmd1bGFyQnJha2luZ0ZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImFuZ3VsYXJCcmFraW5nRm9yY2VcIiwgdGhpcy5hbmd1bGFyQnJha2luZ0ZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMgPSB0aGlzLmdldFByb3BlcnR5KFwic3RlZXJpbmdXaGVlbEF4aXNcIiwgdGhpcy5zdGVlcmluZ1doZWVsQXhpcyk7XG4gICAgICAgICAgICB0aGlzLm1heFN0ZWVyaW5nQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4U3RlZXJpbmdBbmdsZVwiLCB0aGlzLm1heFN0ZWVyaW5nQW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5tYXhTdGVlcmluZ1NwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFN0ZWVyaW5nU3BlZWRcIiwgdGhpcy5tYXhTdGVlcmluZ1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudG9wU3BlZWREYW1wZW5lciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b3BTcGVlZERhbXBlbmVyXCIsIHRoaXMudG9wU3BlZWREYW1wZW5lcik7XG4gICAgICAgICAgICB0aGlzLmxvd1NwZWVkU3RlZXJpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwibG93U3BlZWRTdGVlcmluZ1wiLCB0aGlzLmxvd1NwZWVkU3RlZXJpbmcpO1xuICAgICAgICAgICAgdGhpcy5oaWdoU3BlZWRTdGVlcmluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoU3BlZWRTdGVlcmluZ1wiLCB0aGlzLmhpZ2hTcGVlZFN0ZWVyaW5nKTtcbiAgICAgICAgICAgIHRoaXMuYnJha2VMaWdodHNUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJicmFrZUxpZ2h0c01lc2hcIiwgdGhpcy5icmFrZUxpZ2h0c1RyYW5zKTtcbiAgICAgICAgICAgIHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcInJldmVyc2VMaWdodHNNZXNoXCIsIHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcm9udExlZnRXaGVlbE1lc2hcIiwgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJvbnRSaWdodFdoZWVsTWVzaFwiLCB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlYXJMZWZ0V2hlZWxNZXNoXCIsIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWFyUmlnaHRXaGVlbE1lc2hcIiwgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxDb2xsaWRlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcm9udExlZnRXaGVlbENvbGxpZGVyXCIsIHRoaXMuZnJvbnRMZWZ0V2hlZWxDb2xsaWRlcik7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbENvbGxpZGVyID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyb250UmlnaHRXaGVlbENvbGxpZGVyXCIsIHRoaXMuZnJvbnRSaWdodFdoZWVsQ29sbGlkZXIpO1xuICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIgPSB0aGlzLmdldFByb3BlcnR5KFwicmVhckxlZnRXaGVlbENvbGxpZGVyXCIsIHRoaXMuYmFja0xlZnRXaGVlbENvbGxpZGVyKTtcbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxDb2xsaWRlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWFyUmlnaHRXaGVlbENvbGxpZGVyXCIsIHRoaXMuYmFja1JpZ2h0V2hlZWxDb2xsaWRlcik7XG4gICAgICAgICAgICB0aGlzLmJ1cm5vdXRGcmljdGlvblNsaXAgPSB0aGlzLmdldFByb3BlcnR5KFwiYnVybm91dEZyaWN0aW9uU2xpcFwiLCB0aGlzLmJ1cm5vdXRGcmljdGlvblNsaXApO1xuICAgICAgICAgICAgdGhpcy5idXJub3V0VGltZURlbGF5ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1cm5vdXRUaW1lRGVsYXlcIiwgdGhpcy5idXJub3V0VGltZURlbGF5KTtcbiAgICAgICAgICAgIHRoaXMuYnVybm91dFdoZWVsUGl0Y2ggPSB0aGlzLmdldFByb3BlcnR5KFwiYnVybm91dFdoZWVsUGl0Y2hcIiwgdGhpcy5idXJub3V0V2hlZWxQaXRjaCk7XG4gICAgICAgICAgICB0aGlzLmJ1cm5vdXRDb2VmZmljaWVudCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidXJub3V0Q29lZmZpY2llbnRcIiwgdGhpcy5idXJub3V0Q29lZmZpY2llbnQpO1xuICAgICAgICAgICAgdGhpcy5idXJub3V0VHJpZ2dlck1hcmsgPSB0aGlzLmdldFByb3BlcnR5KFwiYnVybm91dFRyaWdnZXJNYXJrXCIsIHRoaXMuYnVybm91dFRyaWdnZXJNYXJrKTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlQnVybm91dHMgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlQnVybm91dHNcIiwgdGhpcy5lbmFibGVCdXJub3V0cyk7XG4gICAgICAgICAgICB0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb3N0TmV0d29ya0F0dHJpYnV0ZXNcIiwgdGhpcy5wb3N0TmV0d29ya0F0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdGhpcy5saW5rVHJhY2tNYW5hZ2VyID0gdGhpcy5nZXRQcm9wZXJ0eShcImxpbmtUcmFja01hbmFnZXJcIiwgdGhpcy5saW5rVHJhY2tNYW5hZ2VyKTtcbiAgICAgICAgICAgIHRoaXMucGxheVZlaGljbGVTb3VuZHMgPSB0aGlzLmdldFByb3BlcnR5KFwicGxheVZlaGljbGVTb3VuZHNcIiwgdGhpcy5wbGF5VmVoaWNsZVNvdW5kcyk7XG4gICAgICAgICAgICB0aGlzLmRpZmZlcmVudGlhbFJhdGlvID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hEaWZmZXJlbnRpYWxcIiwgdGhpcy5kaWZmZXJlbnRpYWxSYXRpbyk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zbWlzc2lvblJhdGlvID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hPdmVyZHJpdmVcIiwgdGhpcy50cmFuc21pc3Npb25SYXRpbyk7XG4gICAgICAgICAgICB0aGlzLmdlYXJCb3hNdWx0aXBsaWVyID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hNdWx0aXBsaWVyXCIsIHRoaXMuZ2VhckJveE11bHRpcGxpZXIpO1xuICAgICAgICAgICAgdGhpcy5nZWFyQm94TWF4UGl0Y2hpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveE1heFBpdGNoaW5nXCIsIHRoaXMuZ2VhckJveE1heFBpdGNoaW5nKTtcbiAgICAgICAgICAgIHRoaXMuZ2VhckJveFNoaWZ0Q2hhbmdlID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hTaGlmdENoYW5nZVwiLCB0aGlzLmdlYXJCb3hTaGlmdENoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLmdlYXJCb3hTaGlmdERlbGF5ID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hTaGlmdERlbGF5XCIsIHRoaXMuZ2VhckJveFNoaWZ0RGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5nZWFyQm94U2hpZnRSYXRpb3MgPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveFNoaWZ0UmF0aW9zXCIsIHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zKTtcbiAgICAgICAgICAgIHRoaXMuZ2VhckJveFNoaWZ0UmFuZ2VzID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hTaGlmdFJhbmdlc1wiLCB0aGlzLmdlYXJCb3hTaGlmdFJhbmdlcyk7XG4gICAgICAgICAgICB0aGlzLk1JTl9SUE0gPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveE1pblBvd2VyXCIsIHRoaXMuTUlOX1JQTSk7XG4gICAgICAgICAgICB0aGlzLk1BWF9SUE0gPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveE1heFBvd2VyXCIsIHRoaXMuTUFYX1JQTSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRvcFNwZWVkRGFtcGVuZXIgPD0gMCkgdGhpcy50b3BTcGVlZERhbXBlbmVyID0gMC4xNTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heEJ1cm5vdXRGYWN0b3IgPD0gMCkgdGhpcy5tYXhCdXJub3V0RmFjdG9yID0gMS4wO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhYmxlR3Jhdml0eUZhY3RvciA8PSAwKSB0aGlzLnN0YWJsZUdyYXZpdHlGYWN0b3IgPSA0O1xuICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoRmx5aW5nRm9yY2UgPD0gMCkgdGhpcy5zbW9vdGhGbHlpbmdGb3JjZSA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXhGcm9udEJyYWtpbmcgPD0gMCkgdGhpcy5tYXhGcm9udEJyYWtpbmcgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMubWF4UmV2ZXJzZVBvd2VyIDw9IDApIHRoaXMubWF4UmV2ZXJzZVBvd2VyID0gMC41O1xuICAgICAgICAgICAgaWYgKHRoaXMubG93U3BlZWRTdGVlcmluZyA8PSAwKSB0aGlzLmxvd1NwZWVkU3RlZXJpbmcgPSA1LjA7XG4gICAgICAgICAgICBpZiAodGhpcy5oaWdoU3BlZWRTdGVlcmluZyA8PSAwKSB0aGlzLmhpZ2hTcGVlZFN0ZWVyaW5nID0gNS4wO1xuICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJDb2VmZmljaWVudCA8PSAwKSB0aGlzLnBvd2VyQ29lZmZpY2llbnQgPSAxLjA7XG4gICAgICAgICAgICBpZiAodGhpcy50b3BFbmdpbmVTcGVlZCA8PSAwKSB0aGlzLnRvcEVuZ2luZVNwZWVkID0gMTI1O1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckJveE11bHRpcGxpZXIgPD0gMCkgdGhpcy5nZWFyQm94TXVsdGlwbGllciA9IDEuMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmdlYXJCb3hNYXhQaXRjaGluZyA8PSAwKSB0aGlzLmdlYXJCb3hNYXhQaXRjaGluZyA9IDY1MDA7XG4gICAgICAgICAgICBpZiAodGhpcy5nZWFyQm94U2hpZnRDaGFuZ2UgPD0gMCkgdGhpcy5nZWFyQm94U2hpZnRDaGFuZ2UgPSA1MTAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckJveFNoaWZ0RGVsYXkgPD0gMCkgdGhpcy5nZWFyQm94U2hpZnREZWxheSA9IDAuMzU7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc21pc3Npb25SYXRpbyA8PSAwKSB0aGlzLnRyYW5zbWlzc2lvblJhdGlvID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpZmZlcmVudGlhbFJhdGlvIDw9IDApIHRoaXMuZGlmZmVyZW50aWFsUmF0aW8gPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuZnJpY3Rpb25MZXJwU3BlZWQgPD0gMCkgdGhpcy5mcmljdGlvbkxlcnBTcGVlZCA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5idXJub3V0TGVycFNwZWVkIDw9IDApIHRoaXMuYnVybm91dExlcnBTcGVlZCA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5idXJub3V0VGltZURlbGF5IDw9IDApIHRoaXMuYnVybm91dFRpbWVEZWxheSA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5idXJub3V0V2hlZWxQaXRjaCA8PSAwKSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoID0gMTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3RlZXJpbmdXaGVlbE5vZGU6VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0ZWVyaW5nV2hlZWxIdWJcIik7XG4gICAgICAgICAgICBpZiAoc3RlZXJpbmdXaGVlbE5vZGUgIT0gbnVsbCAmJiBzdGVlcmluZ1doZWVsTm9kZS5uYW1lICE9IG51bGwgJiYgc3RlZXJpbmdXaGVlbE5vZGUubmFtZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbEh1YiA9IHRoaXMuZ2V0Q2hpbGROb2RlKHN0ZWVyaW5nV2hlZWxOb2RlLm5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYW5ndWxhckRhbXBlbmVyOlVOSVRZLklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwiYW5ndWxhckRhbXBlbmVyXCIpO1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXJEYW1wZW5lciAhPSBudWxsKSB0aGlzLm1fYW5ndWxhckRhbXBlbmVyID0gVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhhbmd1bGFyRGFtcGVuZXIpO1xuXG4gICAgICAgICAgICBjb25zdCBzbW9rZVRleHR1cmVJbmZvOlVOSVRZLklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwic21va2VUZXh0dXJlXCIpO1xuICAgICAgICAgICAgaWYgKHNtb2tlVGV4dHVyZUluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc21va2VUZXh0dXJlID0gVU5JVFkuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShzbW9rZVRleHR1cmVJbmZvLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVuZ2luZVRvcnF1ZUluZm86VU5JVFkuSVVuaXR5Q3VydmUgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5naW5lVG9ycXVlXCIpO1xuICAgICAgICAgICAgaWYgKGVuZ2luZVRvcnF1ZUluZm8gIT0gbnVsbCAmJiBlbmdpbmVUb3JxdWVJbmZvLmFuaW1hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVUb3JxdWVDdXJ2ZSA9IEJBQllMT04uQW5pbWF0aW9uLlBhcnNlKGVuZ2luZVRvcnF1ZUluZm8uYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZVRvcnF1ZUN1cnZlID09IG51bGwpIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIHBhcnNlIGVuZ2luZSB0b3JxdWUgY3VydmUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHByb3RlY3RlZCBpbml0VmVoaWNsZVN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLlZhbGlkYXRlVHJhbnNmb3JtUXVhdGVybmlvbih0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAvLyBSZWdpc3RlciBWZWhpY2xlXG4gICAgICAgICAgICBpZiAodGhpcy5saW5rVHJhY2tNYW5hZ2VyID09PSB0cnVlKSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuUmVnaXN0ZXJWZWhpY2xlKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIC8vIFNldHVwIEFuaW1hdG9yXG4gICAgICAgICAgICB0aGlzLl9hbmltYXRvciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiVU5JVFkuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0b3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbk5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5nZXRDaGlsZFdpdGhTY3JpcHQoXCJVTklUWS5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdG9yID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQoYW5pbWF0aW9uTm9kZSwgXCJVTklUWS5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsZWQgdG8gbG9jYXRlIGFuaW1hdG9yIG5vZGUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXR1cCBFbmdpbmUgQXVkaW9cbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlID0gdGhpcy5nZXRDb21wb25lbnQoXCJVTklUWS5BdWRpb1NvdXJjZVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmdpbmVBdWRpb1NvdXJjZSA9PSBudWxsKSBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk5vIGVuZ2luZSBhdWRpbyBzb3VyY2UgbWFuYWdlciBmb3VuZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAvLyBTZXR1cCBSYXljYXN0IFZlaGljbGVcbiAgICAgICAgICAgIHRoaXMuX3JpZ2lkYm9keSA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiVU5JVFkuUmlnaWRib2R5UGh5c2ljc1wiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX3JpZ2lkYm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZSA9IHRoaXMuX3JpZ2lkYm9keS5nZXRSYXljYXN0VmVoaWNsZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJheWNhc3RWZWhpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lYXJEYW1waW5nID0gdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0TGluZWFyRGFtcGluZygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0QW5ndWxhckRhbXBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnJha2VMaWdodHNsTmFtZTpzdHJpbmcgPSAodGhpcy5icmFrZUxpZ2h0c1RyYW5zICE9IG51bGwgJiYgdGhpcy5icmFrZUxpZ2h0c1RyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmJyYWtlTGlnaHRzVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJyYWtlTGlnaHRzVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmVyc2VMaWdodHNsTmFtZTpzdHJpbmcgPSAodGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMgIT0gbnVsbCAmJiB0aGlzLnJldmVyc2VMaWdodHNUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLnJldmVyc2VMaWdodHNUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRMZWZ0V2hlZWxOYW1lOnN0cmluZyA9ICh0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRSaWdodFdoZWVsTmFtZTpzdHJpbmcgPSAodGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucyAhPSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWNrTGVmdFdoZWVsTmFtZTpzdHJpbmcgPSAodGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja1JpZ2h0V2hlZWxOYW1lOnN0cmluZyA9ICh0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRMZWZ0V2hlZWxMYWJlbDpzdHJpbmcgPSAodGhpcy5mcm9udExlZnRXaGVlbENvbGxpZGVyICE9IG51bGwgJiYgdGhpcy5mcm9udExlZnRXaGVlbENvbGxpZGVyLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsQ29sbGlkZXIubmFtZSAhPT0gXCJcIikgPyB0aGlzLmZyb250TGVmdFdoZWVsQ29sbGlkZXIubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250UmlnaHRXaGVlbExhYmVsOnN0cmluZyA9ICh0aGlzLmZyb250UmlnaHRXaGVlbENvbGxpZGVyICE9IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxDb2xsaWRlci5uYW1lICE9IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxDb2xsaWRlci5uYW1lICE9PSBcIlwiKSA/IHRoaXMuZnJvbnRSaWdodFdoZWVsQ29sbGlkZXIubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tMZWZ0V2hlZWxMYWJlbDpzdHJpbmcgPSAodGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIgIT0gbnVsbCAmJiB0aGlzLmJhY2tMZWZ0V2hlZWxDb2xsaWRlci5uYW1lICE9IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJhY2tMZWZ0V2hlZWxDb2xsaWRlci5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja1JpZ2h0V2hlZWxMYWJlbDpzdHJpbmcgPSAodGhpcy5iYWNrUmlnaHRXaGVlbENvbGxpZGVyICE9IG51bGwgJiYgdGhpcy5iYWNrUmlnaHRXaGVlbENvbGxpZGVyLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsQ29sbGlkZXIubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJhY2tSaWdodFdoZWVsQ29sbGlkZXIubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBXaGVlbCBJbmRleHMgRnJvbSBXaGVlbCBOYW1lc1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJvbnRMZWZ0V2hlZWxMYWJlbCAhPSBudWxsKSB0aGlzLkZST05UX0xFRlQgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5kZXhCeU5hbWUoZnJvbnRMZWZ0V2hlZWxMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcm9udFJpZ2h0V2hlZWxMYWJlbCAhPSBudWxsKSB0aGlzLkZST05UX1JJR0hUID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZGV4QnlOYW1lKGZyb250UmlnaHRXaGVlbExhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tMZWZ0V2hlZWxMYWJlbCAhPSBudWxsKSB0aGlzLkJBQ0tfTEVGVCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmRleEJ5TmFtZShiYWNrTGVmdFdoZWVsTGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFja1JpZ2h0V2hlZWxMYWJlbCAhPSBudWxsKSB0aGlzLkJBQ0tfUklHSFQgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5kZXhCeU5hbWUoYmFja1JpZ2h0V2hlZWxMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBCcmFrZSAmIFJldmVyc2UgTGlnaHRzIE1lc2hlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnJha2VMaWdodHNsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJyYWtlTGlnaHRzbE5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnJha2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmV2ZXJzZUxpZ2h0c2xOYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZUxpZ2h0c01lc2ggPSB0aGlzLmdldENoaWxkTm9kZShyZXZlcnNlTGlnaHRzbE5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZUxpZ2h0c01lc2guaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgV2hlZWwgSW5mbyBBbmQgVHJhbnNmb3JtIE1lc2hlc1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYXljYXN0VmVoaWNsZS5nZXROdW1XaGVlbHMoKSA+PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5CQUNLX0xFRlQgPj0gMCAmJiBiYWNrTGVmdFdoZWVsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkJBQ0tfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJhY2tMZWZ0V2hlZWxOYW1lLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsLmh1YiA9IHRoaXMuYmFja0xlZnRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsLnNwaW5uZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoLCBcIldoZWVsXCIsIFVOSVRZLlNlYXJjaFR5cGUuSW5kZXhPZiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsRW1pdHRlciA9IG5ldyBCQUJZTE9OLkFic3RyYWN0TWVzaChcIkVtaXR0ZXJfUkxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIucGFyZW50ID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwuc3Bpbm5lciB8fCB0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxFbWl0dGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlID0gdGhpcy5jcmVhdGVTbW9rZVBhcnRpY2xlU3lzdGVtKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIlNtb2tlX1JMXCIsIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJpdmVUeXBlID09PSAwIHx8IHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDIpIHsgLy8gUkVBUiBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsUmFkaXVzIDw9IDAgJiYgdGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxSYWRpdXMgPSB0aGlzLm1fYmFja0xlZnRXaGVlbC5yYWRpdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkJBQ0tfUklHSFQgPj0gMCAmJiBiYWNrUmlnaHRXaGVlbE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmZvKHRoaXMuQkFDS19SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2ggPSB0aGlzLmdldENoaWxkTm9kZShiYWNrUmlnaHRXaGVlbE5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5odWIgPSB0aGlzLmJhY2tSaWdodFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsLnNwaW5uZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBVTklUWS5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uQWJzdHJhY3RNZXNoKFwiRW1pdHRlcl9SUlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbEVtaXR0ZXIucGFyZW50ID0gdGhpcy5tX2JhY2tSaWdodFdoZWVsLnNwaW5uZXIgfHwgdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxFbWl0dGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9SUlwiLCB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDAgfHwgdGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMikgeyAvLyBSRUFSIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxSYWRpdXMgPD0gMCAmJiB0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxSYWRpdXMgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuRlJPTlRfTEVGVCA+PSAwICYmIGZyb250TGVmdFdoZWVsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGZyb250TGVmdFdoZWVsTmFtZSwgVU5JVFkuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmh1YiA9IHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuc3Bpbm5lciA9IFVOSVRZLlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoLCBcIldoZWVsXCIsIFVOSVRZLlNlYXJjaFR5cGUuSW5kZXhPZiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbEVtaXR0ZXIgPSBuZXcgQkFCWUxPTi5BYnN0cmFjdE1lc2goXCJFbWl0dGVyX0ZMXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsRW1pdHRlci5wYXJlbnQgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuc3Bpbm5lciB8fCB0aGlzLmZyb250TGVmdFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbEVtaXR0ZXIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlID0gdGhpcy5jcmVhdGVTbW9rZVBhcnRpY2xlU3lzdGVtKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIlNtb2tlX0ZMXCIsIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMSB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIEZST05UIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxSYWRpdXMgPD0gMCAmJiB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxSYWRpdXMgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuRlJPTlRfUklHSFQgPj0gMCAmJiBmcm9udFJpZ2h0V2hlZWxOYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoZnJvbnRSaWdodFdoZWVsTmFtZSwgVU5JVFkuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuaHViID0gdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLnNwaW5uZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIFwiV2hlZWxcIiwgVU5JVFkuU2VhcmNoVHlwZS5JbmRleE9mLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIgPSBuZXcgQkFCWUxPTi5BYnN0cmFjdE1lc2goXCJFbWl0dGVyX0ZSXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIucGFyZW50ID0gdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5zcGlubmVyIHx8IHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxFbWl0dGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUgPSB0aGlzLmNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0odGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiU21va2VfRlJcIiwgdGhpcy5mcm9udFJpZ2h0V2hlZWxFbWl0dGVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMSB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIEZST05UIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxSYWRpdXMgPD0gMCAmJiB0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsUmFkaXVzID0gdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5yYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgU3RhYmlsemF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRTbW9vdGhGbHlpbmdJbXB1bHNlKHRoaXMuc21vb3RoRmx5aW5nRm9yY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRTdGFiaWxpemluZ0ZvcmNlKHRoaXMuc3RhYmxlR3Jhdml0eUZhY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgQ29sbGlzaW9uIEZpbHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1fY29sbGlzaW9uRmlsdGVyR3JvdXAg4oaSIGZpbHRlck1lbWJlcnNoaXBNYXNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtX2NvbGxpc2lvbkZpbHRlck1hc2sg4oaSIGZpbHRlckNvbGxpZGVNYXNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRDb2xsaXNpb25GaWx0ZXJHcm91cChVTklUWS5Db2xsaXNpb25GaWx0ZXJzLkRlZmF1bHRGaWx0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRDb2xsaXNpb25GaWx0ZXJNYXNrKFVOSVRZLkNvbGxpc2lvbkZpbHRlcnMuU3RhdGljRmlsdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBTa2lkIEF1ZGlvIFNvdXJjZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwgJiYgdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2ggIT0gbnVsbCkgdGhpcy5fc2tpZEF1ZGlvU291cmNlID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gsIFwiVU5JVFkuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoLCBcIlVOSVRZLkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIFwiVU5JVFkuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwgJiYgdGhpcy5mcm9udExlZnRXaGVlbE1lc2ggIT0gbnVsbCkgdGhpcy5fc2tpZEF1ZGlvU291cmNlID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIFwiVU5JVFkuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwpIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiTm8gc2tpZCBhdWRpbyBzb3VyY2UgbWFuYWdlciBmb3VuZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkludmFsaWQgdmVoaWNsZSBjb250cm9sbGVyIHdoZWVsIGNvdW50IGluZm8gZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJObyB3aGVlbCBjb2xsaWRlciBpbmZvcm1hdGlvbiBmb3VuZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWxlZCB0byBnZXQgcmlnaWRib2R5IGNvbXBvbmVudDogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlVmVoaWNsZVN0YXRlKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fbGluZWFyVmVsb2NpdHkgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnN1YnRyYWN0KHRoaXMubV9sYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX3NjYWxlZFZlbG9jaXR5ID0gKHRoaXMubV9saW5lYXJWZWxvY2l0eS5sZW5ndGgoKSAvIHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCkpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1fc2NhbGVkVmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LmNvcHlGcm9tKHRoaXMubV9saW5lYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNjYWxlSW5QbGFjZSh0aGlzLndoZWVsRHJhd1ZlbG9jaXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNldCgwLDAsMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1fbGFzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5jYXN0V2hlZWxDb250YWN0UmF5cygpO1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95VmVoaWNsZVN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5fcmlnaWRib2R5ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250TGVmdFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL2hhdm9rSW5zdGFuY2UuZGVzdHJveSh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwpOyAvLyA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vaGF2b2tJbnN0YW5jZS5kZXN0cm95KHRoaXMubV9mcm9udFJpZ2h0V2hlZWwpOyAvLyA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja0xlZnRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9oYXZva0luc3RhbmNlLmRlc3Ryb3kodGhpcy5tX2JhY2tMZWZ0V2hlZWwpOyAvLyA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL2hhdm9rSW5zdGFuY2UuZGVzdHJveSh0aGlzLm1fYmFja1JpZ2h0V2hlZWwpOyAvLyA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsTWVzaCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbE1lc2ggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbENvbGxpZGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsQ29sbGlkZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbENvbGxpZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQdWJsaWMgVmVoaWNsZSBDb250cm9sbGVyIE1vdmVtZW50IEZ1bmN0aW9ucyAgIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGJ1cm5vdXRUaW1lcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJlc3RvcmVUaW1lcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNvb2xkb3duVGltZXI6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB3aGVlbERvbnV0czpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgd2hlZWxCdXJub3V0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSB3aGVlbFNraWRkaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBkb251dFNwaW5UaW1lOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY3VycmVudEZvcndhcmQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjdXJyZW50VHVybmluZzpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnRTa2lkZGluZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY3VycmVudERvbnV0czpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgYW5pbWF0b3JTdGVlckFuZ2xlOm51bWJlciA9IDA7XG5cbiAgICAgICAgLyoqIERyaXZlcyB0aGUgcmF5Y2FzdCB2ZWhpY2xlIHdpdGggdGhlIHNwZWNmaWVkIG1vdmVtZW50IHByb3BlcnRpZXMuICovXG4gICAgICAgIHB1YmxpYyBkcml2ZSh0aHJvdHRsZTpudW1iZXIsIHN0ZWVyaW5nOm51bWJlciwgYnJha2luZzpib29sZWFuLCBkb251dHM6Ym9vbGVhbiwgYm9vc3RlcjpudW1iZXIgPSAwLCBhdXRvcGlsb3Q6Ym9vbGVhbiA9IGZhbHNlKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTpudW1iZXIgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Rm9yd2FyZCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRocm90dGxlLCAtMSwgMSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuaW5nID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoc3RlZXJpbmcsIC0xLCAxKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNraWRkaW5nID0gYnJha2luZztcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERvbnV0cyA9IGRvbnV0cztcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRHJpdmluZyBTeXN0ZW1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmhhbmRCcmFraW5nID0gKHRoaXMuZ2V0Q3VycmVudFNraWRkaW5nKCkgPT09IHRydWUgJiYgdGhpcy5oYW5kQnJha2luZ0ZvcmNlID4gMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5oYW5kQnJha2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZEJyYWtpbmdUaW1lciArPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZEJyYWtpbmdUaW1lciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcmlnaWRib2R5ID09IG51bGwgfHwgdGhpcy5yYXljYXN0VmVoaWNsZSA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5GUk9OVF9MRUZUID49IDAgJiYgdGhpcy5GUk9OVF9SSUdIVCA+PSAwICYmIHRoaXMuQkFDS19MRUZUID49IDAgJiYgdGhpcy5CQUNLX1JJR0hUID49IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZUZvcmNlID0gMDsgdGhpcy53aGVlbEJyYWtpbmdGb3JjZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFdoZWVsUG93ZXIgPSAwOyB0aGlzLmJhY2tXaGVlbFBvd2VyID0gMDtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBFbmdpbmUgRm9yY2VzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCB0aHJvdHRsZVNwZWVkOm51bWJlciA9ICh0aGlzLnRocm90dGxlRW5naW5lU3BlZWQgPiAwKSA/IHRoaXMudGhyb3R0bGVFbmdpbmVTcGVlZCA6IHRoaXMudG9wRW5naW5lU3BlZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VhclNoaWZ0UmF0aW86bnVtYmVyID0gKHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zICE9IG51bGwgJiYgdGhpcy5nZWFyQm94U2hpZnRSYXRpb3MubGVuZ3RoID4gdGhpcy5nZWFySW5kZXgpID8gdGhpcy5nZWFyQm94U2hpZnRSYXRpb3NbdGhpcy5nZWFySW5kZXhdIDogMS4wO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsR2VhclJhdGlvOm51bWJlciA9IChnZWFyU2hpZnRSYXRpbyAqIHRoaXMuZGlmZmVyZW50aWFsUmF0aW8gKiB0aGlzLnRyYW5zbWlzc2lvblJhdGlvKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmdpbmVNb3RvclRvcnF1ZTpudW1iZXIgPSB0aGlzLmdldFZlaGljbGVFbmdpbmVUb3JxdWUodGhpcy5lbmdpbmVSUE0sIGJvb3N0ZXIpICogTWF0aC5hYnModGhpcy5jdXJyZW50Rm9yd2FyZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxsb3dlZEVuZ2luZVBvd2VyOm51bWJlciA9IChlbmdpbmVNb3RvclRvcnF1ZSAqIGZpbmFsR2VhclJhdGlvKTtcbiAgICAgICAgICAgICAgICBsZXQgYWxsb3dlZEJyYWtpbmdGb3JjZTpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMubWluQnJha2luZ0ZvcmNlLCB0aGlzLm1heEJyYWtpbmdGb3JjZSwgdGhpcy5ncmFkaWVudFNwZWVkKSAqIE1hdGguYWJzKHRoaXMuY3VycmVudEZvcndhcmQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRGb3J3YXJkID4gMCAmJiB0aGlzLndoZWVsQnVybm91dCA9PT0gdHJ1ZSAmJiB0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSBhbGxvd2VkRW5naW5lUG93ZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEZvcndhcmQgPiAwKSB7IC8vIEZvcndhcmRcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIFN1cHBvcnQgUmlnaHQgSGFuZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3J3YXJkU3BlZWQgPCAtMSkgdGhpcy53aGVlbEJyYWtpbmdGb3JjZSA9IGFsbG93ZWRCcmFraW5nRm9yY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRoaXMuZW5naW5lRm9yY2UgPSBhbGxvd2VkRW5naW5lUG93ZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRGb3J3YXJkIDwgMCkgeyAvLyBSZXZlcnNlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBTdXBwb3J0IFJpZ2h0IEhhbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9yd2FyZFNwZWVkID4gMSkgdGhpcy53aGVlbEJyYWtpbmdGb3JjZSA9IGFsbG93ZWRCcmFraW5nRm9yY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRoaXMuZW5naW5lRm9yY2UgPSAtKGFsbG93ZWRFbmdpbmVQb3dlciAqIHRoaXMubWF4UmV2ZXJzZVBvd2VyKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBTdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbEJyYWtpbmdGb3JjZSA9IDEwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBlbmdpbmVCcmFrZTpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoaWZ0aW5nVGltZSA+IDAgfHwgdGhpcy5hbWVyaWNhblNwZWVkID4gdGhyb3R0bGVTcGVlZCkge1xuICAgICAgICAgICAgICAgICAgICBlbmdpbmVCcmFrZSA9IHRoaXMuc2hpZnRpbmdCcmFrZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFdNLlByaW50VG9TY3JlZW4oXCJNUEg6IFwiICsgdGhpcy5hbWVyaWNhblNwZWVkLnRvRml4ZWQoMikgKyBcIiAtLT4gUlBNOiBcIiArIHRoaXMuZW5naW5lUlBNLnRvRml4ZWQoMikgKyBcIiBFTkdJTkU6IC0tPjogXCIgKyB0aGlzLmVuZ2luZUZvcmNlLnRvRml4ZWQoMikgKyBcIiAtLT4gVkVMT0NJVFk6IFwiICsgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0TGluZWFyVmVsb2NpdHkoKS5sZW5ndGgoKS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBWZWhpY2xlIFN0ZWVyaW5nXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBsZXQgdmlzdWFsU3RlZXJCb29zdDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBhY2tlcm1hblN0ZWVyTGVmdDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBhY2tlcm1hblN0ZWVyUmlnaHQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgc3RlZXJpbmdCb29zdDpib29sZWFuID0gKE1hdGguYWJzKHRoaXMuY3VycmVudFR1cm5pbmcpID49IDAuMDIpOyAvLyBOb3RlOiBNYXggUmFuZ2UgKDAuMDIgLSAwLjA0KVxuICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZ1JhZGl1czpudW1iZXIgPSAodGhpcy5hY2tlcm1hblR1cm5SYWRpdXMgKiB0aGlzLmFja2VybWFuVHVybkZhY3Rvcik7IC8vIE5vdGU6IFNtYWxsZXIgU3RlZXJpbmcgUmFkaXVzIEVxdWFscyBTaGFycGVyIFR1cm5pbmdcbiAgICAgICAgICAgICAgICBsZXQgc3RlZXJpbmdBbW91bnQ6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmxvd1NwZWVkU3RlZXJpbmcsIHRoaXMuaGlnaFNwZWVkU3RlZXJpbmcsIHRoaXMuZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgbGV0IHN0ZWVyaW5nR3JhZGllbnQ6bnVtYmVyID0gKHN0ZWVyaW5nQW1vdW50ICogZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVzZSBBY2tlcm1hbiBTdGVlcmluZyBGb3JtdWxhc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFR1cm5pbmcgPiAwKSB7IC8vIFJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heFN0ZWVyQm9vc3QgPiAwICYmIHN0ZWVyaW5nQm9vc3QgPT09IHRydWUpIHZpc3VhbFN0ZWVyQm9vc3QgPSBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLm1heFN0ZWVyQm9vc3QpO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyTGVmdCAgID0gTWF0aC5hdGFuKHRoaXMuYWNrZXJtYW5XaGVlbEJhc2UgLyAoc3RlZXJpbmdSYWRpdXMgKyAodGhpcy5hY2tlcm1hblJlYXJUcmFjayAvIDIpKSkgKiB0aGlzLmN1cnJlbnRUdXJuaW5nO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyUmlnaHQgID0gTWF0aC5hdGFuKHRoaXMuYWNrZXJtYW5XaGVlbEJhc2UgLyAoc3RlZXJpbmdSYWRpdXMgLSAodGhpcy5hY2tlcm1hblJlYXJUcmFjayAvIDIpKSkgKiB0aGlzLmN1cnJlbnRUdXJuaW5nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50VHVybmluZyA8IDApIHsgLy8gTGVmdFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhTdGVlckJvb3N0ID4gMCAmJiBzdGVlcmluZ0Jvb3N0ID09PSB0cnVlKSB2aXN1YWxTdGVlckJvb3N0ID0gLUJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMubWF4U3RlZXJCb29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJMZWZ0ICAgPSBNYXRoLmF0YW4odGhpcy5hY2tlcm1hbldoZWVsQmFzZSAvIChzdGVlcmluZ1JhZGl1cyAtICh0aGlzLmFja2VybWFuUmVhclRyYWNrIC8gMikpKSAqIHRoaXMuY3VycmVudFR1cm5pbmc7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJSaWdodCAgPSBNYXRoLmF0YW4odGhpcy5hY2tlcm1hbldoZWVsQmFzZSAvIChzdGVlcmluZ1JhZGl1cyArICh0aGlzLmFja2VybWFuUmVhclRyYWNrIC8gMikpKSAqIHRoaXMuY3VycmVudFR1cm5pbmc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzdWFsU3RlZXJCb29zdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJMZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlclJpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxCdXJub3V0ID09PSB0cnVlICYmIHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlckxlZnQgKj0gdGhpcy5tYXhCdXJub3V0RmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyUmlnaHQgKj0gdGhpcy5tYXhCdXJub3V0RmFjdG9yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXV0b3BpbG90ID09PSBmYWxzZSkgeyAvLyBBc3Npc3RlZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9vdGhTdGVlckZhY3RvcjpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKDEuMCwgdGhpcy50b3BTcGVlZERhbXBlbmVyLCB0aGlzLmdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyTGVmdCAqPSBzbW9vdGhTdGVlckZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlclJpZ2h0ICo9IHNtb290aFN0ZWVyRmFjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFNtb290aCBQaHlzaWNzIFN0ZWVyaW5nIEFuZ2xlc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzU3RlZXJBbmdsZUwgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVMLCBhY2tlcm1hblN0ZWVyTGVmdCwgc3RlZXJpbmdHcmFkaWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzU3RlZXJBbmdsZVIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVSLCBhY2tlcm1hblN0ZWVyUmlnaHQsIHN0ZWVyaW5nR3JhZGllbnQpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU21vb3RoIFZpc3VhbCBTdGVlcmluZyBBbmdsZXNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJCb29zdEwgPSAoYWNrZXJtYW5TdGVlckxlZnQgKyB2aXN1YWxTdGVlckJvb3N0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbFN0ZWVyQm9vc3RSID0gKGFja2VybWFuU3RlZXJSaWdodCArIHZpc3VhbFN0ZWVyQm9vc3QpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm92ZXJTdGVlclNwZWVkID4gMCAmJiB0aGlzLmhhbmRCcmFraW5nID09PSB0cnVlICYmIHRoaXMuaGFuZEJyYWtpbmdUaW1lciA+IHRoaXMub3ZlclN0ZWVyVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbFN0ZWVyQm9vc3RMICo9IC0xOyAvLyBOb3RlOiBJbnZlcnQgT3ZlciBTdGVlcmluZyBBbmdsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbFN0ZWVyQm9vc3RSICo9IC0xOyAvLyBOb3RlOiBJbnZlcnQgT3ZlciBTdGVlcmluZyBBbmdsZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbFN0ZWVyQW5nbGVMID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLnZpc3VhbFN0ZWVyQW5nbGVMLCB0aGlzLnZpc3VhbFN0ZWVyQm9vc3RMLCBzdGVlcmluZ0dyYWRpZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbFN0ZWVyQW5nbGVSID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLnZpc3VhbFN0ZWVyQW5nbGVSLCB0aGlzLnZpc3VhbFN0ZWVyQm9vc3RSLCBzdGVlcmluZ0dyYWRpZW50KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFNtb290aCBTdGVlcmluZyBXaGVlbCBBbmdsZXNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZ0FuZ2xlQm9vc3Q6bnVtYmVyID0gMi4wO1xuICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZ0FuZ2xlRmFjdG9yOm51bWJlciA9IE1hdGguYWJzKHRoaXMuY3VycmVudFR1cm5pbmcpICogc3RlZXJpbmdBbmdsZUJvb3N0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRUdXJuaW5nID4gMCkgeyAvLyBSaWdodFxuICAgICAgICAgICAgICAgICAgICBzdGVlcmluZ0FuZ2xlRmFjdG9yID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoc3RlZXJpbmdBbmdsZUZhY3RvciwgMCwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRUdXJuaW5nIDwgMCkgeyAvLyBMZWZ0XG4gICAgICAgICAgICAgICAgICAgIHN0ZWVyaW5nQW5nbGVGYWN0b3IgPSAtQkFCWUxPTi5TY2FsYXIuQ2xhbXAoc3RlZXJpbmdBbmdsZUZhY3RvciwgMCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBmaXhlZEN1cnJlbnRUdXJuaW5nOm51bWJlciA9ICh0aGlzLm92ZXJTdGVlclNwZWVkID4gMCAmJiB0aGlzLmhhbmRCcmFraW5nID09PSB0cnVlICYmIHRoaXMuaGFuZEJyYWtpbmdUaW1lciA+IHRoaXMub3ZlclN0ZWVyVGltZW91dCkgPyBzdGVlcmluZ0FuZ2xlRmFjdG9yIDogLXN0ZWVyaW5nQW5nbGVGYWN0b3I7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRvclN0ZWVyQW5nbGUgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuYW5pbWF0b3JTdGVlckFuZ2xlLCBmaXhlZEN1cnJlbnRUdXJuaW5nLCAodGhpcy5tYXhTdGVlcmluZ1NwZWVkICogZGVsdGFUaW1lKSk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0ZWVyaW5nV2hlZWxIdWIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uUXVhdGVybmlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb25RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlclZlY3Rvcih0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZ3JlZXNTdGVlckFuZ2xlOm51bWJlciA9ICh0aGlzLmFuaW1hdG9yU3RlZXJBbmdsZSAqIHRoaXMubWF4U3RlZXJpbmdBbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhZGlhbnNTdGVlckFuZ2xlOm51bWJlciA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKGRlZ3JlZXNTdGVlckFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeGF4aXM6bnVtYmVyID0gKHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMgPT09IDApID8gcmFkaWFuc1N0ZWVyQW5nbGUgOiAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5YXhpczpudW1iZXIgPSAodGhpcy5zdGVlcmluZ1doZWVsQXhpcyA9PT0gMSkgPyByYWRpYW5zU3RlZXJBbmdsZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHpheGlzOm51bWJlciA9ICh0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID09PSAyKSA/IHJhZGlhbnNTdGVlckFuZ2xlIDogMDtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYodGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uUXVhdGVybmlvbiwgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh4YXhpcywgeWF4aXMsIHpheGlzKSwgKHRoaXMubWF4U3RlZXJpbmdTcGVlZCAqIGRlbHRhVGltZSksIHRoaXMuc3RlZXJpbmdXaGVlbEh1Yi5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0b3IgIT0gbnVsbCkgdGhpcy5fYW5pbWF0b3Iuc2V0RmxvYXQoXCJUdXJuQW5nbGVcIiwgdGhpcy5hbmltYXRvclN0ZWVyQW5nbGUpOyAvLyBOb3RlOiBGaXhlZCBBbmltYXRpb24gVHVybmluZyBBbmdsZSAoLTEgVG8gKzEpXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgUmF5Y2FzdCBWZWhpY2xlIENvbnRyb2xzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlRnJpY3Rpb246Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFuZEJyYWtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbEJ1cm5vdXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbERvbnV0cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRUaW1lciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIFdoZWVsIFNraWRkaW5nIE1vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmF5Y2FzdFZlaGljbGUubG9ja2VkV2hlZWxJbmRleGVzID09IG51bGwpIHRoaXMucmF5Y2FzdFZlaGljbGUubG9ja2VkV2hlZWxJbmRleGVzID0gW3RoaXMuQkFDS19MRUZULCB0aGlzLkJBQ0tfUklHSFRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbWVyaWNhblNwZWVkID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsU2tpZGRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbFNraWRkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNraWRkaW5nVGltZSA9IHRoaXMuYnJha2VSZWNvdmVyeURlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsU2tpZEZyaWN0aW9uOm51bWJlciA9IDA7IC8vIERlZmF1bHQgV2hlZWwgU2tpZGRpbmcgRnJpbnRpb24gRHJvcCBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IHdoZWVsU2tpZEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwpIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gd2hlZWxTa2lkRnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrTGVmdFdoZWVsICE9IG51bGwpIHRoaXMubV9iYWNrTGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IHdoZWVsU2tpZEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmZyaWN0aW9uU2xpcCA9IHdoZWVsU2tpZEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnJpY3Rpb24gPSBmYWxzZTsgLy8gTm90ZTogRGlzYWJsZSBGcmljdGlvbiBMZXJwaW5nIFRoaXMgRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVmVoaWNsZSBXaGVlbCBJbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5za2lkZGluZ1RpbWUgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaW5lYXJCcmFrZURhbXBpbmcodGhpcy5saW5lYXJCcmFraW5nRm9yY2UsIChkZWx0YVRpbWUgKiB0aGlzLmJyYWtlUmVjb3ZlcnlTcGVlZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBbmd1bGFyQnJha2VEYW1waW5nKHRoaXMuYW5ndWxhckJyYWtpbmdGb3JjZSwgKGRlbHRhVGltZSAqIHRoaXMuYnJha2VSZWNvdmVyeVNwZWVkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlRnJpY3Rpb24gPT09IHRydWUgJiYgdGhpcy5hbWVyaWNhblNwZWVkIDw9IDAuMjUpIHRoaXMudXBkYXRlQ3VycmVudEZyaWN0aW9uU2xpcChkZWx0YVRpbWUgKiB0aGlzLnNraWRSZWNvdmVyeVNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRSb3RhdGlvbkRlbHRhKDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRSb3RhdGlvbkJvb3N0KDApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFZpc3VhbFN0ZWVyaW5nQW5nbGUodGhpcy52aXN1YWxTdGVlckFuZ2xlTCwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRWaXN1YWxTdGVlcmluZ0FuZ2xlKHRoaXMudmlzdWFsU3RlZXJBbmdsZVIsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVMLCB0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVSLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSgwLCB0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEVuZ2luZUZvcmNlKDAsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEVuZ2luZUZvcmNlKDAsIHRoaXMuQkFDS19MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSgwLCB0aGlzLkJBQ0tfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udEJyYWtlRm9yY2U6bnVtYmVyID0gKHRoaXMuaGFuZEJyYWtpbmdGb3JjZSAqIDAuMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKGZyb250QnJha2VGb3JjZSwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UoZnJvbnRCcmFrZUZvcmNlLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0cmFCcmFrZUZvcmNlOm51bWJlciA9ICh0aGlzLmhhbmRCcmFraW5nRm9yY2UgKiAxMDAwMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKGV4dHJhQnJha2VGb3JjZSwgdGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZShleHRyYUJyYWtlRm9yY2UsIHRoaXMuQkFDS19SSUdIVCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYXljYXN0VmVoaWNsZS5sb2NrZWRXaGVlbEluZGV4ZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5sb2NrZWRXaGVlbEluZGV4ZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Um90YXRpb25EZWx0YSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFJvdGF0aW9uQm9vc3QoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbFNraWRkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpZGRpbmdUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0Q29lZmZpY2llbnQgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLmJ1cm5vdXRDb2VmZmljaWVudCwgMSwgMjApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRUcmlnZ2VyTWFyayA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMuYnVybm91dFRyaWdnZXJNYXJrLCAxLCAyMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQnVybm91dFNwZWVkOmJvb2xlYW4gPSAodGhpcy5hbWVyaWNhblNwZWVkIDw9IHRoaXMuYnVybm91dFRyaWdnZXJNYXJrKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGdWxsVGhyb3R0bGU6Ym9vbGVhbiA9ICh0aGlzLmN1cnJlbnRGb3J3YXJkIDwgLTAuOSB8fCB0aGlzLmN1cnJlbnRGb3J3YXJkID4gMC45KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGdWxsVHVybmluZzpib29sZWFuID0gKHRoaXMuY3VycmVudFR1cm5pbmcgPCAtMC45IHx8IHRoaXMuY3VycmVudFR1cm5pbmcgPiAwLjkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgd2hlZWxMZXJwU3BlZWQ6bnVtYmVyID0gKGRlbHRhVGltZSAqIHRoaXMuZnJpY3Rpb25MZXJwU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgd2hlZWxCb29zdFNwZWVkOm51bWJlciA9IDA7IC8vIERlZmF1bHQgWmVybyBXaGVlbCBSb3RhdGlvbiBCb29zdFxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBXaGVlbCBCdXJub3V0IE1vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVybm91dFRpbWVyIDw9IDAgJiYgaXNGdWxsVGhyb3R0bGUgPT09IHRydWUgJiYgaXNCdXJub3V0U3BlZWQgPT09IHRydWUgJiYgdGhpcy5lbmFibGVCdXJub3V0cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0VGltZXIgPSAodGhpcy5idXJub3V0VGltZURlbGF5ICogMC4yNSk7IC8vIE5vdGU6IDI1IFBlcmNlbnQgU2xpcHBpbmcgVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbERvbnV0cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbEJ1cm5vdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIFdoZWVsIEJ1cm5vdXQgVGltZXJzXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc3RvcmVUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZVRpbWVyIC09IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc3RvcmVUaW1lciA8IDApIHRoaXMucmVzdG9yZVRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZWVsTGVycFNwZWVkICo9IHRoaXMuYnVybm91dExlcnBTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb29sZG93blRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWVyIC09IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvb2xkb3duVGltZXIgPCAwKSB0aGlzLmNvb2xkb3duVGltZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbnV0U3BpblRpbWUgKz0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVsbFR1cm5pbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0VGltZXIgPSAwOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9udXRTcGluVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgV2hlZWwgRHJpdmUgQnVybm91dCBNb2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1cm5vdXRUaW1lciA+IDAgJiYgaXNGdWxsVGhyb3R0bGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZWVsQm9vc3RTcGVlZCA9IDAuMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250U2xpcEZhY3RvcjpudW1iZXIgPSAodGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkgPyAxLjI1IDogMS4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVybm91dENvZWZmaWNpZW50ID49IDEuMCkgdGhpcy5lbmdpbmVGb3JjZSAqPSB0aGlzLmJ1cm5vdXRDb2VmZmljaWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9ICh0aGlzLmJ1cm5vdXRGcmljdGlvblNsaXAgKiBmcm9udFNsaXBGYWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSAodGhpcy5idXJub3V0RnJpY3Rpb25TbGlwICogZnJvbnRTbGlwRmFjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja0xlZnRXaGVlbCAhPSBudWxsKSB0aGlzLm1fYmFja0xlZnRXaGVlbC5mcmljdGlvblNsaXAgPSB0aGlzLmJ1cm5vdXRGcmljdGlvblNsaXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwpIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSB0aGlzLmJ1cm5vdXRGcmljdGlvblNsaXA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnJpY3Rpb24gPSBmYWxzZTsgICAgICAgICAgICAgICAgIC8vIE5vdGU6IERpc2FibGUgRnJpY3Rpb24gTGVycGluZyBUaGlzIEZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0VGltZXIgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVybm91dFRpbWVyIDw9IDAgJiYgaXNGdWxsVHVybmluZyA9PT0gdHJ1ZSAmJiB0aGlzLmNvb2xkb3duVGltZXIgPD0gMCAmJiB0aGlzLmN1cnJlbnRGb3J3YXJkID4gMCAmJiB0aGlzLmN1cnJlbnREb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRUaW1lciA9IDAuMDE7ICAgICAgICAgICAvLyBOb3RlOiBVc2UgRml4ZWQgRG9udXQgQnVybm91dCBUaW1lIEV4dGVuc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy53aGVlbERvbnV0cyA9IHRydWU7ICAgICAgICAgICAgLy8gTm90ZTogRGlzYWJsZSBXaGVlbCBEb251dHMgRXh0cmEgUG93ZXIgTmVlZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbWVyaWNhblNwZWVkID49IHRoaXMubWluUGVuYWx0eVNwZWVkICYmIHRoaXMuZnJpY3Rpb25XaGVlbFNsaXAgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25MZXJwaW5nID09PSBmYWxzZSAmJiB0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250TGVmdFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udExlZnRGcmljdGlvbjpudW1iZXIgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICogKHRoaXMuZnJpY3Rpb25XaGVlbFNsaXAgKiAxLjI1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbC5mcmljdGlvblNsaXAgPSBmcm9udExlZnRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZyaWN0aW9uID0gZmFsc2U7ICAgICAvLyBOb3RlOiBEaXNhYmxlIEZyaWN0aW9uIExlcnBpbmcgVGhpcyBGcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRGcmljdGlvbkxlcnBpbmcgPT09IGZhbHNlICYmIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250UmlnaHRGcmljdGlvbjpudW1iZXIgPSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAqICh0aGlzLmZyaWN0aW9uV2hlZWxTbGlwICogMS4yNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmZyaWN0aW9uU2xpcCA9IGZyb250UmlnaHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uUGVuYWx0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGcmljdGlvbiA9IGZhbHNlOyAgICAgLy8gTm90ZTogRGlzYWJsZSBGcmljdGlvbiBMZXJwaW5nIFRoaXMgRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyTGVmdEZyaWN0aW9uTGVycGluZyA9PT0gZmFsc2UgJiYgdGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja0xlZnRGcmljdGlvbjpudW1iZXIgPSB0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gKiB0aGlzLmZyaWN0aW9uV2hlZWxTbGlwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gYmFja0xlZnRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRGcmljdGlvblBlbmFsdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnJpY3Rpb24gPSBmYWxzZTsgICAgIC8vIE5vdGU6IERpc2FibGUgRnJpY3Rpb24gTGVycGluZyBUaGlzIEZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0RnJpY3Rpb25MZXJwaW5nID09PSBmYWxzZSAmJiB0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWNrUmlnaHRGcmljdGlvbjpudW1iZXIgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICogdGhpcy5mcmljdGlvbldoZWVsU2xpcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSBiYWNrUmlnaHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZyaWN0aW9uID0gZmFsc2U7ICAgICAvLyBOb3RlOiBEaXNhYmxlIEZyaWN0aW9uIExlcnBpbmcgVGhpcyBGcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dFRpbWVyID0gMDsgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBDbGVhciBCdXJub3V0IFRpbWVyIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb251dFNwaW5UaW1lID0gMDsgICAgICAgICAgICAgICAgIC8vIE5vdGU6IENsZWFyIERvbnV0IFNwaW4gVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsRG9udXRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWVyID0gKHRoaXMuYnVybm91dFRpbWVEZWxheSAqIDIpOyAvLyBOb3RlOiAyMDAgUGVyY2VudCBDb29sZG93biBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsQnVybm91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZVRpbWVyID0gKHRoaXMuYnVybm91dFRpbWVEZWxheSAqIDAuNzUpOyAvLyBOb3RlOiA3NSBQZXJjZW50IFJlc3RvcmluZyBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgV2hlZWwgRHJpdmUgUG93ZXIgRm9yY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxCdXJub3V0ID09PSB0cnVlICYmIHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRXaGVlbFBvd2VyID0gKHRoaXMuZW5naW5lRm9yY2UgKiAwLjIpOyAvLyBOb3RlOiAyMCBQZXJjZW50IEVuZ2luZSBQb3dlciBGb3JjZVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDEgfHwgdGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMikgeyAvLyBGUk9OVCBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRXaGVlbFBvd2VyID0gdGhpcy5lbmdpbmVGb3JjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMCB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIFJFQVIgT1IgQUxMIFdIRUVMIERSSVZFXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tXaGVlbFBvd2VyID0gdGhpcy5lbmdpbmVGb3JjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVmVoaWNsZSBXaGVlbCBJbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRGb290QnJha2luZygpID09PSB0cnVlKSB0aGlzLnVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcoKHRoaXMubGluZWFyQnJha2luZ0ZvcmNlICogMC4wNSksICh0aGlzLmFuZ3VsYXJCcmFraW5nRm9yY2UgKiAwLjA1KSk7IC8vIE5vdGU6IDUgUGVyY2VudCBMaW5lYXIgQnJha2UgRm9yY2VcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50aHJvdHRsZUJyYWtpbmdGb3JjZSA+IDApIHRoaXMudXBkYXRlQ3VycmVudEJyYWtlRGFtcGluZyh0aGlzLnRocm90dGxlQnJha2luZ0ZvcmNlLCB0aGlzLmFuZ3VsYXJEYW1waW5nKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5lbmdpbmVGb3JjZSAhPT0gMCkgdGhpcy51cGRhdGVDdXJyZW50QnJha2VEYW1waW5nKGVuZ2luZUJyYWtlLCB0aGlzLmFuZ3VsYXJEYW1waW5nKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0aGlzLnVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcodGhpcy5saW5lYXJEYW1waW5nLCB0aGlzLmFuZ3VsYXJEYW1waW5nKTsgXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVGcmljdGlvbiA9PT0gdHJ1ZSkgdGhpcy51cGRhdGVDdXJyZW50RnJpY3Rpb25TbGlwKHdoZWVsTGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Um90YXRpb25Cb29zdCh3aGVlbEJvb3N0U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFZpc3VhbFN0ZWVyaW5nQW5nbGUodGhpcy52aXN1YWxTdGVlckFuZ2xlTCwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRWaXN1YWxTdGVlcmluZ0FuZ2xlKHRoaXMudmlzdWFsU3RlZXJBbmdsZVIsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVMLCB0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVSLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSh0aGlzLmZyb250V2hlZWxQb3dlciwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSh0aGlzLmZyb250V2hlZWxQb3dlciwgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0RW5naW5lRm9yY2UodGhpcy5iYWNrV2hlZWxQb3dlciwgdGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEVuZ2luZUZvcmNlKHRoaXMuYmFja1doZWVsUG93ZXIsIHRoaXMuQkFDS19SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heEZyb250QnJha2luZyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKHRoaXMud2hlZWxCcmFraW5nRm9yY2UgKiB0aGlzLm1heEZyb250QnJha2luZywgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKHRoaXMud2hlZWxCcmFraW5nRm9yY2UgKiB0aGlzLm1heEZyb250QnJha2luZywgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZSh0aGlzLndoZWVsQnJha2luZ0ZvcmNlLCB0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UodGhpcy53aGVlbEJyYWtpbmdGb3JjZSwgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UodGhpcy53aGVlbEJyYWtpbmdGb3JjZSwgdGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZSh0aGlzLndoZWVsQnJha2luZ0ZvcmNlLCB0aGlzLkJBQ0tfUklHSFQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRHJpdmluZyBQcm9wc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuc3luY1ZlaGljbGVTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc3luY1ZlaGljbGVTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICBjb25zdCBnZWFyQ291bnQ6bnVtYmVyID0gdGhpcy5nZXRHZWFyU2hpZnRSYXRpb0NvdW50KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5za2lkZGluZ1RpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lkZGluZ1RpbWUgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNraWRkaW5nVGltZSA8IDApIHRoaXMuc2tpZGRpbmdUaW1lID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNoaWZ0aW5nVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5nVGltZSAtPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hpZnRpbmdUaW1lIDwgMCkgdGhpcy5zaGlmdGluZ1RpbWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3JpZ2lkYm9keSAhPSBudWxsICYmIHRoaXMucmF5Y2FzdFZlaGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlYWRTcGVlZDpudW1iZXIgPSAwLjI7IC8vIE5vdGU6IERlYWQgTW92ZW1lbnQgU3BlZWQgVGhyZXNob2xkXG4gICAgICAgICAgICAgICAgdGhpcy5mb3J3YXJkU3BlZWQgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFJhd0N1cnJlbnRTcGVlZEtwaCgpICogUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIuREVGQVVMVF9TUEVFRF9GQUNUT1I7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuZm9yd2FyZFNwZWVkKSA8IGRlYWRTcGVlZCkgdGhpcy5mb3J3YXJkU3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgdGhpcy5hYnNvbHV0ZVNwZWVkID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRBYnNDdXJyZW50U3BlZWRLcGgoKSAqIFBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyLkRFRkFVTFRfU1BFRURfRkFDVE9SO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFic29sdXRlU3BlZWQgPCBkZWFkU3BlZWQpIHRoaXMuYWJzb2x1dGVTcGVlZCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICB0aGlzLmFtZXJpY2FuU3BlZWQgPSAodGhpcy5hYnNvbHV0ZVNwZWVkICogVU5JVFkuU3lzdGVtLktwaDJNcGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhZGllbnRTcGVlZCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKCh0aGlzLmFic29sdXRlU3BlZWQgLyB0aGlzLnRvcEVuZ2luZVNwZWVkKSk7IC8vIE5vdGU6IEFic291bHRlIFNwZWVkIFRvIERhbXBlbiBOb3JtYWxpemVkIFNwZWVkXG4gICAgICAgICAgICAgICAgLy90aGlzLmdyYWRpZW50U3BlZWQgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgodGhpcy5hbWVyaWNhblNwZWVkIC8gdGhpcy50b3BFbmdpbmVTcGVlZCkpOyAvLyBOb3RlOiBBbWVyaWNhbiBTcGVlZCBUbyBEYW1wZW4gTm9ybWFsaXplZCBTcGVlZFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zICE9IG51bGwgJiYgdGhpcy5nZWFySW5kZXggPj0gMCAmJiB0aGlzLmdlYXJJbmRleCA8IGdlYXJDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5pbXVtRGVsdGEgPSBNYXRoLm1pbihNYXRoLm1heChkZWx0YVRpbWUsIDEgLyAyMDApLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxEaWFtZXRlcjpudW1iZXIgPSAodGhpcy53aGVlbFJhZGl1cyAqIDIgKiBVTklUWS5TeXN0ZW0uTWV0ZXIySW5jaCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsR2VhclJhdGlvOm51bWJlciA9ICh0aGlzLmdlYXJCb3hTaGlmdFJhdGlvc1t0aGlzLmdlYXJJbmRleF0gKiB0aGlzLmRpZmZlcmVudGlhbFJhdGlvICogdGhpcy50cmFuc21pc3Npb25SYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZ2luZUxldmVsRmFjdG9yOm51bWJlciA9IDMzNjtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIEVuZ2luZSBSZXZvbHV0aW9ucyAoVE9ETyAtIE5vIFNoaWZ0aW5nIERvbnV0IE1vZGUgLSBSUE0gQm91bmNlIEJvb3N0aW5nKVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvd25TaGlmdCA9ICh0aGlzLmdlYXJCb3hTaGlmdFJhbmdlcyAhPSBudWxsICYmIHRoaXMuZ2VhckJveFNoaWZ0UmFuZ2VzLmxlbmd0aCA9PT0gdGhpcy5nZWFyQm94U2hpZnRSYXRpb3MubGVuZ3RoKSA/IHRoaXMuZ2VhckJveFNoaWZ0UmFuZ2VzW3RoaXMuZ2VhckluZGV4XSA6IDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2x1dGNoU2xpcCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5jbHV0Y2hTbGlwLCAwLCAxIC0gTWF0aC5wb3coMC4wMSwgbWluaW11bURlbHRhKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lUlBNID0gKCh0aGlzLmFtZXJpY2FuU3BlZWQgKiBmaW5hbEdlYXJSYXRpbyAqIGVuZ2luZUxldmVsRmFjdG9yKSAvIHdoZWVsRGlhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBMb2NrIEhpZ2ggUGl0Y2hpbmcgUlBNIFdoaWxlIFNraWRkaW5nICYgRG9udXRzXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpdGNoUlBNID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLnNoaWZ0UlBNLCB0aGlzLmVuZ2luZVJQTSwgKDEgLSB0aGlzLmNsdXRjaFNsaXApKSArIHRoaXMuTUlOX1JQTTtcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgICAgICAgICAgLyogUGVubnkgLSBDaGFuZ2UgR2VhcnNcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQgc3BlZWRQZXJjZW50YWdlID0gTWF0aGYuQWJzKGN1cnJlbnRTcGVlZCAvIG1heFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQgdXBwZXJHZWFyTWF4ID0gKDEgLyAoZmxvYXQpbnVtR2VhcnMpICogKGN1cnJlbnRHZWFyICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGZsb2F0IGRvd25HZWFyTWF4ID0gKDEgLyAoZmxvYXQpbnVtR2VhcnMpICogY3VycmVudEdlYXI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRHZWFyID4gMCAmJiBzcGVlZFBlcmNlbnRhZ2UgPCBkb3duR2Vhck1heClcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHZWFyLS07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWVkUGVyY2VudGFnZSA+IHVwcGVyR2Vhck1heCAmJiAoY3VycmVudEdlYXIgPCAobnVtR2VhcnMgLSAxKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R2VhcisrO1xuICAgICAgICAgICAgICAgICAgICAqLyAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIEVuZ2luZSBHZWFyaW5nIEJveCAoVE9ETyAtIE5vIFNoaWZ0aW5nIERvbnV0IE1vZGUgLSBSUE0gQm91bmNlIEJvb3N0aW5nKVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbWVyaWNhblNwZWVkIDwgNSkgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VhckluZGV4ID0gMDtcdFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZVJQTSA+IHRoaXMuZ2VhckJveFNoaWZ0Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IE1vdmVkIFRvIElmIFN0YXRlbWVudCBCZWxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2hpZnRSUE0gPSB0aGlzLmVuZ2luZVJQTTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNsdXRjaFNsaXAgPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zaGlmdGluZ1RpbWUgPSB0aGlzLmdlYXJCb3hTaGlmdERlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdlYXJJbmRleCA8IChnZWFyQ291bnQgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0UlBNID0gdGhpcy5lbmdpbmVSUE07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2x1dGNoU2xpcCA9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGlmdGluZ1RpbWUgPSB0aGlzLmdlYXJCb3hTaGlmdERlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlYXJJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmdpbmVSUE0gPCB0aGlzLmRvd25TaGlmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiBNb3ZlZCBUbyBJZiBTdGF0ZW1lbnQgQmVsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNoaWZ0UlBNID0gdGhpcy5lbmdpbmVSUE07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jbHV0Y2hTbGlwID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2hpZnRpbmdUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZWFySW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZnRSUE0gPSB0aGlzLmVuZ2luZVJQTTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbHV0Y2hTbGlwID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5nVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VhckluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBEb3VibGUgQ2hlY2sgR2VhciBJbmRleCAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckluZGV4IDwgMCkgdGhpcy5nZWFySW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmdlYXJJbmRleCA+PSBnZWFyQ291bnQpIHRoaXMuZ2VhckluZGV4ID0gKGdlYXJDb3VudCAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIEVuZ2luZSBTb3VuZCBQaXRjaFxuICAgICAgICAgICAgdGhpcy5lbmdpbmVQaXRjaExldmVsID0gKHRoaXMuZ2V0Q3VycmVudEVuZ2luZVBpdGNoKCkgKiBQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5ERUZBVUxUX1BJVENIX0ZBQ1RPUiAqIHRoaXMuZ2VhckJveE11bHRpcGxpZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheVZlaGljbGVTb3VuZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmdpbmVTb3VuZENsaXA6QkFCWUxPTi5Tb3VuZCA9IHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlLmdldFNvdW5kQ2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5naW5lU291bmRDbGlwICE9IG51bGwpIGVuZ2luZVNvdW5kQ2xpcC5zZXRQbGF5YmFja1JhdGUodGhpcy5lbmdpbmVQaXRjaExldmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBTbW9rZSBJbnN0ZW5zaXR5XG4gICAgICAgICAgICB0aGlzLnNtb2tlRG9udXRzID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5zbW9rZURvbnV0cywgMSwgMTApO1xuICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciA9IHRoaXMuc21va2VJbnRlbnNpdHk7XG4gICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUgJiYgdGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqPSB0aGlzLnNtb2tlRG9udXRzO1xuXG4gICAgICAgICAgICAvKiBERUJVRzogV0hFRUwgQ09MTElTSU9OU1xuICAgICAgICAgICAgY29uc3QgZmxfd2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgY29uc3QgZnJfd2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgIGNvbnN0IGJsX3doZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgY29uc3QgYnJfd2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkJBQ0tfUklHSFQpO1xuICAgICAgICAgICAgbGV0IGZsX2NvbGxpZGU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChmbF93aGVlbC5yYXljYXN0UmVzdWx0ICE9IG51bGwgJiYgZmxfd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmbF9jb2xsaWRlID0gZmxfd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5LnRyYW5zZm9ybU5vZGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmcl9jb2xsaWRlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoZnJfd2hlZWwucmF5Y2FzdFJlc3VsdCAhPSBudWxsICYmIGZyX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZnJfY29sbGlkZSA9IGZyX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keS50cmFuc2Zvcm1Ob2RlLm5hbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBibF9jb2xsaWRlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoYmxfd2hlZWwucmF5Y2FzdFJlc3VsdCAhPSBudWxsICYmIGJsX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYmxfY29sbGlkZSA9IGJsX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keS50cmFuc2Zvcm1Ob2RlLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYnJfY29sbGlkZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGJyX3doZWVsLnJheWNhc3RSZXN1bHQgIT0gbnVsbCAmJiBicl93aGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJyX2NvbGxpZGUgPSBicl93aGVlbC5yYXljYXN0UmVzdWx0LmJvZHkudHJhbnNmb3JtTm9kZS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXaGVlbCBDb2xsaWRlcyAtIEZMOiBcIiArIGZsX2NvbGxpZGUgKyBcIiAtLT4gRlI6IFwiICsgIGZyX2NvbGxpZGUgKyBcIiAtLT4gQkw6IFwiICsgYmxfY29sbGlkZSArIFwiIC0tPiBCUjogXCIgKyBicl9jb2xsaWRlKTtcbiAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBXaGVlbCBTa2lkZGluZyBJbmZvXG4gICAgICAgICAgICB0aGlzLlNLSURfRkwgPSAwLCB0aGlzLlNLSURfRlIgPSAwLCB0aGlzLlNLSURfUkwgPSAwLCB0aGlzLlNLSURfUlIgID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsQ29udGFjdEZMOmJvb2xlYW4gPSAodGhpcy5tX2Zyb250TGVmdFdoZWVsLnJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLlNLSURfRkwgPSB0aGlzLnVwZGF0ZUN1cnJlbnRTa2lkSW5mbyh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNLSURfRkwgPCB0aGlzLnNraWRUaHJlYXNob2xkKSB0aGlzLlNLSURfRkwgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNLSURfRkwgPiAwICYmIHdoZWVsQ29udGFjdEZMID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRQb3NGTDpCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkTm9ybUZMOkJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9mcm9udExlZnRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVGTDpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5Ob3JtYWxpemUodGhpcy5TS0lEX0ZMLCB0aGlzLnNraWRUaHJlYXNob2xkLCAxLjApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJhd1ZlbG9jaXR5ID4gMCkgc2tpZFBvc0ZMLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQoc2tpZFBvc0ZMLCBza2lkTm9ybUZMLCBza2lkU2NhbGVGTCwgdGhpcy5tX2Zyb250TGVmdFdoZWVsU2tpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5zdGFydCgpICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfRkw6bnVtYmVyID0gdGhpcy5TS0lEX0ZMICogdGhpcy5TS0lEX0ZMO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqIHNtb2tlX0ZMO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9GTCArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5tYXhTaXplID0gMS41ICogc21va2VfRkwgKyAxLjI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbFNraWQgPSAtMTsgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsQ29udGFjdEZSOmJvb2xlYW4gPSAodGhpcy5tX2Zyb250UmlnaHRXaGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCk7IC8vIENoZWNrIElzIEluIENvbnRhY3QgV2l0aCBBY3R1YWwgR3JvdW5kIE9iamVjdCAtIHdoZWVsLmdldF9tX3JheWNhc3RJbmZvKCkuZ2V0X21fZ3JvdW5kT2JqZWN0KCkgPz8/XG4gICAgICAgICAgICAgICAgdGhpcy5TS0lEX0ZSID0gdGhpcy51cGRhdGVDdXJyZW50U2tpZEluZm8odGhpcy5tX2Zyb250UmlnaHRXaGVlbCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9GUiA8IHRoaXMuc2tpZFRocmVhc2hvbGQpIHRoaXMuU0tJRF9GUiA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9GUiA+IDAgJiYgd2hlZWxDb250YWN0RlIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFBvc0ZSOkJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkTm9ybUZSOkJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFNjYWxlRlI6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMuU0tJRF9GUiwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJhd1ZlbG9jaXR5ID4gMCkgc2tpZFBvc0ZSLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbFNraWQgPSBTa2lkTWFya01hbmFnZXIuQWRkU2tpZE1hcmtTZWdtZW50KHNraWRQb3NGUiwgc2tpZE5vcm1GUiwgc2tpZFNjYWxlRlIsIHRoaXMubV9mcm9udFJpZ2h0V2hlZWxTa2lkKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZS5pc1N0YXJ0ZWQoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLnN0YXJ0KCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9rZV9GUjpudW1iZXIgPSB0aGlzLlNLSURfRlIgKiB0aGlzLlNLSURfRlI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqIHNtb2tlX0ZSO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZS5taW5TaXplID0gMC4yICogc21va2VfRlIgKyAwLjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9GUiArIDEuMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsU2tpZCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRkwgPSB0aGlzLlNLSURfRkw7XG4gICAgICAgICAgICB0aGlzLlBJVENIX0ZSID0gdGhpcy5TS0lEX0ZSO1xuICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxCdXJub3V0ID09IHRydWUgfHwgdGhpcy5yZXN0b3JlVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9GTCAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfRlIgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRkwgKj0gMC43NTsgLy8gNzUlIFNraWQgRm9yIEZyb250IFdoZWVsc1xuICAgICAgICAgICAgdGhpcy5QSVRDSF9GUiAqPSAwLjc1OyAvLyA3NSUgU2tpZCBGb3IgRnJvbnQgV2hlZWxzXG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsQ29udGFjdEJMOmJvb2xlYW4gPSAodGhpcy5tX2JhY2tMZWZ0V2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuU0tJRF9STCA9IHRoaXMudXBkYXRlQ3VycmVudFNraWRJbmZvKHRoaXMubV9iYWNrTGVmdFdoZWVsKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TS0lEX1JMIDwgdGhpcy5za2lkVGhyZWFzaG9sZCkgdGhpcy5TS0lEX1JMID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TS0lEX1JMID4gMCAmJiB3aGVlbENvbnRhY3RCTCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkUG9zUkw6QkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkTm9ybVJMOkJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9iYWNrTGVmdFdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTY2FsZVJMOm51bWJlciA9IEJBQllMT04uU2NhbGFyLk5vcm1hbGl6ZSh0aGlzLlNLSURfUkwsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPiAwKSBza2lkUG9zUkwuYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbFNraWQgPSBTa2lkTWFya01hbmFnZXIuQWRkU2tpZE1hcmtTZWdtZW50KHNraWRQb3NSTCwgc2tpZE5vcm1STCwgc2tpZFNjYWxlUkwsIHRoaXMubV9iYWNrTGVmdFdoZWVsU2tpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5pc1N0YXJ0ZWQoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5zdGFydCgpICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfUkw6bnVtYmVyID0gdGhpcy5TS0lEX1JMICogdGhpcy5TS0lEX1JMO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICogc21va2VfUkw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5taW5TaXplID0gMC4yICogc21va2VfUkwgKyAwLjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5tYXhTaXplID0gMS41ICogc21va2VfUkwgKyAxLjI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbFNraWQgPSAtMTsgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrUmlnaHRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxDb250YWN0QlI6Ym9vbGVhbiA9ICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuU0tJRF9SUiA9IHRoaXMudXBkYXRlQ3VycmVudFNraWRJbmZvKHRoaXMubV9iYWNrUmlnaHRXaGVlbCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9SUiA8IHRoaXMuc2tpZFRocmVhc2hvbGQpIHRoaXMuU0tJRF9SUiA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9SUiA+IDAgJiYgd2hlZWxDb250YWN0QlIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFBvc1JSOkJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9iYWNrUmlnaHRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWROb3JtUlI6QkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2JhY2tSaWdodFdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTY2FsZVJSOm51bWJlciA9IEJBQllMT04uU2NhbGFyLk5vcm1hbGl6ZSh0aGlzLlNLSURfUlIsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPiAwKSBza2lkUG9zUlIuYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWxTa2lkID0gU2tpZE1hcmtNYW5hZ2VyLkFkZFNraWRNYXJrU2VnbWVudChza2lkUG9zUlIsIHNraWROb3JtUlIsIHNraWRTY2FsZVJSLCB0aGlzLm1fYmFja1JpZ2h0V2hlZWxTa2lkKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuaXNTdGFydGVkKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLnN0YXJ0KCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9rZV9SUjpudW1iZXIgPSB0aGlzLlNLSURfUlIgKiB0aGlzLlNLSURfUlI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICogc21va2VfUlI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUubWluU2l6ZSA9IDAuMiAqIHNtb2tlX1JSICsgMC4yO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9SUiArIDEuMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsU2tpZCA9IC0xOyAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlBJVENIX1JMID0gdGhpcy5TS0lEX1JMO1xuICAgICAgICAgICAgdGhpcy5QSVRDSF9SUiA9IHRoaXMuU0tJRF9SUjtcbiAgICAgICAgICAgIGlmICh0aGlzLndoZWVsQnVybm91dCA9PSB0cnVlIHx8IHRoaXMucmVzdG9yZVRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfUkwgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgICAgICB0aGlzLlBJVENIX1JSICo9IHRoaXMuYnVybm91dFdoZWVsUGl0Y2g7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFBsYXkgU2tpZCBBdWRpbyBUcmFja1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLlBJVENIX0ZMID4gdGhpcy5XSEVFTF9TS0lEX1BJVENIKSB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSB0aGlzLlBJVENIX0ZMO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfRlIgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfRlI7XG4gICAgICAgICAgICBpZiAodGhpcy5QSVRDSF9STCA+IHRoaXMuV0hFRUxfU0tJRF9QSVRDSCkgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gdGhpcy5QSVRDSF9STDtcbiAgICAgICAgICAgIGlmICh0aGlzLlBJVENIX1JSID4gdGhpcy5XSEVFTF9TS0lEX1BJVENIKSB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSB0aGlzLlBJVENIX1JSO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheVZlaGljbGVTb3VuZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFNvdW5kQ2xpcDpCQUJZTE9OLlNvdW5kID0gdGhpcy5fc2tpZEF1ZGlvU291cmNlLmdldFNvdW5kQ2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpZFNvdW5kQ2xpcCAhPSBudWxsKSBza2lkU291bmRDbGlwLnNldFBsYXliYWNrUmF0ZSh0aGlzLldIRUVMX1NLSURfUElUQ0gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gVmVoaWNsZSBCcmFraW5nIExpZ2h0cyBDaGVja1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgaWYgKHRoaXMuYnJha2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSAodGhpcy5nZXRGb290QnJha2luZygpIHx8IHRoaXMuZ2V0SGFuZEJyYWtpbmcoKSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gVmVoaWNsZSBSZXZlcnNlIExpZ2h0cyBDaGVja1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZUxpZ2h0c01lc2guaXNWaXNpYmxlID0gdGhpcy5nZXRSZXZlcnNlVGhyb3R0bGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gUmVzZXQgU2tpZCBQcm9wZXJ0aWVzXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICBpZiAodGhpcy5TS0lEX0ZMID09PSAwICYmIHRoaXMuU0tJRF9GTCA9PT0gMCAmJiB0aGlzLlNLSURfRkwgPT09IDAgJiYgdGhpcy5TS0lEX0ZMID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFBvc3QgTmV0d29yayBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICBpZiAodGhpcy5wb3N0TmV0d29ya0F0dHJpYnV0ZXMgPT0gdHJ1ZSAmJiBVTklUWS5FbnRpdHlDb250cm9sbGVyLkhhc05ldHdvcmtFbnRpdHkodGhpcy50cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGl0Y2hfQXR0cmlidXRlOm51bWJlciA9IHRoaXMuZ2V0RW5naW5lUGl0Y2hMZXZlbCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyYWtlX0F0dHJpYnV0ZTpudW1iZXIgPSAodGhpcy5nZXRGb290QnJha2luZygpIHx8IHRoaXMuZ2V0SGFuZEJyYWtpbmcoKSkgPyAxIDogMDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXZlcnNlX0F0dHJpYnV0ZTpudW1iZXIgPSB0aGlzLmdldFJldmVyc2VUaHJvdHRsZSgpID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVybm91dF9BdHRyaWJ1dGU6bnVtYmVyID0gKHRoaXMuZ2V0Q3VycmVudEJ1cm5vdXQoKSB8fCB0aGlzLmdldEN1cnJlbnREb251dHMoKSkgPyAxIDogMDtcbiAgICAgICAgICAgICAgICBjb25zdCBTS0lEX0ZMX0F0dHJpYnV0ZTpudW1iZXIgPSB0aGlzLmdldEZyb250TGVmdFNraWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBTS0lEX0ZSX0F0dHJpYnV0ZTpudW1iZXIgPSB0aGlzLmdldEZyb250UmlnaHRTa2lkKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgU0tJRF9STF9BdHRyaWJ1dGU6bnVtYmVyID0gdGhpcy5nZXRCYWNrTGVmdFNraWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBTS0lEX1JSX0F0dHJpYnV0ZTpudW1iZXIgPSB0aGlzLmdldEJhY2tSaWdodFNraWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBTUElOX0ZMX1RyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuc3Bpbm5lcjtcbiAgICAgICAgICAgICAgICBjb25zdCBTUElOX0ZSX1RyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLnNwaW5uZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgU1BJTl9STF9UcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwuc3Bpbm5lcjtcbiAgICAgICAgICAgICAgICBjb25zdCBTUElOX1JSX1RyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuc3Bpbm5lcjtcbiAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMCwgcGl0Y2hfQXR0cmlidXRlKTsgICAgICAgICAgICAgICAgIC8vIFBpdGNoXG4gICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEsIGJyYWtlX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgICAvLyBCcmFrZVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAyLCByZXZlcnNlX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gUmV2ZXJzZVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAzLCBidXJub3V0X0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gQnVybm91dFxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA0LCBTS0lEX0ZMX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gU0tJRF9GTFxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA1LCBTS0lEX0ZSX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gU0tJRF9GUlxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA2LCBTS0lEX1JMX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gU0tJRF9STFxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA3LCBTS0lEX1JSX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gU0tJRF9SUlxuICAgICAgICAgICAgICAgIGlmIChTUElOX0ZMX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fRkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFNQSU5fRkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5TUElOX0ZMX1JvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDgsIHRoaXMuU1BJTl9GTF9Sb3RhdGlvbi54KTsgICAgIC8vIFNQSU5fRkxcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChTUElOX0ZSX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fRlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFNQSU5fRlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5TUElOX0ZSX1JvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDksIHRoaXMuU1BJTl9GUl9Sb3RhdGlvbi54KTsgICAgIC8vIFNQSU5fRlJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChTUElOX1JMX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fUkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFNQSU5fUkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5TUElOX1JMX1JvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEwLCB0aGlzLlNQSU5fUkxfUm90YXRpb24ueCk7ICAgIC8vIFNQSU5fUkxcbiAgICAgICAgICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEwLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFNQSU5fUlJfVHJhbnNmb3JtICE9IG51bGwgJiYgU1BJTl9SUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgU1BJTl9SUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLlNQSU5fUlJfUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTEsIHRoaXMuU1BJTl9SUl9Sb3RhdGlvbi54KTsgICAgLy8gU1BJTl9SUlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMiwgdGhpcy5hbmltYXRvclN0ZWVyQW5nbGUpOyAgICAgICAgLy8gU3RlZXJpbmdcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gV3JpdGUgVHJhbnNmb3JtIE1ldGFkYXRhXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICB0aGlzLndyaXRlVHJhbnNmb3JtTWV0YWRhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgd3JpdGVUcmFuc2Zvcm1NZXRhZGF0YSgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhID09IG51bGwpIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhID0ge307XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyID09IG51bGwpIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhciA9IHt9O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBUcmFuc2Zvcm0gTm9kZSBNZXRhZGF0YVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5mb3J3YXJkU3BlZWQgPSB0aGlzLmZvcndhcmRTcGVlZDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5yZXZlcnNlUG93ZXIgPSB0aGlzLm1heFJldmVyc2VQb3dlcjtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5hbWVyaWNhblNwZWVkID0gdGhpcy5hbWVyaWNhblNwZWVkO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyLmdyYWRpZW50U3BlZWQgPSB0aGlzLmdyYWRpZW50U3BlZWQ7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS5jYXIuY3VycmVudEZvcndhcmQgPSB0aGlzLmN1cnJlbnRGb3J3YXJkO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyLmxpbmVhclZlbG9jaXR5ID0gdGhpcy5nZXRMaW5lYXJWZWxvY2l0eSgpLmxlbmd0aCgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyLm5vcm1hbGl6ZWRTcGVlZCA9IHRoaXMuZ2V0Tm9ybWFsaXplZFNwZWVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdldFZlaGljbGVFbmdpbmVUb3JxdWUocnBtOm51bWJlciwgYm9vc3Q6bnVtYmVyID0gMCk6IG51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmdpbmVUb3JxdWVDdXJ2ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gKFVOSVRZLlV0aWxpdGllcy5TYW1wbGVBbmltYXRpb25GbG9hdCh0aGlzLmVuZ2luZVRvcnF1ZUN1cnZlLCBCQUJZTE9OLlNjYWxhci5DbGFtcChycG0sIHRoaXMuTUlOX1JQTSwgdGhpcy5NQVhfUlBNKSwgQkFCWUxPTi5BbmltYXRpb24uQU5JTUFUSU9OTE9PUE1PREVfQ1lDTEUsIGZhbHNlKSAqICh0aGlzLnBvd2VyQ29lZmZpY2llbnQgKyBib29zdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsgXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0obmFtZTpzdHJpbmcsIGVtaXR0ZXI6QkFCWUxPTi5BYnN0cmFjdE1lc2gpOkJBQllMT04uUGFydGljbGVTeXN0ZW0ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEJBQllMT04uUGFydGljbGVTeXN0ZW0obmFtZSwgMTAwMDAsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgcmVzdWx0LmJsZW5kTW9kZSA9IEJBQllMT04uUGFydGljbGVTeXN0ZW0uQkxFTkRNT0RFX1NUQU5EQVJEO1xuICAgICAgICAgICAgcmVzdWx0LnJlbmRlcmluZ0dyb3VwSWQgPSBVTklUWS5VdGlsaXRpZXMuRGVmYXVsdFJlbmRlckdyb3VwKCk7XG4gICAgICAgICAgICByZXN1bHQucGFydGljbGVUZXh0dXJlID0gdGhpcy5zbW9rZVRleHR1cmUgICAgICBcbiAgICAgICAgICAgIHJlc3VsdC5lbWl0dGVyID0gZW1pdHRlcjtcbiAgICAgICAgICAgIHJlc3VsdC5lbWl0UmF0ZSA9IDA7XG4gICAgICAgICAgICByZXN1bHQudXBkYXRlU3BlZWQgPSAwLjAxO1xuXG4gICAgICAgICAgICAvLyBjaGFuZ2Ugc2l6ZSBhbmQgc3BlZWRcbiAgICAgICAgICAgIHJlc3VsdC5taW5TaXplID0gMC4yO1xuICAgICAgICAgICAgcmVzdWx0Lm1heFNpemUgPSAxLjM7XG4gICAgICAgICAgICByZXN1bHQubWluQW5ndWxhclNwZWVkID0gLTEuNTtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhBbmd1bGFyU3BlZWQgPSAxLjU7XG4gICAgXG4gICAgICAgICAgICAvLyBjaGFuZ2VkIGxpZmV0aW1lIHRvIGNvbnRyb2wgc2hhcGUgb2YgdGhlIGNsb3VkIGluIGNvbmp1bmN0aW9uIHdpdGggdmVsb2NpdHkgZ3JhZGllbnRcbiAgICAgICAgICAgIHJlc3VsdC5taW5MaWZlVGltZSA9IDMuMDtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhMaWZlVGltZSA9IDUuMDtcbiAgICBcbiAgICAgICAgICAgIC8vIGFkZGluZyB2ZWxvY2l0eSBvdmVyIHRpbWUgdG8gcHJldmVudCBsYXJnZSBibG9vbSBvZiBwYXJ0aWNsZXMgYnkgbGF1bmNoaW5nIHRoZW0gZmFzdCBhbmQgdGhlbiBzbG93aW5nIHRoZW0gZG93biBHUFUgcGFydGljbGVzIGRvbid0IHRha2UgYSBncmFkaWVudCBvbiB2ZWxvY2l0eSwgYnV0IHRoZSByZWR1Y3Rpb24gaW4gdmVsb2NpdHkgb3ZlciB0aW1lIGlzIHdvcnRoIHRoZSB0cmFkZSBvZmYgZm9yIGxlc3MgcmFuZG9taXphdGlvblxuICAgICAgICAgICAgcmVzdWx0LmFkZFZlbG9jaXR5R3JhZGllbnQoMCwgMSk7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgwLjEsIDAuNyk7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgwLjcsIDAuMik7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgxLjAsIDAuMDUpO1xuICAgIFxuICAgICAgICAgICAgLy8gcmVkdWNlZCB0aGUgZW1pdCByYXRlIHRvIHJlZHVjZSBibG9vbSBvZiBwYXJ0aWNsZXMgaW4gdGhlIGNlbnRlciBvZiBtYXNzXG4gICAgICAgICAgICByZXN1bHQuZ3Jhdml0eSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLTAuMSwgMCk7XG4gICAgICAgICAgICByZXN1bHQubWluRW1pdEJveCA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLTAuMjUsIDApO1xuICAgICAgICAgICAgcmVzdWx0Lm1heEVtaXRCb3ggPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0wLjI1LCAwKTtcbiAgICAgICAgICAgIHJlc3VsdC5kaXJlY3Rpb24xID0gbmV3IEJBQllMT04uVmVjdG9yMygtMSwgLTEsIC0xKTtcbiAgICAgICAgICAgIHJlc3VsdC5kaXJlY3Rpb24yID0gbmV3IEJBQllMT04uVmVjdG9yMygxLCAxLCAxKTtcbiAgICBcbiAgICAgICAgICAgIC8vIFRoZSBjb2xvcjEsIGNvbG9yMiwgY29sb3JEZWFkIHBhdHRlcm4gaXMgb3ZlcnJpZGRlbiBieSBjb2xvciBncmFkaWVudCBzbyBpcyB1bm5lY2Vzc2FyeVxuICAgICAgICAgICAgcmVzdWx0LmNvbG9yMSA9IG5ldyBCQUJZTE9OLkNvbG9yNCgwLjk1LCAwLjk1LCAwLjk1LCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICByZXN1bHQuY29sb3IyID0gbmV3IEJBQllMT04uQ29sb3I0KDAuODUsIDAuODUsIDAuODUsIHRoaXMuc21va2VPcGFjaXR5KTtcbiAgICAgICAgICAgIHJlc3VsdC5jb2xvckRlYWQgPSBuZXcgQkFCWUxPTi5Db2xvcjQoMC45LCAwLjksIDAuOSwgKHRoaXMuc21va2VPcGFjaXR5ICogMC41KSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoYW5nZWQgdGhlIGNvbG9yIGdyYWRpZW50IHRvIGFkZCBhIHNlY29uZCB2YWx1ZSBmb3IgcmFuZG9taXphdGlvbiBhbmQgcmFtcGVkIHRoZSBjb2xvciBkb3duIGZ1cnRoZXIgdG8gY3JlYXRlIG1vcmUgdGV4dHVyZSB3aXRoIGFscGhhIGJsZW5kaW5nXG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDAuMCwgbmV3IEJBQllMT04uQ29sb3I0KDEsIDEsIDEsIDAuMCksIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjcsIDAuNywgMC43LCAwLjApKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMC4yLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC43LCAwLjcsIDAuNywgMC4yKSwgbmV3IEJBQllMT04uQ29sb3I0KDAuNiwgMC42LCAwLjYsIDAuMikpO1xuICAgICAgICAgICAgLy9yZXN1bHQuYWRkQ29sb3JHcmFkaWVudCgwLjYsIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjYsIDAuNiwgMC42LCAwLjEpLG5ldyBCQUJZTE9OLkNvbG9yNCgwLjQsIDAuNCwgMC40LCAwLjEpKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMS4wLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC4zLCAwLjMsIDAuMywgMC4wKSxuZXcgQkFCWUxPTi5Db2xvcjQoMC4xLCAwLjEsIDAuMSwgMC4wKSk7ICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7ICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRTa2lkSW5mbyh3aGVlbDpVTklUWS5IYXZva1doZWVsSW5mbyk6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiBCQUJZTE9OLlNjYWxhci5DbGFtcCgoMSAtIHdoZWVsLnNraWRJbmZvKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcobGluZWFyOm51bWJlciwgYW5ndWxhcjpudW1iZXIsIGxlcnA6bnVtYmVyID0gMS4wKTp2b2lkIHtcbiAgICAgICAgICAgIGxldCB0b3RhbFdoZWVsRGFtcGVuZXI6bnVtYmVyID0gMDtcbiAgICAgICAgICAgIGxldCBkZXN0aW5hdGlvbkxpbmVhckRhbXBpbmc6bnVtYmVyID0gKGxpbmVhciArIHRvdGFsV2hlZWxEYW1wZW5lcik7XG4gICAgICAgICAgICBsZXQgZGVzdGluYXRpb25Bbmd1bGFyRGFtcGluZzpudW1iZXIgPSBhbmd1bGFyO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW1lcmljYW5TcGVlZCA+PSB0aGlzLm1pblBlbmFsdHlTcGVlZCAmJiB0aGlzLmxpbmVhcldoZWVsRHJhZyA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhckxlZnRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyUmlnaHRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZXJwIDwgMS4wKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRMaW5lYXJEYW1waW5nOm51bWJlciA9IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LmdldExpbmVhckRhbXBpbmcoKTtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudEFuZ3VsYXJEYW1waW5nOm51bWJlciA9IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LmdldEFuZ3VsYXJEYW1waW5nKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNtb290aGVkTGluZWFyRGFtcGluZzpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKGN1cnJlbnRMaW5lYXJEYW1waW5nLCBkZXN0aW5hdGlvbkxpbmVhckRhbXBpbmcsIGxlcnApO1xuICAgICAgICAgICAgICAgIGxldCBzbW9vdGhlZEFuZ3VsYXJEYW1waW5nOm51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAoY3VycmVudEFuZ3VsYXJEYW1waW5nLCBkZXN0aW5hdGlvbkFuZ3VsYXJEYW1waW5nLCBsZXJwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRMaW5lYXJEYW1waW5nKHNtb290aGVkTGluZWFyRGFtcGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0QW5ndWxhckRhbXBpbmcoc21vb3RoZWRBbmd1bGFyRGFtcGluZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldExpbmVhckRhbXBpbmcoZGVzdGluYXRpb25MaW5lYXJEYW1waW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRBbmd1bGFyRGFtcGluZyhkZXN0aW5hdGlvbkFuZ3VsYXJEYW1waW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlTGluZWFyQnJha2VEYW1waW5nKGxpbmVhcjpudW1iZXIsIGxlcnA6bnVtYmVyID0gMS4wKTp2b2lkIHtcbiAgICAgICAgICAgIGxldCB0b3RhbFdoZWVsRGFtcGVuZXI6bnVtYmVyID0gMDtcbiAgICAgICAgICAgIGxldCBkZXN0aW5hdGlvbkxpbmVhckRhbXBpbmc6bnVtYmVyID0gKGxpbmVhciArIHRvdGFsV2hlZWxEYW1wZW5lcik7XG4gICAgICAgICAgICBpZiAodGhpcy5hbWVyaWNhblNwZWVkID49IHRoaXMubWluUGVuYWx0eVNwZWVkICYmIHRoaXMubGluZWFyV2hlZWxEcmFnID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlcnAgPCAxLjApIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudExpbmVhckRhbXBpbmc6bnVtYmVyID0gdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0TGluZWFyRGFtcGluZygpO1xuICAgICAgICAgICAgICAgIGxldCBzbW9vdGhlZExpbmVhckRhbXBpbmc6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycChjdXJyZW50TGluZWFyRGFtcGluZywgZGVzdGluYXRpb25MaW5lYXJEYW1waW5nLCBsZXJwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRMaW5lYXJEYW1waW5nKHNtb290aGVkTGluZWFyRGFtcGluZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldExpbmVhckRhbXBpbmcoZGVzdGluYXRpb25MaW5lYXJEYW1waW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQW5ndWxhckJyYWtlRGFtcGluZyhhbmd1bGFyOm51bWJlciwgbGVycDpudW1iZXIgPSAxLjApOnZvaWQge1xuICAgICAgICAgICAgbGV0IHRvdGFsV2hlZWxEYW1wZW5lcjpudW1iZXIgPSAwO1xuICAgICAgICAgICAgbGV0IGRlc3RpbmF0aW9uQW5ndWxhckRhbXBpbmc6bnVtYmVyID0gYW5ndWxhcjtcbiAgICAgICAgICAgIGlmICh0aGlzLmFtZXJpY2FuU3BlZWQgPj0gdGhpcy5taW5QZW5hbHR5U3BlZWQgJiYgdGhpcy5saW5lYXJXaGVlbERyYWcgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVycCA8IDEuMCkge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50QW5ndWxhckRhbXBpbmc6bnVtYmVyID0gdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0QW5ndWxhckRhbXBpbmcoKTtcbiAgICAgICAgICAgICAgICBsZXQgc21vb3RoZWRBbmd1bGFyRGFtcGluZzpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKGN1cnJlbnRBbmd1bGFyRGFtcGluZywgZGVzdGluYXRpb25Bbmd1bGFyRGFtcGluZywgbGVycCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0QW5ndWxhckRhbXBpbmcoc21vb3RoZWRBbmd1bGFyRGFtcGluZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldEFuZ3VsYXJEYW1waW5nKGRlc3RpbmF0aW9uQW5ndWxhckRhbXBpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50Um90YXRpb25EZWx0YShkZWx0YTpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udExlZnRXaGVlbCAhPSBudWxsKSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVsdGFSb3RhdGlvbiA9IGRlbHRhO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5kZWx0YVJvdGF0aW9uID0gZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZGVsdGFSb3RhdGlvbiA9IGRlbHRhO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrUmlnaHRXaGVlbCAhPSBudWxsKSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVsdGFSb3RhdGlvbiA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ3VycmVudFJvdGF0aW9uQm9vc3QoYm9vc3Q6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJpdmVUeXBlID09PSAxIHx8IHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDIpIHsgLy8gRlJPTlQgT1IgQUxMIFdIRUVMIERSSVZFXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udExlZnRXaGVlbCAhPSBudWxsKSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwucm90YXRpb25Cb29zdCA9IGJvb3N0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwpIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwucm90YXRpb25Cb29zdCA9IGJvb3N0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDAgfHwgdGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMikgeyAvLyBSRUFSIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja0xlZnRXaGVlbCAhPSBudWxsKSB0aGlzLm1fYmFja0xlZnRXaGVlbC5yb3RhdGlvbkJvb3N0ID0gYm9vc3Q7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrUmlnaHRXaGVlbCAhPSBudWxsKSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwucm90YXRpb25Cb29zdCA9IGJvb3N0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ3VycmVudEZyaWN0aW9uU2xpcChsZXJwU3BlZWQ6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbnRMZWZ0RnJpY3Rpb246bnVtYmVyID0gdGhpcy5tX2Zyb250TGVmdFdoZWVsLmZyaWN0aW9uU2xpcDtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbnRMZWZ0RnJpY3Rpb24gPCAodGhpcy5tX2Zyb250TGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiAtIDAuMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRGcmljdGlvbkxlcnBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmcm9udExlZnRGcmljdGlvbiA9IEJBQllMT04uU2NhbGFyLkxlcnAoZnJvbnRMZWZ0RnJpY3Rpb24sIHRoaXMubV9mcm9udExlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24sICh0aGlzLmZyb250TGVmdEZyaWN0aW9uUGVuYWx0eSA9PT0gdHJ1ZSkgPyAobGVycFNwZWVkICogMy4wKSA6IGxlcnBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbC5mcmljdGlvblNsaXAgPSBmcm9udExlZnRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdEZyaWN0aW9uTGVycGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gdGhpcy5tX2Zyb250TGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbnRSaWdodEZyaWN0aW9uOm51bWJlciA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwO1xuICAgICAgICAgICAgICAgIGlmIChmcm9udFJpZ2h0RnJpY3Rpb24gPCAodGhpcy5tX2Zyb250UmlnaHRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gLSAwLjEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uTGVycGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZyb250UmlnaHRGcmljdGlvbiA9IEJBQllMT04uU2NhbGFyLkxlcnAoZnJvbnRSaWdodEZyaWN0aW9uLCB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiwgKHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uUGVuYWx0eSA9PT0gdHJ1ZSkgPyAobGVycFNwZWVkICogMy4wKSA6IGxlcnBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gZnJvbnRSaWdodEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRGcmljdGlvbkxlcnBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBiYWNrTGVmdEZyaWN0aW9uOm51bWJlciA9IHRoaXMubV9iYWNrTGVmdFdoZWVsLmZyaWN0aW9uU2xpcDtcbiAgICAgICAgICAgICAgICBpZiAoYmFja0xlZnRGcmljdGlvbiA8ICh0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gLSAwLjEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRGcmljdGlvbkxlcnBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYWNrTGVmdEZyaWN0aW9uID0gQkFCWUxPTi5TY2FsYXIuTGVycChiYWNrTGVmdEZyaWN0aW9uLCB0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24sICh0aGlzLnJlYXJMZWZ0RnJpY3Rpb25QZW5hbHR5ID09PSB0cnVlKSA/IChsZXJwU3BlZWQgKiAzLjApIDogbGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gYmFja0xlZnRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRGcmljdGlvbkxlcnBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgYmFja1JpZ2h0RnJpY3Rpb246bnVtYmVyID0gdGhpcy5tX2JhY2tSaWdodFdoZWVsLmZyaWN0aW9uU2xpcDtcbiAgICAgICAgICAgICAgICBpZiAoYmFja1JpZ2h0RnJpY3Rpb24gPCAodGhpcy5tX2JhY2tSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAtIDAuMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja1JpZ2h0RnJpY3Rpb24gPSBCQUJZTE9OLlNjYWxhci5MZXJwKGJhY2tSaWdodEZyaWN0aW9uLCB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uLCAodGhpcy5yZWFyUmlnaHRGcmljdGlvblBlbmFsdHkgPT09IHRydWUpID8gKGxlcnBTcGVlZCAqIDMuMCkgOiBsZXJwU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gYmFja1JpZ2h0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRGcmljdGlvbkxlcnBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmZyaWN0aW9uU2xpcCA9IHRoaXMubV9iYWNrUmlnaHRXaGVlbC5kZWZhdWx0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFdoZWVsIENvbnRhY3QgUmF5Y2FzdCBTeXN0ZW1cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRDb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0Q29udGFjdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRDb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRDb250YWN0VGFnOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodENvbnRhY3RUYWc6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHJpdmF0ZSByZWFyTGVmdENvbnRhY3RUYWc6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRDb250YWN0VGFnOnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0Q29udGFjdFBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0UG9pbnQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0UG9pbnQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0Q29udGFjdFBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3ROb3JtYWw6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodENvbnRhY3ROb3JtYWw6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0Tm9ybWFsOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3ROb3JtYWw6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0RnJpY3Rpb25MZXJwaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0RnJpY3Rpb25MZXJwaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWFyTGVmdEZyaWN0aW9uTGVycGluZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0RnJpY3Rpb25MZXJwaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRGcmljdGlvblBlbmFsdHk6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRGcmljdGlvblBlbmFsdHk6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0RnJpY3Rpb25QZW5hbHR5OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRGcmljdGlvblBlbmFsdHk6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHN0YXJ0UmF5Y2FzdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGVuZFJheWNhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBkb3duRGlyZWN0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwtMSwwKTtcbiAgICAgICAgcHJpdmF0ZSBkb3duRGlzdGFuY2U6bnVtYmVyID0gMi4wO1xuXG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbENvbnRhY3QoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0Q29udGFjdDt9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udFJpZ2h0V2hlZWxDb250YWN0KCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyTGVmdFdoZWVsQ29udGFjdCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFyTGVmdENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJSaWdodFdoZWVsQ29udGFjdCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFyUmlnaHRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbENvbnRhY3RUYWcoKTpzdHJpbmcgeyByZXR1cm4gdGhpcy5mcm9udExlZnRDb250YWN0VGFnOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udFJpZ2h0V2hlZWxDb250YWN0VGFnKCk6c3RyaW5nIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWc7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0VGFnKCk6c3RyaW5nIHsgcmV0dXJuIHRoaXMucmVhckxlZnRDb250YWN0VGFnOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyUmlnaHRXaGVlbENvbnRhY3RUYWcoKTpzdHJpbmcgeyByZXR1cm4gdGhpcy5yZWFyUmlnaHRDb250YWN0VGFnOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbENvbnRhY3RQb2ludCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdFBvaW50KCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhckxlZnRXaGVlbENvbnRhY3RQb2ludCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyUmlnaHRXaGVlbENvbnRhY3RQb2ludCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0Tm9ybWFsKCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0Q29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdE5vcm1hbCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0Tm9ybWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyTGVmdFdoZWVsQ29udGFjdE5vcm1hbCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0Tm9ybWFsKCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMucmVhclJpZ2h0Q29udGFjdE5vcm1hbDsgfVxuXG4gICAgICAgIHByaXZhdGUgY2FzdFdoZWVsQ29udGFjdFJheXMoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keSA9PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgICAgIGxldCByYXljYXN0OlVOSVRZLlJheWNhc3RIaXRSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZyA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3RQb2ludC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RQb2ludC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdE5vcm1hbC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdE5vcm1hbC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3ROb3JtYWwuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdE5vcm1hbC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEZyb250IExlZnQgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gRnJvbnQgTGVmdCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gVU5JVFkuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24sIHRoaXMuZG93bkRpc3RhbmNlKTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0VGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGcm9udCBMZWZ0IERyYXcgRGVidWcgTGluZXNcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5mcm9udExlZnRTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Gcm9udExlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEZyb250IFJpZ2h0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gRnJvbnQgUmlnaHQgUGh5c2ljcyBSYXljYXN0XG4gICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0VGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZyb250IFJpZ2h0IERyYXcgRGVidWcgTGluZXNcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuZnJvbnRSaWdodFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkZyb250UmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFJlYXIgTGVmdCBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gUmVhciBMZWZ0IFBoeXNpY3MgUmF5Y2FzdFxuICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBVTklUWS5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbiwgdGhpcy5kb3duRGlzdGFuY2UpO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0VGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVhciBMZWZ0IERyYXcgRGVidWcgTGluZXNcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZSA9IG5ldyBVTklUWS5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmVhckxlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFJlYXIgUmlnaHQgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gUmVhciBSaWdodCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gVU5JVFkuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24sIHRoaXMuZG93bkRpc3RhbmNlKTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0VGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWFyIFJpZ2h0IERyYXcgRGVidWcgTGluZXNcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SZWFyUmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJSaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFZlaGljbGVDYW1lcmFNYW5hZ2VyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgVmVoaWNsZUNhbWVyYU1hbmFnZXIgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgZW5hYmxlQ2FtZXJhOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGZvbGxvd1RhcmdldDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBmb2xsb3dIZWlnaHQ6bnVtYmVyID0gMS4yNTtcbiAgICAgICAgcHVibGljIHBpdGNoaW5nQW5nbGU6bnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgcm90YXRpb25EYW1waW5nOm51bWJlciA9IDUuMDtcblx0XHRwdWJsaWMgbWluaW11bURpc3RhbmNlOm51bWJlciA9IDQuMDtcbiAgICAgICAgcHVibGljIG1heGltdW1EaXN0YW5jZTpudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBidXR0b25DYW1lcmE6bnVtYmVyID0gQkFCWUxPTi5YYm94MzYwQnV0dG9uLlk7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZENhbWVyYTpudW1iZXIgPSBVTklUWS5Vc2VySW5wdXRLZXkuUDtcbiAgICAgICAgcHVibGljIHRpY2tSZW1vdGVFbnRpdGllczpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBmaXJzdFBlcnNvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUGl2b3Q6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSB0YXJnZXRFdWxlcnM6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFSb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVBpdm90T2Zmc2V0OkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgYXV0b0F0dGFjaENhbWVyYTpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fY2FtZXJhVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2lucHV0Q29udHJvbGxlcjpQUk9KRUNULlZlaGljbGVJbnB1dENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zdGFuZGFyZENvbnRyb2xsZXI6UFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9maXJzdFBlcnNvbk9mZnNldDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAuMCwgMS4xNSwgMC4xNSk7XG4gICAgXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZUNhbWVyYU1hbmFnZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuaW5pdENhbWVyYU1hbmFnZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHsgdGhpcy5sYXRlVXBkYXRlQ2FtZXJhTWFuYWdlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyAgdGhpcy5kZXN0cm95Q2FtZXJhTWFuYWdlcigpOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlQ2FtZXJhTWFuYWdlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlQ2FtZXJhID0gdGhpcy5nZXRQcm9wZXJ0eShcImVuYWJsZUNhbWVyYVwiLCB0aGlzLmVuYWJsZUNhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLmZvbGxvd1RhcmdldCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmb2xsb3dUYXJnZXRcIiwgdGhpcy5mb2xsb3dUYXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5mb2xsb3dIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwiZm9sbG93SGVpZ2h0XCIsIHRoaXMuZm9sbG93SGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucGl0Y2hpbmdBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwaXRjaGluZ0FuZ2xlXCIsIHRoaXMucGl0Y2hpbmdBbmdsZSk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uRGFtcGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb3RhdGlvbkRhbXBpbmdcIiwgdGhpcy5yb3RhdGlvbkRhbXBpbmcpO1xuICAgICAgICAgICAgdGhpcy5taW5pbXVtRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWluaW11bURpc3RhbmNlXCIsIHRoaXMubWluaW11bURpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMubWF4aW11bURpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heGltdW1EaXN0YW5jZVwiLCB0aGlzLm1heGltdW1EaXN0YW5jZSk7XG4gICAgICAgICAgICB0aGlzLmF1dG9BdHRhY2hDYW1lcmEgPSB0aGlzLmdldFByb3BlcnR5KFwiYXR0YWNoQ2FtZXJhXCIsIHRoaXMuYXV0b0F0dGFjaENhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLnRpY2tSZW1vdGVFbnRpdGllcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0aWNrUmVtb3RlRW50aXRpZXNcIiwgdGhpcy50aWNrUmVtb3RlRW50aXRpZXMpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGVyc29uT2Zmc2V0OlVOSVRZLklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwiZmlyc3RQZXJzb25PZmZzZXRcIik7XG4gICAgICAgICAgICBpZiAoZmlyc3RQZXJzb25PZmZzZXQgIT0gbnVsbCkgdGhpcy5tX2ZpcnN0UGVyc29uT2Zmc2V0ID0gVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhmaXJzdFBlcnNvbk9mZnNldCk7XG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGlvbkRhbXBpbmcgPD0gMCkgdGhpcy5yb3RhdGlvbkRhbXBpbmcgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGluaXRDYW1lcmFNYW5hZ2VyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ29udHJvbGxlciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICB0aGlzLm1faW5wdXRDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQoXCJQUk9KRUNULlZlaGljbGVJbnB1dENvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2lucHV0Q29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgVU5JVFkuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyh0aGlzLmtleWJvYXJkQ2FtZXJhLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLnBsYXllck51bWJlciA9PT0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVQbGF5ZXJDYW1lcmEoKTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgVU5JVFkuSW5wdXRDb250cm9sbGVyLk9uR2FtZXBhZEJ1dHRvblByZXNzKHRoaXMuYnV0dG9uQ2FtZXJhLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVBsYXllckNhbWVyYSgpO1xuICAgICAgICAgICAgICAgIH0vKiwgdGhpcy5wbGF5ZXJOdW1iZXIqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGxhdGVVcGRhdGVDYW1lcmFNYW5hZ2VyKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVRyYW5zZm9ybSA9PSBudWxsICYmIHRoaXMuYXV0b0F0dGFjaENhbWVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1faW5wdXRDb250cm9sbGVyICE9IG51bGwpIHRoaXMuYXR0YWNoUGxheWVyQ2FtZXJhKHRoaXMubV9pbnB1dENvbnRyb2xsZXIucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZpcnN0UGVyc29uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFBlcnNvbkNhbWVyYSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRoaXJkUGVyc29uQ2FtZXJhKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3lDYW1lcmFNYW5hZ2VyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFBsYXllciBDYW1lcmEgRnVuY3Rpb25zIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHVibGljIGF0dGFjaFBsYXllckNhbWVyYShwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhVHJhbnNmb3JtID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJDYW1lcmE6bnVtYmVyID0gKHBsYXllciA8PSAwIHx8IHBsYXllciA+IDQpID8gMSA6IHBsYXllcjtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLkdldENhbWVyYVRyYW5zZm9ybSh0aGlzLnNjZW5lLCBwbGF5ZXJDYW1lcmEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhVHJhbnNmb3JtICE9IG51bGwgJiYgdGhpcy5mb2xsb3dUYXJnZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhUGl2b3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdCA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNhbWVyYVBpdm90XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFQlVHOiBjb25zdCB0ZXN0UGl2b3Q6QkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoLkNyZWF0ZUJveChcIlRlc3RQaXZvdFwiLCAwLjI1LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFQlVHOiB0ZXN0UGl2b3QucGFyZW50ID0gdGhpcy5jYW1lcmFQaXZvdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFQlVHOiB0ZXN0UGl2b3QucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFQlVHOiB0ZXN0UGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMuY2FtZXJhUGl2b3Q7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgdG9nZ2xlUGxheWVyQ2FtZXJhKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLmZpcnN0UGVyc29uID0gIXRoaXMuZmlyc3RQZXJzb247XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGZpcnN0UGVyc29uQ2FtZXJhKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlQ2FtZXJhID09PSB0cnVlICYmIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0gIT0gbnVsbCAmJiB0aGlzLm1fc3RhbmRhcmRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mb2xsb3dUYXJnZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhUGl2b3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBCb29tXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLm1fZmlyc3RQZXJzb25PZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkZyb21FdWxlclRvUmVmKDAsIDAsIDAsIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ubG9va0F0KHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHJpdmF0ZSBzbW9vdGhEZWx0YVRpbWU6bnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgdGhpcmRQZXJzb25DYW1lcmEoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVDYW1lcmEgPT09IHRydWUgJiYgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybSAhPSBudWxsICYmIHRoaXMubV9zdGFuZGFyZENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvbGxvd1RhcmdldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6bnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtFRVAgRk9SIFJFRkVSRUNORVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IGNvbnN0IGRlbHRhRmFjdG9yOm51bWJlciA9IFVOSVRZLlN5c3RlbS5TbW9vdGhEZWx0YUZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiB0aGlzLnNtb290aERlbHRhVGltZSA9IGRlbHRhRmFjdG9yICogZGVsdGFUaW1lICsgKDEgLSBkZWx0YUZhY3RvcikgKiB0aGlzLnNtb290aERlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiBjb25zdCB0dXJuRGFtcGVuZXI6bnVtYmVyID0gKHRoaXMuc21vb3RoRGVsdGFUaW1lICogdGhpcy5yb3RhdGlvbkRhbXBpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQuc2V0KDAsIHRoaXMuZm9sbG93SGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24sIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5EYW1wZW5lcjpudW1iZXIgPSAoZGVsdGFUaW1lICogdGhpcy5yb3RhdGlvbkRhbXBpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnRhcmdldEV1bGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoKHRoaXMudGFyZ2V0RXVsZXJzLnggKyBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLnBpdGNoaW5nQW5nbGUpKSwgdGhpcy50YXJnZXRFdWxlcnMueSwgMCwgdGhpcy5jYW1lcmFSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZih0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy5jYW1lcmFSb3RhdGlvbiwgdHVybkRhbXBlbmVyLCB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBCb29tXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtZXJhQm9vbURpc3RhbmNlOm51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5taW5pbXVtRGlzdGFuY2UsIHRoaXMubWF4aW11bURpc3RhbmNlLCB0aGlzLm1fc3RhbmRhcmRDb250cm9sbGVyLmdldEdyYWRpZW50U3BlZWQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtLnBvc2l0aW9uLnNldCgwLCAwLCAtY2FtZXJhQm9vbURpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ubG9va0F0KHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICAqIEBjbGFzcyBWZWhpY2xlSW5wdXRDb250cm9sbGVyXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBJU3RlZXJpbmdXaGVlbERldmljZSB7XG4gICAgICAgIGRldmljZU5hbWU6c3RyaW5nO1xuICAgICAgICBmb3J3YXJkQnV0dG9uOm51bWJlcjtcbiAgICAgICAgYmFja3dhcmRCdXR0b246bnVtYmVyO1xuICAgICAgICBsZWZ0SGFuZEJyYWtlOm51bWJlcjtcbiAgICAgICAgcmlnaHRIYW5kQnJha2U6bnVtYmVyO1xuICAgICAgICBsZWZ0RG9udXRCb29zdDpudW1iZXI7XG4gICAgICAgIHJpZ2h0RG9udXRCb29zdDpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBjbGFzcyBWZWhpY2xlSW5wdXRDb250cm9sbGVyIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJEZWx0YVg6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJEZWx0YVk6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJNb3VzZVg6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJNb3VzZVk6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhY2tlcm1hblJhZGl1czpudW1iZXIgPSAwLjg1O1xuICAgICAgICBwcml2YXRlIHJlY292ZXJ5UmFkaXVzOm51bWJlciA9IDAuMjU7XG5cdFx0cHJpdmF0ZSB3YXlwb2ludFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgd2F5cG9pbnRDb3VudDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHdheXBvaW50SW5kZXg6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBub01vdmVtZW50VGltZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJldmVyc2VGaXhNb2RlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWNvdmVyeUZpeE1vZGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIG5leHRUYXJnZXRTcGVlZDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHByZXZUYXJnZXRTcGVlZDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHZlaGljbGVSZXNldENoZWNrOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcmFuZG9tU2tpbGxGYWN0b3I6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzaG93Q2hhc2VSYWJiaXQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNob3dTZW5zb3JMaW5lczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc3RlZXJpbmdXaGVlbE1vZGU6bnVtYmVyID0gLTE7XG4gICAgICAgIHByaXZhdGUgcmFiYml0VHJhY2tlckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhYmJpdFRyYWNrZXJDb2xvcjpCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLDEsMSk7XG4gICAgICAgIHByaXZhdGUgZ3JlZW5UcmFja2luZ0NvbG9yOkJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDAsMSwwKTtcbiAgICAgICAgcHJpdmF0ZSByZWRUcmFja2luZ0NvbG9yOkJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDEsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsb2NhbFRhcmdldFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGF2b2lkUG9zaXRpb25PZmZzZXQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgYXZvaWRhbmNlTGVycDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGF2b2lkYW5jZVRpbWVyOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgYXZvaWRhbmNlVmFsdWU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByYW5kb21UdXJuaW5nOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcmFuZG9tQm9vc3Rpbmc6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByYW5kb21EaXN0YW5jZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RDaGVja3BvaW50Om51bWJlciA9IC0xO1xuXG4gICAgICAgIHByaXZhdGUgbWFpbkNlbnRlclNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG1haW5SaWdodFNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG1haW5MZWZ0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYW5nbGVSaWdodFNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGFuZ2xlTGVmdFNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNpZGVSaWdodFNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNpZGVMZWZ0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRTZW5zb3JMaW5lOlVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzaWRld2F5c09mZnNldFZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIGJhY2tCdW1wZXJFZGdlVmVjdG9yOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgc2Vuc29yU3RhcnRQb3M6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBzZW5zb3JQb2ludFBvczpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHNlbnNvckFuZ2xlUG9zOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgcnNpZGVTdGFydFBvczpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHJzaWRlUG9pbnRQb3M6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBsc2lkZVN0YXJ0UG9zOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgbHNpZGVQb2ludFBvczpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHRlbXBTY2FsZVZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHJiYWNrU3RhcnRQb3M6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSByYmFja1BvaW50UG9zOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgbGJhY2tTdGFydFBvczpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIGxiYWNrUG9pbnRQb3M6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSB0cmFja1ZlaGljbGVQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHRyYWNrUmFiYml0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcblxuICAgICAgICAvLyBQdWJsaWMgUHJvcGVydGllc1xuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyRGVsdGFYKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMucGxheWVyRGVsdGFYIH07XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJEZWx0YVkoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5wbGF5ZXJEZWx0YVkgfTtcbiAgICAgICAgcHVibGljIGdldFBsYXllck1vdXNlWCgpOm51bWJlciB7IHJldHVybiB0aGlzLnBsYXllck1vdXNlWCB9O1xuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyTW91c2VZKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMucGxheWVyTW91c2VZIH07XG4gICAgICAgIHB1YmxpYyBnZXRXYXlwb2ludEluZGV4KCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMud2F5cG9pbnRJbmRleCB9O1xuICAgICAgICBwdWJsaWMgZ2V0Q2hhc2VSYWJiaXRNZXNoKCk6QkFCWUxPTi5NZXNoIHsgcmV0dXJuIHRoaXMubV9jaGFzZVJhYmJpdE1lc2ggfTtcbiAgICAgICAgcHVibGljIHJlc2V0Q2hhc2VSYWJiaXRNZXNoKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2hhc2VQb2ludE1lc2goKTpCQUJZTE9OLk1lc2ggeyByZXR1cm4gdGhpcy5tX2NoYXNlUG9pbnRNZXNoIH07XG4gICAgICAgIHB1YmxpYyByZXNldENoYXNlUG9pbnRNZXNoKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUG9pbnRNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VQb2ludE1lc2gucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZW5hYmxlSW5wdXQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcmVzZXRUaW1pbmc6bnVtYmVyID0gMy4wO1xuICAgICAgICBwdWJsaWMgcGxheWVyTnVtYmVyOlVOSVRZLlBsYXllck51bWJlciA9IFVOSVRZLlBsYXllck51bWJlci5PbmU7XG5cbiAgICAgICAgcHVibGljIHBlZGVsRm9yd2FyZDpudW1iZXIgPSA3OyAvLyBHZW5lcmljIEJ1dHRvbiA3IChGb290IFBlZGFsKVxuICAgICAgICBwdWJsaWMgdHJpZ2dlckZvcndhcmQ6bnVtYmVyID0gVU5JVFkuWGJveDM2MFRyaWdnZXIuUmlnaHQ7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZEZvcmF3cmQ6bnVtYmVyID0gVU5JVFkuVXNlcklucHV0S2V5Llc7XG4gICAgICAgIHB1YmxpYyBhdXhLZXlib2FyZEZvcmF3cmQ6bnVtYmVyID0gVU5JVFkuVXNlcklucHV0S2V5LlVwQXJyb3c7XG5cbiAgICAgICAgcHVibGljIHBlZGFsQmFja3dhcmQ6bnVtYmVyID0gNjsgLy8gR2VuZXJpYyBCdXR0b24gNiAoRm9vdCBQZWRhbClcbiAgICAgICAgcHVibGljIHRyaWdnZXJCYWNrd2FyZHM6bnVtYmVyID0gVU5JVFkuWGJveDM2MFRyaWdnZXIuTGVmdDtcbiAgICAgICAgcHVibGljIGtleWJvYXJkQmFja3dhcmRzOm51bWJlciA9IFVOSVRZLlVzZXJJbnB1dEtleS5TO1xuICAgICAgICBwdWJsaWMgYXV4S2V5Ym9hcmRCYWNrd2FyZHM6bnVtYmVyID0gVU5JVFkuVXNlcklucHV0S2V5LkRvd25BcnJvdztcblxuICAgICAgICBwdWJsaWMgYnV0dG9uSGFuZGJyYWtlOm51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5YO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRIYW5kYnJha2U6bnVtYmVyID0gVU5JVFkuVXNlcklucHV0S2V5LlNwYWNlQmFyO1xuICAgICAgICBwdWJsaWMgbGVmdFdoZWVsSGFuZGJyYWtlOm51bWJlciA9IDQ7IC8vIEdlbmVyaWMgQnV0dG9uIDQgKEhhbmQgUGFkZGxlKVxuICAgICAgICBwdWJsaWMgcmlnaHRXaGVlbEhhbmRicmFrZTpudW1iZXIgPSA1OyAvLyBHZW5lcmljIEJ1dHRvbiA1IChIYW5kIFBhZGRsZSlcbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyBidXR0b25Eb251dDpudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uQjtcbiAgICAgICAgcHVibGljIGtleWJvYXJkRG9udXQ6bnVtYmVyID0gVU5JVFkuVXNlcklucHV0S2V5LlNoaWZ0O1xuICAgICAgICBwdWJsaWMgbGVmdFdoZWVsRG9udXQ6bnVtYmVyID0gMTA7IC8vIEdlbmVyaWMgQnV0dG9uIDEwIChXaGVlbCBCdXR0b24pXG4gICAgICAgIHB1YmxpYyByaWdodFdoZWVsRG9udXQ6bnVtYmVyID0gMTE7IC8vIEdlbmVyaWMgQnV0dG9uIDExIChXaGVlbCBCdXR0b24pXG5cbiAgICAgICAgLy8gQXV0byBQaWxvdCBQcm9wZXJ0aWVzXG4gICAgICAgIHB1YmxpYyByYWNlTGluZU5vZGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIG1pbkxvb2tBaGVhZDpudW1iZXIgPSA1O1xuICAgICAgICBwdWJsaWMgbWF4TG9va0FoZWFkOm51bWJlciA9IDUwO1xuICAgICAgICBwdWJsaWMgZHJpdmVyU2tpbGxMZXZlbDpudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgY2hhc2VSYWJiaXRTcGVlZDpudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyB0aHJvdHRsZVNlbnNpdGl2aXR5Om51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBzdGVlcmluZ1NlbnNpdGl2aXR5Om51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBicmFraW5nU2Vuc2l0aXZpdHk6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGJyYWtpbmdUdXJuQW5nbGU6bnVtYmVyID0gMTU7XG4gICAgICAgIHB1YmxpYyBicmFraW5nU3BlZWRMaW1pdDpudW1iZXIgPSA5MDtcbiAgICAgICAgcHVibGljIHNraWRkaW5nU3BlZWRMaW1pdDpudW1iZXIgPSAxMDA7XG4gICAgICAgIHB1YmxpYyBsaW5lYXJEYW1wZW5Gb3JjZTpudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBkcml2ZVNwZWVkTXVsdGlwbGllcjpudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBkcml2ZUxpbmVEaXN0YW5jZTpudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyByZXNldE1vdmluZ1RpbWVvdXQ6bnVtYmVyID0gMztcbiAgICAgICAgcHVibGljIHJldmVyc2VUaHJvdHRsZVRpbWU6bnVtYmVyID0gMztcbiAgICAgICAgcHVibGljIG1heFJhY2VUcmFja1NwZWVkOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyB0cmFja01hbmFnZXJJZGVudGl0eTpzdHJpbmcgPSBcIlRyYWNrTWFuYWdlclwiO1xuXG4gICAgICAgIC8vIEF1dG8gUGlsb3QgQXZvaWQgU2Vuc29yc1xuICAgICAgICBwdWJsaWMgdmVoaWNsZVRhZzpzdHJpbmcgPSBcIlZlaGljbGVcIjtcbiAgICAgICAgcHVibGljIG9ic3RhY2xlVGFnOnN0cmluZyA9IFwiT2JzdGFjbGVcIjtcbiAgICAgICAgcHVibGljIHNlbnNvckxlbmd0aDpudW1iZXIgPSA4O1xuICAgICAgICBwdWJsaWMgc3BhY2VyV2lkdGhzOm51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyBhbmdsZUZhY3RvcnM6bnVtYmVyID0gMS41O1xuICAgICAgICBwdWJsaWMgaW5pdGlhbE9mZnNldFg6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGluaXRpYWxPZmZzZXRZOm51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIGluaXRpYWxPZmZzZXRaOm51bWJlciA9IDI7XG4gICAgICAgIHB1YmxpYyBzaWRld2F5c0xlbmd0aDpudW1iZXIgPSAxLjU7XG4gICAgICAgIHB1YmxpYyBzaWRld2F5c09mZnNldDpudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBiYWNrQnVtcGVyRWRnZTpudW1iZXIgPSAyLjU7XG4gICAgICAgIHB1YmxpYyBwb3dlckJvb3N0aW5nOm51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIHdvbmRlckRpc3RhbmNlOm51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIGF2b2lkYW5jZUZhY3RvcjpudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBhdm9pZGFuY2VTcGVlZDpudW1iZXIgPSAzLjA7XG4gICAgICAgIHB1YmxpYyBhdm9pZGFuY2VUaW1lb3V0Om51bWJlciA9IDMuMDtcbiAgICAgICAgcHVibGljIGF2b2lkYW5jZURpc3RhbmNlOm51bWJlciA9IDIuMDtcblxuICAgICAgICAvLyBBdXRvIFBpbG90IFJldmVyc2UgT3B0aW9uc1xuICAgICAgICBwcml2YXRlIHJldmVyc2luZ0ZsYWc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJldmVyc2luZ1RpbWU6bnVtYmVyID0gMC4wO1xuICAgICAgICBwcml2YXRlIHJldmVyc2luZ1dhaXQ6bnVtYmVyID0gMi4wO1xuICAgICAgICBwcml2YXRlIHJldmVyc2luZ0ZvcjpudW1iZXIgPSAxLjU7XG5cbiAgICAgICAgLy8gVmVoaWNsZSBEcml2ZSBQcm9wZXJ0aWVzXG4gICAgICAgIHByb3RlY3RlZCBtX2NoYXNlUG9pbnRNZXNoOkJBQllMT04uTWVzaCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NoYXNlUmFiYml0TWVzaDpCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaXJjdWl0SW50ZXJmYWNlczpQUk9KRUNULklUcmFja05vZGVbXSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NpcmN1aXRSYWNlTGluZV8xOlBST0pFQ1QuSUNvbnRyb2xQb2ludFtdID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fY2lyY3VpdFJhY2VMaW5lXzI6UFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaXJjdWl0UmFjZUxpbmVfMzpQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NpcmN1aXRSYWNlTGluZV80OlBST0pFQ1QuSUNvbnRyb2xQb2ludFtdID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fY2lyY3VpdFJhY2VMaW5lXzU6UFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9yaWdpZGJvZHlQaHlzaWNzOlVOSVRZLlJpZ2lkYm9keVBoeXNpY3MgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaGVja3BvaW50TWFuYWdlcjpQUk9KRUNULkNoZWNrcG9pbnRNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fc3RhbmRhcmRDYXJDb250cm9sbGVyOlBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTp2b2lkIHsgdGhpcy5hd2FrZVZlaGljbGVDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6dm9pZCB7IHRoaXMuaW5pdFZlaGljbGVDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpIDp2b2lkIHsgIHRoaXMudXBkYXRlVmVoaWNsZUNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95VmVoaWNsZUNvbnRyb2xsZXIoKTsgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFByb3RlY3RlZCBDaGFyYWN0ZXIgTW92ZW1lbnQgU3RhdGUgRnVuY3Rpb25zIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZVZlaGljbGVDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVJbnB1dCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJlbmFibGVJbnB1dFwiLCB0aGlzLmVuYWJsZUlucHV0KTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRUaW1pbmcgPSB0aGlzLmdldFByb3BlcnR5KFwicmVzZXRUaW1pbmdcIiwgdGhpcy5yZXNldFRpbWluZyk7XG4gICAgICAgICAgICB0aGlzLnBsYXllck51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5ZXJOdW1iZXJcIiwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgdGhpcy5hY2tlcm1hblJhZGl1cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhY2tlcm1hblJhZGl1c1wiLCB0aGlzLmFja2VybWFuUmFkaXVzKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlSYWRpdXMgPSB0aGlzLmdldFByb3BlcnR5KFwicmVjb3ZlcnlSYWRpdXNcIiwgdGhpcy5yZWNvdmVyeVJhZGl1cyk7XG4gICAgICAgICAgICB0aGlzLnNob3dDaGFzZVJhYmJpdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaG93Q2hhc2VSYWJiaXRcIiwgdGhpcy5zaG93Q2hhc2VSYWJiaXQpO1xuICAgICAgICAgICAgdGhpcy5zaG93U2Vuc29yTGluZXMgPSB0aGlzLmdldFByb3BlcnR5KFwic2hvd1NlbnNvckxpbmVzXCIsIHRoaXMuc2hvd1NlbnNvckxpbmVzKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLm1pbkxvb2tBaGVhZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5Mb29rQWhlYWRcIiwgdGhpcy5taW5Mb29rQWhlYWQpO1xuICAgICAgICAgICAgdGhpcy5tYXhMb29rQWhlYWQgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4TG9va0FoZWFkXCIsIHRoaXMubWF4TG9va0FoZWFkKTtcbiAgICAgICAgICAgIHRoaXMuZHJpdmVyU2tpbGxMZXZlbCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkcml2ZXJTa2lsbExldmVsXCIsIHRoaXMuZHJpdmVyU2tpbGxMZXZlbCk7XG4gICAgICAgICAgICB0aGlzLnRocm90dGxlU2Vuc2l0aXZpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwidGhyb3R0bGVTZW5zaXRpdml0eVwiLCB0aGlzLnRocm90dGxlU2Vuc2l0aXZpdHkpO1xuICAgICAgICAgICAgdGhpcy5zdGVlcmluZ1NlbnNpdGl2aXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0ZWVyaW5nU2Vuc2l0aXZpdHlcIiwgdGhpcy5zdGVlcmluZ1NlbnNpdGl2aXR5KTtcbiAgICAgICAgICAgIHRoaXMuYnJha2luZ1NlbnNpdGl2aXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJyYWtpbmdTZW5zaXRpdml0eVwiLCB0aGlzLmJyYWtpbmdTZW5zaXRpdml0eSk7XG4gICAgICAgICAgICB0aGlzLmJyYWtpbmdUdXJuQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwiYnJha2luZ1R1cm5BbmdsZVwiLCB0aGlzLmJyYWtpbmdUdXJuQW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5icmFraW5nU3BlZWRMaW1pdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJicmFraW5nU3BlZWRMaW1pdFwiLCB0aGlzLmJyYWtpbmdTcGVlZExpbWl0KTtcbiAgICAgICAgICAgIHRoaXMuc2tpZGRpbmdTcGVlZExpbWl0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNraWRkaW5nU3BlZWRMaW1pdFwiLCB0aGlzLnNraWRkaW5nU3BlZWRMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVhckRhbXBlbkZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxpbmVhckRhbXBlbkZvcmNlXCIsIHRoaXMubGluZWFyRGFtcGVuRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy5yZXNldE1vdmluZ1RpbWVvdXQgPSB0aGlzLmdldFByb3BlcnR5KFwicmVzZXRNb3ZpbmdUaW1lb3V0XCIsIHRoaXMucmVzZXRNb3ZpbmdUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMucmV2ZXJzZVRocm90dGxlVGltZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZXZlcnNlVGhyb3R0bGVUaW1lXCIsIHRoaXMucmV2ZXJzZVRocm90dGxlVGltZSk7XG4gICAgICAgICAgICB0aGlzLmRyaXZlU3BlZWRNdWx0aXBsaWVyID0gdGhpcy5nZXRQcm9wZXJ0eShcImRyaXZlU3BlZWRNdWx0aXBsaWVyXCIsIHRoaXMuZHJpdmVTcGVlZE11bHRpcGxpZXIpO1xuICAgICAgICAgICAgdGhpcy5kcml2ZUxpbmVEaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkcml2ZUxpbmVEaXN0YW5jZVwiLCB0aGlzLmRyaXZlTGluZURpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMubWF4UmFjZVRyYWNrU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4UmFjZVRyYWNrU3BlZWRcIiwgdGhpcy5tYXhSYWNlVHJhY2tTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLnRyYWNrTWFuYWdlcklkZW50aXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInRyYWNrTWFuYWdlcklkZW50aXR5XCIsIHRoaXMudHJhY2tNYW5hZ2VySWRlbnRpdHkpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMudmVoaWNsZVRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ2ZWhpY2xlVGFnXCIsIHRoaXMudmVoaWNsZVRhZyk7XG4gICAgICAgICAgICB0aGlzLm9ic3RhY2xlVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcIm9ic3RhY2xlVGFnXCIsIHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgdGhpcy5zZW5zb3JMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwic2Vuc29yTGVuZ3RoXCIsIHRoaXMuc2Vuc29yTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuc3BhY2VyV2lkdGhzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNwYWNlcldpZHRoc1wiLCB0aGlzLnNwYWNlcldpZHRocyk7XG4gICAgICAgICAgICB0aGlzLmFuZ2xlRmFjdG9ycyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbmdsZUZhY3RvcnNcIiwgdGhpcy5hbmdsZUZhY3RvcnMpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsT2Zmc2V0WCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpbml0aWFsT2Zmc2V0WFwiLCB0aGlzLmluaXRpYWxPZmZzZXRYKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbE9mZnNldFkgPSB0aGlzLmdldFByb3BlcnR5KFwiaW5pdGlhbE9mZnNldFlcIiwgdGhpcy5pbml0aWFsT2Zmc2V0WSk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxPZmZzZXRaID0gdGhpcy5nZXRQcm9wZXJ0eShcImluaXRpYWxPZmZzZXRaXCIsIHRoaXMuaW5pdGlhbE9mZnNldFopO1xuICAgICAgICAgICAgdGhpcy5zaWRld2F5c0xlbmd0aCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaWRld2F5c0xlbmd0aFwiLCB0aGlzLnNpZGV3YXlzTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuc2lkZXdheXNPZmZzZXQgPSB0aGlzLmdldFByb3BlcnR5KFwic2lkZXdheXNPZmZzZXRcIiwgdGhpcy5zaWRld2F5c09mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmJhY2tCdW1wZXJFZGdlID0gdGhpcy5nZXRQcm9wZXJ0eShcImJhY2tCdW1wZXJFZGdlXCIsIHRoaXMuYmFja0J1bXBlckVkZ2UpO1xuICAgICAgICAgICAgdGhpcy5wb3dlckJvb3N0aW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvd2VyQm9vc3RpbmdcIiwgdGhpcy5wb3dlckJvb3N0aW5nKTtcbiAgICAgICAgICAgIHRoaXMud29uZGVyRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwid29uZGVyRGlzdGFuY2VcIiwgdGhpcy53b25kZXJEaXN0YW5jZSk7XG4gICAgICAgICAgICB0aGlzLmF2b2lkYW5jZUZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdm9pZGFuY2VGYWN0b3JcIiwgdGhpcy5hdm9pZGFuY2VGYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5hdm9pZGFuY2VTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdm9pZGFuY2VTcGVlZFwiLCB0aGlzLmF2b2lkYW5jZVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlVGltZW91dCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdm9pZGFuY2VUaW1lb3V0XCIsIHRoaXMuYXZvaWRhbmNlVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLmF2b2lkYW5jZURpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImF2b2lkYW5jZURpc3RhbmNlXCIsIHRoaXMuYXZvaWRhbmNlRGlzdGFuY2UpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmFja2VybWFuUmFkaXVzIDw9IDApIHRoaXMuYWNrZXJtYW5SYWRpdXMgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVjb3ZlcnlSYWRpdXMgPD0gMCkgdGhpcy5yZWNvdmVyeVJhZGl1cyA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNldE1vdmluZ1RpbWVvdXQgPD0gMCkgdGhpcy5yZXNldE1vdmluZ1RpbWVvdXQgPSAzO1xuICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZVRocm90dGxlVGltZSA8PSAwKSB0aGlzLnJldmVyc2VUaHJvdHRsZVRpbWUgPSAzO1xuICAgICAgICAgICAgaWYgKHRoaXMudGhyb3R0bGVTZW5zaXRpdml0eSA8PSAwKSB0aGlzLnRocm90dGxlU2Vuc2l0aXZpdHkgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RlZXJpbmdTZW5zaXRpdml0eSA8PSAwKSB0aGlzLnN0ZWVyaW5nU2Vuc2l0aXZpdHkgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnJha2luZ1NlbnNpdGl2aXR5IDw9IDApIHRoaXMuYnJha2luZ1NlbnNpdGl2aXR5ID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmVhckRhbXBlbkZvcmNlIDw9IDApIHRoaXMubGluZWFyRGFtcGVuRm9yY2UgPSAwLjE7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmdsZUZhY3RvcnMgPD0gMCkgdGhpcy5hbmdsZUZhY3RvcnMgPSAxLjU7XG4gICAgICAgICAgICBpZiAodGhpcy5zZW5zb3JMZW5ndGggPD0gMCkgdGhpcy5zZW5zb3JMZW5ndGggPSA4O1xuICAgICAgICAgICAgaWYgKHRoaXMuc2lkZXdheXNMZW5ndGggPD0gMCkgdGhpcy5zaWRld2F5c0xlbmd0aCA9IDE7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuYnJha2luZ1NwZWVkTGltaXQgPD0gMCkgdGhpcy5icmFraW5nU3BlZWRMaW1pdCA9IDQwO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2tpZGRpbmdTcGVlZExpbWl0IDw9IDApIHRoaXMuc2tpZGRpbmdTcGVlZExpbWl0ID0gODA7XG4gICAgICAgICAgICBpZiAodGhpcy5kcml2ZVNwZWVkTXVsdGlwbGllciA8PSAxKSB0aGlzLmRyaXZlU3BlZWRNdWx0aXBsaWVyID0gNTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNrTWFuYWdlcklkZW50aXR5ID09IG51bGwgfHwgdGhpcy50cmFja01hbmFnZXJJZGVudGl0eSA9PT0gXCJcIikgdGhpcy50cmFja01hbmFnZXJJZGVudGl0eSA9IFwiVHJhY2tNYW5hZ2VyXCI7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgaW5pdGlhbFJhY2VMaW5lTm9kZTpudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiaW5pdGlhbFJhY2VMaW5lTm9kZVwiLCAxKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVOb2RlID0gKGluaXRpYWxSYWNlTGluZU5vZGUgLSAxKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCByYW5kb21pemVyOm51bWJlciA9IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKDEwLCAxNSkgKiAxMDAwO1xuICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLlNldEludGVydmFsKHJhbmRvbWl6ZXIsICgpID0+IHsgdGhpcy5yYW5kb21Ta2lsbEZhY3RvciA9IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKDEsIDIwKTsgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaW5pdFZlaGljbGVDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3JpZ2lkYm9keVBoeXNpY3MgPSB0aGlzLmdldENvbXBvbmVudChcIlVOSVRZLlJpZ2lkYm9keVBoeXNpY3NcIik7XG4gICAgICAgICAgICB0aGlzLm1fY2hlY2twb2ludE1hbmFnZXIgPSB0aGlzLmdldENvbXBvbmVudChcIlBST0pFQ1QuQ2hlY2twb2ludE1hbmFnZXJcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3JpZ2lkYm9keVBoeXNpY3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9yaWdpZGJvZHlQaHlzaWNzLm9uQ29sbGlzaW9uRW50ZXJPYnNlcnZhYmxlLmFkZCgobWVzaCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZzpzdHJpbmcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKG1lc2gpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSB0aGlzLnZlaGljbGVUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVOSVRZLlNjZW5lTWFuYWdlci5Db25zb2xlV2Fybih0aGlzLnRyYW5zZm9ybS5uYW1lLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBcIiBDQVIgQ09MTElTSU9OIEVOVEVSOiBcIiArIG1lc2gubmFtZSArIFwiIC0tLT4gVEFHOiBcIiArIHRhZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmlnaWRib2R5UGh5c2ljcy5vbkNvbGxpc2lvblN0YXlPYnNlcnZhYmxlLmFkZCgobWVzaCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZzpzdHJpbmcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKG1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gdGhpcy52ZWhpY2xlVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVU5JVFkuU2NlbmVNYW5hZ2VyLkNvbnNvbGVMb2codGhpcy50cmFuc2Zvcm0ubmFtZS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgXCIgQ0FSIENPTExJU0lPTiBTVEFZOiBcIiArIG1lc2gubmFtZSArIFwiIC0tLT4gVEFHOiBcIiArIHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmlnaWRib2R5UGh5c2ljcy5vbkNvbGxpc2lvbkV4aXRPYnNlcnZhYmxlLmFkZCgobWVzaCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZzpzdHJpbmcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKG1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gdGhpcy52ZWhpY2xlVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVU5JVFkuU2NlbmVNYW5hZ2VyLkNvbnNvbGVXYXJuKHRoaXMudHJhbnNmb3JtLm5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKSArIFwiIENBUiBDT0xMSVNJT04gRVhJVDogXCIgKyBtZXNoLm5hbWUgKyBcIiAtLS0+IFRBRzogXCIgKyB0YWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiTnVsbCByaWdpZGJvZHkgcGh5c2ljcyBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBTdGFuZGFyZCBDYXIgQ29udHJvbGxlclxuICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICAvL2lmICh0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIucGxheVZlaGljbGVTb3VuZHMgPSB0cnVlO1xuICAgICAgICAgICAgLy99IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJOdWxsIHN0YW5kYXJkIGNhciBjb250cm9sbGVyIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAvLyBHZXQgUmFjZSBUcmFjayBNYW5hZ2VyIFdheXBvaW50c1xuICAgICAgICAgICAgY29uc3Qgd2F5cG9pbnRzVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1Ob2RlKHRoaXMuc2NlbmUsIHRoaXMudHJhY2tNYW5hZ2VySWRlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHdheXBvaW50c1RyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFjZVRyYWNrTWFuYWdlcjpQUk9KRUNULlJhY2VUcmFja01hbmFnZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh3YXlwb2ludHNUcmFuc2Zvcm0sIFwiUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChyYWNlVHJhY2tNYW5hZ2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXlwb2ludENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXlwb2ludEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzID0gcmFjZVRyYWNrTWFuYWdlci5nZXRUcmFja05vZGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfMSA9IHJhY2VUcmFja01hbmFnZXIuZ2V0Q29udHJvbFBvaW50cygwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8yID0gcmFjZVRyYWNrTWFuYWdlci5nZXRDb250cm9sUG9pbnRzKDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzMgPSByYWNlVHJhY2tNYW5hZ2VyLmdldENvbnRyb2xQb2ludHMoMik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfNCA9IHJhY2VUcmFja01hbmFnZXIuZ2V0Q29udHJvbFBvaW50cygzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV81ID0gcmFjZVRyYWNrTWFuYWdlci5nZXRDb250cm9sUG9pbnRzKDQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzICE9IG51bGwgJiYgdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRDb3VudCA9IHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWwgdG8gbG9jYXRlIHJhY2UgdHJhY2sgbWFuYWdlciBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWwgdG8gbG9jYXRlIHJhY2UgdHJhY2sgbWFuYWdlciAnXCIgKyB0aGlzLnRyYWNrTWFuYWdlcklkZW50aXR5ICsgXCInIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlVmVoaWNsZUNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVJbnB1dCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllck51bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUF1dG9QaWxvdERyaXZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYW51YWxJbnB1dERyaXZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gVmFsaWRhdGUgVmVoaWNsZSBGbGlwcGVkIFVwcmlnaHRcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2V0VGltaW5nID4gMCAmJiB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lVGltZTpudW1iZXIgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0R2FtZVRpbWUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0udXAueSA+IDAuNSB8fCB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmdldEFic29sdXRlU3BlZWQoKSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlUmVzZXRDaGVjayA9IGdhbWVUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVRpbWUgPiAodGhpcy52ZWhpY2xlUmVzZXRDaGVjayArIHRoaXMucmVzZXRUaW1pbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBSZXNldCBUbyBMYXN0IENoZWNrIFBvaW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZEluUGxhY2UoQkFCWUxPTi5WZWN0b3IzLlVwKCkuc2NhbGUoMC41KSk7XG4gICAgICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybS5mb3J3YXJkLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVNYW51YWxJbnB1dERyaXZlKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJEZWx0YVggPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KFVOSVRZLlVzZXJJbnB1dEF4aXMuSG9yaXpvbnRhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyRGVsdGFZID0gVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChVTklUWS5Vc2VySW5wdXRBeGlzLlZlcnRpY2FsLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVggPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KFVOSVRZLlVzZXJJbnB1dEF4aXMuTW91c2VYLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVkgPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KFVOSVRZLlVzZXJJbnB1dEF4aXMuTW91c2VZLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgLy8gR2V0IEJ1dHRvbiBUcmlnZ2Vyc1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1eEZvcndhcmRLZXlib2FyZDpib29sZWFuID0gVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldEtleWJvYXJkSW5wdXQodGhpcy5hdXhLZXlib2FyZEZvcmF3cmQpOyAvLyBQbGF5ZXIgT25lIE9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBmb3J3YXJkS2V5Ym9hcmQ6Ym9vbGVhbiA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRGb3Jhd3JkKTsgLy8gUGxheWVyIE9uZSBPbmx5XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yd2FyZFRyaWdnZXI6bnVtYmVyID0gVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRUcmlnZ2VySW5wdXQodGhpcy50cmlnZ2VyRm9yd2FyZCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRQZWRhbDpib29sZWFuID0gVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLnBlZGVsRm9yd2FyZCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1eEJhY2t3YXJkS2V5Ym9hcmQ6Ym9vbGVhbiA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMuYXV4S2V5Ym9hcmRCYWNrd2FyZHMpOyAvLyBQbGF5ZXIgT25lIE9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBiYWNrd2FyZEtleWJvYXJkOmJvb2xlYW4gPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkQmFja3dhcmRzKTsgLy8gUGxheWVyIE9uZSBPbmx5XG4gICAgICAgICAgICAgICAgY29uc3QgYmFja3dhcmRUcmlnZ2VyOm51bWJlciA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkVHJpZ2dlcklucHV0KHRoaXMudHJpZ2dlckJhY2t3YXJkcywgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhY2t3YXJkUGVkYWw6Ym9vbGVhbiA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5wZWRhbEJhY2t3YXJkLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGJyYWtlS2V5Ym9hcmQ6Ym9vbGVhbiA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRIYW5kYnJha2UpOyAvLyBQbGF5ZXIgT25lIE9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kYnJha2VCdXR0b246Ym9vbGVhbiA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5idXR0b25IYW5kYnJha2UsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kYnJha2VXaGVlbF9MOmJvb2xlYW4gPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMubGVmdFdoZWVsSGFuZGJyYWtlLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGJyYWtlV2hlZWxfUjpib29sZWFuID0gVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLnJpZ2h0V2hlZWxIYW5kYnJha2UsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb251dEtleWJvYXJkOmJvb2xlYW4gPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkRG9udXQpOyAvLyBQbGF5ZXIgT25lIE9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBkb251dEJ1dHRvbjpib29sZWFuID0gVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmJ1dHRvbkRvbnV0LCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9udXRXaGVlbF9MOmJvb2xlYW4gPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMubGVmdFdoZWVsRG9udXQsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb251dFdoZWVsX1I6Ym9vbGVhbiA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5yaWdodFdoZWVsRG9udXQsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBQbGF5ZXIgTW92ZW1lbnRcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyTW92ZW1lbnQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyU3RlZXJpbmc6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVySGFuZGJyYWtlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyRG9udXRzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgd2hlZWxJbnB1dDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gUHJpbWFyeSBBY2NlbGVyYXR0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGZvcndhcmRUcmlnZ2VyID4gMC4yKSBwbGF5ZXJNb3ZlbWVudCA9IGZvcndhcmRUcmlnZ2VyO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvcndhcmRQZWRhbCA9PT0gdHJ1ZSkgeyBwbGF5ZXJNb3ZlbWVudCA9IDE7IHdoZWVsSW5wdXQgPSB0cnVlOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wbGF5ZXJOdW1iZXIgPT09IFVOSVRZLlBsYXllck51bWJlci5PbmUgJiYgKGZvcndhcmRLZXlib2FyZCA9PT0gdHJ1ZSB8fCBhdXhGb3J3YXJkS2V5Ym9hcmQgPT09IHRydWUpKSBwbGF5ZXJNb3ZlbWVudCA9IDE7XG4gICAgICAgICAgICAgICAgLy8gQnJha2luZyBUYWtlcyBQcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgaWYgKGJhY2t3YXJkVHJpZ2dlciA+IDAuMikgcGxheWVyTW92ZW1lbnQgPSAtYmFja3dhcmRUcmlnZ2VyO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJhY2t3YXJkUGVkYWwgPT09IHRydWUpIHsgcGxheWVyTW92ZW1lbnQgPSAtMTsgd2hlZWxJbnB1dCA9IHRydWU7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllck51bWJlciA9PT0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSAmJiAoYmFja3dhcmRLZXlib2FyZCA9PT0gdHJ1ZSB8fCBhdXhCYWNrd2FyZEtleWJvYXJkID09PSB0cnVlKSkgcGxheWVyTW92ZW1lbnQgPSAtMTtcbiAgICAgICAgICAgICAgICAvLyBJbmNsdWRlcyBBRCBBbmQgQXJyb3cgS2V5c1xuICAgICAgICAgICAgICAgIHBsYXllclN0ZWVyaW5nID0gdGhpcy5wbGF5ZXJEZWx0YVg7IFxuICAgICAgICAgICAgICAgIC8vIFB1bGwgSGFyZCBIYW5kIEJyYWtlIExldmVyXG4gICAgICAgICAgICAgICAgcGxheWVySGFuZGJyYWtlID0gKGhhbmRicmFrZUtleWJvYXJkID09PSB0cnVlIHx8IGhhbmRicmFrZUJ1dHRvbiA9PT0gdHJ1ZSB8fCBoYW5kYnJha2VXaGVlbF9MID09PSB0cnVlIHx8IGhhbmRicmFrZVdoZWVsX1IgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIFByZXNzIEJ1cm5vdXQgRG9udXQgQnV0dG9uXG4gICAgICAgICAgICAgICAgcGxheWVyRG9udXRzID0gKGRvbnV0S2V5Ym9hcmQgPT09IHRydWUgfHwgZG9udXRCdXR0b24gPT09IHRydWUgfHwgZG9udXRXaGVlbF9MID09PSB0cnVlIHx8IGRvbnV0V2hlZWxfUiA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgU3RlZXJpbmcgV2hlZWwgTW9kZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0ZWVyaW5nV2hlZWxNb2RlID09PSAtMSAmJiBVTklUWS5Vc2VySW5wdXRPcHRpb25zLlN1cHBvcnRlZElucHV0RGV2aWNlcyAhPSBudWxsICYmIFVOSVRZLlVzZXJJbnB1dE9wdGlvbnMuU3VwcG9ydGVkSW5wdXREZXZpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZXBhZDpCQUJZTE9OLkdhbWVwYWQgPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZCh0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lcGFkICE9IG51bGwgJiYgZ2FtZXBhZC5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRTdXBwb3J0ZWREZXZpY2U6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IFVOSVRZLlVzZXJJbnB1dE9wdGlvbnMuU3VwcG9ydGVkSW5wdXREZXZpY2VzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsOklTdGVlcmluZ1doZWVsRGV2aWNlID0gVU5JVFkuVXNlcklucHV0T3B0aW9ucy5TdXBwb3J0ZWRJbnB1dERldmljZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lcGFkLmlkLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih3aGVlbC5kZXZpY2VOYW1lLnRvTG93ZXJDYXNlKCkpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsLmZvcndhcmRCdXR0b24gPiAtMSkgdGhpcy5wZWRlbEZvcndhcmQgPSB3aGVlbC5mb3J3YXJkQnV0dG9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwuYmFja3dhcmRCdXR0b24gPiAtMSkgdGhpcy5wZWRhbEJhY2t3YXJkID0gd2hlZWwuYmFja3dhcmRCdXR0b247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbC5sZWZ0SGFuZEJyYWtlID4gLTEpIHRoaXMubGVmdFdoZWVsSGFuZGJyYWtlID0gd2hlZWwubGVmdEhhbmRCcmFrZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsLnJpZ2h0SGFuZEJyYWtlID4gLTEpIHRoaXMucmlnaHRXaGVlbEhhbmRicmFrZSA9IHdoZWVsLnJpZ2h0SGFuZEJyYWtlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwubGVmdERvbnV0Qm9vc3QgPiAtMSkgdGhpcy5sZWZ0V2hlZWxEb251dCA9IHdoZWVsLmxlZnREb251dEJvb3N0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwucmlnaHREb251dEJvb3N0ID4gLTEpIHRoaXMucmlnaHRXaGVlbERvbnV0ID0gd2hlZWwucmlnaHREb251dEJvb3N0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFN1cHBvcnRlZERldmljZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihnYW1lcGFkLmlkICsgXCIgc3RlZXJpbmcgd2hlZWwgY29udHJvbHMgYXR0YWNoZWQgdG86IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbE1vZGUgPSAoZm91bmRTdXBwb3J0ZWREZXZpY2UgPT09IHRydWUpID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRHJpdmUgU3RhbmRhcmQgQ2FyIENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmFja2VybWFuVHVybkZhY3RvciA9ICh3aGVlbElucHV0ID09PSB0cnVlKSA/IHRoaXMuYWNrZXJtYW5SYWRpdXMgOiAxLjA7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci50aHJvdHRsZUVuZ2luZVNwZWVkID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLnRocm90dGxlQnJha2luZ0ZvcmNlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmRyaXZlKHBsYXllck1vdmVtZW50LCBwbGF5ZXJTdGVlcmluZywgcGxheWVySGFuZGJyYWtlLCBwbGF5ZXJEb251dHMsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVBdXRvUGlsb3REcml2ZSgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVUaW1lOm51bWJlciA9IHRoaXMuZ2V0R2FtZVRpbWUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6bnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1Qb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLnRyYW5zZm9ybS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWNlTGluZU5vZGUgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLnJhY2VMaW5lTm9kZSwgMCwgNCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVJhYmJpdE1lc2ggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhYmJpdFwiLCB7IHNlZ21lbnRzOiAyNCwgZGlhbWV0ZXI6IDEgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVJhYmJpdE1lc2guY2hlY2tDb2xsaXNpb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVJhYmJpdE1lc2gucmVjZWl2ZVNoYWRvd3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC52aXNpYmlsaXR5ID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Q2hhc2VSYWJiaXRNZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VSYWJiaXRNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVJhYmJpdE1lc2guaXNWaXNpYmxlID09PSB0cnVlICYmIHRoaXMuc2hvd0NoYXNlUmFiYml0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaC5pc1Zpc2libGUgPT09IGZhbHNlICYmIHRoaXMuc2hvd0NoYXNlUmFiYml0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVBvaW50TWVzaCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludFwiLCB7IHNpemU6IDAuOSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VQb2ludE1lc2gucmVjZWl2ZVNoYWRvd3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLnZpc2liaWxpdHkgPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldENoYXNlUG9pbnRNZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VQb2ludE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUG9pbnRNZXNoLmlzVmlzaWJsZSA9PT0gdHJ1ZSAmJiB0aGlzLnNob3dDaGFzZVJhYmJpdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUG9pbnRNZXNoLmlzVmlzaWJsZSA9PT0gZmFsc2UgJiYgdGhpcy5zaG93Q2hhc2VSYWJiaXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIEF2b2lkYW5jZSBUaW1lclxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXZvaWRhbmNlVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlVGltZXIgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hdm9pZGFuY2VUaW1lciA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF2b2lkYW5jZVRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlVmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gU2Vuc29yIFVwZGF0ZSBTeXN0ZW1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCB0YWduYW1lOnN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCByYXljYXN0OlVOSVRZLlJheWNhc3RIaXRSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBhdm9pZGFuY2U6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnNpZGV3YXlzT2Zmc2V0VmVjdG9yLnNldCgwLDAsLXRoaXMuc2lkZXdheXNPZmZzZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja0J1bXBlckVkZ2VWZWN0b3Iuc2V0KDAsMCwtdGhpcy5iYWNrQnVtcGVyRWRnZSk7XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIFNldHVwIE1haW4gU2Vuc29yIFN0YXJ0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yU3RhcnRQb3MuY29weUZyb20odHJhbnNmb3JtUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WSwgdGhpcy5zZW5zb3JTdGFydFBvcylcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5mb3J3YXJkLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WiwgdGhpcy5zZW5zb3JTdGFydFBvcylcbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBNYWluIFNlbnNvciBQb2ludFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yUG9pbnRQb3MuY29weUZyb20odGhpcy5zZW5zb3JTdGFydFBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uZm9yd2FyZC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuc2Vuc29yTGVuZ3RoLCB0aGlzLnNlbnNvclBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvckFuZ2xlUG9zLmNvcHlGcm9tKHRoaXMuc2Vuc29yUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSaWdodCBTaWRlIFNlbnNvciBTdGFydFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnJzaWRlU3RhcnRQb3MsIHRoaXMuc2lkZXdheXNPZmZzZXRWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WSwgdGhpcy5yc2lkZVN0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WCwgdGhpcy5yc2lkZVN0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIC8vIFNldHVwIFJpZ2h0IFNpZGUgU2Vuc29yIFBvaW50XG4gICAgICAgICAgICAgICAgdGhpcy5yc2lkZVBvaW50UG9zLmNvcHlGcm9tKHRoaXMucnNpZGVTdGFydFBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZih0aGlzLnNpZGV3YXlzTGVuZ3RoLCB0aGlzLnJzaWRlUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSaWdodCBCYWNrIFNlbnNvciBTdGFydFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnJiYWNrU3RhcnRQb3MsIHRoaXMuYmFja0J1bXBlckVkZ2VWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WSwgdGhpcy5yYmFja1N0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WCwgdGhpcy5yYmFja1N0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIC8vIFNldHVwIFJpZ2h0IEJhY2sgU2Vuc29yIFBvaW50XG4gICAgICAgICAgICAgICAgdGhpcy5yYmFja1BvaW50UG9zLmNvcHlGcm9tKHRoaXMucmJhY2tTdGFydFBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZih0aGlzLnNpZGV3YXlzTGVuZ3RoLCB0aGlzLnJiYWNrUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IFNpZGUgU2Vuc29yIFN0YXJ0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMubHNpZGVTdGFydFBvcywgdGhpcy5zaWRld2F5c09mZnNldFZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXAuc2NhbGVBbmRBZGRUb1JlZih0aGlzLmluaXRpYWxPZmZzZXRZLCB0aGlzLmxzaWRlU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZigtdGhpcy5pbml0aWFsT2Zmc2V0WCwgdGhpcy5sc2lkZVN0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIC8vIFNldHVwIExlZnQgU2lkZSBTZW5zb3IgUG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLmxzaWRlUG9pbnRQb3MuY29weUZyb20odGhpcy5sc2lkZVN0YXJ0UG9zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZUFuZEFkZFRvUmVmKC10aGlzLnNpZGV3YXlzTGVuZ3RoLCB0aGlzLmxzaWRlUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IEJhY2sgU2Vuc29yIFN0YXJ0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMubGJhY2tTdGFydFBvcywgdGhpcy5iYWNrQnVtcGVyRWRnZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXAuc2NhbGVBbmRBZGRUb1JlZih0aGlzLmluaXRpYWxPZmZzZXRZLCB0aGlzLmxiYWNrU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZigtdGhpcy5pbml0aWFsT2Zmc2V0WCwgdGhpcy5sYmFja1N0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIC8vIFNldHVwIExlZnQgQmFjayBTZW5zb3IgUG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLmxiYWNrUG9pbnRQb3MuY29weUZyb20odGhpcy5sYmFja1N0YXJ0UG9zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZUFuZEFkZFRvUmVmKC10aGlzLnNpZGV3YXlzTGVuZ3RoLCB0aGlzLmxiYWNrUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTYXZlIEluaXRpYWwgU3RhcnQgUG9pbnRcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RTZW5zb3JTdGFydFBvczpCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLnNlbnNvclN0YXJ0UG9zLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RTZW5zb3JQb2ludFBvczpCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLnNlbnNvclBvaW50UG9zLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIE1haW4gUmlnaHQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBtYWluUmlnaHRTZW5zb3JDb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZVRvUmVmKHRoaXMuc3BhY2VyV2lkdGhzLCB0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JTdGFydFBvcy5hZGRJblBsYWNlKHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvclBvaW50UG9zLmFkZEluUGxhY2UodGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluUmlnaHRTZW5zb3JDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSAtPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1haW5SaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5tYWluUmlnaHRTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5NYWluUmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvclBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gQW5nbGUgUmlnaHQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBhbmdsZVJpZ2h0U2Vuc29yQ29udGFjdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVUb1JlZigodGhpcy5zcGFjZXJXaWR0aHMgKiAyKSAqIHRoaXMuYW5nbGVGYWN0b3JzLCB0aGlzLnRlbXBTY2FsZVZlY3Rvcik7IFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yQW5nbGVQb3MuYWRkSW5QbGFjZSh0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGFnbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gVU5JVFkuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5zZW5zb3JTdGFydFBvcywgdGhpcy5zZW5zb3JBbmdsZVBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKG1haW5SaWdodFNlbnNvckNvbnRhY3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGVSaWdodFNlbnNvckNvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSAtPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuZ2xlUmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuYW5nbGVSaWdodFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkFuZ2xlUmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmdsZVJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zZW5zb3JTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5nbGVSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yQW5nbGVQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTaWRlIFJpZ2h0IExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBsZXQgc2lkZVJpZ2h0U2Vuc29yQ29udGFjdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGFnbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gVU5JVFkuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5yc2lkZVN0YXJ0UG9zLCB0aGlzLnJzaWRlUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChtYWluUmlnaHRTZW5zb3JDb250YWN0ID09PSBmYWxzZSAmJiBhbmdsZVJpZ2h0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlUmlnaHRTZW5zb3JDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZGFuY2UgLT0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaWRlUmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuc2lkZVJpZ2h0U2Vuc29yTGluZSA9IG5ldyBVTklUWS5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuU2lkZVJpZ2h0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZVJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5yc2lkZVN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnJzaWRlU3RhcnRQb3MsIHRoaXMucnNpZGVQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIEJhY2sgUmlnaHQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMucmJhY2tTdGFydFBvcywgdGhpcy5yYmFja1BvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBpZiAobWFpblJpZ2h0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UgJiYgYW5nbGVSaWdodFNlbnNvckNvbnRhY3QgPT09IGZhbHNlICYmIHNpZGVSaWdodFNlbnNvckNvbnRhY3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlIC09IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja1JpZ2h0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmJhY2tSaWdodFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkJhY2tSaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMucmJhY2tTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5yYmFja1N0YXJ0UG9zLCB0aGlzLnJiYWNrUG9pbnRQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBNYWluIExlZnQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBtYWluTGVmdFNlbnNvckNvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlVG9SZWYoLSh0aGlzLnNwYWNlcldpZHRocyAqIDIpLCB0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JTdGFydFBvcy5hZGRJblBsYWNlKHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvclBvaW50UG9zLmFkZEluUGxhY2UodGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluTGVmdFNlbnNvckNvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlICs9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFpbkxlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMubWFpbkxlZnRTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5NYWluTGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5MZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zZW5zb3JTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbkxlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvclBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gQW5nbGUgTGVmdCBMaW5lIFJheWNhc3RcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgbGV0IGFuZ2xlTGVmdFNlbnNvckNvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlVG9SZWYoLSh0aGlzLnNwYWNlcldpZHRocyAqIDQpICogdGhpcy5hbmdsZUZhY3RvcnMsIHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvckFuZ2xlUG9zLmFkZEluUGxhY2UodGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yQW5nbGVQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChtYWluTGVmdFNlbnNvckNvbnRhY3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGVMZWZ0U2Vuc29yQ29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5nbGVMZWZ0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmFuZ2xlTGVmdFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkFuZ2xlTGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yQW5nbGVQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTaWRlIExlZnQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBzaWRlTGVmdFNlbnNvckNvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMubHNpZGVTdGFydFBvcywgdGhpcy5sc2lkZVBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBpZiAobWFpbkxlZnRTZW5zb3JDb250YWN0ID09PSBmYWxzZSAmJiBhbmdsZUxlZnRTZW5zb3JDb250YWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVMZWZ0U2Vuc29yQ29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2lkZUxlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuc2lkZUxlZnRTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5TaWRlTGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGVMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5sc2lkZVN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMubHNpZGVTdGFydFBvcywgdGhpcy5sc2lkZVBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gQmFjayBMZWZ0IExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBVTklUWS5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0VG9Qb2ludCh0aGlzLnNjZW5lLCB0aGlzLmxiYWNrU3RhcnRQb3MsIHRoaXMubGJhY2tQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKG1haW5MZWZ0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UgJiYgYW5nbGVMZWZ0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UgJiYgc2lkZUxlZnRTZW5zb3JDb250YWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmJhY2tMZWZ0U2Vuc29yTGluZSA9IG5ldyBVTklUWS5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQmFja0xlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMubGJhY2tTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLmxiYWNrU3RhcnRQb3MsIHRoaXMubGJhY2tQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIE1haW4gQ2VudGVyIExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBVTklUWS5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0VG9Qb2ludCh0aGlzLnNjZW5lLCBmaXJzdFNlbnNvclN0YXJ0UG9zLCBmaXJzdFNlbnNvclBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoYXZvaWRhbmNlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsLnggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluQ2VudGVyU2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5NYWluQ2VudGVyU2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbkNlbnRlclNlbnNvckxpbmUuZHJhd0xpbmUoW2ZpcnN0U2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lLmRyYXdMaW5lKFtmaXJzdFNlbnNvclN0YXJ0UG9zLCBmaXJzdFNlbnNvclBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIExvbmcgUmFuZ2UgQnJha2UgVGhyZWF0IFJheWNhc3RcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdCA9IFVOSVRZLlNjZW5lTWFuYWdlci5QaHlzaWNzUmF5Y2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgZmlyc3RTZW5zb3JTdGFydFBvcywgZmlyc3RTZW5zb3JQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKGF2b2lkYW5jZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluQ2VudGVyU2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5NYWluQ2VudGVyU2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbkNlbnRlclNlbnNvckxpbmUuZHJhd0xpbmUoW2ZpcnN0U2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lLmRyYXdMaW5lKFtmaXJzdFNlbnNvclN0YXJ0UG9zLCBmaXJzdFNlbnNvclBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tOb2RlOlBST0pFQ1QuSVRyYWNrTm9kZSA9IHRoaXMuZ2V0Q3VycmVudFRyYWNrTm9kZSh0aGlzLndheXBvaW50SW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQb2ludDpQUk9KRUNULklDb250cm9sUG9pbnQgPSB0aGlzLmdldEN1cnJlbnRDb250cm9sUG9pbnQodGhpcy5yYWNlTGluZU5vZGUsIHRoaXMud2F5cG9pbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVJhYmJpdE1lc2ggIT0gbnVsbCAmJiB0aGlzLndheXBvaW50Q291bnQgPiAwICYmIHRyYWNrTm9kZSAhPSBudWxsICYmIGNvbnRyb2xQb2ludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRQb3NpdGlvbi5zZXQoY29udHJvbFBvaW50LnBvc2l0aW9uLngsIGNvbnRyb2xQb2ludC5wb3NpdGlvbi55LCBjb250cm9sUG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRTcGVlZDpudW1iZXIgPSAoY29udHJvbFBvaW50LnNwZWVkID4gMCA/IGNvbnRyb2xQb2ludC5zcGVlZCA6IDEwMCkgKiB0aGlzLmdldERyaXZlclNraWxsRmFjdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFJhZGl1czpudW1iZXIgPSAodHJhY2tOb2RlLnJhZGl1cyAqIDEpOyBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdFRvVGFyZ2V0Om51bWJlciA9IEJBQllMT04uVmVjdG9yMy5EaXN0YW5jZSh0aGlzLndheXBvaW50UG9zaXRpb24sIHRyYW5zZm9ybVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RUb1RhcmdldCA8IHRhcmdldFJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldlRhcmdldFNwZWVkIDw9IDApIHRoaXMucHJldlRhcmdldFNwZWVkID0gdGFyZ2V0U3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRUYXJnZXRTcGVlZCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5wcmV2VGFyZ2V0U3BlZWQsIHRhcmdldFNwZWVkLCAoMS4wIC0gKGRpc3RUb1RhcmdldCAvIHRhcmdldFJhZGl1cykpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dDaGFzZVJhYmJpdCA9PT0gdHJ1ZSkgdGhpcy5yYWJiaXRUcmFja2VyQ29sb3IgPSB0aGlzLnJlZFRyYWNraW5nQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRUYXJnZXRTcGVlZCA9IHRhcmdldFNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0NoYXNlUmFiYml0ID09PSB0cnVlKSB0aGlzLnJhYmJpdFRyYWNrZXJDb2xvciA9IHRoaXMuZ3JlZW5UcmFja2luZ0NvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50U3BlZWQ6bnVtYmVyID0gdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5nZXRHcmFkaWVudFNwZWVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtZXJpY2FuU3BlZWQ6bnVtYmVyID0gdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5nZXRBbWVyaWNhblNwZWVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2tpZGRpbmc6Ym9vbGVhbiA9IHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIuZ2V0Q3VycmVudFNraWRkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvb2tBaGVhZDpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMubWluTG9va0FoZWFkLCB0aGlzLm1heExvb2tBaGVhZCwgZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gVVBEQVRFIENIQVNFIFJBQkJJVCAtIFdhbGsgU3BsaW5lIFdheXBvaW50IFBvc2l0aW9ucyAtIChSYWNlVHJhY2tNYW5hZ2VyLkdldFJvYWRBaGVhZERpcmVjdGlvbikgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8qIEdFVCBST1VUIFBPSU5UIFdJVEggRElTVEFOQ0VcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRUb1BvaW50VGhyZXNob2xkOm51bWJlciA9IDY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldERlbHRhID0gdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5wb3NpdGlvbi5zdWJ0cmFjdCh0cmFuc2Zvcm1Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhTGVuZ3RoOm51bWJlciA9IHRhcmdldERlbHRhLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGFMZW5ndGggPCBwb2ludFRvUG9pbnRUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRJbmRleCA9ICh0aGlzLndheXBvaW50SW5kZXggKyAxKSAlIHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5wb3NpdGlvbiA9IHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlc1t0aGlzLndheXBvaW50SW5kZXhdLmxvY2FsUG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLm1fY2lyY3VpdEludGVyZmFjZXNbdGhpcy53YXlwb2ludEluZGV4XS5sb2NhbFJvdGF0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBvdXIgY3VycmVudCBwcm9ncmVzcyBhbG9uZyB0aGUgcm91dGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NQb2ludCA9IHRoaXMucmFjZVRyYWNrTWFuYWdlci5nZXRSb3V0ZVBvaW50KHRoaXMucHJvZ3Jlc3NEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFoZWFkUG9pbnQgPSB0aGlzLnJhY2VUcmFja01hbmFnZXIuZ2V0Um91dGVQb2ludCh0aGlzLnByb2dyZXNzRGlzdGFuY2UgKyA0MCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5wb3NpdGlvbi5jb3B5RnJvbShhaGVhZFBvaW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkxvb2tSb3RhdGlvblRvUmVmKGFoZWFkUG9pbnQuZGlyZWN0aW9uLCB0aGlzLm1fY2hhc2VQb2ludE1lc2gucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NEZWx0YSA9IHByb2dyZXNzUG9pbnQucG9zaXRpb24uc3VidHJhY3QodHJhbnNmb3JtUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5WZWN0b3IzLkRvdChwcm9ncmVzc0RlbHRhLCBwcm9ncmVzc1BvaW50LmRpcmVjdGlvbikgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzRGlzdGFuY2UgKz0gcHJvZ3Jlc3NEZWx0YS5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBVVElMLlByaW50VG9TY3JlZW4oXCJXYXlwb2ludDogXCIgKyB0aGlzLndheXBvaW50SW5kZXggKyBcIiAtLT4gRGVsdGEgTGVuZ3RoOiBcIiArIGRlbHRhTGVuZ3RoLnRvRml4ZWQoMikgKyBcIiAtLT4gUHJvZ3Jlc3MgRGlzdGFuY2U6IFwiICsgdGhpcy5wcm9ncmVzc0Rpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBVUERBVEUgQ0hBU0UgUkFCQklUIC0gV2FsayBTcGxpbmUgV2F5cG9pbnQgUG9zaXRpb25zIC0gKFJhY2VUcmFja01hbmFnZXIuR2V0Um9hZEFoZWFkRGlyZWN0aW9uKSAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFiYml0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhYmJpdERpc3RhbmNlOm51bWJlciA9IEJBQllMT04uVmVjdG9yMy5EaXN0YW5jZSh0cmFuc2Zvcm1Qb3NpdGlvbiwgcmFiYml0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFiYml0RGlzdGFuY2UgPD0gbG9va0FoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXNlUmFiYml0U3BlZWQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKDEuMCwgdGhpcy5kcml2ZVNwZWVkTXVsdGlwbGllciwgZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmxvb2tBdCh0aGlzLndheXBvaW50UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC50cmFuc2xhdGUoQkFCWUxPTi5BeGlzLlosIHRoaXMuY2hhc2VSYWJiaXRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkYW5jZSBNb2RlIFRyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXZvaWRhbmNlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF2b2lkYW5jZVZhbHVlID0gYXZvaWRhbmNlOyAgICAgICAgICAgICAgICAvLyBMYXN0IEF2b2lkYW5jZSBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdm9pZGFuY2VUaW1lciA9IHRoaXMuYXZvaWRhbmNlVGltZW91dDsgICAgLy8gUmVzZXQgQXZvaWRhbmNlIFRpbWVyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGVja3BvaW50TWFuYWdlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hlY2twb2ludDpudW1iZXIgPSB0aGlzLm1fY2hlY2twb2ludE1hbmFnZXIuZ2V0Q2hlY2tQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGVja3BvaW50ICE9IHRoaXMubGFzdENoZWNrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbVR1cm5pbmcgPSB0aGlzLmdlbmVyYXRlUmFuZG9uTnVtYmVyKDAsIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyQm9vc3RpbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tQm9vc3RpbmcgPSB0aGlzLmdlbmVyYXRlUmFuZG9uTnVtYmVyKDAsIHRoaXMucG93ZXJCb29zdGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndvbmRlckRpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5pbXVtVmFsOm51bWJlciA9IHRoaXMuZHJpdmVMaW5lRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbVNpZ246bnVtYmVyID0gTWF0aC5zaWduKHRoaXMuZ2VuZXJhdGVSYW5kb25OdW1iZXIoLTEsIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5kb21EaXN0YW5jZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb25OdW1iZXIobWluaW11bVZhbCwgKG1pbmltdW1WYWwgKyB0aGlzLndvbmRlckRpc3RhbmNlKSkgKiByYW5kb21TaWduO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RDaGVja3BvaW50ID0gY3VycmVudENoZWNrcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbVR1cm5pbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5kb21Cb29zdGluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbURpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgd2FudGVkQXZvaWREaXN0YW5jZTpudW1iZXIgPSAodGhpcy5hdm9pZGFuY2VUaW1lciA+IDAgJiYgdGhpcy5hdm9pZGFuY2VWYWx1ZSAhPT0gMCkgPyAodGhpcy5hdm9pZGFuY2VEaXN0YW5jZSAqIE1hdGguc2lnbih0aGlzLmF2b2lkYW5jZVZhbHVlKSkgOiAwO1xuICAgICAgICAgICAgICAgICAgICB3YW50ZWRBdm9pZERpc3RhbmNlICs9IHRoaXMucmFuZG9tRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlTGVycCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5hdm9pZGFuY2VMZXJwLCB3YW50ZWRBdm9pZERpc3RhbmNlLCAodGhpcy5hdm9pZGFuY2VTcGVlZCAqIGRlbHRhVGltZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF2b2lkUG9zaXRpb25PZmZzZXQuc2V0KHRoaXMuYXZvaWRhbmNlTGVycCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMubV9jaGFzZVJhYmJpdE1lc2gsIHRoaXMubV9jaGFzZVBvaW50TWVzaC5wb3NpdGlvbiwgdGhpcy5hdm9pZFBvc2l0aW9uT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0NoYXNlUmFiYml0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrVmVoaWNsZVBvc2l0aW9uLnNldCh0cmFuc2Zvcm1Qb3NpdGlvbi54LCAodHJhbnNmb3JtUG9zaXRpb24ueSArIDAuNSksIHRyYW5zZm9ybVBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IHRoaXMudHJhY2tSYWJiaXRQb3NpdGlvbi5zZXQocmFiYml0UG9zaXRpb24ueCwgKHJhYmJpdFBvc2l0aW9uLnkgKyAwLjI1KSwgcmFiYml0UG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrUmFiYml0UG9zaXRpb24uc2V0KHRoaXMubV9jaGFzZVBvaW50TWVzaC5wb3NpdGlvbi54LCAodGhpcy5tX2NoYXNlUG9pbnRNZXNoLnBvc2l0aW9uLnkgKyAwLjI1KSwgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmFiYml0VHJhY2tlckxpbmUgPT0gbnVsbCkgdGhpcy5yYWJiaXRUcmFja2VyTGluZSA9IG5ldyBVTklUWS5MaW5lc01lc2hSZW5kZXJlcigodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlRyYWNraW5nTGluZVwiKSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWJiaXRUcmFja2VyTGluZSAhPSBudWxsKSB0aGlzLnJhYmJpdFRyYWNrZXJMaW5lLmRyYXdMaW5lKFt0aGlzLnRyYWNrVmVoaWNsZVBvc2l0aW9uLCB0aGlzLnRyYWNrUmFiYml0UG9zaXRpb25dLCB0aGlzLnJhYmJpdFRyYWNrZXJDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgV2F5cG9pbnQgRGlzdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2F5cG9pbnREaXN0YW5jZTpudW1iZXIgPSBCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2UocmFiYml0UG9zaXRpb24sIHRoaXMud2F5cG9pbnRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXlwb2ludERpc3RhbmNlIDw9IDUuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2VGFyZ2V0U3BlZWQgPSB0aGlzLm5leHRUYXJnZXRTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2F5cG9pbnRJbmRleCA+PSB0aGlzLndheXBvaW50Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndheXBvaW50SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogVU5JVFkuVXRpbGl0aWVzLkludmVyc2VUcmFuc2Zvcm1Qb2ludFRvUmVmKHRoaXMudHJhbnNmb3JtLCByYWJiaXRQb3NpdGlvbiwgdGhpcy5sb2NhbFRhcmdldFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkludmVyc2VUcmFuc2Zvcm1Qb2ludFRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLm1fY2hhc2VQb2ludE1lc2gucG9zaXRpb24sIHRoaXMubG9jYWxUYXJnZXRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFRhcmdldEFuZ2xlID0gQkFCWUxPTi5Ub29scy5Ub0RlZ3JlZXMoTWF0aC5hdGFuMih0aGlzLmxvY2FsVGFyZ2V0UG9zaXRpb24ueCwgdGhpcy5sb2NhbFRhcmdldFBvc2l0aW9uLnopKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ybmVyQW5nbGU6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoTWF0aC5hYnMobG9jYWxUYXJnZXRBbmdsZSksIDAsIDkwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ybmVyRmFjdG9yOm51bWJlciA9IChjb3JuZXJBbmdsZSAvIDkwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFZlaGljbGUgRHJpdmluZ1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBsZXQgYnJha2luZzpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2xvd2Rvd246bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvb3N0aW5nOm51bWJlciA9IHRoaXMucmFuZG9tQm9vc3Rpbmc7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3BzcGVlZDpudW1iZXIgPSB0aGlzLm1heFJhY2VUcmFja1NwZWVkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGhyb3R0bGU6bnVtYmVyID0gKDEuMCAqIHRoaXMudGhyb3R0bGVTZW5zaXRpdml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZzpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgoKHRoaXMubG9jYWxUYXJnZXRQb3NpdGlvbi54IC8gdGhpcy5sb2NhbFRhcmdldFBvc2l0aW9uLmxlbmd0aCgpKSAqIHRoaXMuc3RlZXJpbmdTZW5zaXRpdml0eSksIC0xLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXZvaWRhbmNlRmFjdG9yID4gMCAmJiBhdm9pZGFuY2UgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd1NwZWVkQXZvaWRhbmNlOm51bWJlciA9ICgoYXZvaWRhbmNlICogMC4xMTIpICogdGhpcy5hdm9pZGFuY2VGYWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlnaFNwZWVkQXZvaWRhbmNlOm51bWJlciA9ICgoYXZvaWRhbmNlICogMC4wNikgKiB0aGlzLmF2b2lkYW5jZUZhY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVlcmluZyArPSBCQUJZTE9OLlNjYWxhci5MZXJwKGxvd1NwZWVkQXZvaWRhbmNlLCBoaWdoU3BlZWRBdm9pZGFuY2UsIGdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBoYW5kYnJha2luZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHRUYXJnZXRTcGVlZCA8PSAwKSB0aGlzLm5leHRUYXJnZXRTcGVlZCA9IHRhcmdldFNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW1lcmljYW5TcGVlZCA+IHRoaXMubmV4dFRhcmdldFNwZWVkKSB7IC8vIFRhcmdldCBTcGVlZCBUaHJvdHRsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG93ZG93biA9IEJBQllMT04uU2NhbGFyLkxlcnAoMC4wLCB0aGlzLmxpbmVhckRhbXBlbkZvcmNlLCBncmFkaWVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlICo9IDAuMjsgLy8gTm90ZSA6IDIwIFBlcmNlbnQgVGhyb3R0bGUgSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5icmFraW5nVHVybkFuZ2xlID4gMCkgeyAvLyBDb3JuZXIgQW5nbGUgRm9vdCBCcmFraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja0Nvcm5lckFuZ2xlOm51bWJlciA9ICh0aGlzLmJyYWtpbmdUdXJuQW5nbGUgLSB0aGlzLnJhbmRvbVR1cm5pbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcm5lckFuZ2xlID49IGNoZWNrQ29ybmVyQW5nbGUgJiYgYW1lcmljYW5TcGVlZCA+PSB0aGlzLmJyYWtpbmdTcGVlZExpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJha2luZyA9IEJBQllMT04uU2NhbGFyLkxlcnAoMCwgKDEgKyBncmFkaWVudFNwZWVkKSwgY29ybmVyRmFjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG93ZG93biA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYXJkIEhhbmQgQnJha2luZyAoRHJpZnRpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkZGluZ1RyaWdnZXJTcGVlZDpudW1iZXIgPSAoaXNTa2lkZGluZyA9PT0gdHJ1ZSkgPyB0aGlzLmJyYWtpbmdTcGVlZExpbWl0IDogdGhpcy5za2lkZGluZ1NwZWVkTGltaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGJyYWtpbmcgPSAoYnJha2luZyA+IDAgJiYgYW1lcmljYW5TcGVlZCA+PSBza2lkZGluZ1RyaWdnZXJTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRicmFraW5nID09PSB0cnVlKSBicmFraW5nID0gMS4wOyAvLyBOb3RlOiBVc2UgSGFuZCBCcmFraW5nIFpvbmUgU3RyZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYnJha2luZyA+IDApIGJyYWtpbmcgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgoYnJha2luZyAqIHRoaXMuYnJha2luZ1NlbnNpdGl2aXR5KSwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChicmFraW5nID4gMCkgdGhyb3R0bGUgPSAoLWJyYWtpbmcpO1xuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gUmV2ZXJzZSBNb3ZlbWVudCBGaXggTW9kZVxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZUZpeE1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBib29zdGluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVlcmluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbG93ZG93biA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kYnJha2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBObyBGb3J3YXJkIFZlbG9jaXR5XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhyb3R0bGUgPj0gMC4xICYmIGFtZXJpY2FuU3BlZWQgPCAyLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9Nb3ZlbWVudFRpbWUgKz0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub01vdmVtZW50VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubm9Nb3ZlbWVudFRpbWUgPj0gdGhpcy5yZXNldE1vdmluZ1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9Nb3ZlbWVudFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlRml4TW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY292ZXJ5Rml4TW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZlcnNlVGltZTpudW1iZXIgPSAodGhpcy5yZXZlcnNlVGhyb3R0bGVUaW1lICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNvdmVyeVRpbWU6bnVtYmVyID0gKCh0aGlzLnJldmVyc2VUaHJvdHRsZVRpbWUgKiAxMDAwKSAqIDMuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuU2V0VGltZW91dChyZXZlcnNlVGltZSwgKCk9PnsgdGhpcy5yZXZlcnNlRml4TW9kZSA9IGZhbHNlOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlNjZW5lTWFuYWdlci5TZXRUaW1lb3V0KHJlY292ZXJ5VGltZSwgKCk9PnsgdGhpcy5yZWNvdmVyeUZpeE1vZGUgPSBmYWxzZTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5hY2tlcm1hblR1cm5GYWN0b3IgPSAodGhpcy5yZWNvdmVyeUZpeE1vZGUgPT09IHRydWUpID8gdGhpcy5yZWNvdmVyeVJhZGl1cyA6IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci50aHJvdHRsZUVuZ2luZVNwZWVkID0gdG9wc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIudGhyb3R0bGVCcmFraW5nRm9yY2UgPSBzbG93ZG93bjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5kcml2ZSh0aHJvdHRsZSwgc3RlZXJpbmcsIGhhbmRicmFraW5nLCBmYWxzZSwgYm9vc3RpbmcsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RHJpdmVyU2tpbGxGYWN0b3IoKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAwLjYwO1xuICAgICAgICAgICAgbGV0IHNraWxsOm51bWJlciA9IHRoaXMuZHJpdmVyU2tpbGxMZXZlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmRvbVNraWxsRmFjdG9yID49IDE4KSB7XG4gICAgICAgICAgICAgICAgc2tpbGwgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yYW5kb21Ta2lsbEZhY3RvciA+PSAxMikge1xuICAgICAgICAgICAgICAgIHNraWxsICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBza2lsbCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHNraWxsLCAxLCAxMCk7XG4gICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKFwiRHJpdmVyIFNraWxsIExldmVsOiBcIiArIHNraWxsKTtcbiAgICAgICAgICAgIHN3aXRjaCAoc2tpbGwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAxLjAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuOTg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC45NTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjkwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuODU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC44MDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjc1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuNzA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC42NTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjYwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGdldEN1cnJlbnRUcmFja05vZGUoaW5kZXg6bnVtYmVyKTpQUk9KRUNULklUcmFja05vZGUge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpQUk9KRUNULklUcmFja05vZGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLndheXBvaW50Q291bnQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fY2lyY3VpdEludGVyZmFjZXNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q3VycmVudENvbnRyb2xQb2ludChsYW5lOm51bWJlciwgaW5kZXg6bnVtYmVyKTpQUk9KRUNULklDb250cm9sUG9pbnQge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpQUk9KRUNULklDb250cm9sUG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLndheXBvaW50Q291bnQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGxhbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8xW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzJbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfM1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX2NpcmN1aXRSYWNlTGluZV80W2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzVbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UmFuZG9tTnVtYmVyKG1pbjpudW1iZXIsIG1heDpudW1iZXIpOm51bWJlciB7XG4gICAgICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcbiAgICAgICAgICAgIG1heCA9IE1hdGguZmxvb3IobWF4KTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBnZW5lcmF0ZVJhbmRvbk51bWJlcihtaW46bnVtYmVyLCBtYXg6bnVtYmVyLCBkZWNpbWFsczpudW1iZXIgPSAyKTpudW1iZXIge1xuICAgICAgICAgICAgY29uc3QgcmFuZDpzdHJpbmcgPSAoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKS50b0ZpeGVkKGRlY2ltYWxzKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJhbmQpO1xuICAgICAgICB9ICAgICAgICBcbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3lWZWhpY2xlQ29udHJvbGxlcigpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfMSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8zID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfNCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX3JpZ2lkYm9keVBoeXNpY3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUG9pbnRNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VQb2ludE1lc2guZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgVmVoaWNsZU5ldHdvcmtMYWJlbFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFZlaGljbGVOZXR3b3JrTGFiZWwgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgbGFiZWw6QkFCWUxPTi5HVUkuVGV4dEJsb2NrID0gbnVsbDtcbiAgICAgICAgcHVibGljIHJlY3Q6IEJBQllMT04uR1VJLlJlY3RhbmdsZTtcblxuICAgICAgICBwdWJsaWMgYXV0b0NyZWF0ZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIG9mZnNldFg6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIG9mZnNldFk6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGxhYmVsQ29sb3I6QkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMS4wLDEuMCwxLjApO1xuICAgICAgICBwdWJsaWMgYm9yZGVyQ29sb3I6QkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMC4wLCAwLjg0MzEzNzMsIDAuODI3NDUxKTtcbiAgICAgICAgcHVibGljIGJhY2tncm91bmRDb2xvcjpCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjAsIDAuNDc0NTA5OCwgMC40NjY2NjY3KTtcbiAgICAgICAgcHVibGljIGxhYmVsQ3JlYXRlZDpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsQ3JlYXRlZCA9PT0gZmFsc2UgJiYgdGhpcy5hdXRvQ3JlYXRlID09PSB0cnVlICYmIHRoaXMuaXNSZWFkeSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG93bmVyTmFtZTpzdHJpbmcgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5TmV0d29ya0F0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgXCJvd25lck5hbWVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvd25lck5hbWUgIT0gbnVsbCAmJiBvd25lck5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0b0NyZWF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbENyZWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbChvd25lck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZUxhYmVsKG5hbWU6IHN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgYWR2YW5jZWRUZXh0dXJlOiBCQUJZTE9OLkdVSS5BZHZhbmNlZER5bmFtaWNUZXh0dXJlID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldEZ1bGxzY3JlZW5VSSh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBuZXcgQkFCWUxPTi5HVUkuVGV4dEJsb2NrKCk7XG4gICAgICAgICAgICB0aGlzLmxhYmVsLnRleHQgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5sYWJlbC5jb2xvciA9IHRoaXMubGFiZWxDb2xvci50b0hleFN0cmluZygpOyAgICAgICAgICAgLy8gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgdGhpcy5sYWJlbC5mb250U2l6ZSA9IDI0O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMucmVjdCA9IG5ldyBCQUJZTE9OLkdVSS5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIHRoaXMucmVjdC53aWR0aCA9IFwiMjAwcHhcIjtcbiAgICAgICAgICAgIHRoaXMucmVjdC5oZWlnaHQgPSBcIjQwcHhcIjtcbiAgICAgICAgICAgIHRoaXMucmVjdC5jb3JuZXJSYWRpdXMgPSAxMDtcbiAgICAgICAgICAgIHRoaXMucmVjdC5jb2xvciA9IHRoaXMuYm9yZGVyQ29sb3IudG9IZXhTdHJpbmcoKTsgICAgICAgICAgIC8vIFwiIzAwRDdEM1wiO1xuICAgICAgICAgICAgdGhpcy5yZWN0LnRoaWNrbmVzcyA9IDQ7XG4gICAgICAgICAgICB0aGlzLnJlY3QuYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZENvbG9yLnRvSGV4U3RyaW5nKCk7ICAvLyBcIiMwMDc5NzdcIjtcbiAgICAgICAgICAgIHRoaXMucmVjdC5hZGRDb250cm9sKHRoaXMubGFiZWwpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGFkdmFuY2VkVGV4dHVyZS5hZGRDb250cm9sKHRoaXMucmVjdCk7XG4gICAgICAgICAgICB0aGlzLnJlY3QubGlua1dpdGhNZXNoKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIHRoaXMucmVjdC5saW5rT2Zmc2V0WEluUGl4ZWxzID0gdGhpcy5vZmZzZXRYO1xuICAgICAgICAgICAgdGhpcy5yZWN0LmxpbmtPZmZzZXRZSW5QaXhlbHMgPSB0aGlzLm9mZnNldFk7XG5cbiAgICAgICAgICAgIC8vIEZJWE1FOiBPbmUgT2YgVGhlbSBEb2VzIE5vdCBHZXQgVGhlIExhYmVsIENyZWF0ZWRcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIldURjogT3duZXIgTmFtZVwiKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCIqKiogR09UIERFU1RST1kgTUVTU0FHRSAqKipcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yZWN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gdG9vbGtpdCBkZWZhdWx0IGNhbWVyYSBzeXN0ZW0gY2xhc3NcbiAgICAgKiBAY2xhc3MgRGVmYXVsdENhbWVyYVN5c3RlbSAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqIGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vZGl2aW5nRGVlcGVyL3Bvc3RQcm9jZXNzZXMvZGVmYXVsdFJlbmRlcmluZ1BpcGVsaW5lXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIERlZmF1bHRDYW1lcmFTeXN0ZW0gZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIFBsYXllck9uZUNhbWVyYTpCQUJZTE9OLkZyZWVDYW1lcmEgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIFBsYXllclR3b0NhbWVyYTpCQUJZTE9OLkZyZWVDYW1lcmEgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIFBsYXllclRocmVlQ2FtZXJhOkJBQllMT04uRnJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgUGxheWVyRm91ckNhbWVyYTpCQUJZTE9OLkZyZWVDYW1lcmEgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIFhSRXhwZXJpZW5jZUhlbHBlcjpCQUJZTE9OLldlYlhSRGVmYXVsdEV4cGVyaWVuY2UgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIG11bHRpUGxheWVyVmlldzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIG11bHRpUGxheWVyQ291bnQ6bnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgbXVsdGlQbGF5ZXJDYW1lcmFzOkJBQllMT04uQ2FtZXJhW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBzdGVyZW9DYW1lcmFzOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBzdGFydHVwTW9kZTpudW1iZXIgPSAxO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBjYW1lcmFSZWFkeTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIHJlbmRlcmluZ1BpcGVsaW5lOkJBQllMT04uRGVmYXVsdFJlbmRlcmluZ1BpcGVsaW5lID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc2NyZWVuU3BhY2VQaXBlbGluZTpCQUJZTE9OLlNTQU9SZW5kZXJpbmdQaXBlbGluZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0UmVuZGVyaW5nUGlwZWxpbmUoKTpCQUJZTE9OLkRlZmF1bHRSZW5kZXJpbmdQaXBlbGluZSB7IHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ucmVuZGVyaW5nUGlwZWxpbmU7IH07XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0U2NyZWVuU3BhY2VQaXBlbGluZSgpOkJBQllMT04uU1NBT1JlbmRlcmluZ1BpcGVsaW5lIHsgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5zY3JlZW5TcGFjZVBpcGVsaW5lOyB9O1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzQ2FtZXJhU3lzdGVtUmVhZHkoKTpib29sZWFuIHsgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5jYW1lcmFSZWFkeTsgfVxuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB3ZWJ4ciBleHBlcmllbmNlIGhlbHBlciBoYXMgYmVlbiBjcmVhdGVkICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25YUkV4cGVyaWVuY2VIZWxwZXJPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLldlYlhSRGVmYXVsdEV4cGVyaWVuY2U+KCk7XG5cbiAgICAgICAgcHJpdmF0ZSBtYWluQ2FtZXJhOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFUeXBlOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhSW5lcnRpYTpudW1iZXIgPSAwLjU7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhQ29udHJvbGxlcjphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGltbWVyc2l2ZU9wdGlvbnM6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhcmNSb3RhdGVDb25maWc6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBtdWx0aVBsYXllclNldHVwOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnVsbFNjcmVlblRvZ2dsZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGVkaXRvclBvc3RQcm9jZXNzaW5nOlBST0pFQ1QuSUVkaXRvclBvc3RQcm9jZXNzaW5nID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgaXNNYWluQ2FtZXJhKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLm1haW5DYW1lcmE7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVR5cGUoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5jYW1lcmFUeXBlOyB9XG4gICAgICAgICAgICBcbiAgICAgICAgcHJvdGVjdGVkIG1fY2FtZXJhUmlnOkJBQllMT04uVGFyZ2V0Q2FtZXJhID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7IHRoaXMuYXdha2VDYW1lcmFTeXN0ZW1TdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHsgdGhpcy5zdGFydENhbWVyYVN5c3RlbVN0YXRlKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgdGhpcy51cGRhdGVDYW1lcmFTeXN0ZW1TdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lDYW1lcmFTeXN0ZW1TdGF0ZSgpOyB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFVuaXZlcnNhbCBDYW1lcmEgU3lzdGVtIFN0YXRlIEZ1bmN0aW9ucyAvL1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2VDYW1lcmFTeXN0ZW1TdGF0ZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5tYWluQ2FtZXJhID0gKHRoaXMuZ2V0VHJhbnNmb3JtVGFnKCkgPT09IFwiTWFpbkNhbWVyYVwiKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhVHlwZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYWluQ2FtZXJhVHlwZVwiLCB0aGlzLmNhbWVyYVR5cGUpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFJbmVydGlhID0gdGhpcy5nZXRQcm9wZXJ0eShcInNldENhbWVyYUluZXJ0aWFcIiwgdGhpcy5jYW1lcmFJbmVydGlhKTtcbiAgICAgICAgICAgIHRoaXMuZnVsbFNjcmVlblRvZ2dsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmdWxsU2NyZWVuVG9nZ2xlXCIsIHRoaXMuZnVsbFNjcmVlblRvZ2dsZSk7XG4gICAgICAgICAgICB0aGlzLmltbWVyc2l2ZU9wdGlvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiaW1tZXJzaXZlT3B0aW9uc1wiLCB0aGlzLmltbWVyc2l2ZU9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5hcmNSb3RhdGVDb25maWcgPSB0aGlzLmdldFByb3BlcnR5KFwiYXJjUm90YXRlQ29uZmlnXCIsIHRoaXMuYXJjUm90YXRlQ29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMubXVsdGlQbGF5ZXJTZXR1cCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtdWx0aVBsYXllclNldHVwXCIsIHRoaXMubXVsdGlQbGF5ZXJTZXR1cCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbnRyb2xsZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhQ29udHJvbGxlclwiLCB0aGlzLmNhbWVyYUNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZW5kZXJpbmdQaXBlbGluZVwiLCB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW5DYW1lcmFTeXN0ZW1TdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZnVsbFNjcmVlblRvZ2dsZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoVU5JVFkuVXNlcklucHV0S2V5LkYsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXRFbmdpbmUoKS5lbnRlckZ1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXN5bmMgc3RhcnRDYW1lcmFTeXN0ZW1TdGF0ZSgpOlByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLlZhbGlkYXRlVHJhbnNmb3JtUXVhdGVybmlvbih0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tdWx0aVBsYXllclNldHVwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uc3RhcnR1cE1vZGUgPSB0aGlzLm11bHRpUGxheWVyU2V0dXAucGxheWVyU3RhcnR1cE1vZGU7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnN0ZXJlb0NhbWVyYXMgPSB0aGlzLm11bHRpUGxheWVyU2V0dXAuc3RlcmVvU2lkZUJ5U2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBEZWZhdWx0IENhbWVyYSBTeXN0ZW0gU3VwcG9ydFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcgPSB0aGlzLmdldENhbWVyYVJpZygpO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFSaWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5zcGVlZCA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5jYW1lcmFTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5pbnZlcnNlUm90YXRpb25TcGVlZCA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5pbnZSb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFSaWcgaW5zdGFuY2VvZiBCQUJZTE9OLlVuaXZlcnNhbENhbWVyYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5nYW1lcGFkQW5ndWxhclNlbnNpYmlsaXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLmdhbWVwYWRSb3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuZ2FtZXBhZE1vdmVTZW5zaWJpbGl0eSA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5nYW1lcGFkTW92ZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLnRvdWNoQW5ndWxhclNlbnNpYmlsaXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnRvdWNoUm90YXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLnRvdWNoTW92ZVNlbnNpYmlsaXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnRvdWNoTW92ZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29udHJvbGxlci5rZXlib2FyZFdBU0QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnLmlucHV0cyAhPSBudWxsICYmIHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzLmF0dGFjaGVkICE9IG51bGwgJiYgdGhpcy5tX2NhbWVyYVJpZy5pbnB1dHMuYXR0YWNoZWQua2V5Ym9hcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnLmlucHV0cy5hdHRhY2hlZC5rZXlib2FyZCBpbnN0YW5jZW9mIEJBQllMT04uRnJlZUNhbWVyYUtleWJvYXJkTW92ZUlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpbnB1dDpCQUJZTE9OLkZyZWVDYW1lcmFLZXlib2FyZE1vdmVJbnB1dCA9IHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzLmF0dGFjaGVkLmtleWJvYXJkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQua2V5c1VwLnB1c2goVU5JVFkuVXNlcklucHV0S2V5LlcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQua2V5c0xlZnQucHVzaChVTklUWS5Vc2VySW5wdXRLZXkuQSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbnB1dC5rZXlzRG93bi5wdXNoKFVOSVRZLlVzZXJJbnB1dEtleS5TKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNSaWdodC5wdXNoKFVOSVRZLlVzZXJJbnB1dEtleS5EKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LnJvdGF0aW9uU3BlZWQgPSB0aGlzLmNhbWVyYUNvbnRyb2xsZXIucm90YXRpb25TcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29udHJvbGxlci5hcnJvd0tleVJvdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQua2V5c0xlZnQgPSBbVU5JVFkuVXNlcklucHV0S2V5LkFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNSaWdodCA9IFtVTklUWS5Vc2VySW5wdXRLZXkuRF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQua2V5c1JvdGF0ZUxlZnQgPSBbVU5JVFkuVXNlcklucHV0S2V5LkxlZnRBcnJvd107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQua2V5c1JvdGF0ZVJpZ2h0ID0gW1VOSVRZLlVzZXJJbnB1dEtleS5SaWdodEFycm93XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVJpZy5pbnB1dHMgIT0gbnVsbCAmJiB0aGlzLm1fY2FtZXJhUmlnLmlucHV0cy5hdHRhY2hlZCAhPSBudWxsICYmIHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzLmF0dGFjaGVkLm1vdXNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2VJbnB1dDphbnkgPSB0aGlzLm1fY2FtZXJhUmlnLmlucHV0cy5hdHRhY2hlZC5tb3VzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogVG91Y2ggRW5hYmxlZCBNb3VzZSBIYWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmIChVTklUWS5VdGlsaXRpZXMuSGFzT3duUHJvcGVydHkobW91c2VJbnB1dCwgXCJ0b3VjaEVuYWJsZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlSW5wdXQudG91Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAwIHx8IHRoaXMuY2FtZXJhVHlwZSA9PT0gNCkgeyAvLyBVbml2ZXJzYWwgQW5kIEZyZWUgVGFyZ2V0IENhbWVyYVxuICAgICAgICAgICAgICAgICAgICAvL2lmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPSAodGhpcy5tX2NhbWVyYVJpZyBhcyBCQUJZTE9OLkZyZWVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS5pbmVydGlhID0gdGhpcy5jYW1lcmFJbmVydGlhO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSkudHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIC8vfSAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMSB8fCB0aGlzLmNhbWVyYVR5cGUgPT09IDIpIHsgLy8gV2ViWFIgQ2FtZXJhIFR5cGVzXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9ICh0aGlzLm1fY2FtZXJhUmlnIGFzIEJBQllMT04uRnJlZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKS50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgLy99ICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbW1lcnNpdmVPcHRpb25zICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsU3RvcmFnZVJlcXVpcmVkOmJvb2xlYW4gPSAodGhpcy5pbW1lcnNpdmVPcHRpb25zLmxvY2FsU3RvcmFnZU9wdGlvbiA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlUmVxdWlyZWQgPT09IGZhbHNlIHx8IChsb2NhbFN0b3JhZ2VSZXF1aXJlZCA9PT0gdHJ1ZSAmJiBVTklUWS5XaW5kb3dNYW5hZ2VyLkdldFZpcnR1YWxSZWFsaXR5RW5hYmxlZCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3ZWJ2ckZsb29yTWVzaGVzOkJBQllMT04uTWVzaFtdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2VidnJIZWxwZXJPcHRpb25zOkJBQllMT04uV2ViWFJEZWZhdWx0RXhwZXJpZW5jZU9wdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3ZWJ2ckltbWVyc2l2ZU1vZGU6WFJTZXNzaW9uTW9kZSA9ICh0aGlzLmNhbWVyYVR5cGUgPT09IDEpID8gXCJpbW1lcnNpdmUtYXJcIiA6IFwiaW1tZXJzaXZlLXZyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdlYnZyUmVmZXJlbmNlVHlwZTpYUlJlZmVyZW5jZVNwYWNlVHlwZSA9IFwibG9jYWwtZmxvb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5yZWZlcmVuY2VTcGFjZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJSZWZlcmVuY2VUeXBlID0gXCJ2aWV3ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJ2clJlZmVyZW5jZVR5cGUgPSBcImxvY2FsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJSZWZlcmVuY2VUeXBlID0gXCJsb2NhbC1mbG9vclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwidW5ib3VuZGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwibG9jYWwtZmxvb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbW1lcnNpdmVPcHRpb25zLnNldEZsb29yTWVzaGVzVGFncyA9PSBudWxsIHx8IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5zZXRGbG9vck1lc2hlc1RhZ3MgPT09IFwiXCIpIHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5zZXRGbG9vck1lc2hlc1RhZ3MgPSBcIk5hdmlnYXRpb25cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAudXNlVGVsZXBvcnRhdGlvbiA9PT0gdHJ1ZSkgd2VidnJGbG9vck1lc2hlcyA9IHRoaXMuc2NlbmUuZ2V0TWVzaGVzQnlUYWdzKHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5zZXRGbG9vck1lc2hlc1RhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGVmYXVsdFRlbGVwb3J0YXRpb25TZXR1cC51c2VUZWxlcG9ydGF0aW9uID09PSB0cnVlICYmIHdlYnZyRmxvb3JNZXNoZXMgIT0gbnVsbCAmJiB3ZWJ2ckZsb29yTWVzaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJIZWxwZXJPcHRpb25zID0geyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yTWVzaGVzOiB3ZWJ2ckZsb29yTWVzaGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxGZWF0dXJlczogdGhpcy5pbW1lcnNpdmVPcHRpb25zLm9wdGlvbmFsRmVhdHVyZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VTdGFibGVQbHVnaW5zOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMudXNlU3RhYmxlUGx1Z2lucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ0dyb3VwSWQ6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5yZW5kZXJpbmdHcm91cE51bSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kaXNhYmxlVXNlckludGVyZmFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVUZWxlcG9ydGF0aW9uOiAodGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAudXNlVGVsZXBvcnRhdGlvbiA9PT0gZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVBvaW50ZXJTZWxlY3Rpb246IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kaXNhYmxlUG9pbnRlclNlbGVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZU5hdGl2ZUNhbWVyYVRyYW5zZm9ybWF0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuaWdub3JlTmF0aXZlQ2FtZXJhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Ob3RMb2FkQ29udHJvbGxlck1lc2hlczogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZGlzYWJsZU1lc2hMb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlSW5wdXRQcm9maWxlOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5mb3JjZUlucHV0UHJvZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlT25saW5lQ29udHJvbGxlclJlcG9zaXRvcnk6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmRpc2FibGVSZXBvc2l0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUNvbnRyb2xsZXJzUmVwb3NpdG9yeVVSTDogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY3VzdG9tUmVwb3NpdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlQ29udHJvbGxlckFuaW1hdGlvbjogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZGlzYWJsZU1vZGVsQW5pbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlTW90aW9uQ29udHJvbGxlckFuaW1hdGlvbjogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMuZGlzYWJsZUN0cmxBbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb05vdExvYWRDb250cm9sbGVyTWVzaDogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMuZGlzYWJsZUN0cmxNZXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUNvbnRyb2xsZXJQcm9maWxlOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5mb3JjZUN0cmxQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdHcm91cElkOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5yZW5kZXJpbmdHcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uTW9kZTogd2VidnJJbW1lcnNpdmVNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZVNwYWNlVHlwZTogd2VidnJSZWZlcmVuY2VUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZySGVscGVyT3B0aW9ucyA9IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEZlYXR1cmVzOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMub3B0aW9uYWxGZWF0dXJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZVN0YWJsZVBsdWdpbnM6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy51c2VTdGFibGVQbHVnaW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nR3JvdXBJZDogdGhpcy5pbW1lcnNpdmVPcHRpb25zLnJlbmRlcmluZ0dyb3VwTnVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRpc2FibGVVc2VySW50ZXJmYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVRlbGVwb3J0YXRpb246ICh0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGVmYXVsdFRlbGVwb3J0YXRpb25TZXR1cC51c2VUZWxlcG9ydGF0aW9uID09PSBmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlUG9pbnRlclNlbGVjdGlvbjogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRpc2FibGVQb2ludGVyU2VsZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlTmF0aXZlQ2FtZXJhVHJhbnNmb3JtYXRpb246IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5pZ25vcmVOYXRpdmVDYW1lcmEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb05vdExvYWRDb250cm9sbGVyTWVzaGVzOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlTWVzaExvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VJbnB1dFByb2ZpbGU6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmZvcmNlSW5wdXRQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVPbmxpbmVDb250cm9sbGVyUmVwb3NpdG9yeTogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZGlzYWJsZVJlcG9zaXRvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ29udHJvbGxlcnNSZXBvc2l0b3J5VVJMOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jdXN0b21SZXBvc2l0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDb250cm9sbGVyQW5pbWF0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlTW9kZWxBbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVNb3Rpb25Db250cm9sbGVyQW5pbWF0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5kaXNhYmxlQ3RybEFuaW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90TG9hZENvbnRyb2xsZXJNZXNoOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5kaXNhYmxlQ3RybE1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlQ29udHJvbGxlclByb2ZpbGU6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmNvbnRyb2xsZXJPcHRpb25zLmZvcmNlQ3RybFByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ0dyb3VwSWQ6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5yZW5kZXJpbmdHcm91cE51bVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uTW9kZTogd2VidnJJbW1lcnNpdmVNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZVNwYWNlVHlwZTogd2VidnJSZWZlcmVuY2VUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyID0gYXdhaXQgdGhpcy5zY2VuZS5jcmVhdGVEZWZhdWx0WFJFeHBlcmllbmNlQXN5bmMod2VidnJIZWxwZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlciAhPSBudWxsICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIuYmFzZUV4cGVyaWVuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci50ZWxlcG9ydGF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIudGVsZXBvcnRhdGlvbi5yb3RhdGlvbkFuZ2xlID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAudHVybmluZ0F4aXNBbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyLnRlbGVwb3J0YXRpb24ucm90YXRpb25FbmFibGVkID0gdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAucm90YXRpb25zRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIudGVsZXBvcnRhdGlvbi5iYWNrd2FyZHNNb3ZlbWVudEVuYWJsZWQgPSB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGVmYXVsdFRlbGVwb3J0YXRpb25TZXR1cC5iYWNrd2FyZHNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci50ZWxlcG9ydGF0aW9uLmJhY2t3YXJkc1RlbGVwb3J0YXRpb25EaXN0YW5jZSA9IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kZWZhdWx0VGVsZXBvcnRhdGlvblNldHVwLmJhY2t3YXJkc0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci50ZWxlcG9ydGF0aW9uLnBhcmFib2xpY0NoZWNrUmFkaXVzID0gdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAucGFyYWJvbGljUmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uT25YUkV4cGVyaWVuY2VIZWxwZXJPYnNlcnZhYmxlICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5PblhSRXhwZXJpZW5jZUhlbHBlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5PblhSRXhwZXJpZW5jZUhlbHBlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChVTklUWS5TY2VuZU1hbmFnZXIuSGFzTmF2aWdhdGlvbkRhdGEoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF2bWVzaDpCQUJZTE9OLk1lc2ggPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0TmF2aWdhdGlvbk1lc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5TZXR1cE5hdmlnYXRpb25XZWJYUihuYXZtZXNoLCB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuc2V0Rmxvb3JNZXNoZXNUYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlNjZW5lTWFuYWdlci5Pbk5hdk1lc2hSZWFkeU9ic2VydmFibGUuYWRkT25jZSgobmF2bWVzaDpCQUJZTE9OLk1lc2gpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlNldHVwTmF2aWdhdGlvbldlYlhSKG5hdm1lc2gsIHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5zZXRGbG9vck1lc2hlc1RhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIldlYlhSIG5vdCBzdXBwb3J0ZWQgaW4gY3VycmVudCBicm93c2VyLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMykgeyAvLyBNdWx0aSBQbGF5ZXIgQ2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVyYU5hbWUgPSB0aGlzLm1fY2FtZXJhUmlnLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyT25lVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXIgQ2FtZXJhIDFcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPbmVUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPbmVUcmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJPbmVOYW1lOnN0cmluZyA9IGNhbWVyYU5hbWUgKyBcIi4xXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJPbmVDYW1lcmF4OkJBQllMT04uRnJlZUNhbWVyYSA9IHRoaXMubV9jYW1lcmFSaWcuY2xvbmUocGxheWVyT25lTmFtZSkgYXMgQkFCWUxPTi5GcmVlQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5uYW1lID0gcGxheWVyT25lTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllck9uZUNhbWVyYXgucGFyZW50ID0gcGxheWVyT25lVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPSBwbGF5ZXJPbmVDYW1lcmF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS5pbmVydGlhID0gdGhpcy5jYW1lcmFJbmVydGlhO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSkudHJhbnNmb3JtID0gcGxheWVyT25lVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+cGxheWVyT25lVHJhbnNmb3JtKS5jYW1lcmFSaWcgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAvL30gICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyVHdvVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXIgQ2FtZXJhIDJcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29UcmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUd29OYW1lOnN0cmluZyA9IGNhbWVyYU5hbWUgKyBcIi4yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUd29DYW1lcmF4OkJBQllMT04uRnJlZUNhbWVyYSA9IHRoaXMubV9jYW1lcmFSaWcuY2xvbmUocGxheWVyVHdvTmFtZSkgYXMgQkFCWUxPTi5GcmVlQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5uYW1lID0gcGxheWVyVHdvTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclR3b0NhbWVyYXgucGFyZW50ID0gcGxheWVyVHdvVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgPSBwbGF5ZXJUd29DYW1lcmF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5pbmVydGlhID0gdGhpcy5jYW1lcmFJbmVydGlhO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSkudHJhbnNmb3JtID0gcGxheWVyVHdvVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+cGxheWVyVHdvVHJhbnNmb3JtKS5jYW1lcmFSaWcgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclRocmVlVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXIgQ2FtZXJhIDNcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlVHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUaHJlZU5hbWU6c3RyaW5nID0gY2FtZXJhTmFtZSArIFwiLjNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclRocmVlQ2FtZXJheDpCQUJZTE9OLkZyZWVDYW1lcmEgPSB0aGlzLm1fY2FtZXJhUmlnLmNsb25lKHBsYXllclRocmVlTmFtZSkgYXMgQkFCWUxPTi5GcmVlQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4Lm5hbWUgPSBwbGF5ZXJUaHJlZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZUNhbWVyYXgucGFyZW50ID0gcGxheWVyVGhyZWVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZUNhbWVyYXgucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlQ2FtZXJheC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4LnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZUNhbWVyYXguc2V0RW5hYmxlZChmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhID0gcGxheWVyVGhyZWVDYW1lcmF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEpLnRyYW5zZm9ybSA9IHBsYXllclRocmVlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+cGxheWVyVGhyZWVUcmFuc2Zvcm0pLmNhbWVyYVJpZyA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckZvdXJUcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZShcIlBsYXllciBDYW1lcmEgNFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyVHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJUcmFuc2Zvcm0ucGFyZW50ID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckZvdXJOYW1lOnN0cmluZyA9IGNhbWVyYU5hbWUgKyBcIi40XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJGb3VyQ2FtZXJheDpCQUJZTE9OLkZyZWVDYW1lcmEgPSB0aGlzLm1fY2FtZXJhUmlnLmNsb25lKHBsYXllckZvdXJOYW1lKSBhcyBCQUJZTE9OLkZyZWVDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC5uYW1lID0gcGxheWVyRm91ck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC5wYXJlbnQgPSBwbGF5ZXJGb3VyVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXgucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJDYW1lcmF4LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXguc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSA9IHBsYXllckZvdXJDYW1lcmF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhKS50cmFuc2Zvcm0gPSBwbGF5ZXJGb3VyVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+cGxheWVyRm91clRyYW5zZm9ybSkuY2FtZXJhUmlnID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJWaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlNldE11bHRpUGxheWVyVmlld0xheW91dCh0aGlzLnNjZW5lLCBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uc3RhcnR1cE1vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIENhbWVyYSBBdHRhY2ggQ29udHJvbFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29udHJvbGxlci5hdHRhY2hDb250cm9sID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcucGFyZW50ID0gbnVsbDsgLy8gRGV0YWNoIENhbWVyYSBQYXJlbnQgV2hlbiBBdHRhY2hpbmcgQ29udHJvbFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5yb3RhdGlvblF1YXRlcm5pb24gPSAodGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpID8gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkgOiBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uLngsIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uLnksIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbjpCQUJZTE9OLk5vZGVbXSA9IHRoaXMudHJhbnNmb3JtLmdldENoaWxkcmVuKG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6QkFCWUxPTi5Ob2RlKSA9PiB7IGNoaWxkLnBhcmVudCA9IHRoaXMubV9jYW1lcmFSaWc7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnIGluc3RhbmNlb2YgQkFCWUxPTi5GcmVlQ2FtZXJhKSB7IC8vIE5vdGU6IENoZWNrIEJhc2UgQ2xhc3MgRm9yIFVuaXZlcnNhbCBDYW1lcmFcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuY2hlY2tDb2xsaXNpb25zID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLmNoZWNrQ29sbGlzaW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuYXBwbHlHcmF2aXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnNldEFwcGx5R3Jhdml0eTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLmF0dGFjaENvbnRyb2wodGhpcy5jYW1lcmFDb250cm9sbGVyLnByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBxdWFsaXR5OlVOSVRZLlJlbmRlclF1YWxpdHkgPSBVTklUWS5SZW5kZXJRdWFsaXR5LkhpZ2g7IC8vIEZJWE1FOiBVTklUWS5TY2VuZU1hbmFnZXIuR2V0UmVuZGVyUXVhbGl0eSgpO1xuICAgICAgICAgICAgY29uc3QgYWxsb3dQcm9jZXNzaW5nOmJvb2xlYW4gPSAocXVhbGl0eSA9PT0gVU5JVFkuUmVuZGVyUXVhbGl0eS5IaWdoKTtcbiAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93UHJvY2Vzc2luZyA9PT0gdHJ1ZSAmJiB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nICE9IG51bGwgJiYgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy51c2VQb3N0UHJvY2Vzc2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ucmVuZGVyaW5nUGlwZWxpbmUgPSBuZXcgQkFCWUxPTi5EZWZhdWx0UmVuZGVyaW5nUGlwZWxpbmUoXCJEZWZhdWx0Q2FtZXJhU3lzdGVtXCIsIHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaGlnaER5bmFtaWNSYW5nZSwgdGhpcy5zY2VuZSwgdGhpcy5zY2VuZS5jYW1lcmFzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZS5pc1N1cHBvcnRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFBpcGVsaW5lOkJBQllMT04uRGVmYXVsdFJlbmRlcmluZ1BpcGVsaW5lID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnJlbmRlcmluZ1BpcGVsaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLnNhbXBsZXMgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlbkFudGlBbGlhc2luZy5tc2FhU2FtcGxlczsgLy8gMSBieSBkZWZhdWx0IChNU0FBKVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogSW1hZ2UgUHJvY2Vzc2luZyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZ0VuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnZVByb2Nlc3Npbmc7IC8vdHJ1ZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbnRyYXN0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2VDb250cmFzdDsgLy8gMSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5leHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdlRXhwb3N1cmU7IC8vIDEgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudG9uZU1hcHBpbmdFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudG9uZU1hcHBpbmc7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnRvbmVNYXBwaW5nVHlwZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnRvbmVNYXBUeXBlOyAvLyBzdGFuZGFyZCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy52aWduZXR0ZUVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZUVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVCbGVuZE1vZGUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZUJsZW5kTW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy52aWduZXR0ZUNhbWVyYUZvdiA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlQ2FtZXJhRm92O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnZpZ25ldHRlQ2VudHJlWCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlQ2VudHJlWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy52aWduZXR0ZUNlbnRyZVkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZUNlbnRyZVk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVTdHJldGNoID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVTdHJldGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnZpZ25ldHRlV2VpZ2h0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVXZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZUNvbG9yICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZjb2xvcjpCQUJZTE9OLkNvbG9yNCA9IFVOSVRZLlV0aWxpdGllcy5QYXJzZUNvbG9yNCh0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZUNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2Y29sb3IgIT0gbnVsbCkgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy52aWduZXR0ZUNvbG9yID0gdmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIENvbG9yIEdyYWRpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ0VuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy51c2VDb2xvckdyYWRpbmc7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtFRVAgRk9SIFJFRkVSRU5DRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiB1c2luZyAuM2RsIChiZXN0KSA6IGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JHcmFkaW5nVGV4dHVyZSA9IG5ldyBCQUJZTE9OLkNvbG9yR3JhZGluZ1RleHR1cmUoXCJ0ZXh0dXJlcy9MYXRlU3Vuc2V0LjNkbFwiLCB0aGlzLnNjZW5lKTsgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogdXNpbmcgLnBuZyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvckdyYWRpbmdUZXh0dXJlID0gbmV3IEJBQllMT04uVGV4dHVyZShcInRleHR1cmVzL2NvbG9yR3JhZGUtaGlnaENvbnRyYXN0LnBuZ1wiLCB0aGlzLnNjZW5lLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yR3JhZGluZ1RleHR1cmUud3JhcFUgPSBCQUJZTE9OLlRleHR1cmUuQ0xBTVBfQUREUkVTU01PREU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yR3JhZGluZ1RleHR1cmUud3JhcFYgPSBCQUJZTE9OLlRleHR1cmUuQ0xBTVBfQUREUkVTU01PREU7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ1RleHR1cmUgPSBjb2xvckdyYWRpbmdUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoID0gZmFsc2U7ICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5zZXRHcmFkaW5nVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvckdyYWRpbmdUZXh0dXJlOkJBQllMT04uVGV4dHVyZSA9IFVOSVRZLlV0aWxpdGllcy5QYXJzZVRleHR1cmUodGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuc2V0R3JhZGluZ1RleHR1cmUsIHRoaXMuc2NlbmUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yR3JhZGluZ1RleHR1cmUud3JhcFUgPSBCQUJZTE9OLlRleHR1cmUuQ0xBTVBfQUREUkVTU01PREU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckdyYWRpbmdUZXh0dXJlLndyYXBWID0gQkFCWUxPTi5UZXh0dXJlLkNMQU1QX0FERFJFU1NNT0RFOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JHcmFkaW5nVGV4dHVyZSA9IGNvbG9yR3JhZGluZ1RleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5kZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nKS5jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIENvbG9yIEN1cnZlcyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JDdXJ2ZXNFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmN1cnZlc0VuYWJsZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckN1cnZlc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlID0gbmV3IEJBQllMT04uQ29sb3JDdXJ2ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuZ2xvYmFsRGVuc2l0eSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5nbG9iYWxEZW47IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5nbG9iYWxFeHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5nbG9iYWxFeHA7IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5nbG9iYWxIdWUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuZ2xvYmFsSHVlOyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmdsb2JhbFNhdHVyYXRpb24gPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuZ2xvYmFsU2F0OyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuaGlnaGxpZ2h0c0RlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuaGlnaGxpZ2h0c0RlbjsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmhpZ2hsaWdodHNFeHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5oaWdobGlnaHRzRXhwOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuaGlnaGxpZ2h0c0h1ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5oaWdobGlnaHRzSHVlOyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmhpZ2hsaWdodHNTYXR1cmF0aW9uID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmhpZ2hsaWdodHNTYXQ7IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5taWR0b25lc0RlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMubWlkdG9uZXNEZW47IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5taWR0b25lc0V4cG9zdXJlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLm1pZHRvbmVzRXhwOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUubWlkdG9uZXNIdWUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMubWlkdG9uZXNIdWU7IC8vIDMwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUubWlkdG9uZXNTYXR1cmF0aW9uID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLm1pZHRvbmVzU2F0OyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuc2hhZG93c0RlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuc2hhZG93c0RlbjsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLnNoYWRvd3NFeHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5zaGFkb3dzRXhwOyAvLyA4MDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5zaGFkb3dzSHVlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLnNoYWRvd3NIdWU7IC8vIDMwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuc2hhZG93c1NhdHVyYXRpb24gPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuc2hhZG93c1NhdDsgLy8gMCBieSBkZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yQ3VydmVzID0gY3VydmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQmxvb20gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ibG9vbUVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmJsb29tRWZmZWN0UHJvcGVydGllcy5ibG9vbUVuYWJsZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuYmxvb21FbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmJsb29tS2VybmVsID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ibG9vbUVmZmVjdFByb3BlcnRpZXMuYmxvb21LZXJuZWw7IC8vIDY0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuYmxvb21TY2FsZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuYmxvb21FZmZlY3RQcm9wZXJ0aWVzLmJsb29tU2NhbGU7IC8vIDAuNSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmJsb29tV2VpZ2h0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ibG9vbUVmZmVjdFByb3BlcnRpZXMuYmxvb21XZWlnaHQ7IC8vIDAuMTUgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ibG9vbVRocmVzaG9sZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuYmxvb21FZmZlY3RQcm9wZXJ0aWVzLmJsb29tVGhyZXNob2xkOyAvLyAwLjkgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2hyb21hdGljIEFiYmVyYXRpb24gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5hYmVycmF0aW9uRW5hYmxlZDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmFiZXJyYXRpb25BbW91bnQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24uYWJlcnJhdGlvbkFtb3VudDsgLy8gMzAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5hZGFwdFNjYWxlVmlld3BvcnQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5hbHBoYU1vZGUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24uYWxwaGFNb2RlOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5hbHdheXNGb3JjZVBPVCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5hbHdheXNGb3JjZVBPVDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24ucGl4ZWxQZXJmZWN0TW9kZTsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5jaHJvbWF0aWNBYmVycmF0aW9uLmZ1bGxzY3JlZW5WaWV3cG9ydDsgLy8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBET0YgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5kZXB0aE9mRmllbGRFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5kZXB0aE9mRmllbGQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkRW5hYmxlZCAmJiBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkLmlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZEJsdXJMZXZlbCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQuYmx1ckxldmVsOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkLmZTdG9wID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5mb2NhbFN0b3A7IC8vIDEuNCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5mb2NhbExlbmd0aCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQuZm9jYWxMZW5ndGg7IC8vIDUwIGJ5IGRlZmF1bHQsIG1tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5mb2N1c0Rpc3RhbmNlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5mb2N1c0Rpc3RhbmNlOyAvLyAyMDAwIGJ5IGRlZmF1bHQsIG1tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5sZW5zU2l6ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQubWF4TGVuc1NpemU7IC8vIDUwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEZYQUEgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5meGFhRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuQW50aUFsaWFzaW5nLmZ4YWFFbmFibGVkOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmZ4YWFFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmZ4YWEuc2FtcGxlcyA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuQW50aUFsaWFzaW5nLmZ4YWFTYW1wbGVzOyAvLyAxIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZnhhYS5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlbkFudGlBbGlhc2luZy5meGFhU2NhbGluZzsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogR2xvd0xheWVyICovXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ2xvd0xheWVyRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ2xvd0xheWVyUHJvcGVydGllcy5nbG93RW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuZ2xvd0xheWVyRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5nbG93TGF5ZXIuaW50ZW5zaXR5ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5nbG93TGF5ZXJQcm9wZXJ0aWVzLmdsb3dJbnRlbnNpdHk7IC8vIDEgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5nbG93TGF5ZXIuYmx1cktlcm5lbFNpemUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmdsb3dMYXllclByb3BlcnRpZXMuYmx1cktlcm5lbFNpemU7IC8vIDE2IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEdyYWluICovXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ3JhaW5FbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ncmFpbkVmZmVjdFByb3BlcnRpZXMuZ3JhaW5FbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5ncmFpbkVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ3JhaW4uYW5pbWF0ZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmdyYWluRWZmZWN0UHJvcGVydGllcy5ncmFpbkFuaW1hdGVkOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdyYWluLmludGVuc2l0eSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ3JhaW5FZmZlY3RQcm9wZXJ0aWVzLmdyYWluSW50ZW5zaXR5OyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdyYWluLmFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ3JhaW5FZmZlY3RQcm9wZXJ0aWVzLmFkYXB0U2NhbGVWaWV3cG9ydDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogU2hhcnBlbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLnNoYXJwZW5FbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zaGFycEVmZmVjdFByb3BlcnRpZXMuc2hhcnBlbkVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLnNoYXJwZW5FbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLnNoYXJwZW4uZWRnZUFtb3VudCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2hhcnBFZmZlY3RQcm9wZXJ0aWVzLnNoYXJwRWRnZUFtb3VudDsgLy8gMC4zIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuc2hhcnBlbi5jb2xvckFtb3VudCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2hhcnBFZmZlY3RQcm9wZXJ0aWVzLnNoYXJwQ29sb3JBbW91bnQ7IC8vIDEgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5zaGFycGVuLmFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2hhcnBFZmZlY3RQcm9wZXJ0aWVzLmFkYXB0U2NhbGVWaWV3cG9ydDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJCYWJ5bG9uLmpzIGRlZmF1bHQgcmVuZGVyaW5nIHBpcGVsaW5lIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2NyZWVuIFNwYWNlIEFtYmllbnQgT2NjbHVzaW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nICE9IG51bGwgJiYgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5TU0FPID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzc2FvUmF0aW86YW55ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNzYW9SYXRpbzogdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5TU0FPUmF0aW8sICAgICAvLyBSYXRpbyBvZiB0aGUgU1NBTyBwb3N0LXByb2Nlc3MsIGluIGEgbG93ZXIgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJpbmVSYXRpbzogdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5jb21iaW5lUmF0aW8gICAvLyBSYXRpbyBvZiB0aGUgY29tYmluZSBwb3N0LXByb2Nlc3MgKGNvbWJpbmVzIHRoZSBTU0FPIGFuZCB0aGUgc2NlbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9OyAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnNjcmVlblNwYWNlUGlwZWxpbmUgPSBuZXcgQkFCWUxPTi5TU0FPUmVuZGVyaW5nUGlwZWxpbmUoXCJEZWZhdWx0Q2FtZXJhU3lzdGVtLVNTQU9cIiwgdGhpcy5zY2VuZSwgc3Nhb1JhdGlvLCB0aGlzLnNjZW5lLmNhbWVyYXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5zY3JlZW5TcGFjZVBpcGVsaW5lLmlzU3VwcG9ydGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Nhb1BpcGVsaW5lOkJBQllMT04uU1NBT1JlbmRlcmluZ1BpcGVsaW5lID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnNjcmVlblNwYWNlUGlwZWxpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Nhb1BpcGVsaW5lLmZhbGxPZmYgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nLmZhbGxPZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Nhb1BpcGVsaW5lLmFyZWEgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nLmFyZWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Nhb1BpcGVsaW5lLnJhZGl1cyA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuU3BhY2VSZW5kZXJpbmcucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNzYW9QaXBlbGluZS50b3RhbFN0cmVuZ3RoID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy50b3RhbFN0cmVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNzYW9QaXBlbGluZS5iYXNlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5iYXNlVmFsdWU7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJCYWJ5bG9uLmpzIFNTQU8gcmVuZGVyaW5nIHBpcGVsaW5lIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvL31cbiAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5jYW1lcmFSZWFkeSA9IHRydWU7ICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUNhbWVyYVN5c3RlbVN0YXRlKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVJpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMCkgeyAgICAgICAgLy8gRGVmYXVsdCBVbml2ZXJzYWwgQ2FtZXJhXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDEpIHsgLy8gQXVnbWVudGVkIFJlYWxpdHkgQ2FtZXJhXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDIpIHsgLy8gVmlydHVhbCBSZWFsaXR5IENhbWVyYVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAzKSB7IC8vIE11bHRpIFBsYXllciBDYW1lcmFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGNsZWFuQ2FtZXJhU3lzdGVtU3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL1BST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL1BST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95Q2FtZXJhU3lzdGVtU3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuaW1tZXJzaXZlT3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBWaXJ0dWFsIFJlYWxpdHkgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBHZXQgdGhlIFdlYlhSIGRlZmF1bHQgZXhwZXJpZW5jZSBoZWxwZXIgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRXZWJYUigpOkJBQllMT04uV2ViWFJEZWZhdWx0RXhwZXJpZW5jZSB7IHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyOyB9XG4gICAgICAgIC8qKiBJcyB1bml2ZXJzYWwgY2FtZXJhIHN5c3RlbSBpbiBXZWJYUiBtb2RlICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNJbldlYlhSKCk6Ym9vbGVhbiB7IHJldHVybiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlciAhPSBudWxsICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIuYmFzZUV4cGVyaWVuY2UgIT0gbnVsbCAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyLmJhc2VFeHBlcmllbmNlLnN0YXRlID09PSBCQUJZTE9OLldlYlhSU3RhdGUuSU5fWFIpOyB9XG4gICAgICAgIC8qKiBTZXR1cCBuYXZpZ2F0aW9uIG1lc2ggZm9yIFdlYlhSICovXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNldHVwTmF2aWdhdGlvbldlYlhSKG1lc2g6QkFCWUxPTi5NZXNoLCB0YWc6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHdlYnhyOkJBQllMT04uV2ViWFJEZWZhdWx0RXhwZXJpZW5jZSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXI7XG4gICAgICAgICAgICBpZiAod2VieHIgIT0gbnVsbCAmJiB3ZWJ4ci50ZWxlcG9ydGF0aW9uICE9IG51bGwgJiYgbWVzaCAhPSBudWxsICYmIHRhZyAhPSBudWxsICYmIHRhZyAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzdGFnOmJvb2xlYW4gPSBCQUJZTE9OLlRhZ3MuTWF0Y2hlc1F1ZXJ5KG1lc2gsIHRhZyk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc3RhZyA9PT0gdHJ1ZSkgd2VieHIudGVsZXBvcnRhdGlvbi5hZGRGbG9vck1lc2gobWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBTeXN0ZW0gUGxheWVyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogR2V0IG1haW4gY2FtZXJhIHJpZyBmb3IgdGhlIHNjZW5lICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TWFpbkNhbWVyYShzY2VuZTpCQUJZTE9OLlNjZW5lLCBkZXRhY2g6Ym9vbGVhbiA9IGZhbHNlKTpCQUJZTE9OLkZyZWVDYW1lcmEgeyBcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uR2V0UGxheWVyQ2FtZXJhKHNjZW5lLCBVTklUWS5QbGF5ZXJOdW1iZXIuT25lLCBkZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgdW5pdmVyc2FsIGNhbWVyYSByaWcgZm9yIGRlc2lyZWQgcGxheWVyICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0UGxheWVyQ2FtZXJhKHNjZW5lOkJBQllMT04uU2NlbmUsIHBsYXllcjpVTklUWS5QbGF5ZXJOdW1iZXIgPSBVTklUWS5QbGF5ZXJOdW1iZXIuT25lLCBkZXRhY2g6Ym9vbGVhbiA9IGZhbHNlKTpCQUJZTE9OLkZyZWVDYW1lcmEgeyBcbiAgICAgICAgICAgIGxldCByZXN1bHQ6QkFCWUxPTi5GcmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB0cmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLkdldENhbWVyYVRyYW5zZm9ybShzY2VuZSwgcGxheWVyKTtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uSXNDYW1lcmFTeXN0ZW1SZWFkeSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllciA9PT0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhICE9IG51bGwpIHJlc3VsdCA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyID09PSBVTklUWS5QbGF5ZXJOdW1iZXIuVHdvICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgIT0gbnVsbCkgcmVzdWx0ID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IFVOSVRZLlBsYXllck51bWJlci5UaHJlZSAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEgIT0gbnVsbCkgcmVzdWx0ID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllciA9PT0gVU5JVFkuUGxheWVyTnVtYmVyLkZvdXIgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgIT0gbnVsbCkgcmVzdWx0ID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmE7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsICYmIGRldGFjaCA9PT0gdHJ1ZSAmJiBwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucG9zaXRpb24uY29weUZyb20odHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yb3RhdGlvblF1YXRlcm5pb24gPSAodHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSA6IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModHJhbnNmb3JtLnJvdGF0aW9uLngsIHRyYW5zZm9ybS5yb3RhdGlvbi55LCB0cmFuc2Zvcm0ucm90YXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbjpCQUJZTE9OLk5vZGVbXSA9IHRyYW5zZm9ybS5nZXRDaGlsZHJlbihudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6QkFCWUxPTi5Ob2RlKSA9PiB7IGNoaWxkLnBhcmVudCA9IHJlc3VsdDsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgY2FtZXJhIHRyYW5zZm9ybSBub2RlIGZvciBkZXNpcmVkIHBsYXllciAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldENhbWVyYVRyYW5zZm9ybShzY2VuZTpCQUJZTE9OLlNjZW5lLCBwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyID0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgXG4gICAgICAgICAgICBsZXQgcmVzdWx0OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLklzQ2FtZXJhU3lzdGVtUmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIgPT09IFVOSVRZLlBsYXllck51bWJlci5PbmUgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSAhPSBudWxsICYmICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpLnRyYW5zZm9ybSAhPSBudWxsKSByZXN1bHQgPSAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKS50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyID09PSBVTklUWS5QbGF5ZXJOdW1iZXIuVHdvICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgIT0gbnVsbCAmJiAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhKS50cmFuc2Zvcm0gIT0gbnVsbCkgcmVzdWx0ID0gKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSkudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllciA9PT0gVU5JVFkuUGxheWVyTnVtYmVyLlRocmVlICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSAhPSBudWxsICYmICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSkudHJhbnNmb3JtICE9IG51bGwpIHJlc3VsdCA9ICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSkudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllciA9PT0gVU5JVFkuUGxheWVyTnVtYmVyLkZvdXIgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgIT0gbnVsbCAmJiAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSkudHJhbnNmb3JtICE9IG51bGwpIHJlc3VsdCA9ICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhKS50cmFuc2Zvcm07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFVuaXZlcnNhbCBDYW1lcmEgU3lzdGVtIE11bHRpIFBsYXllciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEFyZSBzdGVyZW8gc2lkZSBzaWRlIGNhbWVyYSBzZXJ2aWNlcyBhdmFpbGFibGUuICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNTdGVyZW9DYW1lcmFzKCk6Ym9vbGVhbiB7IFxuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5zdGVyZW9DYW1lcmFzO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBBcmUgbG9jYWwgbXVsdGkgcGxheWVyIHZpZXcgc2VydmljZXMgYXZhaWxhYmxlLiAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzTXVsdGlQbGF5ZXJWaWV3KCk6Ym9vbGVhbiB7IFxuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllclZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB0aGUgY3VycmVudCBsb2NhbCBtdWx0aSBwbGF5ZXIgY291bnQgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRNdWx0aVBsYXllckNvdW50KCk6bnVtYmVyIHsgXG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEFjdGl2YXRlcyBjdXJyZW50IGxvY2FsIG11bHRpIHBsYXllciBjYW1lcmFzLiAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEFjdGl2YXRlTXVsdGlQbGF5ZXJDYW1lcmFzKHNjZW5lOkJBQllMT04uU2NlbmUpOmJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcyAhPSBudWxsICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNjZW5lLmFjdGl2ZUNhbWVyYXMgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBEaXNwb3NlcyBjdXJyZW50IGxvY2FsIG11bHRpcGxheWVyIGNhbWVyYXMgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBEaXNwb3NlTXVsdGlQbGF5ZXJDYW1lcmFzKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgdGhlIG11bHRpIHBsYXllciBjYW1lcmEgdmlldyBsYXlvdXQgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRNdWx0aVBsYXllclZpZXdMYXlvdXQoc2NlbmU6QkFCWUxPTi5TY2VuZSwgdG90YWxOdW1QbGF5ZXJzOm51bWJlcik6Ym9vbGVhbiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwbGF5ZXJzOm51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRvdGFsTnVtUGxheWVycywgMSwgNCk7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLklzTXVsdGlQbGF5ZXJWaWV3KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSAhPSBudWxsICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgIT0gbnVsbCAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEgIT0gbnVsbCAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllcnMgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF5ZXJzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnN0ZXJlb0NhbWVyYXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMC41LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMC41LCAwLCAwLjUsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMC41LCAxLCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAxLCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxheWVycyA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAuNSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMC41LCAwLjUsIDAuNSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAuNSwgMCwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF5ZXJzID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMC41LCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMC41LCAwLjUsIDAuNSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLjUsIDAsIDAuNSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkJhYnlsb24uanMgY2FtZXJhIHJpZyBpbnZhbGlkIHBsYXllciBjb3VudCBzcGVjaWZpZWQ6IFwiICsgcGxheWVycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkJhYnlsb24uanMgY2FtZXJhIHJpZyBmYWlsZWQgdG8gaW5pdGlhbGl6ZSBtdWx0aSBwbGF5ZXIgY2FtZXJhc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ291bnQgPSBwbGF5ZXJzO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5BY3RpdmF0ZU11bHRpUGxheWVyQ2FtZXJhcyhzY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiQmFieWxvbi5qcyBjYW1lcmEgcmlnIGZhaWxlZCB0byBpbml0aWFsaXplIG11bHRpIHBsYXllciB2aWV3c1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJCYWJ5bG9uLmpzIGNhbWVyYSByaWcgbXVsdGkgcGxheWVyIHZpZXcgb3B0aW9uIG5vdCBlbmFibGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8qKiBDYW1lcmEgRWRpdG9yIFByb3BlcnRpZXMgU3VwcG9ydCBDbGFzc2VzICovXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JBcmNSdG90YXRlIHtcbiAgICAgICAgYWxwaGE6bnVtYmVyO1xuICAgICAgICBiZXRhOm51bWJlcjtcbiAgICAgICAgcmFkaXVzOm51bWJlcjtcbiAgICAgICAgdGFyZ2V0OlVOSVRZLklVbml0eVZlY3RvcjM7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvclBvc3RQcm9jZXNzaW5nIHtcbiAgICAgICAgdXNlUG9zdFByb2Nlc3Npbmc6Ym9vbGVhbjtcbiAgICAgICAgaGlnaER5bmFtaWNSYW5nZTpib29sZWFuO1xuICAgICAgICBzY3JlZW5BbnRpQWxpYXNpbmc6UFJPSkVDVC5JRWRpdG9yQW50aUFsaWFzaW5nO1xuICAgICAgICBmb2NhbERlcHRoT2ZGaWVsZDpQUk9KRUNULklFZGl0b3JEZXB0aE9mRmllbGQ7XG4gICAgICAgIGNocm9tYXRpY0FiZXJyYXRpb246UFJPSkVDVC5JRWRpdG9yQ2hyb21hdGljQWJlcnJhdGlvbjtcbiAgICAgICAgZ2xvd0xheWVyUHJvcGVydGllczpQUk9KRUNULklFZGl0b3JHbG93TGF5ZXI7XG4gICAgICAgIGdyYWluRWZmZWN0UHJvcGVydGllczpQUk9KRUNULklFZGl0b3JHcmFpbkVmZmVjdDtcbiAgICAgICAgc2hhcnBFZmZlY3RQcm9wZXJ0aWVzOlBST0pFQ1QuSUVkaXRvclNoYXJwZW5FZmZlY3Q7XG4gICAgICAgIGJsb29tRWZmZWN0UHJvcGVydGllczpQUk9KRUNULklFZGl0b3JCbG9vbVByb2Nlc3Npbmc7XG4gICAgICAgIGltYWdlUHJvY2Vzc2luZ0NvbmZpZzpQUk9KRUNULklFZGl0b3JJbWFnZVByb2Nlc3Npbmc7XG4gICAgICAgIHNjcmVlblNwYWNlUmVuZGVyaW5nOlBST0pFQ1QuSUVkaXRvclNjcmVlblNwYWNlO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JTY3JlZW5TcGFjZSB7XG4gICAgICAgIFNTQU86Ym9vbGVhbjtcbiAgICAgICAgU1NBT1JhdGlvOm51bWJlcjtcbiAgICAgICAgY29tYmluZVJhdGlvOm51bWJlcjtcbiAgICAgICAgdG90YWxTdHJlbmd0aDpudW1iZXI7XG4gICAgICAgIHJhZGl1czpudW1iZXI7XG4gICAgICAgIGFyZWE6bnVtYmVyO1xuICAgICAgICBmYWxsT2ZmOm51bWJlcjtcbiAgICAgICAgYmFzZVZhbHVlOm51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yQW50aUFsaWFzaW5nIHtcbiAgICAgICAgbXNhYVNhbXBsZXM6bnVtYmVyO1xuICAgICAgICBmeGFhRW5hYmxlZDpib29sZWFuO1xuICAgICAgICBmeGFhU2NhbGluZzpib29sZWFuO1xuICAgICAgICBmeGFhU2FtcGxlczpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckRlcHRoT2ZGaWVsZCB7XG4gICAgICAgIGRlcHRoT2ZGaWVsZDpib29sZWFuO1xuICAgICAgICBibHVyTGV2ZWw6bnVtYmVyO1xuICAgICAgICBmb2NhbFN0b3A6bnVtYmVyO1xuICAgICAgICBmb2NhbExlbmd0aDpudW1iZXI7XG4gICAgICAgIGZvY3VzRGlzdGFuY2U6bnVtYmVyO1xuICAgICAgICBtYXhMZW5zU2l6ZTpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckNocm9tYXRpY0FiZXJyYXRpb24ge1xuICAgICAgICBhYmVycmF0aW9uRW5hYmxlZDpib29sZWFuO1xuICAgICAgICBhYmVycmF0aW9uQW1vdW50Om51bWJlcjtcbiAgICAgICAgYWRhcHRTY2FsZVZpZXdwb3J0OmJvb2xlYW47XG4gICAgICAgIGFscGhhTW9kZTpudW1iZXI7XG4gICAgICAgIGFsd2F5c0ZvcmNlUE9UOmJvb2xlYW47XG4gICAgICAgIHBpeGVsUGVyZmVjdE1vZGU6Ym9vbGVhbjtcbiAgICAgICAgZnVsbHNjcmVlblZpZXdwb3J0OmJvb2xlYW47XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckdsb3dMYXllciB7XG4gICAgICAgIGdsb3dFbmFibGVkOmJvb2xlYW47XG4gICAgICAgIGdsb3dJbnRlbnNpdHk6bnVtYmVyO1xuICAgICAgICBibHVyS2VybmVsU2l6ZTpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckdyYWluRWZmZWN0IHtcbiAgICAgICAgZ3JhaW5FbmFibGVkOmJvb2xlYW47XG4gICAgICAgIGdyYWluQW5pbWF0ZWQ6Ym9vbGVhbjtcbiAgICAgICAgZ3JhaW5JbnRlbnNpdHk6bnVtYmVyO1xuICAgICAgICBhZGFwdFNjYWxlVmlld3BvcnQ6Ym9vbGVhbjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yU2hhcnBlbkVmZmVjdCB7XG4gICAgICAgIHNoYXJwZW5FbmFibGVkOmJvb2xlYW47XG4gICAgICAgIHNoYXJwRWRnZUFtb3VudDpudW1iZXI7XG4gICAgICAgIHNoYXJwQ29sb3JBbW91bnQ6bnVtYmVyO1xuICAgICAgICBhZGFwdFNjYWxlVmlld3BvcnQ6Ym9vbGVhbjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yQmxvb21Qcm9jZXNzaW5nIHtcbiAgICAgICAgYmxvb21FbmFibGVkOmJvb2xlYW47XG4gICAgICAgIGJsb29tS2VybmVsOm51bWJlcjtcbiAgICAgICAgYmxvb21TY2FsZTpudW1iZXI7XG4gICAgICAgIGJsb29tV2VpZ2h0Om51bWJlcjtcbiAgICAgICAgYmxvb21UaHJlc2hvbGQ6bnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JDb2xvckN1cnZlcyB7XG4gICAgICAgIGN1cnZlc0VuYWJsZWQ6Ym9vbGVhbjtcbiAgICAgICAgZ2xvYmFsRGVuOm51bWJlcjtcbiAgICAgICAgZ2xvYmFsRXhwOm51bWJlcjtcbiAgICAgICAgZ2xvYmFsSHVlOm51bWJlcjtcbiAgICAgICAgZ2xvYmFsU2F0Om51bWJlcjtcbiAgICAgICAgaGlnaGxpZ2h0c0RlbjpudW1iZXI7XG4gICAgICAgIGhpZ2hsaWdodHNFeHA6bnVtYmVyO1xuICAgICAgICBoaWdobGlnaHRzSHVlOm51bWJlcjtcbiAgICAgICAgaGlnaGxpZ2h0c1NhdDpudW1iZXI7XG4gICAgICAgIG1pZHRvbmVzRGVuOm51bWJlcjtcbiAgICAgICAgbWlkdG9uZXNFeHA6bnVtYmVyO1xuICAgICAgICBtaWR0b25lc0h1ZTpudW1iZXI7XG4gICAgICAgIG1pZHRvbmVzU2F0Om51bWJlcjtcbiAgICAgICAgc2hhZG93c0RlbjpudW1iZXI7XG4gICAgICAgIHNoYWRvd3NFeHA6bnVtYmVyO1xuICAgICAgICBzaGFkb3dzSHVlOm51bWJlcjtcbiAgICAgICAgc2hhZG93c1NhdDpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckltYWdlUHJvY2Vzc2luZyB7XG4gICAgICAgIGltYWdlUHJvY2Vzc2luZzpib29sZWFuO1xuICAgICAgICBpbWFnZUNvbnRyYXN0Om51bWJlcjtcbiAgICAgICAgaW1hZ2VFeHBvc3VyZTpudW1iZXI7XG4gICAgICAgIHRvbmVNYXBwaW5nOmJvb2xlYW47XG4gICAgICAgIHRvbmVNYXBUeXBlOm51bWJlcjsgICAgICAgIFxuICAgICAgICB2aWduZXR0ZUVuYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIHZpZ25ldHRlQmxlbmRNb2RlOiBudW1iZXI7XG4gICAgICAgIHZpZ25ldHRlQ2FtZXJhRm92OiBudW1iZXI7XG4gICAgICAgIHZpZ25ldHRlU3RyZXRjaDogbnVtYmVyO1xuICAgICAgICB2aWduZXR0ZUNlbnRyZVg6IG51bWJlcjtcbiAgICAgICAgdmlnbmV0dGVDZW50cmVZOiBudW1iZXI7XG4gICAgICAgIHZpZ25ldHRlV2VpZ2h0OiBudW1iZXI7XG4gICAgICAgIHZpZ25ldHRlQ29sb3I6IFVOSVRZLklVbml0eUNvbG9yO1xuICAgICAgICB1c2VDb2xvckdyYWRpbmc6Ym9vbGVhbjtcbiAgICAgICAgc2V0R3JhZGluZ1RleHR1cmU6YW55O1xuICAgICAgICBpbWFnaW5nQ29sb3JDdXJ2ZXM6UFJPSkVDVC5JRWRpdG9yQ29sb3JDdXJ2ZXM7XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAgKiBAY2xhc3MgRGVidWdJbmZvcm1hdGlvblxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBEZWJ1Z0luZm9ybWF0aW9uIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBrZXlzOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIHNob3c6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgcG9wdXA6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHZpZXdzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSB4Ym94OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjb2xvcjpCQUJZTE9OLkNvbG9yMyA9IEJBQllMT04uQ29sb3IzLkdyZWVuKCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLmtleXMgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlRGVidWdLZXlzXCIsIHRoaXMua2V5cyk7XG4gICAgICAgICAgICB0aGlzLnNob3cgPSB0aGlzLmdldFByb3BlcnR5KFwic2hvd0RlYnVnTGFiZWxzXCIsIHRoaXMuc2hvdyk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvcHVwRGVidWdQYW5lbFwiLCB0aGlzLnBvcHVwKTtcbiAgICAgICAgICAgIHRoaXMudmlld3MgPSB0aGlzLmdldFByb3BlcnR5KFwidG9nZ2xlUGxheWVyVmlld3NcIiwgdGhpcy52aWV3cyk7XG4gICAgICAgICAgICB0aGlzLnhib3ggPSB0aGlzLmdldFByb3BlcnR5KFwiYWxsb3dYYm94TGl2ZVNpZ25JblwiLCB0aGlzLnhib3gpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGRlYnVnTGFiZWxDb2xvcjpVTklUWS5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkZWJ1Z091dHB1dFRleHRDb2xvclwiKTtcbiAgICAgICAgICAgIGlmIChkZWJ1Z0xhYmVsQ29sb3IgIT0gbnVsbCkgdGhpcy5jb2xvciA9IFVOSVRZLlV0aWxpdGllcy5QYXJzZUNvbG9yMyhkZWJ1Z0xhYmVsQ29sb3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChVTklUWS5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB0aGlzLnBvcHVwID0gZmFsc2U7XG4gICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShcIkRlYnVnIGluZm9ybWF0aW9uIG92ZXJsYXkgbG9hZGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCkgOnZvaWQge1xuICAgICAgICAgICAgLy90aGlzLnNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NyZWVuXCIpO1xuICAgICAgICAgICAgLy90aGlzLnRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9nZ2xlXCIpO1xuICAgICAgICAgICAgLy90aGlzLnNpZ25pbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lnbmluXCIpO1xuICAgICAgICAgICAgLy90aGlzLnJlbG9hZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVsb2FkXCIpO1xuICAgICAgICAgICAgLy90aGlzLm1vdXNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb3VzZVwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5kZWJ1ZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG93ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5rZXlzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghVU5JVFkuU2NlbmVNYW5hZ2VyLklzWGJveE9uZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zY3JlZW4pIHRoaXMuc2NyZWVuLmlubmVySFRNTCA9IFwiRiAtIFNob3cgRnVsbCBTY3JlZW5cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5DYW1lcmFTeXN0ZW0uSXNNdWx0aVBsYXllclZpZXcoKSAmJiB0aGlzLnZpZXdzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50b2dnbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVU5JVFkuU2NlbmVNYW5hZ2VyLklzWGJveE9uZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlLnN0eWxlLnRvcCA9IFwiMjlweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZS5pbm5lckhUTUwgPSBcIjEgLSA0IFRvZ2dsZSBQbGF5ZXIgVmlld1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChVTklUWS5TY2VuZU1hbmFnZXIuSXNYYm94TGl2ZVBsdWdpbkVuYWJsZWQoKSAmJiB0aGlzLnhib3ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNpZ25pbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChVTklUWS5TY2VuZU1hbmFnZXIuSXNYYm94T25lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduaW4uc3R5bGUudG9wID0gXCI0OXB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnbmluLmlubmVySFRNTCA9IFwiWCAtIFhib3ggTGl2ZSBTaWduIEluXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW91c2UpIHRoaXMubW91c2UuaW5uZXJIVE1MID0gKFVOSVRZLlNjZW5lTWFuYWdlci5Jc1hib3hPbmUoKSkgPyBcIk0gLSBNb3VzZVwiIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVsb2FkKSB0aGlzLnJlbG9hZC5pbm5lckhUTUwgPSBcIlIgLSBSZWxvYWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHRoaXMuZGVidWcuaW5uZXJIVE1MID0gXCJQIC0gRGVidWdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmtleXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShcIkVuYWJsZSBNdWx0aXBsYXllciBLZXlzXCIpO1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKFVOSVRZLlVzZXJJbnB1dEtleS5OdW0xLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlNldE11bHRpUGxheWVyVmlld0xheW91dCh0aGlzLnNjZW5lLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dNZXNzYWdlKFwiMSBwbGF5ZXIgcHJlc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoVU5JVFkuVXNlcklucHV0S2V5Lk51bTIsICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0TXVsdGlQbGF5ZXJWaWV3TGF5b3V0KHRoaXMuc2NlbmUsIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoXCIyIHBsYXllcnMgcHJlc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoVU5JVFkuVXNlcklucHV0S2V5Lk51bTMsICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0TXVsdGlQbGF5ZXJWaWV3TGF5b3V0KHRoaXMuc2NlbmUsIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoXCIzIHBsYXllcnMgcHJlc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoVU5JVFkuVXNlcklucHV0S2V5Lk51bTQsICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0TXVsdGlQbGF5ZXJWaWV3TGF5b3V0KHRoaXMuc2NlbmUsIDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoXCI0IHBsYXllcnMgcHJlc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoVU5JVFkuVXNlcklucHV0S2V5LlIsICgpPT57XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBVTklUWS5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKFVOSVRZLlVzZXJJbnB1dEtleS5JLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3B1cCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuV2luZG93TWFuYWdlci5Qb3B1cERlYnVnKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuV2luZG93TWFuYWdlci5Ub2dnbGVEZWJ1Zyh0aGlzLnNjZW5lLCB0cnVlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICBVTklUWS5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKFVOSVRZLlVzZXJJbnB1dEtleS5GLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAvL1VOSVRZLlNjZW5lTWFuYWdlci5Ub2dnbGVGdWxsU2NyZWVuTW9kZSh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgaWYgKFVOSVRZLlNjZW5lTWFuYWdlci5Jc1hib3hPbmUoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLmdhbWVwYWRJbnB1dEVtdWxhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhVTklUWS5Vc2VySW5wdXRLZXkuTSwgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLmdhbWVwYWRJbnB1dEVtdWxhdGlvbiAhPT0gXCJtb3VzZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nYW1lcGFkSW5wdXRFbXVsYXRpb24gPSBcIm1vdXNlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdhbWVwYWRJbnB1dEVtdWxhdGlvbiA9IFwiZ2FtZXBhZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhVTklUWS5Vc2VySW5wdXRLZXkuRiwgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5Ub29scy5SZXF1ZXN0RnVsbHNjcmVlbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXRFbmdpbmUoKS5lbnRlckZ1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uSXNYYm94TGl2ZVBsdWdpbkVuYWJsZWQoKSAmJiB0aGlzLnhib3ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhVTklUWS5Vc2VySW5wdXRLZXkuWCwgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyLk9uZSA9IFVOSVRZLlBsYXllck51bWJlci5PbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUJBQllMT04uV2luZG93c1BsYXRmb3JtLklzWGJveExpdmVVc2VyU2lnbmVkSW4obnVsbCwgcGxheWVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dNZXNzYWdlKFwiPT09PiBUcnlpbmcgWGJveCBMaXZlIFNpZ24gSW4gRm9yIFBsYXllcjogXCIgKyBwbGF5ZXIudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uWGJveExpdmVVc2VyU2lnbkluKHBsYXllciwgKHJlc3VsdDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlNpZ25JblJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9IEJBQllMT04uV2luZG93c1BsYXRmb3JtLkdldFhib3hMaXZlVXNlcihwbGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gXCIoXCIgKyB1c2VyLnhib3hVc2VySWQgKyBcIikgLSBcIiArIHVzZXIuZ2FtZXJ0YWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlNjZW5lTWFuYWdlci5BbGVydE1lc3NhZ2UobXNnLCBcIlhib3ggTGl2ZSBVc2VyIFNpZ25lZCBJblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAoZXJyKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNnOnN0cmluZyA9IFwiRW5jb3VudGVyZWQgU2lnbiBFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuQWxlcnRNZXNzYWdlKG1zZywgXCJYYm94IExpdmUgV2FybmluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJYYm94IExpdmUgVXNlciBBbHJlYWR5IFNpZ25lZCBJblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuQWxlcnRNZXNzYWdlKFwiVXNlciBBbHJlYWR5IFNpZ25lZCBJblwiLCBcIlhib3ggTGl2ZSBXYXJuaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERlZmF1bHQgUHJpbnQgVG8gU2NyZWVuIFRleHRcbiAgICAgICAgICAgIHZhciBwcmludENvbG9yOnN0cmluZyA9ICh0aGlzLnNjZW5lLmdldEVuZ2luZSgpLndlYkdMVmVyc2lvbiA8IDIpID8gXCJyZWRcIiA6IHRoaXMuY29sb3IudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBncmFwaGljc1ZlcnNpb246c3RyaW5nID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFdlYkdMVmVyc2lvblN0cmluZyh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIFVOSVRZLldpbmRvd01hbmFnZXIuUHJpbnRUb1NjcmVlbihncmFwaGljc1ZlcnNpb24sIHByaW50Q29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKSA6dm9pZCB7XG4gICAgICAgICAgICAvL3RoaXMuc2NyZWVuID0gbnVsbDtcbiAgICAgICAgICAgIC8vdGhpcy50b2dnbGUgPSBudWxsO1xuICAgICAgICAgICAgLy90aGlzLnNpZ25pbiA9IG51bGw7XG4gICAgICAgICAgICAvL3RoaXMucmVsb2FkID0gbnVsbDtcbiAgICAgICAgICAgIC8vdGhpcy5tb3VzZSA9IG51bGw7XG4gICAgICAgICAgICAvL3RoaXMuZGVidWcgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFVzZXJJbnRlcmZhY2VcbiAgICAqLyAgIFxuICAgIGV4cG9ydCBjbGFzcyBVc2VySW50ZXJmYWNlIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBJc0NhbnZhc1JlYWR5KCk6Ym9vbGVhbiB7IHJldHVybiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSAhPSBudWxsKTsgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEdldENhbnZhc0VsZW1lbnQobmFtZTpzdHJpbmcpOkJBQllMT04uR1VJLkNvbnRyb2wgeyByZXR1cm4gKFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUgIT0gbnVsbCkgPyBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLmdldENvbnRyb2xCeU5hbWUobmFtZSkgOiBudWxsOyB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2hvd0NhbnZhc0VsZW1lbnQoZWxlbWVudDpCQUJZTE9OLkdVSS5Db250cm9sLCBmYWRlU3BlZWRSYXRpbzpudW1iZXIgPSAwLjAsIG9uQW5pbWF0aW9uQ29tcGxldGU6KCk9PnZvaWQgPSBudWxsKTpCQUJZTE9OLkFuaW1hdGFibGUge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpCQUJZTE9OLkFuaW1hdGFibGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChmYWRlU3BlZWRSYXRpbyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGFTdGFydDpudW1iZXIgPSBlbGVtZW50LmFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYUVuZDpudW1iZXIgPSAxLjA7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFscGhhID0gYWxwaGFFbmQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkFuaW1hdGlvbkNvbXBsZXRlICE9IG51bGwpIG9uQW5pbWF0aW9uQ29tcGxldGUoKTsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy9yZXN1bHQgPSBVTklUWS5TY2VuZU1hbmFnZXIuU3RhcnRUd2VlbkFuaW1hdGlvbihQUk9KRUNULlVzZXJJbnRlcmZhY2UuU2NlbmVDb250cm9sbGVyLCAoZWxlbWVudC5uYW1lICsgXCItU2hvd0FscGhhVHdlZW5cIiksIGVsZW1lbnQsIFwiYWxwaGFcIiwgYWxwaGFTdGFydCwgYWxwaGFFbmQsIGZhZGVTcGVlZFJhdGlvLCBudWxsLCBudWxsLCBudWxsLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAvLyAgICBlbGVtZW50LmlzRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGlmIChvbkFuaW1hdGlvbkNvbXBsZXRlICE9IG51bGwpIG9uQW5pbWF0aW9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy99KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hbHBoYSA9IDEuMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSGlkZUNhbnZhc0VsZW1lbnQoZWxlbWVudDpCQUJZTE9OLkdVSS5Db250cm9sLCBmYWRlU3BlZWRSYXRpbzpudW1iZXIgPSAwLjAsIG9uQW5pbWF0aW9uQ29tcGxldGU6KCk9PnZvaWQgPSBudWxsKTpCQUJZTE9OLkFuaW1hdGFibGUge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpCQUJZTE9OLkFuaW1hdGFibGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChmYWRlU3BlZWRSYXRpbyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGFTdGFydDpudW1iZXIgPSBlbGVtZW50LmFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYUVuZDpudW1iZXIgPSAwLjA7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hbHBoYSA9IGFscGhhRW5kO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25BbmltYXRpb25Db21wbGV0ZSAhPSBudWxsKSBvbkFuaW1hdGlvbkNvbXBsZXRlKCk7ICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgICAgICAvL3Jlc3VsdCA9IFVOSVRZLlNjZW5lTWFuYWdlci5TdGFydFR3ZWVuQW5pbWF0aW9uKFBST0pFQ1QuVXNlckludGVyZmFjZS5TY2VuZUNvbnRyb2xsZXIsIChlbGVtZW50Lm5hbWUgKyBcIi1IaWRlQWxwaGFUd2VlblwiKSwgZWxlbWVudCwgXCJhbHBoYVwiLCBhbHBoYVN0YXJ0LCBhbHBoYUVuZCwgZmFkZVNwZWVkUmF0aW8sIG51bGwsIG51bGwsIG51bGwsICgpPT57XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGlmIChvbkFuaW1hdGlvbkNvbXBsZXRlICE9IG51bGwpIG9uQW5pbWF0aW9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy99KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaXNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWxwaGEgPSAwLjA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIFNldFNjZW5lQ29udHJvbGxlcihzY2VuZTpCQUJZTE9OLlNjZW5lKTp2b2lkIHsgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLlNjZW5lQ29udHJvbGxlciA9IHNjZW5lOyB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0QWR2YW5jZWRUZXh0dXJlKCk6QkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZSB7IHJldHVybiBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlOyB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0QmFja2dyb3VuZFRleHR1cmUoKTpCQUJZTE9OLkdVSS5BZHZhbmNlZER5bmFtaWNUZXh0dXJlIHsgcmV0dXJuIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZTsgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIE9uRm9udEZhY2VzUmVhZHkgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPGFueT4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkZvbnRGYWNlc0xvYWRlZCA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8YW55PigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uUGFyc2VOb2RlT2JqZWN0ID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxhbnk+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25JbnRlcmZhY2VMb2FkZWQgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uR1VJLkFkdmFuY2VkRHluYW1pY1RleHR1cmU+KCk7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2NlbmVDb250cm9sbGVyOkJBQllMT04uU2NlbmUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBBZHZhbmNlZFRleHR1cmU6QkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEJhY2tncm91bmRUZXh0dXJlOkJBQllMT04uR1VJLkFkdmFuY2VkRHluYW1pY1RleHR1cmUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBGb250RmFjZXNBdHRhY2hlZDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEZvbnRGYWNlc1ByZWxvYWRlZDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZXhwb3J0TG93ZXJDYXNlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBiYWNrZ3JvdW5kRGF0YTphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHRleHR1cmVTYW1wbGVNb2RlOm51bWJlciA9IDI7XG4gICAgICAgIHByaXZhdGUgaWRlYWxSZW5kZXJpbmdTaXplOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgdmlld3BvcnRSZW5kZXJTaXplOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY3VzdG9tVmlld3BvcnRTaXplOkJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMTkyMCwxMDgwKTtcbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0SW1hZ2VMb2NhdGlvbjpzdHJpbmcgPSBcInNjZW5lcy9hc3NldHMvXCI7XG4gICAgICAgIHByaXZhdGUgZGVmYXVsdEltYWdlQ29udHJvbDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBpc01hbmFnZWRUZXh0dXJlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIHNjYWxlVGV4dHVyZVNpemU6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgc2V0QWRhcHRpdmVTY2FsZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBkcmF3QXRJZGVhbFNpemU6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgdXNlU21hbGxlc3RJZGVhbDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZm9udEZhbWlseUxpc3Q6c3RyaW5nW10gPSBudWxsO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllcz86IGFueSkge1xuICAgICAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBzY2VuZSwgcHJvcGVydGllcyk7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuU2V0U2NlbmVDb250cm9sbGVyKHNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoV2ViRm9udHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgICB0aGlzLnByZWxvYWRXZWJGb250cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5zZXR1cEludGVyZmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc1JlYWR5LmNsZWFyKCk7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNSZWFkeSA9IG51bGw7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNMb2FkZWQuY2xlYXIoKTtcbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc0xvYWRlZCA9IG51bGw7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25QYXJzZU5vZGVPYmplY3QuY2xlYXIoKTtcbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PblBhcnNlTm9kZU9iamVjdCA9IG51bGw7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25JbnRlcmZhY2VMb2FkZWQuY2xlYXIoKTtcbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkludGVyZmFjZUxvYWRlZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5pc01hbmFnZWRUZXh0dXJlID09PSBmYWxzZSAmJiBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZW5naW5lUmVzaXplKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmdldEVuZ2luZSgpLnJlc2l6ZSh0cnVlKTsgLy8gTm90ZTogRm9yY2UgSW5pdGlhbCBSZXNpemUgQ29udGVudFxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldHVwUHJvcGVydGllcygpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gIT0gbnVsbCAmJiB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbiA9IHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24udHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gIT0gbnVsbCAmJiB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uICE9PSBcIlwiICYmIHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24uZW5kc1dpdGgoXCIvXCIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gPSAodGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbiArIFwiL1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbVZpZXdwb3J0U2l6ZS54IDw9IDApIHRoaXMuY3VzdG9tVmlld3BvcnRTaXplLnggPSAxOTIwO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tVmlld3BvcnRTaXplLnkgPD0gMCkgdGhpcy5jdXN0b21WaWV3cG9ydFNpemUueSA9IDEwODA7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0dXBJbnRlcmZhY2UoKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgaW50ZXJmYWNlUGFyc2VkOmFueSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgYmFja2dyb3VuZFBhcnNlZDphbnkgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJmYWNlVGV4dDpzdHJpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiYmFzZTY0VXNlckludGVyZmFjZVwiKTtcbiAgICAgICAgICAgIGlmIChpbnRlcmZhY2VUZXh0ICE9IG51bGwgJiYgaW50ZXJmYWNlVGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyZmFjZUpzb246c3RyaW5nID0gd2luZG93LmF0b2IoaW50ZXJmYWNlVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGludGVyZmFjZUpzb24gIT0gbnVsbCAmJiBpbnRlcmZhY2VKc29uICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyZmFjZVBhcnNlZCA9IEpTT04ucGFyc2UoaW50ZXJmYWNlSnNvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmZhY2VQYXJzZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyZmFjZVBhcnNlZC5yb290ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlTm9kZU9iamVjdChpbnRlcmZhY2VQYXJzZWQucm9vdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGg6bnVtYmVyID0gKHRoaXMudmlld3BvcnRSZW5kZXJTaXplID09PSAwICYmIGludGVyZmFjZVBhcnNlZC53aWR0aCAhPT0gbnVsbCAmJiBpbnRlcmZhY2VQYXJzZWQud2lkdGggPj0gMCkgPyBpbnRlcmZhY2VQYXJzZWQud2lkdGggOiB0aGlzLmN1c3RvbVZpZXdwb3J0U2l6ZS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhlaWdodDpudW1iZXIgPSAodGhpcy52aWV3cG9ydFJlbmRlclNpemUgPT09IDAgJiYgaW50ZXJmYWNlUGFyc2VkLmhlaWdodCAhPT0gbnVsbCAmJiBpbnRlcmZhY2VQYXJzZWQuaGVpZ2h0ID49IDApID8gaW50ZXJmYWNlUGFyc2VkLmhlaWdodCA6IHRoaXMuY3VzdG9tVmlld3BvcnRTaXplLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3cG9ydFJlbmRlclNpemUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMuc2NlbmUuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyaW5nQ2FudmFzKCkud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5zY2VuZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJpbmdDYW52YXMoKS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWR2YW5jZWQgVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTWFuYWdlZFRleHR1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+VU5JVFkuU2NlbmVNYW5hZ2VyKS5BZHZEeW5hbWljVGV4dHVyZSA9PSBudWxsKSAoPGFueT5VTklUWS5TY2VuZU1hbmFnZXIpLkFkdkR5bmFtaWNUZXh0dXJlID0gQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZS5DcmVhdGVGdWxsc2NyZWVuVUkoXCJEZWZhdWx0LVNjcmVlbi1VSVwiLCB0cnVlLCB0aGlzLnNjZW5lLCB0aGlzLnRleHR1cmVTYW1wbGVNb2RlLCB0aGlzLnNldEFkYXB0aXZlU2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUgPSAoPGFueT5VTklUWS5TY2VuZU1hbmFnZXIpLkFkdkR5bmFtaWNUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlID0gQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZS5DcmVhdGVGdWxsc2NyZWVuVUkoXCJHVUlcIiwgdHJ1ZSwgdGhpcy5zY2VuZSwgdGhpcy50ZXh0dXJlU2FtcGxlTW9kZSwgdGhpcy5zZXRBZGFwdGl2ZVNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pZGVhbFJlbmRlcmluZ1NpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkZWFsUmVuZGVyaW5nU2l6ZSA9PT0gMSB8fCB0aGlzLmlkZWFsUmVuZGVyaW5nU2l6ZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5pZGVhbFdpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaWRlYWxSZW5kZXJpbmdTaXplID09PSAyIHx8IHRoaXMuaWRlYWxSZW5kZXJpbmdTaXplID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLmlkZWFsSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkZWFsUmVuZGVyaW5nU2l6ZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS51c2VTbWFsbGVzdElkZWFsID0gdGhpcy51c2VTbWFsbGVzdElkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucmVuZGVyQXRJZGVhbFNpemUgPSB0aGlzLmRyYXdBdElkZWFsU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnVzZVNtYWxsZXN0SWRlYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5yZW5kZXJBdElkZWFsU2l6ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zY2FsZVRleHR1cmVTaXplID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucGFyc2VTZXJpYWxpemVkT2JqZWN0KGludGVyZmFjZVBhcnNlZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnNjYWxlVG8od2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5wYXJzZVNlcmlhbGl6ZWRPYmplY3QoaW50ZXJmYWNlUGFyc2VkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJhY2tncm91bmQgVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmREYXRhICE9IG51bGwgJiYgdGhpcy5iYWNrZ3JvdW5kRGF0YS5jcmVhdGVCYWNrZ3JvdW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZFRleHQ6c3RyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImJhc2U2NEJhY2tncm91bmREYXRhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kVGV4dCAhPSBudWxsICYmIGJhY2tncm91bmRUZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRKc29uOnN0cmluZyA9IHdpbmRvdy5hdG9iKGJhY2tncm91bmRUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmRKc29uICE9IG51bGwgJiYgYmFja2dyb3VuZEpzb24gIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQYXJzZWQgPSBKU09OLnBhcnNlKGJhY2tncm91bmRKc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kUGFyc2VkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZFBhcnNlZC5yb290ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZU5vZGVPYmplY3QoYmFja2dyb3VuZFBhcnNlZC5yb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlID0gQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZS5DcmVhdGVGdWxsc2NyZWVuVUkoXCJCQUNLR1JPVU5EXCIsIGZhbHNlLCB0aGlzLnNjZW5lLCB0aGlzLnRleHR1cmVTYW1wbGVNb2RlLCB0aGlzLnNldEFkYXB0aXZlU2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kRGF0YS5zY2FsZVRvRm9yZWdyb3VuZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUuaWRlYWxXaWR0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLmlkZWFsV2lkdGggPSBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLmlkZWFsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5pZGVhbEhlaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLmlkZWFsSGVpZ2h0ID0gUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5pZGVhbEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnVzZVNtYWxsZXN0SWRlYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZS51c2VTbWFsbGVzdElkZWFsID0gUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS51c2VTbWFsbGVzdElkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucmVuZGVyQXRJZGVhbFNpemUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZS5yZW5kZXJBdElkZWFsU2l6ZSA9IFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucmVuZGVyQXRJZGVhbFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUudXNlU21hbGxlc3RJZGVhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLnJlbmRlckF0SWRlYWxTaXplID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmRQYXJzZWQgIT0gbnVsbCkgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLnBhcnNlU2VyaWFsaXplZE9iamVjdChiYWNrZ3JvdW5kUGFyc2VkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmREYXRhLnNjYWxlVG9Gb3JlZ3JvdW5kID09PSB0cnVlKSBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUuc2NhbGVUbyh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uSW50ZXJmYWNlTG9hZGVkICYmIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkludGVyZmFjZUxvYWRlZC5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkludGVyZmFjZUxvYWRlZC5ub3RpZnlPYnNlcnZlcnMoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVuZ2luZVJlc2l6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF0dGFjaFdlYkZvbnRzKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkZvbnRGYWNlc0F0dGFjaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5Gb250RmFjZXNBdHRhY2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMucmVhZHkudGhlbigoKT0+e1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLkxvZyhcIkRvY3VtZW50IGZvbnRzIHJlYWR5LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc1JlYWR5ICYmIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc1JlYWR5Lmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc1JlYWR5Lm5vdGlmeU9ic2VydmVycyhkb2N1bWVudC5mb250cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvci5tZXNzYWdlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5mb250cy5vbmxvYWRpbmdkb25lID0gKGZvbnRGYWNlU2V0RXZlbnQ6YW55KT0+e1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZVJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJBbGwgZG9jdW1lbnQgZm9udHMgbG9hZGVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc0xvYWRlZCAmJiBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNMb2FkZWQuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzTG9hZGVkLm5vdGlmeU9ic2VydmVycyhmb250RmFjZVNldEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9ICAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHByZWxvYWRXZWJGb250cygpOnZvaWQge1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5Gb250RmFjZXNQcmVsb2FkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkZvbnRGYWNlc1ByZWxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseUxpc3QgIT0gbnVsbCAmJiB0aGlzLmZvbnRGYW1pbHlMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb250RmFtaWx5TGlzdC5mb3JFYWNoKChmYW1pbHk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eHQ6SFRNTFNwYW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eHQuc3R5bGUuZm9udEZhbWlseSA9IGZhbWlseTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodHh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHBhcnNlTm9kZU9iamVjdChvYmplY3Q6YW55KTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRJbWFnZUNvbnRyb2wgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubmFtZSAhPSBudWxsICYmIG9iamVjdC5zb3VyY2UgIT0gbnVsbCAmJiBvYmplY3Quc291cmNlICE9PSBcIlwiICYmIG9iamVjdC5zb3VyY2UudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiLi9pbWFnZXMvXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc291cmNlID0gKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24uZW5kc1dpdGgoXCIvXCIpKSA/IG9iamVjdC5zb3VyY2UucmVwbGFjZShcIi4vaW1hZ2VzL1wiLCB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uKSA6IG9iamVjdC5zb3VyY2UucmVwbGFjZShcIi4vaW1hZ2VzXCIsIHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4cG9ydExvd2VyQ2FzZSA9PT0gdHJ1ZSkgb2JqZWN0LnNvdXJjZSA9IG9iamVjdC5zb3VyY2UudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBERVBSRUNBVEVEOiBLRUVQLUZPUi1SRUZFUkVOQ0VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbmFtZTpzdHJpbmcgPSBvYmplY3QubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBscGFydDpudW1iZXIgPSBvbmFtZS5pbmRleE9mKFwiKFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBycGFydDpudW1iZXIgPSBvbmFtZS5pbmRleE9mKFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgTmV3IE9iamVjdCBTb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChscGFydCA+PSAwICYmIHJwYXJ0ID49IDAgJiYgcnBhcnQgPiBscGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsOnN0cmluZyA9IG9uYW1lLnN1YnN0cmluZygobHBhcnQgKyAxKSwgcnBhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsICE9IG51bGwgJiYgdXJsICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmwudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmwgIT0gbnVsbCAmJiB1cmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zb3VyY2UgPSAodGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbi5lbmRzV2l0aChcIi9cIikpID8gKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gKyB1cmwpIDogKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gKyBcIi9cIiArIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCBOZXcgT2JqZWN0IE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm5hbWUxOnN0cmluZyA9IG9uYW1lLnN1YnN0cmluZygwLCBscGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm5hbWUyOnN0cmluZyA9IG9uYW1lLnN1YnN0cmluZygocnBhcnQgKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm5hbWUzID0gKGZuYW1lMSArIGZuYW1lMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm5hbWUzICE9IG51bGwgJiYgZm5hbWUzICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5hbWUzID0gZm5hbWUzLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbmFtZTMgIT0gbnVsbCAmJiBmbmFtZTMgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IGZuYW1lMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uUGFyc2VOb2RlT2JqZWN0ICYmIFBST0pFQ1QuVXNlckludGVyZmFjZS5PblBhcnNlTm9kZU9iamVjdC5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uUGFyc2VOb2RlT2JqZWN0Lm5vdGlmeU9ic2VydmVycyhvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZU5vZGVPYmplY3QoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQXNzZXRFeHBvcnRlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEFzc2V0RXhwb3J0ZXIgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICAvLyBFeGFtcGxlOiBwcml2YXRlIGhlbGxvV29ybGQ6c3RyaW5nID0gXCJIZWxsbyBXb3JsZFwiO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEluaXQgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBTdGFydCBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBmaXhlZCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEZpeGVkIHVwZGF0ZSBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogVXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIExhdGUgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXIoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBBZnRlciB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZWFkeSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEV4ZWN1dGUgd2hlbiByZWFkeSBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBEZXN0cm95IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEFzc2V0UHJlbG9hZGVyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQXNzZXRQcmVsb2FkZXIgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQgaW1wbGVtZW50cyBVTklUWS5JQXNzZXRQcmVsb2FkZXIge1xuICAgICAgICBwcml2YXRlIHBhcmVudE1lc2hlczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaW1wb3J0TWVzaGVzOnN0cmluZ1tdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhc3NldENvbnRhaW5lcnM6c3RyaW5nW10gPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5pbXBvcnRNZXNoZXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hc3NldENvbnRhaW5lcnMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEFkZCBhc3NldCBwcmVsb2FkZXIgdGFza3MgKGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vZGl2aW5nRGVlcGVyL2ltcG9ydGVycy9hc3NldE1hbmFnZXIpICovXG4gICAgICAgIHB1YmxpYyBhZGRQcmVsb2FkZXJUYXNrcyhhc3NldHNNYW5hZ2VyOlVOSVRZLlByZWxvYWRBc3NldHNNYW5hZ2VyKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lUm9vdFVybDpzdHJpbmcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0Um9vdFVybCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIGxldCByb290dXJsOnN0cmluZyA9IHNjZW5lUm9vdFVybDtcbiAgICAgICAgICAgIGxldCBmaWxlbmFtZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW1wb3J0TWVzaGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydE1lc2hlcy5mb3JFYWNoKChpbXBvclVybDpzdHJpbmcsIGltcG9ydEluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByb290dXJsID0gc2NlbmVSb290VXJsO1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9yVXJsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW1wb3JVcmwuaW5kZXhPZihcIjovL1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290dXJsID0gaW1wb3JVcmwuc3Vic3RyaW5nKDAsIGltcG9yVXJsLmxhc3RJbmRleE9mKCcvJykpICsgXCIvXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9yVXJsLnN1YnN0cmluZyhpbXBvclVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0VGFzazpCQUJZTE9OLk1lc2hBc3NldFRhc2sgPSBhc3NldHNNYW5hZ2VyLmFkZE1lc2hUYXNrKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWVzaFRhc2suXCIgKyBpbXBvcnRJbmRleC50b1N0cmluZygpKSwgbnVsbCwgcm9vdHVybCwgZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRUYXNrLm9uU3VjY2VzcyA9ICh0YXNrOkJBQllMT04uTWVzaEFzc2V0VGFzaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2subG9hZGVkTWVzaGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRNZXNoZXMgPT09IHRydWUpIHRhc2subG9hZGVkTWVzaGVzWzBdLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc2hUYXNrS2V5OnN0cmluZyA9IHRhc2suc2NlbmVGaWxlbmFtZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLlJlZ2lzdGVySW1wb3J0TWVzaGVzKHRoaXMuc2NlbmUsIG1lc2hUYXNrS2V5LCB0YXNrLmxvYWRlZE1lc2hlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlByZWxvYWRlZCBtZXNoOiBcIiArIG1lc2hUYXNrS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0VGFzay5vbkVycm9yID0gKHRhc2s6IEJBQllMT04uTWVzaEFzc2V0VGFzaywgbWVzc2FnZT86IHN0cmluZywgZXhjZXB0aW9uPzogYW55KSA9PiB7IGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgZXhjZXB0aW9uKTsgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFzc2V0Q29udGFpbmVycyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NldENvbnRhaW5lcnMuZm9yRWFjaCgoYXNzZXRVcmw6c3RyaW5nLCBhc3NldEluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcm9vdHVybDpzdHJpbmcgPSBzY2VuZVJvb3RVcmw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxlbmFtZTpzdHJpbmcgPSBhc3NldFVybDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0VXJsLmluZGV4T2YoXCI6Ly9cIikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdHVybCA9IGFzc2V0VXJsLnN1YnN0cmluZygwLCBhc3NldFVybC5sYXN0SW5kZXhPZignLycpKSArIFwiL1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBhc3NldFVybC5zdWJzdHJpbmcoYXNzZXRVcmwubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0VGFzazpCQUJZTE9OLkNvbnRhaW5lckFzc2V0VGFzayA9IGFzc2V0c01hbmFnZXIuYWRkQ29udGFpbmVyVGFzaygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRhaW5lclRhc2suXCIgKyBhc3NldEluZGV4LnRvU3RyaW5nKCkpLCBudWxsLCByb290dXJsLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0VGFzay5vblN1Y2Nlc3MgPSAodGFzazpCQUJZTE9OLkNvbnRhaW5lckFzc2V0VGFzaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2subG9hZGVkQ29udGFpbmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3NldFRhc2tLZXk6c3RyaW5nID0gdGFzay5zY2VuZUZpbGVuYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuUmVnaXN0ZXJBc3NldENvbnRhaW5lcih0aGlzLnNjZW5lLCBhc3NldFRhc2tLZXksIHRhc2subG9hZGVkQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUHJlbG9hZGVkIGFzc2V0OiBcIiArIGFzc2V0VGFza0tleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0VGFzay5vbkVycm9yID0gKHRhc2s6IEJBQllMT04uQ29udGFpbmVyQXNzZXRUYXNrLCBtZXNzYWdlPzogc3RyaW5nLCBleGNlcHRpb24/OiBhbnkpID0+IHsgY29uc29sZS5lcnJvcihtZXNzYWdlLCBleGNlcHRpb24pOyB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIE5vZGVNYXRlcmlhbEluc3RhbmNlXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTm9kZU1hdGVyaWFsSW5zdGFuY2UgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG5vZGVNYXRlcmlhbERhdGE6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzZXRDdXN0b21Sb290VXJsOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGdldE1hdGVyaWFsSW5zdGFuY2UoKTpCQUJZTE9OLk5vZGVNYXRlcmlhbCB7IHJldHVybiB0aGlzLm1fbm9kZU1hdGVyaWFsOyB9XG4gICAgICAgIFxuICAgICAgICBwcm90ZWN0ZWQgbV9ub2RlTWF0ZXJpYWw6QkFCWUxPTi5Ob2RlTWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubm9kZU1hdGVyaWFsRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFVybDpzdHJpbmcgPSAodGhpcy5zZXRDdXN0b21Sb290VXJsICE9IG51bGwgJiYgdGhpcy5zZXRDdXN0b21Sb290VXJsICE9PSBcIlwiKSA/IHRoaXMuc2V0Q3VzdG9tUm9vdFVybC50cmltKCkgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHRoaXMubV9ub2RlTWF0ZXJpYWwgPSBCQUJZTE9OLk5vZGVNYXRlcmlhbC5QYXJzZSh0aGlzLm5vZGVNYXRlcmlhbERhdGEsIHRoaXMuc2NlbmUsIHJvb3RVcmwpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9ub2RlTWF0ZXJpYWwubmFtZSA9IHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Ob2RlTWF0ZXJpYWxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9ub2RlTWF0ZXJpYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9ub2RlTWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9ub2RlTWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIE5vZGVNYXRlcmlhbFBhcnRpY2xlXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTm9kZU1hdGVyaWFsUGFydGljbGUgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG5vZGVNYXRlcmlhbEVkaXRvcjpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEluaXQgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5tZTpQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlID0gU00uRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciwgXCJQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChubWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbEluc3RhbmNlOkJBQllMT04uTm9kZU1hdGVyaWFsID0gbm1lLmdldE1hdGVyaWFsSW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsSW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cE5vZGVNYXRlcmlhbChtYXRlcmlhbEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk51bGwgbm9kZSBtYXRlcmlhbCBpbnN0YW5jZSBvbjogXCIgKyB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBsb2NhdGUgbm9kZSBtYXRlcmlhbCBlZGl0b3Igb246IFwiICsgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldHVwTm9kZU1hdGVyaWFsKG1hdGVyaWFsSW5zdGFuY2U6QkFCWUxPTi5Ob2RlTWF0ZXJpYWwpOnZvaWQge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogVXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIExhdGUgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXIoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBBZnRlciB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBmaXhlZCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEZpeGVkIHVwZGF0ZSBwaHlzaWNzIHN0ZXAgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZWFkeSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEV4ZWN1dGUgd2hlbiBzY2VuZSBpcyByZWFkeSBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTm9kZU1hdGVyaWFsUHJvY2Vzc1xuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE5vZGVNYXRlcmlhbFByb2Nlc3MgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG5vZGVNYXRlcmlhbEVkaXRvcjpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG51bWJlck9mU2FtcGxlczpudW1iZXIgPSAxO1xuICAgICAgICBwcml2YXRlIHNhbXBsaW5nTW9kZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHRleHR1cmVUeXBlOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgdGV4dHVyZUZvcm1hdDpudW1iZXIgPSBCQUJZTE9OLkNvbnN0YW50cy5URVhUVVJFRk9STUFUX1JHQkE7XG4gICAgICAgIHByaXZhdGUgc2l6ZVJhdGlvOm51bWJlciA9IDEuMDtcbiAgICAgICAgcHJpdmF0ZSByZXN1YWJsZTpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIGdldFBvc3RQcm9jZXNzKCk6QkFCWUxPTi5Qb3N0UHJvY2VzcyB7IHJldHVybiB0aGlzLm1fcG9zdFByb2Nlc3M7IH1cblxuICAgICAgICBwcm90ZWN0ZWQgbV9wb3N0UHJvY2VzczpCQUJZTE9OLlBvc3RQcm9jZXNzID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5tZTpQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlID0gU00uRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciwgXCJQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChubWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbEluc3RhbmNlOkJBQllMT04uTm9kZU1hdGVyaWFsID0gbm1lLmdldE1hdGVyaWFsSW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsSW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cE5vZGVNYXRlcmlhbChtYXRlcmlhbEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk51bGwgbm9kZSBtYXRlcmlhbCBpbnN0YW5jZSBvbjogXCIgKyB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBsb2NhdGUgbm9kZSBtYXRlcmlhbCBlZGl0b3Igb246IFwiICsgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldHVwTm9kZU1hdGVyaWFsKG1hdGVyaWFsSW5zdGFuY2U6QkFCWUxPTi5Ob2RlTWF0ZXJpYWwpOnZvaWQge1xuICAgICAgICAgICAgY29uc3QgY2FtZXJhOkJBQllMT04uRnJlZUNhbWVyYSA9IHRoaXMuZ2V0Q2FtZXJhUmlnKCk7XG4gICAgICAgICAgICBpZiAoY2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcG9zdFByb2Nlc3MgPSBtYXRlcmlhbEluc3RhbmNlLmNyZWF0ZVBvc3RQcm9jZXNzKGNhbWVyYSwgdGhpcy5zaXplUmF0aW8sIHRoaXMuc2FtcGxpbmdNb2RlLCB0aGlzLnNjZW5lLmdldEVuZ2luZSgpLCB0aGlzLnJlc3VhYmxlLCB0aGlzLnRleHR1cmVUeXBlLCB0aGlzLnRleHR1cmVGb3JtYXQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fcG9zdFByb2Nlc3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fcG9zdFByb2Nlc3MubmFtZSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUHJvY2Vzc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3Bvc3RQcm9jZXNzLnNhbXBsZXMgPSB0aGlzLm51bWJlck9mU2FtcGxlcztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gY3JlYXRlIHBvc3QgcHJvY2VzcyBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJOdWxsIGNhbWVyYSByaWcgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3Bvc3RQcm9jZXNzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcG9zdFByb2Nlc3MuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wb3N0UHJvY2VzcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTm9kZU1hdGVyaWFsVGV4dHVyZVxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE5vZGVNYXRlcmlhbFRleHR1cmUgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG5vZGVNYXRlcmlhbEVkaXRvcjpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHRleHR1cmVTaXplOm51bWJlciA9IDI1NjtcblxuICAgICAgICBwdWJsaWMgZ2V0UHJvY2VkdXJhbFRleHR1cmUoKTogQkFCWUxPTi5Qcm9jZWR1cmFsVGV4dHVyZSB7IHJldHVybiB0aGlzLm1fcHJvY2VkdXJhbFRleHR1cmU7IH1cblxuICAgICAgICBwcm90ZWN0ZWQgbV9wcm9jZWR1cmFsVGV4dHVyZTpCQUJZTE9OLlByb2NlZHVyYWxUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5tZTpQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlID0gU00uRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciwgXCJQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChubWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbEluc3RhbmNlOkJBQllMT04uTm9kZU1hdGVyaWFsID0gbm1lLmdldE1hdGVyaWFsSW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsSW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cE5vZGVNYXRlcmlhbChtYXRlcmlhbEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk51bGwgbm9kZSBtYXRlcmlhbCBpbnN0YW5jZSBvbjogXCIgKyB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBsb2NhdGUgbm9kZSBtYXRlcmlhbCBlZGl0b3Igb246IFwiICsgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldHVwTm9kZU1hdGVyaWFsKG1hdGVyaWFsSW5zdGFuY2U6QkFCWUxPTi5Ob2RlTWF0ZXJpYWwpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3Byb2NlZHVyYWxUZXh0dXJlID0gbWF0ZXJpYWxJbnN0YW5jZS5jcmVhdGVQcm9jZWR1cmFsVGV4dHVyZSh0aGlzLnRleHR1cmVTaXplLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fcHJvY2VkdXJhbFRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9wcm9jZWR1cmFsVGV4dHVyZS5uYW1lID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5UZXh0dXJlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3Byb2NlZHVyYWxUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcHJvY2VkdXJhbFRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wcm9jZWR1cmFsVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTW9iaWxlSW5wdXRDb250cm9sbGVyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTW9iaWxlSW5wdXRDb250cm9sbGVyIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXQgSW5zdGFuY2UoKTpQUk9KRUNULk1vYmlsZUlucHV0Q29udHJvbGxlciB7IHJldHVybiBQUk9KRUNULk1vYmlsZUlucHV0Q29udHJvbGxlci5TdGF0aWNJbnN0YW5jZTsgfVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBTdGF0aWNJbnN0YW5jZTpQUk9KRUNULk1vYmlsZUlucHV0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY29udHJvbFR5cGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzaWRlTWFyZ2luczpudW1iZXIgPSAxNjtcbiAgICAgICAgcHJpdmF0ZSBib3R0b21NYXJnaW5zOm51bWJlciA9IDE2O1xuICAgICAgICBwcml2YXRlIHJlYWR5VGltZW91dDpudW1iZXIgPSAyMDA7XG4gICAgICAgIHByaXZhdGUgbGVmdEJhc2VFbGVtZW50OkhUTUxEaXZFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByaWdodEJhc2VFbGVtZW50OkhUTUxEaXZFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0U3RpY2tTdHlsZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJpZ2h0U3RpY2tTdHlsZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGludmVydExlZnRTdGlja1k6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgaW52ZXJ0UmlnaHRTdGlja1k6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgY2VudGVyTGVmdEpveXN0aWNrOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBlbmFibGVMZWZ0Sm95c3RpY2s6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgZW5hYmxlUmlnaHRKb3lzdGljazpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBkaXNhYmxlTW91c2VSb3RhdGlvbjpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDYW1lcmFJbnB1dDpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIGdldExlZnRTdGljaygpOlVOSVRZLlRvdWNoSm95c3RpY2tIYW5kbGVyIHsgcmV0dXJuIHRoaXMubV9sZWZ0U3RpY2s7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0U3RpY2soKTpVTklUWS5Ub3VjaEpveXN0aWNrSGFuZGxlciB7IHJldHVybiB0aGlzLm1fcmlnaHRTdGljazsgfVxuICAgICAgICBwdWJsaWMgZ2V0TGVmdFN0aWNrRW5hYmxlZCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5lbmFibGVMZWZ0Sm95c3RpY2s7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0U3RpY2tFbmFibGVkKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmVuYWJsZVJpZ2h0Sm95c3RpY2s7IH1cbiAgICAgICAgcHVibGljIGdldExlZnRTdGlja0VsZW1lbnQoKTpIVE1MRGl2RWxlbWVudCB7IHJldHVybiB0aGlzLmxlZnRCYXNlRWxlbWVudDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmlnaHRTdGlja0VsZW1lbnQoKTpIVE1MRGl2RWxlbWVudCB7IHJldHVybiB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQ7IH1cbiAgICAgICAgcHVibGljIHNob3dMZWZ0U3RpY2tFbGVtZW50KHNob3c6Ym9vbGVhbikgeyBpZiAodGhpcy5sZWZ0QmFzZUVsZW1lbnQgIT0gbnVsbCkgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IChzaG93ID09PSB0cnVlKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiOyB9XG4gICAgICAgIHB1YmxpYyBzaG93UmlnaHRTdGlja0VsZW1lbnQoc2hvdzpib29sZWFuKSB7IGlmICh0aGlzLnJpZ2h0QmFzZUVsZW1lbnQgIT0gbnVsbCkgdGhpcy5yaWdodEJhc2VFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAoc2hvdyA9PT0gdHJ1ZSkgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjsgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllcz86IGFueSkge1xuICAgICAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBzY2VuZSwgcHJvcGVydGllcyk7XG4gICAgICAgICAgICBQUk9KRUNULk1vYmlsZUlucHV0Q29udHJvbGxlci5TdGF0aWNJbnN0YW5jZSA9IHRoaXM7XG4gICAgICAgIH0gICAgICAgIFxuXG4gICAgICAgIHByb3RlY3RlZCBtX2xlZnRTdGljazpVTklUWS5Ub3VjaEpveXN0aWNrSGFuZGxlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3JpZ2h0U3RpY2s6VU5JVFkuVG91Y2hKb3lzdGlja0hhbmRsZXIgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZUNhbWVyYUlucHV0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FtZXJhOkJBQllMT04uRnJlZUNhbWVyYSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRNYWluQ2FtZXJhKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmIChjYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IG5ldyBQUk9KRUNULkZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuY29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmludmVydFlBeGlzID0gIXRoaXMuaW52ZXJ0UmlnaHRTdGlja1k7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5pbnB1dHMuYWRkKGlucHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcmVhZHkoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sVHlwZSA9PT0gMSB8fCBVTklUWS5XaW5kb3dNYW5hZ2VyLklzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlTW91c2VSb3RhdGlvbiA9PT0gdHJ1ZSkgVU5JVFkuU2NlbmVNYW5hZ2VyLlZpcnR1YWxKb3lzdGlja0VuYWJsZWQgPSB0cnVlOyAvLyBOb3RlOiBJZiBVc2luZyBKb3lzdGljayBSb3RhdGlvbiBUaGVuIERpc2FibGUgTW91c2UgSW5wdXRcbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5VGltZW91dDpudW1iZXIgPSAodGhpcy5yZWFkeVRpbWVvdXQgPj0gMTApID8gdGhpcy5yZWFkeVRpbWVvdXQgOiAxMDtcbiAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuU2V0VGltZW91dChkaXNwbGF5VGltZW91dCwgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVIdG1sRWxlbWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlTGVmdEpveXN0aWNrID09PSB0cnVlKSB0aGlzLm1fbGVmdFN0aWNrID0gbmV3IFVOSVRZLlRvdWNoSm95c3RpY2tIYW5kbGVyKFwic3RpY2sxXCIsIDY0LCA4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUmlnaHRKb3lzdGljayA9PT0gdHJ1ZSkgdGhpcy5tX3JpZ2h0U3RpY2sgPSBuZXcgVU5JVFkuVG91Y2hKb3lzdGlja0hhbmRsZXIoXCJzdGljazJcIiwgNjQsIDgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUxlZnRKb3lzdGljayA9PT0gdHJ1ZSAmJiB0aGlzLm1fbGVmdFN0aWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tWYWx1ZVg6bnVtYmVyID0gdGhpcy5tX2xlZnRTdGljay5nZXRWYWx1ZVgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tWYWx1ZVk6bnVtYmVyID0gdGhpcy5tX2xlZnRTdGljay5nZXRWYWx1ZVkoKTtcbiAgICAgICAgICAgICAgICBVTklUWS5JbnB1dENvbnRyb2xsZXIuU2V0TGVmdEpveXN0aWNrQnVmZmVyKGxlZnRTdGlja1ZhbHVlWCwgbGVmdFN0aWNrVmFsdWVZLCB0aGlzLmludmVydExlZnRTdGlja1kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUmlnaHRKb3lzdGljayA9PT0gdHJ1ZSAmJiB0aGlzLm1fcmlnaHRTdGljayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHRTdGlja1ZhbHVlWDpudW1iZXIgPSB0aGlzLm1fcmlnaHRTdGljay5nZXRWYWx1ZVgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByaWdodFN0aWNrVmFsdWVZOm51bWJlciA9IHRoaXMubV9yaWdodFN0aWNrLmdldFZhbHVlWSgpO1xuICAgICAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5TZXRSaWdodEpveXN0aWNrQnVmZmVyKHJpZ2h0U3RpY2tWYWx1ZVgsIHJpZ2h0U3RpY2tWYWx1ZVksIHRoaXMuaW52ZXJ0UmlnaHRTdGlja1kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2xlZnRTdGljayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2xlZnRTdGljay5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2xlZnRTdGljayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3JpZ2h0U3RpY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9yaWdodFN0aWNrLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmlnaHRTdGljayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlSHRtbEVsZW1lbnRzKCk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCByb290VXJsOnN0cmluZyA9IFVOSVRZLlNjZW5lTWFuYWdlci5HZXRSb290VXJsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgY29uc3QgYmFzZUltYWdlRGF0YTpVTklUWS5JVW5pdHlUZXh0dXJlID0gdGhpcy5nZXRQcm9wZXJ0eShcImpveXN0aWNrQmFzZUltYWdlXCIpO1xuICAgICAgICAgICAgY29uc3QgbGVmdFN0aWNrSW1hZ2VEYXRhOlVOSVRZLklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdFN0aWNrSW1hZ2VcIik7XG4gICAgICAgICAgICBjb25zdCByaWdodFN0aWNrSW1hZ2VEYXRhOlVOSVRZLklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRTdGlja0ltYWdlXCIpO1xuICAgICAgICAgICAgY29uc3QgYmFzZUltYWdlRmlsZW5hbWU6c3RyaW5nID0gKGJhc2VJbWFnZURhdGEgIT0gbnVsbCkgPyBiYXNlSW1hZ2VEYXRhLmZpbGVuYW1lIDogXCJiYXNlSW1hZ2UucG5nXCI7XG4gICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tJbWFnZUZpbGVuYW1lOnN0cmluZyA9IChsZWZ0U3RpY2tJbWFnZURhdGEgIT0gbnVsbCkgPyBsZWZ0U3RpY2tJbWFnZURhdGEuZmlsZW5hbWUgOiBcImxlZnRTdGljay5wbmdcIjtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0U3RpY2tJbWFnZUZpbGVuYW1lOnN0cmluZyA9IChyaWdodFN0aWNrSW1hZ2VEYXRhICE9IG51bGwpID8gcmlnaHRTdGlja0ltYWdlRGF0YS5maWxlbmFtZSA6IFwicmlnaHRTdGljay5wbmdcIjtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIHJlZDsgd2lkdGg6IDEyOHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6MjBweDsgYm90dG9tOjIwcHg7XCJcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVMZWZ0Sm95c3RpY2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuaWQgPSBcImJhc2UxXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjEyOHB4XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICh0aGlzLmxlZnRTdGlja1N0eWxlID09PSAwKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNlbnRlckxlZnRKb3lzdGljayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuc3R5bGUubGVmdCA9ICBcIjUwJVwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudC5zdHlsZS5ib3R0b20gPSAodGhpcy5ib3R0b21NYXJnaW5zLnRvRml4ZWQoMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZSgtNTAlLCAwJSlcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuc3R5bGUubWFyZ2luID0gXCIwIGF1dG9cIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuc3R5bGUubGVmdCA9ICh0aGlzLnNpZGVNYXJnaW5zLnRvRml4ZWQoMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudC5zdHlsZS5ib3R0b20gPSAodGhpcy5ib3R0b21NYXJnaW5zLnRvRml4ZWQoMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlSW1nMTpIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgICAgICBiYXNlSW1nMS5pZCA9IFwiaW1hZ2UxXCI7XG4gICAgICAgICAgICAgICAgYmFzZUltZzEuc3JjID0gKHJvb3RVcmwgKyBiYXNlSW1hZ2VGaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFsbERpdjE6SFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGJhbGxEaXYxLmlkID0gXCJzdGljazFcIjtcbiAgICAgICAgICAgICAgICBiYWxsRGl2MS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICAgICAgICBiYWxsRGl2MS5zdHlsZS50b3AgPSBcIjMycHhcIjtcbiAgICAgICAgICAgICAgICBiYWxsRGl2MS5zdHlsZS5sZWZ0ID0gXCIzMnB4XCI7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFsbEltZzE6SFRNTEltYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgYmFsbEltZzEuaWQgPSBcImJhbGwxXCI7XG4gICAgICAgICAgICAgICAgYmFsbEltZzEuc3JjID0gKHJvb3RVcmwgKyBsZWZ0U3RpY2tJbWFnZUZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudC5hcHBlbmRDaGlsZChiYXNlSW1nMSk7XG4gICAgICAgICAgICAgICAgYmFsbERpdjEuYXBwZW5kQ2hpbGQoYmFsbEltZzEpO1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdEJhc2VFbGVtZW50LmFwcGVuZENoaWxkKGJhbGxEaXYxKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMubGVmdEJhc2VFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIGJsdWU7IHdpZHRoOiAxMjhweDsgcG9zaXRpb246IGFic29sdXRlOyByaWdodDoyMHB4OyBib3R0b206MjBweDtcIlxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVJpZ2h0Sm95c3RpY2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCYXNlRWxlbWVudC5pZCA9IFwiYmFzZTJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjEyOHB4XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodEJhc2VFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCYXNlRWxlbWVudC5zdHlsZS5yaWdodCA9ICh0aGlzLnNpZGVNYXJnaW5zLnRvRml4ZWQoMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCYXNlRWxlbWVudC5zdHlsZS5ib3R0b20gPSAodGhpcy5ib3R0b21NYXJnaW5zLnRvRml4ZWQoMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCYXNlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gKHRoaXMucmlnaHRTdGlja1N0eWxlID09PSAwKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VJbWcyOkhUTUxJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgIGJhc2VJbWcyLmlkID0gXCJpbWFnZTJcIjtcbiAgICAgICAgICAgICAgICBiYXNlSW1nMi5zcmMgPSAocm9vdFVybCArIGJhc2VJbWFnZUZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYWxsRGl2MjpIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgYmFsbERpdjIuaWQgPSBcInN0aWNrMlwiO1xuICAgICAgICAgICAgICAgIGJhbGxEaXYyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgIGJhbGxEaXYyLnN0eWxlLnRvcCA9IFwiMzJweFwiO1xuICAgICAgICAgICAgICAgIGJhbGxEaXYyLnN0eWxlLmxlZnQgPSBcIjMycHhcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBiYWxsSW1nMjpIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgICAgICBiYWxsSW1nMi5pZCA9IFwiYmFsbDJcIjtcbiAgICAgICAgICAgICAgICBiYWxsSW1nMi5zcmMgPSAocm9vdFVybCArIHJpZ2h0U3RpY2tJbWFnZUZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQuYXBwZW5kQ2hpbGQoYmFzZUltZzIpO1xuICAgICAgICAgICAgICAgIGJhbGxEaXYyLmFwcGVuZENoaWxkKGJhbGxJbWcyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQuYXBwZW5kQ2hpbGQoYmFsbERpdjIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yaWdodEJhc2VFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdGhlIGpveXN0aWNrIGlucHV0cyB0byBjb250cm9sIGEgZnJlZSBjYW1lcmEuXG4gICAgICogQHNlZSBodHRwczovL2RvYy5iYWJ5bG9uanMuY29tL2hvd190by9jdXN0b21pemluZ19jYW1lcmFfaW5wdXRzXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXQgaW1wbGVtZW50cyBCQUJZTE9OLklDYW1lcmFJbnB1dDxCQUJZTE9OLkZyZWVDYW1lcmE+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSB0aGUgY2FtZXJhIHRoZSBpbnB1dCBpcyBhdHRhY2hlZCB0by5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjYW1lcmE6IEJBQllMT04uRnJlZUNhbWVyYTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lIHRoZSBqb3lzdGljayBjb250cm9sbGluZyB0aGUgaW5wdXRcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjb250cm9sbGVyOiBCQUJZTE9OLk51bGxhYmxlPFBST0pFQ1QuTW9iaWxlSW5wdXRDb250cm9sbGVyPjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyB0aGUgam95c3RpY2sgcm90YXRpb24gc2Vuc2libGl0eS5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgdGhyZXNob2xkIGZyb20gd2hlbiByb3RhdGlvbiBzdGFydHMgdG8gYmUgYWNjb3VudGVkIGZvciB0byBwcmV2ZW50IGppdHRlcmluZy5cbiAgICAgICAgICovXG4gICAgICAgIEBCQUJZTE9OLnNlcmlhbGl6ZSgpXG4gICAgICAgIHB1YmxpYyBqb3lzdGlja0FuZ3VsYXJTZW5zaWJpbGl0eSA9IDIwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyB0aGUgam95c3RpY2sgbW92ZSBzZW5zaWJsaXR5LlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0aHJlc2hvbGQgZnJvbSB3aGVuIG1vdmluZyBzdGFydHMgdG8gYmUgYWNjb3VudGVkIGZvciBmb3IgdG8gcHJldmVudCBqaXR0ZXJpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBAQkFCWUxPTi5zZXJpYWxpemUoKVxuICAgICAgICBwdWJsaWMgam95c3RpY2tNb3ZlU2Vuc2liaWxpdHkgPSA0MC4wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIHRoZSBtaW5pbXVtIHZhbHVlIGF0IHdoaWNoIGFueSBhbmFsb2cgc3RpY2sgaW5wdXQgaXMgaWdub3JlZC5cbiAgICAgICAgICogTm90ZTogVGhpcyB2YWx1ZSBzaG91bGQgb25seSBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBkZWFkem9uZURlbHRhID0gMC4xO1xuXG5cbiAgICAgICAgcHJpdmF0ZSBfeUF4aXNTY2FsZSA9IDEuMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgb3Igc2V0cyBhIGJvb2xlYW4gaW5kaWNhdGluZyB0aGF0IFlheGlzIChmb3IgcmlnaHQgc3RpY2spIHNob3VsZCBiZSBpbnZlcnRlZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGdldCBpbnZlcnRZQXhpcygpIHsgcmV0dXJuIHRoaXMuX3lBeGlzU2NhbGUgIT09IDEuMDsgfVxuICAgICAgICBwdWJsaWMgc2V0IGludmVydFlBeGlzKHZhbHVlOiBib29sZWFuKSB7IHRoaXMuX3lBeGlzU2NhbGUgPSB2YWx1ZSA/IC0xLjAgOiAxLjA7IH1cblxuICAgICAgICAvLyBwcml2YXRlIG1lbWJlcnNcbiAgICAgICAgcHJpdmF0ZSBMU1ZhbHVlczpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIHByaXZhdGUgUlNWYWx1ZXM6QkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigwLDApO1xuICAgICAgICBwcml2YXRlIF9jYW1lcmFUcmFuc2Zvcm06IEJBQllMT04uTWF0cml4ID0gQkFCWUxPTi5NYXRyaXguSWRlbnRpdHkoKTtcbiAgICAgICAgcHJpdmF0ZSBfZGVsdGFUcmFuc2Zvcm06IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgX3ZlY3RvcjM6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgX3ZlY3RvcjI6IEJBQllMT04uVmVjdG9yMiA9IEJBQllMT04uVmVjdG9yMi5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgX2F0dGFjaGVkOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoIHRoZSBpbnB1dCBjb250cm9scyB0byBhIHNwZWNpZmljIGRvbSBlbGVtZW50IHRvIGdldCB0aGUgaW5wdXQgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBhdHRhY2hDb250cm9sKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGFjaCB0aGUgY3VycmVudCBjb250cm9scyBmcm9tIHRoZSBzcGVjaWZpZWQgZG9tIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZGV0YWNoQ29udHJvbCgpOiB2b2lkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRhY2ggdGhlIGN1cnJlbnQgY29udHJvbHMgZnJvbSB0aGUgc3BlY2lmaWVkIGRvbSBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0gaWdub3JlZCBkZWZpbmVzIGFuIGlnbm9yZWQgcGFyYW1ldGVyIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuIElmIHlvdSB3YW50IHRvIGRlZmluZSB0aGUgc291cmNlIGlucHV0IGVsZW1lbnQsIHlvdSBjYW4gc2V0IGVuZ2luZS5pbnB1dEVsZW1lbnQgYmVmb3JlIGNhbGxpbmcgY2FtZXJhLmF0dGFjaENvbnRyb2xcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBkZXRhY2hDb250cm9sKGlnbm9yZWQ/OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIHRoZSBjdXJyZW50IGNhbWVyYSBzdGF0ZSBkZXBlbmRpbmcgb24gdGhlIGlucHV0cyB0aGF0IGhhdmUgYmVlbiB1c2VkIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgaXMgYSBkeW5hbWljYWxseSBjcmVhdGVkIGxhbWJkYSB0byBhdm9pZCB0aGUgcGVyZm9ybWFuY2UgcGVuYWx0eSBvZiBsb29waW5nIGZvciBpbnB1dHMgaW4gdGhlIHJlbmRlciBsb29wLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGNoZWNrSW5wdXRzKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhICE9IG51bGwgJiYgdGhpcy5jb250cm9sbGVyICE9IG51bGwgJiYgdGhpcy5fYXR0YWNoZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBMU3RpY2sgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0TGVmdFN0aWNrKCk7XG4gICAgICAgICAgICAgICAgaWYgKExTdGljayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTFNWYWx1ZXMuc2V0KExTdGljay5nZXRWYWx1ZVgoKSwgTFN0aWNrLmdldFZhbHVlWSgpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuam95c3RpY2tNb3ZlU2Vuc2liaWxpdHkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTFNWYWx1ZXMueCA9IChNYXRoLmFicyh0aGlzLkxTVmFsdWVzLngpID4gdGhpcy5kZWFkem9uZURlbHRhKSA/IHRoaXMuTFNWYWx1ZXMueCAvIHRoaXMuam95c3RpY2tNb3ZlU2Vuc2liaWxpdHkgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5MU1ZhbHVlcy55ID0gKE1hdGguYWJzKHRoaXMuTFNWYWx1ZXMueSkgPiB0aGlzLmRlYWR6b25lRGVsdGEpID8gdGhpcy5MU1ZhbHVlcy55IC8gdGhpcy5qb3lzdGlja01vdmVTZW5zaWJpbGl0eSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxTVmFsdWVzLnNldCgwLDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IFJTdGljayA9IHRoaXMuY29udHJvbGxlci5nZXRSaWdodFN0aWNrKCk7XG4gICAgICAgICAgICAgICAgaWYgKFJTdGljayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuUlNWYWx1ZXMuc2V0KFJTdGljay5nZXRWYWx1ZVgoKSwgUlN0aWNrLmdldFZhbHVlWSgpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuam95c3RpY2tBbmd1bGFyU2Vuc2liaWxpdHkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUlNWYWx1ZXMueCA9IChNYXRoLmFicyh0aGlzLlJTVmFsdWVzLngpID4gdGhpcy5kZWFkem9uZURlbHRhKSA/IHRoaXMuUlNWYWx1ZXMueCAvIHRoaXMuam95c3RpY2tBbmd1bGFyU2Vuc2liaWxpdHkgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SU1ZhbHVlcy55ID0gKChNYXRoLmFicyh0aGlzLlJTVmFsdWVzLnkpID4gdGhpcy5kZWFkem9uZURlbHRhKSA/IHRoaXMuUlNWYWx1ZXMueSAvIHRoaXMuam95c3RpY2tBbmd1bGFyU2Vuc2liaWxpdHkgOiAwKSAqIHRoaXMuX3lBeGlzU2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLlJTVmFsdWVzLnNldCgwLDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYW1lcmEucm90YXRpb25RdWF0ZXJuaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTWF0cml4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5jYW1lcmEucm90YXRpb24ueSwgdGhpcy5jYW1lcmEucm90YXRpb24ueCwgMCwgdGhpcy5fY2FtZXJhVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvblF1YXRlcm5pb24udG9Sb3RhdGlvbk1hdHJpeCh0aGlzLl9jYW1lcmFUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHZhciBzcGVlZCA9IHRoaXMuY2FtZXJhLl9jb21wdXRlTG9jYWxDYW1lcmFTcGVlZCgpICogNTAuMDtcbiAgICAgICAgICAgICAgICB0aGlzLl92ZWN0b3IzLmNvcHlGcm9tRmxvYXRzKHRoaXMuTFNWYWx1ZXMueCAqIHNwZWVkLCAwLCAtdGhpcy5MU1ZhbHVlcy55ICogc3BlZWQpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fdmVjdG9yMywgdGhpcy5fY2FtZXJhVHJhbnNmb3JtLCB0aGlzLl9kZWx0YVRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhRGlyZWN0aW9uLmFkZEluUGxhY2UodGhpcy5fZGVsdGFUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZlY3RvcjIuY29weUZyb21GbG9hdHModGhpcy5SU1ZhbHVlcy55LCB0aGlzLlJTVmFsdWVzLngpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmNhbWVyYVJvdGF0aW9uLmFkZEluUGxhY2UodGhpcy5fdmVjdG9yMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgY2xhc3MgbmFtZSBvZiB0aGUgY3VycmVudCBpbnB1dC5cbiAgICAgICAgICogQHJldHVybnMgdGhlIGNsYXNzIG5hbWVcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBnZXRDbGFzc05hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiBcIkZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXRcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGZyaWVuZGx5IG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbnB1dCBjbGFzcy5cbiAgICAgICAgICogQHJldHVybnMgdGhlIGlucHV0IGZyaWVuZGx5IG5hbWVcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBnZXRTaW1wbGVOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gXCJqb3lzdGlja1wiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgKDxhbnk+QkFCWUxPTi5DYW1lcmFJbnB1dFR5cGVzKVtcIkZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXRcIl0gPSBQUk9KRUNULkZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXQ7XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTW9iaWxlT2NjbHVkZU1hdGVyaWFsXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTW9iaWxlT2NjbHVkZU1hdGVyaWFsIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBhcHBseVRvTWF0ZXJpYWw6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXBwbHlUb01hdGVyaWFsID09PSB0cnVlICYmIHRoaXMudHJhbnNmb3JtIGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXRlcmlhbC5kaXNhYmxlQ29sb3JXcml0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTW9iaWxlU2hhZG93TWF0ZXJpYWxcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBNb2JpbGVTaGFkb3dNYXRlcmlhbCBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgY3JlYXRlTmV3TWF0ZXJpYWw6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3JlYXRlTmV3TWF0ZXJpYWwgPT09IHRydWUgJiYgdGhpcy50cmFuc2Zvcm0gaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsTmFtZTpzdHJpbmcgPSB0aGlzLnRyYW5zZm9ybS5uYW1lLnJlcGxhY2UoXCIgXCIsIFwiXCIpICsgXCIuU2hhZG93TWF0ZXJpYWxcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbChtYXRlcmlhbE5hbWUsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jcmVhdGVOZXdNYXRlcmlhbCA9PT0gdHJ1ZSAmJiB0aGlzLnRyYW5zZm9ybSBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLm1hdGVyaWFsICE9IG51bGwgJiYgdGhpcy50cmFuc2Zvcm0ubWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEJhbGxTb2NrZXRKb2ludFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEJhbGxTb2NrZXRKb2ludCBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKC0wLjUsIDAsIC0wLjUpO1xuICAgICAgICBwdWJsaWMgcGl2b3RCOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoLTAuNSwgMCwgMC41KTtcbiAgICAgICAgcHVibGljIGF4aXNBOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwxLDApO1xuICAgICAgICBwdWJsaWMgYXhpc0I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDEsMCk7XG4gICAgICAgIHB1YmxpYyBjb25zdHJhaW50OkJBQllMT04uQmFsbEFuZFNvY2tldENvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY29sbGlzaW9uc0VuYWJsZWQ6Ym9vbGVhbiA9IGZhbHNlOyAgICAgICAgXG4gICAgXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUFcIik7XG4gICAgICAgICAgICBjb25zdCBib2R5QkluZm86VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlCXCIpO1xuICAgICAgICAgICAgaWYgKGJvZHlBSW5mbyAhPSBudWxsICYmIGJvZHlCSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lID09PSBib2R5QUluZm8ubmFtZSkgPyB0aGlzLnRyYW5zZm9ybSA6IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlBSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlCID0gdGhpcy5nZXRDaGlsZE5vZGUoYm9keUJJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBICE9IG51bGwgJiYgdGhpcy5ib2R5QiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5ib2R5Qi5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBuZXcgQkFCWUxPTi5CYWxsQW5kU29ja2V0Q29uc3RyYWludCh0aGlzLnBpdm90QSwgdGhpcy5waXZvdEIsIHRoaXMuYXhpc0EsIHRoaXMuYXhpc0IsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5QS5waHlzaWNzQm9keS5hZGRDb25zdHJhaW50KHRoaXMuYm9keUIucGh5c2ljc0JvZHksIHRoaXMuY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuaXNDb2xsaXNpb25zRW5hYmxlZCA9IHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ib2R5QiA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgRGlzdGFuY2VKb2ludFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIERpc3RhbmNlSm9pbnQgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYm9keUE6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJvZHlCOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBtYXhEaXN0YW5jZTpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDpCQUJZTE9OLkRpc3RhbmNlQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDpib29sZWFuID0gZmFsc2U7ICAgICAgICBcbiAgICBcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYm9keUFJbmZvOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUJcIik7XG4gICAgICAgICAgICBpZiAoYm9keUFJbmZvICE9IG51bGwgJiYgYm9keUJJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlBID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgPT09IGJvZHlBSW5mby5uYW1lKSA/IHRoaXMudHJhbnNmb3JtIDogdGhpcy5nZXRDaGlsZE5vZGUoYm9keUFJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUIgPSB0aGlzLmdldENoaWxkTm9kZShib2R5QkluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEgIT0gbnVsbCAmJiB0aGlzLmJvZHlCICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLmJvZHlCLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG5ldyBCQUJZTE9OLkRpc3RhbmNlQ29uc3RyYWludCh0aGlzLm1heERpc3RhbmNlLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEZpeGVkSGluZ2VKb2ludFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEZpeGVkSGluZ2VKb2ludCBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwtMC41KTtcbiAgICAgICAgcHVibGljIHBpdm90QjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwLjUpO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDpCQUJZTE9OLkhpbmdlQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDpib29sZWFuID0gZmFsc2U7ICAgICAgICBcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBib2R5QUluZm86VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlBXCIpO1xuICAgICAgICAgICAgY29uc3QgYm9keUJJbmZvOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QlwiKTtcbiAgICAgICAgICAgIGlmIChib2R5QUluZm8gIT0gbnVsbCAmJiBib2R5QkluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUEgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gYm9keUFJbmZvLm5hbWUpID8gdGhpcy50cmFuc2Zvcm0gOiB0aGlzLmdldENoaWxkTm9kZShib2R5QUluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QiA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlCSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QSAhPSBudWxsICYmIHRoaXMuYm9keUIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuYm9keUIucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbmV3IEJBQllMT04uSGluZ2VDb25zdHJhaW50KHRoaXMucGl2b3RBLCB0aGlzLnBpdm90QiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5QS5waHlzaWNzQm9keS5hZGRDb25zdHJhaW50KHRoaXMuYm9keUIucGh5c2ljc0JvZHksIHRoaXMuY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuaXNDb2xsaXNpb25zRW5hYmxlZCA9IHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ib2R5QiA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTG9ja2VkSm9pbnRcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBMb2NrZWRKb2ludCBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAuNSwgMC41LCAtMC41KTtcbiAgICAgICAgcHVibGljIHBpdm90QjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKC0wLjUsIC0wLjUsIDAuNSk7XG4gICAgICAgIHB1YmxpYyBheGlzQTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMSwwKTtcbiAgICAgICAgcHVibGljIGF4aXNCOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwxLDApO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDpCQUJZTE9OLkxvY2tDb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNvbGxpc2lvbnNFbmFibGVkOmJvb2xlYW4gPSBmYWxzZTsgICAgICAgIFxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUFcIik7XG4gICAgICAgICAgICBjb25zdCBib2R5QkluZm86VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlCXCIpO1xuICAgICAgICAgICAgaWYgKGJvZHlBSW5mbyAhPSBudWxsICYmIGJvZHlCSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lID09PSBib2R5QUluZm8ubmFtZSkgPyB0aGlzLnRyYW5zZm9ybSA6IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlBSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlCID0gdGhpcy5nZXRDaGlsZE5vZGUoYm9keUJJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBICE9IG51bGwgJiYgdGhpcy5ib2R5QiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5ib2R5Qi5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBuZXcgQkFCWUxPTi5Mb2NrQ29uc3RyYWludCh0aGlzLnBpdm90QSwgdGhpcy5waXZvdEIsIHRoaXMuYXhpc0EsIHRoaXMuYXhpc0IsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5QS5waHlzaWNzQm9keS5hZGRDb25zdHJhaW50KHRoaXMuYm9keUIucGh5c2ljc0JvZHksIHRoaXMuY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuaXNDb2xsaXNpb25zRW5hYmxlZCA9IHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ib2R5QiA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgUHJpc21hdGljSm9pbnRcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBQcmlzbWF0aWNKb2ludCBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwtMC4yKTtcbiAgICAgICAgcHVibGljIHBpdm90QjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwLjI1KTtcbiAgICAgICAgcHVibGljIGF4aXNBOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwxLDApO1xuICAgICAgICBwdWJsaWMgYXhpc0I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDEsMCk7XG4gICAgICAgIHB1YmxpYyBjb25zdHJhaW50OkJBQllMT04uUHJpc21hdGljQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDpib29sZWFuID0gZmFsc2U7ICAgICAgICBcbiAgICBcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYm9keUFJbmZvOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUJcIik7XG4gICAgICAgICAgICBpZiAoYm9keUFJbmZvICE9IG51bGwgJiYgYm9keUJJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlBID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgPT09IGJvZHlBSW5mby5uYW1lKSA/IHRoaXMudHJhbnNmb3JtIDogdGhpcy5nZXRDaGlsZE5vZGUoYm9keUFJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUIgPSB0aGlzLmdldENoaWxkTm9kZShib2R5QkluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEgIT0gbnVsbCAmJiB0aGlzLmJvZHlCICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLmJvZHlCLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG5ldyBCQUJZTE9OLlByaXNtYXRpY0NvbnN0cmFpbnQodGhpcy5waXZvdEEsIHRoaXMucGl2b3RCLCB0aGlzLmF4aXNBLCB0aGlzLmF4aXNCLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFNpeGRvZkpvaW50XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU2l4ZG9mSm9pbnQgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYm9keUE6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJvZHlCOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwaXZvdEE6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMC41LCAwKTtcbiAgICAgICAgcHVibGljIHBpdm90QjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAuNSwgMCk7XG4gICAgICAgIHB1YmxpYyBwZXJwQXhpc0E6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygxLDAsMCk7XG4gICAgICAgIHB1YmxpYyBwZXJwQXhpc0I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygxLDAsMCk7XG4gICAgICAgIHB1YmxpYyBheGlzTGltaXRzOkJBQllMT04uUGh5c2ljczZEb0ZMaW1pdFtdID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNvbnN0cmFpbnQ6QkFCWUxPTi5QaHlzaWNzNkRvRkNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY29sbGlzaW9uc0VuYWJsZWQ6Ym9vbGVhbiA9IGZhbHNlOyAgICAgICAgXG4gICAgXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUFcIik7XG4gICAgICAgICAgICBjb25zdCBib2R5QkluZm86VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlCXCIpO1xuICAgICAgICAgICAgaWYgKGJvZHlBSW5mbyAhPSBudWxsICYmIGJvZHlCSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lID09PSBib2R5QUluZm8ubmFtZSkgPyB0aGlzLnRyYW5zZm9ybSA6IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlBSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlCID0gdGhpcy5nZXRDaGlsZE5vZGUoYm9keUJJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBICE9IG51bGwgJiYgdGhpcy5ib2R5QiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5ib2R5Qi5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBuZXcgQkFCWUxPTi5QaHlzaWNzNkRvRkNvbnN0cmFpbnQoIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpdm90QTogdGhpcy5waXZvdEEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpdm90QjogdGhpcy5waXZvdEIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcnBBeGlzQTogdGhpcy5wZXJwQXhpc0EsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcnBBeGlzQjogdGhpcy5wZXJwQXhpc0JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXhpc0xpbWl0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5QS5waHlzaWNzQm9keS5hZGRDb25zdHJhaW50KHRoaXMuYm9keUIucGh5c2ljc0JvZHksIHRoaXMuY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuaXNDb2xsaXNpb25zRW5hYmxlZCA9IHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ib2R5QiA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgU2xpZGVySm9pbnRcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBTbGlkZXJKb2ludCBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwtMC4yKTtcbiAgICAgICAgcHVibGljIHBpdm90QjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwLjI1KTtcbiAgICAgICAgcHVibGljIGF4aXNBOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwxLDApO1xuICAgICAgICBwdWJsaWMgYXhpc0I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDEsMCk7XG4gICAgICAgIHB1YmxpYyBjb25zdHJhaW50OkJBQllMT04uU2xpZGVyQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDpib29sZWFuID0gZmFsc2U7ICAgICAgICBcbiAgICBcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYm9keUFJbmZvOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUJcIik7XG4gICAgICAgICAgICBpZiAoYm9keUFJbmZvICE9IG51bGwgJiYgYm9keUJJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlBID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgPT09IGJvZHlBSW5mby5uYW1lKSA/IHRoaXMudHJhbnNmb3JtIDogdGhpcy5nZXRDaGlsZE5vZGUoYm9keUFJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUIgPSB0aGlzLmdldENoaWxkTm9kZShib2R5QkluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEgIT0gbnVsbCAmJiB0aGlzLmJvZHlCICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLmJvZHlCLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG5ldyBCQUJZTE9OLlNsaWRlckNvbnN0cmFpbnQodGhpcy5waXZvdEEsIHRoaXMucGl2b3RCLCB0aGlzLmF4aXNBLCB0aGlzLmF4aXNCLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFJlbW90ZVBsYXllckNvbnRyb2xsZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBSZW1vdGVQbGF5ZXJDb250cm9sbGVyIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIHVwZGF0ZVN0YXRlUGFyYW1zOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgc21vb3RoTW90aW9uVGltZTpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc21vb3RoSW5wdXRWZWN0b3JzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRpb25TdGF0ZTpVTklUWS5BbmltYXRpb25TdGF0ZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYW5pbWF0aW9uU3RhdGVQYXJhbXM6UFJPSkVDVC5BbmltYXRpb25TdGF0ZVBhcmFtcyA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ1cGRhdGVTdGF0ZVBhcmFtc1wiLCB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoTW90aW9uVGltZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhNb3Rpb25UaW1lXCIsIHRoaXMuc21vb3RoTW90aW9uVGltZSk7XG4gICAgICAgICAgICB0aGlzLnNtb290aElucHV0VmVjdG9ycyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhJbnB1dFZlY3RvcnNcIiwgdGhpcy5zbW9vdGhJbnB1dFZlY3RvcnMpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbmltYXRpb25TdGF0ZVBhcmFtc1wiLCB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIC8vY29uc29sZS53YXJuKFwiUmVtb3RlIFBsYXllciBDb250cm9sbGVyOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6bnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBGSVggVEhJUyBTSElUXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hBbmltYXRpb25Db250cm9sbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gUXVlcnkgTmV0d29yayBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuSGFzTmV0d29ya0VudGl0eSh0aGlzLnRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb246bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAwKTsgICAgICAgIC8vIERpcmVjdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hZ25pdHVkZTpudW1iZXIgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEpOyAgICAgICAgLy8gTWFnbml0dWRlXG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRYOm51bWJlciA9IFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMik7ICAgICAgICAgICAvLyBIb3Jpem9uYWxcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFo6bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAzKTsgICAgICAgICAgIC8vIFZlcnRpY2FsXG4gICAgICAgICAgICAgICAgY29uc3QgbW91c2VYOm51bWJlciA9IFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNCk7ICAgICAgICAgICAvLyBNb3VzZVhcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZVk6bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA1KTsgICAgICAgICAgIC8vIE1vdXNleVxuICAgICAgICAgICAgICAgIGNvbnN0IHZ2ZWxvY2l0eTpudW1iZXIgPSBVTklUWS5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDYpOyAgICAgICAgLy8gVmVydGljYWwgVmVsb2NpdHlcbiAgICAgICAgICAgICAgICBjb25zdCBtb3Zlc3BlZWQ6bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA3KTsgICAgICAgIC8vIE1vdmVtZW50IFNwZWVkXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uc3RhdGU6bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA4KTsgICAgICAvLyBBY3Rpb24gU3RhdGVcbiAgICAgICAgICAgICAgICBjb25zdCBqdW1wZnJhbWU6bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA5KTsgICAgICAgIC8vIEp1bXAgRnJhbWVcbiAgICAgICAgICAgICAgICBjb25zdCBpc2p1bXBpbmc6bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMCk7ICAgICAgIC8vIElzIEp1bXBpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBpc2ZhbGxpbmc6bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMSk7ICAgICAgIC8vIElzIEZhbGxpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBpc3NsaWRpbmc6bnVtYmVyID0gVU5JVFkuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMik7ICAgICAgIC8vIElzIFNsaWRpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBpc2dyb3VuZGVkOm51bWJlciA9IFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTMpOyAgICAgIC8vIElzIEdyb3VuZGVkXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQW5pbWF0aW9uIFN0YXRlIFBhcmFtc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCAmJiB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVBbmltYXRpb25TdGF0ZVBhcmFtcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEludGVnZXIodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3ZlRGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaGVpZ2h0SW5wdXQsIHZ2ZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmp1bXBGcmFtZSwgKGp1bXBmcmFtZSAhPT0gMCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5qdW1wU3RhdGUsIChpc2p1bXBpbmcgIT09IDApKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRJbnRlZ2VyKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuYWN0aW9uU3RhdGUsIGFjdGlvbnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuZmFsbGluZ1N0YXRlLCAoaXNmYWxsaW5nICE9PSAwKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNsaWRpbmdTdGF0ZSwgKGlzc2xpZGluZyAhPT0gMCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ncm91bmRlZFN0YXRlLCAoaXNncm91bmRlZCAhPT0gMCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhNb3Rpb25UaW1lID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgaW5wdXRYLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnZlcnRpY2FsSW5wdXQsIGlucHV0WiwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgbW91c2VYLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCBtb3VzZVksIHRoaXMuc21vb3RoTW90aW9uVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgaW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgaW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIG1vdXNlWCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCBtb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmlucHV0TWFnbml0dWRlLCBtYWduaXR1ZGUsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCBtb3Zlc3BlZWQsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIGlucHV0WCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgaW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgbW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgbW91c2VZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5pbnB1dE1hZ25pdHVkZSwgbWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCBtb3Zlc3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIC8vIFRPRE8gLSBVcGRhdGUgU3BlZWQgSW5wdXQgV2l0aCBOYXZpZ2F0aW9uIE1hZ25pdHVkZVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAvLyB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgbWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBhdHRhY2hBbmltYXRpb25Db250cm9sbGVyKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiVU5JVFkuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25Ob2RlOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMuZ2V0Q2hpbGRXaXRoU2NyaXB0KFwiVU5JVFkuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudChhbmltYXRpb25Ob2RlLCBcIlVOSVRZLkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGxvY2F0ZSBhbmltYXRvciBub2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5vbkFuaW1hdGlvblVwZGF0ZU9ic2VydmFibGUuYWRkKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlLmlrRnJhbWVFbmFibGVkKCkgPT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFVwZGF0ZSB0YXJnZXQgbWVzaCBwb3NpdGlvbiBXaGVuIEdyb3VuZGVkIC0gVXNlIFJheWNhc3QgLSA/Pz9cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAodGhpcy5faWtMZWZ0Q29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB0aGlzLl9pa0xlZnRDb250cm9sbGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLl9pa1JpZ2h0Q29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHZhbGlkYXRlQW5pbWF0aW9uU3RhdGVQYXJhbXMoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uOiBcIkRpcmVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dE1hZ25pdHVkZTogXCJNYWduaXR1ZGVcIixcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbElucHV0OiBcIkhvcml6b250YWxcIixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxJbnB1dDogXCJWZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZVhJbnB1dDogXCJNb3VzZVhcIixcbiAgICAgICAgICAgICAgICAgICAgbW91c2VZSW5wdXQ6IFwiTW91c2VZXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodElucHV0OiBcIkhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZElucHV0OiBcIlNwZWVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1bXBGcmFtZTogXCJKdW1wZWRcIixcbiAgICAgICAgICAgICAgICAgICAganVtcFN0YXRlOiBcIkp1bXBcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU3RhdGU6IFwiQWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGZhbGxpbmdTdGF0ZTogXCJGcmVlRmFsbFwiLFxuICAgICAgICAgICAgICAgICAgICBzbGlkaW5nU3RhdGU6IFwiU2xpZGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBncm91bmRlZFN0YXRlOiBcIkdyb3VuZGVkXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHRvb2xraXQgc3RhbmRhcmQgcGxheWVyIGNvbnRyb2xsZXIgY2xhc3NcbiAgICAgKiBAY2xhc3MgU3RhbmRhcmRQbGF5ZXJDb250cm9sbGVyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU3RhbmRhcmRQbGF5ZXJDb250cm9sbGVyIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBNSU5fVkVSVElDQUxfVkVMT0NJVFk6bnVtYmVyID0gMC4wMTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBNSU5fR1JPVU5EX0RJU1RBTkNFOm51bWJlciA9IDAuMTU7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX01PVkVfRVBTSUxPTjpudW1iZXIgPSAwLjAwMTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBNSU5fVElNRVJfT0ZGU0VUOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1NMT1BFX0xJTUlUOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUExBWUVSX0hFSUdIVDpzdHJpbmcgPSBcInBsYXllckhlaWdodFwiO1xuXG4gICAgICAgIHB1YmxpYyBlbmFibGVJbnB1dDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBhdHRhY2hDYW1lcmE6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcm90YXRlQ2FtZXJhOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgbW91c2VXaGVlbDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHRvZ2dsZVZpZXc6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBmcmVlTG9va2luZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyByZXF1aXJlU3ByaW50QnV0dG9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGdyYXZpdGF0aW9uYWxGb3JjZTpudW1iZXIgPSAyOS40O1xuICAgICAgICBwdWJsaWMgdGVybWluYWxWZWxvY2l0eTpudW1iZXIgPSA1NS4wO1xuICAgICAgICBwdWJsaWMgbWluRmFsbFZlbG9jaXR5Om51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIGFpcmJvcm5UaW1lb3V0Om51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIGRldGVjdGlvblJhZGl1czpudW1iZXIgPSAwLjIyO1xuICAgICAgICBwdWJsaWMgdmVydGljYWxPZmZzZXQ6bnVtYmVyID0gMC4wODtcbiAgICAgICAgcHVibGljIGZvcndhcmRPZmZzZXQ6bnVtYmVyID0gMC4wO1xuICAgICAgICAvL3B1YmxpYyBub3JtYWxBbmdsZTpudW1iZXIgPSAwLjY7XG4gICAgICAgIC8vcHVibGljIHJhZGl1c1NjYWxlOm51bWJlciA9IDAuNTtcbiAgICAgICAgLy9wdWJsaWMgcmF5TGVuZ3RoOm51bWJlciA9IDEwO1xuICAgICAgICAvL3B1YmxpYyByYXlPcmlnaW46bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIG1heEFuZ2xlOm51bWJlciA9IDQ1O1xuICAgICAgICBwdWJsaWMgc3BlZWRGYWN0b3I6bnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgcm9vdE1vdGlvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBtb3ZlU3BlZWQ6bnVtYmVyID0gNi4wO1xuICAgICAgICBwdWJsaWMgd2Fsa1NwZWVkOm51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIGxvb2tTcGVlZDpudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBqdW1wU3BlZWQ6bnVtYmVyID0gMTAuMDtcbiAgICAgICAgcHVibGljIGp1bXBEZWxheTpudW1iZXIgPSAwLjI1O1xuICAgICAgICBwdWJsaWMgZXllc0hlaWdodDpudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBwaXZvdEhlaWdodDpudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBtYXhEaXN0YW5jZTpudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBzY3JvbGxTcGVlZDpudW1iZXIgPSAyNTtcbiAgICAgICAgcHVibGljIHRvcExvb2tMaW1pdDpudW1iZXIgPSA2MC4wO1xuICAgICAgICBwdWJsaWMgZG93bkxvb2tMaW1pdDpudW1iZXIgPSAzMC4wO1xuICAgICAgICBwdWJsaWMgbG93VHVyblNwZWVkOm51bWJlciA9IDE1LjA7XG4gICAgICAgIHB1YmxpYyBoaWdoVHVyblNwZWVkOm51bWJlciA9IDI1LjA7XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwdWJsaWMgc21vb3RoaW5nU3BlZWQ6bnVtYmVyID0gMC4xMjtcbiAgICAgICAgcHVibGljIHNtb290aE1vdGlvblRpbWU6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHNtb290aElucHV0VmVjdG9yczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBzbW9vdGhBY2NlbGVyYXRpb246Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgYWNjZWxlcmF0aW9uU3BlZWQ6bnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgZGVjZWxlcmF0aW9uU3BlZWQ6bnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgYXZhdGFyU2tpblRhZzpzdHJpbmcgPSBcIlNraW5cIjtcbiAgICAgICAgcHVibGljIGNsaW1iVm9sdW1lVGFnOnN0cmluZyA9IFwiQ2xpbWJcIjtcbiAgICAgICAgcHVibGljIHZhdWx0Vm9sdW1lVGFnOnN0cmluZyA9IFwiVmF1bHRcIjtcbiAgICAgICAgcHVibGljIG1heEhlaWdodFJhbmdlczphbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdXNlQ2xpbWJTeXN0ZW06Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZGlzdGFuY2VGYWN0b3I6bnVtYmVyID0gMC44NTtcbiAgICAgICAgcHVibGljIGNhbWVyYVNtb290aGluZzpudW1iZXIgPSA1O1xuICAgICAgICBwdWJsaWMgY2FtZXJhQ29sbGlzaW9uczpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGlucHV0TWFnbml0dWRlOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBsYW5kaW5nRXBzaWxvbjpudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBtaW5pbXVtRGlzdGFuY2U6bnVtYmVyID0gMC44NTtcbiAgICAgICAgcHVibGljIG1vdmVtZW50QWxsb3dlZDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBsYXllcklucHV0WDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcGxheWVySW5wdXRaOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJNb3VzZVg6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHBsYXllck1vdXNlWTpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcnVuS2V5UmVxdWlyZWQ6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBpZ25vcmVUcmlnZ2VyVGFnczpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYnV0dG9uUnVuOm51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5MZWZ0U3RpY2s7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZFJ1bjpudW1iZXIgPSBVTklUWS5Vc2VySW5wdXRLZXkuU2hpZnQ7XG4gICAgICAgIHB1YmxpYyBidXR0b25KdW1wOm51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5BO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRKdW1wOm51bWJlciA9IFVOSVRZLlVzZXJJbnB1dEtleS5TcGFjZUJhcjtcbiAgICAgICAgcHVibGljIGJ1dHRvbkNhbWVyYTpudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uWTtcbiAgICAgICAgcHVibGljIGtleWJvYXJkQ2FtZXJhOm51bWJlciA9IFVOSVRZLlVzZXJJbnB1dEtleS5QO1xuICAgICAgICBwdWJsaWMgcG9zdE5ldHdvcmtBdHRyaWJ1dGVzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHBsYXllck51bWJlcjpVTklUWS5QbGF5ZXJOdW1iZXIgPSBVTklUWS5QbGF5ZXJOdW1iZXIuT25lO1xuICAgICAgICBwdWJsaWMgYm9vbVBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwdWJsaWMgYWlyYm9yblZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRWZWxvY2l0eTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHVibGljIHRhcmdldENhbWVyYU9mZnNldDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHVibGljIGlzQW5pbWF0aW9uRW5hYmxlZCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy51cGRhdGVTdGF0ZVBhcmFtczsgfVxuICAgICAgICBwdWJsaWMgaXNSdW5CdXR0b25QcmVzc2VkKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmlzUnVuUHJlc3NlZDsgfVxuICAgICAgICBwdWJsaWMgaXNKdW1wQnV0dG9uUHJlc3NlZCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0p1bXBQcmVzc2VkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJKdW1wZWQoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWU7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllckp1bXBpbmcoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJGYWxsaW5nKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyU2xpZGluZygpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3RlclNsaWRpbmc7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllckdyb3VuZGVkKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQ7IH1cbiAgICAgICAgcHVibGljIGdldEZhbGxUcmlnZ2VyZWQoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRNb3ZlbWVudFNwZWVkKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMubW92ZW1lbnRTcGVlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhQm9vbU5vZGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jYW1lcmFOb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFUcmFuc2Zvcm0oKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jYW1lcmFQaXZvdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0QW5pbWF0aW9uU3RhdGUoKTpVTklUWS5BbmltYXRpb25TdGF0ZSB7IHJldHVybiB0aGlzLmFuaW1hdGlvblN0YXRlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRWZXJ0aWNhbFZlbG9jaXR5KCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuZ2V0Q2hlY2tlZFZlcnRpY2FsVmVsb2NpdHkoKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2hhcmFjdGVyQ29udHJvbGxlcigpOlVOSVRZLkNoYXJhY3RlckNvbnRyb2xsZXIgeyByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJMb29rUm90YXRpb24oKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5wbGF5ZXJMb29rUm90YXRpb247IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllck1vdmVEaXJlY3Rpb24oKTpQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24geyByZXR1cm4gdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uOyB9XG4gICAgICAgIHB1YmxpYyBnZXRJbnB1dE1vdmVtZW50VmVjdG9yKCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuaW5wdXRNb3ZlbWVudFZlY3RvcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SW5wdXRNYWduaXR1ZGVWYWx1ZSgpOm51bWJlciB7IHJldHVybiB0aGlzLmlucHV0TWFnbml0dWRlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFQaXZvdFBvc2l0aW9uKCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuICAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSA/IHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24gOiBudWxsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFQaXZvdFJvdGF0aW9uKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLmNhbWVyYVBpdm90ICE9IG51bGwpID8gdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24gOiBudWxsOyB9XG5cbiAgICAgICAgLy9wdWJsaWMgZ2V0R3JvdW5kSGl0KCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmdyb3VuZEhpdDsgfVxuICAgICAgICAvL3B1YmxpYyBnZXRHcm91bmROb2RlKCk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuZ3JvdW5kTm9kZTsgfVxuICAgICAgICAvL3B1YmxpYyBnZXRHcm91bmRQb2ludCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmdyb3VuZFBvaW50OyB9XG4gICAgICAgIC8vcHVibGljIGdldEdyb3VuZEFuZ2xlKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuZ3JvdW5kQW5nbGU7IH1cbiAgICAgICAgLy9wdWJsaWMgZ2V0R3JvdW5kTm9ybWFsKCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZ3JvdW5kTm9ybWFsOyB9XG4gICAgICAgIC8vcHVibGljIGdldEdyb3VuZERpc3RhbmNlKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuZ3JvdW5kRGlzdGFuY2U7IH1cbiAgICAgICAgLy9wdWJsaWMgZ2V0R3JvdW5kQ29sbGlzaW9uKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmdyb3VuZENvbGxpc2lvbjsgfVxuXG4gICAgICAgIHB1YmxpYyByYXlDbGltYk9mZnNldDpudW1iZXIgPSAwLjM1O1xuICAgICAgICBwdWJsaWMgcmF5Q2xpbWJMZW5ndGg6bnVtYmVyID0gMC44NTtcbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdE5vZGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3ROb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3RQb2ludCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3RBbmdsZSgpOm51bWJlciB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdEFuZ2xlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3ROb3JtYWwoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdERpc3RhbmNlKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2U7IH07XG4gICAgICAgIHB1YmxpYyBjYW5DbGltYk9ic3RhY2xlUHJlZGljYXRlOihhY3Rpb246bnVtYmVyKT0+Ym9vbGVhbj1udWxsO1xuXG4gICAgICAgIHB1YmxpYyByYXlIZWlnaHRPZmZzZXQ6bnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgcmF5SGVpZ2h0TGVuZ3RoOm51bWJlciA9IDYuMDtcbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3QoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdE5vZGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0Tm9kZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdFBvaW50KCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0QW5nbGUoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0QW5nbGU7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3ROb3JtYWwoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0RGlzdGFuY2UoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0RGlzdGFuY2U7IH07XG5cbiAgICAgICAgcHVibGljIHNldEdhdml0eUZvcmNlKGdyYXZpdHk6bnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSA9IGdyYXZpdHk7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R3Jhdml0eSh0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHNldEZhbGxpbmdTcGVlZCh2ZWxvY2l0eTpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hbFZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0RmFsbGluZ1NwZWVkKHRoaXMudGVybWluYWxWZWxvY2l0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHBoeXNpY3NXb3JsZDphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGFic3RyYWN0TWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRGlzdGFuY2U6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBmb3J3YXJkQ2FtZXJhOmJvb2xlYW4gPSB0cnVlOyAvLyBOb3RlIEFsd2F5cyBDYW1lcmEgRm9yd2FyZFxuICAgICAgICBwcml2YXRlIGF2YXRhclJhZGl1czpudW1iZXIgPSAwLjU7XG4gICAgICAgIHByaXZhdGUgZ3JvdW5kaW5nTWVzaDpCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGdyb3VuZGluZ09iamVjdDphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGdyb3VuZGluZ0NhbGxiYWNrOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZG9sbHlEaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRXVsZXJzOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHJvdGF0aW9uRXVsZXJzOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVBpdm90T2Zmc2V0OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGNhbWVyYUZvcndhcmRWZWN0b3I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUmlnaHRWZWN0b3I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgZGVzaXJlZEZvcndhcmRWZWN0b3I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgZGVzaXJlZFJpZ2h0VmVjdG9yOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHNjYWxlZENhbURpcmVjdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBzY2FsZWRNYXhEaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcGFyZW50Tm9kZVBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIG1heGltdW1DYW1lcmFQb3M6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgdGVtcFdvcmxkUG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFSYXljYXN0U2hhcGU6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0UmF5Y2FzdEdyb3VwOm51bWJlciA9IFVOSVRZLkNvbGxpc2lvbkZpbHRlcnMuRGVmYXVsdEZpbHRlcjtcbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0UmF5Y2FzdE1hc2s6bnVtYmVyID0gVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5TdGF0aWNGaWx0ZXI7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUmF5Y2FzdE1hc2s6bnVtYmVyID0gKFVOSVRZLkNvbGxpc2lvbkZpbHRlcnMuRGVmYXVsdEZpbHRlciB8IFVOSVRZLkNvbGxpc2lvbkZpbHRlcnMuU3RhdGljRmlsdGVyIHwgVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5LaW5lbWF0aWNGaWx0ZXIpOyAvLyBOb3RlOiBFeGNsdWRlIFRoZSBQbGF5ZXIgQ2hhcmFjdGVyIENvbnRyb2xsZXIgRnJvbSBDYW1lcmEgQ29sbGlzaW9uXG5cbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJTa2luczpCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFOb2RlOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUGl2b3Q6QkFCWUxPTi5NZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBuYXZpZ2F0aW9uQWdlbnQ6VU5JVFkuTmF2aWdhdGlvbkFnZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjaGFyYWN0ZXJDb250cm9sbGVyOlVOSVRZLkNoYXJhY3RlckNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHZlcnRpY2FsVmVsb2NpdHk6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtb3ZlbWVudFNwZWVkOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaXNSdW5QcmVzc2VkOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0p1bXBQcmVzc2VkOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3RlclNsaWRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyRmFsbGluZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJHcm91bmRlZDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlckp1bXBGcmFtZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJKdW1waW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3RlckxhbmRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyUmlzaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlck5hdmlnYXRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIG5hdmlnYXRpb25Bbmd1bGFyU3BlZWQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVTdGF0ZVBhcmFtczpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRpb25TdGF0ZVBhcmFtczpQUk9KRUNULkFuaW1hdGlvblN0YXRlUGFyYW1zID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzcGhlcmVDb2xsaXNpb25TaGFwZTphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGhhc0dyb3VuZGVkQ29udGFjdDpib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBzaG93RGVidWdDb2xsaWRlcnM6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNvbGxpZGVyVmlzaWJpbGl0eTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNvbGxpZGVyUmVuZGVyR3JvdXA6bnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIGRlbHRhVGltZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1pbkp1bXBUaW1lcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGRlbGF5SnVtcFRpbWVyOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyQ29udHJvbDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNhblBsYXllckp1bXA6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgYW5pbWF0aW9uU3RhdGU6VU5JVFkuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHJpdmF0ZSByb3RhdGlvblZlbG9jaXR5WDpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwcml2YXRlIHJvdGF0aW9uVmVsb2NpdHlZOkJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0SnVtcFZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGlucHV0TW92ZW1lbnRWZWN0b3I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTG9va1JvdGF0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uVmVjdG9yOkJBQllMT04uVmVjdG9yMiA9IEJBQllMT04uVmVjdG9yMi5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTW92ZW1lbnRWZWxvY2l0eTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJSb3RhdGlvblF1YXRlcm5pb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJNb3ZlRGlyZWN0aW9uOlBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdGF0aW9uYXJ5O1xuXG4gICAgICAgIC8vcHJpdmF0ZSBncm91bmRIaXQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAvL3ByaXZhdGUgZ3JvdW5kTm9kZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgZ3JvdW5kQW5nbGU6bnVtYmVyID0gMDtcbiAgICAgICAgLy9wcml2YXRlIGdyb3VuZFBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAvL3ByaXZhdGUgZ3JvdW5kTm9ybWFsOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAvL3ByaXZhdGUgZ3JvdW5kRGlzdGFuY2U6bnVtYmVyID0gMDtcbiAgICAgICAgLy9wcml2YXRlIGdyb3VuZENvbGxpc2lvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIC8vcHJpdmF0ZSBncm91bmRWZWxvY2l0eTpudW1iZXIgPSAwO1xuICAgICAgICAvL3ByaXZhdGUgZ3JvdW5kU2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIC8vcHJpdmF0ZSBvZmZzZXRHcm91bmRSYXljYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIC8vcHJpdmF0ZSBzdGFydEdyb3VuZFJheWNhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgLy9wcml2YXRlIGVuZEdyb3VuZFJheWNhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcblxuICAgICAgICBwcml2YXRlIGZvcndhcmREaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMSk7XG4gICAgICAgIHByaXZhdGUgZG93bkRpcmVjdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsLTEsMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdE5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3RBbmdsZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdFBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdE5vcm1hbDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3REaXN0YW5jZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNsaW1iU2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb2Zmc2V0Q2xpbWJSYXljYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBlbmRDbGltYlJheWNhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcblxuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3ROb2RlOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdEFuZ2xlOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdFBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3ROb3JtYWw6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdERpc3RhbmNlOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0U2Vuc29yTGluZTpVTklUWS5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb2Zmc2V0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGVuZEhlaWdodFJheWNhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcblxuICAgICAgICBwcm90ZWN0ZWQgbV92ZWxvY2l0eU9mZnNldDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fYWN0dWFsVmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2xpbmVhclZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9sYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX3Bvc2l0aW9uQ2VudGVyOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zY2FsZWRWZWxvY2l0eTpudW1iZXIgPSAwO1xuICAgICAgICBwcm90ZWN0ZWQgcGxheWVyRHJhd1ZlbG9jaXR5Om51bWJlciA9IDA7XG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllcz86IGFueSkge1xuICAgICAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBzY2VuZSwgcHJvcGVydGllcyk7XG4gICAgICAgIH0gICAgICAgIFxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZVBsYXllckNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuc3RhcnRQbGF5ZXJDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyB0aGlzLmFmdGVyUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IHRoaXMudXBkYXRlUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lQbGF5ZXJDb250cm9sbGVyKCk7IH1cblxuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaGFzIGJlZW4gdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25QcmVVcGRhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBtb3ZlbWVudCBoYXMgYmVlbiBhcHBsaWVkICovXG4gICAgICAgIHB1YmxpYyBvbkJlZm9yZU1vdmVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGFmdGVyIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgcGxheWVyIGlucHV0IGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUGxheWVySW5wdXRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gcGxheWVyIHBvc2l0aW9uIHNob3VsZCBiZSB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBhZnRlciBwZXJmb3JtaW5nIGFjdGlvbiBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblVwZGF0ZUFjdGlvbk9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBSb290IE1vdGlvbiBBbmltYXRpb24gU3lzdGVtXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBfZGVsdGFNb3Rpb25Qb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHVibGljIGdldERlbHRhTW90aW9uUG9zaXRpb24oKTpCQUJZTE9OLlZlY3RvcjMge1xuICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Qb3NpdGlvbi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RNb3Rpb25Qb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldERlbHRhUm9vdE1vdGlvblBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RNb3Rpb25Qb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBDYWxjdWxhdGUgRGVsdGEgUm9vdCBNb3Rpb24gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Qb3NpdGlvbi5jb3B5RnJvbShyb290TW90aW9uUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZGVsdGFNb3Rpb25Sb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDApO1xuICAgICAgICBwdWJsaWMgZ2V0RGVsdGFNb3Rpb25Sb3RhdGlvbigpOkJBQllMT04uUXVhdGVybmlvbiB7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblJvdGF0aW9uLnNldCgwLDAsMCwwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb290TW90aW9uUm90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gdGhpcy5hbmltYXRpb25TdGF0ZS5nZXREZWx0YVJvb3RNb3Rpb25Sb3RhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChyb290TW90aW9uUm90YXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogQ2FsY3VsYXRlIERlbHRhIFJvb3QgTW90aW9uIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlbHRhTW90aW9uUm90YXRpb24uY29weUZyb20ocm9vdE1vdGlvblJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsdGFNb3Rpb25Sb3RhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIEJsb2NraW5nIEFjdGlvbiBBbmltYXRpb24gU3lzdGVtXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBpc1BlcmZvcm1pbmdBY3Rpb246Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzUm9vdE1vdGlvbkFjdGlvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNBY3Rpb25JbnRlcnJ1cHRhYmxlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBhZnRlckFjdGlvbkhhbmRsZXI6RnVuY3Rpb24gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHBlcmZvcm1BY3Rpb25UaW1lcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBlcmZvcm1BY3Rpb25OdW1iZXI6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJSb3RhdGlvblNwZWVkOm51bWJlciA9IDEwO1xuICAgICAgICBwcml2YXRlIHJvdGF0ZVBsYXllclRvd2FyZHM6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIG1hdGNoU3RhcnRUaW1lOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hUYXJnZXRUaW1lOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hUYXJnZXRPZmZzZXQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFRhcmdldEhlaWdodDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbG9ja1RhcmdldEhlaWdodDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbGFzdFN0YXJ0SGVpZ2h0OkJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbGFzdFRhcmdldEhlaWdodDpCQUJZTE9OLk51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGxhc3RUYXJnZXROb3JtYWw6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdFRhcmdldFJvdGF0aW9uOkJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgIHByaXZhdGUgbGFzdERlbHRhUG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdERlbHRhUm90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgcHVibGljIGdldElzUGVyZm9ybWluZ0FjdGlvbigpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc1BlcmZvcm1pbmdBY3Rpb247IH1cbiAgICAgICAgcHVibGljIGdldElzUm9vdE1vdGlvbkFjdGlvbigpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc1Jvb3RNb3Rpb25BY3Rpb247IH1cbiAgICAgICAgcHVibGljIGdldElzQWN0aW9uSW50ZXJydXB0YWJsZSgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGU7IH1cbiAgICAgICAgcHVibGljIHBsYXlBY3Rpb25BbmltYXRpb24oYWN0aW9uOm51bWJlciwgaW50ZXJydXB0YWJsZUFjdGlvbjpib29sZWFuPXRydWUsIGVuYWJsZVJvb3RNb3Rpb246Ym9vbGVhbj1mYWxzZSwgYWZ0ZXJBY3Rpb25Db21wbGV0ZTooKT0+dm9pZD1udWxsKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9PT0gZmFsc2UgJiYgdGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIGFjdGlvbiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25OdW1iZXIgPSBhY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckFjdGlvbkhhbmRsZXIgPSBhZnRlckFjdGlvbkNvbXBsZXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNBY3Rpb25JbnRlcnJ1cHRhYmxlID0gaW50ZXJydXB0YWJsZUFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9IGVuYWJsZVJvb3RNb3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblNwZWVkID0gMTA7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVQbGF5ZXJUb3dhcmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFN0YXJ0VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2tUYXJnZXRIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTdGFydEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXROb3JtYWwuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRSb3RhdGlvbi5zZXQoMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNSb290TW90aW9uQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcihmYWxzZSk7IC8vIE5vdGU6IERpc2FibGUgQ2hhcmFjdGVyIENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnJlc2V0U21vb3RoUHJvcGVydHkoUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuUExBWUVSX0hFSUdIVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyByZXNldEFjdGlvbkFuaW1hdGlvblN0YXRlKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZnRlckFjdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRyeSB7IHRoaXMuYWZ0ZXJBY3Rpb25IYW5kbGVyKCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcih0cnVlKTsgLy8gTm90ZTogRW5hYmxlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJBY3Rpb25IYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25TcGVlZCA9IDEwO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGVQbGF5ZXJUb3dhcmRzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5sb2NrVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmxhc3RTdGFydEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Tm9ybWFsLnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRSb3RhdGlvbi5zZXQoMCwwLDAsMSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUFuaW1hdGlvbkFjdGlvblN0YXRlKCk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6bnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbXBUaW1lOm51bWJlciA9ICh0aGlzLm1hdGNoVGFyZ2V0VGltZSAtIHRoaXMubWF0Y2hTdGFydFRpbWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCAmJiB0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckdsb2JhbEhlaWdodDpudW1iZXIgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmdldERlbHRhTW90aW9uUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMubGFzdERlbHRhUG9zaXRpb24sIHRoaXMudHJhbnNmb3JtLmdldFdvcmxkTWF0cml4KCksIHRoaXMubGFzdERlbHRhUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTdGFydEhlaWdodCA9PSBudWxsICYmIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyID49IHRoaXMubWF0Y2hTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gcGxheWVyR2xvYmFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IFN0YXJ0IEdsb2JhbCBIZWlnaHQ6IFwiICsgdGhpcy5sYXN0U3RhcnRIZWlnaHQgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTdGFydEhlaWdodCAhPSBudWxsICYmIHRoaXMubGFzdFRhcmdldEhlaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZml4ZWRUYXJnZXRIZWlnaHQ6bnVtYmVyID0gKHRoaXMubGFzdFRhcmdldEhlaWdodCArIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVyZm9ybUFjdGlvblRpbWVyIDwgdGhpcy5tYXRjaFRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQsIGZpeGVkVGFyZ2V0SGVpZ2h0LCBkYW1wVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9vdGhQbGF5ZXJIZWlnaHQ6bnVtYmVyID0gdGhpcy5hbmltYXRpb25TdGF0ZS5nZXRGbG9hdChQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5QTEFZRVJfSEVJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAoc21vb3RoUGxheWVySGVpZ2h0IC0gcGxheWVyR2xvYmFsSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCI+Pj4gTGVycCBUYXJnZXQgRGVsdGE6IFwiICsgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi55ICsgXCIgLS0+IFBlcmZvcm0gQWN0aW9uIFRpbWVyOiBcIiArIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxvY2tUYXJnZXRIZWlnaHQgPT09IGZhbHNlICYmIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyID49IHRoaXMubWF0Y2hUYXJnZXRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi55ID0gKGZpeGVkVGFyZ2V0SGVpZ2h0IC0gcGxheWVyR2xvYmFsSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2tUYXJnZXRIZWlnaHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIj4+PiBMYXN0IEdsb2JhbCBEZWx0YTogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgKyBcIiAtLS0+IE1hdGNoIFRhcmdldCBUaW1lOiBcIiArIHRoaXMubWF0Y2hUYXJnZXRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IFJvb3QgTW90aW9uIFRvIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnggPSAwOyAvLyBGSVhNRTogQXBwbHkgUm90YXRpb24gWSBEaWZmZXJlbmNlIEZhY3RvciBGcm9tIFVuaXR5XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi55ID0gMDsgLy8gRklYTUU6IEFwcGx5IFJvdGF0aW9uIFkgRGlmZmVyZW5jZSBGYWN0b3IgRnJvbSBVbml0eVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5sYXN0RGVsdGFQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJQbGF5ZXIgQWN0aW9uIEhlaWdodDogXCIgKyBwbGF5ZXJHbG9iYWxIZWlnaHQgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ3VycmVudCBEZWx0YSBIZWlnaHQ6IFwiICsgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi55ICsgXCIgLS0+IFBlcmZvcm0gQWN0aW9uIFRpbWVyOiBcIiArIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IFJvb3QgTW90aW9uIFRvIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVQbGF5ZXJUb3dhcmRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Tm9ybWFsLnNldCgtdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwueCwgLXRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLnksIC10aGlzLmNsaW1iQ29udGFjdE5vcm1hbC56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZih0aGlzLmxhc3RUYXJnZXROb3JtYWwsIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlcnBBbW91bnQ6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5wbGF5ZXJSb3RhdGlvblNwZWVkICogZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24sIGxlcnBBbW91bnQsIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2xpbWIgVGFyZ2V0IFJvdGF0aW9uOiBcIiArIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUm90YXRpb24uY29weUZyb20odGhpcy5nZXREZWx0YU1vdGlvblJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlJblBsYWNlKHRoaXMubGFzdERlbHRhUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyICs9IGRlbHRhVGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIENvbnRyb2xsZXIgQXR0YWNobWVudCBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogU2V0IHRoZSBwbGF5ZXIgd29ybGQgcG9zaXRpb24gKi9cbiAgICAgICAgcHVibGljIHNldFdvcmxkUG9zaXRpb24oeDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0KHgseSx6KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgc2V0UGxheWVyQ29udHJvbChtb2RlOlBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyQ29udHJvbCA9IG1vZGU7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb250cm9sID09PSBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5UaGlyZFBlcnNvblN0cmFmaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QXZhdGFyU2tpbnModHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0F2YXRhclNraW5zKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZENhbWVyYSA9IGZhbHNlOyAvLyBOb3RlTCBBbHdheXMgRmFsc2VcbiAgICAgICAgfVxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgdG9nZ2xlUGxheWVyQ29udHJvbCgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9nZ2xlVmlldyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLkZpcnN0UGVyc29uU3RyYWZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQbGF5ZXJDb250cm9sKFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uU3RyYWZpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGxheWVyQ29udHJvbChQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5GaXJzdFBlcnNvblN0cmFmaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzaG93QXZhdGFyU2tpbnMoc2hvdzpib29sZWFuKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF2YXRhclNraW5zICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gTWFrZSBTa2lucyBWaXNpYmxlIE9yIE5vdCBUTyBDYW1lcmEgQnV0IEtlZXAgU2hhZG93cyAtID8/P1xuICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyU2tpbnMuZm9yRWFjaCgoc2tpbjpCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyBza2luLmlzVmlzaWJsZSA9IHNob3c7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIGF0dGFjaFBsYXllckNhbWVyYShwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckNhbWVyYTpudW1iZXIgPSAocGxheWVyIDw9IDAgfHwgcGxheWVyID4gNCkgPyAxIDogcGxheWVyO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRDYW1lcmFUcmFuc2Zvcm0odGhpcy5zY2VuZSwgcGxheWVyQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnBhcmVudCA9IHRoaXMuY2FtZXJhUGl2b3Q7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmJvb21Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZS5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBhY3R1YWxDYW1lcmE6QkFCWUxPTi5Vbml2ZXJzYWxDYW1lcmEgPSBTTS5GaW5kU2NlbmVDYW1lcmFSaWcodGhpcy5jYW1lcmFOb2RlKSBhcyBCQUJZTE9OLlVuaXZlcnNhbENhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGFjdHVhbENhbWVyYSAhPSBudWxsKSBhY3R1YWxDYW1lcmEucm90YXRpb25RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyhCQUJZTE9OLlRvb2xzLlRvUmFkaWFucygzMCksMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIE1vdmUgc29tZXdoZXJlIGJldHRlciAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gSGFuZGxlIExvbmcgSW50aXRpYWwgQ2FtZXJhIFBhbiAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYURpc3RhbmNlID0gdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9sbHlEaXJlY3Rpb24ubm9ybWFsaXplKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGxvY2F0ZSBwbGF5ZXIgY2FtZXJhIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pa0xlZnRDb250cm9sbGVyOkJBQllMT04uQm9uZUlLQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrTGVmdEZvb3RUYXJnZXQ6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaWtMZWZ0UG9sZVRhcmdldDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0Q29udHJvbGxlcjpCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0Rm9vdFRhcmdldDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0UG9sZVRhcmdldDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgYWJzdHJhY3RTa2luTWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcm9vdEJvbmVUcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgbGVmdEZvb3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFBvbGVQb3M6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgbGVmdEZvb3RCZW5kQXhpczpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFBvbGVBbmdsZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290TWF4QW5nbGU6bnVtYmVyID0gMTgwO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdFRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgcmlnaHRGb290UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmlnaHRGb290UG9sZVBvczpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RCZW5kQXhpczpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RQb2xlQW5nbGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RNYXhBbmdsZTpudW1iZXIgPSAxODA7XG5cbiAgICAgICAgcHVibGljIGdldExlZnRGb290VGFyZ2V0KCk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQ7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0Rm9vdFRhcmdldCgpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldDsgfVxuICAgICAgICBwdWJsaWMgZ2V0TGVmdEZvb3RDb250cm9sbGVyKCk6QkFCWUxPTi5Cb25lSUtDb250cm9sbGVyIHsgcmV0dXJuIHRoaXMuX2lrTGVmdENvbnRyb2xsZXI7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0Rm9vdENvbnRyb2xsZXIoKTpCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgeyByZXR1cm4gdGhpcy5faWtSaWdodENvbnRyb2xsZXI7IH1cbiAgICAgICAgcHVibGljIGF0dGFjaEJvbmVDb250cm9sbGVycygpOnZvaWQge1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheUhhbmRsZXM6Ym9vbGVhbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkaXNwbGF5SGFuZGxlc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IGFic3RyYWN0U2tpbk1lc2hEYXRhOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhYnN0cmFjdFNraW5NZXNoXCIpO1xuICAgICAgICAgICAgaWYgKGFic3RyYWN0U2tpbk1lc2hEYXRhICE9IG51bGwpIHRoaXMuYWJzdHJhY3RTa2luTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGFic3RyYWN0U2tpbk1lc2hEYXRhLm5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgY29uc3Qgcm9vdEJvbmVUcmFuc2Zvcm1EYXRhOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb290Qm9uZVRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGlmIChyb290Qm9uZVRyYW5zZm9ybURhdGEgIT0gbnVsbCkgdGhpcy5yb290Qm9uZVRyYW5zZm9ybSA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJvb3RCb25lVHJhbnNmb3JtRGF0YS5uYW1lLCBVTklUWS5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBsZWZ0Rm9vdFRyYW5zZm9ybURhdGE6VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290VHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRGb290VHJhbnNmb3JtRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290VHJhbnNmb3JtID0gdGhpcy5nZXRDaGlsZE5vZGUobGVmdEZvb3RUcmFuc2Zvcm1EYXRhLm5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL2NvbnN0IGxlZnRGb290UG9zaXRpb25EYXRhOlVOSVRZLklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RQb3NpdGlvblwiKTtcbiAgICAgICAgICAgIC8vaWYgKGxlZnRGb290UG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMubGVmdEZvb3RQb3NpdGlvbi5jb3B5RnJvbShVTklUWS5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGxlZnRGb290UG9zaXRpb25EYXRhKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGxlZnRQb2xlSGFuZGxlRGF0YTpVTklUWS5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290UG9sZVBvc1wiKTtcbiAgICAgICAgICAgIGlmIChsZWZ0UG9sZUhhbmRsZURhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdFBvbGVQb3MuY29weUZyb20oVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhsZWZ0UG9sZUhhbmRsZURhdGEpKTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRCZW5kQXhpc0RhdGE6VU5JVFkuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdEJlbmRBeGlzXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRCZW5kQXhpc0RhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdEJlbmRBeGlzLmNvcHlGcm9tKFVOSVRZLlV0aWxpdGllcy5QYXJzZVZlY3RvcjMobGVmdEJlbmRBeGlzRGF0YSkpO1xuICAgICAgICAgICAgdGhpcy5sZWZ0Rm9vdFBvbGVBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdFBvbGVBbmdsZVwiLCB0aGlzLmxlZnRGb290UG9sZUFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubGVmdEZvb3RNYXhBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdE1heEFuZ2xlXCIsIHRoaXMubGVmdEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcmlnaHRGb290VHJhbnNmb3JtRGF0YTpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290VHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Rm9vdFRyYW5zZm9ybURhdGEgIT0gbnVsbCkgdGhpcy5yaWdodEZvb3RUcmFuc2Zvcm0gPSB0aGlzLmdldENoaWxkTm9kZShyaWdodEZvb3RUcmFuc2Zvcm1EYXRhLm5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL2NvbnN0IHJpZ2h0Rm9vdFBvc2l0aW9uRGF0YTpVTklUWS5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdFBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgLy9pZiAocmlnaHRGb290UG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMucmlnaHRGb290UG9zaXRpb24uY29weUZyb20oVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodEZvb3RQb3NpdGlvbkRhdGEpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmlnaHRQb2xlSGFuZGxlRGF0YTpVTklUWS5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdFBvbGVQb3NcIik7XG4gICAgICAgICAgICBpZiAocmlnaHRQb2xlSGFuZGxlRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdFBvbGVQb3MuY29weUZyb20oVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodFBvbGVIYW5kbGVEYXRhKSk7XG4gICAgICAgICAgICBjb25zdCByaWdodEJlbmRBeGlzRGF0YTpVTklUWS5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdEJlbmRBeGlzXCIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0QmVuZEF4aXNEYXRhICE9IG51bGwpIHRoaXMucmlnaHRGb290QmVuZEF4aXMuY29weUZyb20oVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodEJlbmRBeGlzRGF0YSkpO1xuICAgICAgICAgICAgdGhpcy5yaWdodEZvb3RQb2xlQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290UG9sZUFuZ2xlXCIsIHRoaXMucmlnaHRGb290UG9sZUFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMucmlnaHRGb290TWF4QW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290TWF4QW5nbGVcIiwgdGhpcy5yaWdodEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuYWJzdHJhY3RTa2luTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGVyaWFsTmFtZTpzdHJpbmcgPSBcIk1fVEFSR0VUX01FU0hcIjtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TWF0ZXJpYWw6QkFCWUxPTi5NYXRlcmlhbCA9IHRoaXMuc2NlbmUuZ2V0TWF0ZXJpYWxCeU5hbWUobWF0ZXJpYWxOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TWF0ZXJpYWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJNX1RBUkdFVF9NRVNIXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAoPEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbD50YXJnZXRNYXRlcmlhbCkuZGlmZnVzZUNvbG9yID0gbmV3IEJBQllMT04uQ29sb3IzKDEuMCwgMC41LCAwLjI1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IEZvb3QgQ29udHJvbGxlclxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGVmdEZvb3RUcmFuc2Zvcm0gIT0gbnVsbCAmJiAoPGFueT50aGlzLmxlZnRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTGVmdEZvb3RUYXJnZXRcIiwge3dpZHRoOiAwLjEsIGhlaWdodDowLjEsIGRlcHRoOjAuMX0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRGb290VGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9pa0xlZnRGb290VGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMubGVmdEZvb3RQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa0xlZnRGb290VGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQubWF0ZXJpYWwgPSB0YXJnZXRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQuaXNWaXNpYmxlID0gZGlzcGxheUhhbmRsZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5MZWZ0Rm9vdFBvbGVcIiwge2RpYW1ldGVyOiAwLjE1fSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMubGVmdEZvb3RQb2xlUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa0xlZnRDb250cm9sbGVyID0gbmV3IEJBQllMT04uQm9uZUlLQ29udHJvbGxlcih0aGlzLmFic3RyYWN0U2tpbk1lc2gsICg8YW55PnRoaXMubGVmdEZvb3RUcmFuc2Zvcm0pLl9saW5rZWRCb25lLCB7dGFyZ2V0TWVzaDp0aGlzLl9pa0xlZnRGb290VGFyZ2V0LCBwb2xlVGFyZ2V0TWVzaDp0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LCBwb2xlQW5nbGU6QkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5sZWZ0Rm9vdFBvbGVBbmdsZSksIGJlbmRBeGlzOnRoaXMubGVmdEZvb3RCZW5kQXhpc30pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa0xlZnRDb250cm9sbGVyLm1heEFuZ2xlID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5sZWZ0Rm9vdE1heEFuZ2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSaWdodCBGb290IENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSAhPSBudWxsICYmICg8YW55PnRoaXMucmlnaHRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJpZ2h0Rm9vdFRhcmdldFwiLCB7d2lkdGg6IDAuMSwgaGVpZ2h0OjAuMSwgZGVwdGg6MC4xfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnJpZ2h0Rm9vdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0Lm1hdGVyaWFsID0gdGFyZ2V0TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SaWdodEZvb3RQb2xlXCIsIHtkaWFtZXRlcjogMC4xNX0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldC5wYXJlbnQgPSB0aGlzLmFic3RyYWN0U2tpbk1lc2g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucmlnaHRGb290UG9sZVBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlciA9IG5ldyBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIodGhpcy5hYnN0cmFjdFNraW5NZXNoLCAoPGFueT50aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSkuX2xpbmtlZEJvbmUsIHt0YXJnZXRNZXNoOnRoaXMuX2lrUmlnaHRGb290VGFyZ2V0LCBwb2xlVGFyZ2V0TWVzaDp0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCwgcG9sZUFuZ2xlOkJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMucmlnaHRGb290UG9sZUFuZ2xlKSwgYmVuZEF4aXM6dGhpcy5yaWdodEZvb3RCZW5kQXhpc30pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlci5tYXhBbmdsZSA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMucmlnaHRGb290TWF4QW5nbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIGF0dGFjaEFuaW1hdGlvbkNvbnRyb2xsZXIoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gdGhpcy5nZXRDb21wb25lbnQoXCJVTklUWS5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbk5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5nZXRDaGlsZFdpdGhTY3JpcHQoXCJVTklUWS5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbk5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KGFuaW1hdGlvbk5vZGUsIFwiVU5JVFkuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsZWQgdG8gbG9jYXRlIGFuaW1hdG9yIG5vZGUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLm9uQW5pbWF0aW9uRW5kT2JzZXJ2YWJsZS5hZGQoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQW5pbWF0aW9uIEVuZDogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5vbkFuaW1hdGlvblVwZGF0ZU9ic2VydmFibGUuYWRkKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlLmlrRnJhbWVFbmFibGVkKCkgPT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFVwZGF0ZSB0YXJnZXQgbWVzaCBwb3NpdGlvbiBXaGVuIEdyb3VuZGVkIC0gVXNlIFJheWNhc3QgLSA/Pz9cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrTGVmdENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdENvbnRyb2xsZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtSaWdodENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRDb250cm9sbGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcihzdGF0ZTpib29sZWFuKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBbGxvd2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vLy90aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc3luY0dob3N0VG9UcmFuc2Zvcm1Qb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAvLy8vdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnN5bmNNb3ZlbWVudFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vLy90aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc3luY1RyYW5zZm9ybVRvR2hvc3RQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R3Jhdml0eSh0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRGYWxsaW5nU3BlZWQodGhpcy50ZXJtaW5hbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdob3N0Q29sbGlzaW9uU3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50QWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQbGF5ZXJKdW1waW5nU3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdyYXZpdHkoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRGYWxsaW5nU3BlZWQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHaG9zdENvbGxpc2lvblN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8vL3RoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zeW5jR2hvc3RUb1RyYW5zZm9ybVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBUT0RPICovXG4gICAgICAgIHB1YmxpYyByZXNldFBsYXllclJvdGF0aW9uKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb25FdWxlcnMpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ID0gdGhpcy5yb3RhdGlvbkV1bGVycy54O1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55ID0gdGhpcy5yb3RhdGlvbkV1bGVycy55O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1pbkp1bXBUaW1lciA9IDA7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5qdW1wKDApOyAvLyBOb3RlOiBaZXJvIEp1bXAgU3BlZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIENvbnRyb2xsZXIgV29ya2VyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgYXdha2VQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwiZ3Jhdml0YXRpb25hbEZvcmNlXCIsIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMudGVybWluYWxWZWxvY2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXJtaW5hbFZlbG9jaXR5XCIsIHRoaXMudGVybWluYWxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZUNhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb3RhdGVDYW1lcmFcIiwgdGhpcy5yb3RhdGVDYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZVdoZWVsID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdXNlV2hlZWxcIiwgdGhpcy5tb3VzZVdoZWVsKTtcbiAgICAgICAgICAgIC8vdGhpcy5ub3JtYWxBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJub3JtYWxBbmdsZVwiLCB0aGlzLm5vcm1hbEFuZ2xlKTtcbiAgICAgICAgICAgIC8vdGhpcy5yYWRpdXNTY2FsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYWRpdXNTY2FsZVwiLCB0aGlzLnJhZGl1c1NjYWxlKTtcbiAgICAgICAgICAgIC8vdGhpcy5yYXlMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5TGVuZ3RoXCIsIHRoaXMucmF5TGVuZ3RoKTtcbiAgICAgICAgICAgIC8vdGhpcy5yYXlPcmlnaW4gPSB0aGlzLmdldFByb3BlcnR5KFwicmF5T3JpZ2luXCIsIHRoaXMucmF5T3JpZ2luKTtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0aW9uUmFkaXVzID0gdGhpcy5nZXRQcm9wZXJ0eShcImRldGVjdGlvblJhZGl1c1wiLCB0aGlzLmRldGVjdGlvblJhZGl1cyk7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInZlcnRpY2FsT2Zmc2V0XCIsIHRoaXMudmVydGljYWxPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5mb3J3YXJkT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImZvcndhcmRPZmZzZXRcIiwgdGhpcy5mb3J3YXJkT2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMucmF5Q2xpbWJMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5Q2xpbWJMZW5ndGhcIiwgdGhpcy5yYXlDbGltYkxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnJheUNsaW1iT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUNsaW1iT2Zmc2V0XCIsIHRoaXMucmF5Q2xpbWJPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5yYXlIZWlnaHRMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5SGVpZ2h0TGVuZ3RoXCIsIHRoaXMucmF5SGVpZ2h0TGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucmF5SGVpZ2h0T2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUhlaWdodE9mZnNldFwiLCB0aGlzLnJheUhlaWdodE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLm1heEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEFuZ2xlXCIsIHRoaXMubWF4QW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5sYW5kaW5nRXBzaWxvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsYW5kaW5nRXBzaWxvblwiLCB0aGlzLmxhbmRpbmdFcHNpbG9uKTtcbiAgICAgICAgICAgIHRoaXMubWluRmFsbFZlbG9jaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pbkZhbGxWZWxvY2l0eVwiLCB0aGlzLm1pbkZhbGxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLmFpcmJvcm5UaW1lb3V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImFpcmJvcm5UaW1lb3V0XCIsIHRoaXMuYWlyYm9yblRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5yb290TW90aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvb3RNb3Rpb25cIiwgdGhpcy5yb290TW90aW9uKTtcbiAgICAgICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdmVTcGVlZFwiLCB0aGlzLm1vdmVTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLndhbGtTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3YWxrU3BlZWRcIiwgdGhpcy53YWxrU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5sb29rU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG9va1NwZWVkXCIsIHRoaXMubG9va1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuanVtcFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImp1bXBTcGVlZFwiLCB0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmp1bXBEZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJqdW1wRGVsYXlcIiwgdGhpcy5qdW1wRGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5leWVzSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImV5ZXNIZWlnaHRcIiwgdGhpcy5leWVzSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucGl2b3RIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwicGl2b3RIZWlnaHRcIiwgdGhpcy5waXZvdEhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heERpc3RhbmNlXCIsIHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzY3JvbGxTcGVlZFwiLCB0aGlzLnNjcm9sbFNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudG9wTG9va0xpbWl0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInRvcExvb2tMaW1pdFwiLCB0aGlzLnRvcExvb2tMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLmRvd25Mb29rTGltaXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZG93bkxvb2tMaW1pdFwiLCB0aGlzLmRvd25Mb29rTGltaXQpO1xuICAgICAgICAgICAgdGhpcy5sb3dUdXJuU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG93VHVyblNwZWVkXCIsIHRoaXMubG93VHVyblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaFR1cm5TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoVHVyblNwZWVkXCIsIHRoaXMuaGlnaFR1cm5TcGVlZCk7XG4gICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogdGhpcy5zbW9vdGhpbmdTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhpbmdTcGVlZFwiLCB0aGlzLnNtb290aGluZ1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlSW5wdXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlSW5wdXRcIiwgdGhpcy5lbmFibGVJbnB1dCk7XG4gICAgICAgICAgICB0aGlzLnBsYXllck51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5ZXJOdW1iZXJcIiwgdGhpcy5wbGF5ZXJOdW1iZXIpXG4gICAgICAgICAgICB0aGlzLmF0dGFjaENhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdHRhY2hDYW1lcmFcIiwgdGhpcy5hdHRhY2hDYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5mcmVlTG9va2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcmVlTG9va2luZ1wiLCB0aGlzLmZyZWVMb29raW5nKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVmlldyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b2dnbGVWaWV3XCIsIHRoaXMudG9nZ2xlVmlldyk7XG4gICAgICAgICAgICB0aGlzLmF2YXRhclNraW5UYWcgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZhdGFyU2tpblRhZ1wiLCB0aGlzLmF2YXRhclNraW5UYWcpXG4gICAgICAgICAgICB0aGlzLnJ1bktleVJlcXVpcmVkID0gdGhpcy5nZXRQcm9wZXJ0eShcInJ1bktleVJlcXVpcmVkXCIsIHRoaXMucnVuS2V5UmVxdWlyZWQpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFDb2xsaXNpb25zID0gdGhpcy5nZXRQcm9wZXJ0eShcImNhbWVyYUNvbGxpc2lvbnNcIiwgdGhpcy5jYW1lcmFDb2xsaXNpb25zKVxuICAgICAgICAgICAgdGhpcy5jYW1lcmFTbW9vdGhpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhU21vb3RoaW5nXCIsIHRoaXMuY2FtZXJhU21vb3RoaW5nKVxuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZUZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkaXN0YW5jZUZhY3RvclwiLCB0aGlzLmRpc3RhbmNlRmFjdG9yKVxuICAgICAgICAgICAgdGhpcy5taW5pbXVtRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWluaW11bURpc3RhbmNlXCIsIHRoaXMubWluaW11bURpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoTW90aW9uVGltZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhNb3Rpb25UaW1lXCIsIHRoaXMuc21vb3RoTW90aW9uVGltZSk7XG4gICAgICAgICAgICB0aGlzLnNtb290aElucHV0VmVjdG9ycyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhJbnB1dFZlY3RvcnNcIiwgdGhpcy5zbW9vdGhJbnB1dFZlY3RvcnMpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhBY2NlbGVyYXRpb24gPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoQWNjZWxlcmF0aW9uXCIsIHRoaXMuc21vb3RoQWNjZWxlcmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNjZWxlcmF0aW9uU3BlZWRcIiwgdGhpcy5hY2NlbGVyYXRpb25TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmRlY2VsZXJhdGlvblNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImRlY2VsZXJhdGlvblNwZWVkXCIsIHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5jbGltYlZvbHVtZVRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjbGltYlZvbHVtZVRhZ1wiLCB0aGlzLmNsaW1iVm9sdW1lVGFnKTtcbiAgICAgICAgICAgIHRoaXMudmF1bHRWb2x1bWVUYWcgPSB0aGlzLmdldFByb3BlcnR5KFwidmF1bHRWb2x1bWVUYWdcIiwgdGhpcy52YXVsdFZvbHVtZVRhZyk7XG4gICAgICAgICAgICB0aGlzLnVzZUNsaW1iU3lzdGVtID0gdGhpcy5nZXRQcm9wZXJ0eShcInVzZUNsaW1iU3lzdGVtXCIsIHRoaXMudXNlQ2xpbWJTeXN0ZW0pO1xuICAgICAgICAgICAgdGhpcy5tYXhIZWlnaHRSYW5nZXMgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4SGVpZ2h0UmFuZ2VzXCIsIHRoaXMubWF4SGVpZ2h0UmFuZ2VzKTtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlVHJpZ2dlclRhZ3MgPSB0aGlzLmdldFByb3BlcnR5KFwiaWdub3JlVHJpZ2dlclRhZ3NcIiwgdGhpcy5pZ25vcmVUcmlnZ2VyVGFncyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID0gdGhpcy5nZXRQcm9wZXJ0eShcInVwZGF0ZVN0YXRlUGFyYW1zXCIsIHRoaXMudXBkYXRlU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbmltYXRpb25TdGF0ZVBhcmFtc1wiLCB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvc3ROZXR3b3JrQXR0cmlidXRlc1wiLCB0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgYXJyb3dLZXlSb3RhdGlvbjpib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcImFycm93S2V5Um90YXRpb25cIik7XG4gICAgICAgICAgICBpZiAoYXJyb3dLZXlSb3RhdGlvbiA9PT0gdHJ1ZSkgVU5JVFkuVXNlcklucHV0T3B0aW9ucy5Vc2VBcnJvd0tleVJvdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBib29tUG9zaXRpb25EYXRhOmFueSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib29tUG9zaXRpb25cIik7XG4gICAgICAgICAgICBpZiAoYm9vbVBvc2l0aW9uRGF0YSAhPSBudWxsKSB0aGlzLmJvb21Qb3NpdGlvbiA9IFVOSVRZLlV0aWxpdGllcy5QYXJzZVZlY3RvcjMoYm9vbVBvc2l0aW9uRGF0YSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qgc3BoZXJlUmFkaXVzOm51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzcGhlcmVSYWRpdXNcIiwgMC41KVxuICAgICAgICAgICAgLy90aGlzLmNhbWVyYVJheWNhc3RTaGFwZSA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuQ3JlYXRlUGh5c2ljc1NwaGVyZVNoYXBlKHNwaGVyZVJhZGl1cyk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5hYnN0cmFjdE1lc2ggPSB0aGlzLmdldEFic3RyYWN0TWVzaCgpO1xuICAgICAgICAgICAgdGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPSBVTklUWS5VdGlsaXRpZXMuU2hvd0RlYnVnQ29sbGlkZXJzKCk7XG4gICAgICAgICAgICB0aGlzLmNvbGxpZGVyVmlzaWJpbGl0eSA9IFVOSVRZLlV0aWxpdGllcy5Db2xsaWRlclZpc2liaWxpdHkoKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXJSZW5kZXJHcm91cCA9IFVOSVRZLlV0aWxpdGllcy5Db2xsaWRlclJlbmRlckdyb3VwKCk7XG4gICAgICAgICAgICAvLyBOb3RlOiBHZXQgQXZhdGFyIFNraW5zIEZpcnN0IFRoaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5hdmF0YXJTa2luVGFnICE9IG51bGwgJiYgdGhpcy5hdmF0YXJTa2luVGFnICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJTa2lucyA9IHRoaXMuZ2V0Q2hpbGRyZW5XaXRoVGFncyh0aGlzLmF2YXRhclNraW5UYWcsIGZhbHNlKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGNvbnRyb2w6bnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXllckNvbnRyb2xcIiwgdGhpcy5wbGF5ZXJDb250cm9sKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UGxheWVyQ29udHJvbChwY29udHJvbClcbiAgICAgICAgICAgIHRoaXMucmVzZXRQbGF5ZXJSb3RhdGlvbigpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3NXb3JsZCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuR2V0UGh5c2ljc1dvcmxkKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUoXCJHcm91bmRpbmdNZXNoXCIsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHRoaXMuZGV0ZWN0aW9uUmFkaXVzICogMiksIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLnNldFBhcmVudCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZGluZ01lc2gucG9zaXRpb24uc2V0KDAsIHRoaXMudmVydGljYWxPZmZzZXQsIHRoaXMuZm9yd2FyZE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZGluZ01lc2gucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nTWVzaC5tYXRlcmlhbCA9IFVOSVRZLlV0aWxpdGllcy5HZXRDb2xsaWRlck1hdGVyaWFsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLmlzVmlzaWJsZSA9IHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLnZpc2liaWxpdHkgPSB0aGlzLmNvbGxpZGVyVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nTWVzaC5yZW5kZXJpbmdHcm91cElkID0gdGhpcy5jb2xsaWRlclJlbmRlckdyb3VwO1xuICAgICAgICAgICAgVU5JVFkuUmlnaWRib2R5UGh5c2ljcy5DcmVhdGVQaHlzaWNzSW1wb3N0b3IodGhpcy5zY2VuZSwgdGhpcy5ncm91bmRpbmdNZXNoLCBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5TcGhlcmVJbXBvc3RvciwgeyBtYXNzOiAwIH0pO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLnBoeXNpY3NJbXBvc3Rvci5leGVjdXRlTmF0aXZlRnVuY3Rpb24oKHdvcmQ6YW55LCBib2R5OmFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nT2JqZWN0ID0gQW1tby5jYXN0T2JqZWN0KGJvZHksIEFtbW8uYnRDb2xsaXNpb25PYmplY3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nQ2FsbGJhY2sgPSBuZXcgQW1tby5Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nQ2FsbGJhY2subV9jb2xsaXNpb25GaWx0ZXJHcm91cCA9IFVOSVRZLkNvbGxpc2lvbkZpbHRlcnMuS2luZW1hdGljRmlsdGVyO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nQ2FsbGJhY2subV9jb2xsaXNpb25GaWx0ZXJNYXNrID0gVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyIHwgVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5TdGF0aWNGaWx0ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdDYWxsYmFjay5hZGRTaW5nbGVSZXN1bHQgPSAoY3AsIGNvbE9iajBXcmFwLCBwYXJ0SWQwLCBpbmRleDAsIGNvbE9iajFXcmFwLCBwYXJ0SWQxLCBpbmRleDEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gS0VFUCBGT1IgUkVGRVJFTkNFXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGNvbnRhY3RQb2ludCA9IEFtbW8ud3JhcFBvaW50ZXIoY3AsIEFtbW8uYnRNYW5pZm9sZFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgY29sT2JqMFdyYXBwZXI6YW55ID0gQW1tby53cmFwUG9pbnRlcihjb2xPYmowV3JhcCwgQW1tby5idENvbGxpc2lvbk9iamVjdFdyYXBwZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBjb2xvYmowOmFueSA9IGNvbE9iajBXcmFwcGVyLmdldENvbGxpc2lvbk9iamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBlbnRpdHkwOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IChjb2xvYmowICE9IG51bGwgJiYgY29sb2JqMC5lbnRpdHkgIT0gbnVsbCkgPyBjb2xvYmowLmVudGl0eSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBjb250YWN0RW50aXR5OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChjb2xPYmoxV3JhcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGNvbnN0IGNvbE9iajFXcmFwcGVyOmFueSA9IEFtbW8ud3JhcFBvaW50ZXIoY29sT2JqMVdyYXAsIEFtbW8uYnRDb2xsaXNpb25PYmplY3RXcmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgaWYgKGNvbE9iajFXcmFwcGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGNvbnN0IGNvbG9iajE6YW55ID0gY29sT2JqMVdyYXBwZXIuZ2V0Q29sbGlzaW9uT2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBjb250YWN0RW50aXR5ID0gKGNvbG9iajEgIT0gbnVsbCAmJiBjb2xvYmoxLmVudGl0eSAhPSBudWxsKSA/IGNvbG9iajEuZW50aXR5IDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChjb250YWN0RW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgdGhpcy5oYXNHcm91bmRlZENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAvLyBjb25zb2xlLmxvZyhcIkdyb3VuZCBDb250YWN0IE1lc2g6IFwiICsgY29udGFjdEVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9IHRydWU7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChib2R5LmFjdGl2YXRlKSBib2R5LmFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXQgQ29sbGlzaW9uIEZsYWdzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAoYm9keS5zZXRDb2xsaXNpb25GbGFncyAmJiBib2R5LmdldENvbGxpc2lvbkZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuc2V0Q29sbGlzaW9uRmxhZ3MoYm9keS5nZXRDb2xsaXNpb25GbGFncygpIHwgQkFCWUxPTi5Db2xsaXNpb25GbGFncy5DRl9OT19DT05UQUNUX1JFU1BPTlNFKTsgICAgICAgLy8gVFJJR0dFUl9PQkpFQ1RcbiAgICAgICAgICAgICAgICAgICAgYm9keS5zZXRDb2xsaXNpb25GbGFncyhib2R5LmdldENvbGxpc2lvbkZsYWdzKCkgfCBCQUJZTE9OLkNvbGxpc2lvbkZsYWdzLkNGX0tJTkVNQVRJQ19PQkpFQ1QpOyAgICAgICAgICAvLyBTVEFUSUNfT0JKRUNUXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuc2V0Q29sbGlzaW9uRmxhZ3MoYm9keS5nZXRDb2xsaXNpb25GbGFncygpIHwgQkFCWUxPTi5Db2xsaXNpb25GbGFncy5DRl9DVVNUT01fTUFURVJJQUxfQ0FMTEJBQ0spOyAgLy8gQ1VTVE9NX01BVEVSSUFMXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2V0IENvbGxpc2lvbiBNYXNrc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKGJvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KCkuc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXAoVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5LaW5lbWF0aWNGaWx0ZXIpXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KCkuc2V0X21fY29sbGlzaW9uRmlsdGVyTWFzayhVTklUWS5Db2xsaXNpb25GaWx0ZXJzLkRlZmF1bHRGaWx0ZXIgfCBVTklUWS5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdCA9IG5ldyBCQUJZTE9OLk1lc2godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNhbWVyYVBpdm90XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QuaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dEZWJ1Z0NvbGxpZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RQaXZvdDpCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcIlRlc3RQaXZvdFwiLCB7IHdpZHRoOiAwLjI1LCBoZWlnaHQ6IDAuMjUsIGRlcHRoOiAwLjUgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnBhcmVudCA9IHRoaXMuY2FtZXJhUGl2b3Q7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnZpc2liaWxpdHkgPSAwLjU7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnJlbmRlcmluZ0dyb3VwSWQgPSB0aGlzLmNvbGxpZGVyUmVuZGVyR3JvdXA7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgY3lsaW5kZXJTaGFwZTpib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcImN5bGluZGVyU2hhcGVcIik7XG4gICAgICAgICAgICBjb25zdCBjb25maWdDb250cm9sbGVyOlVOSVRZLkNoYXJhY3RlckNvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIlVOSVRZLkNoYXJhY3RlckNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICBpZiAoY29uZmlnQ29udHJvbGxlciAhPSBudWxsICYmIGN5bGluZGVyU2hhcGUgPT09IHRydWUpIGNvbmZpZ0NvbnRyb2xsZXIucHJlQ3JlYXRlQ3lsaW5kZXJTaGFwZSgpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldHVwIElLIEJvbmUgQ29udHJvbGxlcnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmF0dGFjaEJvbmVDb250cm9sbGVycygpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3ModGhpcy5rZXlib2FyZENhbWVyYSwgKCk9PnsgdGhpcy50b2dnbGVQbGF5ZXJDb250cm9sKCk7IH0pO1xuICAgICAgICAgICAgVU5JVFkuSW5wdXRDb250cm9sbGVyLk9uR2FtZXBhZEJ1dHRvblByZXNzKHRoaXMuYnV0dG9uQ2FtZXJhLCAoKT0+eyB0aGlzLnRvZ2dsZVBsYXllckNvbnRyb2woKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzdGFydFBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gU3VwcG9ydCBEeW5hbWljIFBsYXllck51bWJlciBDaGFuZ2UgLSA/Pz9cbiAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaENhbWVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoUGxheWVyQ2FtZXJhKHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkFnZW50ID0gdGhpcy5nZXRDb21wb25lbnQoXCJVTklUWS5OYXZpZ2F0aW9uQWdlbnRcIik7XG4gICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIlVOSVRZLkNoYXJhY3RlckNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF2YXRhclJhZGl1cyA9IHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5nZXRBdmF0YXJSYWRpdXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R3Jhdml0eSh0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEZhbGxpbmdTcGVlZCh0aGlzLnRlcm1pbmFsVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIC8vdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLm9uVXBkYXRlUG9zaXRpb25PYnNlcnZhYmxlLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICAgdGhpcy51cGRhdGVQbGF5ZXJQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIC8vICAgIHRoaXMudXBkYXRlQ2FtZXJhQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIC8vfSk7XG4gICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJTdGFydGluZyBwbGF5ZXIgY29udHJvbGxlciBpbiBwaHlzaWMgZW5naW5lIG1vZGUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBVTklUWS5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk5vIGNoYXJhY3RlciBjb250cm9sbGVyIGZvdW5kIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCBwbGF5ZXIgd2luZG93IHN0YXRlIHZhcmlhYmxlXG4gICAgICAgICAgICAvLyBTTS5TZXRXaW5kb3dTdGF0ZShcInBsYXllclwiLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlUGxheWVyUG9zaXRpb24oKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uUGxheWVyUG9zaXRpb25PYnNlcnZhYmxlICYmIHRoaXMub25QbGF5ZXJQb3NpdGlvbk9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVyUG9zaXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZVBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICAvL3RoaXMuc21vb3RoRGVsdGFUaW1lID0gVU5JVFkuU3lzdGVtLlNtb290aERlbHRhRmFjdG9yICogdGhpcy5kZWx0YVRpbWUgKyAoMSAtIFVOSVRZLlN5c3RlbS5TbW9vdGhEZWx0YUZhY3RvcikgKiB0aGlzLnNtb290aERlbHRhVGltZTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLm1fYWN0dWFsVmVsb2NpdHkgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnN1YnRyYWN0KHRoaXMubV9sYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LmNvcHlGcm9tKHRoaXMubV9hY3R1YWxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLm1fc2NhbGVkVmVsb2NpdHkgPSAodGhpcy5tX2xpbmVhclZlbG9jaXR5Lmxlbmd0aCgpIC8gdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1fc2NhbGVkVmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyRHJhd1ZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5jb3B5RnJvbSh0aGlzLm1fbGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5zY2FsZUluUGxhY2UodGhpcy5wbGF5ZXJEcmF3VmVsb2NpdHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubV9sYXN0UG9zaXRpb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbik7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBGSVggVEhJUyBTSElUXG4gICAgICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZVBhcmFtcyA9PT0gdHJ1ZSAmJiB0aGlzLmFuaW1hdGlvblN0YXRlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaEFuaW1hdGlvbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5taW5KdW1wVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5KdW1wVGltZXIgLT0gdGhpcy5kZWx0YVRpbWU7IFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1pbkp1bXBUaW1lciA8IDApIHRoaXMubWluSnVtcFRpbWVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUgJiYgdGhpcy5kZWxheUp1bXBUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGF5SnVtcFRpbWVyIC09IHRoaXMuZGVsdGFUaW1lOyBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxheUp1bXBUaW1lciA8IDApIHRoaXMuZGVsYXlKdW1wVGltZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuY2FuUGxheWVySnVtcCA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbkFjdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlICYmIHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5wdXQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB1c2VySW5wdXRYOm51bWJlciA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoVU5JVFkuVXNlcklucHV0QXhpcy5Ib3Jpem9udGFsLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB1c2VySW5wdXRaOm51bWJlciA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoVU5JVFkuVXNlcklucHV0QXhpcy5WZXJ0aWNhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdXNlck1vdXNlWDpudW1iZXIgPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KFVOSVRZLlVzZXJJbnB1dEF4aXMuTW91c2VYLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB1c2VyTW91c2VZOm51bWJlciA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoVU5JVFkuVXNlcklucHV0QXhpcy5Nb3VzZVksIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNtb290aEFjY2VsZXJhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIFNNT09USCBVU0VSIElOUFVUIFhcbiAgICAgICAgICAgICAgICBpZiAodXNlcklucHV0WCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggKz0gKHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDEpIHRoaXMucGxheWVySW5wdXRYID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJJbnB1dFggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYIC09ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPCAtMSkgdGhpcy5wbGF5ZXJJbnB1dFggPSAtMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCArPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDApIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYIC09ICh0aGlzLmRlY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYIDwgMCkgdGhpcy5wbGF5ZXJJbnB1dFggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNNT09USCBVU0VSIElOUFVUIFpcbiAgICAgICAgICAgICAgICBpZiAodXNlcklucHV0WiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogKz0gKHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDEpIHRoaXMucGxheWVySW5wdXRaID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJJbnB1dFogPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaIC09ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPCAtMSkgdGhpcy5wbGF5ZXJJbnB1dFogPSAtMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiArPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDApIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaIC09ICh0aGlzLmRlY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaIDwgMCkgdGhpcy5wbGF5ZXJJbnB1dFogPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSQVcgVVNFUiBJTlBVVCBYWlxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYID0gdXNlcklucHV0WDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiA9IHVzZXJJbnB1dFo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVggPSB1c2VyTW91c2VYO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVkgPSB1c2VyTW91c2VZO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIEFuaW1hdGlvbiBBY3Rpb25cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUgJiYgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggIT09IDAgfHwgdGhpcy5wbGF5ZXJJbnB1dFogIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkFuaW1hdGlvbiBJbnRlcnJ1cHQ6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuUGxheWVySnVtcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBJbnB1dFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uUGxheWVySW5wdXRPYnNlcnZhYmxlICYmIHRoaXMub25QbGF5ZXJJbnB1dE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVySW5wdXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLy4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgSW5wdXQgTWFnbml0dWRlXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLnNldCh0aGlzLnBsYXllcklucHV0WCwgMCwgdGhpcy5wbGF5ZXJJbnB1dFopO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvci5sZW5ndGgoKSA+IDEuMCkgdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLm5vcm1hbGl6ZSgpOyAvLyBOb3RlOiBOb3JtYWxpemUgSW4gUGxhY2VcbiAgICAgICAgICAgIHRoaXMuaW5wdXRNYWduaXR1ZGUgPSB0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3IubGVuZ3RoKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIE1vdmUgRGlyZWN0aW9uXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgbW92ZUZvcndhcmQ6Ym9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WiA+IDApO1xuICAgICAgICAgICAgY29uc3QgbW92ZUJhY2t3YXJkOmJvb2xlYW4gPSAodGhpcy5wbGF5ZXJJbnB1dFogPCAwKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVSaWdodDpib29sZWFuID0gKHRoaXMucGxheWVySW5wdXRYID4gMCk7XG4gICAgICAgICAgICBjb25zdCBtb3ZlTGVmdDpib29sZWFuID0gKHRoaXMucGxheWVySW5wdXRYIDwgMCk7XG4gICAgICAgICAgICBpZiAobW92ZUZvcndhcmQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZUxlZnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkZvcndhcmRMZWZ0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZVJpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5Gb3J3YXJkUmlnaHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkZvcndhcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlQmFja3dhcmQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZUxlZnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkJhY2t3YXJkTGVmdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uQmFja3dhcmRSaWdodDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uQmFja3dhcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlTGVmdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdHJhZmluZ0xlZnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdHJhZmluZ1JpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RhdGlvbmFyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUHJlIE5vdGlmaWNhdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUgJiYgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBGb3J3YXJkIENhbWVyYSBWZWN0b3JcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IuY29weUZyb20odGhpcy5jYW1lcmFQaXZvdC5mb3J3YXJkKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRm9yd2FyZFZlY3Rvci55ID0gMDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRm9yd2FyZFZlY3Rvci5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRm9yd2FyZFZlY3Rvci5zY2FsZVRvUmVmKHRoaXMucGxheWVySW5wdXRaLCB0aGlzLmRlc2lyZWRGb3J3YXJkVmVjdG9yKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUmlnaHQgQ2FtZXJhIFZlY3RvclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3IuY29weUZyb20odGhpcy5jYW1lcmFQaXZvdC5yaWdodCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLnkgPSAwO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3Iuc2NhbGVUb1JlZih0aGlzLnBsYXllcklucHV0WCwgdGhpcy5kZXNpcmVkUmlnaHRWZWN0b3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQbGF5ZXIgUm90YXRpb24gVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55ICs9ICh0aGlzLnBsYXllck1vdXNlWCAqIHRoaXMubG9va1NwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ICs9ICgtdGhpcy5wbGF5ZXJNb3VzZVkgKiB0aGlzLmxvb2tTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCwgLUJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMuZG93bkxvb2tMaW1pdCksIEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMudG9wTG9va0xpbWl0KSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudEFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5QbGF5ZXJKdW1wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBTbW9vdGggUGxheWVyIFJvdGF0aW9uIFZlY3RvciAoREVQUkVDSUFURUQpXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gbGV0IG5ld1BsYXllclJvdGF0aW9uVmVjdG9yWSA9IHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSArICh0aGlzLnBsYXllck1vdXNlWCAqIHRoaXMubG9va1NwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgLy8gbGV0IG5ld1BsYXllclJvdGF0aW9uVmVjdG9yWCA9IHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCArICgtdGhpcy5wbGF5ZXJNb3VzZVkgKiB0aGlzLmxvb2tTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIC8vIG5ld1BsYXllclJvdGF0aW9uVmVjdG9yWCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKG5ld1BsYXllclJvdGF0aW9uVmVjdG9yWCwgLUJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMuZG93bkxvb2tMaW1pdCksIEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMudG9wTG9va0xpbWl0KSk7XG4gICAgICAgICAgICAvLyB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnggPSBVTklUWS5VdGlsaXRpZXMuU21vb3RoRGFtcEFuZ2xlKHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCwgbmV3UGxheWVyUm90YXRpb25WZWN0b3JYLCB0aGlzLnNtb290aGluZ1NwZWVkLCBOdW1iZXIuTUFYX1ZBTFVFLCB0aGlzLmRlbHRhVGltZSwgdGhpcy5yb3RhdGlvblZlbG9jaXR5WCk7XG4gICAgICAgICAgICAvLyB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnkgPSBVTklUWS5VdGlsaXRpZXMuU21vb3RoRGFtcEFuZ2xlKHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSwgbmV3UGxheWVyUm90YXRpb25WZWN0b3JZLCB0aGlzLnNtb290aGluZ1NwZWVkLCBOdW1iZXIuTUFYX1ZBTFVFLCB0aGlzLmRlbHRhVGltZSwgdGhpcy5yb3RhdGlvblZlbG9jaXR5WSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBCdXR0b24gUHJlc3Nlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaXNSdW5QcmVzc2VkID0gKFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRSdW4pIHx8IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5idXR0b25SdW4pKTtcbiAgICAgICAgICAgIHRoaXMuaXNKdW1wUHJlc3NlZCA9IChVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkSnVtcCkgfHwgVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmJ1dHRvbkp1bXApKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIE1vdmVtZW50IFZlbG9jaXR5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFNwZWVkID0gKHRoaXMuaW5wdXRNYWduaXR1ZGUgKiB0aGlzLm1vdmVTcGVlZCAqIHRoaXMuc3BlZWRGYWN0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMucnVuS2V5UmVxdWlyZWQgPT09IHRydWUgJiYgdGhpcy5pc1J1blByZXNzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBMZXJwIE1heCBTcGVlZCBGcm9tIFdhbGsgVG8gUnVuIEFuZCBWaWNlIFZlcnNhIChTbW9vdGggT3V0IFRyYW5zaXRpb25zKVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFNwZWVkID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5tb3ZlbWVudFNwZWVkLCAwLCB0aGlzLndhbGtTcGVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlc2lyZWRGb3J3YXJkVmVjdG9yLmFkZFRvUmVmKHRoaXMuZGVzaXJlZFJpZ2h0VmVjdG9yLCB0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1vdmVtZW50U3BlZWQpO1xuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRBbGxvd2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuRmlyc3RQZXJzb25TdHJhZmluZykgeyBcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIFJvb3QgTW90aW9uIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIEZyZWUgTG9va2luZyAtIFNuYXAgUGxheWVyIFJvdGF0aW9uIChFdWxlciBBbmdsZSBSb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKDAsIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSwgMCwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuVGhpcmRQZXJzb25TdHJhZmluZykgeyBcbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgRnJlZSBMb29raW5nIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyZWVMb29raW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dE1hZ25pdHVkZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRSAtIE5vdGU6IExhcmdlIE1vdmVtZW50IC0gU2xlcnAgUGxheWVyIFJvdGF0aW9uIChFdWxlciBBbmdsZSBSb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJhZmluZ1R1cm5SYXRpbzpudW1iZXIgPSAodGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5Lmxlbmd0aCgpIC8gdGhpcy5tb3ZlU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmFmaW5nVHVyblNwZWVkOm51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5oaWdoVHVyblNwZWVkLCB0aGlzLmxvd1R1cm5TcGVlZCwgc3RyYWZpbmdUdXJuUmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLCB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnksIDAsIHRoaXMucGxheWVyUm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBIYW5kbGUgUm9vdCBNb3Rpb24gUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZih0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIHRoaXMucGxheWVyUm90YXRpb25RdWF0ZXJuaW9uLCAoc3RyYWZpbmdUdXJuU3BlZWQgKiB0aGlzLmRlbHRhVGltZSksIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBIYW5kbGUgUm9vdCBNb3Rpb24gUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIEZyZWUgTG9va2luZyAtIFNuYXAgUGxheWVyIFJvdGF0aW9uIChFdWxlciBBbmdsZSBSb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLCB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnksIDAsIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPSB0aGlzLmdldFZlcnRpY2FsVmVsb2NpdHkoKTtcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRWZWxvY2l0eS5jb3B5RnJvbSh0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBDaGFyYWN0ZXIgQ29udHJvbGxlclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaGFzR3JvdW5kZWRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPSAodGhpcy5uYXZpZ2F0aW9uQWdlbnQgIT0gbnVsbCAmJiB0aGlzLm5hdmlnYXRpb25BZ2VudC5pc05hdmlnYXRpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb25Bbmd1bGFyU3BlZWQgPSAodGhpcy5uYXZpZ2F0aW9uQWdlbnQgIT0gbnVsbCkgPyB0aGlzLm5hdmlnYXRpb25BZ2VudC5hbmd1bGFyU3BlZWQgOiAwO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDaGFyYWN0ZXJDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEFuaW1hdGlvbiBTdGF0ZSBQYXJhbXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMudXBkYXRlU3RhdGVQYXJhbXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlQW5pbWF0aW9uU3RhdGVQYXJhbXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEludGVnZXIodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3ZlRGlyZWN0aW9uLCB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5oZWlnaHRJbnB1dCwgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5qdW1wRnJhbWUsIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmp1bXBTdGF0ZSwgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0SW50ZWdlcih0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmFjdGlvblN0YXRlLCB0aGlzLnBlcmZvcm1BY3Rpb25OdW1iZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmZhbGxpbmdTdGF0ZSwgdGhpcy5pc0NoYXJhY3RlckZhbGxpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNsaWRpbmdTdGF0ZSwgdGhpcy5pc0NoYXJhY3RlclNsaWRpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmdyb3VuZGVkU3RhdGUsIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoTW90aW9uVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaG9yaXpvbnRhbElucHV0LCB0aGlzLnBsYXllcklucHV0WCwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFosIHRoaXMuc21vb3RoTW90aW9uVGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWElucHV0LCB0aGlzLnBsYXllck1vdXNlWCwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VZSW5wdXQsIHRoaXMucGxheWVyTW91c2VZLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIHRoaXMucGxheWVySW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCB0aGlzLnBsYXllcklucHV0Wik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIHRoaXMucGxheWVyTW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5pbnB1dE1hZ25pdHVkZSwgdGhpcy5pbnB1dE1hZ25pdHVkZSwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCB0aGlzLm1vdmVtZW50U3BlZWQsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIHRoaXMucGxheWVySW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnZlcnRpY2FsSW5wdXQsIHRoaXMucGxheWVySW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWElucHV0LCB0aGlzLnBsYXllck1vdXNlWCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaW5wdXRNYWduaXR1ZGUsIHRoaXMuaW5wdXRNYWduaXR1ZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgdGhpcy5tb3ZlbWVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBVcGRhdGUgU3BlZWQgSW5wdXQgV2l0aCBOYXZpZ2F0aW9uIE1hZ25pdHVkZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgdGhpcy5pbnB1dE1hZ25pdHVkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFBvc3QgTmV0d29yayBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID09IHRydWUgJiYgVU5JVFkuRW50aXR5Q29udHJvbGxlci5IYXNOZXR3b3JrRW50aXR5KHRoaXMudHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAwLCB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24pOyAgICAgICAgICAgICAgICAgICAgLy8gRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEsIHRoaXMuaW5wdXRNYWduaXR1ZGUpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWduaXR1ZGVcbiAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMiwgdGhpcy5wbGF5ZXJJbnB1dFgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvcml6b25hbFxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAzLCB0aGlzLnBsYXllcklucHV0Wik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVydGljYWxcbiAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNCwgdGhpcy5wbGF5ZXJNb3VzZVgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdXNlWFxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA1LCB0aGlzLnBsYXllck1vdXNlWSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW91c2VZXG4gICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDYsIHRoaXMudmVydGljYWxWZWxvY2l0eSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBWZWxvY2l0eVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA3LCB0aGlzLm1vdmVtZW50U3BlZWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZW1lbnQgU3BlZWRcbiAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOCwgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyKTsgICAgICAgICAgICAgICAgICAgIC8vIEFjdGlvbiBTdGF0ZVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA5LCAoKHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUpID8gMSA6IDApKTsgICAgICAgLy8gSnVtcCBGcmFtZVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMCwgKCh0aGlzLmlzQ2hhcmFjdGVySnVtcGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgSnVtcGluZ1xuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMSwgKCh0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgRmFsbGluZ1xuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMiwgKCh0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgU2xpZGluZ1xuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMywgKCh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQpID8gMSA6IDApKTsgICAgICAgLy8gSXMgR3JvdW5kZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUG9zdCBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZSAmJiB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgYWZ0ZXJQbGF5ZXJDb250cm9sbGVyKCk6dm9pZCB7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRTogRXh0cmEgUmF5Y2FzdCBEaXN0YW5jZSBXaGVuIE9uIFZhcmlvdXMgU2xvcGUgQW5nbGVzIC0gPz8/XG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ2hhcmFjdGVyQ29udHJvbGxlcigpIDogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91bmRpbmdNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLnBvc2l0aW9uLnNldCgwLCB0aGlzLnZlcnRpY2FsT2Zmc2V0LCB0aGlzLmZvcndhcmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5waHlzaWNzV29ybGQgIT0gbnVsbCAmJiB0aGlzLnBoeXNpY3NXb3JsZC5jb250YWN0VGVzdCAhPSBudWxsICYmIHRoaXMuZ3JvdW5kaW5nT2JqZWN0ICE9IG51bGwgJiYgdGhpcy5ncm91bmRpbmdDYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljc1dvcmxkLmNvbnRhY3RUZXN0KHRoaXMuZ3JvdW5kaW5nT2JqZWN0LCB0aGlzLmdyb3VuZGluZ0NhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclJpc2luZyA9ICh0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9PSB0cnVlICYmIHRoaXMudmVydGljYWxWZWxvY2l0eSA+IDApO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID09IHRydWUgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IDwgMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9IGZhbHNlOyAgICAvLyBJR05PUkUgQ09OVEFDVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNHcm91bmRlZENvbnRhY3QgPT09IHRydWUgJiYgdGhpcy5taW5KdW1wVGltZXIgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9IGZhbHNlOyAgICAvLyBOT1QgU0xJRElOR1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPSB0cnVlOyAgICAvLyBJUyBHUk9VTkRFRFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL3RoaXMuY2FzdFBoeXNpY3NHcm91bmRDaGVja1JheSgpO1xuICAgICAgICAgICAgICAgIC8vY29uc3Qgc2xvcGVBbmdsZUxlbmd0aDpudW1iZXIgPSAwOyAvLyBUT0RPOiBBY2NvdW50IEZvciBDdXJyZW50IFNsb3BlIEFuZ2xlIC0gPz8/XG4gICAgICAgICAgICAgICAgLy9jb25zdCBtaW5Hcm91bmREaXN0YW5jZUxlbmd0aDpudW1iZXIgPSAoUFJPSkVDVC5TdGFuZGFyZFBsYXllckNvbnRyb2xsZXIuTUlOX0dST1VORF9ESVNUQU5DRSArIHNsb3BlQW5nbGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIC8vdGhpcy5ncm91bmRDb2xsaXNpb24gPSAodGhpcy5ncm91bmRIaXQgPT09IHRydWUgJiYgdGhpcy5ncm91bmREaXN0YW5jZSA8PSBtaW5Hcm91bmREaXN0YW5jZUxlbmd0aCAmJiAodGhpcy5ub3JtYWxBbmdsZSA8PSAwIHx8IHRoaXMuZ3JvdW5kTm9ybWFsLnkgPj0gdGhpcy5ub3JtYWxBbmdsZSkpO1xuICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMuZ3JvdW5kQ29sbGlzaW9uID09PSB0cnVlICYmIHRoaXMubWluSnVtcFRpbWVyIDw9IDApIHtcbiAgICAgICAgICAgICAgICAvLyAgICBpZiAodGhpcy52ZXJ0aWNhbFZlbG9jaXR5ID09PSAwIHx8ICh0aGlzLmdyb3VuZEFuZ2xlID4gMCAmJiB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPiAwKSkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9IGZhbHNlOyAgICAvLyBOT1QgU0xJRElOR1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPSB0cnVlOyAgICAvLyBJUyBHUk9VTkRFRFxuICAgICAgICAgICAgICAgIC8vICAgIH0gZWxzZSBpZiAodGhpcy5ncm91bmRBbmdsZSA+IDAgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IDwgMCkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9IHRydWU7ICAgICAvLyBJUyBTTElESU5HXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9IGZhbHNlOyAgIC8vIE5PVCBHUk9VTkRFRFxuICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlKSB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gZmFsc2UgJiYgdGhpcy5pc0NoYXJhY3RlclNsaWRpbmcgPT0gZmFsc2UgJiYgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPT0gZmFsc2UgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IDwgMCAmJiBNYXRoLmFicyh0aGlzLnZlcnRpY2FsVmVsb2NpdHkpID49IHRoaXMubWluRmFsbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3RlckZhbGxpbmcgPT09IHRydWUgJiYgdGhpcy5pc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcERlbGF5ID4gMCkgdGhpcy5kZWxheUp1bXBUaW1lciA9IHRoaXMuanVtcERlbGF5OyAvLyBEVU5OTzogTUFZQkUgVVNFIFNFUEVSQVRFIEZBTExJTkcgREVMQVkgVElNRVIgLSA/Pz9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gdHJ1ZSkgdGhpcy5pc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKFwiSXMgR3JvdW5kZWQ6IFwiICsgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDbGltYmluZyBTeXN0ZW1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZUNsaW1iU3lzdGVtID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdFBoeXNpY3NDbGltYmluZ1ZvbHVtZVJheSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3RQaHlzaWNzSGVpZ2h0Q2hlY2tWb2x1bWVSYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIENoYXJhY3RlciBNb3ZlbWVudFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy5tb3ZlbWVudEFsbG93ZWQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSBmYWxzZSAmJiB0aGlzLm1vdmVtZW50QWxsb3dlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxheUp1bXBUaW1lciA8PSAwKSB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gKHRoaXMuY2FuUGxheWVySnVtcCA9PT0gdHJ1ZSAmJiB0aGlzLmlzSnVtcFByZXNzZWQgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSBmYWxzZSAmJiB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID09PSB0cnVlICYmIHRoaXMudXNlQ2xpbWJTeXN0ZW0gPT09IHRydWUgJiYgdGhpcy5jbGltYkNvbnRhY3QgPT09IHRydWUgJiYgdGhpcy5oZWlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNsaW1iQWN0aW9uOm51bWJlciA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3RhdGVTcGVlZDpudW1iZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3RhdGVUb3dhcmRzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hIZWlnaHQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydFRpbWU6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0VGltZTpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRPZmZzZXQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoaXRIZWlnaHQ6bnVtYmVyID0gcGFyc2VGbG9hdCh0aGlzLmhlaWdodENvbnRhY3RQb2ludC55LnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckhlaWdodDpudW1iZXIgPSBwYXJzZUZsb2F0KHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkudG9GaXhlZCgyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JzdGFjbGVIZWlnaHQ6bnVtYmVyID0gcGFyc2VGbG9hdCgoaGl0SGVpZ2h0IC0gcGxheWVySGVpZ2h0KS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2xpbWIgQWN0aW9uIC0tPiAgSGl0IEhlaWdodDogXCIgKyBoaXRIZWlnaHQgKyBcIiAtLT4gUGxheWVyIEhlaWdodDogXCIgKyBwbGF5ZXJIZWlnaHQgKyBcIiAtLT4gT2JzdGFjbGUgSGVpZ2h0OiBcIiArIG9ic3RhY2xlSGVpZ2h0ICsgXCIgLS0+IFJvdGF0ZSBUb3dhcmRzOiBcIiArIHJvdGF0ZVRvd2FyZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5taW5pbXVtSGVpZ2h0ICYmIG9ic3RhY2xlSGVpZ2h0IDw9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLm1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbWJBY3Rpb24gPSBQUk9KRUNULkFjdGlvbkFuaW1hdGlvblR5cGUuU3RlcFVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvd2FyZHMgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5yb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS50YXJnZXRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5taW5pbXVtSGVpZ2h0ICYmIG9ic3RhY2xlSGVpZ2h0IDw9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLm1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbWJBY3Rpb24gPSBQUk9KRUNULkFjdGlvbkFuaW1hdGlvblR5cGUuSnVtcFVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvd2FyZHMgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5yb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS50YXJnZXRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UubWluaW11bUhlaWdodCAmJiBvYnN0YWNsZUhlaWdodCA8PSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UubWF4aW11bUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGltYkFjdGlvbiA9IFBST0pFQ1QuQWN0aW9uQW5pbWF0aW9uVHlwZS5DbGltYlVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5yb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVUb3dhcmRzID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2Uuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRUaW1lID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnRhcmdldFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGltYkFjdGlvbiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbkNsaW1iT2JzdGFjbGVQcmVkaWNhdGUgPT0gbnVsbCB8fCB0aGlzLmNhbkNsaW1iT2JzdGFjbGVQcmVkaWNhdGUoY2xpbWJBY3Rpb24pID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheUFjdGlvbkFuaW1hdGlvbihjbGltYkFjdGlvbiwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblNwZWVkID0gcm90YXRlU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSByb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IG1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFN0YXJ0VGltZSA9IChzdGFydFRpbWUgLSBQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5NSU5fVElNRVJfT0ZGU0VUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRUaW1lID0gKHRhcmdldFRpbWUgLSBQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5NSU5fVElNRVJfT0ZGU0VUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQgPSB0YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBoaXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RTdGFydEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2tUYXJnZXRIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID09PSB0cnVlICYmIHRoaXMuanVtcFNwZWVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuanVtcCh0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcERlbGF5ID4gMCkgdGhpcy5kZWxheUp1bXBUaW1lciA9IHRoaXMuanVtcERlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFpcmJvcm5UaW1lb3V0ID4gMCkgdGhpcy5taW5KdW1wVGltZXIgPSAodGhpcy5haXJib3JuVGltZW91dCArIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RKdW1wVmVsb2NpdHkuc2V0KHRoaXMubW92ZW1lbnRWZWxvY2l0eS54LCAwLCB0aGlzLm1vdmVtZW50VmVsb2NpdHkueik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIE1vdmUgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUgJiYgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgUm9vdCBNb3Rpb24gVmVsb2NpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMucm9vdE1vdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RNb3Rpb246QkFCWUxPTi5WZWN0b3IzID0gdGhpcy5nZXREZWx0YU1vdGlvblBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFZlbG9jaXR5LnNldChyb290TW90aW9uLngsIDAsIHJvb3RNb3Rpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMubW92ZW1lbnRWZWxvY2l0eSwgdGhpcy50cmFuc2Zvcm0uZ2V0V29ybGRNYXRyaXgoKSwgdGhpcy5tb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIubW92ZSh0aGlzLm1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50VmVsb2NpdHkuc2NhbGVJblBsYWNlKHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIubW92ZSh0aGlzLm1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IHRydWU7IC0gV2hpY2ggSXMgQmVzdCAtID8/P1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IGZhbHNlOyAtIFdoaWNoIElzIEJlc3QgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IEVJVEhFUiBPUiAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R2hvc3RXb3JsZFBvc2l0aW9uKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnN5bmNHaG9zdFRvVHJhbnNmb3JtUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUNhbWVyYUNvbnRyb2xsZXIoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUlucHV0ID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gRFVOTk8gRlVSIFNVUkU6ICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IHRydWUgJiYgdGhpcy5uYXZpZ2F0aW9uQW5ndWxhclNwZWVkID4gMCkgYWxsb3dSb3RhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhUGl2b3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIC4uIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDYW1lcmEgUGl2b3QgT2Zmc2V0XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXRDYW1lcmFPZmZzZXQueCAhPT0gMCB8fCB0aGlzLnRhcmdldENhbWVyYU9mZnNldC55ICE9PSAwIHx8IHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0LnogIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdE9mZnNldC5jb3B5RnJvbSh0aGlzLnRhcmdldENhbWVyYU9mZnNldCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuVGhpcmRQZXJzb25TdHJhZmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdE9mZnNldC5zZXQoMCwgdGhpcy5waXZvdEhlaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0LnNldCgwLCB0aGlzLmV5ZXNIZWlnaHQsIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBQaXZvdCBQb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiwgdGhpcy5jYW1lcmFQaXZvdE9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIFBpdm90IFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVDYW1lcmEgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCwgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55LCAwLCB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQ2FtZXJhID09PSB0cnVlICYmIHRoaXMuY2FtZXJhTm9kZSAhPSBudWxsKSB7IFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVNtb290aGluZyA8PSAwKSB0aGlzLmNhbWVyYVNtb290aGluZyA9IDUuMDsgLy8gRGVmYXVsdCBDYW1lcmEgU21vb3RoaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuVGhpcmRQZXJzb25TdHJhZmluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgQ2FtZXJhIENvbGxpc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG1heERpc3RhbmNlOm51bWJlciA9IE1hdGguYWJzKHRoaXMuYm9vbVBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Tm9kZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSAodGhpcy5jYW1lcmFOb2RlLnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5zY2FsZVRvUmVmKHRoaXMubWF4RGlzdGFuY2UsIHRoaXMuc2NhbGVkTWF4RGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9sbHlEaXJlY3Rpb24uc2NhbGVUb1JlZih0aGlzLmNhbWVyYURpc3RhbmNlLCB0aGlzLnNjYWxlZENhbURpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHBhcmVudE5vZGUsIHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5UcmFuc2Zvcm1Qb2ludFRvUmVmKHBhcmVudE5vZGUsIHRoaXMuc2NhbGVkTWF4RGlyZWN0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZTpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogVXNlIEJ1bGxldCBQaHlzaWNzIFNoYXBlIENhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHJheWNhc3Q6VU5JVFkuUmF5Y2FzdEhpdFJlc3VsdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1NoYXBlY2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmFSYXljYXN0U2hhcGUsIHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MsIHRoaXMuZGVmYXVsdFJheWNhc3RHcm91cCwgdGhpcy5jYW1lcmFSYXljYXN0TWFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb250YWN0ID0gKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Rpc3RhbmNlID0gKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSkgPyByYXljYXN0LmhpdERpc3RhbmNlIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgY29uc3QgY29udGFjdFRhZzpzdHJpbmcgPSBTTS5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBpZiAodGhpcy5pZ25vcmVUcmlnZ2VyVGFncyAhPSBudWxsICYmIHRoaXMuaWdub3JlVHJpZ2dlclRhZ3MgIT09IFwiXCIgJiYgdGhpcy5pZ25vcmVUcmlnZ2VyVGFncy5pbmRleE9mKGNvbnRhY3RUYWcpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBkaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QvKiA9PT0gdHJ1ZSovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFEaXN0YW5jZSA9IEJBQllMT04uU2NhbGFyLkNsYW1wKChkaXN0YW5jZSAqIHRoaXMuZGlzdGFuY2VGYWN0b3IpLCB0aGlzLm1pbmltdW1EaXN0YW5jZSwgdGhpcy5tYXhEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVycCBQYXN0IENhbWVyYSBDb2xsaXNpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi54IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi55ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi55IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi56ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLnNjYWxlZENhbURpcmVjdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW91c2VXaGVlbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVU5JVFkuSW5wdXRDb250cm9sbGVyLklzV2hlZWxTY3JvbGxpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWw6bnVtYmVyID0gVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChVTklUWS5Vc2VySW5wdXRBeGlzLldoZWVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbCA8IDApIHsgLy8gWk9PTSBPVVRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB6b29tT3V0U3BlZWQ6bnVtYmVyID0gKHRoaXMuc2Nyb2xsU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib29tUG9zaXRpb24ueiA9IEJBQllMT04uU2NhbGFyLk1vdmVUb3dhcmRzKHRoaXMuYm9vbVBvc2l0aW9uLnosIC10aGlzLm1heERpc3RhbmNlLCB6b29tT3V0U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aGVlbCA+IDApIHsgLy8gWk9PTSBJTlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHpvb21JblNwZWVkOm51bWJlciA9ICh0aGlzLnNjcm9sbFNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vbVBvc2l0aW9uLnogPSBCQUJZTE9OLlNjYWxhci5Nb3ZlVG93YXJkcyh0aGlzLmJvb21Qb3NpdGlvbi56LCAtdGhpcy5taW5pbXVtRGlzdGFuY2UsIHpvb21JblNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXJwIFRvIENhbWVyYSBCb29tIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi54IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi55ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi55IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi56ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLmJvb21Qb3NpdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlcnAgVG8gQ2FtZXJhIEJvb20gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gdGhpcy5ib29tUG9zaXRpb24ueCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gdGhpcy5ib29tUG9zaXRpb24ueSB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gdGhpcy5ib29tUG9zaXRpb24ueikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLmJvb21Qb3NpdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogU25hcCBUbyBaZXJvIENhbWVyYSBQaXZvdCBQb3NpdGlvbiAtIEZpcnN0IFBlcnNvbiBWaWV3XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gMCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gMCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNtb290aEJvb21Bcm1MZW5ndGgoKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Qm9vbUFybU1heERpc3RhbmNlKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMubWF4RGlzdGFuY2U7IH1cbiAgICAgICAgcHVibGljIHNldEJvb21Bcm1NYXhEaXN0YW5jZShkaXN0YW5jZTpudW1iZXIpOnZvaWQgeyB0aGlzLm1heERpc3RhbmNlID0gTWF0aC5hYnMoZGlzdGFuY2UpOyB9XG4gICAgICAgIHB1YmxpYyBzZXRTbW9vdGhCb29tQXJtTGVuZ3RoKGxlbmd0aDpudW1iZXIsIHNwZWVkOm51bWJlciwgdXBkYXRlTWF4RGlzdGFuY2U6Ym9vbGVhbj10cnVlKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlTGVuZ3RoOm51bWJlciA9IE1hdGguYWJzKGxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGggPSAtYWJzb2x1dGVMZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnNtb290aEJvb21Bcm1TcGVlZCA9IHNwZWVkO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZU1heERpc3RhbmNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVEaXN0YW5jZTpudW1iZXIgPSBNYXRoLmFicyh0aGlzLm1heERpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGVMZW5ndGggPiBhYnNvbHV0ZURpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Qm9vbUFybU1heERpc3RhbmNlKGFic29sdXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzbW9vdGhCb29tQXJtTGVuZ3RoOkJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc21vb3RoQm9vbUFybVNwZWVkOkJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdXBkYXRlU21vb3RoQm9vbUFybUxlbmd0aCgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCAhPSBudWxsICYmIHRoaXMuc21vb3RoQm9vbUFybVNwZWVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib29tUG9zaXRpb24ueiAhPT0gdGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vbVBvc2l0aW9uLnogPSBCQUJZTE9OLlNjYWxhci5Nb3ZlVG93YXJkcyh0aGlzLmJvb21Qb3NpdGlvbi56LCB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGgsICh0aGlzLnNtb290aEJvb21Bcm1TcGVlZCAqIHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtb290aEJvb21Bcm1TcGVlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyAgQW1tbyBQaHlzaWNzIFJheWNhc3RpbmdcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qXG4gICAgICAgIHByaXZhdGUgY2FzdFBoeXNpY3NHcm91bmRDaGVja1JheSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5ncm91bmRIaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZFBvaW50LnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZE5vcm1hbC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRBbmdsZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZERpc3RhbmNlID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJheUxlbmd0aCA8PSAwKSB0aGlzLnJheUxlbmd0aCA9IDAuMTtcbiAgICAgICAgICAgIGNvbnN0IHJheWNhc3RMZW5ndGg6bnVtYmVyID0gKHRoaXMucmF5TGVuZ3RoIC8gdGhpcy50cmFuc2Zvcm0uc2NhbGluZy55KSArIDAuMTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBHcm91bmRpbmcgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJUcmFuc2Zvcm1Eb3duRGlyZWN0aW9uID0gVVRJTC5UcmFuc2Zvcm1EaXJlY3Rpb24odGhpcy50cmFuc2Zvcm0sIHRoaXMuZG93bkRpcmVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLm9mZnNldEdyb3VuZFJheWNhc3RQb3NpdGlvbi5zZXQoMCwgdGhpcy5yYXlPcmlnaW4sIDApO1xuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5zdGFydEdyb3VuZFJheWNhc3RQb3NpdGlvbiwgdGhpcy5vZmZzZXRHcm91bmRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5lbmRHcm91bmRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZShyYXljYXN0TGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLmVuZEdyb3VuZFJheWNhc3RQb3NpdGlvbi55ICs9IHRoaXMucmF5T3JpZ2luO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIENhc3QgQ29sbGlzaW9uIFNoYXBlIFJheVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnJhZGl1c1NjYWxlIDw9IDApIHRoaXMucmFkaXVzU2NhbGUgPSAxLjA7XG4gICAgICAgICAgICBpZiAodGhpcy5zcGhlcmVDb2xsaXNpb25TaGFwZSA9PSBudWxsKSB0aGlzLnNwaGVyZUNvbGxpc2lvblNoYXBlID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkNyZWF0ZVBoeXNpY3NTcGhlcmVTaGFwZSh0aGlzLmF2YXRhclJhZGl1cyAqIHRoaXMucmFkaXVzU2NhbGUpO1xuICAgICAgICAgICAgY29uc3QgcmF5Y2FzdDpVTklUWS5SYXljYXN0SGl0UmVzdWx0ID0gVU5JVFkuU2NlbmVNYW5hZ2VyLlBoeXNpY3NTaGFwZWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zcGhlcmVDb2xsaXNpb25TaGFwZSwgdGhpcy5zdGFydEdyb3VuZFJheWNhc3RQb3NpdGlvbiwgcGxheWVyVHJhbnNmb3JtRG93bkRpcmVjdGlvbiwgcmF5Y2FzdExlbmd0aCwgdGhpcy5kZWZhdWx0UmF5Y2FzdEdyb3VwLCB0aGlzLmRlZmF1bHRSYXljYXN0TWFzayk7XG4gICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogY29uc3QgcmF5Y2FzdDpVTklUWS5SYXljYXN0SGl0UmVzdWx0ID0gVU5JVFkuU2NlbmVNYW5hZ2VyLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRHcm91bmRSYXljYXN0UG9zaXRpb24sIHBsYXllclRyYW5zZm9ybURvd25EaXJlY3Rpb24sIHJheWNhc3RMZW5ndGgsIHRoaXMuZGVmYXVsdFJheWNhc3RHcm91cCwgdGhpcy5kZWZhdWx0UmF5Y2FzdE1hc2spO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VuZEhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmROb2RlID0gcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5O1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdFBvaW50ICE9IG51bGwpIHRoaXMuZ3JvdW5kUG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsICE9IG51bGwpIHRoaXMuZ3JvdW5kTm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VuZEFuZ2xlID0gKHRoaXMuZ3JvdW5kSGl0ID09PSB0cnVlKSA/IE1hdGguYWJzKFVOSVRZLlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmdyb3VuZE5vcm1hbCwgQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkpKSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdW5kQW5nbGUgPj0gODgpIHRoaXMuZ3JvdW5kQW5nbGUgPSAwOyAvLyBOb3RlOiBaZXJvIE1heCA4OCBEZWdyZWUgR3JvdW5kIEFuZ2xlXG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmREaXN0YW5jZSA9IChyYXljYXN0LmhpdERpc3RhbmNlIC0gdGhpcy5yYXlPcmlnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR3JvdW5kIERyYXcgRGVidWcgTGluZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdW5kU2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmdyb3VuZFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkdyb3VuZFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdW5kSGl0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kU2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydEdyb3VuZFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlJlZCgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5ncm91bmRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0R3JvdW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZEdyb3VuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkdyZWVuKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAqL1xuXG4gICAgICAgIHByaXZhdGUgY2FzdFBoeXNpY3NDbGltYmluZ1ZvbHVtZVJheSgpOnZvaWQge1xuICAgICAgICAgICAgbGV0IHJheWNhc3Q6VU5JVFkuUmF5Y2FzdEhpdFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3ROb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0UG9pbnQuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdEFuZ2xlID0gMDtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIENsaW1iaW5nIFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcGxheWVyVHJhbnNmb3JtRm9yd2FyZERpcmVjdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBVVElMLlRyYW5zZm9ybURpcmVjdGlvbih0aGlzLnRyYW5zZm9ybSwgdGhpcy5mb3J3YXJkRGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0Q2xpbWJSYXljYXN0UG9zaXRpb24uc2V0KDAsIHRoaXMucmF5Q2xpbWJPZmZzZXQsIDApO1xuICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLm9mZnNldENsaW1iUmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuZW5kQ2xpbWJSYXljYXN0UG9zaXRpb24sIHRoaXMuZm9yd2FyZERpcmVjdGlvbi5zY2FsZSh0aGlzLnJheUNsaW1iTGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLmVuZENsaW1iUmF5Y2FzdFBvc2l0aW9uLnkgKz0gdGhpcy5yYXlDbGltYk9mZnNldDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvL3JheWNhc3QgPSBVTklUWS5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbiwgcGxheWVyVHJhbnNmb3JtRm9yd2FyZERpcmVjdGlvbiwgdGhpcy5yYXlDbGltYkxlbmd0aCwgdGhpcy5kZWZhdWx0UmF5Y2FzdEdyb3VwLCB0aGlzLmRlZmF1bHRSYXljYXN0TWFzayk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrVGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja1RhZyA9PT0gdGhpcy5jbGltYlZvbHVtZVRhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0Tm9kZSA9IHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0UG9pbnQgIT0gbnVsbCkgdGhpcy5jbGltYkNvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsICE9IG51bGwpIHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3RBbmdsZSA9ICh0aGlzLmNsaW1iQ29udGFjdE5vcm1hbCAhPSBudWxsKSA/IE1hdGguYWJzKFVOSVRZLlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmNsaW1iQ29udGFjdE5vcm1hbCwgQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkpKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2UgPSByYXljYXN0LmhpdERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENsaW1iaW5nIERyYXcgRGVidWcgTGluZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuY2xpbWJTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5DbGltYmluZ1NlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5SZWQoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iU2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZENsaW1iUmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuR3JlZW4oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjYXN0UGh5c2ljc0hlaWdodENoZWNrVm9sdW1lUmF5KCk6dm9pZCB7XG4gICAgICAgICAgICBsZXQgcmF5Y2FzdDpVTklUWS5SYXljYXN0SGl0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3RQb2ludC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsLnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3RBbmdsZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3REaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gSGVpZ2h0IENoZWNrIFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcGxheWVyVHJhbnNmb3JtSGVpZ2h0RGlyZWN0aW9uOkJBQllMT04uVmVjdG9yMyA9IFVUSUwuVHJhbnNmb3JtRGlyZWN0aW9uKHRoaXMudHJhbnNmb3JtLCB0aGlzLmRvd25EaXJlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRIZWlnaHRSYXljYXN0UG9zaXRpb24uY29weUZyb20odGhpcy5jbGltYkNvbnRhY3RQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmNsaW1iQ29udGFjdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UoQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkuc2NhbGUodGhpcy5yYXlIZWlnaHRMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAvL3JheWNhc3QgPSBVTklUWS5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHBsYXllclRyYW5zZm9ybUhlaWdodERpcmVjdGlvbiwgdGhpcy5yYXlIZWlnaHRMZW5ndGgsIHRoaXMuZGVmYXVsdFJheWNhc3RHcm91cCwgdGhpcy5kZWZhdWx0UmF5Y2FzdE1hc2spO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldEhlaWdodFJheWNhc3RQb3NpdGlvbi5zZXQoMCwgdGhpcy5yYXlIZWlnaHRPZmZzZXQsIHRoaXMucmF5Q2xpbWJMZW5ndGgpO1xuICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHRoaXMub2Zmc2V0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEhlaWdodFJheWNhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEhlaWdodFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLnJheUhlaWdodExlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrVGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja1RhZyA9PT0gdGhpcy5jbGltYlZvbHVtZVRhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3ROb2RlID0gcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXRQb2ludCAhPSBudWxsKSB0aGlzLmhlaWdodENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsICE9IG51bGwpIHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdEFuZ2xlID0gKHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbCAhPSBudWxsKSA/IE1hdGguYWJzKFVOSVRZLlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmhlaWdodENvbnRhY3ROb3JtYWwsIEJBQllMT04uVmVjdG9yMy5VcFJlYWRPbmx5KSkgOiAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3REaXN0YW5jZSA9IHJheWNhc3QuaGl0RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGVpZ2h0IENoZWNrIERyYXcgRGVidWcgTGluZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmhlaWdodFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkhlaWdodENoZWNrU2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHRoaXMuaGVpZ2h0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5SZWQoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuR3JlZW4oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gIFByaXZhdGUgV29ya2VyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBnZXRDaGVja2VkVmVydGljYWxWZWxvY2l0eSgpOm51bWJlciB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmVsb2NpdHk6bnVtYmVyID0gKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSA/IHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5nZXRWZXJ0aWNhbFZlbG9jaXR5KCkgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIChNYXRoLmFicyhjdXJyZW50VmVsb2NpdHkpID49IFBST0pFQ1QuU3RhbmRhcmRQbGF5ZXJDb250cm9sbGVyLk1JTl9WRVJUSUNBTF9WRUxPQ0lUWSkgPyBjdXJyZW50VmVsb2NpdHkgOiAwO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgZGVzdHJveVBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdmFsaWRhdGVBbmltYXRpb25TdGF0ZVBhcmFtcygpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVEaXJlY3Rpb246IFwiRGlyZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0TWFnbml0dWRlOiBcIk1hZ25pdHVkZVwiLFxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsSW5wdXQ6IFwiSG9yaXpvbnRhbFwiLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbElucHV0OiBcIlZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlWElucHV0OiBcIk1vdXNlWFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZVlJbnB1dDogXCJNb3VzZVlcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0SW5wdXQ6IFwiSGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkSW5wdXQ6IFwiU3BlZWRcIixcbiAgICAgICAgICAgICAgICAgICAganVtcEZyYW1lOiBcIkp1bXBlZFwiLFxuICAgICAgICAgICAgICAgICAgICBqdW1wU3RhdGU6IFwiSnVtcFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZTogXCJBY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgZmFsbGluZ1N0YXRlOiBcIkZyZWVGYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRpbmdTdGF0ZTogXCJTbGlkaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VuZGVkU3RhdGU6IFwiR3JvdW5kZWRcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogQmFieWxvbiBJbnRlcmZhY2UgRGVmaW5pdGlvblxuICAgICogQGludGVyZmFjZSBBbmltYXRpb25TdGF0ZVBhcmFtc1xuICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBBbmltYXRpb25TdGF0ZVBhcmFtcyB7XG4gICAgICAgIG1vdmVEaXJlY3Rpb246c3RyaW5nO1xuICAgICAgICBpbnB1dE1hZ25pdHVkZTpzdHJpbmc7ICAgICAgICBcbiAgICAgICAgaG9yaXpvbnRhbElucHV0OiBzdHJpbmc7XG4gICAgICAgIHZlcnRpY2FsSW5wdXQ6c3RyaW5nO1xuICAgICAgICBtb3VzZVhJbnB1dDpzdHJpbmc7XG4gICAgICAgIG1vdXNlWUlucHV0OnN0cmluZztcbiAgICAgICAgaGVpZ2h0SW5wdXQ6c3RyaW5nO1xuICAgICAgICBzcGVlZElucHV0OnN0cmluZztcbiAgICAgICAganVtcEZyYW1lOnN0cmluZztcbiAgICAgICAganVtcFN0YXRlOnN0cmluZztcbiAgICAgICAgYWN0aW9uU3RhdGU6c3RyaW5nO1xuICAgICAgICBmYWxsaW5nU3RhdGU6c3RyaW5nO1xuICAgICAgICBzbGlkaW5nU3RhdGU6c3RyaW5nO1xuICAgICAgICBncm91bmRlZFN0YXRlOnN0cmluZztcbiAgICB9ICAgIFxuICAgIC8qKlxuICAgICogQmFieWxvbiBFbnVtIERlZmluaXRpb25cbiAgICAqIEBpbnRlcmZhY2UgUGxheWVySW5wdXRDb250cm9sXG4gICAgKi9cbiAgICBleHBvcnQgZW51bSBQbGF5ZXJJbnB1dENvbnRyb2wge1xuICAgICAgICBGaXJzdFBlcnNvblN0cmFmaW5nID0gMCxcbiAgICAgICAgVGhpcmRQZXJzb25TdHJhZmluZyA9IDFcbiAgICB9XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIEVudW0gRGVmaW5pdGlvblxuICAgICogQGludGVyZmFjZSBQbGF5ZXJNb3ZlRGlyZWN0aW9uXG4gICAgKi9cbiAgICAgZXhwb3J0IGVudW0gUGxheWVyTW92ZURpcmVjdGlvbiB7XG4gICAgICAgIFN0YXRpb25hcnkgPSAwLFxuICAgICAgICBGb3J3YXJkID0gMSxcbiAgICAgICAgRm9yd2FyZExlZnQgPSAyLFxuICAgICAgICBGb3J3YXJkUmlnaHQgPSAzLFxuICAgICAgICBCYWNrd2FyZCA9IDQsXG4gICAgICAgIEJhY2t3YXJkTGVmdCA9IDUsXG4gICAgICAgIEJhY2t3YXJkUmlnaHQgPSA2LFxuICAgICAgICBTdHJhZmluZ0xlZnQgPSA3LFxuICAgICAgICBTdHJhZmluZ1JpZ2h0ID0gOFxuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gRW51bSBEZWZpbml0aW9uXG4gICAgKiBAaW50ZXJmYWNlIEFjdGlvbkFuaW1hdGlvblR5cGVcbiAgICAqL1xuICAgICBleHBvcnQgZW51bSBBY3Rpb25BbmltYXRpb25UeXBlIHtcbiAgICAgICAgTmV1dHJhbCA9IDAsXG4gICAgICAgIFN0ZXBVcCA9IDEsXG4gICAgICAgIEp1bXBVcCA9IDIsXG4gICAgICAgIENsaW1iVXAgPSAzLFxuICAgICAgICBWYXVsdE92ZXIgPSA0XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHRvb2xraXQgdGhpcmQgcGVyc29uIHBsYXllciBjb250cm9sbGVyIGNsYXNzXG4gICAgICogQGNsYXNzIFRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlciAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlciBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1ZFUlRJQ0FMX1ZFTE9DSVRZOm51bWJlciA9IDAuMDE7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX0dST1VORF9ESVNUQU5DRTpudW1iZXIgPSAwLjE1O1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9NT1ZFX0VQU0lMT046bnVtYmVyID0gMC4wMDE7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1RJTUVSX09GRlNFVDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9TTE9QRV9MSU1JVDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFBMQVlFUl9IRUlHSFQ6c3RyaW5nID0gXCJwbGF5ZXJIZWlnaHRcIjtcblxuICAgICAgICBwdWJsaWMgZW5hYmxlSW5wdXQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgYXR0YWNoQ2FtZXJhOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHJvdGF0ZUNhbWVyYTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIG1vdXNlV2hlZWw6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBmcmVlTG9va2luZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyByZXF1aXJlU3ByaW50QnV0dG9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGdyYXZpdGF0aW9uYWxGb3JjZTpudW1iZXIgPSAyOS40O1xuICAgICAgICBwdWJsaWMgdGVybWluYWxWZWxvY2l0eTpudW1iZXIgPSA1NS4wO1xuICAgICAgICBwdWJsaWMgbWluRmFsbFZlbG9jaXR5Om51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIGFpcmJvcm5UaW1lb3V0Om51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIGRldGVjdGlvblJhZGl1czpudW1iZXIgPSAwLjIyO1xuICAgICAgICBwdWJsaWMgdmVydGljYWxPZmZzZXQ6bnVtYmVyID0gMC4wODtcbiAgICAgICAgcHVibGljIGZvcndhcmRPZmZzZXQ6bnVtYmVyID0gMC4wO1xuICAgICAgICAvL3B1YmxpYyBub3JtYWxBbmdsZTpudW1iZXIgPSAwLjY7XG4gICAgICAgIC8vcHVibGljIHJhZGl1c1NjYWxlOm51bWJlciA9IDAuNTtcbiAgICAgICAgLy9wdWJsaWMgcmF5TGVuZ3RoOm51bWJlciA9IDEwO1xuICAgICAgICAvL3B1YmxpYyByYXlPcmlnaW46bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIG1heEFuZ2xlOm51bWJlciA9IDQ1O1xuICAgICAgICBwdWJsaWMgc3BlZWRGYWN0b3I6bnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgcm9vdE1vdGlvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBtb3ZlU3BlZWQ6bnVtYmVyID0gNi4wO1xuICAgICAgICBwdWJsaWMgd2Fsa1NwZWVkOm51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIGxvb2tTcGVlZDpudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBqdW1wU3BlZWQ6bnVtYmVyID0gMTAuMDtcbiAgICAgICAgcHVibGljIGp1bXBEZWxheTpudW1iZXIgPSAwLjI1O1xuICAgICAgICBwdWJsaWMgZXllc0hlaWdodDpudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBwaXZvdEhlaWdodDpudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBtYXhEaXN0YW5jZTpudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBzY3JvbGxTcGVlZDpudW1iZXIgPSAyNTtcbiAgICAgICAgcHVibGljIHRvcExvb2tMaW1pdDpudW1iZXIgPSA2MC4wO1xuICAgICAgICBwdWJsaWMgZG93bkxvb2tMaW1pdDpudW1iZXIgPSAzMC4wO1xuICAgICAgICBwdWJsaWMgbG93VHVyblNwZWVkOm51bWJlciA9IDE1LjA7XG4gICAgICAgIHB1YmxpYyBoaWdoVHVyblNwZWVkOm51bWJlciA9IDI1LjA7XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwdWJsaWMgc21vb3RoaW5nU3BlZWQ6bnVtYmVyID0gMC4xMjtcbiAgICAgICAgcHVibGljIHNtb290aE1vdGlvblRpbWU6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHNtb290aElucHV0VmVjdG9yczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBzbW9vdGhBY2NlbGVyYXRpb246Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgYWNjZWxlcmF0aW9uU3BlZWQ6bnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgZGVjZWxlcmF0aW9uU3BlZWQ6bnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgY2xpbWJWb2x1bWVUYWc6c3RyaW5nID0gXCJDbGltYlwiO1xuICAgICAgICBwdWJsaWMgdmF1bHRWb2x1bWVUYWc6c3RyaW5nID0gXCJWYXVsdFwiO1xuICAgICAgICBwdWJsaWMgbWF4SGVpZ2h0UmFuZ2VzOmFueSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB1c2VDbGltYlN5c3RlbTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZUZhY3RvcjpudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgY2FtZXJhU21vb3RoaW5nOm51bWJlciA9IDU7XG4gICAgICAgIHB1YmxpYyBjYW1lcmFDb2xsaXNpb25zOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgaW5wdXRNYWduaXR1ZGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGxhbmRpbmdFcHNpbG9uOm51bWJlciA9IDAuMTtcbiAgICAgICAgcHVibGljIG1pbmltdW1EaXN0YW5jZTpudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRBbGxvd2VkOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgcGxheWVySW5wdXRYOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJJbnB1dFo6bnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHBsYXllck1vdXNlWDpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcGxheWVyTW91c2VZOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBydW5LZXlSZXF1aXJlZDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGlnbm9yZVRyaWdnZXJUYWdzOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBidXR0b25SdW46bnVtYmVyID0gQkFCWUxPTi5YYm94MzYwQnV0dG9uLkxlZnRTdGljaztcbiAgICAgICAgcHVibGljIGtleWJvYXJkUnVuOm51bWJlciA9IFVOSVRZLlVzZXJJbnB1dEtleS5TaGlmdDtcbiAgICAgICAgcHVibGljIGJ1dHRvbkp1bXA6bnVtYmVyID0gQkFCWUxPTi5YYm94MzYwQnV0dG9uLkE7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZEp1bXA6bnVtYmVyID0gVU5JVFkuVXNlcklucHV0S2V5LlNwYWNlQmFyO1xuICAgICAgICBwdWJsaWMgYnV0dG9uQ2FtZXJhOm51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5ZO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRDYW1lcmE6bnVtYmVyID0gVU5JVFkuVXNlcklucHV0S2V5LlA7XG4gICAgICAgIHB1YmxpYyBwb3N0TmV0d29ya0F0dHJpYnV0ZXM6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcGxheWVyTnVtYmVyOlVOSVRZLlBsYXllck51bWJlciA9IFVOSVRZLlBsYXllck51bWJlci5PbmU7XG4gICAgICAgIHB1YmxpYyBib29tUG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHB1YmxpYyBhaXJib3JuVmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHB1YmxpYyBtb3ZlbWVudFZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwdWJsaWMgdGFyZ2V0Q2FtZXJhT2Zmc2V0OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwdWJsaWMgaXNBbmltYXRpb25FbmFibGVkKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zOyB9XG4gICAgICAgIHB1YmxpYyBpc1J1bkJ1dHRvblByZXNzZWQoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNSdW5QcmVzc2VkOyB9XG4gICAgICAgIHB1YmxpYyBpc0p1bXBCdXR0b25QcmVzc2VkKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmlzSnVtcFByZXNzZWQ7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllckp1bXBlZCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySnVtcGluZygpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmc7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllckZhbGxpbmcoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJTbGlkaW5nKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyR3JvdW5kZWQoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RmFsbFRyaWdnZXJlZCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQ7IH1cbiAgICAgICAgcHVibGljIGdldE1vdmVtZW50U3BlZWQoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5tb3ZlbWVudFNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFCb29tTm9kZSgpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmNhbWVyYU5vZGU7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVRyYW5zZm9ybSgpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmNhbWVyYVBpdm90OyB9XG4gICAgICAgIHB1YmxpYyBnZXRBbmltYXRpb25TdGF0ZSgpOlVOSVRZLkFuaW1hdGlvblN0YXRlIHsgcmV0dXJuIHRoaXMuYW5pbWF0aW9uU3RhdGU7IH1cbiAgICAgICAgcHVibGljIGdldFZlcnRpY2FsVmVsb2NpdHkoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5nZXRDaGVja2VkVmVydGljYWxWZWxvY2l0eSgpOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDaGFyYWN0ZXJDb250cm9sbGVyKCk6VU5JVFkuQ2hhcmFjdGVyQ29udHJvbGxlciB7IHJldHVybiB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXI7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllckxvb2tSb3RhdGlvbigpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnBsYXllckxvb2tSb3RhdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyTW92ZURpcmVjdGlvbigpOlBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbiB7IHJldHVybiB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb247IH1cbiAgICAgICAgcHVibGljIGdldElucHV0TW92ZW1lbnRWZWN0b3IoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yOyB9XG4gICAgICAgIHB1YmxpYyBnZXRJbnB1dE1hZ25pdHVkZVZhbHVlKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuaW5wdXRNYWduaXR1ZGU7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVBpdm90UG9zaXRpb24oKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gICh0aGlzLmNhbWVyYVBpdm90ICE9IG51bGwpID8gdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiA6IG51bGw7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVBpdm90Um90YXRpb24oKTpCQUJZTE9OLlF1YXRlcm5pb24geyByZXR1cm4gKHRoaXMuY2FtZXJhUGl2b3QgIT0gbnVsbCkgPyB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA6IG51bGw7IH1cblxuICAgICAgICAvL3B1YmxpYyBnZXRHcm91bmRIaXQoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuZ3JvdW5kSGl0OyB9XG4gICAgICAgIC8vcHVibGljIGdldEdyb3VuZE5vZGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5ncm91bmROb2RlOyB9XG4gICAgICAgIC8vcHVibGljIGdldEdyb3VuZFBvaW50KCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZ3JvdW5kUG9pbnQ7IH1cbiAgICAgICAgLy9wdWJsaWMgZ2V0R3JvdW5kQW5nbGUoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5ncm91bmRBbmdsZTsgfVxuICAgICAgICAvL3B1YmxpYyBnZXRHcm91bmROb3JtYWwoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5ncm91bmROb3JtYWw7IH1cbiAgICAgICAgLy9wdWJsaWMgZ2V0R3JvdW5kRGlzdGFuY2UoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5ncm91bmREaXN0YW5jZTsgfVxuICAgICAgICAvL3B1YmxpYyBnZXRHcm91bmRDb2xsaXNpb24oKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuZ3JvdW5kQ29sbGlzaW9uOyB9XG5cbiAgICAgICAgcHVibGljIHJheUNsaW1iT2Zmc2V0Om51bWJlciA9IDAuMzU7XG4gICAgICAgIHB1YmxpYyByYXlDbGltYkxlbmd0aDpudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0KCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0Tm9kZSgpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdE5vZGU7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdFBvaW50KCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdEFuZ2xlKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0QW5nbGU7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdE5vcm1hbCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0RGlzdGFuY2UoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3REaXN0YW5jZTsgfTtcbiAgICAgICAgcHVibGljIGNhbkNsaW1iT2JzdGFjbGVQcmVkaWNhdGU6KGFjdGlvbjpudW1iZXIpPT5ib29sZWFuPW51bGw7XG5cbiAgICAgICAgcHVibGljIHJheUhlaWdodE9mZnNldDpudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyByYXlIZWlnaHRMZW5ndGg6bnVtYmVyID0gNi4wO1xuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdCgpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0Tm9kZSgpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3ROb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0UG9pbnQoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3RBbmdsZSgpOm51bWJlciB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3RBbmdsZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdE5vcm1hbCgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3REaXN0YW5jZSgpOm51bWJlciB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3REaXN0YW5jZTsgfTtcblxuICAgICAgICBwdWJsaWMgc2V0R2F2aXR5Rm9yY2UoZ3Jhdml0eTpudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlID0gZ3Jhdml0eTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHcmF2aXR5KHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc2V0RmFsbGluZ1NwZWVkKHZlbG9jaXR5Om51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmFsVmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRGYWxsaW5nU3BlZWQodGhpcy50ZXJtaW5hbFZlbG9jaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgcGh5c2ljc1dvcmxkOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYWJzdHJhY3RNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFEaXN0YW5jZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGZvcndhcmRDYW1lcmE6Ym9vbGVhbiA9IHRydWU7IC8vIE5vdGUgQWx3YXlzIENhbWVyYSBGb3J3YXJkXG4gICAgICAgIHByaXZhdGUgYXZhdGFyUmFkaXVzOm51bWJlciA9IDAuNTtcbiAgICAgICAgcHJpdmF0ZSBncm91bmRpbmdNZXNoOkJBQllMT04uTWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZ3JvdW5kaW5nT2JqZWN0OmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZ3JvdW5kaW5nQ2FsbGJhY2s6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkb2xseURpcmVjdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFFdWxlcnM6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcm90YXRpb25FdWxlcnM6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUGl2b3RPZmZzZXQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRm9yd2FyZFZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFSaWdodFZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBkZXNpcmVkRm9yd2FyZFZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBkZXNpcmVkUmlnaHRWZWN0b3I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgc2NhbGVkQ2FtRGlyZWN0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHNjYWxlZE1heERpcmVjdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnROb2RlUG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgbWF4aW11bUNhbWVyYVBvczpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSB0ZW1wV29ybGRQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcblxuICAgICAgICBwcml2YXRlIGNhbWVyYVJheWNhc3RTaGFwZTphbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGRlZmF1bHRSYXljYXN0R3JvdXA6bnVtYmVyID0gVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyO1xuICAgICAgICBwcml2YXRlIGRlZmF1bHRSYXljYXN0TWFzazpudW1iZXIgPSBVTklUWS5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlcjtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFSYXljYXN0TWFzazpudW1iZXIgPSAoVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyIHwgVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5TdGF0aWNGaWx0ZXIgfCBVTklUWS5Db2xsaXNpb25GaWx0ZXJzLktpbmVtYXRpY0ZpbHRlcik7IC8vIE5vdGU6IEV4Y2x1ZGUgVGhlIFBsYXllciBDaGFyYWN0ZXIgQ29udHJvbGxlciBGcm9tIENhbWVyYSBDb2xsaXNpb25cblxuICAgICAgICBwcml2YXRlIGF2YXRhclNraW5zOkJBQllMT04uQWJzdHJhY3RNZXNoW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYU5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFQaXZvdDpCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIG5hdmlnYXRpb25BZ2VudDpVTklUWS5OYXZpZ2F0aW9uQWdlbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNoYXJhY3RlckNvbnRyb2xsZXI6VU5JVFkuQ2hhcmFjdGVyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdmVydGljYWxWZWxvY2l0eTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1vdmVtZW50U3BlZWQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBpc1J1blByZXNzZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzSnVtcFByZXNzZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyU2xpZGluZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJGYWxsaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlckdyb3VuZGVkOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVySnVtcEZyYW1lOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlckp1bXBpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyUmlzaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3RlckxhbmRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyTmF2aWdhdGluZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbmF2aWdhdGlvbkFuZ3VsYXJTcGVlZDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHVwZGF0ZVN0YXRlUGFyYW1zOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlUGFyYW1zOlBST0pFQ1QuQW5pbWF0aW9uU3RhdGVQYXJhbXMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNwaGVyZUNvbGxpc2lvblNoYXBlOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgaGFzR3JvdW5kZWRDb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcml2YXRlIHNob3dEZWJ1Z0NvbGxpZGVyczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY29sbGlkZXJWaXNpYmlsaXR5Om51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY29sbGlkZXJSZW5kZXJHcm91cDpudW1iZXIgPSAwO1xuXG4gICAgICAgIHByaXZhdGUgZGVsdGFUaW1lOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWluSnVtcFRpbWVyOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZGVsYXlKdW1wVGltZXI6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjYW5QbGF5ZXJKdW1wOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlOlVOSVRZLkFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHByaXZhdGUgcm90YXRpb25WZWxvY2l0eVg6QkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigwLDApO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHJpdmF0ZSByb3RhdGlvblZlbG9jaXR5WTpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdEp1bXBWZWxvY2l0eTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBpbnB1dE1vdmVtZW50VmVjdG9yOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHBsYXllckxvb2tSb3RhdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJSb3RhdGlvblZlY3RvcjpCQUJZTE9OLlZlY3RvcjIgPSBCQUJZTE9OLlZlY3RvcjIuWmVybygpO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdmVtZW50VmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyUm90YXRpb25RdWF0ZXJuaW9uOkJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTW92ZURpcmVjdGlvbjpQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RhdGlvbmFyeTtcblxuICAgICAgICAvL3ByaXZhdGUgZ3JvdW5kSGl0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgLy9wcml2YXRlIGdyb3VuZE5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgLy9wcml2YXRlIGdyb3VuZEFuZ2xlOm51bWJlciA9IDA7XG4gICAgICAgIC8vcHJpdmF0ZSBncm91bmRQb2ludDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgLy9wcml2YXRlIGdyb3VuZE5vcm1hbDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgLy9wcml2YXRlIGdyb3VuZERpc3RhbmNlOm51bWJlciA9IDA7XG4gICAgICAgIC8vcHJpdmF0ZSBncm91bmRDb2xsaXNpb246Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAvL3ByaXZhdGUgZ3JvdW5kVmVsb2NpdHk6bnVtYmVyID0gMDtcbiAgICAgICAgLy9wcml2YXRlIGdyb3VuZFNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgb2Zmc2V0R3JvdW5kUmF5Y2FzdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAvL3ByaXZhdGUgc3RhcnRHcm91bmRSYXljYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIC8vcHJpdmF0ZSBlbmRHcm91bmRSYXljYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBmb3J3YXJkRGlyZWN0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDEpO1xuICAgICAgICBwcml2YXRlIGRvd25EaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLC0xLDApO1xuXG4gICAgICAgIHByaXZhdGUgY2xpbWJDb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3ROb2RlOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2xpbWJDb250YWN0QW5nbGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3RQb2ludDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3ROb3JtYWw6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgY2xpbWJDb250YWN0RGlzdGFuY2U6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjbGltYlNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG9mZnNldENsaW1iUmF5Y2FzdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgZW5kQ2xpbWJSYXljYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0Tm9kZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3RBbmdsZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3RQb2ludDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0Tm9ybWFsOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3REaXN0YW5jZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGhlaWdodFNlbnNvckxpbmU6VU5JVFkuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG9mZnNldEhlaWdodFJheWNhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBzdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBlbmRIZWlnaHRSYXljYXN0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fdmVsb2NpdHlPZmZzZXQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2FjdHVhbFZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9saW5lYXJWZWxvY2l0eTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fbGFzdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9wb3NpdGlvbkNlbnRlcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fc2NhbGVkVmVsb2NpdHk6bnVtYmVyID0gMDtcbiAgICAgICAgcHJvdGVjdGVkIHBsYXllckRyYXdWZWxvY2l0eTpudW1iZXIgPSAwO1xuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHByb3BlcnRpZXM/OiBhbnkpIHtcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgc2NlbmUsIHByb3BlcnRpZXMpO1xuICAgICAgICB9ICAgICAgICBcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7IHRoaXMuYXdha2VQbGF5ZXJDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyB0aGlzLnN0YXJ0UGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHsgdGhpcy5hZnRlclBsYXllckNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQgeyB0aGlzLnVwZGF0ZVBsYXllckNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95UGxheWVyQ29udHJvbGxlcigpOyB9XG5cbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYmVmb3JlIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUHJlVXBkYXRlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgbW92ZW1lbnQgaGFzIGJlZW4gYXBwbGllZCAqL1xuICAgICAgICBwdWJsaWMgb25CZWZvcmVNb3ZlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBhZnRlciB0aGUgY29udHJvbGxlciBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblBvc3RVcGRhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGFmdGVyIHBsYXllciBpbnB1dCBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblBsYXllcklucHV0T2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHBsYXllciBwb3NpdGlvbiBzaG91bGQgYmUgdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25QbGF5ZXJQb3NpdGlvbk9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgcGVyZm9ybWluZyBhY3Rpb24gaGFzIGJlZW4gdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGFmdGVyIGFuaW1hdGlvbiBzdGF0ZSBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvbkFuaW1hdGlvblN0YXRlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFJvb3QgTW90aW9uIEFuaW1hdGlvbiBTeXN0ZW1cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIF9kZWx0YU1vdGlvblBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwdWJsaWMgZ2V0RGVsdGFNb3Rpb25Qb3NpdGlvbigpOkJBQllMT04uVmVjdG9yMyB7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdE1vdGlvblBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IHRoaXMuYW5pbWF0aW9uU3RhdGUuZ2V0RGVsdGFSb290TW90aW9uUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocm9vdE1vdGlvblBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IENhbGN1bGF0ZSBEZWx0YSBSb290IE1vdGlvbiBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uLmNvcHlGcm9tKHJvb3RNb3Rpb25Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbHRhTW90aW9uUG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZWx0YU1vdGlvblJvdGF0aW9uOkJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMCk7XG4gICAgICAgIHB1YmxpYyBnZXREZWx0YU1vdGlvblJvdGF0aW9uKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbHRhTW90aW9uUm90YXRpb24uc2V0KDAsMCwwLDApO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RNb3Rpb25Sb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldERlbHRhUm9vdE1vdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RNb3Rpb25Sb3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBDYWxjdWxhdGUgRGVsdGEgUm9vdCBNb3Rpb24gUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Sb3RhdGlvbi5jb3B5RnJvbShyb290TW90aW9uUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWx0YU1vdGlvblJvdGF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQmxvY2tpbmcgQWN0aW9uIEFuaW1hdGlvbiBTeXN0ZW1cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGlzUGVyZm9ybWluZ0FjdGlvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNSb290TW90aW9uQWN0aW9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0FjdGlvbkludGVycnVwdGFibGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGFmdGVyQWN0aW9uSGFuZGxlcjpGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcGVyZm9ybUFjdGlvblRpbWVyOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGVyZm9ybUFjdGlvbk51bWJlcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uU3BlZWQ6bnVtYmVyID0gMTA7XG4gICAgICAgIHByaXZhdGUgcm90YXRlUGxheWVyVG93YXJkczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hTdGFydFRpbWU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFRhcmdldFRpbWU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFRhcmdldE9mZnNldDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1hdGNoVGFyZ2V0SGVpZ2h0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBsb2NrVGFyZ2V0SGVpZ2h0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U3RhcnRIZWlnaHQ6QkFCWUxPTi5OdWxsYWJsZTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0VGFyZ2V0SGVpZ2h0OkJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbGFzdFRhcmdldE5vcm1hbDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0VGFyZ2V0Um90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0RGVsdGFQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0RGVsdGFSb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICBwdWJsaWMgZ2V0SXNQZXJmb3JtaW5nQWN0aW9uKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SXNSb290TW90aW9uQWN0aW9uKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SXNBY3Rpb25JbnRlcnJ1cHRhYmxlKCk6Ym9vbGVhbiB7IHJldHVybiB0aGlzLmlzQWN0aW9uSW50ZXJydXB0YWJsZTsgfVxuICAgICAgICBwdWJsaWMgcGxheUFjdGlvbkFuaW1hdGlvbihhY3Rpb246bnVtYmVyLCBpbnRlcnJ1cHRhYmxlQWN0aW9uOmJvb2xlYW49dHJ1ZSwgZW5hYmxlUm9vdE1vdGlvbjpib29sZWFuPWZhbHNlLCBhZnRlckFjdGlvbkNvbXBsZXRlOigpPT52b2lkPW51bGwpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSBmYWxzZSAmJiB0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgYWN0aW9uID49IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybUFjdGlvbk51bWJlciA9IGFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmFmdGVyQWN0aW9uSGFuZGxlciA9IGFmdGVyQWN0aW9uQ29tcGxldGU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPSBpbnRlcnJ1cHRhYmxlQWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID0gZW5hYmxlUm9vdE1vdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uU3BlZWQgPSAxMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldE5vcm1hbC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uLnNldCgwLDAsMCwxKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1Jvb3RNb3Rpb25BY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmFibGVDaGFyYWN0ZXJDb250cm9sbGVyKGZhbHNlKTsgLy8gTm90ZTogRGlzYWJsZSBDaGFyYWN0ZXIgQ29udHJvbGxlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUucmVzZXRTbW9vdGhQcm9wZXJ0eShQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5QTEFZRVJfSEVJR0hUKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHJlc2V0QWN0aW9uQW5pbWF0aW9uU3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFmdGVyQWN0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHsgdGhpcy5hZnRlckFjdGlvbkhhbmRsZXIoKTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSb290TW90aW9uQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmFibGVDaGFyYWN0ZXJDb250cm9sbGVyKHRydWUpOyAvLyBOb3RlOiBFbmFibGUgQ2hhcmFjdGVyIENvbnRyb2xsZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnJlc2V0U21vb3RoUHJvcGVydHkoUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuUExBWUVSX0hFSUdIVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciA9IDA7XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25OdW1iZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQWN0aW9uSW50ZXJydXB0YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hZnRlckFjdGlvbkhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblNwZWVkID0gMTA7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hTdGFydFRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldFRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldE9mZnNldCA9IDA7XG4gICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmxvY2tUYXJnZXRIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXROb3JtYWwuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uLnNldCgwLDAsMCwxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQW5pbWF0aW9uQWN0aW9uU3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTpudW1iZXIgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgY29uc3QgZGFtcFRpbWU6bnVtYmVyID0gKHRoaXMubWF0Y2hUYXJnZXRUaW1lIC0gdGhpcy5tYXRjaFN0YXJ0VGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyR2xvYmFsSGVpZ2h0Om51bWJlciA9IHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuZ2V0RGVsdGFNb3Rpb25Qb3NpdGlvbigpKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5sYXN0RGVsdGFQb3NpdGlvbiwgdGhpcy50cmFuc2Zvcm0uZ2V0V29ybGRNYXRyaXgoKSwgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWF0Y2hUYXJnZXRIZWlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID09IG51bGwgJiYgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPj0gdGhpcy5tYXRjaFN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0U3RhcnRIZWlnaHQgPSBwbGF5ZXJHbG9iYWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnJlc2V0U21vb3RoUHJvcGVydHkoUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuUExBWUVSX0hFSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCI+Pj4gU3RhcnQgR2xvYmFsIEhlaWdodDogXCIgKyB0aGlzLmxhc3RTdGFydEhlaWdodCArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdFN0YXJ0SGVpZ2h0ICE9IG51bGwgJiYgdGhpcy5sYXN0VGFyZ2V0SGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXhlZFRhcmdldEhlaWdodDpudW1iZXIgPSAodGhpcy5sYXN0VGFyZ2V0SGVpZ2h0ICsgdGhpcy5tYXRjaFRhcmdldE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPCB0aGlzLm1hdGNoVGFyZ2V0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQoUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuUExBWUVSX0hFSUdIVCwgZml4ZWRUYXJnZXRIZWlnaHQsIGRhbXBUaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtb290aFBsYXllckhlaWdodDpudW1iZXIgPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldEZsb2F0KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSA9IChzbW9vdGhQbGF5ZXJIZWlnaHQgLSBwbGF5ZXJHbG9iYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIj4+PiBMZXJwIFRhcmdldCBEZWx0YTogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubG9ja1RhcmdldEhlaWdodCA9PT0gZmFsc2UgJiYgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPj0gdGhpcy5tYXRjaFRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAoZml4ZWRUYXJnZXRIZWlnaHQgLSBwbGF5ZXJHbG9iYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IExhc3QgR2xvYmFsIERlbHRhOiBcIiArIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciArIFwiIC0tLT4gTWF0Y2ggVGFyZ2V0IFRpbWU6IFwiICsgdGhpcy5tYXRjaFRhcmdldFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgUm9vdCBNb3Rpb24gVG8gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueCA9IDA7IC8vIEZJWE1FOiBBcHBseSBSb3RhdGlvbiBZIERpZmZlcmVuY2UgRmFjdG9yIEZyb20gVW5pdHlcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAwOyAvLyBGSVhNRTogQXBwbHkgUm90YXRpb24gWSBEaWZmZXJlbmNlIEZhY3RvciBGcm9tIFVuaXR5XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmxhc3REZWx0YVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlBsYXllciBBY3Rpb24gSGVpZ2h0OiBcIiArIHBsYXllckdsb2JhbEhlaWdodCArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDdXJyZW50IERlbHRhIEhlaWdodDogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgUm9vdCBNb3Rpb24gVG8gUm90YXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXROb3JtYWwuc2V0KC10aGlzLmNsaW1iQ29udGFjdE5vcm1hbC54LCAtdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwueSwgLXRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkxvb2tSb3RhdGlvblRvUmVmKHRoaXMubGFzdFRhcmdldE5vcm1hbCwgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVycEFtb3VudDpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLnBsYXllclJvdGF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYodGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCB0aGlzLmxhc3RUYXJnZXRSb3RhdGlvbiwgbGVycEFtb3VudCwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDbGltYiBUYXJnZXQgUm90YXRpb246IFwiICsgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFSb3RhdGlvbi5jb3B5RnJvbSh0aGlzLmdldERlbHRhTW90aW9uUm90YXRpb24oKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5tdWx0aXBseUluUGxhY2UodGhpcy5sYXN0RGVsdGFSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgKz0gZGVsdGFUaW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQ29udHJvbGxlciBBdHRhY2htZW50IEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBTZXQgdGhlIHBsYXllciB3b3JsZCBwb3NpdGlvbiAqL1xuICAgICAgICBwdWJsaWMgc2V0V29ybGRQb3NpdGlvbih4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXQoeCx5LHopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIGF0dGFjaFBsYXllckNhbWVyYShwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckNhbWVyYTpudW1iZXIgPSAocGxheWVyIDw9IDAgfHwgcGxheWVyID4gNCkgPyAxIDogcGxheWVyO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRDYW1lcmFUcmFuc2Zvcm0odGhpcy5zY2VuZSwgcGxheWVyQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnBhcmVudCA9IHRoaXMuY2FtZXJhUGl2b3Q7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmJvb21Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZS5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBhY3R1YWxDYW1lcmE6QkFCWUxPTi5Vbml2ZXJzYWxDYW1lcmEgPSBTTS5GaW5kU2NlbmVDYW1lcmFSaWcodGhpcy5jYW1lcmFOb2RlKSBhcyBCQUJZTE9OLlVuaXZlcnNhbENhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGFjdHVhbENhbWVyYSAhPSBudWxsKSBhY3R1YWxDYW1lcmEucm90YXRpb25RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyhCQUJZTE9OLlRvb2xzLlRvUmFkaWFucygzMCksMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIE1vdmUgc29tZXdoZXJlIGJldHRlciAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gSGFuZGxlIExvbmcgSW50aXRpYWwgQ2FtZXJhIFBhbiAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYURpc3RhbmNlID0gdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9sbHlEaXJlY3Rpb24ubm9ybWFsaXplKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGxvY2F0ZSBwbGF5ZXIgY2FtZXJhIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pa0xlZnRDb250cm9sbGVyOkJBQllMT04uQm9uZUlLQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrTGVmdEZvb3RUYXJnZXQ6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaWtMZWZ0UG9sZVRhcmdldDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0Q29udHJvbGxlcjpCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0Rm9vdFRhcmdldDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0UG9sZVRhcmdldDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgYWJzdHJhY3RTa2luTWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcm9vdEJvbmVUcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgbGVmdEZvb3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFBvbGVQb3M6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgbGVmdEZvb3RCZW5kQXhpczpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFBvbGVBbmdsZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290TWF4QW5nbGU6bnVtYmVyID0gMTgwO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdFRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgcmlnaHRGb290UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmlnaHRGb290UG9sZVBvczpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RCZW5kQXhpczpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RQb2xlQW5nbGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RNYXhBbmdsZTpudW1iZXIgPSAxODA7XG5cbiAgICAgICAgcHVibGljIGdldExlZnRGb290VGFyZ2V0KCk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQ7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0Rm9vdFRhcmdldCgpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldDsgfVxuICAgICAgICBwdWJsaWMgZ2V0TGVmdEZvb3RDb250cm9sbGVyKCk6QkFCWUxPTi5Cb25lSUtDb250cm9sbGVyIHsgcmV0dXJuIHRoaXMuX2lrTGVmdENvbnRyb2xsZXI7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0Rm9vdENvbnRyb2xsZXIoKTpCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgeyByZXR1cm4gdGhpcy5faWtSaWdodENvbnRyb2xsZXI7IH1cbiAgICAgICAgcHVibGljIGF0dGFjaEJvbmVDb250cm9sbGVycygpOnZvaWQge1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheUhhbmRsZXM6Ym9vbGVhbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkaXNwbGF5SGFuZGxlc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IGFic3RyYWN0U2tpbk1lc2hEYXRhOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhYnN0cmFjdFNraW5NZXNoXCIpO1xuICAgICAgICAgICAgaWYgKGFic3RyYWN0U2tpbk1lc2hEYXRhICE9IG51bGwpIHRoaXMuYWJzdHJhY3RTa2luTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGFic3RyYWN0U2tpbk1lc2hEYXRhLm5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgY29uc3Qgcm9vdEJvbmVUcmFuc2Zvcm1EYXRhOlVOSVRZLklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb290Qm9uZVRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGlmIChyb290Qm9uZVRyYW5zZm9ybURhdGEgIT0gbnVsbCkgdGhpcy5yb290Qm9uZVRyYW5zZm9ybSA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJvb3RCb25lVHJhbnNmb3JtRGF0YS5uYW1lLCBVTklUWS5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBsZWZ0Rm9vdFRyYW5zZm9ybURhdGE6VU5JVFkuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290VHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRGb290VHJhbnNmb3JtRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290VHJhbnNmb3JtID0gdGhpcy5nZXRDaGlsZE5vZGUobGVmdEZvb3RUcmFuc2Zvcm1EYXRhLm5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL2NvbnN0IGxlZnRGb290UG9zaXRpb25EYXRhOlVOSVRZLklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RQb3NpdGlvblwiKTtcbiAgICAgICAgICAgIC8vaWYgKGxlZnRGb290UG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMubGVmdEZvb3RQb3NpdGlvbi5jb3B5RnJvbShVTklUWS5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGxlZnRGb290UG9zaXRpb25EYXRhKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGxlZnRQb2xlSGFuZGxlRGF0YTpVTklUWS5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290UG9sZVBvc1wiKTtcbiAgICAgICAgICAgIGlmIChsZWZ0UG9sZUhhbmRsZURhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdFBvbGVQb3MuY29weUZyb20oVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhsZWZ0UG9sZUhhbmRsZURhdGEpKTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRCZW5kQXhpc0RhdGE6VU5JVFkuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdEJlbmRBeGlzXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRCZW5kQXhpc0RhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdEJlbmRBeGlzLmNvcHlGcm9tKFVOSVRZLlV0aWxpdGllcy5QYXJzZVZlY3RvcjMobGVmdEJlbmRBeGlzRGF0YSkpO1xuICAgICAgICAgICAgdGhpcy5sZWZ0Rm9vdFBvbGVBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdFBvbGVBbmdsZVwiLCB0aGlzLmxlZnRGb290UG9sZUFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubGVmdEZvb3RNYXhBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdE1heEFuZ2xlXCIsIHRoaXMubGVmdEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcmlnaHRGb290VHJhbnNmb3JtRGF0YTpVTklUWS5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290VHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Rm9vdFRyYW5zZm9ybURhdGEgIT0gbnVsbCkgdGhpcy5yaWdodEZvb3RUcmFuc2Zvcm0gPSB0aGlzLmdldENoaWxkTm9kZShyaWdodEZvb3RUcmFuc2Zvcm1EYXRhLm5hbWUsIFVOSVRZLlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL2NvbnN0IHJpZ2h0Rm9vdFBvc2l0aW9uRGF0YTpVTklUWS5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdFBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgLy9pZiAocmlnaHRGb290UG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMucmlnaHRGb290UG9zaXRpb24uY29weUZyb20oVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodEZvb3RQb3NpdGlvbkRhdGEpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmlnaHRQb2xlSGFuZGxlRGF0YTpVTklUWS5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdFBvbGVQb3NcIik7XG4gICAgICAgICAgICBpZiAocmlnaHRQb2xlSGFuZGxlRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdFBvbGVQb3MuY29weUZyb20oVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodFBvbGVIYW5kbGVEYXRhKSk7XG4gICAgICAgICAgICBjb25zdCByaWdodEJlbmRBeGlzRGF0YTpVTklUWS5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdEJlbmRBeGlzXCIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0QmVuZEF4aXNEYXRhICE9IG51bGwpIHRoaXMucmlnaHRGb290QmVuZEF4aXMuY29weUZyb20oVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodEJlbmRBeGlzRGF0YSkpO1xuICAgICAgICAgICAgdGhpcy5yaWdodEZvb3RQb2xlQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290UG9sZUFuZ2xlXCIsIHRoaXMucmlnaHRGb290UG9sZUFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMucmlnaHRGb290TWF4QW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290TWF4QW5nbGVcIiwgdGhpcy5yaWdodEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuYWJzdHJhY3RTa2luTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGVyaWFsTmFtZTpzdHJpbmcgPSBcIk1fVEFSR0VUX01FU0hcIjtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TWF0ZXJpYWw6QkFCWUxPTi5NYXRlcmlhbCA9IHRoaXMuc2NlbmUuZ2V0TWF0ZXJpYWxCeU5hbWUobWF0ZXJpYWxOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TWF0ZXJpYWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJNX1RBUkdFVF9NRVNIXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAoPEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbD50YXJnZXRNYXRlcmlhbCkuZGlmZnVzZUNvbG9yID0gbmV3IEJBQllMT04uQ29sb3IzKDEuMCwgMC41LCAwLjI1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IEZvb3QgQ29udHJvbGxlclxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGVmdEZvb3RUcmFuc2Zvcm0gIT0gbnVsbCAmJiAoPGFueT50aGlzLmxlZnRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTGVmdEZvb3RUYXJnZXRcIiwge3dpZHRoOiAwLjEsIGhlaWdodDowLjEsIGRlcHRoOjAuMX0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRGb290VGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9pa0xlZnRGb290VGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMubGVmdEZvb3RQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa0xlZnRGb290VGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQubWF0ZXJpYWwgPSB0YXJnZXRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQuaXNWaXNpYmxlID0gZGlzcGxheUhhbmRsZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5MZWZ0Rm9vdFBvbGVcIiwge2RpYW1ldGVyOiAwLjE1fSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMubGVmdEZvb3RQb2xlUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa0xlZnRDb250cm9sbGVyID0gbmV3IEJBQllMT04uQm9uZUlLQ29udHJvbGxlcih0aGlzLmFic3RyYWN0U2tpbk1lc2gsICg8YW55PnRoaXMubGVmdEZvb3RUcmFuc2Zvcm0pLl9saW5rZWRCb25lLCB7dGFyZ2V0TWVzaDp0aGlzLl9pa0xlZnRGb290VGFyZ2V0LCBwb2xlVGFyZ2V0TWVzaDp0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LCBwb2xlQW5nbGU6QkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5sZWZ0Rm9vdFBvbGVBbmdsZSksIGJlbmRBeGlzOnRoaXMubGVmdEZvb3RCZW5kQXhpc30pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa0xlZnRDb250cm9sbGVyLm1heEFuZ2xlID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5sZWZ0Rm9vdE1heEFuZ2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSaWdodCBGb290IENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSAhPSBudWxsICYmICg8YW55PnRoaXMucmlnaHRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJpZ2h0Rm9vdFRhcmdldFwiLCB7d2lkdGg6IDAuMSwgaGVpZ2h0OjAuMSwgZGVwdGg6MC4xfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnJpZ2h0Rm9vdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0Lm1hdGVyaWFsID0gdGFyZ2V0TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SaWdodEZvb3RQb2xlXCIsIHtkaWFtZXRlcjogMC4xNX0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldC5wYXJlbnQgPSB0aGlzLmFic3RyYWN0U2tpbk1lc2g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucmlnaHRGb290UG9sZVBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlciA9IG5ldyBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIodGhpcy5hYnN0cmFjdFNraW5NZXNoLCAoPGFueT50aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSkuX2xpbmtlZEJvbmUsIHt0YXJnZXRNZXNoOnRoaXMuX2lrUmlnaHRGb290VGFyZ2V0LCBwb2xlVGFyZ2V0TWVzaDp0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCwgcG9sZUFuZ2xlOkJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMucmlnaHRGb290UG9sZUFuZ2xlKSwgYmVuZEF4aXM6dGhpcy5yaWdodEZvb3RCZW5kQXhpc30pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlci5tYXhBbmdsZSA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMucmlnaHRGb290TWF4QW5nbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIGF0dGFjaEFuaW1hdGlvbkNvbnRyb2xsZXIoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gdGhpcy5nZXRDb21wb25lbnQoXCJVTklUWS5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbk5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5nZXRDaGlsZFdpdGhTY3JpcHQoXCJVTklUWS5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbk5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IFVOSVRZLlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KGFuaW1hdGlvbk5vZGUsIFwiVU5JVFkuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsZWQgdG8gbG9jYXRlIGFuaW1hdG9yIG5vZGUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLm9uQW5pbWF0aW9uRW5kT2JzZXJ2YWJsZS5hZGQoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQW5pbWF0aW9uIEVuZDogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5vbkFuaW1hdGlvblVwZGF0ZU9ic2VydmFibGUuYWRkKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlLmlrRnJhbWVFbmFibGVkKCkgPT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFVwZGF0ZSB0YXJnZXQgbWVzaCBwb3NpdGlvbiBXaGVuIEdyb3VuZGVkIC0gVXNlIFJheWNhc3QgLSA/Pz9cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrTGVmdENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdENvbnRyb2xsZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtSaWdodENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRDb250cm9sbGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcihzdGF0ZTpib29sZWFuKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBbGxvd2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vLy90aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc3luY0dob3N0VG9UcmFuc2Zvcm1Qb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAvLy8vdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnN5bmNNb3ZlbWVudFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vLy90aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc3luY1RyYW5zZm9ybVRvR2hvc3RQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R3Jhdml0eSh0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRGYWxsaW5nU3BlZWQodGhpcy50ZXJtaW5hbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdob3N0Q29sbGlzaW9uU3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50QWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQbGF5ZXJKdW1waW5nU3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdyYXZpdHkoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRGYWxsaW5nU3BlZWQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHaG9zdENvbGxpc2lvblN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8vL3RoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zeW5jR2hvc3RUb1RyYW5zZm9ybVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBUT0RPICovXG4gICAgICAgIHB1YmxpYyByZXNldFBsYXllclJvdGF0aW9uKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb25FdWxlcnMpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ID0gdGhpcy5yb3RhdGlvbkV1bGVycy54O1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55ID0gdGhpcy5yb3RhdGlvbkV1bGVycy55O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1pbkp1bXBUaW1lciA9IDA7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5qdW1wKDApOyAvLyBOb3RlOiBaZXJvIEp1bXAgU3BlZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIENvbnRyb2xsZXIgV29ya2VyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgYXdha2VQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwiZ3Jhdml0YXRpb25hbEZvcmNlXCIsIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMudGVybWluYWxWZWxvY2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXJtaW5hbFZlbG9jaXR5XCIsIHRoaXMudGVybWluYWxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZUNhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb3RhdGVDYW1lcmFcIiwgdGhpcy5yb3RhdGVDYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZVdoZWVsID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdXNlV2hlZWxcIiwgdGhpcy5tb3VzZVdoZWVsKTtcbiAgICAgICAgICAgIC8vdGhpcy5ub3JtYWxBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJub3JtYWxBbmdsZVwiLCB0aGlzLm5vcm1hbEFuZ2xlKTtcbiAgICAgICAgICAgIC8vdGhpcy5yYWRpdXNTY2FsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYWRpdXNTY2FsZVwiLCB0aGlzLnJhZGl1c1NjYWxlKTtcbiAgICAgICAgICAgIC8vdGhpcy5yYXlMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5TGVuZ3RoXCIsIHRoaXMucmF5TGVuZ3RoKTtcbiAgICAgICAgICAgIC8vdGhpcy5yYXlPcmlnaW4gPSB0aGlzLmdldFByb3BlcnR5KFwicmF5T3JpZ2luXCIsIHRoaXMucmF5T3JpZ2luKTtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0aW9uUmFkaXVzID0gdGhpcy5nZXRQcm9wZXJ0eShcImRldGVjdGlvblJhZGl1c1wiLCB0aGlzLmRldGVjdGlvblJhZGl1cyk7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInZlcnRpY2FsT2Zmc2V0XCIsIHRoaXMudmVydGljYWxPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5mb3J3YXJkT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImZvcndhcmRPZmZzZXRcIiwgdGhpcy5mb3J3YXJkT2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMucmF5Q2xpbWJMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5Q2xpbWJMZW5ndGhcIiwgdGhpcy5yYXlDbGltYkxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnJheUNsaW1iT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUNsaW1iT2Zmc2V0XCIsIHRoaXMucmF5Q2xpbWJPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5yYXlIZWlnaHRMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5SGVpZ2h0TGVuZ3RoXCIsIHRoaXMucmF5SGVpZ2h0TGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucmF5SGVpZ2h0T2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUhlaWdodE9mZnNldFwiLCB0aGlzLnJheUhlaWdodE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLm1heEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEFuZ2xlXCIsIHRoaXMubWF4QW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5sYW5kaW5nRXBzaWxvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsYW5kaW5nRXBzaWxvblwiLCB0aGlzLmxhbmRpbmdFcHNpbG9uKTtcbiAgICAgICAgICAgIHRoaXMubWluRmFsbFZlbG9jaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pbkZhbGxWZWxvY2l0eVwiLCB0aGlzLm1pbkZhbGxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLmFpcmJvcm5UaW1lb3V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImFpcmJvcm5UaW1lb3V0XCIsIHRoaXMuYWlyYm9yblRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5yb290TW90aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvb3RNb3Rpb25cIiwgdGhpcy5yb290TW90aW9uKTtcbiAgICAgICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdmVTcGVlZFwiLCB0aGlzLm1vdmVTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLndhbGtTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3YWxrU3BlZWRcIiwgdGhpcy53YWxrU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5sb29rU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG9va1NwZWVkXCIsIHRoaXMubG9va1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuanVtcFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImp1bXBTcGVlZFwiLCB0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmp1bXBEZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJqdW1wRGVsYXlcIiwgdGhpcy5qdW1wRGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5leWVzSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImV5ZXNIZWlnaHRcIiwgdGhpcy5leWVzSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucGl2b3RIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwicGl2b3RIZWlnaHRcIiwgdGhpcy5waXZvdEhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heERpc3RhbmNlXCIsIHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzY3JvbGxTcGVlZFwiLCB0aGlzLnNjcm9sbFNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudG9wTG9va0xpbWl0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInRvcExvb2tMaW1pdFwiLCB0aGlzLnRvcExvb2tMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLmRvd25Mb29rTGltaXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZG93bkxvb2tMaW1pdFwiLCB0aGlzLmRvd25Mb29rTGltaXQpO1xuICAgICAgICAgICAgdGhpcy5sb3dUdXJuU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG93VHVyblNwZWVkXCIsIHRoaXMubG93VHVyblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaFR1cm5TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoVHVyblNwZWVkXCIsIHRoaXMuaGlnaFR1cm5TcGVlZCk7XG4gICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogdGhpcy5zbW9vdGhpbmdTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhpbmdTcGVlZFwiLCB0aGlzLnNtb290aGluZ1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlSW5wdXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlSW5wdXRcIiwgdGhpcy5lbmFibGVJbnB1dCk7XG4gICAgICAgICAgICB0aGlzLnBsYXllck51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5ZXJOdW1iZXJcIiwgdGhpcy5wbGF5ZXJOdW1iZXIpXG4gICAgICAgICAgICB0aGlzLmF0dGFjaENhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdHRhY2hDYW1lcmFcIiwgdGhpcy5hdHRhY2hDYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5mcmVlTG9va2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcmVlTG9va2luZ1wiLCB0aGlzLmZyZWVMb29raW5nKTtcbiAgICAgICAgICAgIHRoaXMucnVuS2V5UmVxdWlyZWQgPSB0aGlzLmdldFByb3BlcnR5KFwicnVuS2V5UmVxdWlyZWRcIiwgdGhpcy5ydW5LZXlSZXF1aXJlZCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbGxpc2lvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhQ29sbGlzaW9uc1wiLCB0aGlzLmNhbWVyYUNvbGxpc2lvbnMpXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVNtb290aGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjYW1lcmFTbW9vdGhpbmdcIiwgdGhpcy5jYW1lcmFTbW9vdGhpbmcpXG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImRpc3RhbmNlRmFjdG9yXCIsIHRoaXMuZGlzdGFuY2VGYWN0b3IpXG4gICAgICAgICAgICB0aGlzLm1pbmltdW1EaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5pbXVtRGlzdGFuY2VcIiwgdGhpcy5taW5pbXVtRGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhNb3Rpb25UaW1lID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aE1vdGlvblRpbWVcIiwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aElucHV0VmVjdG9yc1wiLCB0aGlzLnNtb290aElucHV0VmVjdG9ycyk7XG4gICAgICAgICAgICB0aGlzLnNtb290aEFjY2VsZXJhdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhBY2NlbGVyYXRpb25cIiwgdGhpcy5zbW9vdGhBY2NlbGVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5hY2NlbGVyYXRpb25TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhY2NlbGVyYXRpb25TcGVlZFwiLCB0aGlzLmFjY2VsZXJhdGlvblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiZGVjZWxlcmF0aW9uU3BlZWRcIiwgdGhpcy5kZWNlbGVyYXRpb25TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iVm9sdW1lVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcImNsaW1iVm9sdW1lVGFnXCIsIHRoaXMuY2xpbWJWb2x1bWVUYWcpO1xuICAgICAgICAgICAgdGhpcy52YXVsdFZvbHVtZVRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ2YXVsdFZvbHVtZVRhZ1wiLCB0aGlzLnZhdWx0Vm9sdW1lVGFnKTtcbiAgICAgICAgICAgIHRoaXMudXNlQ2xpbWJTeXN0ZW0gPSB0aGlzLmdldFByb3BlcnR5KFwidXNlQ2xpbWJTeXN0ZW1cIiwgdGhpcy51c2VDbGltYlN5c3RlbSk7XG4gICAgICAgICAgICB0aGlzLm1heEhlaWdodFJhbmdlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhIZWlnaHRSYW5nZXNcIiwgdGhpcy5tYXhIZWlnaHRSYW5nZXMpO1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVUcmlnZ2VyVGFncyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpZ25vcmVUcmlnZ2VyVGFnc1wiLCB0aGlzLmlnbm9yZVRyaWdnZXJUYWdzKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGVQYXJhbXMgPSB0aGlzLmdldFByb3BlcnR5KFwidXBkYXRlU3RhdGVQYXJhbXNcIiwgdGhpcy51cGRhdGVTdGF0ZVBhcmFtcyk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0gdGhpcy5nZXRQcm9wZXJ0eShcImFuaW1hdGlvblN0YXRlUGFyYW1zXCIsIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5wb3N0TmV0d29ya0F0dHJpYnV0ZXMgPSB0aGlzLmdldFByb3BlcnR5KFwicG9zdE5ldHdvcmtBdHRyaWJ1dGVzXCIsIHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBhcnJvd0tleVJvdGF0aW9uOmJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwiYXJyb3dLZXlSb3RhdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChhcnJvd0tleVJvdGF0aW9uID09PSB0cnVlKSBVTklUWS5Vc2VySW5wdXRPcHRpb25zLlVzZUFycm93S2V5Um90YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGJvb21Qb3NpdGlvbkRhdGE6YW55ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvb21Qb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChib29tUG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMuYm9vbVBvc2l0aW9uID0gVU5JVFkuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhib29tUG9zaXRpb25EYXRhKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBzcGhlcmVSYWRpdXM6bnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInNwaGVyZVJhZGl1c1wiLCAwLjUpXG4gICAgICAgICAgICAvL3RoaXMuY2FtZXJhUmF5Y2FzdFNoYXBlID0gVU5JVFkuUmlnaWRib2R5UGh5c2ljcy5DcmVhdGVQaHlzaWNzU3BoZXJlU2hhcGUoc3BoZXJlUmFkaXVzKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmFic3RyYWN0TWVzaCA9IHRoaXMuZ2V0QWJzdHJhY3RNZXNoKCk7XG4gICAgICAgICAgICB0aGlzLnNob3dEZWJ1Z0NvbGxpZGVycyA9IFVOSVRZLlV0aWxpdGllcy5TaG93RGVidWdDb2xsaWRlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXJWaXNpYmlsaXR5ID0gVU5JVFkuVXRpbGl0aWVzLkNvbGxpZGVyVmlzaWJpbGl0eSgpO1xuICAgICAgICAgICAgdGhpcy5jb2xsaWRlclJlbmRlckdyb3VwID0gVU5JVFkuVXRpbGl0aWVzLkNvbGxpZGVyUmVuZGVyR3JvdXAoKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRQbGF5ZXJSb3RhdGlvbigpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3NXb3JsZCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuR2V0UGh5c2ljc1dvcmxkKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUoXCJHcm91bmRpbmdNZXNoXCIsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHRoaXMuZGV0ZWN0aW9uUmFkaXVzICogMiksIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLnNldFBhcmVudCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZGluZ01lc2gucG9zaXRpb24uc2V0KDAsICh0aGlzLnZlcnRpY2FsT2Zmc2V0ICogMiksICh0aGlzLmZvcndhcmRPZmZzZXQgKiAyKSk7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZGluZ01lc2gucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nTWVzaC5tYXRlcmlhbCA9IFVOSVRZLlV0aWxpdGllcy5HZXRDb2xsaWRlck1hdGVyaWFsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLmlzVmlzaWJsZSA9IHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLnZpc2liaWxpdHkgPSB0aGlzLmNvbGxpZGVyVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nTWVzaC5yZW5kZXJpbmdHcm91cElkID0gdGhpcy5jb2xsaWRlclJlbmRlckdyb3VwO1xuICAgICAgICAgICAgVU5JVFkuUmlnaWRib2R5UGh5c2ljcy5DcmVhdGVQaHlzaWNzSW1wb3N0b3IodGhpcy5zY2VuZSwgdGhpcy5ncm91bmRpbmdNZXNoLCBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5TcGhlcmVJbXBvc3RvciwgeyBtYXNzOiAwIH0pO1xuICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLnBoeXNpY3NJbXBvc3Rvci5leGVjdXRlTmF0aXZlRnVuY3Rpb24oKHdvcmQ6YW55LCBib2R5OmFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nT2JqZWN0ID0gQW1tby5jYXN0T2JqZWN0KGJvZHksIEFtbW8uYnRDb2xsaXNpb25PYmplY3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nQ2FsbGJhY2sgPSBuZXcgQW1tby5Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nQ2FsbGJhY2subV9jb2xsaXNpb25GaWx0ZXJHcm91cCA9IFVOSVRZLkNvbGxpc2lvbkZpbHRlcnMuS2luZW1hdGljRmlsdGVyO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kaW5nQ2FsbGJhY2subV9jb2xsaXNpb25GaWx0ZXJNYXNrID0gVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyIHwgVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5TdGF0aWNGaWx0ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdDYWxsYmFjay5hZGRTaW5nbGVSZXN1bHQgPSAoY3AsIGNvbE9iajBXcmFwLCBwYXJ0SWQwLCBpbmRleDAsIGNvbE9iajFXcmFwLCBwYXJ0SWQxLCBpbmRleDEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gS0VFUCBGT1IgUkVGRVJFTkNFXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGNvbnRhY3RQb2ludCA9IEFtbW8ud3JhcFBvaW50ZXIoY3AsIEFtbW8uYnRNYW5pZm9sZFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgY29sT2JqMFdyYXBwZXI6YW55ID0gQW1tby53cmFwUG9pbnRlcihjb2xPYmowV3JhcCwgQW1tby5idENvbGxpc2lvbk9iamVjdFdyYXBwZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBjb2xvYmowOmFueSA9IGNvbE9iajBXcmFwcGVyLmdldENvbGxpc2lvbk9iamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBlbnRpdHkwOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IChjb2xvYmowICE9IG51bGwgJiYgY29sb2JqMC5lbnRpdHkgIT0gbnVsbCkgPyBjb2xvYmowLmVudGl0eSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBjb250YWN0RW50aXR5OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChjb2xPYmoxV3JhcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGNvbnN0IGNvbE9iajFXcmFwcGVyOmFueSA9IEFtbW8ud3JhcFBvaW50ZXIoY29sT2JqMVdyYXAsIEFtbW8uYnRDb2xsaXNpb25PYmplY3RXcmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgaWYgKGNvbE9iajFXcmFwcGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGNvbnN0IGNvbG9iajE6YW55ID0gY29sT2JqMVdyYXBwZXIuZ2V0Q29sbGlzaW9uT2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBjb250YWN0RW50aXR5ID0gKGNvbG9iajEgIT0gbnVsbCAmJiBjb2xvYmoxLmVudGl0eSAhPSBudWxsKSA/IGNvbG9iajEuZW50aXR5IDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChjb250YWN0RW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgdGhpcy5oYXNHcm91bmRlZENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAvLyBjb25zb2xlLmxvZyhcIkdyb3VuZCBDb250YWN0IE1lc2g6IFwiICsgY29udGFjdEVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9IHRydWU7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChib2R5LmFjdGl2YXRlKSBib2R5LmFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXQgQ29sbGlzaW9uIEZsYWdzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAoYm9keS5zZXRDb2xsaXNpb25GbGFncyAmJiBib2R5LmdldENvbGxpc2lvbkZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuc2V0Q29sbGlzaW9uRmxhZ3MoYm9keS5nZXRDb2xsaXNpb25GbGFncygpIHwgQkFCWUxPTi5Db2xsaXNpb25GbGFncy5DRl9OT19DT05UQUNUX1JFU1BPTlNFKTsgICAgICAgLy8gVFJJR0dFUl9PQkpFQ1RcbiAgICAgICAgICAgICAgICAgICAgYm9keS5zZXRDb2xsaXNpb25GbGFncyhib2R5LmdldENvbGxpc2lvbkZsYWdzKCkgfCBCQUJZTE9OLkNvbGxpc2lvbkZsYWdzLkNGX0tJTkVNQVRJQ19PQkpFQ1QpOyAgICAgICAgICAvLyBTVEFUSUNfT0JKRUNUXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuc2V0Q29sbGlzaW9uRmxhZ3MoYm9keS5nZXRDb2xsaXNpb25GbGFncygpIHwgQkFCWUxPTi5Db2xsaXNpb25GbGFncy5DRl9DVVNUT01fTUFURVJJQUxfQ0FMTEJBQ0spOyAgLy8gQ1VTVE9NX01BVEVSSUFMXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2V0IENvbGxpc2lvbiBNYXNrc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKGJvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KCkuc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXAoVU5JVFkuQ29sbGlzaW9uRmlsdGVycy5LaW5lbWF0aWNGaWx0ZXIpXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KCkuc2V0X21fY29sbGlzaW9uRmlsdGVyTWFzayhVTklUWS5Db2xsaXNpb25GaWx0ZXJzLkRlZmF1bHRGaWx0ZXIgfCBVTklUWS5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdCA9IG5ldyBCQUJZTE9OLk1lc2godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNhbWVyYVBpdm90XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QuaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dEZWJ1Z0NvbGxpZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RQaXZvdDpCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcIlRlc3RQaXZvdFwiLCB7IHdpZHRoOiAwLjI1LCBoZWlnaHQ6IDAuMjUsIGRlcHRoOiAwLjUgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnBhcmVudCA9IHRoaXMuY2FtZXJhUGl2b3Q7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnZpc2liaWxpdHkgPSAwLjU7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnJlbmRlcmluZ0dyb3VwSWQgPSB0aGlzLmNvbGxpZGVyUmVuZGVyR3JvdXA7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgY3lsaW5kZXJTaGFwZTpib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcImN5bGluZGVyU2hhcGVcIik7XG4gICAgICAgICAgICBjb25zdCBjb25maWdDb250cm9sbGVyOlVOSVRZLkNoYXJhY3RlckNvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIlVOSVRZLkNoYXJhY3RlckNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICBpZiAoY29uZmlnQ29udHJvbGxlciAhPSBudWxsICYmIGN5bGluZGVyU2hhcGUgPT09IHRydWUpIGNvbmZpZ0NvbnRyb2xsZXIucHJlQ3JlYXRlQ3lsaW5kZXJTaGFwZSgpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldHVwIElLIEJvbmUgQ29udHJvbGxlcnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmF0dGFjaEJvbmVDb250cm9sbGVycygpO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc3RhcnRQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gVE9ETyAtIFN1cHBvcnQgRHluYW1pYyBQbGF5ZXJOdW1iZXIgQ2hhbmdlIC0gPz8/XG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hDYW1lcmEgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaFBsYXllckNhbWVyYSh0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb25BZ2VudCA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiVU5JVFkuTmF2aWdhdGlvbkFnZW50XCIpO1xuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQoXCJVTklUWS5DaGFyYWN0ZXJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJSYWRpdXMgPSB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuZ2V0QXZhdGFyUmFkaXVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdyYXZpdHkodGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRGYWxsaW5nU3BlZWQodGhpcy50ZXJtaW5hbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5vblVwZGF0ZVBvc2l0aW9uT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgIHRoaXMudXBkYXRlUGxheWVyUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzLnVwZGF0ZUNhbWVyYUNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAvL30pO1xuICAgICAgICAgICAgICAgIFVOSVRZLlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiU3RhcnRpbmcgcGxheWVyIGNvbnRyb2xsZXIgaW4gcGh5c2ljIGVuZ2luZSBtb2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJObyBjaGFyYWN0ZXIgY29udHJvbGxlciBmb3VuZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgcGxheWVyIHdpbmRvdyBzdGF0ZSB2YXJpYWJsZVxuICAgICAgICAgICAgLy8gU00uU2V0V2luZG93U3RhdGUoXCJwbGF5ZXJcIiwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZVBsYXllclBvc2l0aW9uKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5vblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZSAmJiB0aGlzLm9uUGxheWVyUG9zaXRpb25PYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgLy90aGlzLnNtb290aERlbHRhVGltZSA9IFVOSVRZLlN5c3RlbS5TbW9vdGhEZWx0YUZhY3RvciAqIHRoaXMuZGVsdGFUaW1lICsgKDEgLSBVTklUWS5TeXN0ZW0uU21vb3RoRGVsdGFGYWN0b3IpICogdGhpcy5zbW9vdGhEZWx0YVRpbWU7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5tX2FjdHVhbFZlbG9jaXR5ID0gdGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLm1fbGFzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5jb3B5RnJvbSh0aGlzLm1fYWN0dWFsVmVsb2NpdHkpO1xuICAgICAgICAgICAgdGhpcy5tX3NjYWxlZFZlbG9jaXR5ID0gKHRoaXMubV9saW5lYXJWZWxvY2l0eS5sZW5ndGgoKSAvIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5zY2FsZUluUGxhY2UodGhpcy5tX3NjYWxlZFZlbG9jaXR5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckRyYXdWZWxvY2l0eSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuY29weUZyb20odGhpcy5tX2xpbmVhclZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuc2NhbGVJblBsYWNlKHRoaXMucGxheWVyRHJhd1ZlbG9jaXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNldCgwLDAsMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1fbGFzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gRklYIFRISVMgU0hJVFxuICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RhdGVQYXJhbXMgPT09IHRydWUgJiYgdGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hBbmltYXRpb25Db250cm9sbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubWluSnVtcFRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWluSnVtcFRpbWVyIC09IHRoaXMuZGVsdGFUaW1lOyBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5taW5KdW1wVGltZXIgPCAwKSB0aGlzLm1pbkp1bXBUaW1lciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlICYmIHRoaXMuZGVsYXlKdW1wVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheUp1bXBUaW1lciAtPSB0aGlzLmRlbHRhVGltZTsgXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsYXlKdW1wVGltZXIgPCAwKSB0aGlzLmRlbGF5SnVtcFRpbWVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmNhblBsYXllckp1bXAgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25BY3Rpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uVXBkYXRlQWN0aW9uT2JzZXJ2YWJsZSAmJiB0aGlzLm9uVXBkYXRlQWN0aW9uT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVXBkYXRlQWN0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUlucHV0ID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdXNlcklucHV0WDpudW1iZXIgPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KFVOSVRZLlVzZXJJbnB1dEF4aXMuSG9yaXpvbnRhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdXNlcklucHV0WjpudW1iZXIgPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KFVOSVRZLlVzZXJJbnB1dEF4aXMuVmVydGljYWwsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJNb3VzZVg6bnVtYmVyID0gVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChVTklUWS5Vc2VySW5wdXRBeGlzLk1vdXNlWCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdXNlck1vdXNlWTpudW1iZXIgPSBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KFVOSVRZLlVzZXJJbnB1dEF4aXMuTW91c2VZLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhBY2NlbGVyYXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBTTU9PVEggVVNFUiBJTlBVVCBYXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJJbnB1dFggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYICs9ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPiAxKSB0aGlzLnBsYXllcklucHV0WCA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VySW5wdXRYIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCAtPSAodGhpcy5hY2NlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYIDwgLTEpIHRoaXMucGxheWVySW5wdXRYID0gLTE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggKz0gKHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPiAwKSB0aGlzLnBsYXllcklucHV0WCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCAtPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA8IDApIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTTU9PVEggVVNFUiBJTlBVVCBaXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJJbnB1dFogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaICs9ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPiAxKSB0aGlzLnBsYXllcklucHV0WiA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VySW5wdXRaIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiAtPSAodGhpcy5hY2NlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaIDwgLTEpIHRoaXMucGxheWVySW5wdXRaID0gLTE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogKz0gKHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPiAwKSB0aGlzLnBsYXllcklucHV0WiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiAtPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA8IDApIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUkFXIFVTRVIgSU5QVVQgWFpcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCA9IHVzZXJJbnB1dFg7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogPSB1c2VySW5wdXRaO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMucGxheWVyTW91c2VYID0gdXNlck1vdXNlWDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyTW91c2VZID0gdXNlck1vdXNlWTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBBbmltYXRpb24gQWN0aW9uXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSB0cnVlICYmIHRoaXMuaXNBY3Rpb25JbnRlcnJ1cHRhYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYICE9PSAwIHx8IHRoaXMucGxheWVySW5wdXRaICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJBbmltYXRpb24gSW50ZXJydXB0OiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0QWN0aW9uQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhblBsYXllckp1bXAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQbGF5ZXIgSW5wdXRcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5vblBsYXllcklucHV0T2JzZXJ2YWJsZSAmJiB0aGlzLm9uUGxheWVySW5wdXRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBsYXllcklucHV0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8uLlxuICAgICAgICAgICAgLy8gVXBkYXRlIElucHV0IE1hZ25pdHVkZVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvci5zZXQodGhpcy5wbGF5ZXJJbnB1dFgsIDAsIHRoaXMucGxheWVySW5wdXRaKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3IubGVuZ3RoKCkgPiAxLjApIHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvci5ub3JtYWxpemUoKTsgLy8gTm90ZTogTm9ybWFsaXplIEluIFBsYWNlXG4gICAgICAgICAgICB0aGlzLmlucHV0TWFnbml0dWRlID0gdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLmxlbmd0aCgpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBNb3ZlIERpcmVjdGlvblxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IG1vdmVGb3J3YXJkOmJvb2xlYW4gPSAodGhpcy5wbGF5ZXJJbnB1dFogPiAwKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVCYWNrd2FyZDpib29sZWFuID0gKHRoaXMucGxheWVySW5wdXRaIDwgMCk7XG4gICAgICAgICAgICBjb25zdCBtb3ZlUmlnaHQ6Ym9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WCA+IDApO1xuICAgICAgICAgICAgY29uc3QgbW92ZUxlZnQ6Ym9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WCA8IDApO1xuICAgICAgICAgICAgaWYgKG1vdmVGb3J3YXJkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmVMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5Gb3J3YXJkTGVmdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uRm9yd2FyZFJpZ2h0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5Gb3J3YXJkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZUJhY2t3YXJkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmVMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5CYWNrd2FyZExlZnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlUmlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkJhY2t3YXJkUmlnaHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkJhY2t3YXJkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZUxlZnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RyYWZpbmdMZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlUmlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RyYWZpbmdSaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLlN0YXRpb25hcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFByZSBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlICYmIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRm9yd2FyZCBDYW1lcmEgVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLmNvcHlGcm9tKHRoaXMuY2FtZXJhUGl2b3QuZm9yd2FyZCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IueSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3Iubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3Iuc2NhbGVUb1JlZih0aGlzLnBsYXllcklucHV0WiwgdGhpcy5kZXNpcmVkRm9yd2FyZFZlY3Rvcik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFJpZ2h0IENhbWVyYSBWZWN0b3JcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLmNvcHlGcm9tKHRoaXMuY2FtZXJhUGl2b3QucmlnaHQpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3Rvci55ID0gMDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3Iubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLnNjYWxlVG9SZWYodGhpcy5wbGF5ZXJJbnB1dFgsIHRoaXMuZGVzaXJlZFJpZ2h0VmVjdG9yKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIFJvdGF0aW9uIFZlY3RvclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSArPSAodGhpcy5wbGF5ZXJNb3VzZVggKiB0aGlzLmxvb2tTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCArPSAoLXRoaXMucGxheWVyTW91c2VZICogdGhpcy5sb29rU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnggPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLngsIC1CQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLmRvd25Mb29rTGltaXQpLCBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLnRvcExvb2tMaW1pdCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRBbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuUGxheWVySnVtcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gU21vb3RoIFBsYXllciBSb3RhdGlvbiBWZWN0b3IgKERFUFJFQ0lBVEVEKVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIGxldCBuZXdQbGF5ZXJSb3RhdGlvblZlY3RvclkgPSB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnkgKyAodGhpcy5wbGF5ZXJNb3VzZVggKiB0aGlzLmxvb2tTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIC8vIGxldCBuZXdQbGF5ZXJSb3RhdGlvblZlY3RvclggPSB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnggKyAoLXRoaXMucGxheWVyTW91c2VZICogdGhpcy5sb29rU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAvLyBuZXdQbGF5ZXJSb3RhdGlvblZlY3RvclggPSBCQUJZTE9OLlNjYWxhci5DbGFtcChuZXdQbGF5ZXJSb3RhdGlvblZlY3RvclgsIC1CQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLmRvd25Mb29rTGltaXQpLCBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLnRvcExvb2tMaW1pdCkpO1xuICAgICAgICAgICAgLy8gdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ID0gVU5JVFkuVXRpbGl0aWVzLlNtb290aERhbXBBbmdsZSh0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLngsIG5ld1BsYXllclJvdGF0aW9uVmVjdG9yWCwgdGhpcy5zbW9vdGhpbmdTcGVlZCwgTnVtYmVyLk1BWF9WQUxVRSwgdGhpcy5kZWx0YVRpbWUsIHRoaXMucm90YXRpb25WZWxvY2l0eVgpO1xuICAgICAgICAgICAgLy8gdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55ID0gVU5JVFkuVXRpbGl0aWVzLlNtb290aERhbXBBbmdsZSh0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnksIG5ld1BsYXllclJvdGF0aW9uVmVjdG9yWSwgdGhpcy5zbW9vdGhpbmdTcGVlZCwgTnVtYmVyLk1BWF9WQUxVRSwgdGhpcy5kZWx0YVRpbWUsIHRoaXMucm90YXRpb25WZWxvY2l0eVkpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQbGF5ZXIgQnV0dG9uIFByZXNzZXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmlzUnVuUHJlc3NlZCA9IChVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkUnVuKSB8fCBVTklUWS5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMuYnV0dG9uUnVuKSk7XG4gICAgICAgICAgICB0aGlzLmlzSnVtcFByZXNzZWQgPSAoVU5JVFkuSW5wdXRDb250cm9sbGVyLkdldEtleWJvYXJkSW5wdXQodGhpcy5rZXlib2FyZEp1bXApIHx8IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5idXR0b25KdW1wKSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBNb3ZlbWVudCBWZWxvY2l0eVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRTcGVlZCA9ICh0aGlzLmlucHV0TWFnbml0dWRlICogdGhpcy5tb3ZlU3BlZWQgKiB0aGlzLnNwZWVkRmFjdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bktleVJlcXVpcmVkID09PSB0cnVlICYmIHRoaXMuaXNSdW5QcmVzc2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogTGVycCBNYXggU3BlZWQgRnJvbSBXYWxrIFRvIFJ1biBBbmQgVmljZSBWZXJzYSAoU21vb3RoIE91dCBUcmFuc2l0aW9ucylcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRTcGVlZCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMubW92ZW1lbnRTcGVlZCwgMCwgdGhpcy53YWxrU3BlZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEZvcndhcmQgVGhpcmQgUGVyc29uIFZpZXcgLSBQbGF5ZXIgTG9vayBSb3RhdGlvblxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuZGVzaXJlZEZvcndhcmRWZWN0b3IuYWRkVG9SZWYodGhpcy5kZXNpcmVkUmlnaHRWZWN0b3IsIHRoaXMucGxheWVyTG9va1JvdGF0aW9uKTsgXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5mb3J3YXJkLnNjYWxlVG9SZWYodGhpcy5tb3ZlbWVudFNwZWVkLCB0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgLy8gQWx3YXlzIEZyZWUgTG9va2luZyAtIExlcnAgUGxheWVyIFJvdGF0aW9uIChUdXJuIEFuZCBCdXJuKVxuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRBbGxvd2VkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dE1hZ25pdHVkZSA+IDApIHsgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRUdXJuUmF0aW86bnVtYmVyID0gKHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eS5sZW5ndGgoKSAvIHRoaXMubW92ZVNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9yd2FyZFR1cm5TcGVlZDpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuaGlnaFR1cm5TcGVlZCwgdGhpcy5sb3dUdXJuU3BlZWQsIGZvcndhcmRUdXJuUmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuTG9va1JvdGF0aW9uVG9SZWYodGhpcy5wbGF5ZXJMb29rUm90YXRpb24sIHRoaXMucGxheWVyUm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIFJvb3QgTW90aW9uIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy5wbGF5ZXJSb3RhdGlvblF1YXRlcm5pb24sIChmb3J3YXJkVHVyblNwZWVkICogdGhpcy5kZWx0YVRpbWUpLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVydGljYWxWZWxvY2l0eSA9IHRoaXMuZ2V0VmVydGljYWxWZWxvY2l0eSgpO1xuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFZlbG9jaXR5LmNvcHlGcm9tKHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5oYXNHcm91bmRlZENvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclNsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9ICh0aGlzLm5hdmlnYXRpb25BZ2VudCAhPSBudWxsICYmIHRoaXMubmF2aWdhdGlvbkFnZW50LmlzTmF2aWdhdGluZygpKTtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkFuZ3VsYXJTcGVlZCA9ICh0aGlzLm5hdmlnYXRpb25BZ2VudCAhPSBudWxsKSA/IHRoaXMubmF2aWdhdGlvbkFnZW50LmFuZ3VsYXJTcGVlZCA6IDA7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNoYXJhY3RlckNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgQW5pbWF0aW9uIFN0YXRlIFBhcmFtc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgdGhpcy51cGRhdGVTdGF0ZVBhcmFtcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVBbmltYXRpb25TdGF0ZVBhcmFtcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0SW50ZWdlcih0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdmVEaXJlY3Rpb24sIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhlaWdodElucHV0LCB0aGlzLnZlcnRpY2FsVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmp1bXBGcmFtZSwgdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuanVtcFN0YXRlLCB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRJbnRlZ2VyKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuYWN0aW9uU3RhdGUsIHRoaXMucGVyZm9ybUFjdGlvbk51bWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuZmFsbGluZ1N0YXRlLCB0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc2xpZGluZ1N0YXRlLCB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuZ3JvdW5kZWRTdGF0ZSwgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhNb3Rpb25UaW1lID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhJbnB1dFZlY3RvcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIHRoaXMucGxheWVySW5wdXRYLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCB0aGlzLnBsYXllcklucHV0WiwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIHRoaXMucGxheWVyTW91c2VYLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVksIHRoaXMuc21vb3RoTW90aW9uVGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnZlcnRpY2FsSW5wdXQsIHRoaXMucGxheWVySW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCB0aGlzLnBsYXllck1vdXNlWSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmlucHV0TWFnbml0dWRlLCB0aGlzLmlucHV0TWFnbml0dWRlLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNwZWVkSW5wdXQsIHRoaXMubW92ZW1lbnRTcGVlZCwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFopO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIHRoaXMucGxheWVyTW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCB0aGlzLnBsYXllck1vdXNlWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5pbnB1dE1hZ25pdHVkZSwgdGhpcy5pbnB1dE1hZ25pdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCB0aGlzLm1vdmVtZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIFVwZGF0ZSBTcGVlZCBJbnB1dCBXaXRoIE5hdmlnYXRpb24gTWFnbml0dWRlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCB0aGlzLmlucHV0TWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25BbmltYXRpb25TdGF0ZU9ic2VydmFibGUgJiYgdGhpcy5vbkFuaW1hdGlvblN0YXRlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQW5pbWF0aW9uU3RhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFBvc3QgTmV0d29yayBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID09IHRydWUgJiYgVU5JVFkuRW50aXR5Q29udHJvbGxlci5IYXNOZXR3b3JrRW50aXR5KHRoaXMudHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAwLCB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24pOyAgICAgICAgICAgICAgICAgICAgLy8gRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEsIHRoaXMuaW5wdXRNYWduaXR1ZGUpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWduaXR1ZGVcbiAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMiwgdGhpcy5wbGF5ZXJJbnB1dFgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvcml6b25hbFxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAzLCB0aGlzLnBsYXllcklucHV0Wik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVydGljYWxcbiAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNCwgdGhpcy5wbGF5ZXJNb3VzZVgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdXNlWFxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA1LCB0aGlzLnBsYXllck1vdXNlWSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW91c2VZXG4gICAgICAgICAgICAgICAgVU5JVFkuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDYsIHRoaXMudmVydGljYWxWZWxvY2l0eSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBWZWxvY2l0eVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA3LCB0aGlzLm1vdmVtZW50U3BlZWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZW1lbnQgU3BlZWRcbiAgICAgICAgICAgICAgICBVTklUWS5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOCwgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyKTsgICAgICAgICAgICAgICAgICAgIC8vIEFjdGlvbiBTdGF0ZVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA5LCAoKHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUpID8gMSA6IDApKTsgICAgICAgLy8gSnVtcCBGcmFtZVxuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMCwgKCh0aGlzLmlzQ2hhcmFjdGVySnVtcGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgSnVtcGluZ1xuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMSwgKCh0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgRmFsbGluZ1xuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMiwgKCh0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgU2xpZGluZ1xuICAgICAgICAgICAgICAgIFVOSVRZLkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMywgKCh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQpID8gMSA6IDApKTsgICAgICAgLy8gSXMgR3JvdW5kZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUG9zdCBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZSAmJiB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgYWZ0ZXJQbGF5ZXJDb250cm9sbGVyKCk6dm9pZCB7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRTogRXh0cmEgUmF5Y2FzdCBEaXN0YW5jZSBXaGVuIE9uIFZhcmlvdXMgU2xvcGUgQW5nbGVzIC0gPz8/XG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ2hhcmFjdGVyQ29udHJvbGxlcigpIDogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91bmRpbmdNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91bmRpbmdNZXNoLnBvc2l0aW9uLnNldCgwLCAodGhpcy52ZXJ0aWNhbE9mZnNldCAqIDIpLCAodGhpcy5mb3J3YXJkT2Zmc2V0ICogMikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5waHlzaWNzV29ybGQgIT0gbnVsbCAmJiB0aGlzLnBoeXNpY3NXb3JsZC5jb250YWN0VGVzdCAhPSBudWxsICYmIHRoaXMuZ3JvdW5kaW5nT2JqZWN0ICE9IG51bGwgJiYgdGhpcy5ncm91bmRpbmdDYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljc1dvcmxkLmNvbnRhY3RUZXN0KHRoaXMuZ3JvdW5kaW5nT2JqZWN0LCB0aGlzLmdyb3VuZGluZ0NhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclJpc2luZyA9ICh0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9PSB0cnVlICYmIHRoaXMudmVydGljYWxWZWxvY2l0eSA+IDApO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID09IHRydWUgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IDwgMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9IGZhbHNlOyAgICAvLyBJR05PUkUgQ09OVEFDVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNHcm91bmRlZENvbnRhY3QgPT09IHRydWUgJiYgdGhpcy5taW5KdW1wVGltZXIgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9IGZhbHNlOyAgICAvLyBOT1QgU0xJRElOR1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPSB0cnVlOyAgICAvLyBJUyBHUk9VTkRFRFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vdGhpcy5jYXN0UGh5c2ljc0dyb3VuZENoZWNrUmF5KCk7XG4gICAgICAgICAgICAgICAgLy9jb25zdCBzbG9wZUFuZ2xlTGVuZ3RoOm51bWJlciA9IDA7IC8vIFRPRE86IEFjY291bnQgRm9yIEN1cnJlbnQgU2xvcGUgQW5nbGUgLSA/Pz9cbiAgICAgICAgICAgICAgICAvL2NvbnN0IG1pbkdyb3VuZERpc3RhbmNlTGVuZ3RoOm51bWJlciA9IChQUk9KRUNULlN0YW5kYXJkUGxheWVyQ29udHJvbGxlci5NSU5fR1JPVU5EX0RJU1RBTkNFICsgc2xvcGVBbmdsZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgLy90aGlzLmdyb3VuZENvbGxpc2lvbiA9ICh0aGlzLmdyb3VuZEhpdCA9PT0gdHJ1ZSAmJiB0aGlzLmdyb3VuZERpc3RhbmNlIDw9IG1pbkdyb3VuZERpc3RhbmNlTGVuZ3RoICYmICh0aGlzLm5vcm1hbEFuZ2xlIDw9IDAgfHwgdGhpcy5ncm91bmROb3JtYWwueSA+PSB0aGlzLm5vcm1hbEFuZ2xlKSk7XG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy5ncm91bmRDb2xsaXNpb24gPT09IHRydWUgJiYgdGhpcy5taW5KdW1wVGltZXIgPD0gMCkge1xuICAgICAgICAgICAgICAgIC8vICAgIGlmICh0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPT09IDAgfHwgKHRoaXMuZ3JvdW5kQW5nbGUgPiAwICYmIHRoaXMudmVydGljYWxWZWxvY2l0eSA+IDApKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nID0gZmFsc2U7ICAgIC8vIE5PVCBTTElESU5HXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9IHRydWU7ICAgIC8vIElTIEdST1VOREVEXG4gICAgICAgICAgICAgICAgLy8gICAgfSBlbHNlIGlmICh0aGlzLmdyb3VuZEFuZ2xlID4gMCAmJiB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nID0gdHJ1ZTsgICAgIC8vIElTIFNMSURJTkdcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID0gZmFsc2U7ICAgLy8gTk9UIEdST1VOREVEXG4gICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gdHJ1ZSkgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZyA9ICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IGZhbHNlICYmIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nID09IGZhbHNlICYmIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID09IGZhbHNlICYmIHRoaXMudmVydGljYWxWZWxvY2l0eSA8IDAgJiYgTWF0aC5hYnModGhpcy52ZXJ0aWNhbFZlbG9jaXR5KSA+PSB0aGlzLm1pbkZhbGxWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nID09PSB0cnVlICYmIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyRmFsbFRyaWdnZXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmp1bXBEZWxheSA+IDApIHRoaXMuZGVsYXlKdW1wVGltZXIgPSB0aGlzLmp1bXBEZWxheTsgLy8gRFVOTk86IE1BWUJFIFVTRSBTRVBFUkFURSBGQUxMSU5HIERFTEFZIFRJTUVSIC0gPz8/XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUpIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gdmFyIG1zZ3ggPSAoXCJHcm91bmRlZDogXCIgKyB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgKyBcIiAtPiBKdW1waW5nOiBcIiArIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nICsgXCIgLT4gUmlzaW5nOiBcIiArIHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgKyBcIiAtPiBMYW5kaW5nOiBcIiArIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nICsgXCIgLT4gVmVsb2NpdHk6IFwiICsgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhtc2d4KTtcbiAgICAgICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKG1zZ3gpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENsaW1iaW5nIFN5c3RlbVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlQ2xpbWJTeXN0ZW0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0UGh5c2ljc0NsaW1iaW5nVm9sdW1lUmF5KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdFBoeXNpY3NIZWlnaHRDaGVja1ZvbHVtZVJheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgQ2hhcmFjdGVyIE1vdmVtZW50XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvL2lmICh0aGlzLm1vdmVtZW50QWxsb3dlZCA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IGZhbHNlICYmIHRoaXMubW92ZW1lbnRBbGxvd2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGF5SnVtcFRpbWVyIDw9IDApIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSAodGhpcy5jYW5QbGF5ZXJKdW1wID09PSB0cnVlICYmIHRoaXMuaXNKdW1wUHJlc3NlZCA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IGZhbHNlICYmIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPT09IHRydWUgJiYgdGhpcy51c2VDbGltYlN5c3RlbSA9PT0gdHJ1ZSAmJiB0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSAmJiB0aGlzLmhlaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xpbWJBY3Rpb246bnVtYmVyID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvdGF0ZVNwZWVkOm51bWJlciA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvdGF0ZVRvd2FyZHM6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEhlaWdodDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0VGltZTpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRUaW1lOm51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldE9mZnNldDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpdEhlaWdodDpudW1iZXIgPSBwYXJzZUZsb2F0KHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50LnkudG9GaXhlZCgyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVySGVpZ2h0Om51bWJlciA9IHBhcnNlRmxvYXQodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYnN0YWNsZUhlaWdodDpudW1iZXIgPSBwYXJzZUZsb2F0KChoaXRIZWlnaHQgLSBwbGF5ZXJIZWlnaHQpLnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDbGltYiBBY3Rpb24gLS0+ICBIaXQgSGVpZ2h0OiBcIiArIGhpdEhlaWdodCArIFwiIC0tPiBQbGF5ZXIgSGVpZ2h0OiBcIiArIHBsYXllckhlaWdodCArIFwiIC0tPiBPYnN0YWNsZSBIZWlnaHQ6IFwiICsgb2JzdGFjbGVIZWlnaHQgKyBcIiAtLT4gUm90YXRlIFRvd2FyZHM6IFwiICsgcm90YXRlVG93YXJkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ic3RhY2xlSGVpZ2h0ID49IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLm1pbmltdW1IZWlnaHQgJiYgb2JzdGFjbGVIZWlnaHQgPD0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2UubWF4aW11bUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGltYkFjdGlvbiA9IFBST0pFQ1QuQWN0aW9uQW5pbWF0aW9uVHlwZS5TdGVwVXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwZWVkID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2Uucm90YXRpb25TcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlVG93YXJkcyA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2UubWF0Y2hIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnRhcmdldFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9ic3RhY2xlSGVpZ2h0ID49IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLm1pbmltdW1IZWlnaHQgJiYgb2JzdGFjbGVIZWlnaHQgPD0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2UubWF4aW11bUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGltYkFjdGlvbiA9IFBST0pFQ1QuQWN0aW9uQW5pbWF0aW9uVHlwZS5KdW1wVXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwZWVkID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2Uucm90YXRpb25TcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlVG93YXJkcyA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2UubWF0Y2hIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnRhcmdldFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9ic3RhY2xlSGVpZ2h0ID49IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5taW5pbXVtSGVpZ2h0ICYmIG9ic3RhY2xlSGVpZ2h0IDw9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5tYXhpbXVtSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW1iQWN0aW9uID0gUFJPSkVDVC5BY3Rpb25BbmltYXRpb25UeXBlLkNsaW1iVXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwZWVkID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvd2FyZHMgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2Uucm90YXRlVG93YXJkcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hIZWlnaHQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UubWF0Y2hIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UudGFyZ2V0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaW1iQWN0aW9uID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuQ2xpbWJPYnN0YWNsZVByZWRpY2F0ZSA9PSBudWxsIHx8IHRoaXMuY2FuQ2xpbWJPYnN0YWNsZVByZWRpY2F0ZShjbGltYkFjdGlvbikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyTGFuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclJpc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5QWN0aW9uQW5pbWF0aW9uKGNsaW1iQWN0aW9uLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uU3BlZWQgPSByb3RhdGVTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlUGxheWVyVG93YXJkcyA9IHJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID0gbWF0Y2hIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gKHN0YXJ0VGltZSAtIFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLk1JTl9USU1FUl9PRkZTRVQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldFRpbWUgPSAodGFyZ2V0VGltZSAtIFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLk1JTl9USU1FUl9PRkZTRVQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldE9mZnNldCA9IHRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldEhlaWdodCA9IGhpdEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPT09IHRydWUgJiYgdGhpcy5qdW1wU3BlZWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5qdW1wKHRoaXMuanVtcFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5qdW1wRGVsYXkgPiAwKSB0aGlzLmRlbGF5SnVtcFRpbWVyID0gdGhpcy5qdW1wRGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWlyYm9yblRpbWVvdXQgPiAwKSB0aGlzLm1pbkp1bXBUaW1lciA9ICh0aGlzLmFpcmJvcm5UaW1lb3V0ICsgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEp1bXBWZWxvY2l0eS5zZXQodGhpcy5tb3ZlbWVudFZlbG9jaXR5LngsIDAsIHRoaXMubW92ZW1lbnRWZWxvY2l0eS56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgTW92ZSBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZSAmJiB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBSb290IE1vdGlvbiBWZWxvY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgdGhpcy5yb290TW90aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm9vdE1vdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLmdldERlbHRhTW90aW9uUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50VmVsb2NpdHkuc2V0KHJvb3RNb3Rpb24ueCwgMCwgcm9vdE1vdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5tb3ZlbWVudFZlbG9jaXR5LCB0aGlzLnRyYW5zZm9ybS5nZXRXb3JsZE1hdHJpeCgpLCB0aGlzLm1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5tb3ZlKHRoaXMubW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRWZWxvY2l0eS5zY2FsZUluUGxhY2UodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5tb3ZlKHRoaXMubW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnVwZGF0ZVBvc2l0aW9uID0gdHJ1ZTsgLSBXaGljaCBJcyBCZXN0IC0gPz8/XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnVwZGF0ZVBvc2l0aW9uID0gZmFsc2U7IC0gV2hpY2ggSXMgQmVzdCAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogRUlUSEVSIE9SIC0gPz8/XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHaG9zdFdvcmxkUG9zaXRpb24odGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc3luY0dob3N0VG9UcmFuc2Zvcm1Qb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ2FtZXJhQ29udHJvbGxlcigpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5wdXQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICAvLyBEVU5OTyBGVVIgU1VSRTogIGlmICh0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9PT0gdHJ1ZSAmJiB0aGlzLm5hdmlnYXRpb25Bbmd1bGFyU3BlZWQgPiAwKSBhbGxvd1JvdGF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gLi4gXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBQaXZvdCBPZmZzZXRcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldENhbWVyYU9mZnNldC54ICE9PSAwIHx8IHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0LnkgIT09IDAgfHwgdGhpcy50YXJnZXRDYW1lcmFPZmZzZXQueiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0LmNvcHlGcm9tKHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0LnNldCgwLCB0aGlzLnBpdm90SGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIFBpdm90IFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmNhbWVyYVBpdm90LnBvc2l0aW9uLCB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDYW1lcmEgUGl2b3QgUm90YXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUNhbWVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYodGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54LCB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnksIDAsIHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVDYW1lcmEgPT09IHRydWUgJiYgdGhpcy5jYW1lcmFOb2RlICE9IG51bGwpIHsgXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhU21vb3RoaW5nIDw9IDApIHRoaXMuY2FtZXJhU21vb3RoaW5nID0gNS4wOyAvLyBEZWZhdWx0IENhbWVyYSBTbW9vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIENhbWVyYSBDb2xsaXNpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgbWF4RGlzdGFuY2U6bnVtYmVyID0gTWF0aC5hYnModGhpcy5ib29tUG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gKHRoaXMuY2FtZXJhTm9kZS5wYXJlbnQgYXMgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5zY2FsZVRvUmVmKHRoaXMubWF4RGlzdGFuY2UsIHRoaXMuc2NhbGVkTWF4RGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5zY2FsZVRvUmVmKHRoaXMuY2FtZXJhRGlzdGFuY2UsIHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZihwYXJlbnROb2RlLCB0aGlzLnBhcmVudE5vZGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5UcmFuc2Zvcm1Qb2ludFRvUmVmKHBhcmVudE5vZGUsIHRoaXMuc2NhbGVkTWF4RGlyZWN0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFjdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZTpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFVzZSBCdWxsZXQgUGh5c2ljcyBTaGFwZSBDYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHJheWNhc3Q6VU5JVFkuUmF5Y2FzdEhpdFJlc3VsdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1NoYXBlY2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmFSYXljYXN0U2hhcGUsIHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MsIHRoaXMuZGVmYXVsdFJheWNhc3RHcm91cCwgdGhpcy5jYW1lcmFSYXljYXN0TWFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnRhY3QgPSAocmF5Y2FzdCAhPSBudWxsICYmIHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9kaXN0YW5jZSA9IChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUpID8gcmF5Y2FzdC5oaXREaXN0YW5jZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBjb25zdCBjb250YWN0VGFnOnN0cmluZyA9IFNNLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgaWYgKHRoaXMuaWdub3JlVHJpZ2dlclRhZ3MgIT0gbnVsbCAmJiB0aGlzLmlnbm9yZVRyaWdnZXJUYWdzICE9PSBcIlwiICYmIHRoaXMuaWdub3JlVHJpZ2dlclRhZ3MuaW5kZXhPZihjb250YWN0VGFnKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGRpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0LyogPT09IHRydWUqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFEaXN0YW5jZSA9IEJBQllMT04uU2NhbGFyLkNsYW1wKChkaXN0YW5jZSAqIHRoaXMuZGlzdGFuY2VGYWN0b3IpLCB0aGlzLm1pbmltdW1EaXN0YW5jZSwgdGhpcy5tYXhEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXJwIFBhc3QgQ2FtZXJhIENvbGxpc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24ueCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24ueSB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24ueikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLnNjYWxlZENhbURpcmVjdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW91c2VXaGVlbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChVTklUWS5JbnB1dENvbnRyb2xsZXIuSXNXaGVlbFNjcm9sbGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsOm51bWJlciA9IFVOSVRZLklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoVU5JVFkuVXNlcklucHV0QXhpcy5XaGVlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbCA8IDApIHsgLy8gWk9PTSBPVVRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHpvb21PdXRTcGVlZDpudW1iZXIgPSAodGhpcy5zY3JvbGxTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vbVBvc2l0aW9uLnogPSBCQUJZTE9OLlNjYWxhci5Nb3ZlVG93YXJkcyh0aGlzLmJvb21Qb3NpdGlvbi56LCAtdGhpcy5tYXhEaXN0YW5jZSwgem9vbU91dFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aGVlbCA+IDApIHsgLy8gWk9PTSBJTlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgem9vbUluU3BlZWQ6bnVtYmVyID0gKHRoaXMuc2Nyb2xsU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb21Qb3NpdGlvbi56ID0gQkFCWUxPTi5TY2FsYXIuTW92ZVRvd2FyZHModGhpcy5ib29tUG9zaXRpb24ueiwgLXRoaXMubWluaW11bURpc3RhbmNlLCB6b29tSW5TcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXJwIFRvIENhbWVyYSBCb29tIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnggIT09IHRoaXMuYm9vbVBvc2l0aW9uLnggfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnkgIT09IHRoaXMuYm9vbVBvc2l0aW9uLnkgfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnogIT09IHRoaXMuYm9vbVBvc2l0aW9uLnopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuTGVycFRvUmVmKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbiwgdGhpcy5ib29tUG9zaXRpb24sICh0aGlzLmRlbHRhVGltZSAqIHRoaXMuY2FtZXJhU21vb3RoaW5nKSwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExlcnAgVG8gQ2FtZXJhIEJvb20gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi54IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi55ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi55IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi56ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuTGVycFRvUmVmKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbiwgdGhpcy5ib29tUG9zaXRpb24sICh0aGlzLmRlbHRhVGltZSAqIHRoaXMuY2FtZXJhU21vb3RoaW5nKSwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU21vb3RoQm9vbUFybUxlbmd0aCgpO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRCb29tQXJtTWF4RGlzdGFuY2UoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5tYXhEaXN0YW5jZTsgfVxuICAgICAgICBwdWJsaWMgc2V0Qm9vbUFybU1heERpc3RhbmNlKGRpc3RhbmNlOm51bWJlcik6dm9pZCB7IHRoaXMubWF4RGlzdGFuY2UgPSBNYXRoLmFicyhkaXN0YW5jZSk7IH1cbiAgICAgICAgcHVibGljIHNldFNtb290aEJvb21Bcm1MZW5ndGgobGVuZ3RoOm51bWJlciwgc3BlZWQ6bnVtYmVyLCB1cGRhdGVNYXhEaXN0YW5jZTpib29sZWFuPXRydWUpOnZvaWQge1xuICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVMZW5ndGg6bnVtYmVyID0gTWF0aC5hYnMobGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCA9IC1hYnNvbHV0ZUxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybVNwZWVkID0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAodXBkYXRlTWF4RGlzdGFuY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhYnNvbHV0ZURpc3RhbmNlOm51bWJlciA9IE1hdGguYWJzKHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZUxlbmd0aCA+IGFic29sdXRlRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRCb29tQXJtTWF4RGlzdGFuY2UoYWJzb2x1dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHNtb290aEJvb21Bcm1MZW5ndGg6QkFCWUxPTi5OdWxsYWJsZTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzbW9vdGhCb29tQXJtU3BlZWQ6QkFCWUxPTi5OdWxsYWJsZTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVTbW9vdGhCb29tQXJtTGVuZ3RoKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoICE9IG51bGwgJiYgdGhpcy5zbW9vdGhCb29tQXJtU3BlZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvb21Qb3NpdGlvbi56ICE9PSB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib29tUG9zaXRpb24ueiA9IEJBQllMT04uU2NhbGFyLk1vdmVUb3dhcmRzKHRoaXMuYm9vbVBvc2l0aW9uLnosIHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCwgKHRoaXMuc21vb3RoQm9vbUFybVNwZWVkICogdGhpcy5nZXREZWx0YVNlY29uZHMoKSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybVNwZWVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vICBBbW1vIFBoeXNpY3MgUmF5Y2FzdGluZ1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLypcbiAgICAgICAgcHJpdmF0ZSBjYXN0UGh5c2ljc0dyb3VuZENoZWNrUmF5KCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZEhpdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5ncm91bmROb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kUG9pbnQuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kTm9ybWFsLnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmdyb3VuZEFuZ2xlID0gMDtcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kRGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMucmF5TGVuZ3RoIDw9IDApIHRoaXMucmF5TGVuZ3RoID0gMC4xO1xuICAgICAgICAgICAgY29uc3QgcmF5Y2FzdExlbmd0aDpudW1iZXIgPSAodGhpcy5yYXlMZW5ndGggLyB0aGlzLnRyYW5zZm9ybS5zY2FsaW5nLnkpICsgMC4xO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEdyb3VuZGluZyBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHBsYXllclRyYW5zZm9ybURvd25EaXJlY3Rpb24gPSBVVElMLlRyYW5zZm9ybURpcmVjdGlvbih0aGlzLnRyYW5zZm9ybSwgdGhpcy5kb3duRGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0R3JvdW5kUmF5Y2FzdFBvc2l0aW9uLnNldCgwLCB0aGlzLnJheU9yaWdpbiwgMCk7XG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnN0YXJ0R3JvdW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLm9mZnNldEdyb3VuZFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmVuZEdyb3VuZFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHJheWNhc3RMZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMuZW5kR3JvdW5kUmF5Y2FzdFBvc2l0aW9uLnkgKz0gdGhpcy5yYXlPcmlnaW47XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gQ2FzdCBDb2xsaXNpb24gU2hhcGUgUmF5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMucmFkaXVzU2NhbGUgPD0gMCkgdGhpcy5yYWRpdXNTY2FsZSA9IDEuMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnNwaGVyZUNvbGxpc2lvblNoYXBlID09IG51bGwpIHRoaXMuc3BoZXJlQ29sbGlzaW9uU2hhcGUgPSBVTklUWS5TY2VuZU1hbmFnZXIuQ3JlYXRlUGh5c2ljc1NwaGVyZVNoYXBlKHRoaXMuYXZhdGFyUmFkaXVzICogdGhpcy5yYWRpdXNTY2FsZSk7XG4gICAgICAgICAgICBjb25zdCByYXljYXN0OlVOSVRZLlJheWNhc3RIaXRSZXN1bHQgPSBVTklUWS5TY2VuZU1hbmFnZXIuUGh5c2ljc1NoYXBlY2FzdCh0aGlzLnNjZW5lLCB0aGlzLnNwaGVyZUNvbGxpc2lvblNoYXBlLCB0aGlzLnN0YXJ0R3JvdW5kUmF5Y2FzdFBvc2l0aW9uLCBwbGF5ZXJUcmFuc2Zvcm1Eb3duRGlyZWN0aW9uLCByYXljYXN0TGVuZ3RoLCB0aGlzLmRlZmF1bHRSYXljYXN0R3JvdXAsIHRoaXMuZGVmYXVsdFJheWNhc3RNYXNrKTtcbiAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiBjb25zdCByYXljYXN0OlVOSVRZLlJheWNhc3RIaXRSZXN1bHQgPSBVTklUWS5TY2VuZU1hbmFnZXIuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydEdyb3VuZFJheWNhc3RQb3NpdGlvbiwgcGxheWVyVHJhbnNmb3JtRG93bkRpcmVjdGlvbiwgcmF5Y2FzdExlbmd0aCwgdGhpcy5kZWZhdWx0UmF5Y2FzdEdyb3VwLCB0aGlzLmRlZmF1bHRSYXljYXN0TWFzayk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VuZEhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmROb2RlID0gcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5O1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdFBvaW50ICE9IG51bGwpIHRoaXMuZ3JvdW5kUG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsICE9IG51bGwpIHRoaXMuZ3JvdW5kTm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VuZEFuZ2xlID0gKHRoaXMuZ3JvdW5kSGl0ID09PSB0cnVlKSA/IE1hdGguYWJzKFVOSVRZLlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmdyb3VuZE5vcm1hbCwgQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkpKSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdW5kQW5nbGUgPj0gODgpIHRoaXMuZ3JvdW5kQW5nbGUgPSAwOyAvLyBOb3RlOiBaZXJvIE1heCA4OCBEZWdyZWUgR3JvdW5kIEFuZ2xlXG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmREaXN0YW5jZSA9IChyYXljYXN0LmhpdERpc3RhbmNlIC0gdGhpcy5yYXlPcmlnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR3JvdW5kIERyYXcgRGVidWcgTGluZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdW5kU2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmdyb3VuZFNlbnNvckxpbmUgPSBuZXcgVU5JVFkuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkdyb3VuZFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiB0aGlzLmdyb3VuZEhpdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VuZFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRHcm91bmRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5SZWQoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kU2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydEdyb3VuZFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRHcm91bmRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5HcmVlbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgKi9cblxuICAgICAgICBwcml2YXRlIGNhc3RQaHlzaWNzQ2xpbWJpbmdWb2x1bWVSYXkoKTp2b2lkIHtcbiAgICAgICAgICAgIGxldCByYXljYXN0OlVOSVRZLlJheWNhc3RIaXRSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdFBvaW50LnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdE5vcm1hbC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3RBbmdsZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdERpc3RhbmNlID0gMDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBDbGltYmluZyBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHBsYXllclRyYW5zZm9ybUZvcndhcmREaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzID0gVVRJTC5UcmFuc2Zvcm1EaXJlY3Rpb24odGhpcy50cmFuc2Zvcm0sIHRoaXMuZm9yd2FyZERpcmVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLm9mZnNldENsaW1iUmF5Y2FzdFBvc2l0aW9uLnNldCgwLCB0aGlzLnJheUNsaW1iT2Zmc2V0LCAwKTtcbiAgICAgICAgICAgIFVOSVRZLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbiwgdGhpcy5vZmZzZXRDbGltYlJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmVuZENsaW1iUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmZvcndhcmREaXJlY3Rpb24uc2NhbGUodGhpcy5yYXlDbGltYkxlbmd0aCkpO1xuICAgICAgICAgICAgdGhpcy5lbmRDbGltYlJheWNhc3RQb3NpdGlvbi55ICs9IHRoaXMucmF5Q2xpbWJPZmZzZXQ7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCBwbGF5ZXJUcmFuc2Zvcm1Gb3J3YXJkRGlyZWN0aW9uLCB0aGlzLnJheUNsaW1iTGVuZ3RoLCB0aGlzLmRlZmF1bHRSYXljYXN0R3JvdXAsIHRoaXMuZGVmYXVsdFJheWNhc3RNYXNrKTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrVGFnID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja1RhZyA9PT0gdGhpcy5jbGltYlZvbHVtZVRhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0Tm9kZSA9IHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0UG9pbnQgIT0gbnVsbCkgdGhpcy5jbGltYkNvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsICE9IG51bGwpIHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3RBbmdsZSA9ICh0aGlzLmNsaW1iQ29udGFjdE5vcm1hbCAhPSBudWxsKSA/IE1hdGguYWJzKFVOSVRZLlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmNsaW1iQ29udGFjdE5vcm1hbCwgQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkpKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2UgPSByYXljYXN0LmhpdERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENsaW1iaW5nIERyYXcgRGVidWcgTGluZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuY2xpbWJTZW5zb3JMaW5lID0gbmV3IFVOSVRZLkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5DbGltYmluZ1NlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiB0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iU2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuUmVkKCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYlNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRDbGltYlJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkdyZWVuKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY2FzdFBoeXNpY3NIZWlnaHRDaGVja1ZvbHVtZVJheSgpOnZvaWQge1xuICAgICAgICAgICAgbGV0IHJheWNhc3Q6VU5JVFkuUmF5Y2FzdEhpdFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0UG9pbnQuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbC5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0QW5nbGUgPSAwO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0RGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEhlaWdodCBDaGVjayBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHBsYXllclRyYW5zZm9ybUhlaWdodERpcmVjdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBVVElMLlRyYW5zZm9ybURpcmVjdGlvbih0aGlzLnRyYW5zZm9ybSwgdGhpcy5kb3duRGlyZWN0aW9uKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuY2xpbWJDb250YWN0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24uY29weUZyb20odGhpcy5jbGltYkNvbnRhY3RQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKEJBQllMT04uVmVjdG9yMy5VcFJlYWRPbmx5LnNjYWxlKHRoaXMucmF5SGVpZ2h0TGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgLy8gcmF5Y2FzdCA9IFVOSVRZLlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgcGxheWVyVHJhbnNmb3JtSGVpZ2h0RGlyZWN0aW9uLCB0aGlzLnJheUhlaWdodExlbmd0aCwgdGhpcy5kZWZhdWx0UmF5Y2FzdEdyb3VwLCB0aGlzLmRlZmF1bHRSYXljYXN0TWFzayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLnNldCgwLCB0aGlzLnJheUhlaWdodE9mZnNldCwgdGhpcy5yYXlDbGltYkxlbmd0aCk7XG4gICAgICAgICAgICAgICAgVU5JVFkuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgdGhpcy5vZmZzZXRIZWlnaHRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHRoaXMucmF5SGVpZ2h0TGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tUYWcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrVGFnID09PSB0aGlzLmNsaW1iVm9sdW1lVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdE5vZGUgPSByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdFBvaW50ICE9IG51bGwpIHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXROb3JtYWwgIT0gbnVsbCkgdGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0QW5nbGUgPSAodGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsICE9IG51bGwpID8gTWF0aC5hYnMoVU5JVFkuVXRpbGl0aWVzLkdldEFuZ2xlKHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbCwgQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkpKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdERpc3RhbmNlID0gcmF5Y2FzdC5oaXREaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIZWlnaHQgQ2hlY2sgRHJhdyBEZWJ1ZyBMaW5lXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oZWlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuaGVpZ2h0U2Vuc29yTGluZSA9IG5ldyBVTklUWS5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuSGVpZ2h0Q2hlY2tTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgdGhpcy5oZWlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlJlZCgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRIZWlnaHRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5HcmVlbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vICBQcml2YXRlIFdvcmtlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgZ2V0Q2hlY2tlZFZlcnRpY2FsVmVsb2NpdHkoKTpudW1iZXIge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZlbG9jaXR5Om51bWJlciA9ICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkgPyB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuZ2V0VmVydGljYWxWZWxvY2l0eSgpIDogMDtcbiAgICAgICAgICAgIHJldHVybiAoTWF0aC5hYnMoY3VycmVudFZlbG9jaXR5KSA+PSBQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5NSU5fVkVSVElDQUxfVkVMT0NJVFkpID8gY3VycmVudFZlbG9jaXR5IDogMDtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIGRlc3Ryb3lQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHZhbGlkYXRlQW5pbWF0aW9uU3RhdGVQYXJhbXMoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uOiBcIkRpcmVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dE1hZ25pdHVkZTogXCJNYWduaXR1ZGVcIixcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbElucHV0OiBcIkhvcml6b250YWxcIixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxJbnB1dDogXCJWZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZVhJbnB1dDogXCJNb3VzZVhcIixcbiAgICAgICAgICAgICAgICAgICAgbW91c2VZSW5wdXQ6IFwiTW91c2VZXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodElucHV0OiBcIkhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZElucHV0OiBcIlNwZWVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1bXBGcmFtZTogXCJKdW1wZWRcIixcbiAgICAgICAgICAgICAgICAgICAganVtcFN0YXRlOiBcIkp1bXBcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU3RhdGU6IFwiQWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGZhbGxpbmdTdGF0ZTogXCJGcmVlRmFsbFwiLFxuICAgICAgICAgICAgICAgICAgICBzbGlkaW5nU3RhdGU6IFwiU2xpZGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBncm91bmRlZFN0YXRlOiBcIkdyb3VuZGVkXCIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gRW51bSBEZWZpbml0aW9uXG4gICAgKiBAaW50ZXJmYWNlIFRoaXJkUGVyc29uQ29udHJvbFxuICAgICovXG4gICAgIGV4cG9ydCBlbnVtIFRoaXJkUGVyc29uQ29udHJvbCB7XG4gICAgICAgIFRoaXJkUGVyc29uVHVybmluZyA9IDAsXG4gICAgICAgIFRoaXJkUGVyc29uRm9yd2FyZCA9IDFcbiAgICB9XG59XG4iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBGeFBhcnRpY2xlU3lzdGVtXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRnhQYXJ0aWNsZVN5c3RlbSBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBnZXRQYXJ0aWNsZUVtaXR0ZXIoKTpCQUJZTE9OLkFic3RyYWN0TWVzaCB7IHJldHVybiB0aGlzLm1fcGFydGljbGVFbWl0dGVyOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQYXJ0aWNsZVN5c3RlbSgpOkJBQllMT04uUGFydGljbGVTeXN0ZW0gfCBCQUJZTE9OLkdQVVBhcnRpY2xlU3lzdGVtIHsgcmV0dXJuIHRoaXMubV9wYXJ0aWNsZVN5c3RlbTsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX3BhcnRpY2xlRW1pdHRlcjpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3BhcnRpY2xlU3lzdGVtOkJBQllMT04uUGFydGljbGVTeXN0ZW0gfCBCQUJZTE9OLkdQVVBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3Qgcm9vdFVybDpzdHJpbmcgPSBVTklUWS5TY2VuZU1hbmFnZXIuR2V0Um9vdFVybCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzVHlwZTpudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiY2xhc3NUeXBlXCIsIDApO1xuICAgICAgICAgICAgY29uc3QgcGFydGljbGVUZXh0OnN0cmluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJiYXNlNjRQYXJ0aWNsZVN5c3RlbVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYXlPbkF3YWtlOmJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwicGxheU9uQXdha2VcIiwgZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgcGFydGljbGVUZXh0dXJlOlVOSVRZLklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwicGFydGljbGVUZXh0dXJlXCIpO1xuICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlciA9IHRoaXMuZ2V0QWJzdHJhY3RNZXNoKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3BhcnRpY2xlRW1pdHRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlciA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5FbWl0dGVyXCIsIHsgc2l6ZTogMC4yNSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIuaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIubWF0ZXJpYWwgPSBVTklUWS5VdGlsaXRpZXMuR2V0Q29sbGlkZXJNYXRlcmlhbCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZVRleHQgIT0gbnVsbCAmJiBwYXJ0aWNsZVRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWNsZUpzb246c3RyaW5nID0gd2luZG93LmF0b2IocGFydGljbGVUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydGljbGVKc29uICE9IG51bGwgJiYgcGFydGljbGVKc29uICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpY2xlUGFyc2VkOmFueSA9IEpTT04ucGFyc2UocGFydGljbGVKc29uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRpY2xlUGFyc2VkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0aWNsZVBhcnNlZC50ZXh0dXJlICE9IG51bGwgJiYgcGFydGljbGVUZXh0dXJlICE9IG51bGwpICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljbGVQYXJzZWQudGV4dHVyZS5uYW1lID0gcGFydGljbGVUZXh0dXJlLmZpbGVuYW1lOyAvLyBOb3RlOiBQYXJ0aWNsZSBTeXN0ZW0gUGFyc2VyIFVzZSBOYW1lIE5vdCBVcmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZVBhcnNlZC50ZXh0dXJlLnVybCA9IHBhcnRpY2xlVGV4dHVyZS5maWxlbmFtZTsgIC8vIE5vdGU6IFBhcnRpY2xlIFN5c3RlbSBQYXJzZXIgVXNlIE5hbWUgTm90IFVybFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gMSkgeyAgLy8gR1BVIFBhcnRpY2xlIFN5c3RlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZVN5c3RlbSA9IEJBQllMT04uR1BVUGFydGljbGVTeXN0ZW0uUGFyc2UocGFydGljbGVQYXJzZWQsIHRoaXMuc2NlbmUsIHJvb3RVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgLy8gQ1BVIFBhcnRpY2xlIFN5c3RlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZVN5c3RlbSA9IEJBQllMT04uUGFydGljbGVTeXN0ZW0uUGFyc2UocGFydGljbGVQYXJzZWQsIHRoaXMuc2NlbmUsIHJvb3RVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9wYXJ0aWNsZVN5c3RlbSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIgIT0gbnVsbCkgdGhpcy5tX3BhcnRpY2xlU3lzdGVtLmVtaXR0ZXIgPSB0aGlzLm1fcGFydGljbGVFbWl0dGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5T25Bd2FrZSA9PT0gZmFsc2UpIHRoaXMubV9wYXJ0aWNsZVN5c3RlbS5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9wYXJ0aWNsZVN5c3RlbSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlU3lzdGVtLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHdhdGVyIG1hdGVyaWFsIHN5c3RlbSBwcm8gY2xhc3MgKEJhYnlsb24gV2F0ZXIgTWF0ZXJpYWwpXG4gICAgICogQGNsYXNzIFNreU1hdGVyaWFsU3lzdGVtIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNreU1hdGVyaWFsU3lzdGVtIGV4dGVuZHMgVU5JVFkuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBza3lmb2c6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNreXNpemU6bnVtYmVyID0gMTAwMDtcbiAgICAgICAgcHJpdmF0ZSBwcm9iZXNpemU6bnVtYmVyID0gMTI4O1xuICAgICAgICBwcml2YXRlIHJlZmxlY3Rpb25zOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWZsZWN0bGV2ZWw6bnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBza3l0aW50Y29sb3I6QkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMSwxLDEpO1xuICAgICAgICBwdWJsaWMgZ2V0U2t5Ym94TWVzaCgpOkJBQllMT04uQWJzdHJhY3RNZXNoIHsgcmV0dXJuIHRoaXMubV9za3lib3hNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRTa3lNYXRlcmlhbCgpOkJBQllMT04uU2t5TWF0ZXJpYWwgeyByZXR1cm4gdGhpcy5tX3NreU1hdGVyaWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWZsZWN0aW9uUHJvYmUoKTpCQUJZTE9OLlJlZmxlY3Rpb25Qcm9iZSB7IHJldHVybiB0aGlzLm1fcmVmbGVjdFByb2JlOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlU2t5Ym94TWF0ZXJpYWwoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IC8qIFN0YXJ0IHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgLyogVXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7IC8qIExhdGUgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyAvKiBBZnRlciByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lTa3lib3hNYXRlcmlhbCgpOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fc2t5Ym94TWVzaDpCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9za3lNYXRlcmlhbDpCQUJZTE9OLlNreU1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fcmVmbGVjdFByb2JlOkJBQllMT04uUmVmbGVjdGlvblByb2JlID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlU2t5Ym94TWF0ZXJpYWwoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2t5Zm9nID0gdGhpcy5nZXRQcm9wZXJ0eShcImFwcGx5TWVzaEZvZ1wiLCB0aGlzLnNreWZvZyk7XG4gICAgICAgICAgICB0aGlzLnNreXNpemUgPSB0aGlzLmdldFByb3BlcnR5KFwiYm94U2l6ZVwiLCB0aGlzLnNreXNpemUpO1xuICAgICAgICAgICAgdGhpcy5wcm9iZXNpemUgPSB0aGlzLmdldFByb3BlcnR5KFwicHJvYmVTaXplXCIsIHRoaXMucHJvYmVzaXplKTtcbiAgICAgICAgICAgIHRoaXMucmVmbGVjdGlvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwicmVmbGVjdGlvbnNcIiwgdGhpcy5yZWZsZWN0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnJlZmxlY3RsZXZlbCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWZsZWN0TGV2ZWxcIiwgdGhpcy5yZWZsZWN0bGV2ZWwpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHRpbnRDb2xvcjpVTklUWS5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0aW50Q29sb3JcIik7XG4gICAgICAgICAgICBpZiAodGludENvbG9yICE9IG51bGwpIHRoaXMuc2t5dGludGNvbG9yID0gVU5JVFkuVXRpbGl0aWVzLlBhcnNlQ29sb3IzKHRpbnRDb2xvcik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcIkFtYmllbnQgU2t5Ym94XCIsIHsgc2l6ZTogdGhpcy5za3lzaXplIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2gucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLmluZmluaXRlRGlzdGFuY2UgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2guYXBwbHlGb2cgPSB0aGlzLnNreWZvZztcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtID09PSB0cnVlKSB0aGlzLm1fc2t5Ym94TWVzaC5zY2FsaW5nLnggKj0gLTE7XG4gICAgICAgICAgICAvLyBTZXR1cCBTa3kgTWF0ZXJpYWwgUHJvcGVydGllc1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsID0gbmV3IEJBQllMT04uU2t5TWF0ZXJpYWwodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlNreU1hdGVyaWFsXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLmJhY2tGYWNlQ3VsbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRTa3lib3hUaW50Q29sb3IodGhpcy5za3l0aW50Y29sb3IpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBvdmVyYWxsIGx1bWluYW5jZSBvZiBza3kgaW4gaW50ZXJ2YWwgWzAsIDFdLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwubHVtaW5hbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImx1bWluYW5jZVwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwubHVtaW5hbmNlKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBhbW91bnQgKHNjYXR0ZXJpbmcpIG9mIGhhemUgYXMgb3Bwb3NlZCB0byBtb2xlY3VsZXMgaW4gYXRtb3NwaGVyZS5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwudHVyYmlkaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInR1cmJpZGl0eVwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwudHVyYmlkaXR5KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgc2t5IGFwcGVhcmFuY2UgKGxpZ2h0IGludGVuc2l0eSkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5yYXlsZWlnaCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYXlsZWlnaFwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwucmF5bGVpZ2gpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBtaWVDb2VmZmljaWVudCBpbiBpbnRlcnZhbCBbMCwgMC4xXSB3aGljaCBhZmZlY3RzIHRoZSBwcm9wZXJ0eSAubWllRGlyZWN0aW9uYWxHLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwubWllQ29lZmZpY2llbnQgPSB0aGlzLmdldFByb3BlcnR5KFwibWllQ29lZmZpY2llbnRcIiwgdGhpcy5tX3NreU1hdGVyaWFsLm1pZUNvZWZmaWNpZW50KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgYW1vdW50IG9mIGhhemUgcGFydGljbGVzIGZvbGxvd2luZyB0aGUgTWllIHNjYXR0ZXJpbmcgdGhlb3J5LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwubWllRGlyZWN0aW9uYWxHID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pZURpcmVjdGlvbmFsR1wiLCB0aGlzLm1fc2t5TWF0ZXJpYWwubWllRGlyZWN0aW9uYWxHKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgZGlzdGFuY2Ugb2YgdGhlIHN1biBhY2NvcmRpbmcgdG8gdGhlIGFjdGl2ZSBzY2VuZSBjYW1lcmEuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5kaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkaXN0YW5jZVwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwuZGlzdGFuY2UpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBzdW4gaW5jbGluYXRpb24sIGluIGludGVydmFsIFstMC41LCAwLjVdLiBXaGVuIHRoZSBpbmNsaW5hdGlvbiBpcyBub3QgMCwgdGhlIHN1biBpcyBzYWlkXG4gICAgICAgICAgICAgKiBcImluY2xpbmVkXCIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5pbmNsaW5hdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpbmNsaW5hdGlvblwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwuaW5jbGluYXRpb24pO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBzb2xhciBhemltdXRoIGluIGludGVydmFsIFswLCAxXS4gVGhlIGF6aW11dGggaXMgdGhlIGFuZ2xlIGluIHRoZSBob3Jpem9udGFsIHBsYW4gYmV0d2VlblxuICAgICAgICAgICAgICogYW4gb2JqZWN0IGRpcmVjdGlvbiBhbmQgYSByZWZlcmVuY2UgZGlyZWN0aW9uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuYXppbXV0aCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhemltdXRoXCIsIHRoaXMubV9za3lNYXRlcmlhbC5hemltdXRoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyBhbiBvZmZzZXQgdmVjdG9yIHVzZWQgdG8gZ2V0IGEgaG9yaXpvbiBvZmZzZXQuXG4gICAgICAgICAgICAgKiBAZXhhbXBsZSBza3lNYXRlcmlhbC5jYW1lcmFPZmZzZXQueSA9IGNhbWVyYS5nbG9iYWxQb3NpdGlvbi55IC8vIFNldCBob3Jpem9uIHJlbGF0aXZlIHRvIDAgb24gdGhlIFkgYXhpc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBjYW1PZmZzZXREYXRhOlVOSVRZLklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhT2Zmc2V0XCIpO1xuICAgICAgICAgICAgaWYgKGNhbU9mZnNldERhdGEgIT0gbnVsbCkgdGhpcy5tX3NreU1hdGVyaWFsLmNhbWVyYU9mZnNldCA9IFVOSVRZLlV0aWxpdGllcy5QYXJzZVZlY3RvcjMoY2FtT2Zmc2V0RGF0YSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgaWYgdGhlIHN1biBwb3NpdGlvbiBzaG91bGQgYmUgY29tcHV0ZWQgKGluY2xpbmF0aW9uIGFuZCBhemltdXRoKSBhY2NvcmRpbmcgdG8gdGhlIHNjZW5lXG4gICAgICAgICAgICAgKiBzdW4gcG9zaXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC51c2VTdW5Qb3NpdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ1c2VTdW5Qb3NpdGlvblwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwudXNlU3VuUG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLnN1blBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCA1MCwgMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5tZXRhZGF0YSAhPSBudWxsICYmIHRoaXMuc2NlbmUubWV0YWRhdGEudW5pdHkgIT0gbnVsbCAmJiB0aGlzLnNjZW5lLm1ldGFkYXRhLnVuaXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUubWV0YWRhdGEudW5pdHkuc3VucG9zaXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuc3VuUG9zaXRpb24gPSBVTklUWS5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHRoaXMuc2NlbmUubWV0YWRhdGEudW5pdHkuc3VucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFzc2lnbiBTa3kgTWF0ZXJpYWwgVG8gU2t5Ym94IE1lc2hcbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLm1hdGVyaWFsID0gdGhpcy5tX3NreU1hdGVyaWFsO1xuICAgICAgICAgICAgLy8gU2V0dXAgRW52aXJvbm1lbnQgUmVmbGVjdGlvbiBQcm9iZSBUZXh0dXJlXG4gICAgICAgICAgICBpZiAodGhpcy5yZWZsZWN0aW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9yZWZsZWN0UHJvYmUgPSBuZXcgQkFCWUxPTi5SZWZsZWN0aW9uUHJvYmUoXCJTa3lib3gtUmVmbGVjdGlvblByb2JlXCIsIHRoaXMucHJvYmVzaXplLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmVmbGVjdFByb2JlLnJlbmRlckxpc3QucHVzaCh0aGlzLm1fc2t5Ym94TWVzaCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5jdXN0b21SZW5kZXJUYXJnZXRzLnB1c2godGhpcy5tX3JlZmxlY3RQcm9iZS5jdWJlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5lbnZpcm9ubWVudFRleHR1cmUgPSB0aGlzLm1fcmVmbGVjdFByb2JlLmN1YmVUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuZW52aXJvbm1lbnRJbnRlbnNpdHkgPSB0aGlzLnJlZmxlY3RsZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveVNreWJveE1hdGVyaWFsKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3NreWJveE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3JlZmxlY3RQcm9iZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JlZmxlY3RQcm9iZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JlZmxlY3RQcm9iZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3NreU1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldCBTa3lib3ggTWVzaCB0aW50IGNvbG9yLiAoQm94IE1lc2ggVmVydGV4IENvbG9ycykgKi9cbiAgICAgICAgcHVibGljIHNldFNreWJveFRpbnRDb2xvcihjb2xvcjpCQUJZTE9OLkNvbG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IG51bVZlcnRpY2VzID0gdGhpcy5tX3NreWJveE1lc2guZ2V0VG90YWxWZXJ0aWNlcygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WZXJ0aWNlczsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzLnB1c2goY29sb3IuciwgY29sb3IuZywgY29sb3IuYiwgMS4wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLnNldFZlcnRpY2VzRGF0YShcImNvbG9yXCIsIGNvbG9ycyk7XG4gICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaC51c2VWZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlwqBQUk9KRUNUwqB7XG7CoMKgwqDCoC8qKlxuwqDCoMKgwqDCoCrCoEJhYnlsb27CoHdhdGVywqBtYXRlcmlhbMKgc3lzdGVtwqBwcm/CoGNsYXNzwqAoQmFieWxvbsKgV2F0ZXLCoE1hdGVyaWFsKVxuwqDCoMKgwqDCoCrCoEBjbGFzc8KgV2F0ZXJNYXRlcmlhbFN5c3RlbcKgLcKgQWxswqByaWdodHPCoHJlc2VydmVkwqAoYynCoDIwMjDCoE1hY2tlecKgS2luYXJkXG7CoMKgwqDCoMKgKi9cbsKgwqDCoMKgZXhwb3J0wqBjbGFzc8KgV2F0ZXJNYXRlcmlhbFN5c3RlbcKgZXh0ZW5kc8KgVU5JVFkuU2NyaXB0Q29tcG9uZW50wqB7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgd2F0ZXJUYWc6c3RyaW5nwqA9wqBcIldhdGVyXCI7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgdGFyZ2V0U2l6ZTpCQUJZTE9OLlZlY3RvcjLCoD3CoG5ld8KgQkFCWUxPTi5WZWN0b3IyKDEyOCzCoDEyOCk7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgcmVuZGVyU2l6ZTpCQUJZTE9OLlZlY3RvcjLCoD3CoG5ld8KgQkFCWUxPTi5WZWN0b3IyKDUxMizCoDUxMik7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgZGVwdGhGYWN0b3I6bnVtYmVywqA9wqAxLjA7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgcmVmbGVjdFNreWJveDpib29sZWFuwqA9wqB0cnVlO1xuwqDCoMKgwqDCoMKgwqDCoHByaXZhdGXCoHN1YkRpdmlzaW9uczpudW1iZXLCoD3CoDMyO1xuwqDCoMKgwqDCoMKgwqDCoHByaXZhdGXCoGhlaWdodE9mZnNldDpudW1iZXLCoD3CoDEuMDtcbsKgwqDCoMKgwqDCoMKgwqBwcml2YXRlwqB3aW5kRGlyZWN0aW9uOsKgQkFCWUxPTi5WZWN0b3IywqA9wqBuZXfCoEJBQllMT04uVmVjdG9yMigwLMKgMSk7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgd2luZEZvcmNlOsKgbnVtYmVywqA9wqA2O1xuwqDCoMKgwqDCoMKgwqDCoHByaXZhdGXCoHdhdmVTcGVlZDrCoG51bWJlcsKgPcKgMS4wO1xuwqDCoMKgwqDCoMKgwqDCoHByaXZhdGXCoHdhdmVMZW5ndGg6wqBudW1iZXLCoD3CoDAuNDtcbsKgwqDCoMKgwqDCoMKgwqBwcml2YXRlwqB3YXZlSGVpZ2h0OsKgbnVtYmVywqA9wqAwLjQ7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgYnVtcEhlaWdodDrCoG51bWJlcsKgPcKgMC40O1xuwqDCoMKgwqDCoMKgwqDCoHByaXZhdGXCoGJ1bXBTdXBlcmltcG9zZTrCoGJvb2xlYW47XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgYnVtcEFmZmVjdHNSZWZsZWN0aW9uOsKgYm9vbGVhbjtcbsKgwqDCoMKgwqDCoMKgwqBwcml2YXRlwqB3YXRlckNvbG9yOsKgQkFCWUxPTi5Db2xvcjPCoD3CoG5ld8KgQkFCWUxPTi5Db2xvcjMoMC4xLMKgMC4xLMKgMC42KTtcbsKgwqDCoMKgwqDCoMKgwqBwcml2YXRlwqBjb2xvckJsZW5kRmFjdG9yOsKgbnVtYmVywqA9wqAwLjI7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgd2F0ZXJDb2xvcjI6wqBCQUJZTE9OLkNvbG9yM8KgPcKgbmV3wqBCQUJZTE9OLkNvbG9yMygwLjEswqAwLjEswqAwLjYpO1xuwqDCoMKgwqDCoMKgwqDCoHByaXZhdGXCoGNvbG9yQmxlbmRGYWN0b3IyOsKgbnVtYmVywqA9wqAwLjI7XG7CoMKgwqDCoMKgwqDCoMKgcHJpdmF0ZcKgZGlzYWJsZUNsaXBQbGFuZTrCoGJvb2xlYW7CoD3CoGZhbHNlO1xuwqDCoMKgwqDCoMKgwqDCoHByaXZhdGXCoGZyZXNuZWxTZXBhcmF0ZTrCoGJvb2xlYW47XG7CoMKgwqDCoMKgwqDCoMKgcHVibGljwqBnZXRXYXRlckdlb21ldHJ5KCk6QkFCWUxPTi5BYnN0cmFjdE1lc2jCoHvCoHJldHVybsKgdGhpcy5tX3dhdGVyR2VvbWV0cnk7wqB9XG7CoMKgwqDCoMKgwqDCoMKgcHVibGljwqBnZXRXYXRlck1hdGVyaWFsKCk6QkFCWUxPTi5XYXRlck1hdGVyaWFswqB7wqByZXR1cm7CoHRoaXMubV93YXRlck1hdGVyaWFsO8KgfVxuwqDCoMKgwqDCoMKgwqDCoHByb3RlY3RlZMKgbV93YXRlckdlb21ldHJ5OkJBQllMT04uQWJzdHJhY3RNZXNowqA9wqBudWxsO1xuwqDCoMKgwqDCoMKgwqDCoHByb3RlY3RlZMKgbV93YXRlck1hdGVyaWFsOkJBQllMT04uV2F0ZXJNYXRlcmlhbMKgPcKgbnVsbDtcbsKgwqDCoMKgwqDCoMKgwqBwcm90ZWN0ZWTCoGF3YWtlKCk6wqB2b2lkwqB7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLndhdGVyVGFnwqA9wqB0aGlzLmdldFByb3BlcnR5KFwid2F0ZXJUYWdcIizCoHRoaXMud2F0ZXJUYWcpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5kZXB0aEZhY3RvcsKgPcKgdGhpcy5nZXRQcm9wZXJ0eShcImRlcHRoRmFjdG9yXCIswqB0aGlzLmRlcHRoRmFjdG9yKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMuc3ViRGl2aXNpb25zwqA9wqB0aGlzLmdldFByb3BlcnR5KFwic3ViRGl2aXNpb25zXCIswqB0aGlzLnN1YkRpdmlzaW9ucyk7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLmhlaWdodE9mZnNldMKgPcKgdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodE9mZnNldFwiLMKgdGhpcy5oZWlnaHRPZmZzZXQpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5yZWZsZWN0U2t5Ym94wqA9wqB0aGlzLmdldFByb3BlcnR5KFwicmVmbGVjdFNreWJveFwiLMKgdGhpcy5yZWZsZWN0U2t5Ym94KTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMud2luZEZvcmNlwqA9wqB0aGlzLmdldFByb3BlcnR5KFwid2luZEZvcmNlXCIswqB0aGlzLndpbmRGb3JjZSk7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLndhdmVTcGVlZMKgPcKgdGhpcy5nZXRQcm9wZXJ0eShcIndhdmVTcGVlZFwiLMKgdGhpcy53YXZlU3BlZWQpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy53YXZlTGVuZ3RowqA9wqB0aGlzLmdldFByb3BlcnR5KFwid2F2ZUxlbmd0aFwiLMKgdGhpcy53YXZlTGVuZ3RoKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMud2F2ZUhlaWdodMKgPcKgdGhpcy5nZXRQcm9wZXJ0eShcIndhdmVIZWlnaHRcIizCoHRoaXMud2F2ZUhlaWdodCk7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLmJ1bXBIZWlnaHTCoD3CoHRoaXMuZ2V0UHJvcGVydHkoXCJidW1wSGVpZ2h0XCIswqB0aGlzLmJ1bXBIZWlnaHQpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5idW1wU3VwZXJpbXBvc2XCoD3CoHRoaXMuZ2V0UHJvcGVydHkoXCJidW1wU3VwZXJpbXBvc2VcIizCoHRoaXMuYnVtcFN1cGVyaW1wb3NlKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMuYnVtcEFmZmVjdHNSZWZsZWN0aW9uwqA9wqB0aGlzLmdldFByb3BlcnR5KFwiYnVtcEFmZmVjdHNSZWZsZWN0aW9uXCIswqB0aGlzLmJ1bXBBZmZlY3RzUmVmbGVjdGlvbik7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLmNvbG9yQmxlbmRGYWN0b3LCoD3CoHRoaXMuZ2V0UHJvcGVydHkoXCJjb2xvckJsZW5kRmFjdG9yXCIswqB0aGlzLmNvbG9yQmxlbmRGYWN0b3IpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5jb2xvckJsZW5kRmFjdG9yMsKgPcKgdGhpcy5nZXRQcm9wZXJ0eShcImNvbG9yQmxlbmRGYWN0b3IyXCIswqB0aGlzLmNvbG9yQmxlbmRGYWN0b3IyKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMuZGlzYWJsZUNsaXBQbGFuZcKgPcKgdGhpcy5nZXRQcm9wZXJ0eShcImRpc2FibGVDbGlwUGxhbmVcIizCoHRoaXMuZGlzYWJsZUNsaXBQbGFuZSk7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLmZyZXNuZWxTZXBhcmF0ZcKgPcKgdGhpcy5nZXRQcm9wZXJ0eShcImZyZXNuZWxTZXBhcmF0ZVwiLMKgdGhpcy5mcmVzbmVsU2VwYXJhdGUpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgLy/CoC4uXG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqBjb25zdMKgd2NvbG9yMTpVTklUWS5JVW5pdHlDb2xvcsKgPcKgdGhpcy5nZXRQcm9wZXJ0eShcIndhdGVyQ29sb3JcIik7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLndhdGVyQ29sb3LCoD3CoFVOSVRZLlV0aWxpdGllcy5QYXJzZUNvbG9yMyh3Y29sb3IxKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoC8vwqAuLlxuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgY29uc3TCoHdjb2xvcjI6VU5JVFkuSVVuaXR5Q29sb3LCoD3CoHRoaXMuZ2V0UHJvcGVydHkoXCJ3YXRlckNvbG9yMlwiKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMud2F0ZXJDb2xvcjLCoD3CoFVOSVRZLlV0aWxpdGllcy5QYXJzZUNvbG9yMyh3Y29sb3IyKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoC8vwqAuLlxuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgY29uc3TCoHdkaXJlY3Rpb246IFVOSVRZLklVbml0eVZlY3RvcjIgPcKgdGhpcy5nZXRQcm9wZXJ0eShcIndpbmREaXJlY3Rpb25cIik7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLndpbmREaXJlY3Rpb27CoD3CoFVOSVRZLlV0aWxpdGllcy5QYXJzZVZlY3RvcjIod2RpcmVjdGlvbik7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAvL8KgLi5cbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoGNvbnN0wqBpdGFyZ2V0c2l6ZTogVU5JVFkuSVVuaXR5VmVjdG9yMiA9wqB0aGlzLmdldFByb3BlcnR5KFwidGFyZ2V0U2l6ZVwiKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoGlmwqAoaXRhcmdldHNpemXCoCE9wqBudWxsKcKgdGhpcy50YXJnZXRTaXplwqA9wqBVTklUWS5VdGlsaXRpZXMuUGFyc2VWZWN0b3IyKGl0YXJnZXRzaXplKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoC8vwqAuLsKgwqDCoMKgwqDCoMKgwqBcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoGNvbnN0wqBpcmVuZGVyc2l6ZTogVU5JVFkuSVVuaXR5VmVjdG9yMiA9wqB0aGlzLmdldFByb3BlcnR5KFwicmVuZGVyU2l6ZVwiKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoGlmwqAoaXJlbmRlcnNpemXCoCE9wqBudWxsKcKgdGhpcy5yZW5kZXJTaXplwqA9wqBVTklUWS5VdGlsaXRpZXMuUGFyc2VWZWN0b3IyKGlyZW5kZXJzaXplKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoC8qwqBBd2FrZcKgY29tcG9uZW50wqBmdW5jdGlvbsKgKi9cbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoGxldMKgYnVtcFRleHR1cmU6QkFCWUxPTi5UZXh0dXJlwqA9wqBudWxsO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgY29uc3TCoGJ1bXBUZXh0dXJlRGF0YTpVTklUWS5JVW5pdHlUZXh0dXJlwqA9wqB0aGlzLmdldFByb3BlcnR5KFwiYnVtcFRleHR1cmVcIik7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqBpZsKgKGJ1bXBUZXh0dXJlRGF0YcKgIT3CoG51bGwpwqBidW1wVGV4dHVyZcKgPcKgVU5JVFkuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShidW1wVGV4dHVyZURhdGEswqB0aGlzLnNjZW5lKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoGlmwqAoYnVtcFRleHR1cmXCoCE9wqBudWxsKcKge1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJNYXRlcmlhbMKgPcKgbmV3wqBCQUJZTE9OLldhdGVyTWF0ZXJpYWwodGhpcy50cmFuc2Zvcm0ubmFtZcKgK8KgXCIuV2F0ZXJcIizCoHRoaXMuc2NlbmUswqB0aGlzLnJlbmRlclNpemUpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5idW1wVGV4dHVyZcKgPcKgYnVtcFRleHR1cmU7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMubV93YXRlck1hdGVyaWFsLndpbmREaXJlY3Rpb27CoD3CoHRoaXMud2luZERpcmVjdGlvbjtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2luZEZvcmNlwqA9wqB0aGlzLndpbmRGb3JjZTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2F2ZVNwZWVkwqA9wqB0aGlzLndhdmVTcGVlZDtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2F2ZUxlbmd0aMKgPcKgdGhpcy53YXZlTGVuZ3RoO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJNYXRlcmlhbC53YXZlSGVpZ2h0wqA9wqB0aGlzLndhdmVIZWlnaHQ7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMubV93YXRlck1hdGVyaWFsLmJ1bXBIZWlnaHTCoD3CoHRoaXMuYnVtcEhlaWdodDtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuYnVtcFN1cGVyaW1wb3NlwqA9wqB0aGlzLmJ1bXBTdXBlcmltcG9zZTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuYnVtcEFmZmVjdHNSZWZsZWN0aW9uwqA9wqB0aGlzLmJ1bXBBZmZlY3RzUmVmbGVjdGlvbjtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2F0ZXJDb2xvcsKgPcKgdGhpcy53YXRlckNvbG9yO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5jb2xvckJsZW5kRmFjdG9ywqA9wqB0aGlzLmNvbG9yQmxlbmRGYWN0b3I7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMubV93YXRlck1hdGVyaWFsLndhdGVyQ29sb3IywqA9wqB0aGlzLndhdGVyQ29sb3IyO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5jb2xvckJsZW5kRmFjdG9yMsKgPcKgdGhpcy5jb2xvckJsZW5kRmFjdG9yMjtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuZGlzYWJsZUNsaXBQbGFuZcKgPcKgdGhpcy5kaXNhYmxlQ2xpcFBsYW5lO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5mcmVzbmVsU2VwYXJhdGXCoD3CoHRoaXMuZnJlc25lbFNlcGFyYXRlO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAvL8KgLi5cbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgLy/CoFdhdGVywqBNYXRlcmlhbMKgVGFnc1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAvL8KgLi5cbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgaWbCoCh0aGlzLnJlZmxlY3RTa3lib3jCoD09PcKgdHJ1ZSnCoHtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqBjb25zdMKgc2t5Ym94TWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaMKgPcKgVU5JVFkuU2NlbmVNYW5hZ2VyLkdldERlZmF1bHRTa3lib3godGhpcy5zY2VuZSk7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgaWbCoChza3lib3hNZXNowqAhPcKgbnVsbCnCoHRoaXMubV93YXRlck1hdGVyaWFsLmFkZFRvUmVuZGVyTGlzdChza3lib3hNZXNoKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgfVxuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqBpZsKgKHRoaXMud2F0ZXJUYWfCoCE9wqBudWxswqAmJsKgdGhpcy53YXRlclRhZ8KgIT09wqBcIlwiKcKge1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoGNvbnN0wqB3YXRlck1lc2hlczpCQUJZTE9OLkFic3RyYWN0TWVzaFtdwqA9wqB0aGlzLnNjZW5lLmdldE1lc2hlc0J5VGFncyh0aGlzLndhdGVyVGFnKTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqBpZsKgKHdhdGVyTWVzaGVzwqAhPcKgbnVsbMKgJibCoHdhdGVyTWVzaGVzLmxlbmd0aMKgPsKgMCnCoHtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHdhdGVyTWVzaGVzLmZvckVhY2goKG1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2gpwqA9PsKge1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5hZGRUb1JlbmRlckxpc3QobWVzaCk7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB9KTtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB9XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoH1cbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgLy/CoC4uXG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoC8vwqBXYXRlcsKgTWF0ZXJpYWzCoE1lc2hcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgLy/CoC4uXG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMubV93YXRlckdlb21ldHJ5wqA9wqBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUdyb3VuZCh0aGlzLnRyYW5zZm9ybS5uYW1lwqArwqBcIi5XYXRlck1lc2hcIizCoHsgd2lkdGg6IHRoaXMudGFyZ2V0U2l6ZS54LMKgaGVpZ2h0OiB0aGlzLnRhcmdldFNpemUueSwgc3ViZGl2aXNpb25zOsKgdGhpcy5zdWJEaXZpc2lvbnMsIHVwZGF0YWJsZTogZmFsc2UgfSzCoHRoaXMuc2NlbmUpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJHZW9tZXRyeS5wYXJlbnTCoD3CoHRoaXMudHJhbnNmb3JtO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqB0aGlzLm1fd2F0ZXJHZW9tZXRyeS5wb3NpdGlvbi5zZXQoMCzCoHRoaXMuaGVpZ2h0T2Zmc2V0LMKgMCk7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoGlmwqAodGhpcy5kZXB0aEZhY3RvcsKgPsKgMCnCoHRoaXMubV93YXRlckdlb21ldHJ5LnNjYWxpbmcuecKgKj3CoHRoaXMuZGVwdGhGYWN0b3I7XG7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoHRoaXMubV93YXRlckdlb21ldHJ5Lm1hdGVyaWFswqA9wqB0aGlzLm1fd2F0ZXJNYXRlcmlhbDtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoH3CoGVsc2XCoHtcbsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgVU5JVFkuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJOb8Kgc3VwcG9ydGVkwqB3YXRlcsKgYnVtcMKgdGV4dHVyZcKgZm9yOsKgXCLCoCvCoHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgfVxuwqDCoMKgwqDCoMKgwqDCoH1cbsKgwqDCoMKgwqDCoMKgwqBwcm90ZWN0ZWTCoHN0YXJ0KCk6wqB2b2lkwqB7wqAvKsKgU3RhcnTCoHJlbmRlcsKgbG9vcMKgZnVuY3Rpb27CoCovwqB9XG7CoMKgwqDCoMKgwqDCoMKgcHJvdGVjdGVkwqB1cGRhdGUoKTrCoHZvaWTCoHvCoC8qwqBVcGRhdGXCoHJlbmRlcsKgbG9vcMKgZnVuY3Rpb27CoCovwqB9XG7CoMKgwqDCoMKgwqDCoMKgcHJvdGVjdGVkwqBsYXRlKCk6wqB2b2lkwqB7wqAvKsKgTGF0ZcKgdXBkYXRlwqByZW5kZXLCoGxvb3DCoGZ1bmN0aW9uwqAqL8KgfVxuwqDCoMKgwqDCoMKgwqDCoHByb3RlY3RlZMKgYWZ0ZXIoKTrCoHZvaWTCoHvCoC8qwqBBZnRlcsKgcmVuZGVywqBsb29wwqBmdW5jdGlvbsKgKi/CoH1cbsKgwqDCoMKgwqDCoMKgwqBwcm90ZWN0ZWTCoGRlc3Ryb3koKTrCoHZvaWTCoHvCoC8qwqBEZXN0cm95wqBjb21wb25lbnTCoGZ1bmN0aW9uwqAqL8KgfVxuwqDCoMKgwqB9XG59XG4iLCJtb2R1bGUgQkFCWUxPTiB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiB3aW5kb3dzIHBsYXRmb3JtIHBybyBjbGFzc1xuICAgICAqIEBjbGFzcyBXaW5kb3dzUGxhdGZvcm0gLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgV2luZG93c1BsYXRmb3JtIHtcbiAgICAgICAgLyoqIElzIHhib3ggbGl2ZSB1c2VyIHNpZ25lZCBpbiBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBlbmFibGVkLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNYYm94TGl2ZVVzZXJTaWduZWRJbihzeXN0ZW1Vc2VyOiBXaW5kb3dzLlN5c3RlbS5Vc2VyID0gbnVsbCwgcGxheWVyOlVOSVRZLlBsYXllck51bWJlciA9IFVOSVRZLlBsYXllck51bWJlci5PbmUpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGlmIChVTklUWS5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVzZXI6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5YYm94TGl2ZVVzZXIgPSAoc3lzdGVtVXNlciAhPSBudWxsKSA/IEJBQllMT04uV2luZG93c1BsYXRmb3JtLkdldFhib3hMaXZlU3lzdGVtVXNlcihzeXN0ZW1Vc2VyLCBwbGF5ZXIpIDogQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uR2V0WGJveExpdmVVc2VyKHBsYXllcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh1c2VyICE9IG51bGwgJiYgdXNlci5pc1NpZ25lZEluID09IHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFZhbGlkYXRlZCBzaWduIGluIHhib3ggbGl2ZSB1c2VyIGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFhib3hMaXZlVXNlclNpZ25JbihwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyID0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSwgb25jb21wbGV0ZT86IChyZXN1bHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5TaWduSW5SZXN1bHQpID0+IHZvaWQsIG9uZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgb25wcm9ncmVzcz86IChwcm9ncmVzczogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoVU5JVFkuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uV2luZG93c1BsYXRmb3JtLlhib3hMaXZlVXNlclNpbGVudFNpZ25JbihwbGF5ZXIsIChmaXJzdDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlNpZ25JblJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3Quc3RhdHVzID09PSBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uU2lnbkluU3RhdHVzLnVzZXJJbnRlcmFjdGlvblJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5YYm94TGl2ZVVzZXJEaWFsb2dTaWduSW4ocGxheWVyLCAoc2Vjb25kOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uU2lnbkluUmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uY29tcGxldGUpIG9uY29tcGxldGUoc2Vjb25kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9uZXJyb3IsIG9ucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uY29tcGxldGUpIG9uY29tcGxldGUoZmlyc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgb25lcnJvciwgb25wcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNpbGVudCBzaWduIGluIHhib3ggbGl2ZSB1c2VyIGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFhib3hMaXZlVXNlclNpbGVudFNpZ25JbihwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyID0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSwgb25jb21wbGV0ZT86IChyZXN1bHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5TaWduSW5SZXN1bHQpID0+IHZvaWQsIG9uZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgb25wcm9ncmVzcz86IChwcm9ncmVzczogYW55KSA9PiB2b2lkKTogV2luZG93cy5Gb3VuZGF0aW9uLlByb2plY3Rpb25zLlByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgcmV0dXJuIChVTklUWS5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSA/IEJBQllMT04uV2luZG93c1BsYXRmb3JtLkdldFhib3hMaXZlVXNlcihwbGF5ZXIpLnNpZ25JblNpbGVudGx5QXN5bmMobnVsbCkudGhlbihvbmNvbXBsZXRlLCBvbmVycm9yLCBvbnByb2dyZXNzKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIERpYWxvZyBzaWduIGluIHhib3ggbGl2ZSB1c2VyIGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFhib3hMaXZlVXNlckRpYWxvZ1NpZ25JbihwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyID0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSwgb25jb21wbGV0ZT86IChyZXN1bHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5TaWduSW5SZXN1bHQpID0+IHZvaWQsIG9uZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgb25wcm9ncmVzcz86IChwcm9ncmVzczogYW55KSA9PiB2b2lkKTogV2luZG93cy5Gb3VuZGF0aW9uLlByb2plY3Rpb25zLlByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgcmV0dXJuIChVTklUWS5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSA/IEJBQllMT04uV2luZG93c1BsYXRmb3JtLkdldFhib3hMaXZlVXNlcihwbGF5ZXIpLnNpZ25JbkFzeW5jKG51bGwpLnRoZW4ob25jb21wbGV0ZSwgb25lcnJvciwgb25wcm9ncmVzcykgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBMb2FkcyBhIHhib3ggbGl2ZSB1c2VyIHByb2ZpbGUgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9hZFhib3hMaXZlVXNlclByb2ZpbGUocGxheWVyOlVOSVRZLlBsYXllck51bWJlciA9IFVOSVRZLlBsYXllck51bWJlci5PbmUsIG9uY29tcGxldGU/OiAocmVzdWx0OiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5Tb2NpYWwuWGJveFVzZXJQcm9maWxlKSA9PiB2b2lkLCBvbmVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIG9ucHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IGFueSkgPT4gdm9pZCk6IFdpbmRvd3MuRm91bmRhdGlvbi5Qcm9qZWN0aW9ucy5Qcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgIHJldHVybiAoVU5JVFkuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkgPyBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5HZXRYYm94TGl2ZVVzZXJDb250ZXh0KHBsYXllcikucHJvZmlsZVNlcnZpY2UuZ2V0VXNlclByb2ZpbGVBc3luYyhCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5HZXRYYm94TGl2ZVVzZXIocGxheWVyKS54Ym94VXNlcklkKS50aGVuKG9uY29tcGxldGUsIG9uZXJyb3IsIG9ucHJvZ3Jlc3MpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbiAgICAgICAgLy8gKiBCYWJ5bG9uIFhib3ggTGl2ZSBQbGF5ZXIgRnVuY3Rpb25zICogLy9cbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbiAgICAgICBcbiAgICAgICAgLyoqIEdldCB4Ym94IGxpdmUgdXNlciBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRYYm94TGl2ZVVzZXIocGxheWVyOlVOSVRZLlBsYXllck51bWJlciA9IFVOSVRZLlBsYXllck51bWJlci5PbmUpOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uWGJveExpdmVVc2VyIHtcbiAgICAgICAgICAgIGxldCB1c2VyOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uWGJveExpdmVVc2VyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChVTklUWS5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBVTklUWS5QbGF5ZXJOdW1iZXIuT25lOlxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlVXNlck9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVU5JVFkuUGxheWVyTnVtYmVyLlR3bzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVVzZXJUd28oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFVOSVRZLlBsYXllck51bWJlci5UaHJlZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVVzZXJUaHJlZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVU5JVFkuUGxheWVyTnVtYmVyLkZvdXI6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVVc2VyRm91cigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHhib3ggbGl2ZSB1c2VyIGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFhib3hMaXZlU3lzdGVtVXNlcihzeXN0ZW1Vc2VyOiBXaW5kb3dzLlN5c3RlbS5Vc2VyLCBwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyID0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSk6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5YYm94TGl2ZVVzZXIge1xuICAgICAgICAgICAgbGV0IHVzZXI6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5YYm94TGl2ZVVzZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKFVOSVRZLldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFVOSVRZLlBsYXllck51bWJlci5PbmU6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVTeXN0ZW1Vc2VyT25lKHN5c3RlbVVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVU5JVFkuUGxheWVyTnVtYmVyLlR3bzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVN5c3RlbVVzZXJUd28oc3lzdGVtVXNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBVTklUWS5QbGF5ZXJOdW1iZXIuVGhyZWU6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVTeXN0ZW1Vc2VyVGhyZWUoc3lzdGVtVXNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBVTklUWS5QbGF5ZXJOdW1iZXIuRm91cjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVN5c3RlbVVzZXJGb3VyKHN5c3RlbVVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHhib3ggbGl2ZSB1c2VyIGNvbnRleHQgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0WGJveExpdmVVc2VyQ29udGV4dChwbGF5ZXI6VU5JVFkuUGxheWVyTnVtYmVyID0gVU5JVFkuUGxheWVyTnVtYmVyLk9uZSk6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlhib3hMaXZlQ29udGV4dCB7XG4gICAgICAgICAgICBsZXQgY29udGV4dDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuWGJveExpdmVDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChVTklUWS5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBVTklUWS5QbGF5ZXJOdW1iZXIuT25lOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlQ29udGV4dE9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVU5JVFkuUGxheWVyTnVtYmVyLlR3bzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZUNvbnRleHRUd28oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFVOSVRZLlBsYXllck51bWJlci5UaHJlZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZUNvbnRleHRUaHJlZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVU5JVFkuUGxheWVyTnVtYmVyLkZvdXI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVDb250ZXh0Rm91cigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICAvKiogUmVzZXRzIHhib3ggbGl2ZSB1c2VyIGNvbnRleHQgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVzZXRYYm94TGl2ZVVzZXJDb250ZXh0KHBsYXllcjpVTklUWS5QbGF5ZXJOdW1iZXIgPSBVTklUWS5QbGF5ZXJOdW1iZXIuT25lKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoVU5JVFkuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVU5JVFkuUGxheWVyTnVtYmVyLk9uZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLnJlc2V0WGJveExpdmVVc2VyQ29udGV4dE9uZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBVTklUWS5QbGF5ZXJOdW1iZXIuVHdvOlxuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4ucmVzZXRYYm94TGl2ZVVzZXJDb250ZXh0VHdvKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFVOSVRZLlBsYXllck51bWJlci5UaHJlZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLnJlc2V0WGJveExpdmVVc2VyQ29udGV4dFRocmVlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFVOSVRZLlBsYXllck51bWJlci5Gb3VyOlxuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4ucmVzZXRYYm94TGl2ZVVzZXJDb250ZXh0Rm91cigpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbiAgICAgICAgLy8gKiBCYWJ5bG9uIFhib3ggTGl2ZSBDb250ZXh0IEZ1bmN0aW9ucyAqIC8vXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuXG4gICAgICAgIC8qKiBHZXQgeGJveCBsaXZlIGNvbnRleHQgcHJvcGVydHkgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0WGJveExpdmVDb250ZXh0UHJvcGVydHkobmFtZTphbnkpOiBhbnkge1xuICAgICAgICAgICAgcmV0dXJuIChVTklUWS5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSA/ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlQ29udGV4dFByb3BlcnR5KG5hbWUpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHhib3ggbGl2ZSBjb250ZXh0IHByb3BlcnR5IGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFNldFhib3hMaXZlQ29udGV4dFByb3BlcnR5KG5hbWU6IGFueSwgcHJvcGVydHk6IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKFVOSVRZLldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5zZXRYYm94TGl2ZUNvbnRleHRQcm9wZXJ0eShuYW1lLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlc2V0cyB4Ym94IGxpdmUgcHJvcGVydHkgY29udGV4dCBiYWcgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVzZXRYYm94TGl2ZVByb3BlcnR5Q29udGV4dHMoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoVU5JVFkuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLnJlc2V0WGJveExpdmVQcm9wZXJ0eUNvbnRleHRzKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbiAgICAgICAgLy8gKiBCYWJ5bG9uIFhib3ggTGl2ZSBTaWduIE91dCBGdW5jdGlvbnMgKiAvL1xuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4gICAgICAgIFxuICAgICAgICAvKiogU2V0cyB0aGUgWGJveCBVc2VyIFNpZ24gT3V0IENvbXBsZXRlIEhhbmRsZXIgKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFNldFhib3hMaXZlU2lnbk91dEhhbmRsZXIoaGFuZGxlcjogKHJlc3VsdDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlNpZ25PdXRDb21wbGV0ZWRFdmVudEFyZ3MpID0+IHZvaWQgPSBudWxsKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoVU5JVFkuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLm9udXNlcnNpZ25vdXQgPSBoYW5kbGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFBhaW50U2hvcFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFBhaW50U2hvcCBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ0FSX01BVEVSSUFMXzAxID0gXCJSYWNlQ2FyIFYwMiBDMDFcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDQVJfTUFURVJJQUxfMDIgPSBcIlJhY2VDYXIgVjAyIEMwMlwiO1xuICAgICAgICBwdWJsaWMgc3RhdGljIENBUl9NQVRFUklBTF8wMyA9IFwiUmFjZUNhciBWMDIgQzAzXCI7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ0FSX01BVEVSSUFMXzA0ID0gXCJSYWNlQ2FyIFYwMiBDMDRcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDQVJfTUFURVJJQUxfMDUgPSBcIlJhY2VDYXIgVjAyIEMwNVwiO1xuICAgICAgICBwdWJsaWMgc3RhdGljIENBUl9NQVRFUklBTF8wNiA9IFwiUmFjZUNhciBWMDIgQzA2XCI7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ0FSX01BVEVSSUFMXzA3ID0gXCJSYWNlQ2FyIFYwMiBDMDdcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDQVJfTUFURVJJQUxfMDggPSBcIlJhY2VDYXIgVjAyIEMwOFwiO1xuICAgICAgICBwdWJsaWMgc3RhdGljIENBUl9NQVRFUklBTF8wOSA9IFwiUmFjZUNhciBWMDIgQzA5XCI7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ0FSX01BVEVSSUFMXzEwID0gXCJSYWNlQ2FyIFYwMiBDMTBcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDQVJfTUFURVJJQUxfMTEgPSBcIlJhY2VDYXIgVjAyIEMxMVwiO1xuICAgICAgICBwdWJsaWMgc3RhdGljIENBUl9NQVRFUklBTF8xMiA9IFwiUmFjZUNhciBWMDIgQzEyXCI7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ0FSX01BVEVSSUFMXzEzID0gXCJSYWNlQ2FyIFYwMiBDMTNcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDQVJfTUFURVJJQUxfMTQgPSBcIlJhY2VDYXIgVjAyIEMxNFwiO1xuICAgICAgICBwdWJsaWMgc3RhdGljIENBUl9NQVRFUklBTF8xNSA9IFwiUmFjZUNhciBWMDIgQzE1XCI7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ0FSX01BVEVSSUFMXzE2ID0gXCJSYWNlQ2FyIFYwMiBDMTZcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDQVJfTUFURVJJQUxfMTcgPSBcIlJhY2VDYXIgVjAyIEMxN1wiO1xuICAgICAgICBwdWJsaWMgc3RhdGljIENBUl9NQVRFUklBTF8xOCA9IFwiUmFjZUNhciBWMDIgQzE4XCI7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ0FSX01BVEVSSUFMXzE5ID0gXCJSYWNlQ2FyIFYwMiBDMTlcIjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDQVJfTUFURVJJQUxfMjAgPSBcIlJhY2VDYXIgVjAyIEMyMFwiO1xuXG4gICAgICAgIHByaXZhdGUgY2FyTWF0ZXJpYWw6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByYWNlQ2FyQm9keTpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUNhckRyaXZlcjpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FyTWF0ZXJpYWwgPiAwKSB0aGlzLnNldENhck1hdGVyaWFsKHRoaXMuY2FyTWF0ZXJpYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnJhY2VDYXJCb2R5ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXRDYXJNYXRlcmlhbChvbmVCYXNlZEluZGV4Om51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBsZXQgY2FyTWF0ZXJpYWxOYW1lOnN0cmluZyA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCB6ZXJvQmFzZWRJbmRleDpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgob25lQmFzZWRJbmRleC0xKSwgMCwgMTkpO1xuICAgICAgICAgICAgc3dpdGNoICh6ZXJvQmFzZWRJbmRleCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgY2FyTWF0ZXJpYWxOYW1lID0gUFJPSkVDVC5QYWludFNob3AuQ0FSX01BVEVSSUFMXzAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGNhck1hdGVyaWFsTmFtZSA9IFBST0pFQ1QuUGFpbnRTaG9wLkNBUl9NQVRFUklBTF8wMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBjYXJNYXRlcmlhbE5hbWUgPSBQUk9KRUNULlBhaW50U2hvcC5DQVJfTUFURVJJQUxfMDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgY2FyTWF0ZXJpYWxOYW1lID0gUFJPSkVDVC5QYWludFNob3AuQ0FSX01BVEVSSUFMXzA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGNhck1hdGVyaWFsTmFtZSA9IFBST0pFQ1QuUGFpbnRTaG9wLkNBUl9NQVRFUklBTF8wNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBjYXJNYXRlcmlhbE5hbWUgPSBQUk9KRUNULlBhaW50U2hvcC5DQVJfTUFURVJJQUxfMDY7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgY2FyTWF0ZXJpYWxOYW1lID0gUFJPSkVDVC5QYWludFNob3AuQ0FSX01BVEVSSUFMXzA3O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGNhck1hdGVyaWFsTmFtZSA9IFBST0pFQ1QuUGFpbnRTaG9wLkNBUl9NQVRFUklBTF8wODtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBjYXJNYXRlcmlhbE5hbWUgPSBQUk9KRUNULlBhaW50U2hvcC5DQVJfTUFURVJJQUxfMDk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgY2FyTWF0ZXJpYWxOYW1lID0gUFJPSkVDVC5QYWludFNob3AuQ0FSX01BVEVSSUFMXzEwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBjYXJNYXRlcmlhbE5hbWUgPSBQUk9KRUNULlBhaW50U2hvcC5DQVJfTUFURVJJQUxfMTE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGNhck1hdGVyaWFsTmFtZSA9IFBST0pFQ1QuUGFpbnRTaG9wLkNBUl9NQVRFUklBTF8xMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgY2FyTWF0ZXJpYWxOYW1lID0gUFJPSkVDVC5QYWludFNob3AuQ0FSX01BVEVSSUFMXzEzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBjYXJNYXRlcmlhbE5hbWUgPSBQUk9KRUNULlBhaW50U2hvcC5DQVJfTUFURVJJQUxfMTQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgIGNhck1hdGVyaWFsTmFtZSA9IFBST0pFQ1QuUGFpbnRTaG9wLkNBUl9NQVRFUklBTF8xNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgY2FyTWF0ZXJpYWxOYW1lID0gUFJPSkVDVC5QYWludFNob3AuQ0FSX01BVEVSSUFMXzE2O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICBjYXJNYXRlcmlhbE5hbWUgPSBQUk9KRUNULlBhaW50U2hvcC5DQVJfTUFURVJJQUxfMTc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIGNhck1hdGVyaWFsTmFtZSA9IFBST0pFQ1QuUGFpbnRTaG9wLkNBUl9NQVRFUklBTF8xODtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICAgICAgY2FyTWF0ZXJpYWxOYW1lID0gUFJPSkVDVC5QYWludFNob3AuQ0FSX01BVEVSSUFMXzE5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICBjYXJNYXRlcmlhbE5hbWUgPSBQUk9KRUNULlBhaW50U2hvcC5DQVJfTUFURVJJQUxfMjA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yYWNlQ2FyQm9keSAhPSBudWxsICYmIGNhck1hdGVyaWFsTmFtZSAhPSBudWxsICYmIGNhck1hdGVyaWFsTmFtZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsOkJBQllMT04uTWF0ZXJpYWwgPSB0aGlzLnNjZW5lLmdldE1hdGVyaWFsQnlOYW1lKGNhck1hdGVyaWFsTmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsICE9IG51bGwgJiYgbWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLlBCUk1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFjZUNhckJvZHkubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJGYWlsZWQgdG8gbG9jYXRlIHJhY2UgY2FyIG1hdGVyaWFsOiBcIiArIGNhck1hdGVyaWFsTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFJhY2luZ0h1ZFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFJhY2luZ0h1ZCBleHRlbmRzIFVOSVRZLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIC8vIEV4YW1wbGU6IHByaXZhdGUgaGVsbG9Xb3JsZDpzdHJpbmcgPSBcIkhlbGxvIFdvcmxkXCI7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogSW5pdCBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIFN0YXJ0IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGZpeGVkKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogRml4ZWQgdXBkYXRlIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBVcGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogTGF0ZSB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEFmdGVyIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlYWR5KCk6IHZvaWQge1xuICAgICAgICAgICAgLyogRXhlY3V0ZSB3aGVuIHJlYWR5IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIERlc3Ryb3kgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50IChXcml0dGVuIEJ5OiBNYWNrZXkgS2luYXJkKVxuICAgICogQGNsYXNzIENhbWVyYV9CaWdTY3JlZW5zXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQ2FtZXJhX0JpZ1NjcmVlbnMgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBfU3RhdGljSW5zdGFuY2U6UFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEluc3RhbmNlKCkgeyByZXR1cm4gUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5fU3RhdGljSW5zdGFuY2U7IH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBGUk9OVF9DQU1FUkFfUEFERElORzpudW1iZXIgPSA4O1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBSRUFSX0NBTUVSQV9QQURESU5HOm51bWJlciA9IDQ7XG5cbiAgICAgICAgcHJpdmF0ZSByZXNvbHV0aW9uOm51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgaW50ZXJ2YWw6bnVtYmVyID0gMzA7XG4gICAgICAgIHByaXZhdGUgY3ljbGU6bnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSB0aW1lcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBvaW50czpCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc2NyZWVuczpCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcGxheWVyOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhOkJBQllMT04uRnJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbWFpbjpCQUJZTE9OLkNhbWVyYSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSByZWFyQ2FtZXJhOlBST0pFQ1QuSUNhbWVyYU1vdW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udENhbWVyYTpQUk9KRUNULklDYW1lcmFNb3VudCA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBjdXJyZW50UG9pbnQ6bnVtYmVyID0gLTE7XG4gICAgICAgIHByaXZhdGUgY3VycmVudE1vdW50Om51bWJlciA9IC0xO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnRQbGF5ZXI6bnVtYmVyID0gLTE7XG4gICAgICAgIHByaXZhdGUga2VlcEFzcGVjdFJhdGlvOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIHNldEZpeGVkTG9jYXRpb25zOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZW5kZXJUZXh0dXJlOkJBQllMT04uUmVuZGVyVGFyZ2V0VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc2NyZWVuTWF0ZXJpYWw6QkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmb2N1c1BsYXllclZlaGljbGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzeW5jQ2FtZXJhVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbG9va0NhbWVyYVRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgcG9zaXRpb25WZWN0b3JCdWZmZXI6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcG9zaXRpb25PZmZzZXRCdWZmZXI6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmVsYXRpdmVQb3NpdGlvbkJ1ZmZlcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSByZWxhdGl2ZVJvdGF0aW9uQnVmZmVyOkJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG5cbiAgICAgICAgcHVibGljIEF1dG9Td2l0Y2hDYW1lcmE6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBTd2l0Y2hBY3RpdmVWaWV3KHVwZGF0ZVBsYXllcjpudW1iZXIgPSAxLCB1cGRhdGVNb3VudDpudW1iZXIgPSA5OSk6dm9pZCB7IGlmICh0aGlzLnJlbmRlclRleHR1cmUgIT0gbnVsbCkgdGhpcy5zd2l0Y2hDYW1lcmFMb2NhdGlvbih1cGRhdGVQbGF5ZXIsIHVwZGF0ZU1vdW50KTsgfVxuICAgICAgICBwdWJsaWMgQWN0aXZhdGVNYWluQ2FtZXJhKCk6dm9pZCB7IGlmICh0aGlzLm1haW4gIT0gbnVsbCkgdGhpcy5zY2VuZS5hY3RpdmVDYW1lcmEgPSB0aGlzLm1haW47IH1cbiAgICAgICAgcHVibGljIEFjdGl2YXRlUGxheWVyQ2FtZXJhKCk6dm9pZCB7IGlmICh0aGlzLmNhbWVyYSAhPSBudWxsKSB0aGlzLnNjZW5lLmFjdGl2ZUNhbWVyYSA9IHRoaXMuY2FtZXJhOyB9XG4gICAgICAgIHB1YmxpYyBHZXRQbGF5ZXJGb2N1c1ZlaGljbGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5mb2N1c1BsYXllclZlaGljbGU7IH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHByb3BlcnRpZXM/OiBhbnkpIHtcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgc2NlbmUsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5fU3RhdGljSW5zdGFuY2UgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5pbml0Q2FtZXJhU2V0dXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNhbWVyVGltZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNhbWVyYVBvc2l0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVucyA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JlZW5NYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5NYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5NYXRlcmlhbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaW5pdENhbWVyYVNldHVwKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1haW4gPSB0aGlzLnNjZW5lLmFjdGl2ZUNhbWVyYTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5nZXRDYW1lcmFSaWcoKTtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzID0gdGhpcy5nZXRUcmFuc2Zvcm1Ob2Rlc1dpdGhOYW1lKHRoaXMuc2NlbmUsIFwiQ2FtZXJhX1BvaW50XCIpO1xuICAgICAgICAgICAgdGhpcy5zY3JlZW5zID0gdGhpcy5nZXRUcmFuc2Zvcm1Ob2Rlc1dpdGhOYW1lKHRoaXMuc2NlbmUsIFwiU2NyZWVuXCIpO1xuICAgICAgICAgICAgdGhpcy5pbml0U2NyZWVuVGV4dHVyZXMoKTtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoQ2FtZXJhTG9jYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY2FudmFzV2lkdGg6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjYW52YXNIZWlnaHQ6bnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBSVFRfUkFUSU86bnVtYmVyID0gMDtcblxuICAgICAgICBwcm90ZWN0ZWQgaW5pdFNjcmVlblRleHR1cmVzKCk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQgPSB0aGlzLnNjZW5lLmdldEVuZ2luZSgpLmdldFJlbmRlcmluZ0NhbnZhcygpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNXaWR0aCA9IChjYW52YXMud2lkdGggKiAwLjUpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNIZWlnaHQgPSAoY2FudmFzLmhlaWdodCAqIDAuNSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJUZXh0dXJlID09IG51bGwpIHRoaXMucmVuZGVyVGV4dHVyZSA9IG5ldyBCQUJZTE9OLlJlbmRlclRhcmdldFRleHR1cmUoXCJCaWdTY3JlZW5UZXh0dXJlXCIsIHsgd2lkdGg6IHRoaXMuY2FudmFzV2lkdGgsIGhlaWdodDogdGhpcy5jYW52YXNIZWlnaHQgfSwgdGhpcy5zY2VuZSwgeyBkb05vdENoYW5nZUFzcGVjdFJhdGlvOiB0aGlzLmtlZXBBc3BlY3RSYXRpbyB9KTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS53cmFwVSA9IEJBQllMT04uVGV4dHVyZS5DTEFNUF9BRERSRVNTTU9ERTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS53cmFwViA9IEJBQllMT04uVGV4dHVyZS5DTEFNUF9BRERSRVNTTU9ERTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5yZW5kZXJMaXN0ID0gdGhpcy5zY2VuZS5tZXNoZXM7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYWN0aXZlQ2FtZXJhID0gdGhpcy5jYW1lcmE7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmN1c3RvbVJlbmRlclRhcmdldHMucHVzaCh0aGlzLnJlbmRlclRleHR1cmUpO1xuICAgICAgICAgICAgLy90aGlzLnJlbmRlclRleHR1cmUudlNjYWxlID0gKHRoaXMuY2FudmFzV2lkdGggLyB0aGlzLmNhbnZhc0hlaWdodCkgKiBQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLlJUVF9SQVRJTztcbiAgICAgICAgICAgIC8vdGhpcy5yZW5kZXJUZXh0dXJlLnZPZmZzZXQgKz0gKFBST0pFQ1QuQ2FtZXJhX0JpZ1NjcmVlbnMuUlRUX1JBVElPICogMC41KTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0RW5naW5lKCkub25SZXNpemVPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNXaWR0aCA9IChjYW52YXMud2lkdGggKiAwLjUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gKGNhbnZhcy5oZWlnaHQgKiAwLjUpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5yZXNpemUoe3dpZHRoOiB0aGlzLmNhbnZhc1dpZHRoLCBoZWlnaHQ6IHRoaXMuY2FudmFzSGVpZ2h0fSk7XG4gICAgICAgICAgICAgICAgLy90aGlzLnJlbmRlclRleHR1cmUudlNjYWxlID0gKHRoaXMuY2FudmFzV2lkdGggLyB0aGlzLmNhbnZhc0hlaWdodCkgKiBQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLlJUVF9SQVRJTztcbiAgICAgICAgICAgICAgICAvL3RoaXMucmVuZGVyVGV4dHVyZS52T2Zmc2V0ICs9IChQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLlJUVF9SQVRJTyAqIDAuNSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBDcmVhdGUgU2NyZWVuIE1hdGVyaWFsXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuc2NyZWVuTWF0ZXJpYWwgPT0gbnVsbCkgdGhpcy5zY3JlZW5NYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJCaWdTY3JlZW5NYXRlcmlhbFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuTWF0ZXJpYWwuZGlzYWJsZUxpZ2h0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuTWF0ZXJpYWwuZW1pc3NpdmVUZXh0dXJlID0gdGhpcy5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEFzc2lnbiBTY3JlZW4gTWF0ZXJpYWxzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuc2NyZWVucyAhPSBudWxsICYmIHRoaXMuc2NyZWVucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5zLmZvckVhY2goKHNjcmVlbjpCQUJZTE9OLlRyYW5zZm9ybU5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcmVlbiBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZWQ6Ym9vbGVhbiA9IChzY3JlZW4gaW5zdGFuY2VvZiBCQUJZTE9OLkluc3RhbmNlZE1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlZCA9PT0gZmFsc2UpIHNjcmVlbi5tYXRlcmlhbCA9IHRoaXMuc2NyZWVuTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVDYW1lclRpbWVyKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyICs9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZXIgPj0gdGhpcy5pbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5BdXRvU3dpdGNoQ2FtZXJhID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaENhbWVyYUxvY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVDdXJyZW50UG9pbnQodXBkYXRlUG9pbnQ6bnVtYmVyID0gMSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodXBkYXRlUG9pbnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb2ludCA9ICh0aGlzLmN5Y2xlID09PSAwIHx8IHVwZGF0ZVBvaW50ID09PSA5OSkgPyBwYXJzZUludChVTklUWS5VdGlsaXRpZXMuR2V0UmFuZG9tUmFuZ2UoMCwgKHRoaXMucG9pbnRzLmxlbmd0aCAtIDEpLCB0aGlzLmN1cnJlbnRQb2ludCwgMTAwMDApLnRvRml4ZWQoMCkpIDogKHRoaXMuY3VycmVudFBvaW50ICsgdXBkYXRlUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQb2ludCA8IDApIHRoaXMuY3VycmVudFBvaW50ID0gKHRoaXMucG9pbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudFBvaW50ID4gKHRoaXMucG9pbnRzLmxlbmd0aCAtIDEpKSB0aGlzLmN1cnJlbnRQb2ludCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlQ3VycmVudFBsYXllcih1cGRhdGVQbGF5ZXI6bnVtYmVyID0gMSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodXBkYXRlUGxheWVyICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFZlaGljbGVzOkJBQllMT04uVHJhbnNmb3JtTm9kZVtdID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkdldFBsYXllclZlaGljbGVzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2lzdGVyZWRWZWhpY2xlcyAhPSBudWxsICYmIHJlZ2lzdGVyZWRWZWhpY2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBsYXllciA9ICh0aGlzLmN5Y2xlID09PSAwIHx8IHVwZGF0ZVBsYXllciA9PT0gOTkpID8gcGFyc2VJbnQoVU5JVFkuVXRpbGl0aWVzLkdldFJhbmRvbVJhbmdlKDAsIChyZWdpc3RlcmVkVmVoaWNsZXMubGVuZ3RoIC0gMSksIHRoaXMuY3VycmVudFBsYXllciwgMTAwMDApLnRvRml4ZWQoMCkpIDogKHRoaXMuY3VycmVudFBsYXllciArIHVwZGF0ZVBsYXllcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQbGF5ZXIgPCAwKSB0aGlzLmN1cnJlbnRQbGF5ZXIgPSAocmVnaXN0ZXJlZFZlaGljbGVzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRQbGF5ZXIgPiAocmVnaXN0ZXJlZFZlaGljbGVzLmxlbmd0aCAtIDEpKSB0aGlzLmN1cnJlbnRQbGF5ZXIgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVDdXJyZW50TW91bnQodXBkYXRlTW91bnQ6bnVtYmVyID0gOTkpOnZvaWQge1xuICAgICAgICAgICAgLy8gREVQUkVDQVRFRDogdGhpcy5jdXJyZW50TW91bnQgPSAodGhpcy5jeWNsZSA9PT0gMCB8fCB1cGRhdGVNb3VudCA9PT0gOTkpID8gcGFyc2VJbnQoVU5JVFkuVXRpbGl0aWVzLkdldFJhbmRvbVJhbmdlKDAsIDIsIHRoaXMuY3VycmVudE1vdW50LCAxMDAwMCkudG9GaXhlZCgwKSkgOiAodGhpcy5jdXJyZW50TW91bnQgKyB1cGRhdGVNb3VudCk7XG4gICAgICAgICAgICBsZXQgbmV4dENhbWVyYU1vdW50Om51bWJlciA9IHBhcnNlSW50KEJBQllMT04uU2NhbGFyLlJhbmRvbVJhbmdlKDAsIDEwMCkudG9GaXhlZCgwKSk7XG4gICAgICAgICAgICBpZiAobmV4dENhbWVyYU1vdW50ID49IDcwKSB7XG4gICAgICAgICAgICAgICAgbmV4dENhbWVyYU1vdW50ID0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dENhbWVyYU1vdW50ID49IDM1KSB7XG4gICAgICAgICAgICAgICAgbmV4dENhbWVyYU1vdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dENhbWVyYU1vdW50ID49IDApIHtcbiAgICAgICAgICAgICAgICBuZXh0Q2FtZXJhTW91bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChuZXh0Q2FtZXJhTW91bnQgPT09IHRoaXMuY3VycmVudE1vdW50KSB7XG4gICAgICAgICAgICAgICAgbmV4dENhbWVyYU1vdW50ID0gcGFyc2VJbnQoQkFCWUxPTi5TY2FsYXIuUmFuZG9tUmFuZ2UoMCwgMTAwKS50b0ZpeGVkKDApKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dENhbWVyYU1vdW50ID49IDcwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRDYW1lcmFNb3VudCA9IDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0Q2FtZXJhTW91bnQgPj0gMzUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dENhbWVyYU1vdW50ID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRDYW1lcmFNb3VudCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRDYW1lcmFNb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChuZXh0Q2FtZXJhTW91bnQgPT09IHRoaXMuY3VycmVudE1vdW50KSB7XG4gICAgICAgICAgICAgICAgbmV4dENhbWVyYU1vdW50ID0gcGFyc2VJbnQoQkFCWUxPTi5TY2FsYXIuUmFuZG9tUmFuZ2UoMCwgMTAwKS50b0ZpeGVkKDApKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dENhbWVyYU1vdW50ID49IDcwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRDYW1lcmFNb3VudCA9IDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0Q2FtZXJhTW91bnQgPj0gMzUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dENhbWVyYU1vdW50ID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRDYW1lcmFNb3VudCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRDYW1lcmFNb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChuZXh0Q2FtZXJhTW91bnQgPT09IHRoaXMuY3VycmVudE1vdW50KSB7XG4gICAgICAgICAgICAgICAgbmV4dENhbWVyYU1vdW50ID0gKHRoaXMuY3VycmVudE1vdW50ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHVwZGF0ZU1vdW50ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TW91bnQgPSAodXBkYXRlTW91bnQgPT09IDk5KSA/IG5leHRDYW1lcmFNb3VudCA6ICh0aGlzLmN1cnJlbnRNb3VudCArIHVwZGF0ZU1vdW50KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TW91bnQgPCAwKSB0aGlzLmN1cnJlbnRNb3VudCA9IDI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50TW91bnQgPiAyKSB0aGlzLmN1cnJlbnRNb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlQ2FtZXJhUG9zaXRpb24oKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN5bmNDYW1lcmFUcmFuc2Zvcm0gIT0gbnVsbCAmJiB0aGlzLmN1cnJlbnRNb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6bnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFNldHVwIENhbWVyYSBNb3VudFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uT2Zmc2V0Om51bWJlciA9IDIwLjA7XG4gICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uU3BlZWQ6bnVtYmVyID0gNC4wO1xuICAgICAgICAgICAgICAgIGxldCByb3RhdGlvblNwZWVkOm51bWJlciA9IDIuMDtcbiAgICAgICAgICAgICAgICBsZXQgbG9va0F0VmVoaWNsZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHNtb290aE1vdmVtZW50OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TW91bnQgPT09IDIpIHsgLy8gRnJvbnQgRmFjaW5nIFZpZXdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25PZmZzZXQgPSB0aGlzLmZyb250Q2FtZXJhLnBvc2l0aW9uT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25TcGVlZCA9IHRoaXMuZnJvbnRDYW1lcmEucG9zaXRpb25TcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uU3BlZWQgPSB0aGlzLmZyb250Q2FtZXJhLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb29rQXRWZWhpY2xlID0gdGhpcy5mcm9udENhbWVyYS5sb29rQXRWZWhpY2xlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc21vb3RoTW92ZW1lbnQgPSB0aGlzLmZyb250Q2FtZXJhLnNtb290aFNwZWVkcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50TW91bnQgPT09IDEpIHsgLy8gUmVhciBGYWNpbmcgVmlld1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uT2Zmc2V0ID0gdGhpcy5yZWFyQ2FtZXJhLnBvc2l0aW9uT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25TcGVlZCA9IHRoaXMucmVhckNhbWVyYS5wb3NpdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb25TcGVlZCA9IHRoaXMucmVhckNhbWVyYS5yb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9va0F0VmVoaWNsZSA9IHRoaXMucmVhckNhbWVyYS5sb29rQXRWZWhpY2xlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc21vb3RoTW92ZW1lbnQgPSB0aGlzLnJlYXJDYW1lcmEuc21vb3RoU3BlZWRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBQb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHNtb290aE1vdmVtZW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0FURUQ6IEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24sIHRoaXMuc3luY0NhbWVyYVRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLCAocG9zaXRpb25TcGVlZCAqIGRlbHRhVGltZSksIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vcm1hbGl6ZWRTcGVlZDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm9yd2FyZFNwZWVkOm51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzY2FsZWRPZmZzZXQ6bnVtYmVyID0gKHRoaXMuY3VycmVudE1vdW50ID09PSAyKSA/IChwb3NpdGlvbk9mZnNldCArIFBST0pFQ1QuQ2FtZXJhX0JpZ1NjcmVlbnMuRlJPTlRfQ0FNRVJBX1BBRERJTkcpIDogKHBvc2l0aW9uT2Zmc2V0ICsgUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5SRUFSX0NBTUVSQV9QQURESU5HKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNQbGF5ZXJWZWhpY2xlICE9IG51bGwgJiYgdGhpcy5mb2N1c1BsYXllclZlaGljbGUubWV0YWRhdGEgIT0gbnVsbCAmJiB0aGlzLmZvY3VzUGxheWVyVmVoaWNsZS5tZXRhZGF0YS5jYXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNQbGF5ZXJWZWhpY2xlLm1ldGFkYXRhLmNhci5mb3J3YXJkU3BlZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcndhcmRTcGVlZCA9IHRoaXMuZm9jdXNQbGF5ZXJWZWhpY2xlLm1ldGFkYXRhLmNhci5mb3J3YXJkU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mb2N1c1BsYXllclZlaGljbGUubWV0YWRhdGEuY2FyLm5vcm1hbGl6ZWRTcGVlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZFNwZWVkID0gdGhpcy5mb2N1c1BsYXllclZlaGljbGUubWV0YWRhdGEuY2FyLm5vcm1hbGl6ZWRTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY2FsZWRPZmZzZXQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKDAsIHNjYWxlZE9mZnNldCwgbm9ybWFsaXplZFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE1vdW50ID09PSAyKSB7IC8vIEZyb250IEZhY2luZyBWaWV3XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZWRPZmZzZXQgPSAoZm9yd2FyZFNwZWVkID4gMCkgPyAtc2NhbGVkT2Zmc2V0IDogKHNjYWxlZE9mZnNldCAqIDAuNSk7IC8vIE5vdGU6IEhhbGYgUG93ZXIgT24gUmV2ZXJzZVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudE1vdW50ID09PSAxKSB7IC8vIFJlYXIgRmFjaW5nIFZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlZE9mZnNldCA9IChmb3J3YXJkU3BlZWQgPiAwKSA/IHNjYWxlZE9mZnNldCA6IC0oc2NhbGVkT2Zmc2V0ICogMi4wKTsgLy8gTm90ZTogRG91YmxlIFBvd2VyIE9uIFJldmVyc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uT2Zmc2V0QnVmZmVyLnNldCgwLCAwLCBzY2FsZWRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuc3luY0NhbWVyYVRyYW5zZm9ybSwgdGhpcy5wb3NpdGlvblZlY3RvckJ1ZmZlciwgdGhpcy5wb3NpdGlvbk9mZnNldEJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24sIHRoaXMucG9zaXRpb25WZWN0b3JCdWZmZXIsIChwb3NpdGlvblNwZWVkICogZGVsdGFUaW1lKSwgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuc3luY0NhbWVyYVRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAobG9va0F0VmVoaWNsZSA9PT0gdHJ1ZSAmJiB0aGlzLmZvY3VzUGxheWVyVmVoaWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvb2tBdFRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSAodGhpcy5sb29rQ2FtZXJhVHJhbnNmb3JtICE9IG51bGwpID8gdGhpcy5sb29rQ2FtZXJhVHJhbnNmb3JtIDogdGhpcy5mb2N1c1BsYXllclZlaGljbGU7XG4gICAgICAgICAgICAgICAgICAgIGxvb2tBdFRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnN1YnRyYWN0VG9SZWYodGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbiwgdGhpcy5yZWxhdGl2ZVBvc2l0aW9uQnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICBVTklUWS5VdGlsaXRpZXMuTG9va1JvdGF0aW9uVG9SZWYodGhpcy5yZWxhdGl2ZVBvc2l0aW9uQnVmZmVyLCB0aGlzLnJlbGF0aXZlUm90YXRpb25CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc21vb3RoTW92ZW1lbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy5yZWxhdGl2ZVJvdGF0aW9uQnVmZmVyLCAocm90YXRpb25TcGVlZCAqIGRlbHRhVGltZSksIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yZWxhdGl2ZVJvdGF0aW9uQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzbW9vdGhNb3ZlbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYodGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCB0aGlzLnN5bmNDYW1lcmFUcmFuc2Zvcm0uYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24sIChyb3RhdGlvblNwZWVkICogZGVsdGFUaW1lKSwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnN5bmNDYW1lcmFUcmFuc2Zvcm0uYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN3aXRjaENhbWVyYUxvY2F0aW9uKHVwZGF0ZVBsYXllcjpudW1iZXIgPSAxLCB1cGRhdGVNb3VudDpudW1iZXIgPSA5OSk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gMDsgLy8gTm90ZTogTXVzdCBSZXNldCBVcGRhdGUgVGltZXJcbiAgICAgICAgICAgIHRoaXMuc3luY0NhbWVyYVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxvb2tDYW1lcmFUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2V0Rml4ZWRMb2NhdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFZlaGljbGVzOkJBQllMT04uVHJhbnNmb3JtTm9kZVtdID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkdldFBsYXllclZlaGljbGVzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2lzdGVyZWRWZWhpY2xlcyAhPSBudWxsICYmIHJlZ2lzdGVyZWRWZWhpY2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFBsYXllcih1cGRhdGVQbGF5ZXIpOyAgLy8gTm90ZTogU2V0IE5leHQgQ3VycmVudCBGb2N1cyBQbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50TW91bnQodXBkYXRlTW91bnQpOyAgICAvLyBOb3RlOiBTZXQgTmV4dCBDdXJyZW50IEZvY3VzIE1vdW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNQbGF5ZXJWZWhpY2xlID0gcmVnaXN0ZXJlZFZlaGljbGVzW3RoaXMuY3VycmVudFBsYXllcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvY3VzUGxheWVyVmVoaWNsZSA9PSBudWxsKSB0aGlzLmZvY3VzUGxheWVyVmVoaWNsZSA9IHRoaXMucGxheWVyO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvY3VzUGxheWVyVmVoaWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGxheWVyRm9jdXNDYW1lcmFNb3VudCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Rml4ZWRDYW1lcmFMb2NhdGlvbih1cGRhdGVQbGF5ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGaXhlZENhbWVyYUxvY2F0aW9uKHVwZGF0ZVBsYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0Rml4ZWRDYW1lcmFMb2NhdGlvbih1cGRhdGVQb2ludDpudW1iZXIgPSAxKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50cyAhPSBudWxsICYmIHRoaXMucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRQb2ludCh1cGRhdGVQb2ludCk7IC8vIE5vdGU6IFNldCBOZXh0IEZpeGVkIFRyYWNrIENhbWVyYSBQb2ludFxuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMucG9pbnRzW3RoaXMuY3VycmVudFBvaW50XTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNBVEVEOiBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50ICE9IG51bGwpIHRoaXMudHJhbnNmb3JtLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0FURUQ6IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHBvaW50LmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNBVEVEOiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20ocG9pbnQuYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNBVEVEOiB0aGlzLnN5bmNDYW1lcmFUcmFuc2Zvcm0gPSBwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudCAhPSBwb2ludCkgdGhpcy50cmFuc2Zvcm0ucGFyZW50ID0gcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5zZXQoMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY0NhbWVyYVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9va0NhbWVyYVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldENhbWVyYUNsb3Nlc3RUb1BsYXllcigpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRzICE9IG51bGwgJiYgdGhpcy5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3Q6bnVtYmVyID0gdGhpcy5nZXRDYW1lcmFDbG9zZXN0VG9QbGF5ZXIodGhpcy5mb2N1c1BsYXllclZlaGljbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlOm51bWJlciA9IHRoaXMuZ2V0RGlzdGFuY2VUb0Nsb3Nlc3RDYW1lcmEodGhpcy5mb2N1c1BsYXllclZlaGljbGUsIGNsb3Nlc3QpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMucG9pbnRzW2Nsb3Nlc3RdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0FURUQ6IGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQgIT0gbnVsbCkgdGhpcy50cmFuc2Zvcm0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gREVQUkVDQVRFRDogdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20ocG9pbnQuYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0FURUQ6IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShwb2ludC5hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0FURUQ6IHRoaXMuc3luY0NhbWVyYVRyYW5zZm9ybSA9IHBvaW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50ICE9IHBvaW50KSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQgPSBwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnNldCgwLDAsMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW5jQ2FtZXJhVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb29rQ2FtZXJhVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0UGxheWVyRm9jdXNDYW1lcmFNb3VudCgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNQbGF5ZXJWZWhpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW91bnQ6c3RyaW5nID0gXCJEcml2ZXJDYW1lcmFNb3VudFwiO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRNb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICBtb3VudCA9IFwiRnJvbnRDYW1lcmFNb3VudFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50TW91bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbW91bnQgPSBcIlJlYXJDYW1lcmFNb3VudFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZm9jdXNDYW1lcmFNb3VudDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmZvY3VzUGxheWVyVmVoaWNsZSwgbW91bnQsIFVOSVRZLlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChmb2N1c0NhbWVyYU1vdW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE1vdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50ICE9IGZvY3VzQ2FtZXJhTW91bnQpIHRoaXMudHJhbnNmb3JtLnBhcmVudCA9IGZvY3VzQ2FtZXJhTW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnNldCgwLDAsMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY0NhbWVyYVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb2tDYW1lcmFUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudCAhPSBudWxsKSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20oZm9jdXNDYW1lcmFNb3VudC5hYnNvbHV0ZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShmb2N1c0NhbWVyYU1vdW50LmFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY0NhbWVyYVRyYW5zZm9ybSA9IGZvY3VzQ2FtZXJhTW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb2tDYW1lcmFUcmFuc2Zvcm0gPSBVTklUWS5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmZvY3VzUGxheWVyVmVoaWNsZSwgXCJMb29rQXRDYW1lcmFNb3VudFwiLCBVTklUWS5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2FtZXJhQ2xvc2VzdFRvUGxheWVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldENhbWVyYUNsb3Nlc3RUb1BsYXllcihwbGF5ZXI6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgbGV0IHBvaW50czpudW1iZXIgPSAodGhpcy5wb2ludHMgIT0gbnVsbCkgPyB0aGlzLnBvaW50cy5sZW5ndGggOiAwO1xuICAgICAgICAgICAgaWYgKHBvaW50cyA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgX2Rpc3RhbmNlOm51bWJlciA9IDEwMDAwO1xuICAgICAgICAgICAgICAgIGxldCBfZDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgX2QgPSBCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2UodGhpcy5wb2ludHNbaV0ucG9zaXRpb24sIHBsYXllci5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlzdGFuY2UgPiBfZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc3RhbmNlID0gX2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBnZXREaXN0YW5jZVRvQ2xvc2VzdENhbWVyYShwbGF5ZXI6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBjYW1lcmE6bnVtYmVyKTpudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cyAhPSBudWxsICYmIHRoaXMucG9pbnRzLmxlbmd0aCA8IGNhbWVyYSkgPyBCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2UodGhpcy5wb2ludHNbY2FtZXJhXS5wb3NpdGlvbiwgcGxheWVyLnBvc2l0aW9uKSA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VHJhbnNmb3JtTm9kZXNXaXRoTmFtZShzY2VuZTpCQUJZTE9OLlNjZW5lLCBuYW1lOnN0cmluZyk6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlW10ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc2NlbmUudHJhbnNmb3JtTm9kZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNjZW5lLnRyYW5zZm9ybU5vZGVzLmZvckVhY2goKG5vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gICBcbiAgICAgICAgICAgIGlmIChzY2VuZS5tZXNoZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNjZW5lLm1lc2hlcy5mb3JFYWNoKChtZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNoLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gICBcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBERVBSRUNBVEVEOiBLRUVQLUZPUi1SRUZFUkVOQ0VcbiAgICAgICAgcHJvdGVjdGVkIGxlZ2FjeVVwZGF0ZUNhbWVyYVBvc2l0aW9uKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludHMgIT0gbnVsbCAmJiB0aGlzLnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9pbnQgPSAodGhpcy5jeWNsZSA9PSAwKSA/IHBhcnNlSW50KEJBQllMT04uU2NhbGFyLlJhbmRvbVJhbmdlKDAsIHRoaXMucG9pbnRzLmxlbmd0aCAtIDEpLnRvRml4ZWQoMCkpIDogKHRoaXMuY3VycmVudFBvaW50ICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvaW50IDwgMCB8fCB0aGlzLmN1cnJlbnRQb2ludCA+PSB0aGlzLnBvaW50cy5sZW5ndGgpIHRoaXMuY3VycmVudFBvaW50ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgcmVnaXN0ZXJlZFZlaGljbGVzOkJBQllMT04uVHJhbnNmb3JtTm9kZVtdID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkdldFBsYXllclZlaGljbGVzKCk7XG4gICAgICAgICAgICAgICAgbGV0IGZvY3VzZWRQbGF5ZXJWZWhpY2xlOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMucGxheWVyOyAvLyBTZXQgRGVmYXVsdCBQbGF5ZXJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0ZXJlZFZlaGljbGVzICE9IG51bGwgJiYgcmVnaXN0ZXJlZFZlaGljbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGxheWVyID0gKHRoaXMuY3ljbGUgPT0gMCkgPyBwYXJzZUludChCQUJZTE9OLlNjYWxhci5SYW5kb21SYW5nZSgwLCByZWdpc3RlcmVkVmVoaWNsZXMubGVuZ3RoIC0gMSkudG9GaXhlZCgwKSkgOiAodGhpcy5jdXJyZW50UGxheWVyICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQbGF5ZXIgPCAwIHx8IHRoaXMuY3VycmVudFBsYXllciA+PSByZWdpc3RlcmVkVmVoaWNsZXMubGVuZ3RoKSB0aGlzLmN1cnJlbnRQbGF5ZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb2N1c2VkUGxheWVyVmVoaWNsZSA9IHJlZ2lzdGVyZWRWZWhpY2xlc1t0aGlzLmN1cnJlbnRQbGF5ZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm9jdXNlZFBsYXllclZlaGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoQkFCWUxPTi5TY2FsYXIuUmFuZG9tUmFuZ2UoMCwgMjUpLnRvRml4ZWQoMCkpIDwgMTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvY3VzQ2FtZXJhTW91bnQ6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gVU5JVFkuU2NlbmVNYW5hZ2VyLkZpbmRDaGlsZFRyYW5zZm9ybU5vZGUoZm9jdXNlZFBsYXllclZlaGljbGUsIFwiRm9jdXNDYW1lcmFNb3VudFwiLCBVTklUWS5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c0NhbWVyYU1vdW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKFwiUGxheWVyIEZvY3VzIENhbWVyYSBNb3VudDogXCIgKyBmb2N1c0NhbWVyYU1vdW50LmFic29sdXRlUG9zaXRpb24udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudCAhPSBmb2N1c0NhbWVyYU1vdW50KSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQgPSBmb2N1c0NhbWVyYU1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnNldCgwLDAsMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvc2VzdDpudW1iZXIgPSB0aGlzLmdldENhbWVyYUNsb3Nlc3RUb1BsYXllcihmb2N1c2VkUGxheWVyVmVoaWNsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV00uUHJpbnRUb1NjcmVlbihcIlBsYXllciBDbG9zZXN0IFBvaW50IChBKTogXCIgKyBjbG9zZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLnBvaW50c1tjbG9zZXN0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50ICE9IHRoaXMucGFyZW50KSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20ocG9pbnQuYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShwb2ludC5hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlSW50KEJBQllMT04uU2NhbGFyLlJhbmRvbVJhbmdlKDAsIDI1KS50b0ZpeGVkKDApKSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9zZXN0Om51bWJlciA9IHRoaXMuZ2V0Q2FtZXJhQ2xvc2VzdFRvUGxheWVyKGZvY3VzZWRQbGF5ZXJWZWhpY2xlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdNLlByaW50VG9TY3JlZW4oXCJQbGF5ZXIgQ2xvc2VzdCBQb2ludCAoQik6IFwiICsgY2xvc2VzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLnBvaW50c1tjbG9zZXN0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudCAhPSB0aGlzLnBhcmVudCkgdGhpcy50cmFuc2Zvcm0ucGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20ocG9pbnQuYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHBvaW50LmFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMucG9pbnRzW3RoaXMuY3VycmVudFBvaW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudCAhPSB0aGlzLnBhcmVudCkgdGhpcy50cmFuc2Zvcm0ucGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20ocG9pbnQuYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHBvaW50LmFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMucG9pbnRzW3RoaXMuY3VycmVudFBvaW50XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQgIT0gdGhpcy5wYXJlbnQpIHRoaXMudHJhbnNmb3JtLnBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20ocG9pbnQuYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20ocG9pbnQuYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9Ki9cbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ2FtZXJhTW91bnQge1xuICAgICAgICBwb3NpdGlvbk9mZnNldDpudW1iZXI7XG4gICAgICAgIHBvc2l0aW9uU3BlZWQ6bnVtYmVyO1xuICAgICAgICByb3RhdGlvblNwZWVkOm51bWJlcjtcbiAgICAgICAgbG9va0F0VmVoaWNsZTpib29sZWFuO1xuICAgICAgICBzbW9vdGhTcGVlZHM6Ym9vbGVhbjtcbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgU3BlY3RhdG9yQ2FtZXJhVmlld1xuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNwZWN0YXRvckNhbWVyYVZpZXcgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIGF0dGFjaFBsYXllckNhbWVyYTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBhdXRvU3dpdGNoQ2FtZXJhczpib29sZWFuID0gdHJ1ZTtcblxuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgU3BlY3RhdG9yIFVJIFdpdGggU2VsZWN0ZWQgQ2FyIEluZm9cblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmluaXRTcGVjdGF0b3JWaWV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBTdGFydCBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBmaXhlZCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEZpeGVkIHVwZGF0ZSBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogVXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIExhdGUgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXIoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBBZnRlciB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZWFkeSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTcGVjdGF0b3JWaWV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIERlc3Ryb3kgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaW5pdFNwZWN0YXRvclZpZXcoKTp2b2lkIHtcbiAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoVU5JVFkuVXNlcklucHV0S2V5LlQsICgpPT57XG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy5hdHRhY2hQbGF5ZXJDYW1lcmEgPT09IHRydWUgJiYgUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5JbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuQ2FtZXJhX0JpZ1NjcmVlbnMuSW5zdGFuY2UuQXV0b1N3aXRjaENhbWVyYSA9ICFQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLkluc3RhbmNlLkF1dG9Td2l0Y2hDYW1lcmE7XG4gICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoVU5JVFkuVXNlcklucHV0S2V5LlVwQXJyb3csICgpPT57XG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy5hdHRhY2hQbGF5ZXJDYW1lcmEgPT09IHRydWUgJiYgUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5JbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuQ2FtZXJhX0JpZ1NjcmVlbnMuSW5zdGFuY2UuQXV0b1N3aXRjaENhbWVyYSA9IGZhbHNlOyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuQ2FtZXJhX0JpZ1NjcmVlbnMuSW5zdGFuY2UuU3dpdGNoQWN0aXZlVmlldygtMSwgMCk7XG4gICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFVOSVRZLklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoVU5JVFkuVXNlcklucHV0S2V5LkRvd25BcnJvdywgKCk9PntcbiAgICAgICAgICAgICAgICAvL2lmICh0aGlzLmF0dGFjaFBsYXllckNhbWVyYSA9PT0gdHJ1ZSAmJiBQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLkluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5JbnN0YW5jZS5BdXRvU3dpdGNoQ2FtZXJhID0gZmFsc2U7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5JbnN0YW5jZS5Td2l0Y2hBY3RpdmVWaWV3KCsxLCAwKTtcbiAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgVU5JVFkuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhVTklUWS5Vc2VySW5wdXRLZXkuTGVmdEFycm93LCAoKT0+e1xuICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMuYXR0YWNoUGxheWVyQ2FtZXJhID09PSB0cnVlICYmIFBST0pFQ1QuQ2FtZXJhX0JpZ1NjcmVlbnMuSW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLkluc3RhbmNlLkF1dG9Td2l0Y2hDYW1lcmEgPSBmYWxzZTsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLkluc3RhbmNlLlN3aXRjaEFjdGl2ZVZpZXcoMCwgLTEpO1xuICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBVTklUWS5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKFVOSVRZLlVzZXJJbnB1dEtleS5SaWdodEFycm93LCAoKT0+e1xuICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMuYXR0YWNoUGxheWVyQ2FtZXJhID09PSB0cnVlICYmIFBST0pFQ1QuQ2FtZXJhX0JpZ1NjcmVlbnMuSW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLkluc3RhbmNlLkF1dG9Td2l0Y2hDYW1lcmEgPSBmYWxzZTsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkNhbWVyYV9CaWdTY3JlZW5zLkluc3RhbmNlLlN3aXRjaEFjdGl2ZVZpZXcoMCwgKzEpO1xuICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnRTcGVjdGF0b3JWaWV3KCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5JbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5DYW1lcmFfQmlnU2NyZWVucy5JbnN0YW5jZS5BdXRvU3dpdGNoQ2FtZXJhID0gdGhpcy5hdXRvU3dpdGNoQ2FtZXJhcztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hQbGF5ZXJDYW1lcmEgPT09IHRydWUpIFBST0pFQ1QuQ2FtZXJhX0JpZ1NjcmVlbnMuSW5zdGFuY2UuQWN0aXZhdGVQbGF5ZXJDYW1lcmEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNoYWRlciBNYXRlcmlhbFxuICAgICogQGNsYXNzIFZlcnRleFNwbGF0XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgVmVydGV4U3BsYXQgZXh0ZW5kcyBVTklUWS5Vbml2ZXJzYWxBbGJlZG9NYXRlcmlhbCB7XG4gICAgICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHNjZW5lOiBCQUJZTE9OLlNjZW5lKSB7XG4gICAgICAgICAgICBzdXBlcihuYW1lLCBzY2VuZSk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZVRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlU2hhZGVyQ2h1bmtzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0U2hhZGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICAgICAgcmV0dXJuIFwicGJyXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldFNoYWRlckNodW5rKCk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gXCJWZXJ0ZXhTcGxhdFwiO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXN0b21BdHRyaWJ1dGVzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBPcHRpb25hbDogQ3VzdG9tIEF0dHJpYnV0ZXNcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlU2hhZGVyQ2h1bmtzKCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gT3B0aW9uYWw6IFVwZGF0ZSBNYXRlcmlhbCBTaGFkZXIgQ2h1bmtzXG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQWxiZWRvIE1hdGVyaWFsIExpZmUgQ3ljbGUgRnVuY3Rpb25zICAgICAgIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEluaXQgbWF0ZXJpYWwgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEFmdGVyIGJpbmQgdXBkYXRlIGZ1bmN0aW9uICovXG4gICAgICAgIH1cbiAgICB9XG4gICAgQkFCWUxPTi5SZWdpc3RlckNsYXNzKFwiUFJPSkVDVC5WZXJ0ZXhTcGxhdFwiLCBWZXJ0ZXhTcGxhdCk7XG59IiwibW9kdWxlIFVOSVRZIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIGNoYXJhY3RlciBjb250cm9sbGVyIHBybyBjbGFzcyAoVW5pdHkgU3R5bGUgQ2hhcmFjdGVyIENvbnRyb2xsZXIgU3lzdGVtKVxuICAgICAqIEBjbGFzcyBDaGFyYWN0ZXJDb250cm9sbGVyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIENoYXJhY3RlckNvbnRyb2xsZXIgZXh0ZW5kcyBVTklUWS5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIF9hYnN0cmFjdE1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9hdmF0YXJSYWRpdXM6bnVtYmVyID0gMC41O1xuICAgICAgICBwcml2YXRlIF9hdmF0YXJIZWlnaHQ6bnVtYmVyID0gMjtcbiAgICAgICAgcHJpdmF0ZSBfY2VudGVyT2Zmc2V0OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIF9zbG9wZUxpbWl0Om51bWJlciA9IDQ1O1xuICAgICAgICBwcml2YXRlIF9za2luV2lkdGg6bnVtYmVyID0gMC4wODtcbiAgICAgICAgcHJpdmF0ZSBfc3RlcE9mZnNldDpudW1iZXIgPSAwLjM7ICAgLy8gU2VlIGh0dHBzOi8vZGlzY291cnNlLnRocmVlanMub3JnL3QvYW1tby1qcy13aXRoLXRocmVlLWpzLzEyNTMwLzQ3IChXb3JrcyBCZXN0IFdpdGggMC41MzUgYW5kIEJveCBPciBDeWxpbmRlciBTaGFwZSAtID8/PylcbiAgICAgICAgcHJpdmF0ZSBfY2Fwc3VsZVNlZ21lbnRzOm51bWJlciA9IDE2O1xuICAgICAgICBwcml2YXRlIF9taW5Nb3ZlRGlzdGFuY2U6bnVtYmVyID0gMC4wMDE7XG4gICAgICAgIHByaXZhdGUgX2lzUGh5c2ljc1JlYWR5OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfbWF4Q29sbGlzaW9uczpudW1iZXIgPSA0O1xuICAgICAgICBwcml2YXRlIF9jcmVhdGVDeWxpbmRlclNoYXBlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfbW92ZW1lbnRWZWxvY2l0eTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBfdG1wUG9zaXRpb25CdWZmZXI6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZVBvc2l0aW9uOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgc3luY0dob3N0VG9UcmFuc2Zvcm06Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwcmVDcmVhdGVDeWxpbmRlclNoYXBlKCk6dm9pZCB7IHRoaXMuX2NyZWF0ZUN5bGluZGVyU2hhcGUgPSB0cnVlOyB9XG4gICAgICAgIC8vcHVibGljIGdldEludGVybmFsQ2hhcmFjdGVyKCk6YW55IHsgcmV0dXJuIHRoaXMubV9jaGFyYWN0ZXI7IH1cbiAgICAgICAgLy9wdWJsaWMgZ2V0Q29sbGlzaW9uU2hhcGUoKTphbnkgeyByZXR1cm4gdGhpcy5tX2dob3N0U2hhcGU7IH1cbiAgICAgICAgcHVibGljIGdldEF2YXRhclJhZGl1cygpOm51bWJlciB7IHJldHVybiB0aGlzLl9hdmF0YXJSYWRpdXM7IH1cbiAgICAgICAgcHVibGljIGdldEF2YXRhckhlaWdodCgpOm51bWJlciB7IHJldHVybiB0aGlzLl9hdmF0YXJIZWlnaHQ7IH1cbiAgICAgICAgcHVibGljIGdldFNraW5XaWR0aCgpOm51bWJlciB7IHJldHVybiB0aGlzLl9za2luV2lkdGg7IH1cbiAgICAgICAgcHVibGljIGdldFN0ZXBPZmZzZXQoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5fc3RlcE9mZnNldDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2VudGVyT2Zmc2V0KCk6QkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuX2NlbnRlck9mZnNldDsgfVxuICAgICAgICAvL3B1YmxpYyBnZXRDYXBzdWxlU2l6ZSgpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLm1fY2Fwc3VsZVNpemU7IH1cbiAgICAgICAgcHVibGljIGdldE1pbk1vdmVEaXN0YW5jZSgpOm51bWJlciB7IHJldHVybiB0aGlzLl9taW5Nb3ZlRGlzdGFuY2U7IH1cbiAgICAgICAgcHVibGljIHNldE1pbk1vdmVEaXN0YW5jZShkaXN0YW5jZTpudW1iZXIpOnZvaWQgeyB0aGlzLl9taW5Nb3ZlRGlzdGFuY2UgPSBkaXN0YW5jZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0VmVydGljYWxWZWxvY2l0eSgpOm51bWJlciB7IHJldHVybiAwOyB9IC8vIE5vdGU6IFRvb2xraXQgQWRkb24gRnVuY3Rpb25cbiAgICAgICAgcHVibGljIGdldEFkZGVkTWFyZ2luKCk6bnVtYmVyIHsgcmV0dXJuIDA7IH0gLy8gTm90ZTogVG9vbGtpdCBBZGRvbiBGdW5jdGlvblxuICAgICAgICBwdWJsaWMgc2V0QWRkZWRNYXJnaW4obWFyZ2luOm51bWJlcik6dm9pZCB7IH0gLy8gTm90ZTogVG9vbGtpdCBBZGRvbiBGdW5jdGlvblxuICAgICAgICBwdWJsaWMgc2V0TWF4SnVtcEhlaWdodChtYXhKdW1wSGVpZ2h0Om51bWJlcik6dm9pZCB7IH1cbiAgICAgICAgcHVibGljIHNldEZhbGxpbmdTcGVlZChmYWxsU3BlZWQ6bnVtYmVyKTp2b2lkIHsgfVxuICAgICAgICBwdWJsaWMgZ2V0U2xvcGVMaW1pdCgpOm51bWJlciB7IHJldHVybiAwOyB9XG4gICAgICAgIHB1YmxpYyBzZXRTbG9wZUxpbWl0KHNsb3BlUmFkaWFuczpudW1iZXIpOnZvaWQgeyB9XG4gICAgICAgIHB1YmxpYyBzZXRVcEF4aXMoYXhpczpudW1iZXIpOnZvaWQgeyB9XG4gICAgICAgIHB1YmxpYyBnZXRHcmF2aXR5KCk6bnVtYmVyIHsgcmV0dXJuIDA7IH1cbiAgICAgICAgcHVibGljIHNldEdyYXZpdHkoZ3Jhdml0eTpudW1iZXIpOnZvaWQgeyB9XG4gICAgICAgIHB1YmxpYyBpc0dyb3VuZGVkKCk6Ym9vbGVhbiB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICBwdWJsaWMgaXNSZWFkeSgpOmJvb2xlYW4geyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgcHVibGljIGNhbkp1bXAoKTpib29sZWFuIHsgcmV0dXJuIGZhbHNlOyB9XG5cblxuICAgICAgICBwdWJsaWMgc3luY01vdmVtZW50U3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1BoeXNpY3NSZWFkeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vdGhpcy5tX2dob3N0VHJhbnNmb3JtID0gdGhpcy5tX2dob3N0T2JqZWN0LmdldFdvcmxkVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy5tX2dob3N0VHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzLm1fZ2hvc3RQb3NpdGlvbiA9IHRoaXMubV9naG9zdFRyYW5zZm9ybS5nZXRPcmlnaW4oKTtcbiAgICAgICAgICAgICAgICAvL30gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgdGhpcy5tX2dob3N0UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmdldFBoeXNpY3NFbmdpbmUoKVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN5bmNUcmFuc2Zvcm1Ub0dob3N0UG9zaXRpb24oKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1BoeXNpY3NSZWFkeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMubV9naG9zdFBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzLm1fY2hhcmFjdGVyUG9zaXRpb24uc2V0KHRoaXMubV9naG9zdFBvc2l0aW9uLngoKSwgdGhpcy5tX2dob3N0UG9zaXRpb24ueSgpLCB0aGlzLm1fZ2hvc3RQb3NpdGlvbi56KCkpO1xuICAgICAgICAgICAgICAgIC8vICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQgIT0gbnVsbCkgVU5JVFkuVXRpbGl0aWVzLkludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb25Ub1JlZigodGhpcy50cmFuc2Zvcm0ucGFyZW50IGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZSksIHRoaXMubV9jaGFyYWN0ZXJQb3NpdGlvbiwgdGhpcy5tX2NoYXJhY3RlclBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyAgICBpZiAodGhpcy5fY2VudGVyT2Zmc2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgLy8gTm90ZTogU3VidHJhY3QgQ2hhcmFjdGVyIENvbnRyb2xsZXIgQ2VudGVyIE9mZnNldFxuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLm1fY2hhcmFjdGVyUG9zaXRpb24uc3VidHJhY3RJblBsYWNlKHRoaXMuX2NlbnRlck9mZnNldCk7IFxuICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLm1fY2hhcmFjdGVyUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN5bmNHaG9zdFRvVHJhbnNmb3JtUG9zaXRpb24oKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1BoeXNpY3NSZWFkeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vdGhpcy5tX2NoYXJhY3RlclBvc2l0aW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvL2lmICh0aGlzLl9jZW50ZXJPZmZzZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vICAgIC8vIE5vdGU6IEFkZCBDaGFyYWN0ZXIgQ29udHJvbGxlciBDZW50ZXIgT2Zmc2V0XG4gICAgICAgICAgICAgICAgLy8gICAgdGhpcy5tX2NoYXJhY3RlclBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5fY2VudGVyT2Zmc2V0KTsgXG4gICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50ICE9IG51bGwpIFVOSVRZLlV0aWxpdGllcy5UcmFuc2Zvcm1EaXJlY3Rpb25Ub1JlZigodGhpcy50cmFuc2Zvcm0ucGFyZW50IGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZSksIHRoaXMubV9jaGFyYWN0ZXJQb3NpdGlvbiwgdGhpcy5tX2NoYXJhY3RlclBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuc2V0R2hvc3RXb3JsZFBvc2l0aW9uKHRoaXMubV9jaGFyYWN0ZXJQb3NpdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2V0R2hvc3RDb2xsaXNpb25TdGF0ZShjb2xsaXNpb246Ym9vbGVhbik6dm9pZCB7XG4gICAgICAgICAgICBpZiAoY29sbGlzaW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy90aGlzLm1fZ2hvc3RPYmplY3Quc2V0Q29sbGlzaW9uRmxhZ3MoQkFCWUxPTi5Db2xsaXNpb25GbGFncy5DRl9DSEFSQUNURVJfT0JKRUNUKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy90aGlzLm1fZ2hvc3RPYmplY3Quc2V0Q29sbGlzaW9uRmxhZ3MoQkFCWUxPTi5Db2xsaXNpb25GbGFncy5DRl9OT19DT05UQUNUX1JFU1BPTlNFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUHVibGljIENoYXJhY3RlciBDb250cm9sbGVyIE1vdmVtZW50IEZ1bmN0aW9ucyAvL1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFNldHMgdGhlIGtpbmVtYXRpYyBjaGFyYWN0ZXIgcG9zaXRpb24gdG8gdGhlIHNwZWNpZmllZCBsb2NhdGlvbi4gKi9cbiAgICAgICAgcHVibGljIHNldCh4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICB0aGlzLl90bXBQb3NpdGlvbkJ1ZmZlci5zZXQoeCx5LHopO1xuICAgICAgICAgICAgdGhpcy5zZXRHaG9zdFdvcmxkUG9zaXRpb24odGhpcy5fdG1wUG9zaXRpb25CdWZmZXIpO1xuICAgICAgICAgICAgKi9cbiAgICAgICAgfVxuICAgICAgICAvKiogVHJhbnNsYXRlcyB0aGUga2luZW1hdGljIGNoYXJhY3RlciB3aXRoIHRoZSBzcGVjZmllZCB2ZWxvY2l0eS4gKi9cbiAgICAgICAgcHVibGljIG1vdmUodmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB0aGlzLm1fbW92ZURlbHRhWCA9IHZlbG9jaXR5Lng7XG4gICAgICAgICAgICAgICAgdGhpcy5tX21vdmVEZWx0YVogPSB2ZWxvY2l0eS56O1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh2ZWxvY2l0eS54KSA8IHRoaXMuX21pbk1vdmVEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVsb2NpdHkueCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9tb3ZlRGVsdGFYID0gdGhpcy5fbWluTW92ZURpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZlbG9jaXR5LnggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbW92ZURlbHRhWCA9IC10aGlzLl9taW5Nb3ZlRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHZlbG9jaXR5LnopIDwgdGhpcy5fbWluTW92ZURpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZWxvY2l0eS56ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX21vdmVEZWx0YVogPSB0aGlzLl9taW5Nb3ZlRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmVsb2NpdHkueiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9tb3ZlRGVsdGFaID0gLXRoaXMuX21pbk1vdmVEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX3dhbGtEaXJlY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlbWVudFZlbG9jaXR5LnNldCh0aGlzLm1fbW92ZURlbHRhWCwgMCwgdGhpcy5tX21vdmVEZWx0YVopO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fd2Fsa0RpcmVjdGlvbi5zZXRWYWx1ZSh0aGlzLl9tb3ZlbWVudFZlbG9jaXR5LngsIHRoaXMuX21vdmVtZW50VmVsb2NpdHkueSwgdGhpcy5fbW92ZW1lbnRWZWxvY2l0eS56KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFNldFdhbGtEaXJlY3Rpb24odGhpcy5tX3dhbGtEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBKdW1wcyB0aGUga2luZW1hdGljIGNoYWNyYWN0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIHNwZWVkLiAqL1xuICAgICAgICBwdWJsaWMganVtcChzcGVlZDpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbkp1bXAoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTZXRKdW1wU3BlZWQoc3BlZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxKdW1wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAqL1xuICAgICAgICB9XG4gICAgICAgIC8qKiBXYXJwcyB0aGUga2luZW1hdGljIGNoYWNyYWN0ZXIgdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvbi4gKi9cbiAgICAgICAgcHVibGljIHdhcnAocG9zaXRpb246QkFCWUxPTi5WZWN0b3IzKTp2b2lkIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBpZiAodGhpcy5tX3dhcnBQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhcnBQb3NpdGlvbi5zZXRWYWx1ZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsV2FycCh0aGlzLm1fd2FycFBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=

// Project Shader Chunks
BABYLON.Effect.ShadersStore["VertexSplatShaderChunks"] = {};
BABYLON.Effect.ShadersStore["VertexSplatShaderChunks"].VertexDefinitions = window.atob("I2lmZGVmIFNQTEFUMwp2YXJ5aW5nIHZlYzIgU3BsYXQzVVY7CnVuaWZvcm0gdmVjMiBTcGxhdDNJbmZvczsKdW5pZm9ybSBtYXQ0IFNwbGF0M01hdHJpeDsKI2VuZGlmCg==");
BABYLON.Effect.ShadersStore["VertexSplatShaderChunks"].VertexMainEnd = window.atob("CSNpZmRlZiBTUExBVDMKCQlpZiAoU3BsYXQzSW5mb3MueCA9PSAwLikKCQl7CgkJCVNwbGF0M1VWID0gdmVjMihTcGxhdDNNYXRyaXggKiB2ZWM0KHV2LCAxLjAsIDAuMCkpOwoJCX0KCQllbHNlCgkJewoJCQlTcGxhdDNVViA9IHZlYzIoU3BsYXQzTWF0cml4ICogdmVjNCh1djIsIDEuMCwgMC4wKSk7CgkJfQoJI2VuZGlmCg==");
BABYLON.Effect.ShadersStore["VertexSplatShaderChunks"].FragmentDefinitions = window.atob("dW5pZm9ybSBmbG9hdCBnYW1lVGltZTsgICAgIC8vIEJhYnlsb24gVG9vbGtpdCBVbml2ZXJzYWwgU2hhZGVyIE1hdGVyaWFsCnVuaWZvcm0gZmxvYXQgZGVsdGFUaW1lOyAgICAvLyBCYWJ5bG9uIFRvb2xraXQgVW5pdmVyc2FsIFNoYWRlciBNYXRlcmlhbAp1bmlmb3JtIGZsb2F0IEludGVuc2l0eUE7CnVuaWZvcm0gdmVjNCBDb2xvckM7CiNpZmRlZiBTUExBVDMKdW5pZm9ybSBzYW1wbGVyMkQgU3BsYXQzOwp2YXJ5aW5nIHZlYzIgU3BsYXQzVVY7CiNlbmRpZgp1bmlmb3JtIGZsb2F0IEludGVuc2l0eUM7Cg==");
BABYLON.Effect.ShadersStore["VertexSplatShaderChunks"].FragmentUpdateAlbedo = window.atob("ICAgIHN1cmZhY2VBbGJlZG8gPSB2QWxiZWRvQ29sb3IucmdiOwogICAgYWxwaGEgPSB2QWxiZWRvQ29sb3IuYTsKCiAgICAjaWZkZWYgQUxCRURPCiAgICAgICAgI2lmIGRlZmluZWQoQUxQSEFGUk9NQUxCRURPKSB8fCBkZWZpbmVkKEFMUEhBVEVTVCkKICAgICAgICAgICAgYWxwaGEgKj0gYWxiZWRvVGV4dHVyZS5hOwogICAgICAgICNlbmRpZgoKICAgICAgICAjaWZkZWYgR0FNTUFBTEJFRE8KICAgICAgICAgICAgc3VyZmFjZUFsYmVkbyAqPSB0b0xpbmVhclNwYWNlKGFsYmVkb1RleHR1cmUucmdiKTsKICAgICAgICAjZWxzZQogICAgICAgICAgICBzdXJmYWNlQWxiZWRvICo9IGFsYmVkb1RleHR1cmUucmdiOwogICAgICAgICNlbmRpZgoKICAgICAgICBzdXJmYWNlQWxiZWRvICo9IGFsYmVkb0luZm9zLnk7CiAgICAjZW5kaWYKCiAgICAjaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCiAgICAgICAgI2lmZGVmIFNQTEFUMwoJCSAgICB2ZWMzIHNwbGF0MSA9IHN1cmZhY2VBbGJlZG8ucmdiICogSW50ZW5zaXR5QTsKCQkgICAgdmVjNCBzcGxhdDMgPSB0ZXh0dXJlMkQoU3BsYXQzLCBTcGxhdDNVVikgKiBDb2xvckMgKiBJbnRlbnNpdHlDOwogICAgICAgICAgICBzdXJmYWNlQWxiZWRvLnJnYiA9IG1peChzcGxhdDMucmdiLCBzcGxhdDEucmdiLCB2Q29sb3IuYik7CiAgICAgICAgI2Vsc2UKICAgICAgICAgICAgc3VyZmFjZUFsYmVkbyAqPSB2Q29sb3IucmdiOwogICAgICAgICNlbmRpZgogICAgI2VuZGlmCgogICAgI2lmZGVmIERFVEFJTAogICAgICAgIGZsb2F0IGRldGFpbEFsYmVkbzIgPSAyLjAgKiBtaXgoMC41LCBkZXRhaWxDb2xvci5yLCB2RGV0YWlsSW5mb3MueSk7CiAgICAgICAgc3VyZmFjZUFsYmVkby5yZ2IgPSBzdXJmYWNlQWxiZWRvLnJnYiAqIGRldGFpbEFsYmVkbzIgKiBkZXRhaWxBbGJlZG8yOyAvLyBzaG91bGQgYmUgcG93KGRldGFpbEFsYmVkbywgMi4yKSBidXQgZGV0YWlsQWxiZWRvwrIgaXMgY2xvc2UgZW5vdWdoIGFuZCBjaGVhcGVyIHRvIGNvbXB1dGUKICAgICNlbmRpZgo=");


