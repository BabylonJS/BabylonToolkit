// Project Script Bundle
globalThis['default.playground.js']=true;


// default.playground.js
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon network entity (Colyseus Universal Game Room)
     * @class ColyseusGameServer - All rights reserved (c) 2020 Mackey Kinard
    */
    class ColyseusGameServer extends BABYLON.Toolkit.ScriptComponent {
        static get Instance() { return PROJECT.ColyseusGameServer.StaticInstance; }
        isSoloSession() { return this.soloSession; }
        isHostSession() { return (this.hostSessionName != null && this.hostSessionName !== ""); }
        getColyseusClient() { return this.client; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.projectName = "Game Project";
            this.autoJoinRoom = true;
            this.playerUserName = "Player";
            this.defaultRoomName = "default";
            this.roomLogicModule = "DefaultLogic";
            this.maxClientsAllowed = 8;
            this.patchUpdateRateFps = 20;
            this.roomSimulateRateFps = 60;
            this.networkBufferingTime = 0.15;
            this.soloSession = false;
            this.colyseusAvailable = false;
            this.networkRoomConnected = false;
            this.hostSessionName = null;
            this.joinRoomId = null;
            this.client = null;
            PROJECT.ColyseusGameServer.StaticInstance = this;
        }
        awake() {
            if (BABYLON.NetworkManager.IsAvailable()) {
                this.colyseusAvailable = true;
                BABYLON.Tools.Log("Colyseus network library loaded");
            }
            else {
                this.colyseusAvailable = false;
                BABYLON.Tools.Warn("Colyseus network library not available");
            }
            try {
                const playerSoloParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("solo");
                if (playerSoloParam != null && playerSoloParam !== "" && playerSoloParam !== "*") {
                    if (playerSoloParam.toLowerCase() === "true") {
                        this.soloSession = true;
                        this.colyseusAvailable = false;
                        BABYLON.Tools.Warn("Colyseus solo network game play requested");
                    }
                }
            }
            catch (e) {
                console.error(e);
            }
            if (this.colyseusAvailable === true) {
                try {
                    const serverEndpointParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("endpoint");
                    if (serverEndpointParam != null && serverEndpointParam !== "") {
                        const serverEndpoint = decodeURIComponent(serverEndpointParam);
                        if (serverEndpoint != null && serverEndpoint !== "" && serverEndpoint !== "*") {
                            BABYLON.Toolkit.SceneManager.ServerEndPoint = serverEndpoint;
                        }
                    }
                }
                catch (e0) {
                    console.error(e0);
                }
                try {
                    const playerNameParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("player");
                    if (playerNameParam != null && playerNameParam !== "" && playerNameParam !== "*") {
                        this.playerUserName = decodeURIComponent(playerNameParam);
                    }
                }
                catch (e1) {
                    console.error(e1);
                }
                try {
                    const roomNameParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("room");
                    if (roomNameParam != null && roomNameParam !== "" && roomNameParam !== "*") {
                        this.defaultRoomName = decodeURIComponent(roomNameParam);
                    }
                }
                catch (e2) {
                    console.error(e2);
                }
                try {
                    const hostSessionParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("host");
                    if (hostSessionParam != null && hostSessionParam !== "" && hostSessionParam !== "*") {
                        this.hostSessionName = decodeURIComponent(hostSessionParam);
                    }
                }
                catch (e3) {
                    console.error(e3);
                }
                try {
                    const joinSessionParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("join");
                    if (joinSessionParam != null && joinSessionParam !== "" && joinSessionParam !== "*") {
                        this.joinRoomId = decodeURIComponent(joinSessionParam);
                    }
                }
                catch (e4) {
                    console.error(e4);
                }
                BABYLON.NetworkManager.OnJoinRoomObservable.add((user) => { console.warn(user.name + " joined the " + this.defaultRoomName.toLowerCase() + " room."); });
            }
        }
        update() {
            if (this.colyseusAvailable === true && this.networkRoomConnected === false && this.autoJoinRoom === true && this.isReady()) {
                this.autoJoinRoom = false;
                this.joinRoom();
            }
        }
        destroy() {
            this.autoJoinRoom = false;
            this.colyseusAvailable = false;
            this.networkRoomConnected = true;
            this.defaultRoomName = null;
            this.playerUserName = null;
            this.client = null;
        }
        joinRoom() {
            return __awaiter(this, void 0, void 0, function* () {
                if (this.patchUpdateRateFps > PROJECT.ColyseusGameServer.MAX_FRAME_RATE)
                    this.patchUpdateRateFps = PROJECT.ColyseusGameServer.MAX_FRAME_RATE;
                if (this.roomSimulateRateFps > PROJECT.ColyseusGameServer.MAX_FRAME_RATE)
                    this.roomSimulateRateFps = PROJECT.ColyseusGameServer.MAX_FRAME_RATE;
                if (this.colyseusAvailable === true) {
                    try {
                        const websocketUrl = (BABYLON.Toolkit.SceneManager.ServerEndPoint.toLowerCase().startsWith("http")) ? ("ws" + BABYLON.Toolkit.SceneManager.ServerEndPoint.substring(4)) : BABYLON.Toolkit.SceneManager.ServerEndPoint;
                        if (BABYLON.Toolkit.SceneManager.ServerEndPoint.endsWith("/"))
                            BABYLON.Toolkit.SceneManager.ServerEndPoint = BABYLON.Toolkit.SceneManager.ServerEndPoint.substring(0, (BABYLON.Toolkit.SceneManager.ServerEndPoint.length - 1));
                        if (this.projectName == null || this.projectName === "")
                            this.projectName = "Game Project";
                        console.log(">>> Server Endpoint: " + BABYLON.Toolkit.SceneManager.ServerEndPoint);
                        console.log(">>> Web Socket Url: " + websocketUrl);
                        console.log(">>> Max Clients: " + this.maxClientsAllowed);
                        console.log(">>> Room Name: " + this.defaultRoomName);
                        console.log(">>> User Name: " + this.playerUserName);
                        console.log(">>> Host Desc: " + this.hostSessionName);
                        console.log(">>> Join Room: " + this.joinRoomId);
                        let room = null;
                        if (this.client == null)
                            this.client = new Colyseus.Client(websocketUrl);
                        if (this.hostSessionName != null && this.hostSessionName !== "") {
                            const sceneFile = BABYLON.Toolkit.SceneManager.GetSceneFile(this.scene);
                            room = yield this.client.create(this.defaultRoomName, {
                                userName: this.playerUserName,
                                roomLogic: this.roomLogicModule,
                                maxClients: this.maxClientsAllowed,
                                interpolationBuffer: this.networkBufferingTime,
                                patchUpdateRateMs: (1000 / this.patchUpdateRateFps),
                                roomSimulationIntervalMs: (1000 / this.roomSimulateRateFps),
                                userDatagramProtocol: false,
                                compressDataPackets: false,
                                project: this.projectName,
                                type: "client",
                                desc: this.hostSessionName,
                                map: sceneFile,
                                aux: "*"
                            });
                        }
                        else if (this.joinRoomId != null && this.joinRoomId !== "") {
                            room = yield this.client.joinById(this.joinRoomId, {
                                userName: this.playerUserName
                            });
                        }
                        if (room != null) {
                            BABYLON.NetworkManager.AttachDefaultRoom(this.scene, room);
                        }
                        else {
                            console.error("Failed to join room: " + this.transform.name);
                        }
                    }
                    catch (e) {
                        console.error("Failed to connect: ", e);
                    }
                    finally {
                        this.networkRoomConnected = true;
                    }
                }
            });
        }
    }
    ColyseusGameServer.MAX_FRAME_RATE = 200;
    ColyseusGameServer.StaticInstance = null;
    PROJECT.ColyseusGameServer = ColyseusGameServer;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class ColyseusNetworkAvatar
    */
    class ColyseusNetworkAvatar extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.controlMode = 0;
            this.defaultAvatar = null;
            this.maleAnimationRig = null;
            this.femaleAnimationRig = null;
            this.castRealtimeShadow = true;
            this.disposeOfMannequin = true;
            this.pixelOffsetX = 0;
            this.pixelOffsetY = 0;
            this.playerJoined = false;
            this.preloadLocation = null;
            this.ambientMaterial = new BABYLON.Color3(1.0, 1.0, 1.0);
            this.avatarArmature = null;
            this.avatarSkeleton = null;
            this.avatarHandness = "Left";
            this.avatarGender = "Male";
            this.avatarLabel = "Default Player";
            this.avatarLoaded = false;
            this.animator = null;
            this.avatarReady = false;
            this.manageLabelTexture = true;
            this.textureResolution = 512;
            this.maxLabelWidth = 960;
            this.minLabelWidth = 320;
            this.labelOffsetX = 0;
            this.labelOffsetY = 2.0;
            this.labelHeight = 64;
            this.labelColor = new BABYLON.Color3(0.0, 1.0, 0.0);
            this.labelAlpha = 0.85;
            this.rectColor = new BABYLON.Color3(0.0, 0.0, 0.0);
            this.rectAlpha = 0.65;
            this.fontFamily = "Arial";
            this.fontStyle = "Bold";
            this.fontSize = 36;
            this.fillRect = true;
        }
        awake() {
            this.animator = this.getComponent("BABYLON.Toolkit.AnimationState");
            if (this.animator == null)
                BABYLON.Tools.Warn("Failed to locate aniation state component for: " + this.transform.name);
            const defaultAvatarInfo = this.getProperty("defaultAvatar");
            if (defaultAvatarInfo != null)
                this.defaultAvatar = (defaultAvatarInfo.name + ".glb");
            const maleAnimationInfo = this.getProperty("maleAnimationRig");
            if (maleAnimationInfo != null)
                this.maleAnimationRig = (maleAnimationInfo.name + ".glb");
            const femaleAnimationInfo = this.getProperty("femaleAnimationRig");
            if (femaleAnimationInfo != null)
                this.femaleAnimationRig = (femaleAnimationInfo.name + ".glb");
            // ..
            // Setup Browser Platform Options
            // ..
            if (this.isSafariBrowser() === true)
                this.pixelOffsetY = 0;
            else
                this.pixelOffsetY = 2; // Note: Default Two Pixel Offset
        }
        ready() {
            if (this.controlMode === 0) {
                this.setupLocalPlayerAvatar();
            }
            this.avatarReady = true;
        }
        update() {
            if (this.playerJoined === false && this.avatarReady === true) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    this.playerJoined = true;
                    if (this.controlMode === 0) {
                        if (this.manageLabelTexture === true) {
                            this.avatarLabel = BABYLON.NetworkManager.GetCurrentUser().name;
                            this.createAvatarLabel(this.avatarLabel);
                        }
                    }
                    else if (this.controlMode === 1) {
                        this.setupRemotePlayerAvatar();
                        if (this.manageLabelTexture === true) {
                            this.createAvatarLabel(this.avatarLabel);
                        }
                    }
                }
            }
        }
        destroy() {
            this.animator = null;
            this.avatarLabel = null;
            this.avatarGender = null;
            this.avatarHandness = null;
            this.avatarArmature = null;
            this.avatarSkeleton = null;
            this.defaultAvatar = null;
            this.preloadLocation = null;
            this.maleAnimationRig = null;
            this.femaleAnimationRig = null;
        }
        isSafariBrowser() {
            let result = false;
            if (navigator != null && navigator.userAgent != null) {
                result = navigator.vendor.match(/apple/i) &&
                    !navigator.userAgent.match(/crios/i) &&
                    !navigator.userAgent.match(/fxios/i) &&
                    !navigator.userAgent.match(/Opera|OPT\//);
            }
            return result;
        }
        createAvatarLabel(name) {
            if (name != null && name !== "") {
                const plane = BABYLON.MeshBuilder.CreatePlane("TexturePlane", { width: 1, height: 1 }, this.scene);
                const planeMaterial = new BABYLON.StandardMaterial((this.transform.name + ".PlaneMaterial"), this.scene);
                // ..
                // Background Opacity Texture
                // ..
                const opacityTexture = new BABYLON.DynamicTexture("PlayerTexture", { width: this.textureResolution, height: this.textureResolution }, this.scene);
                const opacityCtx = opacityTexture.getContext();
                const fontString = this.getResizedFontString(name, this.maxLabelWidth, this.fontSize, this.fontFamily, this.fontStyle);
                opacityCtx.font = fontString; // Note: Must Be Set Before Measuring
                const fontWidth = opacityCtx.measureText(name).width;
                const fontPadding = PROJECT.ColyseusNetworkAvatar.FONT_PADDING;
                let rectWidth = (fontWidth + fontPadding);
                let rectHeight = this.labelHeight;
                if (rectWidth < this.minLabelWidth)
                    rectWidth = this.minLabelWidth;
                if (rectWidth > this.maxLabelWidth)
                    rectWidth = this.maxLabelWidth;
                if (this.fillRect === true) {
                    opacityCtx.fillStyle = `rgba(0, 0, 0, ${this.rectAlpha.toString()})`;
                    this.createRoundedRect((this.textureResolution * 0.5) - (rectWidth * 0.5), (this.textureResolution * 0.5) - (rectHeight * 0.5), rectWidth, rectHeight, (rectHeight * 0.5), opacityCtx);
                    opacityCtx.fill();
                }
                opacityCtx.textAlign = "center";
                opacityCtx.textBaseline = "middle";
                opacityCtx.fillStyle = `rgba(0, 0, 0, ${this.labelAlpha.toString()})`;
                opacityCtx.fillText(name, (this.textureResolution * 0.5) + this.pixelOffsetX, (this.textureResolution * 0.5) + this.pixelOffsetY);
                opacityTexture.update(true);
                // ..
                // Background & Foreground Colors
                // ..
                const colorTexture = new BABYLON.DynamicTexture("PlayerTextureColor", { width: this.textureResolution, height: this.textureResolution }, this.scene);
                const colorCtx = colorTexture.getContext();
                colorCtx.fillStyle = this.rectColor.toHexString();
                colorCtx.fillRect(0, 0, this.textureResolution, this.textureResolution);
                colorCtx.font = fontString;
                colorCtx.textAlign = "center";
                colorCtx.textBaseline = "middle";
                colorCtx.fillStyle = this.labelColor.toHexString();
                colorCtx.fillText(name, (this.textureResolution * 0.5) + this.pixelOffsetX, (this.textureResolution * 0.5) + this.pixelOffsetY);
                colorTexture.update(true);
                // ..
                // Plane Name Label Material Setup
                // ..
                planeMaterial.disableLighting = true;
                planeMaterial.opacityTexture = opacityTexture;
                planeMaterial.diffuseTexture = colorTexture;
                planeMaterial.emissiveTexture = colorTexture;
                // ..
                // Plane Position & Offset Parenting
                // ..
                plane.material = planeMaterial;
                plane.billboardMode = BABYLON.Mesh.BILLBOARDMODE_ALL;
                plane.position.x = this.labelOffsetX;
                plane.position.y = (this.labelOffsetY + PROJECT.ColyseusNetworkAvatar.HEIGHT_PADDING);
                plane.parent = this.transform.parent; // FIXME: Maybe Parent To Model Head Bone Or Something - ???
                plane.renderingGroupId = BABYLON.Toolkit.Utilities.DefaultRenderGroup();
            }
        }
        createRoundedRect(x, y, w, h, r, ctx) {
            if (w < 2 * r)
                r = w / 2;
            if (h < 2 * r)
                r = h / 2;
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.arcTo(x + w, y, x + w, y + h, r);
            ctx.arcTo(x + w, y + h, x, y + h, r);
            ctx.arcTo(x, y + h, x, y, r);
            ctx.arcTo(x, y, x + w, y, r);
            ctx.closePath();
        }
        getResizedFontString(text, maxWidth, startingFontSize, fontFamily = "Arial", fontStyle = "") {
            const tempCanvas = document.createElement('canvas');
            const measureCtx = tempCanvas.getContext('2d');
            const getFontString = (size) => { return `${fontStyle}${(fontStyle === "") ? "" : " "}${size}px ${fontFamily}`; };
            let currentSize = startingFontSize;
            measureCtx.font = getFontString(currentSize); // Note: Must Be Set Before Measuring
            let currentWidth = measureCtx.measureText(text).width;
            if (currentWidth > maxWidth) {
                let step = 1;
                while (currentWidth > maxWidth) {
                    let newSize = currentSize - step;
                    measureCtx.font = getFontString(newSize); // Note: Must Be Set Before Measuring
                    let newWidth = measureCtx.measureText(text).width;
                    if (newWidth < maxWidth && step === 1) {
                        step = 0.1;
                        newSize += 1;
                    }
                    else {
                        currentWidth = newWidth;
                    }
                    currentSize = newSize;
                }
            }
            return getFontString(currentSize);
        }
        setupLocalPlayerAvatar() {
            try {
                const playerAvatarParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("avatar");
                if (playerAvatarParam != null && playerAvatarParam !== "" && playerAvatarParam !== "*") {
                    this.defaultAvatar = decodeURIComponent(playerAvatarParam);
                }
            }
            catch (e1) {
                console.error(e1);
            }
            try {
                const playerGenderParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("gender");
                if (playerGenderParam != null && playerGenderParam !== "" && playerGenderParam !== "*") {
                    this.avatarGender = decodeURIComponent(playerGenderParam);
                }
            }
            catch (e2) {
                console.error(e2);
            }
            try {
                const playerHandnessParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("hand");
                if (playerHandnessParam != null && playerHandnessParam !== "" && playerHandnessParam !== "*") {
                    this.avatarHandness = decodeURIComponent(playerHandnessParam);
                }
            }
            catch (e3) {
                console.error(e3);
            }
            try {
                const playerHandnessParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("hand");
                if (playerHandnessParam != null && playerHandnessParam !== "" && playerHandnessParam !== "*") {
                    this.avatarHandness = decodeURIComponent(playerHandnessParam);
                }
            }
            catch (e3) {
                console.error(e3);
            }
            // ..
            // Create Network Entity Attributes
            // ..
            const klass = "PROJECT.ColyseusNetworkEntity";
            let colyseus = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.transform, klass);
            if (colyseus == null) {
                if (this.transform.parent != null) {
                    colyseus = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.transform.parent, klass);
                    if (colyseus == null) {
                        if (this.transform.parent.parent != null) {
                            colyseus = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.transform.parent.parent, klass);
                            if (colyseus == null) {
                                if (this.transform.parent.parent.parent != null) {
                                    colyseus = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.transform.parent.parent.parent, klass);
                                }
                            }
                        }
                    }
                }
            }
            if (colyseus != null) {
                if (colyseus.runtimeAttributes == null)
                    colyseus.runtimeAttributes = [];
                colyseus.runtimeAttributes.push({ key: "playerAvatar", value: this.defaultAvatar });
                colyseus.runtimeAttributes.push({ key: "playerGender", value: this.avatarGender });
                colyseus.runtimeAttributes.push({ key: "playerHand", value: this.avatarHandness });
            }
            // ..
            //  Load Runtime Player Avatar Model
            // ..
            if (this.defaultAvatar != null && this.defaultAvatar !== "") {
                if (BABYLON.Toolkit.SceneManager.HasSceneBeenPreLoaded(this.scene)) {
                    this.loadRuntimePlayerAvatar(this.defaultAvatar);
                }
                else {
                    this.preloadLocation = this.defaultAvatar;
                }
            }
            else {
                BABYLON.Tools.Warn("Invalid avatar location specified for: " + this.transform.name);
            }
        }
        setupRemotePlayerAvatar() {
            let remoteEntity = this.transform.networkEntity;
            if (remoteEntity == null) {
                if (this.transform.parent != null) {
                    remoteEntity = this.transform.parent.networkEntity;
                    if (remoteEntity == null) {
                        if (this.transform.parent.parent != null) {
                            remoteEntity = this.transform.parent.parent.networkEntity;
                            if (remoteEntity == null) {
                                if (this.transform.parent.parent.parent != null) {
                                    remoteEntity = this.transform.parent.parent.parent.networkEntity;
                                }
                            }
                        }
                    }
                }
            }
            // ..
            // Query Network Entity Attributes
            // ..
            if (remoteEntity != null && remoteEntity.transformNode != null && remoteEntity.transformNodeType != null && remoteEntity.transformNodeType === 2) {
                const playerAvatar = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerAvatar");
                if (playerAvatar != null && playerAvatar !== "") {
                    this.defaultAvatar = playerAvatar;
                }
                const playerGender = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerGender");
                if (playerGender != null && playerGender !== "") {
                    this.avatarGender = playerGender;
                }
                const playerHand = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerHand");
                if (playerHand != null && playerHand !== "") {
                    this.avatarHandness = playerHand;
                }
                const ownerName = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "ownerName");
                if (ownerName != null && ownerName !== "") {
                    this.avatarLabel = ownerName;
                }
            }
            // ..
            //  Load Runtime Player Avatar Model
            // ..
            if (this.defaultAvatar != null && this.defaultAvatar !== "") {
                this.loadRuntimePlayerAvatar(this.defaultAvatar);
            }
            else {
                BABYLON.Tools.Warn("Invalid avatar location specified for: " + this.transform.name);
            }
        }
        configurePlayerAvatarRig(root) {
            if (root != null) {
                const armatures = root.getChildren((node) => { return (node.name === "Armature"); }, false);
                this.avatarLoaded = true;
                this.avatarArmature = (armatures != null && armatures.length > 0) ? armatures[0] : null;
                let shadowList = null;
                let freezeList = null;
                const meshes = root.getChildMeshes(false);
                if (meshes != null && meshes.length > 0) {
                    meshes.forEach((mesh) => {
                        mesh.renderingGroupId = BABYLON.Toolkit.Utilities.DefaultRenderGroup();
                    });
                }
                const skins = root.getChildMeshes(false, (node) => { return (node.skeleton != null); });
                if (skins != null && skins.length > 0) {
                    skins.forEach((skin) => {
                        if (this.avatarSkeleton == null && skin.skeleton != null) {
                            this.avatarSkeleton = skin.skeleton;
                        }
                        if (this.castRealtimeShadow === true) {
                            if (shadowList == null)
                                shadowList = [];
                            shadowList.push(skin);
                        }
                        skin.isPickable = true;
                        skin.useVertexColors = false;
                        skin.cullingStrategy = BABYLON.AbstractMesh.CULLINGSTRATEGY_STANDARD;
                        skin.alwaysSelectAsActiveMesh = true; // Note: Always Set For Skin Without Updated Bounding Box Info
                    });
                }
                if (shadowList != null && shadowList.length > 0 && this.scene.lights != null && this.scene.lights.length > 0) {
                    this.scene.lights.forEach((light) => {
                        const shadowgenerator = light.getShadowGenerator();
                        if (shadowgenerator != null && light.metadata != null && light.metadata.toolkit != null && light.metadata.toolkit.autorender === true) {
                            const shadowmap = shadowgenerator.getShadowMap();
                            if (shadowmap != null) {
                                if (shadowmap.renderList == null)
                                    shadowmap.renderList = [];
                                shadowList.forEach((mesh) => { shadowmap.renderList.push(mesh); });
                            }
                        }
                    });
                }
                if (freezeList != null && freezeList.length > 0) {
                    freezeList.forEach((mesh) => { mesh.freezeWorldMatrix(); });
                }
                // ..
                // RETARGET ANIMATION GROUPS - (TODO: Blend Shapes)
                // ..
                if (this.avatarSkeleton != null) {
                    const animationRig = (this.avatarGender != null && this.avatarGender.toLowerCase() === "female") ? this.femaleAnimationRig : this.maleAnimationRig;
                    if (animationRig != null && animationRig !== "") {
                        const animationAsset = BABYLON.Toolkit.SceneManager.GetAssetContainer(this.scene, animationRig);
                        if (animationAsset != null && animationAsset.animationGroups != null) {
                            let cgroups = null;
                            let xclips = (this.animator != null) ? this.animator.getDefaultClips() : null;
                            animationAsset.animationGroups.forEach((agroup, index) => {
                                try {
                                    agroup.stop();
                                }
                                catch (_a) { }
                                const newname = (this.transform.name + "." + agroup.name);
                                const cgroup = agroup.clone(newname, null, false);
                                if (cgroup != null) {
                                    cgroup.loopAnimation = true;
                                    BABYLON.Toolkit.Utilities.RetargetAnimationGroupSkeleton(cgroup, this.avatarSkeleton, this.avatarArmature);
                                    if (this.animator != null && xclips != null) {
                                        const xclip = this.animator.fixAnimationGroup(cgroup);
                                        if (xclip != null) {
                                            if (cgroups == null)
                                                cgroups = [];
                                            cgroups.push(cgroup);
                                        }
                                        else {
                                            BABYLON.Tools.Warn("Failed to locate animation group in default clips: " + cgroup.name);
                                        }
                                    }
                                }
                                else {
                                    BABYLON.Tools.Warn("Failed to clone animation group: " + agroup.name);
                                }
                            });
                            if (this.animator != null && cgroups != null && cgroups.length > 0) {
                                this.animator.setAnimationGroups(cgroups);
                            }
                        }
                    }
                }
                // ..
                // TODO: MOVE BONE SOCKET TRANFORMS - ???
                // ..
                // Dispose Mannequinn Skin And Bones For Performance
                // ..
                if (this.avatarLoaded === true && this.disposeOfMannequin === true) {
                    const children = this.transform.getChildren(null, false);
                    children.forEach((child) => {
                        if (child != null) {
                            if (child instanceof BABYLON.AbstractMesh) {
                                try {
                                    if (child.skeleton != null) {
                                        child.skeleton.dispose();
                                        child.skeleton = null;
                                    }
                                }
                                catch (e3) {
                                    console.error(e3);
                                }
                            }
                        }
                    });
                    const childrenx = this.transform.getChildren(null, true);
                    childrenx.forEach((childx) => {
                        if (childx != null) {
                            try {
                                childx.dispose();
                            }
                            catch (e4) {
                                console.error(e4);
                            }
                        }
                    });
                }
            }
        }
        /** Load runtime player avatar from specfied location */
        loadRuntimePlayerAvatar(url) {
            if (url != null && url !== "") {
                //console.warn(">>> Loading player avatar from: " + url);
                const sceneRootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
                let importUrl = url;
                let rooturl = sceneRootUrl;
                let filename = "";
                rooturl = sceneRootUrl;
                filename = importUrl;
                if (importUrl.indexOf("://") >= 0) {
                    rooturl = importUrl.substring(0, importUrl.lastIndexOf('/')) + "/";
                    filename = importUrl.substring(importUrl.lastIndexOf('/') + 1);
                }
                const assetsManager = new BABYLON.AssetsManager(this.scene);
                const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask"), null, rooturl, filename);
                importTask.onSuccess = (task) => {
                    if (task.loadedMeshes != null) {
                        task.loadedMeshes.forEach((mesh) => {
                            if (mesh.material instanceof BABYLON.PBRMaterial) {
                                mesh.material.ambientColor = this.ambientMaterial;
                            }
                        });
                        let rootAvatarMesh = task.loadedMeshes[0];
                        if (rootAvatarMesh != null) {
                            rootAvatarMesh.parent = this.transform.parent;
                            rootAvatarMesh.name = "BlenderAvatar";
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            BABYLON.Toolkit.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            this.configurePlayerAvatarRig(rootAvatarMesh);
                        }
                    }
                };
                importTask.onError = (task, message, exception) => { console.error(message, exception); };
                assetsManager.load();
            }
        }
        /** Add asset preloader tasks (https://doc.babylonjs.com/divingDeeper/importers/assetManager) */
        addPreloaderTasks(assetsManager) {
            if (this.preloadLocation != null && this.preloadLocation !== "") {
                //console.warn(">>> Preloading player avatar from: " + this.preloadLocation);
                const sceneRootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
                let importUrl = this.preloadLocation;
                let rooturl = sceneRootUrl;
                let filename = "";
                rooturl = sceneRootUrl;
                filename = importUrl;
                if (importUrl.indexOf("://") >= 0) {
                    rooturl = importUrl.substring(0, importUrl.lastIndexOf('/')) + "/";
                    filename = importUrl.substring(importUrl.lastIndexOf('/') + 1);
                }
                const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask"), null, rooturl, filename);
                importTask.onSuccess = (task) => {
                    if (task.loadedMeshes != null) {
                        task.loadedMeshes.forEach((mesh) => {
                            if (mesh.material instanceof BABYLON.PBRMaterial) {
                                mesh.material.ambientColor = this.ambientMaterial;
                            }
                        });
                        let rootAvatarMesh = task.loadedMeshes[0];
                        if (rootAvatarMesh != null) {
                            rootAvatarMesh.parent = this.transform.parent;
                            rootAvatarMesh.name = "BlenderAvatar";
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            BABYLON.Toolkit.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            this.configurePlayerAvatarRig(rootAvatarMesh);
                        }
                    }
                };
                importTask.onError = (task, message, exception) => { console.error(message, exception); };
            }
        }
    }
    ColyseusNetworkAvatar.FONT_PADDING = 36;
    ColyseusNetworkAvatar.HEIGHT_PADDING = 0.1;
    PROJECT.ColyseusNetworkAvatar = ColyseusNetworkAvatar;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon network entity (Colyseus Universal Game Room)
     * @class ColyseusNetworkEntity - All rights reserved (c) 2020 Mackey Kinard
     */
    class ColyseusNetworkEntity extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.autoCreate = true;
            this.remotePrefab = null;
            this.assetContainer = null;
            this.movementEpsilon = 0.00001;
            this.movementMethod = BABYLON.EntityMovementType.ClientAuthority;
            this.interpolationMode = BABYLON.EntityInterpolation.Default;
            this.interpolationHandler = null;
            this.syncTransformNode = true;
            this.runtimeAttributes = null;
            this.creationAttributes = null;
            this.bufferedAttributes = null;
            this.networkEntityCreated = false;
        }
        update() {
            if (this.networkEntityCreated === false && this.autoCreate === true && this.isReady()) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    this.autoCreate = false;
                    this.createEntity();
                }
            }
        }
        destroy() {
            this.autoCreate = false;
            this.movementMethod = 0;
            this.remotePrefab = null;
            this.assetContainer = null;
            this.interpolationMode = 0;
            this.interpolationHandler = null;
            this.creationAttributes = null;
            this.runtimeAttributes = null;
            this.syncTransformNode = false;
            this.networkEntityCreated = true;
            const entityId = BABYLON.Toolkit.EntityController.GetNetworkEntityId(this.transform);
            if (entityId != null && entityId !== "")
                BABYLON.NetworkManager.RemoveNetworkEntity(entityId);
        }
        createEntity() {
            const attributesToCreate = {};
            if (this.creationAttributes != null && this.creationAttributes.length > 0) {
                this.creationAttributes.forEach((creationAttribute) => { attributesToCreate[creationAttribute.key] = creationAttribute.value; });
            }
            if (this.runtimeAttributes != null && this.runtimeAttributes.length > 0) {
                this.runtimeAttributes.forEach((runtimeAttribute) => { attributesToCreate[runtimeAttribute.key] = runtimeAttribute.value; });
            }
            const customHandler = (this.interpolationMode === BABYLON.EntityInterpolation.Custom) ? this.interpolationHandler : "";
            BABYLON.NetworkManager.CreateNetworkEntity(this.transform, this.remotePrefab, this.assetContainer, this.movementEpsilon, this.movementMethod, this.interpolationMode, this.syncTransformNode, customHandler, this.bufferedAttributes, attributesToCreate);
            this.networkEntityCreated = true;
        }
    }
    PROJECT.ColyseusNetworkEntity = ColyseusNetworkEntity;
})(PROJECT || (PROJECT = {}));
var BABYLON;
(function (BABYLON) {
    let RemoteFunctionCallTarget;
    (function (RemoteFunctionCallTarget) {
        RemoteFunctionCallTarget[RemoteFunctionCallTarget["All"] = 0] = "All";
        RemoteFunctionCallTarget[RemoteFunctionCallTarget["Others"] = 1] = "Others";
    })(RemoteFunctionCallTarget = BABYLON.RemoteFunctionCallTarget || (BABYLON.RemoteFunctionCallTarget = {}));
    let NetworkEntityType;
    (function (NetworkEntityType) {
        NetworkEntityType[NetworkEntityType["None"] = 0] = "None";
        NetworkEntityType[NetworkEntityType["Local"] = 1] = "Local";
        NetworkEntityType[NetworkEntityType["Remote"] = 2] = "Remote";
    })(NetworkEntityType = BABYLON.NetworkEntityType || (BABYLON.NetworkEntityType = {}));
    let EntityMovementType;
    (function (EntityMovementType) {
        EntityMovementType[EntityMovementType["ClientAuthority"] = 0] = "ClientAuthority";
        EntityMovementType[EntityMovementType["ServerAuthority"] = 1] = "ServerAuthority";
    })(EntityMovementType = BABYLON.EntityMovementType || (BABYLON.EntityMovementType = {}));
    let EntityInterpolation;
    (function (EntityInterpolation) {
        EntityInterpolation[EntityInterpolation["Default"] = 0] = "Default";
        EntityInterpolation[EntityInterpolation["Hermite"] = 1] = "Hermite";
        EntityInterpolation[EntityInterpolation["Custom"] = 2] = "Custom";
    })(EntityInterpolation = BABYLON.EntityInterpolation || (BABYLON.EntityInterpolation = {}));
    class EntityAttribute {
    }
    BABYLON.EntityAttribute = EntityAttribute;
    /**
     * Babylon network management system class (Colyseus Universal Game Room)
     * Supports network users, entities, attributes, remote function calls, custom messages, custom methods and custom room logic modules.
     * @class NetworkManager - All rights reserved (c) 2020 Mackey Kinard
     */
    class NetworkManager {
        static RegisterCustomInterpolationHandler(name, handler) { BABYLON.NetworkManager.CustomHandlerMap.set(name, handler); }
        /** Is the colyseus network library is available */
        static IsAvailable() { return (window.Colyseus !== undefined && window.Colyseus.Client !== undefined); }
        /** Is the default universal game room attached to the scene */
        static IsRoomAttached() { return (BABYLON.NetworkManager.SceneReference != null && BABYLON.NetworkManager.DefaultRoom != null); }
        /** Has client received a join room confirmation message from the default universal game room */
        static HasJoinedRoom() { return (BABYLON.NetworkManager.SceneReference != null && BABYLON.NetworkManager.DefaultRoom != null && BABYLON.NetworkManager.UserReference != null); }
        /** Gets the current user in the default universal game room */
        static GetCurrentUser() { return BABYLON.NetworkManager.UserReference; }
        /** Gets the attached default universal game room */
        static GetDefaultRoom() { return BABYLON.NetworkManager.DefaultRoom; }
        /** Gets the network server time of the attached default universal game room (Seconds) */
        static GetNetworkTime() { return BABYLON.NetworkManager.NetworkServerTime; }
        /** Is local network entity */
        static IsLocalNetworkEntity(entity) { return (BABYLON.NetworkManager.GetNetworkEntityType(entity) === BABYLON.NetworkEntityType.Local); }
        /** Is remote network entity */
        static IsRemoteNetworkEntity(entity) { return (BABYLON.NetworkManager.GetNetworkEntityType(entity) === BABYLON.NetworkEntityType.Remote); }
        /** Gets the network entity type */
        static GetNetworkEntityType(entity) {
            let result = 0;
            const aentity = entity;
            if (aentity.transformNode != null && aentity.transformNodeType != null) {
                result = aentity.transformNodeType;
            }
            return result;
        }
        /** Attaches default universal game room to the specified scene */
        static AttachDefaultRoom(scene, room) {
            BABYLON.NetworkManager.DetachDefaultRoom();
            if (scene != null && room != null) {
                BABYLON.NetworkManager.DefaultRoom = room;
                BABYLON.NetworkManager.SceneReference = scene;
                if (room.state != null && room.state.entities != null) {
                    room.state.entities.onAdd((e, k) => { BABYLON.NetworkManager.AddNetworkEntityHandler(e, k); });
                    room.state.entities.onRemove((e, k) => { BABYLON.NetworkManager.RemoveNetworkEntityHandler(e, k); });
                }
                room.onStateChange.once((state) => { BABYLON.NetworkManager.OnDispatchChatQueueMessages(state); }); // Note: First State Chnage
                room.onStateChange((state) => { BABYLON.NetworkManager.OnDispatchChatQueueMessages(state); }); // Note: State Updated
                room.onMessage("onConnect", (info) => { BABYLON.NetworkManager.OnConnectObservable.notifyObservers(info.user); });
                room.onMessage("onDisconnect", (info) => { BABYLON.NetworkManager.OnDisconnectObservable.notifyObservers(info.user); });
                room.onMessage("onJoin", (info) => { BABYLON.NetworkManager.JoinDefaultRoomHandler(info); BABYLON.NetworkManager.OnJoinRoomObservable.notifyObservers(info.user); });
                room.onMessage("onRFC", (message) => { BABYLON.NetworkManager.OnRemoteProcedureCallObservable.notifyObservers(message); });
                room.onLeave((code) => { BABYLON.NetworkManager.OnLeaveRoomObservable.notifyObservers(code); });
                room.onError((code, message) => { BABYLON.NetworkManager.OnErrorMessageObservable.notifyObservers({ code: code, message: message }); });
                scene.onBeforeRenderObservable.add(BABYLON.NetworkManager.OnSceneBeforeRenderUpdate);
            }
        }
        /** Detaches default universal game room from the scene */
        static DetachDefaultRoom() {
            try {
                try {
                    if (BABYLON.NetworkManager.RootNode != null) {
                        BABYLON.NetworkManager.RootNode.dispose();
                    }
                }
                catch (e0) {
                    console.error(e0);
                }
                try {
                    if (BABYLON.NetworkManager.DefaultRoom != null) {
                        BABYLON.NetworkManager.DefaultRoom.removeAllListeners();
                    }
                }
                catch (e1) {
                    console.error(e1);
                }
                try {
                    if (BABYLON.NetworkManager.NetworkEntityQueue != null) {
                        BABYLON.NetworkManager.NetworkEntityQueue.clear();
                    }
                }
                catch (e2) {
                    console.error(e2);
                }
                try {
                    if (BABYLON.NetworkManager.SceneReference != null) {
                        BABYLON.NetworkManager.SceneReference.onBeforeRenderObservable.removeCallback(BABYLON.NetworkManager.OnSceneBeforeRenderUpdate);
                    }
                }
                catch (e6) {
                    console.error(e6);
                }
            }
            catch (e9) {
                console.error(e9);
            }
            finally {
                BABYLON.NetworkManager.RootNode = null;
                BABYLON.NetworkManager.DefaultRoom = null;
                BABYLON.NetworkManager.UserReference = null;
                BABYLON.NetworkManager.SceneReference = null;
                BABYLON.NetworkManager.NetworkEntityQueue = null;
                BABYLON.NetworkManager.NetworkServerTime = 0;
            }
        }
        /** Gets a network user in the default universal game room */
        static GetNetworkUser(id) {
            let result = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state != null && BABYLON.NetworkManager.DefaultRoom.state.users != null) {
                    result = BABYLON.NetworkManager.DefaultRoom.state.users.get(id);
                }
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
            return result;
        }
        /** Gets a network entity in the default universal game room */
        static GetNetworkEntity(id) {
            let result = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state != null && BABYLON.NetworkManager.DefaultRoom.state.entities != null) {
                    result = BABYLON.NetworkManager.DefaultRoom.state.entities.get(id);
                }
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
            return result;
        }
        /** Creates a network entity in the default universal game room */
        static CreateNetworkEntity(localTransform, remotePrefab = null, assetContainer = null, movementEpsilon = 0.00001, movementType = BABYLON.EntityMovementType.ClientAuthority, interpolationMode = BABYLON.EntityInterpolation.Default, autoSyncTransform = true, customHandlerName = null, bufferedAttributes, createAttributes = null) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.CreateNetworkEntity(BABYLON.NetworkManager.DefaultRoom, BABYLON.NetworkManager.UserReference.name, localTransform, remotePrefab, assetContainer, movementEpsilon, movementType, interpolationMode, autoSyncTransform, customHandlerName, bufferedAttributes, createAttributes);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Removes a network entity from the default universal game room */
        static RemoveNetworkEntity(entityId) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.RemoveNetworkEntity(BABYLON.NetworkManager.DefaultRoom, entityId);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Sets a user attribute on the default universal game room */
        static SetUserAttributes(userId, attributesToSet) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SetUserAttributes(BABYLON.NetworkManager.DefaultRoom, userId, attributesToSet);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Sets a entity attribute on the default universal game room */
        static SetEntityAttributes(entityId, attributesToSet) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SetEntityAttributes(BABYLON.NetworkManager.DefaultRoom, entityId, attributesToSet);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Calls a custom server method on the default universal game room */
        static CallCustomMethod(method, ...args) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.CallCustomMethod(BABYLON.NetworkManager.DefaultRoom, method, args);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Executs a remote function call on the default universal game room */
        static ExecuteRemoteFunctionCall(target, entityId, func, ...args) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.ExecuteRemoteFunctionCall(BABYLON.NetworkManager.DefaultRoom, target, entityId, func, args);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Game Session Chat Messages
        ////////////////////////////////////////////////////////////////////
        /** Gets the current chat message queue items for the default universal game room */
        static GetChatMessages() {
            let messages = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state.queue != null) {
                    BABYLON.NetworkManager.DefaultRoom.state.queue.forEach((queue, id) => {
                        if (queue != null && queue.messages != null) {
                            queue.messages.forEach((message, index) => {
                                if (message != null) {
                                    if (messages == null)
                                        messages = [];
                                    messages.push(message);
                                }
                            });
                        }
                    });
                }
            }
            return messages;
        }
        /** Send a chat message to the default universal game room */
        static SendChatMessage(message) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SendChat(BABYLON.NetworkManager.DefaultRoom, message);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Life Cycle Updates
        ////////////////////////////////////////////////////////////////////
        static OnSceneBeforeRenderUpdate() {
            const deltaTime = BABYLON.Toolkit.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            if (BABYLON.NetworkManager.NetworkServerTime > 0) {
                BABYLON.NetworkManager.NetworkServerTime += deltaTime;
            }
            BABYLON.NetworkManager.ProcessNetworkEntities(deltaTime);
        }
        static OnDispatchChatQueueMessages(state) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                let messages = BABYLON.NetworkManager.GetChatMessages();
                if (messages != null && messages.length > 0) {
                    // ..
                    // Sort In Ascending Order
                    // ..
                    messages.sort((left, right) => {
                        if (left.timestamp < right.timestamp)
                            return -1;
                        if (left.timestamp > right.timestamp)
                            return 1;
                        return 0;
                    });
                    // ..
                    // Dispatch Shallow Copies
                    // ..
                    messages.forEach((mx) => {
                        if (mx != null && (mx.dispatched == null || mx.dispatched == false)) {
                            try {
                                if (BABYLON.NetworkManager.OnChatMessageObservable && BABYLON.NetworkManager.OnChatMessageObservable.hasObservers()) {
                                    BABYLON.NetworkManager.OnChatMessageObservable.notifyObservers(Object.assign({}, mx));
                                }
                            }
                            catch (e) {
                                console.error(e);
                            }
                            finally {
                                mx.dispatched = true;
                            }
                        }
                    });
                }
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Scene View Functions (Scene Delta Time)
        ////////////////////////////////////////////////////////////////////
        static ProcessNetworkEntities(deltaTime) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                let transmitPacketBuffer = null;
                BABYLON.NetworkManager.DefaultRoom.state.entities.forEach((entity, key) => {
                    if (entity.transformNode != null && entity.transformNode.networkEntitySync != null && entity.transformNode.networkEntitySync === true && entity.transformNodeType != null) {
                        if (entity.transformNodeType === BABYLON.NetworkEntityType.Local) { // Note: Local Network Entities Only
                            if (entity.transformNode.networkEntityLastPosition == null)
                                entity.transformNode.networkEntityLastPosition = entity.transformNode.position.clone();
                            if (entity.transformNode.position.equalsWithEpsilon(entity.transformNode.networkEntityLastPosition, entity.transformNode.networkEntityEpsilon) === false) {
                                entity.transformNode.position.subtractToRef(entity.transformNode.networkEntityLastPosition, entity.transformNode.networkEntityLinearVelocity);
                                entity.transformNode.networkEntityLinearVelocity.x /= deltaTime;
                                entity.transformNode.networkEntityLinearVelocity.y /= deltaTime;
                                entity.transformNode.networkEntityLinearVelocity.z /= deltaTime;
                            }
                            else {
                                entity.transformNode.networkEntityLinearVelocity.set(0, 0, 0);
                            }
                            entity.transformNode.networkEntityLastPosition.copyFrom(entity.transformNode.position);
                            // ..
                            const packet = BABYLON.NetworkManager.CreateNetworkPacketData(entity.transformNode, true);
                            if (transmitPacketBuffer == null)
                                transmitPacketBuffer = [];
                            if (packet != null)
                                transmitPacketBuffer.push(packet);
                        }
                        else if (entity.transformNodeType === BABYLON.NetworkEntityType.Remote) { // Note: Remote Network Entities Only
                            const buffer = entity.transformNode.networkEntityInterpBuffer;
                            if (buffer != null) {
                                buffer.update(deltaTime * 1000);
                                if (entity.transformNode.networkEntityActivated != null) {
                                    if (entity.transformNode.networkEntityActivated !== true) {
                                        entity.transformNode.networkEntityActivated = true;
                                        entity.transformNode.position = new BABYLON.Vector3(entity.xPos, entity.yPos, entity.zPos);
                                        entity.transformNode.rotationQuaternion = new BABYLON.Quaternion(entity.xRot, entity.yRot, entity.zRot, entity.wRot);
                                        entity.transformNode.setEnabled(true); // Note: Enable Root Node On Initial Activation
                                        console.warn(">>> Activating Remote Entity: " + entity.transformNode.name);
                                    }
                                    else {
                                        BABYLON.NetworkManager.UpdateRemoteEntity(buffer, entity, entity.transformNode, deltaTime);
                                    }
                                }
                            }
                        }
                    }
                });
                // ..
                // TODO: Limit Packet Send - ???
                // ..
                if (transmitPacketBuffer != null && transmitPacketBuffer.length > 0) {
                    BABYLON.NetworkManager.SendDataPacketToServer(transmitPacketBuffer);
                }
            }
        }
        static SendDataPacketToServer(transmitPacketBuffer) {
            const dataPacket = { entities: transmitPacketBuffer };
            if (BABYLON.NetworkManager.DefaultRoom != null) {
                BABYLON.NetworkManager.DefaultRoom.send("packetUpdate", dataPacket);
            }
        }
        static UpdateRemoteEntity(buffer, entity, transform, deltaTime) {
            if (entity == null || transform == null)
                return;
            // ..
            // Update Network Translation
            // ..
            const interpolationMode = transform.networkEntityInterpolate;
            if (interpolationMode === BABYLON.EntityInterpolation.Custom) {
                if (transform.networkEntityHandler != null) {
                    transform.networkEntityHandler(entity, transform, deltaTime);
                }
            }
            else {
                if (buffer.state === BufferState.PLAYING) {
                    transform.position.copyFrom(buffer.position);
                    transform.rotationQuaternion.copyFrom(buffer.quaternion);
                    transform.scaling.copyFrom(buffer.scale);
                }
            }
            // ..
            // Update Buffered Attributes
            // ..
            if (transform.networkEntityAttributeBuffer == null)
                transform.networkEntityAttributeBuffer = {};
            transform.networkEntityAttributeBuffer["0"] = entity.aux00;
            transform.networkEntityAttributeBuffer["1"] = entity.aux01;
            transform.networkEntityAttributeBuffer["2"] = entity.aux02;
            transform.networkEntityAttributeBuffer["3"] = entity.aux03;
            transform.networkEntityAttributeBuffer["4"] = entity.aux04;
            transform.networkEntityAttributeBuffer["5"] = entity.aux05;
            transform.networkEntityAttributeBuffer["6"] = entity.aux06;
            transform.networkEntityAttributeBuffer["7"] = entity.aux07;
            transform.networkEntityAttributeBuffer["8"] = entity.aux08;
            transform.networkEntityAttributeBuffer["9"] = entity.aux09;
            transform.networkEntityAttributeBuffer["10"] = entity.aux10;
            transform.networkEntityAttributeBuffer["11"] = entity.aux11;
            transform.networkEntityAttributeBuffer["12"] = entity.aux12;
            transform.networkEntityAttributeBuffer["13"] = entity.aux13;
            transform.networkEntityAttributeBuffer["14"] = entity.aux14;
            transform.networkEntityAttributeBuffer["15"] = entity.aux15;
            transform.networkEntityAttributeBuffer["16"] = entity.aux16;
            transform.networkEntityAttributeBuffer["17"] = entity.aux17;
            transform.networkEntityAttributeBuffer["18"] = entity.aux18;
            transform.networkEntityAttributeBuffer["19"] = entity.aux19;
        }
        static CreateNetworkPacketData(localTransform, postAttributes = true) {
            let result = null;
            const networkEntity = localTransform.networkEntity;
            if (networkEntity != null) {
                if (localTransform.networkEntityMovement != null && localTransform.networkEntityMovement === BABYLON.EntityMovementType.ClientAuthority) {
                    BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(localTransform, BABYLON.NetworkManager.SendPositionBuffer);
                    BABYLON.Toolkit.Utilities.GetAbsoluteRotationToRef(localTransform, BABYLON.NetworkManager.SendRotationBuffer);
                    // ..
                    // BABYLON.NetworkManager.SendPositionBuffer.copyFrom(localTransform.absolutePosition);
                    // BABYLON.NetworkManager.SendRotationBuffer.copyFrom(localTransform.absoluteRotationQuaternion);
                    // ..
                    // BABYLON.NetworkManager.SendPositionBuffer.copyFrom(localTransform.position);
                    // BABYLON.NetworkManager.SendRotationBuffer.copyFrom(localTransform.rotationQuaternion);
                    // ..
                    if (localTransform.networkEntityLinearVelocity != null)
                        BABYLON.NetworkManager.SendLinearBuffer.copyFrom(localTransform.networkEntityLinearVelocity);
                    else
                        BABYLON.NetworkManager.SendLinearBuffer.set(0, 0, 0);
                    if (localTransform.networkEntityAngularVelocity != null)
                        BABYLON.NetworkManager.SendAngularBuffer.copyFrom(localTransform.networkEntityAngularVelocity);
                    else
                        BABYLON.NetworkManager.SendAngularBuffer.set(0, 0, 0);
                    // ..
                    let a00 = 0;
                    let a01 = 0;
                    let a02 = 0;
                    let a03 = 0;
                    let a04 = 0;
                    let a05 = 0;
                    let a06 = 0;
                    let a07 = 0;
                    let a08 = 0;
                    let a09 = 0;
                    let a10 = 0;
                    let a11 = 0;
                    let a12 = 0;
                    let a13 = 0;
                    let a14 = 0;
                    let a15 = 0;
                    let a16 = 0;
                    let a17 = 0;
                    let a18 = 0;
                    let a19 = 0;
                    // ..
                    if (postAttributes === true && localTransform.networkEntityBatch != null) {
                        if (localTransform.networkEntityBatch["0"] != null) {
                            a00 = localTransform.networkEntityBatch["0"];
                        }
                        if (localTransform.networkEntityBatch["1"] != null) {
                            a01 = localTransform.networkEntityBatch["1"];
                        }
                        if (localTransform.networkEntityBatch["2"] != null) {
                            a02 = localTransform.networkEntityBatch["2"];
                        }
                        if (localTransform.networkEntityBatch["3"] != null) {
                            a03 = localTransform.networkEntityBatch["3"];
                        }
                        if (localTransform.networkEntityBatch["4"] != null) {
                            a04 = localTransform.networkEntityBatch["4"];
                        }
                        if (localTransform.networkEntityBatch["5"] != null) {
                            a05 = localTransform.networkEntityBatch["5"];
                        }
                        if (localTransform.networkEntityBatch["6"] != null) {
                            a06 = localTransform.networkEntityBatch["6"];
                        }
                        if (localTransform.networkEntityBatch["7"] != null) {
                            a07 = localTransform.networkEntityBatch["7"];
                        }
                        if (localTransform.networkEntityBatch["8"] != null) {
                            a08 = localTransform.networkEntityBatch["8"];
                        }
                        if (localTransform.networkEntityBatch["9"] != null) {
                            a09 = localTransform.networkEntityBatch["9"];
                        }
                        if (localTransform.networkEntityBatch["10"] != null) {
                            a10 = localTransform.networkEntityBatch["10"];
                        }
                        if (localTransform.networkEntityBatch["11"] != null) {
                            a11 = localTransform.networkEntityBatch["11"];
                        }
                        if (localTransform.networkEntityBatch["12"] != null) {
                            a12 = localTransform.networkEntityBatch["12"];
                        }
                        if (localTransform.networkEntityBatch["13"] != null) {
                            a13 = localTransform.networkEntityBatch["13"];
                        }
                        if (localTransform.networkEntityBatch["14"] != null) {
                            a14 = localTransform.networkEntityBatch["14"];
                        }
                        if (localTransform.networkEntityBatch["15"] != null) {
                            a15 = localTransform.networkEntityBatch["15"];
                        }
                        if (localTransform.networkEntityBatch["16"] != null) {
                            a16 = localTransform.networkEntityBatch["16"];
                        }
                        if (localTransform.networkEntityBatch["17"] != null) {
                            a17 = localTransform.networkEntityBatch["17"];
                        }
                        if (localTransform.networkEntityBatch["18"] != null) {
                            a18 = localTransform.networkEntityBatch["18"];
                        }
                        if (localTransform.networkEntityBatch["19"] != null) {
                            a19 = localTransform.networkEntityBatch["19"];
                        }
                    }
                    // ..
                    // Format Network Entity Update Packet
                    // ..
                    const packet = {};
                    packet.id = networkEntity.id;
                    packet.xPos = BABYLON.NetworkManager.SendPositionBuffer.x;
                    packet.yPos = BABYLON.NetworkManager.SendPositionBuffer.y;
                    packet.zPos = BABYLON.NetworkManager.SendPositionBuffer.z;
                    packet.xRot = BABYLON.NetworkManager.SendRotationBuffer.x;
                    packet.yRot = BABYLON.NetworkManager.SendRotationBuffer.y;
                    packet.zRot = BABYLON.NetworkManager.SendRotationBuffer.z;
                    packet.wRot = BABYLON.NetworkManager.SendRotationBuffer.w;
                    packet.xVel = BABYLON.NetworkManager.SendLinearBuffer.x;
                    packet.yVel = BABYLON.NetworkManager.SendLinearBuffer.y;
                    packet.zVel = BABYLON.NetworkManager.SendLinearBuffer.z;
                    packet.xAng = BABYLON.NetworkManager.SendAngularBuffer.x;
                    packet.yAng = BABYLON.NetworkManager.SendAngularBuffer.y;
                    packet.zAng = BABYLON.NetworkManager.SendAngularBuffer.z;
                    packet.a00 = a00;
                    packet.a01 = a01;
                    packet.a02 = a02;
                    packet.a03 = a03;
                    packet.a04 = a04;
                    packet.a05 = a05;
                    packet.a06 = a06;
                    packet.a07 = a07;
                    packet.a08 = a08;
                    packet.a09 = a09;
                    packet.a10 = a10;
                    packet.a11 = a11;
                    packet.a12 = a12;
                    packet.a13 = a13;
                    packet.a14 = a14;
                    packet.a15 = a15;
                    packet.a16 = a16;
                    packet.a17 = a17;
                    packet.a18 = a18;
                    packet.a19 = a19;
                    packet.speed = BABYLON.NetworkManager.SendLinearBuffer.length();
                    result = packet;
                }
            }
            return result;
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Static Event Handlers
        ////////////////////////////////////////////////////////////////////
        static JoinDefaultRoomHandler(info) {
            BABYLON.NetworkManager.UserReference = info.user;
            BABYLON.NetworkManager.NetworkServerTime = info.serverTime;
            BABYLON.NetworkManager.InterpolationBuffer = info.interpolationBuffer;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.Tools.Warn("TCP: You are connected to the default room channel");
            }
        }
        static AddNetworkEntityHandler(entity, key) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                // PROCESS QUEUED NETWORK ENTITIES
                if (BABYLON.NetworkManager.NetworkEntityQueue != null) {
                    BABYLON.NetworkManager.NetworkEntityQueue.forEach((vx, kx) => {
                        BABYLON.NetworkManager.ProcessNetworkEntityHandler(vx, kx);
                    });
                    BABYLON.NetworkManager.NetworkEntityQueue.clear();
                    BABYLON.NetworkManager.NetworkEntityQueue = null;
                }
                // PROCESS NEW NETWORK ENTITY ITEM
                BABYLON.NetworkManager.ProcessNetworkEntityHandler(entity, key);
            }
            else {
                if (BABYLON.NetworkManager.NetworkEntityQueue == null)
                    BABYLON.NetworkManager.NetworkEntityQueue = new Map();
                BABYLON.NetworkManager.NetworkEntityQueue.set(key, entity);
            }
        }
        static ProcessNetworkEntityHandler(entity, key) {
            //console.warn(">>> Add New Network Entity: " + key);
            const aentity = entity;
            const sceneRef = BABYLON.NetworkManager.SceneReference;
            const remotePrefab = entity.attributes.get("remotePrefab");
            const assetContainer = entity.attributes.get("assetContainer");
            const customHandler = entity.attributes.get("customHandler");
            const movementEpsilon = entity.attributes.get("movementEpsilon");
            const movementType = entity.attributes.get("movementType");
            const interoplation = entity.attributes.get("interoplation");
            const bufferedAttribs = entity.attributes.get("bufferedAttribs");
            const syncTransform = entity.attributes.get("syncTransform");
            const playerAvatar = entity.attributes.get("playerAvatar");
            const isLocalEntity = (entity.ownerId === BABYLON.NetworkManager.UserReference.id);
            if (isLocalEntity === false) { // Note: Local Network Entities Only
                aentity.onChange((changes) => { BABYLON.NetworkManager.ProcessRemoteEntityChanges(entity, changes); });
            }
            let sourceName = entity.attributes.get("sourceName");
            if (sourceName == null || sourceName === "")
                sourceName = "Unknown";
            let transformNode = null;
            let transformNodeName = (sourceName + "." + entity.ownerId);
            let transformNodeType = (isLocalEntity === true) ? BABYLON.NetworkEntityType.Local : BABYLON.NetworkEntityType.Remote;
            if (BABYLON.NetworkManager.RootNode == null) {
                BABYLON.NetworkManager.RootNode = new BABYLON.TransformNode("Network Entities", sceneRef);
                BABYLON.NetworkManager.RootNode.position.set(0, 0, 0);
            }
            if (isLocalEntity === false) {
                const initialPosition = new BABYLON.Vector3(0, 0, 0);
                const initialRotation = new BABYLON.Quaternion(0, 0, 0, 1);
                if (remotePrefab != null && remotePrefab !== "") {
                    if (assetContainer != null && assetContainer !== "") {
                        const contaier = BABYLON.Toolkit.SceneManager.GetAssetContainer(sceneRef, assetContainer);
                        if (contaier != null) {
                            transformNode = BABYLON.Toolkit.SceneManager.InstantiatePrefabFromContainer(contaier, remotePrefab, transformNodeName, BABYLON.NetworkManager.RootNode, initialPosition, initialRotation);
                            if (transformNode == null)
                                BABYLON.Tools.Warn("Failed to instaniate '" + remotePrefab + "' from asset container '" + assetContainer + "'.");
                        }
                        else {
                            BABYLON.Tools.Warn("Asset container '" + assetContainer + "' not registered on the scene.");
                        }
                    }
                    else {
                        transformNode = BABYLON.Toolkit.SceneManager.InstantiatePrefabFromScene(sceneRef, remotePrefab, transformNodeName, BABYLON.NetworkManager.RootNode, initialPosition, initialRotation);
                        if (transformNode == null)
                            BABYLON.Tools.Warn("Failed to instaniate '" + remotePrefab + "' from current scene.");
                    }
                }
                if (transformNode == null) {
                    transformNode = new BABYLON.TransformNode(transformNodeName, sceneRef);
                    transformNode.parent = BABYLON.NetworkManager.RootNode;
                    transformNode.position = initialPosition.clone();
                    transformNode.rotationQuaternion = initialRotation.clone();
                }
                transformNode.name = transformNodeName; // Note: Double Check Transform Node Name Is Set
                transformNode.setEnabled(false); // Note: Disable Root Node Until Initial Activation
                // ..
                // Hide Netowrk Avatar Player Armature
                // ..
                if (transformNode != null) {
                    if (playerAvatar != null && playerAvatar !== "") {
                        const skins = transformNode.getChildMeshes(false, (node) => { return (node.skeleton != null); });
                        if (skins != null && skins.length > 0) {
                            skins.forEach((skin) => {
                                const stag = BABYLON.Toolkit.SceneManager.GetTransformTag(skin);
                                if (stag != null && stag === "Armature" || skin.name.toLowerCase().endsWith(".skin")) {
                                    skin.isVisible = false;
                                }
                            });
                        }
                    }
                }
            }
            else {
                transformNode = BABYLON.Toolkit.SceneManager.GetTransformNodeByID(sceneRef, entity.creationId);
                if (transformNode == null)
                    BABYLON.Tools.Warn("Failed to locate local entity transform '" + entity.creationId + "' in current scene.");
            }
            // ..
            // Validate Custom Interpolation Handler
            // ..
            let customHandlerFunc = null;
            if (customHandler != null && customHandler !== "") {
                customHandlerFunc = BABYLON.NetworkManager.CustomHandlerMap.get(customHandler);
                if (customHandlerFunc == null)
                    BABYLON.Tools.Warn("Custom interoplation handler not found: " + customHandler + ". Default interpolation will be used instead.");
            }
            // ..
            // Link Entity And Transform Node References
            // ..
            if (transformNode != null) {
                aentity.transformNode = transformNode;
                aentity.transformNodeType = transformNodeType;
                aentity.transformNode.networkEntity = entity;
                aentity.transformNode.networkEntityType = transformNodeType;
                aentity.transformNode.networkEntitySync = (syncTransform != null && syncTransform === "true");
                aentity.transformNode.networkEntityBatch = null;
                aentity.transformNode.networkEntityHandler = customHandlerFunc;
                aentity.transformNode.networkEntityEpsilon = (movementEpsilon != null && movementEpsilon !== "") ? parseFloat(movementEpsilon) : 0.00001;
                aentity.transformNode.networkEntityMovement = (movementType != null && movementType !== "") ? parseFloat(movementType) : 0;
                aentity.transformNode.networkEntityInterpolate = (interoplation != null && interoplation !== "") ? parseFloat(interoplation) : 0;
                aentity.transformNode.networkEntityActivated = false;
                aentity.transformNode.networkEntityLastPosition = null;
                aentity.transformNode.networkEntityLinearVelocity = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkPosition = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkRotation = new BABYLON.Quaternion(0, 0, 0, 1);
                aentity.transformNode.networkEntityNetworkVelocity = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkScaling = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityAttributeBuffer = null;
                aentity.transformNode.networkEntityInterpBuffer = null;
                aentity.transformNode.networkEntityPlayerAvatar = playerAvatar;
                if (transformNodeType == BABYLON.NetworkEntityType.Remote) {
                    const interpolationMode = aentity.transformNode.networkEntityInterpolate;
                    if (interpolationMode !== BABYLON.EntityInterpolation.Custom) {
                        const bufferAttribs = (bufferedAttribs != null && bufferedAttribs !== "") ? JSON.parse(bufferedAttribs) : null;
                        aentity.transformNode.networkEntityInterpBuffer = new InterpolationBuffer(interpolationMode, BABYLON.NetworkManager.InterpolationBuffer, bufferAttribs);
                    }
                }
                else if (transformNodeType == BABYLON.NetworkEntityType.Local) {
                    // TODO: Local Only Setup
                }
            }
            else {
                aentity.transformNode = null;
                aentity.transformNodeType = BABYLON.NetworkEntityType.None;
            }
            BABYLON.NetworkManager.OnCreateEntityObservable.notifyObservers(entity);
        }
        static ProcessRemoteEntityChanges(entity, changes) {
            if (entity != null && entity.transformNode != null && entity.transformNode.networkEntitySync != null && entity.transformNode.networkEntitySync === true && entity.transformNodeType != null) {
                if (entity.transformNodeType === BABYLON.NetworkEntityType.Remote) { // Note: Remote Network Entities Only
                    //console.log("ProcessRemoteEntityChanges: ", entity, changes);
                    entity.transformNode.networkEntityNetworkPosition.set(entity.xPos, entity.yPos, entity.zPos);
                    entity.transformNode.networkEntityNetworkRotation.set(entity.xRot, entity.yRot, entity.zRot, entity.wRot);
                    entity.transformNode.networkEntityNetworkVelocity.set(entity.xVel, entity.yVel, entity.zVel);
                    entity.transformNode.networkEntityNetworkScaling.set(1.0, 1.0, 1.0);
                    if (entity.transformNode.networkEntityInterpBuffer != null) {
                        const position = entity.transformNode.networkEntityNetworkPosition;
                        const rotation = entity.transformNode.networkEntityNetworkRotation;
                        const velocity = entity.transformNode.networkEntityNetworkVelocity;
                        const scaling = entity.transformNode.networkEntityNetworkScaling;
                        entity.transformNode.networkEntityInterpBuffer.appendBuffer(position, velocity, rotation, scaling);
                    }
                }
            }
        }
        static RemoveNetworkEntityHandler(entity, key) {
            const aentity = entity;
            if (aentity.transformNode != null && aentity.transformNodeType != null && aentity.transformNodeType === BABYLON.NetworkEntityType.Remote) {
                // console.warn(">>> Remove Remote Network Entity: " + key);
                if (aentity.transformNode.dispose)
                    aentity.transformNode.dispose();
                aentity.transformNode = null;
                BABYLON.NetworkManager.OnRemoveEntityObservable.notifyObservers(entity);
            }
        }
    }
    NetworkManager.RootNode = null;
    NetworkManager.DefaultRoom = null;
    NetworkManager.UserReference = null;
    NetworkManager.NetworkServerTime = 0;
    NetworkManager.NetworkEntityQueue = null;
    NetworkManager.CustomHandlerMap = new Map();
    NetworkManager.SendPositionBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SendRotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
    NetworkManager.SendLinearBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SendAngularBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SceneReference = null;
    NetworkManager.InterpolationBuffer = 0.15;
    NetworkManager.OnConnectObservable = new BABYLON.Observable();
    NetworkManager.OnDisconnectObservable = new BABYLON.Observable();
    NetworkManager.OnJoinRoomObservable = new BABYLON.Observable();
    NetworkManager.OnLeaveRoomObservable = new BABYLON.Observable();
    NetworkManager.OnCreateEntityObservable = new BABYLON.Observable();
    NetworkManager.OnRemoveEntityObservable = new BABYLON.Observable();
    NetworkManager.OnChatMessageObservable = new BABYLON.Observable();
    NetworkManager.OnPingReceivedObservable = new BABYLON.Observable();
    NetworkManager.OnErrorMessageObservable = new BABYLON.Observable();
    NetworkManager.OnRemoteProcedureCallObservable = new BABYLON.Observable();
    BABYLON.NetworkManager = NetworkManager;
    /**
     * Babylon universal game room controller (Colyseus Universal Game Room)
     * Supports network users, entities, attributes, remote function calls, custom messages, custom methods and custom room logic modules.
     * @class RoomController - All rights reserved (c) 2020 Mackey Kinard
     */
    class RoomController {
        static SendPing(room) {
            room.send("ping");
        }
        static SendChat(room, message) {
            room.send("sendChat", { sessionId: "*", name: "*", message: message, timestamp: -1 });
        }
        static CallCustomMethod(room, method, ...args) {
            room.send("customMethod", { method: method, param: args });
        }
        static SetUserAttributes(room, userId, attributesToSet) {
            room.send("setAttribute", { entityId: null, userId: userId, attributesToSet: attributesToSet });
        }
        static SetEntityAttributes(room, entityId, attributesToSet) {
            room.send("setAttribute", { entityId: entityId, userId: null, attributesToSet: attributesToSet });
        }
        static CreateNetworkEntity(room, ownerName, localTransform, remotePrefab = null, assetContainer = null, movementEpsilon = 0.00001, movementType = BABYLON.EntityMovementType.ClientAuthority, interpolationMode = BABYLON.EntityInterpolation.Default, autoSyncTransform = true, customHandlerName = null, bufferedAttributes, createAttributes = null) {
            const entityAttributes = (createAttributes != null) ? createAttributes : {};
            const entityPosition = localTransform.position;
            const entityRotation = (localTransform.rotationQuaternion != null) ? localTransform.rotationQuaternion : BABYLON.Quaternion.FromEulerVector(localTransform.rotation);
            entityAttributes["ownerName"] = ownerName;
            entityAttributes["sourceName"] = (localTransform.name != null) ? localTransform.name : localTransform.id;
            entityAttributes["creationPos"] = [entityPosition.x, entityPosition.y, entityPosition.z];
            entityAttributes["creationRot"] = [entityRotation.x, entityRotation.y, entityRotation.z, entityRotation.w];
            entityAttributes["remotePrefab"] = remotePrefab;
            entityAttributes["assetContainer"] = assetContainer;
            entityAttributes["customHandler"] = customHandlerName;
            entityAttributes["movementEpsilon"] = movementEpsilon.toString();
            entityAttributes["movementType"] = movementType.toString();
            entityAttributes["interoplation"] = interpolationMode.toString();
            entityAttributes["syncTransform"] = autoSyncTransform.toString().toLowerCase();
            entityAttributes["bufferedAttribs"] = (bufferedAttributes != null) ? JSON.stringify(bufferedAttributes) : null;
            room.send("createEntity", { creationId: localTransform.id, attributes: entityAttributes });
        }
        static RemoveNetworkEntity(room, entityId) {
            room.send("removeEntity", entityId);
        }
        static ExecuteRemoteFunctionCall(room, target, entityId, func, ...args) {
            room.send("remoteFunctionCall", { entityId: entityId, function: func, param: args, target: target });
        }
    }
    BABYLON.RoomController = RoomController;
    /**
     * Network Interpolation Buffer
     * https://github.com/virbela/buffered-interpolation
     */
    let BufferState;
    (function (BufferState) {
        BufferState[BufferState["INITIALIZING"] = 0] = "INITIALIZING";
        BufferState[BufferState["BUFFERING"] = 1] = "BUFFERING";
        BufferState[BufferState["PLAYING"] = 2] = "PLAYING";
    })(BufferState = BABYLON.BufferState || (BABYLON.BufferState = {}));
    let BufferMode;
    (function (BufferMode) {
        BufferMode[BufferMode["MODE_LERP"] = 0] = "MODE_LERP";
        BufferMode[BufferMode["MODE_HERMITE"] = 1] = "MODE_HERMITE";
    })(BufferMode = BABYLON.BufferMode || (BABYLON.BufferMode = {}));
    // const vectorPool: Vector3[] = [];
    // const quatPool: Quaternion[] = [];
    const framePool = [];
    // const getPooledVector: () => Vector3 = () => vectorPool.shift() || new Vector3();
    // const getPooledQuaternion: () => Quaternion = () => quatPool.shift() || new Quaternion();
    const getPooledFrame = () => {
        let frame = framePool.pop();
        if (!frame) {
            frame = { position: new BABYLON.Vector3(), velocity: new BABYLON.Vector3(), scale: new BABYLON.Vector3(1, 1, 1), quaternion: new BABYLON.Quaternion(), aux00: 0, aux01: 0, aux02: 0, aux03: 0, aux04: 0, aux05: 0, aux06: 0, aux07: 0, aux08: 0, aux09: 0, aux10: 0, aux11: 0, aux12: 0, aux13: 0, aux14: 0, aux15: 0, aux16: 0, aux17: 0, aux18: 0, aux19: 0, speed: 0, time: 0 };
        }
        return frame;
    };
    const freeFrame = f => framePool.push(f);
    class InterpolationBuffer {
        getPosition() { return this.position; }
        getQuaternion() { return this.quaternion; }
        getScale() { return this.scale; }
        constructor(mode = BufferMode.MODE_LERP, bufferTime = 0.15, bufferAttribs = null) {
            this.state = BufferState.INITIALIZING;
            this.buffer = [];
            this.bufferTime = bufferTime * 1000;
            this.bufferAttribs = bufferAttribs;
            this.time = 0;
            this.mode = mode;
            this.originFrame = getPooledFrame();
            this.position = new BABYLON.Vector3();
            this.quaternion = new BABYLON.Quaternion();
            this.scale = new BABYLON.Vector3(1, 1, 1);
            this.aux00 = 0;
            this.aux01 = 0;
            this.aux02 = 0;
            this.aux03 = 0;
            this.aux04 = 0;
            this.aux05 = 0;
            this.aux06 = 0;
            this.aux07 = 0;
            this.aux08 = 0;
            this.aux09 = 0;
            this.aux10 = 0;
            this.aux11 = 0;
            this.aux12 = 0;
            this.aux13 = 0;
            this.aux14 = 0;
            this.aux15 = 0;
            this.aux16 = 0;
            this.aux17 = 0;
            this.aux18 = 0;
            this.aux19 = 0;
            this.speed = 0;
        }
        hermiteToolkit(target, t, p1, p2, v1, v2) {
            //const deltaTime:number = BABYLON.Toolkit.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            BABYLON.Toolkit.Utilities.HermiteVector3ToRef(p1, v1, p2, v2, t, target);
        }
        hermiteBabylon(target, t, p1, p2, v1, v2) {
            //const deltaTime:number = BABYLON.Toolkit.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            const pos = BABYLON.Vector3.Hermite(p1, v1, p2, v2, t);
            target.copyFrom(pos);
        }
        hermiteLegacy(target, t, p1, p2, v1, v2) {
            const t2 = t * t;
            const t3 = t * t * t;
            const a = 2 * t3 - 3 * t2 + 1;
            const b = -2 * t3 + 3 * t2;
            const c = t3 - 2 * t2 + t;
            const d = t3 - t2;
            target.copyFrom(p1.scaleInPlace(a));
            target.add(p2.scaleInPlace(b));
            target.add(v1.scaleInPlace(c));
            target.add(v2.scaleInPlace(d));
        }
        /* CUBIC HERMOTE REFERENCE (GDSCRIPT)
        func hermite(t, p1, p2, v1, v2):
            var t2 = pow(t, 2)
            var t3 = pow(t, 3)
            var a = 1 - 3*t2 + 2*t3
            var b = t2 * (3 - 2*t)
            var c = t * pow(t - 1, 2)
            var d = t2 * (t - 1)
            return a * p1 + b * p2 + c * v1 + d * v2
        */
        lerp(target, v1, v2, alpha) {
            BABYLON.Vector3.LerpToRef(v1, v2, alpha, target);
        }
        slerp(target, r1, r2, alpha) {
            BABYLON.Quaternion.SlerpToRef(r1, r2, alpha, target);
        }
        updateOriginFrameToBufferTail() {
            freeFrame(this.originFrame);
            this.originFrame = this.buffer.shift() || getPooledFrame();
        }
        appendBuffer(position, velocity, quaternion, scale, aux00 = 0, aux01 = 0, aux02 = 0, aux03 = 0, aux04 = 0, aux05 = 0, aux06 = 0, aux07 = 0, aux08 = 0, aux09 = 0, aux10 = 0, aux11 = 0, aux12 = 0, aux13 = 0, aux14 = 0, aux15 = 0, aux16 = 0, aux17 = 0, aux18 = 0, aux19 = 0, speed = 0) {
            const tail = this.buffer.length > 0 ? this.buffer[this.buffer.length - 1] : null;
            // Update the last entry in the buffer if this is the same frame
            if (tail && tail.time === this.time) {
                if (position)
                    tail.position.copyFrom(position);
                if (velocity)
                    tail.velocity.copyFrom(velocity);
                if (quaternion)
                    tail.quaternion.copyFrom(quaternion);
                if (scale)
                    tail.scale.copyFrom(scale);
                tail.aux00 = aux00;
                tail.aux01 = aux01;
                tail.aux02 = aux02;
                tail.aux03 = aux03;
                tail.aux04 = aux04;
                tail.aux05 = aux05;
                tail.aux06 = aux06;
                tail.aux07 = aux07;
                tail.aux08 = aux08;
                tail.aux09 = aux09;
                tail.aux10 = aux10;
                tail.aux11 = aux11;
                tail.aux12 = aux12;
                tail.aux13 = aux13;
                tail.aux14 = aux14;
                tail.aux15 = aux15;
                tail.aux16 = aux16;
                tail.aux17 = aux17;
                tail.aux18 = aux18;
                tail.aux19 = aux19;
                tail.speed = speed;
            }
            else {
                const priorFrame = tail || this.originFrame;
                const newFrame = getPooledFrame();
                newFrame.position.copyFrom(position || priorFrame.position);
                newFrame.velocity.copyFrom(velocity || priorFrame.velocity);
                newFrame.quaternion.copyFrom(quaternion || priorFrame.quaternion);
                newFrame.scale.copyFrom(scale || priorFrame.scale);
                newFrame.aux00 = aux00;
                newFrame.aux01 = aux01;
                newFrame.aux02 = aux02;
                newFrame.aux03 = aux03;
                newFrame.aux04 = aux04;
                newFrame.aux05 = aux05;
                newFrame.aux06 = aux06;
                newFrame.aux07 = aux07;
                newFrame.aux08 = aux08;
                newFrame.aux09 = aux09;
                newFrame.aux10 = aux10;
                newFrame.aux11 = aux11;
                newFrame.aux12 = aux12;
                newFrame.aux13 = aux13;
                newFrame.aux14 = aux14;
                newFrame.aux15 = aux15;
                newFrame.aux16 = aux16;
                newFrame.aux17 = aux17;
                newFrame.aux18 = aux18;
                newFrame.aux19 = aux19;
                newFrame.speed = speed;
                newFrame.time = this.time;
                this.buffer.push(newFrame);
            }
        }
        // DEEPRECATED: setTarget(position: Vector3, velocity: Vector3, quaternion: Quaternion, scale: Vector3) { this.appendBuffer(position, velocity, quaternion, scale); }
        // DEEPRECATED: setPosition(position: Vector3, velocity: Vector3) { this.appendBuffer(position, velocity, undefined, undefined); }
        // DEEPRECATED: setQuaternion(quaternion: Quaternion) { this.appendBuffer(undefined, undefined, quaternion, undefined); }
        // DEEPRECATED: setScale(scale: Vector3) { this.appendBuffer(undefined, undefined, undefined, scale); }
        update(delta) {
            if (this.state === BufferState.INITIALIZING) {
                if (this.buffer.length > 0) {
                    this.updateOriginFrameToBufferTail();
                    this.position.copyFrom(this.originFrame.position);
                    this.quaternion.copyFrom(this.originFrame.quaternion);
                    this.scale.copyFrom(this.originFrame.scale);
                    this.aux00 = this.originFrame.aux00;
                    this.aux01 = this.originFrame.aux01;
                    this.aux02 = this.originFrame.aux02;
                    this.aux03 = this.originFrame.aux03;
                    this.aux04 = this.originFrame.aux04;
                    this.aux05 = this.originFrame.aux05;
                    this.aux06 = this.originFrame.aux06;
                    this.aux07 = this.originFrame.aux07;
                    this.aux08 = this.originFrame.aux08;
                    this.aux09 = this.originFrame.aux09;
                    this.aux10 = this.originFrame.aux10;
                    this.aux11 = this.originFrame.aux11;
                    this.aux12 = this.originFrame.aux12;
                    this.aux13 = this.originFrame.aux13;
                    this.aux14 = this.originFrame.aux14;
                    this.aux15 = this.originFrame.aux15;
                    this.aux16 = this.originFrame.aux16;
                    this.aux17 = this.originFrame.aux17;
                    this.aux18 = this.originFrame.aux18;
                    this.aux19 = this.originFrame.aux19;
                    this.speed = this.originFrame.speed;
                    this.state = BufferState.BUFFERING;
                }
            }
            if (this.state === BufferState.BUFFERING) {
                if (this.buffer.length > 0 && this.time > this.bufferTime) {
                    this.state = BufferState.PLAYING;
                }
            }
            if (this.state === BufferState.PLAYING) {
                const mark = this.time - this.bufferTime;
                // Purge this.buffer of expired frames
                while (this.buffer.length > 0 && mark > this.buffer[0].time) {
                    // If this is the last frame in the buffer, just update the time and reuse it
                    if (this.buffer.length > 1) {
                        this.updateOriginFrameToBufferTail();
                    }
                    else {
                        this.originFrame.position.copyFrom(this.buffer[0].position);
                        this.originFrame.velocity.copyFrom(this.buffer[0].velocity);
                        this.originFrame.quaternion.copyFrom(this.buffer[0].quaternion);
                        this.originFrame.scale.copyFrom(this.buffer[0].scale);
                        this.originFrame.aux00 = this.buffer[0].aux00;
                        this.originFrame.aux01 = this.buffer[0].aux01;
                        this.originFrame.aux02 = this.buffer[0].aux02;
                        this.originFrame.aux03 = this.buffer[0].aux03;
                        this.originFrame.aux04 = this.buffer[0].aux04;
                        this.originFrame.aux05 = this.buffer[0].aux05;
                        this.originFrame.aux06 = this.buffer[0].aux06;
                        this.originFrame.aux07 = this.buffer[0].aux07;
                        this.originFrame.aux08 = this.buffer[0].aux08;
                        this.originFrame.aux09 = this.buffer[0].aux09;
                        this.originFrame.aux10 = this.buffer[0].aux10;
                        this.originFrame.aux11 = this.buffer[0].aux11;
                        this.originFrame.aux12 = this.buffer[0].aux12;
                        this.originFrame.aux13 = this.buffer[0].aux13;
                        this.originFrame.aux14 = this.buffer[0].aux14;
                        this.originFrame.aux15 = this.buffer[0].aux15;
                        this.originFrame.aux16 = this.buffer[0].aux16;
                        this.originFrame.aux17 = this.buffer[0].aux17;
                        this.originFrame.aux18 = this.buffer[0].aux18;
                        this.originFrame.aux19 = this.buffer[0].aux19;
                        this.originFrame.speed = this.buffer[0].speed;
                        this.originFrame.time = this.buffer[0].time;
                        this.buffer[0].time = this.time + delta;
                    }
                }
                if (this.buffer.length > 0 && this.buffer[0].time > 0) {
                    const targetFrame = this.buffer[0];
                    const delta_time = targetFrame.time - this.originFrame.time;
                    const alpha = (mark - this.originFrame.time) / delta_time;
                    // ..
                    // Network Translation
                    // ..
                    if (this.mode === BufferMode.MODE_LERP) {
                        this.lerp(this.position, this.originFrame.position, targetFrame.position, alpha);
                    }
                    else if (this.mode === BufferMode.MODE_HERMITE) {
                        this.hermiteLegacy(this.position, alpha, this.originFrame.position, targetFrame.position, this.originFrame.velocity.scaleInPlace(delta_time), targetFrame.velocity.scaleInPlace(delta_time));
                        /* TOOLKIT HERMITE
                        this.hermiteToolkit(
                            this.position,
                            alpha,
                            this.originFrame.position,
                            targetFrame.position,
                            this.originFrame.velocity,
                            targetFrame.velocity
                        );*/
                    }
                    this.slerp(this.quaternion, this.originFrame.quaternion, targetFrame.quaternion, alpha);
                    this.lerp(this.scale, this.originFrame.scale, targetFrame.scale, alpha);
                    // ..
                    // Entity Movement Speed
                    // ..
                    this.speed = BABYLON.Scalar.Lerp(this.originFrame.speed, targetFrame.speed, alpha);
                    // ..
                    // Buffered Target Attribs
                    // ..
                    this.aux00 = targetFrame.aux00;
                    this.aux01 = targetFrame.aux01;
                    this.aux02 = targetFrame.aux02;
                    this.aux03 = targetFrame.aux03;
                    this.aux04 = targetFrame.aux04;
                    this.aux05 = targetFrame.aux05;
                    this.aux06 = targetFrame.aux06;
                    this.aux07 = targetFrame.aux07;
                    this.aux08 = targetFrame.aux08;
                    this.aux09 = targetFrame.aux09;
                    this.aux10 = targetFrame.aux10;
                    this.aux11 = targetFrame.aux11;
                    this.aux12 = targetFrame.aux12;
                    this.aux13 = targetFrame.aux13;
                    this.aux14 = targetFrame.aux14;
                    this.aux15 = targetFrame.aux15;
                    this.aux16 = targetFrame.aux16;
                    this.aux17 = targetFrame.aux17;
                    this.aux18 = targetFrame.aux18;
                    this.aux19 = targetFrame.aux19;
                    if (this.bufferAttribs != null) {
                        if (this.bufferAttribs.interpolateBuffer00 === 1)
                            this.aux00 = BABYLON.Scalar.Lerp(this.originFrame.aux00, targetFrame.aux00, alpha);
                        else if (this.bufferAttribs.interpolateBuffer00 === 2)
                            this.aux00 = BABYLON.Scalar.LerpAngle(this.originFrame.aux00, targetFrame.aux00, alpha);
                        if (this.bufferAttribs.interpolateBuffer01 === 1)
                            this.aux01 = BABYLON.Scalar.Lerp(this.originFrame.aux01, targetFrame.aux01, alpha);
                        else if (this.bufferAttribs.interpolateBuffer01 === 2)
                            this.aux01 = BABYLON.Scalar.LerpAngle(this.originFrame.aux01, targetFrame.aux01, alpha);
                        if (this.bufferAttribs.interpolateBuffer02 === 1)
                            this.aux02 = BABYLON.Scalar.Lerp(this.originFrame.aux02, targetFrame.aux02, alpha);
                        else if (this.bufferAttribs.interpolateBuffer02 === 2)
                            this.aux02 = BABYLON.Scalar.LerpAngle(this.originFrame.aux02, targetFrame.aux02, alpha);
                        if (this.bufferAttribs.interpolateBuffer03 === 1)
                            this.aux03 = BABYLON.Scalar.Lerp(this.originFrame.aux03, targetFrame.aux03, alpha);
                        else if (this.bufferAttribs.interpolateBuffer03 === 2)
                            this.aux03 = BABYLON.Scalar.LerpAngle(this.originFrame.aux03, targetFrame.aux03, alpha);
                        if (this.bufferAttribs.interpolateBuffer04 === 1)
                            this.aux04 = BABYLON.Scalar.Lerp(this.originFrame.aux04, targetFrame.aux04, alpha);
                        else if (this.bufferAttribs.interpolateBuffer04 === 2)
                            this.aux04 = BABYLON.Scalar.LerpAngle(this.originFrame.aux04, targetFrame.aux04, alpha);
                        if (this.bufferAttribs.interpolateBuffer05 === 1)
                            this.aux05 = BABYLON.Scalar.Lerp(this.originFrame.aux05, targetFrame.aux05, alpha);
                        else if (this.bufferAttribs.interpolateBuffer05 === 2)
                            this.aux05 = BABYLON.Scalar.LerpAngle(this.originFrame.aux05, targetFrame.aux05, alpha);
                        if (this.bufferAttribs.interpolateBuffer06 === 1)
                            this.aux06 = BABYLON.Scalar.Lerp(this.originFrame.aux06, targetFrame.aux06, alpha);
                        else if (this.bufferAttribs.interpolateBuffer06 === 2)
                            this.aux06 = BABYLON.Scalar.LerpAngle(this.originFrame.aux06, targetFrame.aux06, alpha);
                        if (this.bufferAttribs.interpolateBuffer07 === 1)
                            this.aux07 = BABYLON.Scalar.Lerp(this.originFrame.aux07, targetFrame.aux07, alpha);
                        else if (this.bufferAttribs.interpolateBuffer07 === 2)
                            this.aux07 = BABYLON.Scalar.LerpAngle(this.originFrame.aux07, targetFrame.aux07, alpha);
                        if (this.bufferAttribs.interpolateBuffer08 === 1)
                            this.aux08 = BABYLON.Scalar.Lerp(this.originFrame.aux08, targetFrame.aux08, alpha);
                        else if (this.bufferAttribs.interpolateBuffer08 === 2)
                            this.aux08 = BABYLON.Scalar.LerpAngle(this.originFrame.aux08, targetFrame.aux08, alpha);
                        if (this.bufferAttribs.interpolateBuffer09 === 1)
                            this.aux09 = BABYLON.Scalar.Lerp(this.originFrame.aux09, targetFrame.aux09, alpha);
                        else if (this.bufferAttribs.interpolateBuffer09 === 2)
                            this.aux09 = BABYLON.Scalar.LerpAngle(this.originFrame.aux09, targetFrame.aux09, alpha);
                        if (this.bufferAttribs.interpolateBuffer10 === 1)
                            this.aux10 = BABYLON.Scalar.Lerp(this.originFrame.aux10, targetFrame.aux10, alpha);
                        else if (this.bufferAttribs.interpolateBuffer10 === 2)
                            this.aux10 = BABYLON.Scalar.LerpAngle(this.originFrame.aux10, targetFrame.aux10, alpha);
                        if (this.bufferAttribs.interpolateBuffer11 === 1)
                            this.aux11 = BABYLON.Scalar.Lerp(this.originFrame.aux11, targetFrame.aux11, alpha);
                        else if (this.bufferAttribs.interpolateBuffer11 === 2)
                            this.aux11 = BABYLON.Scalar.LerpAngle(this.originFrame.aux11, targetFrame.aux11, alpha);
                        if (this.bufferAttribs.interpolateBuffer12 === 1)
                            this.aux12 = BABYLON.Scalar.Lerp(this.originFrame.aux12, targetFrame.aux12, alpha);
                        else if (this.bufferAttribs.interpolateBuffer12 === 2)
                            this.aux12 = BABYLON.Scalar.LerpAngle(this.originFrame.aux12, targetFrame.aux12, alpha);
                        if (this.bufferAttribs.interpolateBuffer13 === 1)
                            this.aux13 = BABYLON.Scalar.Lerp(this.originFrame.aux13, targetFrame.aux13, alpha);
                        else if (this.bufferAttribs.interpolateBuffer13 === 2)
                            this.aux13 = BABYLON.Scalar.LerpAngle(this.originFrame.aux13, targetFrame.aux13, alpha);
                        if (this.bufferAttribs.interpolateBuffer14 === 1)
                            this.aux14 = BABYLON.Scalar.Lerp(this.originFrame.aux14, targetFrame.aux14, alpha);
                        else if (this.bufferAttribs.interpolateBuffer14 === 2)
                            this.aux14 = BABYLON.Scalar.LerpAngle(this.originFrame.aux14, targetFrame.aux14, alpha);
                        if (this.bufferAttribs.interpolateBuffer15 === 1)
                            this.aux15 = BABYLON.Scalar.Lerp(this.originFrame.aux15, targetFrame.aux15, alpha);
                        else if (this.bufferAttribs.interpolateBuffer15 === 2)
                            this.aux15 = BABYLON.Scalar.LerpAngle(this.originFrame.aux15, targetFrame.aux15, alpha);
                        if (this.bufferAttribs.interpolateBuffer16 === 1)
                            this.aux16 = BABYLON.Scalar.Lerp(this.originFrame.aux16, targetFrame.aux16, alpha);
                        else if (this.bufferAttribs.interpolateBuffer16 === 2)
                            this.aux16 = BABYLON.Scalar.LerpAngle(this.originFrame.aux16, targetFrame.aux16, alpha);
                        if (this.bufferAttribs.interpolateBuffer17 === 1)
                            this.aux17 = BABYLON.Scalar.Lerp(this.originFrame.aux17, targetFrame.aux17, alpha);
                        else if (this.bufferAttribs.interpolateBuffer17 === 2)
                            this.aux17 = BABYLON.Scalar.LerpAngle(this.originFrame.aux17, targetFrame.aux17, alpha);
                        if (this.bufferAttribs.interpolateBuffer18 === 1)
                            this.aux18 = BABYLON.Scalar.Lerp(this.originFrame.aux18, targetFrame.aux18, alpha);
                        else if (this.bufferAttribs.interpolateBuffer18 === 2)
                            this.aux18 = BABYLON.Scalar.LerpAngle(this.originFrame.aux18, targetFrame.aux18, alpha);
                        if (this.bufferAttribs.interpolateBuffer19 === 1)
                            this.aux19 = BABYLON.Scalar.Lerp(this.originFrame.aux19, targetFrame.aux19, alpha);
                        else if (this.bufferAttribs.interpolateBuffer19 === 2)
                            this.aux19 = BABYLON.Scalar.LerpAngle(this.originFrame.aux19, targetFrame.aux19, alpha);
                    }
                }
            }
            if (this.state !== BufferState.INITIALIZING) {
                this.time += delta;
            }
        }
    }
    BABYLON.InterpolationBuffer = InterpolationBuffer;
})(BABYLON || (BABYLON = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AutoBodyGarage
    */
    class AutoBodyGarage extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.m_bodyMaterial = null;
            this.m_bodyAbtractMesh = null;
        }
        awake() {
            const mainMaterialIndex = this.getProperty("mainMaterialIndex", 0);
            const mainBodyTransform = this.getProperty("mainBodyTransform");
            const mainBodyUnityColor = this.getProperty("mainBodyPaintColor");
            const mainBodyPaintColor = BABYLON.Toolkit.Utilities.ParseColor3(mainBodyUnityColor, BABYLON.Color3.White());
            if (mainBodyTransform != null) {
                this.m_bodyAbtractMesh = BABYLON.Toolkit.Utilities.ParseChildTransform(this.transform, mainBodyTransform);
                if (this.m_bodyAbtractMesh != null) {
                    if (this.m_bodyAbtractMesh.material instanceof BABYLON.MultiMaterial) {
                        const multiMaterial = this.m_bodyAbtractMesh.material;
                        if (multiMaterial.subMaterials != null && multiMaterial.subMaterials.length > mainMaterialIndex) {
                            const copyMaterial = multiMaterial.clone(multiMaterial.name + "." + this.transform.name);
                            const subMaterial = copyMaterial.subMaterials[mainMaterialIndex];
                            copyMaterial.subMaterials[mainMaterialIndex] = subMaterial.clone(subMaterial.name + "." + this.transform.name);
                            this.m_bodyMaterial = copyMaterial.subMaterials[mainMaterialIndex];
                            this.m_bodyAbtractMesh.material = copyMaterial;
                        }
                    }
                    else {
                        this.m_bodyMaterial = this.m_bodyAbtractMesh.material.clone(this.m_bodyAbtractMesh.material.name + "." + this.transform.name);
                        this.m_bodyAbtractMesh.material = this.m_bodyMaterial;
                    }
                    if (this.m_bodyMaterial != null) {
                        // Set Main Body Base Coloring
                        if (this.m_bodyMaterial.isFrozen)
                            this.m_bodyMaterial.unfreeze();
                        this.m_bodyMaterial.albedoColor.copyFrom(mainBodyPaintColor);
                        this.m_bodyMaterial.freeze();
                    }
                }
                else {
                    BABYLON.Toolkit.SceneManager.LogWarning("Failed to find auto body mesh for: " + this.transform.name);
                }
            }
        }
        //protected start(): void { }
        //protected update(): void { }
        //protected after(): void { }
        //protected destroy(): void { }
        setupVehicleMaterials(bodyColor, wheelColor = null, wheelType = 0, decalIndex = 0) {
            if (this.m_bodyMaterial != null) {
                // Set Main Body Base Coloring
                if (this.m_bodyMaterial.isFrozen)
                    this.m_bodyMaterial.unfreeze();
                this.m_bodyMaterial.albedoColor.copyFrom(bodyColor);
                this.m_bodyMaterial.freeze();
                // TODO - Setup Wheel Type And Color
                // TODO - Setup Decal Body Wrapping
            }
        }
    }
    PROJECT.AutoBodyGarage = AutoBodyGarage;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class CheckpointManager
    */
    class CheckpointManager extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.checkPointList = null;
            this.checkPointCount = 0;
            this.checkPointIndex = 0;
            this.nextCheckPoint = 0;
            this.startRaceTime = 0;
            this.totalRaceTime = 0;
            this.lapNumber = 0;
            this.lapTimer = 0;
            this.lapTimes = null;
            this.playerID = 0;
            this.playerName = "Player";
            this.raceOver = false;
            this.nextCheckPointName = "";
        }
        register(id, name) {
            this.playerID = id;
            this.playerName = name;
            PROJECT.RaceTrackManager.RegisterPlayer(this.playerID, this.playerName);
        }
        getLapTimes() { return this.lapTimes; }
        getLapNumber() { return this.lapNumber; }
        getCheckPoint() { return this.checkPointIndex; }
        getPlayerName() { return this.playerName; }
        getPlayerID() { return this.playerID; }
        getRaceTime() { return this.totalRaceTime; }
        getRaceOver() { return this.raceOver; }
        start() {
            this.lapTimes = [];
            this.lapNumber = 0;
            this.nextCheckPoint = 0;
            this.checkPointList = PROJECT.RaceTrackManager.GetCheckpointList();
            this.checkPointCount = PROJECT.RaceTrackManager.GetCheckpointCount();
        }
        update() {
            if (this.raceOver === false) {
                if (this.checkPointList != null && this.checkPointList.length > 0) {
                    const nextCheckpointMesh = this.checkPointList[this.nextCheckPoint];
                    if (nextCheckpointMesh != null) {
                        this.nextCheckPointName = nextCheckpointMesh.name;
                        if (nextCheckpointMesh.intersectsPoint(this.transform.absolutePosition)) {
                            this.checkPointIndex = this.nextCheckPoint;
                            if (this.checkPointIndex === 0) {
                                if (this.lapNumber > 0 && this.lapTimer > 0) {
                                    const lapTime = (BABYLON.Toolkit.SceneManager.GetGameTime() - this.lapTimer);
                                    if (this.lapTimes == null)
                                        this.lapTimes = [];
                                    this.lapTimes.push(lapTime);
                                }
                                this.lapNumber++;
                                this.lapTimer = BABYLON.Toolkit.SceneManager.GetGameTime();
                                if (this.lapNumber > PROJECT.RaceTrackManager.TotalLapCount) {
                                    this.startRaceTime = 0;
                                    this.lapNumber = PROJECT.RaceTrackManager.TotalLapCount;
                                    this.raceOver = true; // GAME OVER: Crossed Finish Line
                                    PROJECT.RaceTrackManager.EventBus.PostMessage("GameOver");
                                    /////////////////////////////////////////////////////////////////////
                                    // Maybe Remove And Use Leaderboard For Winner - ???
                                    /////////////////////////////////////////////////////////////////////
                                    if (PROJECT.RaceTrackManager.WinnerTransform == null) {
                                        PROJECT.RaceTrackManager.WinnerTransform = this.transform;
                                        // ..
                                        // TODO: Handle Win Conditions - ???
                                        // ..
                                        console.warn("RACE WINNER: " + this.transform.name);
                                    }
                                    /////////////////////////////////////////////////////////////////////
                                }
                            }
                            this.nextCheckPoint++;
                            if (this.nextCheckPoint >= this.checkPointCount) {
                                this.nextCheckPoint = 0;
                            }
                        }
                    }
                }
            }
        }
        late() {
            // DEBUG LOCAL PLAYER CHECKPOINTS
            // if (this.transform.name === "LocalPlayer") {
            //    UTIL.PrintToScreen("Checkpoint Index: " + this.checkPointIndex.toString() + " ---> Next: " + this.nextCheckPointName);
            // }
            if (this.raceOver === false) {
                if (this.startRaceTime > 0) {
                    this.totalRaceTime = (BABYLON.Toolkit.SceneManager.GetGameTime() - this.startRaceTime);
                }
                if (this.playerID > 0) {
                    PROJECT.RaceTrackManager.UpdateLeaderboard(this.playerID, this.lapNumber, this.checkPointIndex, this.transform.absolutePosition);
                }
            }
        }
        startRaceTimer() {
            if (this.startRaceTime === 0) {
                this.lapTimes = [];
                this.raceOver = false;
                this.startRaceTime = BABYLON.Toolkit.SceneManager.GetGameTime();
            }
        }
    }
    PROJECT.CheckpointManager = CheckpointManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NetworkCarPrediction
    */
    class NetworkCarPrediction extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.autoRegister = true;
            this.handlerName = "VehiclePrediction";
            this.extrapolateTimeMs = 200;
        }
        awake() {
            if (this.autoRegister === true)
                this.register();
        }
        register() {
            BABYLON.NetworkManager.RegisterCustomInterpolationHandler(this.handlerName, (networkEntity, remoteTransform, deltaTime) => {
                this.HandleUpdate(networkEntity, remoteTransform, deltaTime);
            });
        }
        HandleUpdate(networkEntity, remoteTransform, deltaTime) {
            // TODO: Handle Remote Network Transform Update
        }
        LegacyHandleUpdate(networkEntity, remoteTransform, deltaTime) {
            const entityDeltaTime = 0; //BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.DeltaTime);
            const entityElaspedTime = 0; //BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.ElapsedTime);
            //const extrapolationOffset:BABYLON.Vector3 = BABYLON.NetworkManager.ReadNetworkEntityBufferData<BABYLON.Vector3>(remoteTransform, BABYLON.EntityBufferData.ExtrapolationOffset);
            const entityDeltaTimeMs = (entityDeltaTime * 1000);
            const entityElaspedTimeMs = (entityElaspedTime * 1000);
            //const latestSnapshot:BABYLON.EntitySnapshot = BABYLON.NetworkManager.ReadNetworkEntityBufferData(remoteTransform, BABYLON.EntityBufferData.LatestSnapshot);
            //const networkPosition:BABYLON.Vector3 = latestSnapshot.position;
            //const networkRotation:BABYLON.Quaternion = latestSnapshot.rotation;
            //const networkLinearVelocity:BABYLON.Vector3 = latestSnapshot.velocity; 
            //const networkAngularVelocity:BABYLON.Vector3 = latestSnapshot.angle; 
            /*
            (<any>remoteTransform).networkEntityCurrPosition.copyFrom(remoteTransform.position);
            (<any>remoteTransform).networkEntityCurrPosition.subtractToRef((<any>remoteTransform).networkEntityPrevPosition, (<any>remoteTransform).networkEntityDeltaPosition);
            (<any>remoteTransform).networkEntityPrevPosition.copyFrom((<any>remoteTransform).networkEntityCurrPosition);
            (<any>remoteTransform).networkEntityDeltaPosition.x = (<any>remoteTransform).networkEntityDeltaPosition.x / deltaTime;
            (<any>remoteTransform).networkEntityDeltaPosition.y = (<any>remoteTransform).networkEntityDeltaPosition.y / deltaTime;
            (<any>remoteTransform).networkEntityDeltaPosition.z = (<any>remoteTransform).networkEntityDeltaPosition.z / deltaTime;
            (<any>remoteTransform).networkEntityCurrRotation.copyFrom(remoteTransform.rotationQuaternion);
            // ..
            BABYLON.Toolkit.Utilities.QuaternionDiffToRef((<any>remoteTransform).networkEntityCurrRotation, (<any>remoteTransform).networkEntityPrevRotation, (<any>remoteTransform).networkEntityDeltaRotation);
            (<any>remoteTransform).networkEntityDeltaRotation.toEulerAnglesToRef((<any>remoteTransform).networkEntityDeltaEulers);
            (<any>remoteTransform).networkEntityDeltaEulers.x = (<any>remoteTransform).networkEntityDeltaEulers.x / deltaTime;
            (<any>remoteTransform).networkEntityDeltaEulers.y = (<any>remoteTransform).networkEntityDeltaEulers.y / deltaTime;
            (<any>remoteTransform).networkEntityDeltaEulers.z = (<any>remoteTransform).networkEntityDeltaEulers.z / deltaTime;
            */
            if (entityDeltaTimeMs <= this.extrapolateTimeMs && entityElaspedTimeMs <= this.extrapolateTimeMs) {
                // Quaternion turnRotation = Quaternion.Euler( 0, m_SynchronizedTurnSpeed * timePassed, 0 );
                // extrapolatePosition = turnRotation * ( m_SynchronizedSpeed * timePassed );                    
                // ..
                // TODO: Extrapolate New Target Position (Client Prediction)
                // ..
                // const quat:BABYLON.Quaternion = BABYLON.Quaternion.FromEulerAngles(angularVelocity.x, angularVelocity.y, angularVelocity.z);
                // const extra = BABYLON.Toolkit.Utilities.MultiplyQuaternionByVector(quat, linearVelocity);
                // ..
                //networkLinearVelocity.scaleToRef(entityDeltaTime, extrapolationOffset);
                //networkPosition.addInPlace(extrapolationOffset);
                // ..
                // Interpolate Smooth Network Position Update (Move Towards)
                // ..
                //const metersPerSecond:number = (networkLinearVelocity.length() * sceneDeltaTime);
                //BABYLON.Toolkit.Utilities.MoveTowardsVector3ToRef(remoteTransform.position, networkPosition, metersPerSecond, remoteTransform.position);
                // ..
                // Interpolate Smooth Network Rotation Update (Legacy Slerp)
                // ..
                // TODO: Create Quaternion Rotate Towards
                // TODO: Get Slerp Speed Attribute
                let rotationSlerpFactor = 10.0;
                let rotationLerpSpeed = (rotationSlerpFactor * deltaTime);
                rotationLerpSpeed = BABYLON.Scalar.Clamp(rotationLerpSpeed, 0, 1);
                //BABYLON.Quaternion.SlerpToRef(remoteTransform.rotationQuaternion, networkRotation, rotationLerpSpeed, remoteTransform.rotationQuaternion);
                // MOVE TO ONCHANGE
                //(<any>remoteTransform).networkEntityPacketPosition.copyFrom(remoteTransform.position);
                //(<any>remoteTransform).networkEntityPacketRotation.copyFrom(remoteTransform.rotationQuaternion);
                //(<any>remoteTransform).networkEntityPacketVelocity.copyFrom((<any>remoteTransform).networkEntityDeltaPosition);
                //(<any>remoteTransform).networkEntityPacketAngular.copyFrom((<any>remoteTransform).networkEntityDeltaEulers); 
                /*
                const controlType:BABYLON.EntityControlType = (<any>remoteTransform).networkEntityControl;
                if (controlType != null) {
                    if (controlType === BABYLON.EntityControlType.Transform) {
                        // TODO: Use Transform Directly
                    } else if (controlType === BABYLON.EntityControlType.RigidbodyPhysics) {
                        const remoteTransformMesh:BABYLON.AbstractMesh = remoteTransform as BABYLON.AbstractMesh;
                        if (remoteTransformMesh.physicsImpostor != null) {

                            //const entityDeltaTime:number = BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.DeltaTime);
                            //(<any>remoteTransform).networkEntityRealVelocity.scaleInPlace(entityDeltaTime);
                            //remoteTransformMesh.physicsImpostor.setLinearVelocity((<any>remoteTransform).networkEntityRealVelocity);
                            //console.log("SET VELOCITY: " + remoteTransform.name);

                            // r.velocity = Vector3.Lerp(velocityAtLastPacket, latestVelocity, (float)(currentTime / timeToReachGoal));
                            // r.angularVelocity = Vector3.Lerp(angularVelocityAtLastPacket, latestAngularVelocity, (float)(currentTime / timeToReachGoal));
                        }
                    } else if (controlType === BABYLON.EntityControlType.CharacterController) {
                        // TODO: Find And Use Character Controller
                    }
                }
                */
            }
            else {
                //remoteTransform.position.copyFrom(networkPosition);
                //remoteTransform.rotationQuaternion.copyFrom(networkRotation);
            }
        }
    }
    PROJECT.NetworkCarPrediction = NetworkCarPrediction;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    class RoutePoint {
    }
    PROJECT.RoutePoint = RoutePoint;
    class PlayerRaceStats {
    }
    PROJECT.PlayerRaceStats = PlayerRaceStats;
    /**
    * Babylon Script Component
    * @class BT_RaceTrackManager
    */
    class RaceTrackManager extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.trackNodes = null;
            this.raceLineData_1 = null;
            this.raceLineData_2 = null;
            this.raceLineData_3 = null;
            this.raceLineData_4 = null;
            this.raceLineData_5 = null;
            this.raceLineColor_1 = null;
            this.raceLineColor_2 = null;
            this.raceLineColor_3 = null;
            this.raceLineColor_4 = null;
            this.raceLineColor_5 = null;
            this.debugMeshLines_1 = null;
            this.debugMeshLines_2 = null;
            this.debugMeshLines_3 = null;
            this.debugMeshLines_4 = null;
            this.debugMeshLines_5 = null;
            this.p0n = 0;
            this.p1n = 0;
            this.p2n = 0;
            this.p3n = 0;
            this.i = 0;
            this.drawDebugLines = false;
        }
        static get EventBus() {
            if (PROJECT.RaceTrackManager._EventBus == null) {
                PROJECT.RaceTrackManager._EventBus = new BABYLON.Toolkit.LocalMessageBus();
            }
            return PROJECT.RaceTrackManager._EventBus;
        }
        getTrackNodes() { return this.trackNodes; }
        getControlPoints(line) {
            let result = null;
            switch (line) {
                case 0:
                    result = this.raceLineData_1;
                    break;
                case 1:
                    result = this.raceLineData_2;
                    break;
                case 2:
                    result = this.raceLineData_3;
                    break;
                case 3:
                    result = this.raceLineData_4;
                    break;
                case 4:
                    result = this.raceLineData_5;
                    break;
            }
            return result;
        }
        awake() {
            this.trackNodes = this.getProperty("TrackNodes", this.trackNodes);
            this.raceLineData_1 = this.getProperty("RaceLineData_1", this.raceLineData_1);
            this.raceLineData_2 = this.getProperty("RaceLineData_2", this.raceLineData_2);
            this.raceLineData_3 = this.getProperty("RaceLineData_3", this.raceLineData_3);
            this.raceLineData_4 = this.getProperty("RaceLineData_4", this.raceLineData_4);
            this.raceLineData_5 = this.getProperty("RaceLineData_5", this.raceLineData_5);
            this.raceLineColor_1 = this.getProperty("RaceLineColor_1", this.raceLineColor_1);
            this.raceLineColor_2 = this.getProperty("RaceLineColor_2", this.raceLineColor_2);
            this.raceLineColor_3 = this.getProperty("RaceLineColor_3", this.raceLineColor_3);
            this.raceLineColor_4 = this.getProperty("RaceLineColor_4", this.raceLineColor_4);
            this.raceLineColor_5 = this.getProperty("RaceLineColor_5", this.raceLineColor_5);
            this.drawDebugLines = this.getProperty("DrawDebugLines", this.drawDebugLines);
            //
            let index = 0;
            if (this.trackNodes != null) {
                PROJECT.RaceTrackManager.TrackLength = 0;
                for (index = 0; index < this.trackNodes.length; index++) {
                    const element = this.trackNodes[index];
                    const t1 = this.trackNodes[(index) % this.trackNodes.length];
                    const t2 = this.trackNodes[(index + 1) % this.trackNodes.length];
                    if (t1 != null && t2 != null) {
                        const rot = BABYLON.Toolkit.Utilities.ParseVector4(element.rotation);
                        element.localRotation = new BABYLON.Quaternion(rot.x, rot.y, rot.z, rot.w);
                        element.localPosition = BABYLON.Toolkit.Utilities.ParseVector3(element.position);
                        const p1 = BABYLON.Toolkit.Utilities.ParseVector3(t1.position);
                        const p2 = BABYLON.Toolkit.Utilities.ParseVector3(t2.position);
                        element.localDistance = PROJECT.RaceTrackManager.TrackLength;
                        PROJECT.RaceTrackManager.TrackLength += (p1.subtract(p2)).length();
                    }
                }
            }
            console.warn(">>> Race Track Nodes");
            console.log(this.trackNodes);
            // ..
            if (PROJECT.RaceTrackManager.LeaderBoardList == null) {
                PROJECT.RaceTrackManager.LeaderBoardList = [];
            }
            // ..
            if (PROJECT.RaceTrackManager.CheckPointList == null) {
                PROJECT.RaceTrackManager.CheckPointList = this.scene.getMeshesByTags(PROJECT.RaceTrackManager.CheckPointTag);
                if (PROJECT.RaceTrackManager.CheckPointList != null && PROJECT.RaceTrackManager.CheckPointList.length > 0) {
                    for (index = 0; index < PROJECT.RaceTrackManager.CheckPointList.length; index++) {
                        PROJECT.RaceTrackManager.CheckPointList[index].refreshBoundingInfo({});
                    }
                }
            }
        }
        start() {
            if (this.drawDebugLines === true) {
                let index = 0;
                const pointSize = 0.5;
                const debugLines = new BABYLON.TransformNode(this.transform.name + ".DebugLines", this.scene);
                debugLines.position.set(0, 0, 0);
                debugLines.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                // ..
                // Track Nodes
                // ..
                if (this.trackNodes != null && this.trackNodes.length > 0) {
                    const trackNodePos_1 = [];
                    const trackNodeCol_1 = BABYLON.Color3.White();
                    const trackNodeMat_1 = new BABYLON.StandardMaterial(this.transform.name + ".NodeMaterial", this.scene);
                    trackNodeMat_1.diffuseColor = trackNodeCol_1;
                    index = 0;
                    this.trackNodes.forEach((node) => {
                        const trackNodePosition = new BABYLON.Vector3(node.position.x, node.position.y, node.position.z);
                        const trackNodeRotation = new BABYLON.Quaternion(node.rotation.x, node.rotation.y, node.rotation.z, node.rotation.w);
                        trackNodePos_1.push(trackNodePosition);
                        const trackNode = BABYLON.MeshBuilder.CreateCylinder(this.transform.name + ".TrackNode_" + index, { diameterTop: 0, diameterBottom: (pointSize * 2), height: 2.0 }, this.scene);
                        trackNode.parent = debugLines;
                        trackNode.position.copyFrom(trackNodePosition);
                        trackNode.position.y += 0.5;
                        trackNode.rotationQuaternion = trackNodeRotation.multiply(BABYLON.Toolkit.Utilities.FromEuler(90, 0, 0));
                        trackNode.material = trackNodeMat_1;
                        index++;
                    });
                }
                // ..
                // Race Line 5
                // ..
                if (this.raceLineData_5 != null && this.raceLineData_5.length > 0) {
                    const raceLinePos_5 = [];
                    const raceLineCol_5 = (this.raceLineColor_5 != null) ? new BABYLON.Color3(this.raceLineColor_5.r, this.raceLineColor_5.g, this.raceLineColor_5.b) : BABYLON.Color3.White();
                    const raceLineMat_5 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_5", this.scene);
                    raceLineMat_5.diffuseColor = raceLineCol_5;
                    index = 0;
                    this.raceLineData_5.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_5.push(raceLinePoint);
                        const controlPoint_5 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_5_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_5.parent = debugLines;
                        controlPoint_5.position.copyFrom(raceLinePoint);
                        controlPoint_5.position.y += 0.5;
                        controlPoint_5.material = raceLineMat_5;
                        index++;
                    });
                    this.debugMeshLines_5 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_5"), { points: raceLinePos_5 }, this.scene);
                    this.debugMeshLines_5.parent = debugLines;
                    this.debugMeshLines_5.position.y += 0.5;
                    this.debugMeshLines_5.color = raceLineCol_5;
                }
                // ..
                // Race Line 4
                // ..
                if (this.raceLineData_4 != null && this.raceLineData_4.length > 0) {
                    const raceLinePos_4 = [];
                    const raceLineCol_4 = (this.raceLineColor_4 != null) ? new BABYLON.Color3(this.raceLineColor_4.r, this.raceLineColor_4.g, this.raceLineColor_4.b) : BABYLON.Color3.White();
                    const raceLineMat_4 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_4", this.scene);
                    raceLineMat_4.diffuseColor = raceLineCol_4;
                    index = 0;
                    this.raceLineData_4.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_4.push(raceLinePoint);
                        const controlPoint_4 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_4_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_4.parent = debugLines;
                        controlPoint_4.position.copyFrom(raceLinePoint);
                        controlPoint_4.position.y += 0.5;
                        controlPoint_4.material = raceLineMat_4;
                        index++;
                    });
                    this.debugMeshLines_4 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_4"), { points: raceLinePos_4 }, this.scene);
                    this.debugMeshLines_4.parent = debugLines;
                    this.debugMeshLines_4.position.y += 0.5;
                    this.debugMeshLines_4.color = raceLineCol_4;
                }
                // ..
                // Race Line 3
                // ..
                if (this.raceLineData_3 != null && this.raceLineData_3.length > 0) {
                    const raceLinePos_3 = [];
                    const raceLineCol_3 = (this.raceLineColor_3 != null) ? new BABYLON.Color3(this.raceLineColor_3.r, this.raceLineColor_3.g, this.raceLineColor_3.b) : BABYLON.Color3.White();
                    const raceLineMat_3 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_3", this.scene);
                    raceLineMat_3.diffuseColor = raceLineCol_3;
                    index = 0;
                    this.raceLineData_3.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_3.push(raceLinePoint);
                        const controlPoint_3 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_3_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_3.parent = debugLines;
                        controlPoint_3.position.copyFrom(raceLinePoint);
                        controlPoint_3.position.y += 0.5;
                        controlPoint_3.material = raceLineMat_3;
                        index++;
                    });
                    this.debugMeshLines_3 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_3"), { points: raceLinePos_3 }, this.scene);
                    this.debugMeshLines_3.parent = debugLines;
                    this.debugMeshLines_3.position.y += 0.5;
                    this.debugMeshLines_3.color = raceLineCol_3;
                }
                // ..
                // Race Line 2
                // ..
                if (this.raceLineData_2 != null && this.raceLineData_2.length > 0) {
                    const raceLinePos_2 = [];
                    const raceLineCol_2 = (this.raceLineColor_2 != null) ? new BABYLON.Color3(this.raceLineColor_2.r, this.raceLineColor_2.g, this.raceLineColor_2.b) : BABYLON.Color3.White();
                    const raceLineMat_2 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_2", this.scene);
                    raceLineMat_2.diffuseColor = raceLineCol_2;
                    index = 0;
                    this.raceLineData_2.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_2.push(raceLinePoint);
                        const controlPoint_2 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_2_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_2.parent = debugLines;
                        controlPoint_2.position.copyFrom(raceLinePoint);
                        controlPoint_2.position.y += 0.5;
                        controlPoint_2.material = raceLineMat_2;
                        index++;
                    });
                    this.debugMeshLines_2 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_2"), { points: raceLinePos_2 }, this.scene);
                    this.debugMeshLines_2.parent = debugLines;
                    this.debugMeshLines_2.position.y += 0.5;
                    this.debugMeshLines_2.color = raceLineCol_2;
                }
                // ..
                // Race Line 1
                // ..
                if (this.raceLineData_1 != null && this.raceLineData_1.length > 0) {
                    const raceLinePos_1 = [];
                    const raceLineCol_1 = (this.raceLineColor_1 != null) ? new BABYLON.Color3(this.raceLineColor_1.r, this.raceLineColor_1.g, this.raceLineColor_1.b) : BABYLON.Color3.White();
                    const raceLineMat_1 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_1", this.scene);
                    raceLineMat_1.diffuseColor = raceLineCol_1;
                    index = 0;
                    this.raceLineData_1.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_1.push(raceLinePoint);
                        const controlPoint_1 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_1_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_1.parent = debugLines;
                        controlPoint_1.position.copyFrom(raceLinePoint);
                        controlPoint_1.position.y += 0.5;
                        controlPoint_1.material = raceLineMat_1;
                        index++;
                    });
                    this.debugMeshLines_1 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_1"), { points: raceLinePos_1 }, this.scene);
                    this.debugMeshLines_1.parent = debugLines;
                    this.debugMeshLines_1.position.y += 0.5;
                    this.debugMeshLines_1.color = raceLineCol_1;
                }
            }
        }
        after() {
            if (this.isReady()) { // Update After Ready State
                PROJECT.RaceTrackManager.SortLeaderboardPositionList();
            }
        }
        destroy() {
            // TODO - Destroy component function
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Public Route Point Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getRoutePoint(distance) {
            const result = new RoutePoint();
            this.getRoutePointToRef(distance, result);
            return result;
        }
        getRoutePointToRef(distance, result) {
            // TODO: OPTIMIZE THIS FUNCTION
            const p1 = this.getRoutePosition(distance);
            const p2 = this.getRoutePosition(distance + 0.1);
            const delta = p2.subtract(p1);
            result.position = p1.clone();
            result.direction = delta.normalizeToNew();
            //return new RoutePoint(p1, delta.normalized);
        }
        getRoutePosition(distance) {
            const result = new BABYLON.Vector3(0, 0, 0);
            this.getRoutePositionToRef(distance, result);
            return result;
        }
        getRoutePositionToRef(distance, result) {
            let point = 0;
            const dist = BABYLON.Scalar.Repeat(distance, PROJECT.RaceTrackManager.TrackLength);
            const numPoints = this.trackNodes.length;
            while (this.trackNodes[point].localDistance < dist) {
                ++point;
            }
            // get nearest two points, ensuring points wrap-around start & end of circuit
            this.p1n = ((point - 1) + numPoints) % numPoints;
            this.p2n = point;
            // found point numbers, now find interpolation value between the two middle points
            this.i = BABYLON.Scalar.InverseLerp(this.trackNodes[this.p1n].localDistance, this.trackNodes[this.p2n].localDistance, dist);
            // simple linear lerp between the two points
            BABYLON.Vector3.LerpToRef(this.trackNodes[this.p1n].localPosition, this.trackNodes[this.p2n].localPosition, this.i, result);
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Checkpoint Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Gets the checkpoint tag identifier */
        static GetCheckpointTag() {
            return PROJECT.RaceTrackManager.CheckPointTag;
        }
        /** Get the checkpoint position list */
        static GetCheckpointList() {
            return PROJECT.RaceTrackManager.CheckPointList;
        }
        /** Get the total number of checkpoints */
        static GetCheckpointCount() {
            return (PROJECT.RaceTrackManager.CheckPointList != null) ? PROJECT.RaceTrackManager.CheckPointList.length : 0;
        }
        /** Calculates the fraction distance to next checkpoint */
        static GetCheckpointDistance(position, lastPointReached, nextPoint) {
            // TODO: Optimize vectors
            const displacementFromCurrentNode = position.subtract(lastPointReached);
            const currentSegmentVector = nextPoint.subtract(lastPointReached);
            const fraction = BABYLON.Vector3.Dot(displacementFromCurrentNode, currentSegmentVector) / currentSegmentVector.lengthSquared();
            return BABYLON.Scalar.Clamp(fraction);
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Vehicle Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Register vehicle with track manager */
        static RegisterVehicle(vehicle) {
            if (PROJECT.RaceTrackManager.PlayerVehicleList == null)
                PROJECT.RaceTrackManager.PlayerVehicleList = [];
            PROJECT.RaceTrackManager.PlayerVehicleList.push(vehicle);
        }
        /** Gets the registered player vehicles */
        static GetPlayerVehicles() {
            return PROJECT.RaceTrackManager.PlayerVehicleList;
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Leaderboard Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Register player with track manager */
        static RegisterPlayer(id, name) {
            const player = new PROJECT.PlayerRaceStats();
            player.id = id,
                player.name = name;
            player.position = 0;
            if (PROJECT.RaceTrackManager.LeaderBoardList == null)
                PROJECT.RaceTrackManager.LeaderBoardList = [];
            PROJECT.RaceTrackManager.LeaderBoardList.push(player);
        }
        /** Update player leaderboard information */
        static UpdateLeaderboard(id, lap, checkpoint, position) {
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                for (let index = 0; index < leaderboard.length; index++) {
                    const element = leaderboard[index];
                    if (element.id === id) {
                        if (PROJECT.RaceTrackManager.CheckPointList != null && PROJECT.RaceTrackManager.CheckPointList.length > 0) {
                            let checkPointCount = PROJECT.RaceTrackManager.CheckPointList.length;
                            let nextCheckPointIndex = (checkpoint + 1);
                            if (nextCheckPointIndex >= checkPointCount)
                                nextCheckPointIndex = 0;
                            const startCheckpointMesh = PROJECT.RaceTrackManager.CheckPointList[checkpoint];
                            const nextCheckpointMesh = PROJECT.RaceTrackManager.CheckPointList[nextCheckPointIndex];
                            const checkPointFraction = PROJECT.RaceTrackManager.GetCheckpointDistance(position, startCheckpointMesh.absolutePosition, nextCheckpointMesh.absolutePosition);
                            element.position = (((lap * 1000) + checkpoint) + checkPointFraction);
                        }
                        break;
                    }
                }
            }
        }
        /** Get player leaderboard position */
        static GetLeaderboardPosition(id) {
            let result = -1;
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                for (let index = 0; index < leaderboard.length; index++) {
                    const element = leaderboard[index];
                    if (element.id === id) {
                        result = (index + 1);
                        break;
                    }
                }
            }
            return result;
        }
        /** Get leaderboard position list */
        static GetLeaderboardPositionList() {
            return PROJECT.RaceTrackManager.LeaderBoardList;
        }
        /** Sort leaderboard position list */
        static SortLeaderboardPositionList() {
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                leaderboard.sort((left, right) => {
                    // Note: Sort In Descending Order
                    if (left.position < right.position)
                        return 1;
                    if (left.position > right.position)
                        return -1;
                    return 0;
                });
            }
        }
    }
    RaceTrackManager.TrackLength = 0;
    RaceTrackManager.TotalLapCount = 3;
    RaceTrackManager.WinnerTransform = null;
    RaceTrackManager.CheckPointTag = "Checkpoint";
    RaceTrackManager.CheckPointList = null;
    RaceTrackManager.LeaderBoardList = null;
    RaceTrackManager.PlayerVehicleList = null;
    RaceTrackManager._EventBus = null;
    PROJECT.RaceTrackManager = RaceTrackManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon remote vehicle controller class (Colyseus Universal Game Room)
    * @class RemoteCarController
    */
    class RemoteCarController extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.centerOfMass = 0.4;
            this.burnoutWheelPitch = 0.85;
            this.linkTrackManager = true;
            this.playVehicleSounds = true;
            this.smokeTexture = null;
            this.skidThreashold = 0.65;
            this.smokeIntensity = 150;
            this.wheelDrawVelocity = 0.02;
            this.smokeOpacity = 0.1;
            this.smokeDonuts = 2.0;
            this.steeringWheelHub = null;
            this.steeringWheelAxis = 2;
            this.maxSteeringAngle = 35.0;
            this.maxSteeringSpeed = 10.0;
            this._animator = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            this.brakeLightsMesh = null;
            this.brakeLightsTrans = null;
            this.reverseLightsMesh = null;
            this.reverseLightsTrans = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelEmitter = null;
            this.frontRightWheelEmitter = null;
            this.backLeftWheelEmitter = null;
            this.backRightWheelEmitter = null;
            this.frontLeftWheelParticle = null;
            this.frontRightWheelParticle = null;
            this.backLeftWheelParticle = null;
            this.backRightWheelParticle = null;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftSensorLine = null;
            this.frontRightSensorLine = null;
            this.rearLeftSensorLine = null;
            this.rearRightSensorLine = null;
            this.startRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.smokeIntensityFactor = 0;
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.downDistance = 2.0;
            this.lastPitch = 0;
            this.lastBrake = 0;
            this.lastReverse = 0;
            this.lastBurnout = 0;
            this.lastSteering = 0;
            this.lastSKID_FL = 0;
            this.lastSKID_FR = 0;
            this.lastSKID_RL = 0;
            this.lastSKID_RR = 0;
            this.lastSPIN_FL = 0;
            this.lastSPIN_FR = 0;
            this.lastSPIN_RL = 0;
            this.lastSPIN_RR = 0;
            this.PITCH_FL = 0;
            this.PITCH_FR = 0;
            this.PITCH_RL = 0;
            this.PITCH_RR = 0;
            this.WHEEL_SKID_PITCH = 0;
            this.m_frontLeftWheelSkid = -1;
            this.m_frontRightWheelSkid = -1;
            this.m_backLeftWheelSkid = -1;
            this.m_backRightWheelSkid = -1;
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
        }
        getFrontLeftWheelContact() { return this.frontLeftContact; }
        getFrontRightWheelContact() { return this.frontRightContact; }
        getRearLeftWheelContact() { return this.rearLeftContact; }
        getRearRightWheelContact() { return this.rearRightContact; }
        getFrontLeftWheelContactTag() { return this.frontLeftContactTag; }
        getFrontRightWheelContactTag() { return this.frontRightContactTag; }
        getRearLeftWheelContactTag() { return this.rearLeftContactTag; }
        getRearRightWheelContactTag() { return this.rearRightContactTag; }
        getFrontLeftWheelContactPoint() { return this.frontLeftContactPoint; }
        getFrontRightWheelContactPoint() { return this.frontRightContactPoint; }
        getRearLeftWheelContactPoint() { return this.rearLeftContactPoint; }
        getRearRightWheelContactPoint() { return this.rearRightContactPoint; }
        getFrontLeftWheelContactNormal() { return this.frontLeftContactNormal; }
        getFrontRightWheelContactNormal() { return this.frontRightContactNormal; }
        getRearLeftWheelContactNormal() { return this.rearLeftContactNormal; }
        getRearRightWheelContactNormal() { return this.rearRightContactNormal; }
        awake() {
            this.centerOfMass = this.getProperty("centerOfMass", this.centerOfMass);
            this.burnoutWheelPitch = this.getProperty("burnoutWheelPitch", this.burnoutWheelPitch);
            this.linkTrackManager = this.getProperty("linkTrackManager", this.linkTrackManager);
            this.playVehicleSounds = this.getProperty("playVehicleSounds", this.playVehicleSounds);
            this.wheelDrawVelocity = this.getProperty("wheelDrawVelocity", this.wheelDrawVelocity);
            this.skidThreashold = this.getProperty("skidThreashold", this.skidThreashold);
            this.smokeIntensity = this.getProperty("smokeIntensity", this.smokeIntensity);
            this.smokeOpacity = this.getProperty("smokeOpacity", this.smokeOpacity);
            this.smokeDonuts = this.getProperty("smokeDonuts", this.smokeDonuts);
            this.steeringWheelAxis = this.getProperty("steeringWheelAxis", this.steeringWheelAxis);
            this.maxSteeringAngle = this.getProperty("maxSteeringAngle", this.maxSteeringAngle);
            this.maxSteeringSpeed = this.getProperty("maxSteeringSpeed", this.maxSteeringSpeed);
            this.frontLeftWheelTrans = this.getProperty("frontLeftWheelMesh", this.frontLeftWheelTrans);
            this.frontRightWheelTrans = this.getProperty("frontRightWheelMesh", this.frontRightWheelTrans);
            this.backLeftWheelTrans = this.getProperty("rearLeftWheelMesh", this.backLeftWheelTrans);
            this.backRightWheelTrans = this.getProperty("rearRightWheelMesh", this.backRightWheelTrans);
            this.brakeLightsTrans = this.getProperty("brakeLightsMesh", this.brakeLightsTrans);
            this.reverseLightsTrans = this.getProperty("reverseLightsMesh", this.reverseLightsTrans);
            const smokeTextureInfo = this.getProperty("smokeTexture");
            if (smokeTextureInfo != null) {
                this.smokeTexture = BABYLON.Toolkit.Utilities.ParseTexture(smokeTextureInfo, this.scene);
            }
            if (this.linkTrackManager === true)
                PROJECT.RaceTrackManager.RegisterVehicle(this.transform);
            this._animator = this.getComponent("BABYLON.Toolkit.AnimationState");
            if (this._animator == null) {
                const animationNode = this.getChildWithScript("BABYLON.Toolkit.AnimationState");
                if (animationNode != null) {
                    this._animator = BABYLON.Toolkit.SceneManager.FindScriptComponent(animationNode, "BABYLON.Toolkit.AnimationState");
                }
                else {
                    // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                }
            }
            this._engineAudioSource = this.getComponent("BABYLON.Toolkit.AudioSource");
            if (this._engineAudioSource == null)
                BABYLON.Toolkit.SceneManager.LogWarning("No engine audio source manager found for: " + this.transform.name);
            const steeringWheelNode = this.getProperty("steeringWheelHub");
            if (steeringWheelNode != null && steeringWheelNode.name != null && steeringWheelNode.name !== "") {
                this.steeringWheelHub = this.getChildNode(steeringWheelNode.name, BABYLON.Toolkit.SearchType.IndexOf, false);
            }
            const brakeLightslName = (this.brakeLightsTrans != null && this.brakeLightsTrans.name != null && this.brakeLightsTrans.name !== "") ? this.brakeLightsTrans.name : null;
            const reverseLightslName = (this.reverseLightsTrans != null && this.reverseLightsTrans.name != null && this.reverseLightsTrans.name !== "") ? this.reverseLightsTrans.name : null;
            const frontLeftWheelName = (this.frontLeftWheelTrans != null && this.frontLeftWheelTrans.name != null && this.frontLeftWheelTrans.name !== "") ? this.frontLeftWheelTrans.name : null;
            const frontRightWheelName = (this.frontRightWheelTrans != null && this.frontRightWheelTrans.name != null && this.frontRightWheelTrans.name !== "") ? this.frontRightWheelTrans.name : null;
            const backLeftWheelName = (this.backLeftWheelTrans != null && this.backLeftWheelTrans.name != null && this.backLeftWheelTrans.name !== "") ? this.backLeftWheelTrans.name : null;
            const backRightWheelName = (this.backRightWheelTrans != null && this.backRightWheelTrans.name != null && this.backRightWheelTrans.name !== "") ? this.backRightWheelTrans.name : null;
            if (brakeLightslName != null) {
                this.brakeLightsMesh = this.getChildNode(brakeLightslName, BABYLON.Toolkit.SearchType.IndexOf, false);
                if (this.brakeLightsMesh != null) {
                    this.brakeLightsMesh.isVisible = false;
                }
            }
            if (reverseLightslName != null) {
                this.reverseLightsMesh = this.getChildNode(reverseLightslName, BABYLON.Toolkit.SearchType.IndexOf, false);
                if (this.reverseLightsMesh != null) {
                    this.reverseLightsMesh.isVisible = false;
                }
            }
            this.frontLeftWheelMesh = this.getChildNode(frontLeftWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
            if (this.frontLeftWheelMesh != null) {
                this.frontLeftWheelMesh.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.frontLeftWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                this.frontLeftWheelEmitter = new BABYLON.Mesh("Emitter_FL");
                this.frontLeftWheelEmitter.parent = this.frontLeftWheelMesh.spinner || this.frontLeftWheelMesh;
                this.frontLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.frontLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FL", this.frontLeftWheelEmitter);
            }
            this.frontRightWheelMesh = this.getChildNode(frontRightWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
            if (this.frontRightWheelMesh != null) {
                this.frontRightWheelMesh.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.frontRightWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                this.frontRightWheelEmitter = new BABYLON.Mesh("Emitter_FR");
                this.frontRightWheelEmitter.parent = this.frontRightWheelMesh.spinner || this.frontRightWheelMesh;
                this.frontRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.frontRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FR", this.frontRightWheelEmitter);
            }
            this.backLeftWheelMesh = this.getChildNode(backLeftWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
            if (this.backLeftWheelMesh != null) {
                this.backLeftWheelMesh.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.backLeftWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                this.backLeftWheelEmitter = new BABYLON.Mesh("Emitter_RL");
                this.backLeftWheelEmitter.parent = this.backLeftWheelMesh.spinner || this.backLeftWheelMesh;
                this.backLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.backLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RL", this.backLeftWheelEmitter);
            }
            this.backRightWheelMesh = this.getChildNode(backRightWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
            if (this.backRightWheelMesh != null) {
                this.backRightWheelMesh.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.backRightWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                this.backRightWheelEmitter = new BABYLON.Mesh("Emitter_RR");
                this.backRightWheelEmitter.parent = this.backRightWheelMesh.spinner || this.backRightWheelMesh;
                this.backRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.backRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RR", this.backRightWheelEmitter);
            }
            // ..
            // Setup Skid Audio Sources
            // ..
            if (this._skidAudioSource == null && this.backRightWheelMesh != null)
                this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.backRightWheelMesh, "BABYLON.Toolkit.AudioSource");
            if (this._skidAudioSource == null && this.backLeftWheelMesh != null)
                this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.backLeftWheelMesh, "BABYLON.Toolkit.AudioSource");
            if (this._skidAudioSource == null && this.frontRightWheelMesh != null)
                this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.frontRightWheelMesh, "BABYLON.Toolkit.AudioSource");
            if (this._skidAudioSource == null && this.frontLeftWheelMesh != null)
                this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.frontLeftWheelMesh, "BABYLON.Toolkit.AudioSource");
            if (this._skidAudioSource == null)
                BABYLON.Toolkit.SceneManager.LogWarning("No skid audio source manager found for: " + this.transform.name);
        }
        start() {
            this.m_positionCenter.set(0, 0, -this.centerOfMass);
        }
        update() {
            if (BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                this.lastPitch = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 0); // Pitch
                this.lastBrake = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 1); // Brake
                this.lastReverse = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 2); // Reverse
                this.lastBurnout = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 3); // Burnout
                this.lastSKID_FL = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 4); // SKID_FL
                this.lastSKID_FR = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 5); // SKID_FR
                this.lastSKID_RL = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 6); // SKID_RL
                this.lastSKID_RR = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 7); // SKID_RR
                this.lastSPIN_FL = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 8); // SPIN_FL
                this.lastSPIN_FR = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 9); // SPIN_FR
                this.lastSPIN_RL = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 10); // SPIN_RL
                this.lastSPIN_RR = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 11); // SPIN_RR
                this.lastSteering = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 12); // Steering
            }
            this.updateVehicleProperties();
        }
        destroy() {
            /* Destroy component function */
        }
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Private Worker Functions
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        updateVehicleProperties() {
            //BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.transform.position, this.m_positionCenter); // Note: This Correct Center Of Mass Offset
            this.m_linearVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.getDeltaSeconds());
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.wheelDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.wheelDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            this.castWheelContactRays();
            // ..
            // Update Engine Pitching
            // ..
            if (this.playVehicleSounds === true) {
                if (this._engineAudioSource != null) {
                    const engineSoundClip = this._engineAudioSource.getSoundClip();
                    if (engineSoundClip != null)
                        engineSoundClip.setPlaybackRate(this.lastPitch);
                }
            }
            const SPIN_FL_Transform = this.frontLeftWheelMesh.spinner;
            const SPIN_FR_Transform = this.frontRightWheelMesh.spinner;
            const SPIN_RL_Transform = this.backLeftWheelMesh.spinner;
            const SPIN_RR_Transform = this.backRightWheelMesh.spinner;
            if (SPIN_FL_Transform != null && SPIN_FL_Transform.rotationQuaternion != null) {
                const SPIN_FL_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_FL, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_FL_Transform.rotationQuaternion, SPIN_FL_Rotation, 0.5, SPIN_FL_Transform.rotationQuaternion);
            }
            if (SPIN_FR_Transform != null && SPIN_FR_Transform.rotationQuaternion != null) {
                const SPIN_FR_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_FR, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_FR_Transform.rotationQuaternion, SPIN_FR_Rotation, 0.5, SPIN_FR_Transform.rotationQuaternion);
            }
            if (SPIN_RL_Transform != null && SPIN_RL_Transform.rotationQuaternion != null) {
                const SPIN_RL_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_RL, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_RL_Transform.rotationQuaternion, SPIN_RL_Rotation, 0.5, SPIN_RL_Transform.rotationQuaternion);
            }
            if (SPIN_RR_Transform != null && SPIN_RR_Transform.rotationQuaternion != null) {
                const SPIN_RR_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_RR, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_RR_Transform.rotationQuaternion, SPIN_RR_Rotation, 0.5, SPIN_RR_Transform.rotationQuaternion);
            }
            // ..
            // Update Smoke Instensity
            // ..
            this.smokeDonuts = BABYLON.Scalar.Clamp(this.smokeDonuts, 1, 10);
            this.smokeIntensityFactor = this.smokeIntensity;
            if (this.lastBurnout > 0)
                this.smokeIntensityFactor *= this.smokeDonuts;
            // ..
            // Update Front Left Wheel
            // ..
            if (this.lastSKID_FL > 0 && this.frontLeftContact === true) {
                const skidScaleFL = BABYLON.Scalar.Normalize(this.lastSKID_FL, this.skidThreashold, 1.0);
                this.m_frontLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.frontLeftContactPoint, this.frontLeftContactNormal, skidScaleFL, this.m_frontLeftWheelSkid);
                if (this.frontLeftWheelParticle != null) {
                    if (this.frontLeftWheelParticle.isStarted() === false) {
                        this.frontLeftWheelParticle.start();
                    }
                    const smoke_FL = this.lastSKID_FL * this.lastSKID_FL;
                    this.frontLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FL;
                    this.frontLeftWheelParticle.minSize = 0.2 * smoke_FL + 0.2;
                    this.frontLeftWheelParticle.maxSize = 1.5 * smoke_FL + 1.2;
                }
            }
            else {
                if (this.frontLeftWheelParticle != null)
                    this.frontLeftWheelParticle.emitRate = 0;
                this.m_frontLeftWheelSkid = -1;
            }
            // ..
            // Update Front Right Wheel
            // ..
            if (this.lastSKID_FR > 0 && this.frontRightContact === true) {
                const skidScaleFR = BABYLON.Scalar.Normalize(this.lastSKID_FR, this.skidThreashold, 1.0);
                this.m_frontRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.frontRightContactPoint, this.frontRightContactNormal, skidScaleFR, this.m_frontRightWheelSkid);
                if (this.frontRightWheelParticle != null) {
                    if (this.frontRightWheelParticle.isStarted() === false) {
                        this.frontRightWheelParticle.start();
                    }
                    const smoke_FR = this.lastSKID_FR * this.lastSKID_FR;
                    this.frontRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FR;
                    this.frontRightWheelParticle.minSize = 0.2 * smoke_FR + 0.2;
                    this.frontRightWheelParticle.maxSize = 1.5 * smoke_FR + 1.2;
                }
            }
            else {
                if (this.frontRightWheelParticle != null)
                    this.frontRightWheelParticle.emitRate = 0;
                this.m_frontRightWheelSkid = -1;
            }
            this.PITCH_FL = this.lastSKID_FL;
            this.PITCH_FR = this.lastSKID_FR;
            if (this.lastBurnout > 0) {
                this.PITCH_FL *= this.burnoutWheelPitch;
                this.PITCH_FR *= this.burnoutWheelPitch;
            }
            this.PITCH_FL *= 0.75; // 75% Skid For Front Wheels
            this.PITCH_FR *= 0.75; // 75% Skid For Front Wheels
            // ..
            // Update Rear Left Wheel
            // ..
            if (this.lastSKID_RL > 0 && this.rearLeftContact === true) {
                const skidScaleRL = BABYLON.Scalar.Normalize(this.lastSKID_RL, this.skidThreashold, 1.0);
                this.m_backLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.rearLeftContactPoint, this.rearLeftContactNormal, skidScaleRL, this.m_backLeftWheelSkid);
                if (this.backLeftWheelParticle != null) {
                    if (this.backLeftWheelParticle.isStarted() === false) {
                        this.backLeftWheelParticle.start();
                    }
                    const smoke_RL = this.lastSKID_RL * this.lastSKID_RL;
                    this.backLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RL;
                    this.backLeftWheelParticle.minSize = 0.2 * smoke_RL + 0.2;
                    this.backLeftWheelParticle.maxSize = 1.5 * smoke_RL + 1.2;
                }
            }
            else {
                if (this.backLeftWheelParticle != null)
                    this.backLeftWheelParticle.emitRate = 0;
                this.m_backLeftWheelSkid = -1;
            }
            // ..
            // Update Rear Right Wheel
            // ..
            if (this.lastSKID_RR > 0 && this.rearRightContact === true) {
                const skidScaleRR = BABYLON.Scalar.Normalize(this.lastSKID_RR, this.skidThreashold, 1.0);
                this.m_backRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.rearRightContactPoint, this.rearRightContactNormal, skidScaleRR, this.m_backRightWheelSkid);
                if (this.backRightWheelParticle != null) {
                    if (this.backRightWheelParticle.isStarted() === false) {
                        this.backRightWheelParticle.start();
                    }
                    const smoke_RR = this.lastSKID_RR * this.lastSKID_RR;
                    this.backRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RR;
                    this.backRightWheelParticle.minSize = 0.2 * smoke_RR + 0.2;
                    this.backRightWheelParticle.maxSize = 1.5 * smoke_RR + 1.2;
                }
            }
            else {
                if (this.backRightWheelParticle != null)
                    this.backRightWheelParticle.emitRate = 0;
                this.m_backRightWheelSkid = -1;
            }
            this.PITCH_RL = this.lastSKID_RL;
            this.PITCH_RR = this.lastSKID_RR;
            if (this.lastBurnout > 0) {
                this.PITCH_RL *= this.burnoutWheelPitch;
                this.PITCH_RR *= this.burnoutWheelPitch;
            }
            ///////////////////////////////////////////
            // Play Skid Audio Track
            ///////////////////////////////////////////
            this.WHEEL_SKID_PITCH = 0;
            if (this.PITCH_FL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FL;
            if (this.PITCH_FR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FR;
            if (this.PITCH_RL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RL;
            if (this.PITCH_RR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RR;
            if (this.playVehicleSounds === true) {
                if (this._skidAudioSource != null) {
                    const skidSoundClip = this._skidAudioSource.getSoundClip();
                    if (skidSoundClip != null)
                        skidSoundClip.setPlaybackRate(this.WHEEL_SKID_PITCH);
                }
            }
            ///////////////////////////////////////////
            // Vehicle Steering Wheel Sync
            ///////////////////////////////////////////
            if (this.steeringWheelHub != null) {
                if (this.steeringWheelHub.rotationQuaternion == null) {
                    this.steeringWheelHub.rotationQuaternion = BABYLON.Quaternion.FromEulerVector(this.steeringWheelHub.rotation);
                }
                const degreesSteerAngle = (this.lastSteering * this.maxSteeringAngle);
                const radiansSteerAngle = BABYLON.Tools.ToRadians(degreesSteerAngle);
                const xaxis = (this.steeringWheelAxis === 0) ? radiansSteerAngle : 0;
                const yaxis = (this.steeringWheelAxis === 1) ? radiansSteerAngle : 0;
                const zaxis = (this.steeringWheelAxis === 2) ? radiansSteerAngle : 0;
                BABYLON.Quaternion.FromEulerAnglesToRef(xaxis, yaxis, zaxis, this.steeringWheelHub.rotationQuaternion);
            }
            if (this._animator != null)
                this._animator.setFloat("TurnAngle", this.lastSteering);
            ///////////////////////////////////////////
            // Vehicle Braking Lights Check
            ///////////////////////////////////////////
            if (this.brakeLightsMesh != null) {
                this.brakeLightsMesh.isVisible = (this.lastBrake > 0);
            }
            ///////////////////////////////////////////
            // Vehicle Reverse Lights Check
            ///////////////////////////////////////////
            if (this.reverseLightsMesh != null) {
                this.reverseLightsMesh.isVisible = (this.lastReverse > 0);
            }
            ///////////////////////////////////////////
            // Reset Skid Properties
            ///////////////////////////////////////////
            if (this.lastSKID_FL === 0 && this.lastSKID_FL === 0 && this.lastSKID_FL === 0 && this.lastSKID_FL === 0) {
                this.smokeIntensityFactor = 0;
            }
        }
        castWheelContactRays() {
            let raycast = null;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint.set(0, 0, 0);
            this.frontRightContactPoint.set(0, 0, 0);
            this.rearLeftContactPoint.set(0, 0, 0);
            this.rearRightContactPoint.set(0, 0, 0);
            this.frontLeftContactNormal.set(0, 0, 0);
            this.frontRightContactNormal.set(0, 0, 0);
            this.rearLeftContactNormal.set(0, 0, 0);
            this.rearRightContactNormal.set(0, 0, 0);
            // ..
            // Front Left Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Left Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.frontLeftContact = true;
                this.frontLeftContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.frontLeftContactPoint.copyFrom(raycast.hitPoint);
                this.frontLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Left Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.frontLeftSensorLine == null)
                    this.frontLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".FrontLeftSensorLine", this.scene);
                if (this.frontLeftContact === true) {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Front Right Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Right Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.frontRightContact = true;
                this.frontRightContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.frontRightContactPoint.copyFrom(raycast.hitPoint);
                this.frontRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Right Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.frontRightSensorLine == null)
                    this.frontRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".FrontRightSensorLine", this.scene);
                if (this.frontRightContact === true) {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Left Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Left Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.rearLeftContact = true;
                this.rearLeftContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.rearLeftContactPoint.copyFrom(raycast.hitPoint);
                this.rearLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Left Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.rearLeftSensorLine == null)
                    this.rearLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".RearLeftSensorLine", this.scene);
                if (this.rearLeftContact === true) {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Right Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Right Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.rearRightContact = true;
                this.rearRightContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.rearRightContactPoint.copyFrom(raycast.hitPoint);
                this.rearRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Right Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.rearRightSensorLine == null)
                    this.rearRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".RearRightSensorLine", this.scene);
                if (this.rearRightContact === true) {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
        }
        createSmokeParticleSystem(name, emitter) {
            const result = new BABYLON.ParticleSystem(name, 10000, this.scene);
            result.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD;
            result.particleTexture = this.smokeTexture;
            result.emitter = emitter;
            result.emitRate = 0;
            result.updateSpeed = 0.01;
            // change size and speed
            result.minSize = 0.2;
            result.maxSize = 1.3;
            result.minAngularSpeed = -1.5;
            result.maxAngularSpeed = 1.5;
            // changed lifetime to control shape of the cloud in conjunction with velocity gradient
            result.minLifeTime = 3.0;
            result.maxLifeTime = 5.0;
            // adding velocity over time to prevent large bloom of particles by launching them fast and then slowing them down GPU particles don't take a gradient on velocity, but the reduction in velocity over time is worth the trade off for less randomization
            result.addVelocityGradient(0, 1);
            result.addVelocityGradient(0.1, 0.7);
            result.addVelocityGradient(0.7, 0.2);
            result.addVelocityGradient(1.0, 0.05);
            // reduced the emit rate to reduce bloom of particles in the center of mass
            result.gravity = new BABYLON.Vector3(0, -0.1, 0);
            result.minEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.maxEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.direction1 = new BABYLON.Vector3(-1, -1, -1);
            result.direction2 = new BABYLON.Vector3(1, 1, 1);
            // The color1, color2, colorDead pattern is overridden by color gradient so is unnecessary
            result.color1 = new BABYLON.Color4(0.95, 0.95, 0.95, this.smokeOpacity);
            result.color2 = new BABYLON.Color4(0.85, 0.85, 0.85, this.smokeOpacity);
            result.colorDead = new BABYLON.Color4(0.9, 0.9, 0.9, (this.smokeOpacity * 0.5));
            // Changed the color gradient to add a second value for randomization and ramped the color down further to create more texture with alpha blending
            //result.addColorGradient(0.0, new BABYLON.Color4(1, 1, 1, 0.0), new BABYLON.Color4(0.7, 0.7, 0.7, 0.0));
            //result.addColorGradient(0.2, new BABYLON.Color4(0.7, 0.7, 0.7, 0.2), new BABYLON.Color4(0.6, 0.6, 0.6, 0.2));
            //result.addColorGradient(0.6, new BABYLON.Color4(0.6, 0.6, 0.6, 0.1),new BABYLON.Color4(0.4, 0.4, 0.4, 0.1));
            //result.addColorGradient(1.0, new BABYLON.Color4(0.3, 0.3, 0.3, 0.0),new BABYLON.Color4(0.1, 0.1, 0.1, 0.0));            
            return result;
        }
    }
    RemoteCarController.ShowSensorLines = false; // Note: Disable Debug Mode Sensors
    PROJECT.RemoteCarController = RemoteCarController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon skidmark section class (Havok Physics Engine)
     * @class SkidMarkSection
     */
    class SkidMarkSection {
        constructor() {
            this.Pos = BABYLON.Vector3.Zero();
            this.Normal = BABYLON.Vector3.Zero();
            this.Tangent = BABYLON.Vector4.Zero();
            this.Posl = BABYLON.Vector3.Zero();
            this.Posr = BABYLON.Vector3.Zero();
            this.Intensity = 0.0;
            this.LastIndex = -1;
        }
    }
    PROJECT.SkidMarkSection = SkidMarkSection;
    /**
     * Babylon Script Component
     * @class SkidMarkManager
     */
    class SkidMarkManager extends BABYLON.Toolkit.ScriptComponent {
        constructor(transform, scene, properties = {}) {
            super(transform, scene, properties);
            SkidMarkManager.MAX_MARKS = this.getProperty("maxSections", SkidMarkManager.MAX_MARKS);
            SkidMarkManager.MARK_COLOR = BABYLON.Toolkit.Utilities.ParseColor3(this.getProperty("textureColor"), SkidMarkManager.MARK_COLOR);
            SkidMarkManager.MARK_WIDTH = this.getProperty("textureWidth", SkidMarkManager.MARK_WIDTH);
            SkidMarkManager.GROUND_OFFSET = this.getProperty("groundOffset", SkidMarkManager.GROUND_OFFSET);
            SkidMarkManager.GPU_TRIANGLES = this.getProperty("gpuQuadIndices", SkidMarkManager.GPU_TRIANGLES);
            SkidMarkManager.TEXTURE_MARKS = this.getProperty("textureMarks", SkidMarkManager.TEXTURE_MARKS);
            SkidMarkManager.TEX_INTENSITY = this.getProperty("textureIntensity", SkidMarkManager.TEX_INTENSITY);
            SkidMarkManager.MIN_DISTANCE = this.getProperty("textureDistance", SkidMarkManager.MIN_DISTANCE);
            SkidMarkManager.MIN_SQR_DISTANCE = (SkidMarkManager.MIN_DISTANCE * SkidMarkManager.MIN_DISTANCE);
        }
        start() { SkidMarkManager.CreateSkidMarkManager(this.scene); }
        update() { SkidMarkManager.UpdateSkidMarkManager(); }
        static AddSkidMarkSegment(pos, normal, intensity, lastIndex) {
            if (SkidMarkManager.SkidMarkMesh == null)
                return null;
            SkidMarkManager.TempVector3_POS.set(0, 0, 0);
            SkidMarkManager.TempVector3_DIR.set(0, 0, 0);
            SkidMarkManager.TempVector3_XDIR.set(0, 0, 0);
            SkidMarkManager.TempVector3_SDIR.set(0, 0, 0);
            // ..
            if (intensity > 1.0)
                intensity = 1.0;
            else if (intensity < 0.0)
                return -1.0;
            // ..
            if (lastIndex > 0) {
                pos.subtractToRef(SkidMarkManager.SkidMarkSections[lastIndex].Pos, SkidMarkManager.TempVector3_POS);
                const sqrDistance = SkidMarkManager.TempVector3_POS.lengthSquared();
                if (sqrDistance < SkidMarkManager.MIN_SQR_DISTANCE)
                    return lastIndex;
            }
            // ..
            const curSection = SkidMarkManager.SkidMarkSections[SkidMarkManager.SkidMarkIndex];
            normal.scaleToRef(SkidMarkManager.GROUND_OFFSET, SkidMarkManager.TempVector3_POS);
            pos.addToRef(SkidMarkManager.TempVector3_POS, curSection.Pos);
            curSection.Normal.copyFrom(normal);
            curSection.Intensity = (intensity * SkidMarkManager.TEX_INTENSITY);
            curSection.LastIndex = lastIndex;
            // ..
            if (lastIndex != -1) {
                const lastSection = SkidMarkManager.SkidMarkSections[lastIndex];
                curSection.Pos.subtractToRef(lastSection.Pos, SkidMarkManager.TempVector3_DIR);
                BABYLON.Vector3.CrossToRef(SkidMarkManager.TempVector3_DIR, normal, SkidMarkManager.TempVector3_XDIR);
                SkidMarkManager.TempVector3_XDIR.normalizeToRef(SkidMarkManager.TempVector3_XDIR);
                // ..
                SkidMarkManager.TempVector3_XDIR.scaleToRef(SkidMarkManager.MARK_WIDTH * 0.5, SkidMarkManager.TempVector3_SDIR);
                curSection.Pos.addToRef(SkidMarkManager.TempVector3_SDIR, curSection.Posl);
                curSection.Pos.subtractToRef(SkidMarkManager.TempVector3_SDIR, curSection.Posr);
                curSection.Tangent.set(SkidMarkManager.TempVector3_XDIR.x, SkidMarkManager.TempVector3_XDIR.y, SkidMarkManager.TempVector3_XDIR.z, 1);
                // ..
                if (lastSection.LastIndex === -1) {
                    curSection.Pos.addToRef(SkidMarkManager.TempVector3_SDIR, lastSection.Posl);
                    curSection.Pos.subtractToRef(SkidMarkManager.TempVector3_SDIR, lastSection.Posr);
                    lastSection.Tangent.copyFrom(curSection.Tangent);
                }
            }
            // ..
            SkidMarkManager.AddSkidMarkVertexData();
            const curIndex = SkidMarkManager.SkidMarkIndex;
            SkidMarkManager.SkidMarkIndex = ++SkidMarkManager.SkidMarkIndex % SkidMarkManager.MAX_MARKS;
            return curIndex;
        }
        static CreateSkidMarkManager(scene) {
            if (SkidMarkManager.SkidMarkMesh == null) {
                const skidmarkMaterial = new BABYLON.StandardMaterial("SkidMarkMaterial", scene);
                skidmarkMaterial.backFaceCulling = false;
                skidmarkMaterial.disableLighting = true;
                skidmarkMaterial.emissiveColor = SkidMarkManager.MARK_COLOR;
                skidmarkMaterial.diffuseColor = SkidMarkManager.MARK_COLOR;
                skidmarkMaterial.diffuseTexture = BABYLON.Toolkit.Utilities.ParseTexture(SkidMarkManager.TEXTURE_MARKS, scene);
                if (skidmarkMaterial.diffuseTexture != null) {
                    skidmarkMaterial.diffuseTexture.hasAlpha = true;
                    skidmarkMaterial.useAlphaFromDiffuseTexture = true;
                }
                skidmarkMaterial.freeze();
                SkidMarkManager.SkidMarkMesh = new BABYLON.Mesh("SkidMarkMesh", scene);
                SkidMarkManager.SkidMarkMesh.material = skidmarkMaterial;
                SkidMarkManager.SkidMarkMesh.renderingGroupId = BABYLON.Toolkit.Utilities.DefaultRenderGroup();
                SkidMarkManager.SkidMarkMesh.alwaysSelectAsActiveMesh = true;
                SkidMarkManager.SkidMarkMesh.doNotSyncBoundingInfo = true;
                SkidMarkManager.SkidMarkMesh.receiveShadows = false;
                SkidMarkManager.SkidMarkMesh.checkCollisions = false;
                SkidMarkManager.SkidMarkMesh.useVertexColors = true;
                SkidMarkManager.SkidMarkMesh.hasVertexAlpha = true;
                SkidMarkManager.SkidMarkMesh.isPickable = false;
                // ..
                // Setup SkidMark Section Properties
                // ..
                SkidMarkManager.SkidMarkSections = new Array(SkidMarkManager.MAX_MARKS);
                for (let i = 0; i < SkidMarkManager.SkidMarkSections.length; i++) {
                    SkidMarkManager.SkidMarkSections[i] = new SkidMarkSection();
                }
                // ..
                // Setup Raw Mesh Vertex Buffer Data
                // ..
                SkidMarkManager.SkidBufferPositions = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 3);
                SkidMarkManager.SkidBufferNormals = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 3);
                SkidMarkManager.SkidBufferTangents = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 4);
                SkidMarkManager.SkidBufferColors = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 4);
                SkidMarkManager.SkidBufferUvs = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 2);
                SkidMarkManager.SkidBufferIndices = new Int32Array(SkidMarkManager.MAX_MARKS * 6);
                // ..
                // Apply Raw Vertex Buffer Data To Mesh
                // ..
                const vertexData = new BABYLON.VertexData();
                vertexData.positions = SkidMarkManager.SkidBufferPositions;
                vertexData.normals = SkidMarkManager.SkidBufferNormals;
                vertexData.tangents = SkidMarkManager.SkidBufferTangents;
                vertexData.colors = SkidMarkManager.SkidBufferColors;
                vertexData.uvs = SkidMarkManager.SkidBufferUvs;
                vertexData.indices = SkidMarkManager.SkidBufferIndices;
                vertexData.applyToMesh(SkidMarkManager.SkidMarkMesh, true);
                SkidMarkManager.SkidMarkMesh.freezeWorldMatrix();
            }
        }
        static AddSkidMarkVertexData() {
            const curr = SkidMarkManager.SkidMarkSections[SkidMarkManager.SkidMarkIndex];
            if (curr.LastIndex === -1)
                return;
            const last = SkidMarkManager.SkidMarkSections[curr.LastIndex];
            SkidMarkManager.SkidMarkUpdated = true;
            // ..
            // Update Position Buffers Directly
            // ..
            let index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferPositions[index * 3] = last.Posl.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = last.Posl.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = last.Posl.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferPositions[index * 3] = last.Posr.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = last.Posr.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = last.Posr.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferPositions[index * 3] = curr.Posl.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = curr.Posl.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = curr.Posl.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferPositions[index * 3] = curr.Posr.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = curr.Posr.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = curr.Posr.z;
            // ..
            // Update Normal Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferNormals[index * 3] = last.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = last.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = last.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferNormals[index * 3] = last.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = last.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = last.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferNormals[index * 3] = curr.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = curr.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = curr.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferNormals[index * 3] = curr.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = curr.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = curr.Normal.z;
            // ..
            // Update Tangent Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferTangents[index * 4] = last.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = last.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = last.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = last.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferTangents[index * 4] = last.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = last.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = last.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = last.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferTangents[index * 4] = curr.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = curr.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = curr.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = curr.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferTangents[index * 4] = curr.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = curr.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = curr.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = curr.Tangent.w;
            // ..
            // Update Color Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = last.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = last.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = curr.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = curr.Intensity;
            // ..
            // Update Coord Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferUvs[index * 2] = 0;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 0;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferUvs[index * 2] = 1;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 0;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferUvs[index * 2] = 0;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 1;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferUvs[index * 2] = 1;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 1;
            // ..
            // Update Triangle 1 Buffers Directly (QUAD)
            //..
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 0] = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 2] = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 1] = SkidMarkManager.SkidMarkIndex * 4 + 2;
            // ..
            // Update Triangle 2 Buffers Directly (QUAD)
            // ..
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 3] = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 5] = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 4] = SkidMarkManager.SkidMarkIndex * 4 + 3;
        }
        static UpdateSkidMarkManager() {
            if (SkidMarkManager.SkidMarkMesh != null && SkidMarkManager.SkidMarkUpdated === true) {
                SkidMarkManager.SkidMarkUpdated = false;
                if (SkidMarkManager.SkidMarkMesh.geometry != null) {
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.PositionKind, SkidMarkManager.SkidBufferPositions, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.NormalKind, SkidMarkManager.SkidBufferNormals, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.TangentKind, SkidMarkManager.SkidBufferTangents, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.ColorKind, SkidMarkManager.SkidBufferColors, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.UVKind, SkidMarkManager.SkidBufferUvs, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateIndices(SkidMarkManager.SkidBufferIndices, 0, SkidMarkManager.GPU_TRIANGLES);
                }
            }
        }
    }
    SkidMarkManager.MAX_MARKS = 1024; // Max number of marks total for everyone together
    SkidMarkManager.GROUND_OFFSET = 0.01; // Distance above surface in metres
    SkidMarkManager.GPU_TRIANGLES = true; // GPU quad triangle indices only
    SkidMarkManager.MARK_COLOR = BABYLON.Color3.Black(); // SkidMark Color
    SkidMarkManager.MARK_WIDTH = 0.3; // Width of the SkidMarks. Should match the width of the wheels
    SkidMarkManager.TEX_INTENSITY = 1.0; // Amount of the skidmark texture intensity coeffecient
    SkidMarkManager.MIN_DISTANCE = 0.1; // Distance between skid texture sections in metres. Bigger = better performance, less smooth
    SkidMarkManager.MIN_SQR_DISTANCE = (SkidMarkManager.MIN_DISTANCE * SkidMarkManager.MIN_DISTANCE);
    SkidMarkManager.TEXTURE_MARKS = null;
    SkidMarkManager.SkidBufferPositions = null;
    SkidMarkManager.SkidBufferNormals = null;
    SkidMarkManager.SkidBufferTangents = null;
    SkidMarkManager.SkidBufferColors = null;
    SkidMarkManager.SkidBufferUvs = null;
    SkidMarkManager.SkidBufferIndices = null;
    SkidMarkManager.SkidMarkSections = null;
    SkidMarkManager.SkidMarkIndex = 0;
    SkidMarkManager.SkidMarkMesh = null;
    SkidMarkManager.SkidMarkUpdated = false;
    SkidMarkManager.TempVector3_POS = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_DIR = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_XDIR = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_SDIR = new BABYLON.Vector3(0, 0, 0);
    PROJECT.SkidMarkManager = SkidMarkManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon standard rigidbody vehicle controller class (Havok Physics Engine)
     * @class StandardCarController
     */
    class StandardCarController extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.MIN_RPM = 1000;
            this.MAX_RPM = 6000;
            this._animator = null;
            this._rigidbody = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            this._nosAudioSource = null;
            this._skidExtraRotation = new BABYLON.Vector3(0, 0, 0);
            this._donutExtraRotation = new BABYLON.Vector3(0, 0, 0);
            this.steeringWheelHub = null;
            this.steeringWheelAxis = 2;
            this.maxSteeringAngle = 65.0;
            this.maxSteeringSpeed = 15.0;
            this.gearIndex = 0; // First Gear Ratio
            this.downShift = 1000;
            this.skiddingTime = 0;
            this.shiftingTime = 0;
            this.shiftingSide = 1;
            this.shiftingBrake = 1.0;
            this.engineForce = 0;
            this.handBraking = false;
            this.linearDamping = 0;
            this.angularDamping = 0;
            this.forwardSpeed = 0;
            this.absoluteSpeed = 0;
            this.americanSpeed = 0;
            this.gradientSpeed = 0;
            this.frontWheelPower = 0;
            this.backWheelPower = 0;
            this.wheelBrakingForce = 0;
            this.enginePitchLevel = 0;
            this.smokeIntensityFactor = 0;
            this.raycastVehicle = null;
            this.brakeLightsMesh = null;
            this.brakeLightsTrans = null;
            this.reverseLightsMesh = null;
            this.reverseLightsTrans = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelEmitter = null;
            this.frontRightWheelEmitter = null;
            this.backLeftWheelEmitter = null;
            this.backRightWheelEmitter = null;
            this.frontLeftWheelParticle = null;
            this.frontRightWheelParticle = null;
            this.backLeftWheelParticle = null;
            this.backRightWheelParticle = null;
            this.frontLeftWheelCollider = null;
            this.frontRightWheelCollider = null;
            this.backLeftWheelCollider = null;
            this.backRightWheelCollider = null;
            this.engineTorqueCurve = null;
            this.physicsSteerAngleL = 0;
            this.physicsSteerAngleR = 0;
            this.visualSteerAngleL = 0;
            this.visualSteerAngleR = 0;
            this.visualSteerBoostL = 0;
            this.visualSteerBoostR = 0;
            this.idleNoiseDelta = 0;
            this.driveNoiseDelta = 0;
            this.boostSpeedTimer = 0;
            this.burnoutMeter = 0;
            this.donutMeter = 0;
            this.wheelRadius = 0;
            this.clutchSlip = 0;
            this.engineRPM = 0;
            this.pitchRPM = 0;
            this.shiftRPM = 0;
            this.SKID_FL = 0;
            this.SKID_FR = 0;
            this.SKID_RL = 0;
            this.SKID_RR = 0;
            this.PITCH_FL = 0;
            this.PITCH_FR = 0;
            this.PITCH_RL = 0;
            this.PITCH_RR = 0;
            this.FRONT_LEFT = -1;
            this.FRONT_RIGHT = -1;
            this.BACK_LEFT = -1;
            this.BACK_RIGHT = -1;
            this.WHEEL_SKID_PITCH = 0;
            this.POWER_BOOST_PITCH = 0;
            this.SPIN_FL_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_FR_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_RL_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_RR_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.smokeTexture = null;
            this.skidThreashold = 0.65;
            this.wheelDrawVelocity = 0.02;
            this.smokeIntensity = 150;
            this.smokeOpacity = 0.1;
            this.smokeDonuts = 2.0;
            this.noiseTimeScale = 1.0;
            this.noiseTimeFactor = 0;
            this.maxBurnoutFactor = 1.0;
            this.maxSteerBoost = 6;
            this.overSteerSpeed = 1.0;
            this.overSteerTimeout = 0.2;
            this.topEngineSpeed = 100;
            this.topBoosterSpeed = 150;
            this.powerChangeRate = 5.0;
            this.powerCoefficient = 1.0;
            this.boosterCoefficient = 1.0;
            this.frictionLerpSpeed = 0.5;
            this.topSpeedDampener = 0.15;
            this.lowSpeedSteering = 5.0;
            this.highSpeedSteering = 5.0;
            this.donutTurningRadius = 3.0;
            this.donutEngineFactor = 1.5;
            this.donutRotateFactor = 2.5;
            this.donutLerpingSpeed = 1.0;
            // DEPRECIATED: public rayTestingType:number = 0;
            // DEPRECIATED: public testPointCount:number = 32;
            // DEPRECIATED: public sweepPenetration:number = 0.0;
            this.gravitationalForce = 3;
            this.smoothFlyingForce = 250;
            this.transmissionRatio = 0.75;
            this.differentialRatio = 3.55;
            this.minBoosterSpeed = 25.0;
            this.maxBoosterTime = 10.0;
            this.maxPitchControl = 0.1;
            this.maxFrontBraking = 0.0;
            this.maxReversePower = 0.5;
            this.minBrakingForce = 50;
            this.maxBrakingForce = 250;
            this.handBrakingForce = 2500;
            this.handBrakingTimer = 0;
            this.skidRotationTimeout = 1.0;
            this.linearBrakingForce = 15.0;
            this.angularBrakingForce = 1.0;
            this.burnoutFrictionSlip = 1.0;
            this.burnoutTimeDelay = 1;
            this.burnoutWheelPitch = 0.85;
            this.burnoutCoefficient = 15;
            this.burnoutTriggerMark = 10;
            this.enableAutoBurnouts = false;
            this.driftTriggerAngle = 30.0;
            this.driftTriggerSpeed = 30.0;
            this.enableAutoDrifting = false;
            this.penaltyGroundTag = "Offroad";
            this.minPenaltySpeed = 65;
            this.linearWheelDrag = 0.05;
            this.frictionWheelSlip = 0.215;
            this.showSensorLines = false;
            this.powerBooster = false;
            this.linkTrackManager = true;
            this.playVehicleSounds = true;
            this.postNetworkAttributes = false;
            this.wheelDriveType = 0;
            this.gearBoxMultiplier = 1.0;
            this.gearBoxMaxPitching = 6500;
            this.gearBoxShiftChange = 5100;
            this.gearBoxShiftDelay = 0.35;
            this.gearBoxShiftRatios = [4.17, 2.34, 1.82, 1.54, 0.96, 0.68];
            this.gearBoxShiftRanges = [1000, 2400, 2600, 2600, 2800, 2800];
            this.throttleBrakingForce = 0;
            this.throttleEngineSpeed = 0;
            this.brakeRecoveryDelay = 0.05;
            this.brakeRecoverySpeed = 0.35;
            this.skidRecoverySpeed = 0.25;
            this.extraRotationSpeed = 0.1;
            this.maxRotationSpeed = 2.0;
            this.burnoutLerpSpeed = 0.05;
            this.ackermanWheelBase = 2.5;
            this.ackermanRearTrack = 1.5;
            this.ackermanTurnRadius = 9;
            this.ackermanMaxRadius = 18;
            this.ackermanTurnFactor = 1;
            this.roadSurfaceFactor = 1.0;
            this.movementTilting = false;
            this.surfaceDetection = false;
            this.idleShakeRate = 5.0;
            this.idleShakeNoise = 0.01;
            this.maxForwardAngle = 3.0;
            this.maxLateralAngle = 3.0;
            this.lerpForwardFactor = 10.0;
            this.lerpLateralFactor = 10.0;
            this.shiftForwardExtra = 0.2;
            this.shiftLateralExtra = 0.2;
            this.forwardPitchFactor = 0.2;
            this.lateralRollFactor = 0.2;
            this.forwardRecoverRate = 0.2;
            this.lateralRecoverRate = 0.2;
            this.lowSpeedScale = 1.0;
            this.highSpeedScale = 5.0;
            this.lowForwardNoise = 0.05;
            this.highForwardNoise = 0.05;
            this.lowLateralNoise = 0.05;
            this.highLateralNoise = 0.05;
            this.speedThreashold = 5.0;
            this.boosterTransform = null;
            this.chassisTransform = null;
            this.tiltChassisEulers = new BABYLON.Vector3(0, 0, 0);
            //public maxForwardAngle: number = 0.5;
            //public maxLateralAngle: number = 1.15;
            //public moveForwardSpeed: number = 0.5;
            //public moveLateralSpeed: number = 0.5;
            //public tiltForwardTrigger: number = 1.0;
            //public tiltLateralTrigger: number = 1.0;
            this.m_frontLeftWheel = null;
            this.m_frontRightWheel = null;
            this.m_backLeftWheel = null;
            this.m_backRightWheel = null;
            this.m_frontLeftWheelSkid = -1;
            this.m_frontRightWheelSkid = -1;
            this.m_backLeftWheelSkid = -1;
            this.m_backRightWheelSkid = -1;
            this.m_angularDampener = new BABYLON.Vector3(1.0, 1.0, 1.0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            ////////////////////////////////////////////////////
            // Public Vehicle Controller Movement Functions   //
            ////////////////////////////////////////////////////
            this.burnoutTimer = 0;
            this.restoreTimer = 0;
            this.cooldownTimer = 0;
            this.wheelDonuts = false;
            this.wheelBurnout = false;
            this.wheelSkidding = false;
            this.donutSpinTime = 0;
            this.currentForward = 0;
            this.currentTurning = 0;
            this.currentBoosting = false;
            this.currentSkidding = false;
            this.currentDonuts = false;
            this.currentSlipAngle = 0;
            this.currentDrivePower = 0;
            this.targetDrivePower = 0;
            this.animatorSteerAngle = 0;
            this.currentPitch = 0; // Current pitch angle for forward-backward tilt
            this.currentRoll = 0; // Current roll angle for side-to-side tilt
            this.previousSpeed = 0; // Previous frame speed for comparison
            this.angularVelocity = new BABYLON.Vector3(0, 0, 0); // Current angular velocity of the vehicle
            /////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Wheel Contact Raycast System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftSensorLine = null;
            this.frontRightSensorLine = null;
            this.rearLeftSensorLine = null;
            this.rearRightSensorLine = null;
            this.frontLeftFrictionLerping = false;
            this.frontRightFrictionLerping = false;
            this.rearLeftFrictionLerping = false;
            this.rearRightFrictionLerping = false;
            this.frontLeftFrictionPenalty = false;
            this.frontRightFrictionPenalty = false;
            this.rearLeftFrictionPenalty = false;
            this.rearRightFrictionPenalty = false;
            this.startRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.downDistance = 2.0;
            this.wheelContactRaycastResult = new BABYLON.PhysicsRaycastResult();
        }
        isBraking() { return (this.getFootBraking() || this.getHandBraking()); }
        isBoosting() { return this.currentBoosting; }
        getFootBraking() { return (this.currentForward < 0 && this.forwardSpeed >= 0); }
        getHandBraking() { return this.handBraking; }
        getLinearVelocity() { return this.m_linearVelocity; }
        getCurrentForward() { return this.currentForward; }
        getCurrentTurning() { return this.currentTurning; }
        getCurrentSkidding() { return this.currentSkidding; }
        getCurrentDonuts() { return this.currentDonuts; }
        getReverseThrottle() { return (this.currentForward < 0 && this.forwardSpeed < 0); }
        getEnginePitchLevel() { return this.enginePitchLevel; }
        // DEPRECIATED: public getFrontLeftSpin():BABYLON.Quaternion { return (this.m_frontLeftWheel != null && this.m_frontLeftWheel.spinner != null && this.m_frontLeftWheel.spinner.rotationQuaternion != null) ? this.m_frontLeftWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getFrontRightSpin():BABYLON.Quaternion { return (this.m_frontRightWheel != null && this.m_frontRightWheel.spinner != null && this.m_frontRightWheel.spinner.rotationQuaternion != null) ? this.m_frontRightWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getBackLeftSpin():BABYLON.Quaternion { return (this.m_backLeftWheel != null && this.m_backLeftWheel.spinner != null && this.m_backLeftWheel.spinner.rotationQuaternion != null) ? this.m_backLeftWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getBackRightSpin():BABYLON.Quaternion { return (this.m_backRightWheel != null && this.m_backRightWheel.spinner != null && this.m_backRightWheel.spinner.rotationQuaternion != null) ? this.m_backRightWheel.spinner.rotationQuaternion : null; }
        getCurrentBurnout() { return this.wheelBurnout || this.restoreTimer > 0; }
        getFrontLeftSkid() { return this.SKID_FL; }
        getFrontRightSkid() { return this.SKID_FR; }
        getBackLeftSkid() { return this.SKID_RL; }
        getBackRightSkid() { return this.SKID_RR; }
        getWheelSkidPitch() { return this.WHEEL_SKID_PITCH; }
        getRigidbodyPhysics() { return this._rigidbody; }
        getRaycastVehicle() { return this.raycastVehicle; }
        getGradientSpeed() { return this.gradientSpeed; }
        getForwardSpeed() { return this.forwardSpeed; }
        getAbsoluteSpeed() { return this.absoluteSpeed; }
        getAmericanSpeed() { return this.americanSpeed; }
        getTopEngineSpeed() { return (this.currentBoosting === true) ? this.topBoosterSpeed : this.topEngineSpeed; }
        getNormalizedSpeed() { return this.americanSpeed / this.getTopEngineSpeed(); }
        getMaxReversePower() { return this.maxReversePower; }
        getCurrentGearIndex() { return this.gearIndex; }
        getCurrentEngineRPM() { return this.engineRPM; }
        getCurrentEngineForce() { return this.engineForce; }
        getCurrentEnginePitch() { return BABYLON.Scalar.Clamp((this.pitchRPM / this.gearBoxMaxPitching) + 0.1); }
        getGearShiftRatioCount() { return (this.gearBoxShiftRatios != null) ? this.gearBoxShiftRatios.length : 0; }
        getSmokeTextureMask() { return this.smokeTexture; }
        getBrakeLightsMesh() { return this.brakeLightsMesh; }
        getReverseLightsMesh() { return this.reverseLightsMesh; }
        getFrontLeftWheelNode() { return this.frontLeftWheelMesh; }
        getFrontRightWheelNode() { return this.frontRightWheelMesh; }
        getBackLeftWheelNode() { return this.backLeftWheelMesh; }
        getBackRightWheelNode() { return this.backRightWheelMesh; }
        getWheelBurnoutEnabled() { return this.wheelBurnout; }
        getWheelDonutsEnabled() { return this.wheelDonuts; }
        getCurrentDonutSpinTime() { return this.donutSpinTime; }
        getSmokeIntensityFactor() { return this.smokeIntensityFactor; }
        getWheelVelocityOffset() { return this.m_velocityOffset; }
        readBurnoutMeter() { return this.burnoutMeter; }
        resetBurnoutMeter() { this.burnoutMeter = 0; }
        readDonutMeter() { return this.donutMeter; }
        resetDonutMeter() { this.donutMeter = 0; }
        getBoosterTime() { return this.boostSpeedTimer; }
        setBoosterTime(time) { this.boostSpeedTimer = time; }
        resetBoosterTime() { this.setBoosterTime(this.maxBoosterTime); }
        awake() { this.awakeVehicleState(); }
        start() { this.initVehicleState(); }
        update() { this.updateVehicleState(); }
        destroy() { this.destroyVehicleState(); }
        //////////////////////////////////////////////////
        // Protected Vehicle Movement State Functions //
        //////////////////////////////////////////////////
        awakeVehicleState() {
            this.engineForce = 0;
            this.frontWheelPower = 0;
            this.backWheelPower = 0;
            this.wheelBrakingForce = 0;
            // DEPRECIATED: this.rayTestingType = this.getProperty("rayTestingType", this.rayTestingType);
            // DEPRECIATED: this.testPointCount = this.getProperty("testPointCount", this.testPointCount);
            // DEPRECIATED: this.sweepPenetration = this.getProperty("sweepPenetration", this.sweepPenetration);
            this.ackermanWheelBase = this.getProperty("ackermanWheelBase", this.ackermanWheelBase);
            this.ackermanRearTrack = this.getProperty("ackermanRearTrack", this.ackermanRearTrack);
            this.ackermanTurnRadius = this.getProperty("ackermanTurnRadius", this.ackermanTurnRadius);
            this.ackermanMaxRadius = this.getProperty("ackermanMaxRadius", this.ackermanMaxRadius);
            this.wheelDrawVelocity = this.getProperty("wheelDrawVelocity", this.wheelDrawVelocity);
            this.skidThreashold = this.getProperty("skidThreashold", this.skidThreashold);
            this.smokeIntensity = this.getProperty("smokeIntensity", this.smokeIntensity);
            this.smokeOpacity = this.getProperty("smokeOpacity", this.smokeOpacity);
            this.smokeDonuts = this.getProperty("smokeDonuts", this.smokeDonuts);
            this.powerBooster = this.getProperty("powerBooster", this.powerBooster);
            this.movementTilting = this.getProperty("movementTilting", this.movementTilting);
            this.surfaceDetection = this.getProperty("surfaceDetection", this.surfaceDetection);
            this.idleShakeNoise = this.getProperty("idleShakeNoise", this.idleShakeNoise);
            this.idleShakeRate = this.getProperty("idleShakeRate", this.idleShakeRate);
            this.maxForwardAngle = this.getProperty("maxForwardAngle", this.maxForwardAngle);
            this.maxLateralAngle = this.getProperty("maxLateralAngle", this.maxLateralAngle);
            this.forwardPitchFactor = this.getProperty("forwardPitchFactor", this.forwardPitchFactor);
            this.lateralRollFactor = this.getProperty("lateralRollFactor", this.lateralRollFactor);
            this.forwardRecoverRate = this.getProperty("forwardRecoverRate", this.forwardRecoverRate);
            this.lateralRecoverRate = this.getProperty("lateralRecoverRate", this.lateralRecoverRate);
            this.lowSpeedScale = this.getProperty("lowSpeedScale", this.lowSpeedScale);
            this.highSpeedScale = this.getProperty("highSpeedScale", this.highSpeedScale);
            this.lowForwardNoise = this.getProperty("lowForwardNoise", this.lowForwardNoise);
            this.highForwardNoise = this.getProperty("highForwardNoise", this.highForwardNoise);
            this.lowLateralNoise = this.getProperty("lowLateralNoise", this.lowLateralNoise);
            this.highLateralNoise = this.getProperty("highLateralNoise", this.highLateralNoise);
            this.speedThreashold = this.getProperty("speedThreashold", this.speedThreashold);
            this.lerpForwardFactor = this.getProperty("lerpForwardFactor", this.lerpForwardFactor);
            this.lerpLateralFactor = this.getProperty("lerpLateralFactor", this.lerpLateralFactor);
            this.shiftForwardExtra = this.getProperty("shiftForwardExtra", this.shiftForwardExtra);
            this.shiftLateralExtra = this.getProperty("shiftLateralExtra", this.shiftLateralExtra);
            //this.maxForwardAngle = this.getProperty("maxForwardAngle", this.maxForwardAngle);
            //this.maxLateralAngle = this.getProperty("maxLateralAngle", this.maxLateralAngle);
            //this.moveForwardSpeed = this.getProperty("moveForwardSpeed", this.moveForwardSpeed);
            //this.moveLateralSpeed = this.getProperty("moveLateralSpeed", this.moveLateralSpeed);
            //this.tiltForwardTrigger = this.getProperty("tiltForwardTrigger", this.tiltForwardTrigger);
            //this.tiltLateralTrigger = this.getProperty("tiltLateralTrigger", this.tiltLateralTrigger);
            this.topEngineSpeed = this.getProperty("topEngineSpeed", this.topEngineSpeed);
            this.topBoosterSpeed = this.getProperty("topBoosterSpeed", this.topBoosterSpeed);
            this.powerChangeRate = this.getProperty("powerChangeRate", this.powerChangeRate);
            this.powerCoefficient = this.getProperty("powerCoefficient", this.powerCoefficient);
            this.boosterCoefficient = this.getProperty("boosterCoefficient", this.boosterCoefficient);
            this.maxBoosterTime = this.getProperty("maxBoosterTime", this.maxBoosterTime);
            this.minBoosterSpeed = this.getProperty("minBoosterSpeed", this.minBoosterSpeed);
            this.maxPitchControl = this.getProperty("maxPitchControl", this.maxPitchControl);
            this.maxFrontBraking = this.getProperty("maxFrontBraking", this.maxFrontBraking);
            this.maxReversePower = this.getProperty("maxReversePower", this.maxReversePower);
            this.penaltyGroundTag = this.getProperty("penaltyGroundTag", this.penaltyGroundTag);
            this.minPenaltySpeed = this.getProperty("minPenaltySpeed", this.minPenaltySpeed);
            this.linearWheelDrag = this.getProperty("linearWheelDrag", this.linearWheelDrag);
            this.frictionWheelSlip = this.getProperty("frictionWheelSlip", this.frictionWheelSlip);
            this.showSensorLines = this.getProperty("showSensorLines", this.showSensorLines);
            this.gravitationalForce = this.getProperty("gravityMultiplier", this.gravitationalForce);
            this.smoothFlyingForce = this.getProperty("smoothFlyingForce", this.smoothFlyingForce);
            this.frictionLerpSpeed = this.getProperty("frictionLerpSpeed", this.frictionLerpSpeed);
            this.maxBurnoutFactor = this.getProperty("maxBurnoutFactor", this.maxBurnoutFactor);
            this.maxSteerBoost = this.getProperty("maxSteerBoost", this.maxSteerBoost);
            this.overSteerSpeed = this.getProperty("overSteerSpeed", this.overSteerSpeed);
            this.overSteerTimeout = this.getProperty("overSteerTimeout", this.overSteerTimeout);
            this.wheelDriveType = this.getProperty("wheelDriveType", this.wheelDriveType);
            this.minBrakingForce = this.getProperty("minBrakingForce", this.minBrakingForce);
            this.maxBrakingForce = this.getProperty("maxBrakingForce", this.maxBrakingForce);
            this.handBrakingForce = this.getProperty("handBrakingForce", this.handBrakingForce);
            this.brakeRecoveryDelay = this.getProperty("brakeRecoveryDelay", this.brakeRecoveryDelay);
            this.brakeRecoverySpeed = this.getProperty("brakeRecoverySpeed", this.brakeRecoverySpeed);
            this.skidRecoverySpeed = this.getProperty("skidRecoverySpeed", this.skidRecoverySpeed);
            this.maxRotationSpeed = this.getProperty("maxRotationSpeed", this.maxRotationSpeed);
            this.extraRotationSpeed = this.getProperty("extraRotationSpeed", this.extraRotationSpeed);
            this.skidRotationTimeout = this.getProperty("skidRotationTimeout", this.skidRotationTimeout);
            this.linearBrakingForce = this.getProperty("linearBrakingForce", this.linearBrakingForce);
            this.angularBrakingForce = this.getProperty("angularBrakingForce", this.angularBrakingForce);
            this.steeringWheelAxis = this.getProperty("steeringWheelAxis", this.steeringWheelAxis);
            this.maxSteeringAngle = this.getProperty("maxSteeringAngle", this.maxSteeringAngle);
            this.maxSteeringSpeed = this.getProperty("maxSteeringSpeed", this.maxSteeringSpeed);
            this.topSpeedDampener = this.getProperty("topSpeedDampener", this.topSpeedDampener);
            this.lowSpeedSteering = this.getProperty("lowSpeedSteering", this.lowSpeedSteering);
            this.highSpeedSteering = this.getProperty("highSpeedSteering", this.highSpeedSteering);
            this.donutTurningRadius = this.getProperty("donutTurningRadius", this.donutTurningRadius);
            this.donutEngineFactor = this.getProperty("donutEngineFactor", this.donutEngineFactor);
            this.donutRotateFactor = this.getProperty("donutRotateFactor", this.donutRotateFactor);
            this.donutLerpingSpeed = this.getProperty("donutLerpingSpeed", this.donutLerpingSpeed);
            this.brakeLightsTrans = this.getProperty("brakeLightsMesh", this.brakeLightsTrans);
            this.reverseLightsTrans = this.getProperty("reverseLightsMesh", this.reverseLightsTrans);
            this.frontLeftWheelTrans = this.getProperty("frontLeftWheelMesh", this.frontLeftWheelTrans);
            this.frontRightWheelTrans = this.getProperty("frontRightWheelMesh", this.frontRightWheelTrans);
            this.backLeftWheelTrans = this.getProperty("rearLeftWheelMesh", this.backLeftWheelTrans);
            this.backRightWheelTrans = this.getProperty("rearRightWheelMesh", this.backRightWheelTrans);
            this.frontLeftWheelCollider = this.getProperty("frontLeftWheelCollider", this.frontLeftWheelCollider);
            this.frontRightWheelCollider = this.getProperty("frontRightWheelCollider", this.frontRightWheelCollider);
            this.backLeftWheelCollider = this.getProperty("rearLeftWheelCollider", this.backLeftWheelCollider);
            this.backRightWheelCollider = this.getProperty("rearRightWheelCollider", this.backRightWheelCollider);
            this.burnoutFrictionSlip = this.getProperty("burnoutFrictionSlip", this.burnoutFrictionSlip);
            this.burnoutTimeDelay = this.getProperty("burnoutTimeDelay", this.burnoutTimeDelay);
            this.burnoutWheelPitch = this.getProperty("burnoutWheelPitch", this.burnoutWheelPitch);
            this.burnoutCoefficient = this.getProperty("burnoutCoefficient", this.burnoutCoefficient);
            this.burnoutTriggerMark = this.getProperty("burnoutTriggerMark", this.burnoutTriggerMark);
            this.enableAutoBurnouts = this.getProperty("enableAutoBurnouts", this.enableAutoBurnouts);
            this.driftTriggerAngle = this.getProperty("driftTriggerAngle", this.driftTriggerAngle);
            this.driftTriggerSpeed = this.getProperty("driftTriggerSpeed", this.driftTriggerSpeed);
            this.enableAutoDrifting = this.getProperty("enableAutoDrifting", this.enableAutoDrifting);
            this.postNetworkAttributes = this.getProperty("postNetworkAttributes", this.postNetworkAttributes);
            this.linkTrackManager = this.getProperty("linkTrackManager", this.linkTrackManager);
            this.playVehicleSounds = this.getProperty("playVehicleSounds", this.playVehicleSounds);
            this.differentialRatio = this.getProperty("gearBoxDifferential", this.differentialRatio);
            this.transmissionRatio = this.getProperty("gearBoxOverdrive", this.transmissionRatio);
            this.gearBoxMultiplier = this.getProperty("gearBoxMultiplier", this.gearBoxMultiplier);
            this.gearBoxMaxPitching = this.getProperty("gearBoxMaxPitching", this.gearBoxMaxPitching);
            this.gearBoxShiftChange = this.getProperty("gearBoxShiftChange", this.gearBoxShiftChange);
            this.gearBoxShiftDelay = this.getProperty("gearBoxShiftDelay", this.gearBoxShiftDelay);
            this.gearBoxShiftRatios = this.getProperty("gearBoxShiftRatios", this.gearBoxShiftRatios);
            this.gearBoxShiftRanges = this.getProperty("gearBoxShiftRanges", this.gearBoxShiftRanges);
            this.MIN_RPM = this.getProperty("gearBoxMinPower", this.MIN_RPM);
            this.MAX_RPM = this.getProperty("gearBoxMaxPower", this.MAX_RPM);
            if (this.topSpeedDampener <= 0)
                this.topSpeedDampener = 0.15;
            if (this.maxBurnoutFactor <= 0)
                this.maxBurnoutFactor = 1.0;
            if (this.gravitationalForce <= 0)
                this.gravitationalForce = 3;
            if (this.smoothFlyingForce <= 0)
                this.smoothFlyingForce = 0;
            if (this.maxFrontBraking <= 0)
                this.maxFrontBraking = 0;
            if (this.maxReversePower <= 0)
                this.maxReversePower = 0.5;
            if (this.lowSpeedSteering <= 0)
                this.lowSpeedSteering = 5.0;
            if (this.highSpeedSteering <= 0)
                this.highSpeedSteering = 5.0;
            if (this.donutTurningRadius <= 0)
                this.donutTurningRadius = 5.0;
            if (this.powerCoefficient <= 0)
                this.powerCoefficient = 1.0;
            if (this.topEngineSpeed <= 0)
                this.topEngineSpeed = 100;
            if (this.topBoosterSpeed <= 0)
                this.topBoosterSpeed = 150;
            if (this.gearBoxMultiplier <= 0)
                this.gearBoxMultiplier = 1.0;
            if (this.gearBoxMaxPitching <= 0)
                this.gearBoxMaxPitching = 6500;
            if (this.gearBoxShiftChange <= 0)
                this.gearBoxShiftChange = 5100;
            if (this.gearBoxShiftDelay <= 0)
                this.gearBoxShiftDelay = 0.35;
            if (this.transmissionRatio <= 0)
                this.transmissionRatio = 1;
            if (this.differentialRatio <= 0)
                this.differentialRatio = 1;
            if (this.frictionLerpSpeed <= 0)
                this.frictionLerpSpeed = 1;
            if (this.burnoutLerpSpeed <= 0)
                this.burnoutLerpSpeed = 1;
            if (this.burnoutTimeDelay <= 0)
                this.burnoutTimeDelay = 1;
            if (this.burnoutWheelPitch <= 0)
                this.burnoutWheelPitch = 1;
            if (this.maxRotationSpeed <= 0)
                this.maxRotationSpeed = 1;
            if (this.minBoosterSpeed <= 0)
                this.minBoosterSpeed = 0;
            if (this.maxBoosterTime <= 0)
                this.maxBoosterTime = 0;
            this.setBoosterTime(this.maxBoosterTime);
            const vehicleChassisTransform = this.getProperty("chassisTransform");
            if (vehicleChassisTransform != null && vehicleChassisTransform.name != null && vehicleChassisTransform.name !== "") {
                this.chassisTransform = this.getChildNode(vehicleChassisTransform.name, BABYLON.Toolkit.SearchType.IndexOf, false);
            }
            const powerBoosterTransform = this.getProperty("boosterTransform");
            if (powerBoosterTransform != null && powerBoosterTransform.name != null && powerBoosterTransform.name !== "") {
                this.boosterTransform = this.getChildNode(powerBoosterTransform.name, BABYLON.Toolkit.SearchType.IndexOf, false);
                if (this.boosterTransform != null)
                    this._nosAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.boosterTransform, "BABYLON.Toolkit.AudioSource");
            }
            const steeringWheelNode = this.getProperty("steeringWheelHub");
            if (steeringWheelNode != null && steeringWheelNode.name != null && steeringWheelNode.name !== "") {
                this.steeringWheelHub = this.getChildNode(steeringWheelNode.name, BABYLON.Toolkit.SearchType.IndexOf, false);
            }
            const angularDampener = this.getProperty("angularDampener");
            if (angularDampener != null)
                this.m_angularDampener = BABYLON.Toolkit.Utilities.ParseVector3(angularDampener);
            const smokeTextureInfo = this.getProperty("smokeTexture");
            if (smokeTextureInfo != null) {
                this.smokeTexture = BABYLON.Toolkit.Utilities.ParseTexture(smokeTextureInfo, this.scene);
            }
            const engineTorqueInfo = this.getProperty("engineTorque");
            if (engineTorqueInfo != null && engineTorqueInfo.animation != null) {
                this.engineTorqueCurve = BABYLON.Animation.Parse(engineTorqueInfo.animation);
            }
            if (this.engineTorqueCurve == null)
                BABYLON.Toolkit.SceneManager.LogWarning("Failed to parse engine torque curve for: " + this.transform.name);
        }
        initVehicleState() {
            BABYLON.Toolkit.Utilities.ValidateTransformQuaternion(this.transform);
            // Register Vehicle
            if (this.linkTrackManager === true)
                PROJECT.RaceTrackManager.RegisterVehicle(this.transform);
            // Setup Animator
            this._animator = this.getComponent("BABYLON.Toolkit.AnimationState");
            if (this._animator == null) {
                const animationNode = this.getChildWithScript("BABYLON.Toolkit.AnimationState");
                if (animationNode != null) {
                    this._animator = BABYLON.Toolkit.SceneManager.FindScriptComponent(animationNode, "BABYLON.Toolkit.AnimationState");
                }
                else {
                    // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                }
            }
            // Setup Engine Audio
            this._engineAudioSource = this.getComponent("BABYLON.Toolkit.AudioSource");
            if (this._engineAudioSource == null)
                BABYLON.Toolkit.SceneManager.LogWarning("No engine audio source manager found for: " + this.transform.name);
            // Setup Raycast Vehicle
            this._rigidbody = this.getComponent("BABYLON.Toolkit.RigidbodyPhysics");
            if (this.transform.physicsBody != null && this._rigidbody != null) {
                this.raycastVehicle = this._rigidbody.getRaycastVehicle();
                if (this.raycastVehicle != null) {
                    // KEEP-FOR-REFERENCE: this._chassisMesh.physicsBody.setAngularFactor(this.m_angularDampener);
                    const props = this.transform.physicsBody.getMassProperties();
                    props.inertia = new BABYLON.Vector3(this.m_angularDampener.x, this.m_angularDampener.y, this.m_angularDampener.z);
                    this.transform.physicsBody.setMassProperties(props); // Note: Set Angular Factor
                    this.linearDamping = this.transform.physicsBody.getLinearDamping(); // Note: Default Linear Drag
                    this.angularDamping = this.transform.physicsBody.getAngularDamping(); // Note: Default Angular Drag
                    const brakeLightslName = (this.brakeLightsTrans != null && this.brakeLightsTrans.name != null && this.brakeLightsTrans.name !== "") ? this.brakeLightsTrans.name : null;
                    const reverseLightslName = (this.reverseLightsTrans != null && this.reverseLightsTrans.name != null && this.reverseLightsTrans.name !== "") ? this.reverseLightsTrans.name : null;
                    const frontLeftWheelName = (this.frontLeftWheelTrans != null && this.frontLeftWheelTrans.name != null && this.frontLeftWheelTrans.name !== "") ? this.frontLeftWheelTrans.name : null;
                    const frontRightWheelName = (this.frontRightWheelTrans != null && this.frontRightWheelTrans.name != null && this.frontRightWheelTrans.name !== "") ? this.frontRightWheelTrans.name : null;
                    const backLeftWheelName = (this.backLeftWheelTrans != null && this.backLeftWheelTrans.name != null && this.backLeftWheelTrans.name !== "") ? this.backLeftWheelTrans.name : null;
                    const backRightWheelName = (this.backRightWheelTrans != null && this.backRightWheelTrans.name != null && this.backRightWheelTrans.name !== "") ? this.backRightWheelTrans.name : null;
                    const frontLeftWheelLabel = (this.frontLeftWheelCollider != null && this.frontLeftWheelCollider.name != null && this.frontLeftWheelCollider.name !== "") ? this.frontLeftWheelCollider.name : null;
                    const frontRightWheelLabel = (this.frontRightWheelCollider != null && this.frontRightWheelCollider.name != null && this.frontRightWheelCollider.name !== "") ? this.frontRightWheelCollider.name : null;
                    const backLeftWheelLabel = (this.backLeftWheelCollider != null && this.backLeftWheelCollider.name != null && this.backLeftWheelCollider.name !== "") ? this.backLeftWheelCollider.name : null;
                    const backRightWheelLabel = (this.backRightWheelCollider != null && this.backRightWheelCollider.name != null && this.backRightWheelCollider.name !== "") ? this.backRightWheelCollider.name : null;
                    // Get Wheel Indexs From Wheel Names
                    if (frontLeftWheelLabel != null)
                        this.FRONT_LEFT = this.raycastVehicle.getWheelIndexByName(frontLeftWheelLabel);
                    if (frontRightWheelLabel != null)
                        this.FRONT_RIGHT = this.raycastVehicle.getWheelIndexByName(frontRightWheelLabel);
                    if (backLeftWheelLabel != null)
                        this.BACK_LEFT = this.raycastVehicle.getWheelIndexByName(backLeftWheelLabel);
                    if (backRightWheelLabel != null)
                        this.BACK_RIGHT = this.raycastVehicle.getWheelIndexByName(backRightWheelLabel);
                    // Get Brake & Reverse Lights Meshes
                    if (brakeLightslName != null) {
                        this.brakeLightsMesh = this.getChildNode(brakeLightslName, BABYLON.Toolkit.SearchType.IndexOf, false);
                        if (this.brakeLightsMesh != null) {
                            this.brakeLightsMesh.isVisible = false;
                        }
                    }
                    if (reverseLightslName != null) {
                        this.reverseLightsMesh = this.getChildNode(reverseLightslName, BABYLON.Toolkit.SearchType.IndexOf, false);
                        if (this.reverseLightsMesh != null) {
                            this.reverseLightsMesh.isVisible = false;
                        }
                    }
                    // Setup Wheel Info And Transform Meshes
                    if (this.raycastVehicle.getNumWheels() >= 4) {
                        if (this.BACK_LEFT >= 0 && backLeftWheelName != null) {
                            this.m_backLeftWheel = this.raycastVehicle.getWheelInfo(this.BACK_LEFT);
                            this.backLeftWheelMesh = this.getChildNode(backLeftWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
                            if (this.backLeftWheelMesh != null) {
                                this.m_backLeftWheel.hub = this.backLeftWheelMesh;
                                this.m_backLeftWheel.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.backLeftWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                                this.backLeftWheelEmitter = new BABYLON.Mesh("Emitter_RL");
                                this.backLeftWheelEmitter.parent = this.m_backLeftWheel.spinner || this.backLeftWheelMesh;
                                this.backLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.backLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RL", this.backLeftWheelEmitter);
                                if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_backLeftWheel != null) {
                                        this.wheelRadius = this.m_backLeftWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.BACK_RIGHT >= 0 && backRightWheelName != null) {
                            this.m_backRightWheel = this.raycastVehicle.getWheelInfo(this.BACK_RIGHT);
                            this.backRightWheelMesh = this.getChildNode(backRightWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
                            if (this.backRightWheelMesh != null) {
                                this.m_backRightWheel.hub = this.backRightWheelMesh;
                                this.m_backRightWheel.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.backRightWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                                this.backRightWheelEmitter = new BABYLON.Mesh("Emitter_RR");
                                this.backRightWheelEmitter.parent = this.m_backRightWheel.spinner || this.backRightWheelMesh;
                                this.backRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.backRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RR", this.backRightWheelEmitter);
                                if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_backRightWheel != null) {
                                        this.wheelRadius = this.m_backRightWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.FRONT_LEFT >= 0 && frontLeftWheelName != null) {
                            this.m_frontLeftWheel = this.raycastVehicle.getWheelInfo(this.FRONT_LEFT);
                            this.frontLeftWheelMesh = this.getChildNode(frontLeftWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
                            if (this.frontLeftWheelMesh != null) {
                                this.m_frontLeftWheel.hub = this.frontLeftWheelMesh;
                                this.m_frontLeftWheel.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.frontLeftWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                                this.frontLeftWheelEmitter = new BABYLON.Mesh("Emitter_FL");
                                this.frontLeftWheelEmitter.parent = this.m_frontLeftWheel.spinner || this.frontLeftWheelMesh;
                                this.frontLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.frontLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FL", this.frontLeftWheelEmitter);
                                if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_frontLeftWheel != null) {
                                        this.wheelRadius = this.m_frontLeftWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.FRONT_RIGHT >= 0 && frontRightWheelName != null) {
                            this.m_frontRightWheel = this.raycastVehicle.getWheelInfo(this.FRONT_RIGHT);
                            this.frontRightWheelMesh = this.getChildNode(frontRightWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
                            if (this.frontRightWheelMesh != null) {
                                this.m_frontRightWheel.hub = this.frontRightWheelMesh;
                                this.m_frontRightWheel.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.frontRightWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                                this.frontRightWheelEmitter = new BABYLON.Mesh("Emitter_FR");
                                this.frontRightWheelEmitter.parent = this.m_frontRightWheel.spinner || this.frontRightWheelMesh;
                                this.frontRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.frontRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FR", this.frontRightWheelEmitter);
                                if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_frontRightWheel != null) {
                                        this.wheelRadius = this.m_frontRightWheel.radius;
                                    }
                                }
                            }
                        }
                        // ..
                        // Setup Stabilzation
                        // ..
                        this.raycastVehicle.setSmoothFlyingImpulse(this.smoothFlyingForce);
                        this.raycastVehicle.setStabilizingForce(this.gravitationalForce);
                        // ..
                        // Setup Collision Filter
                        // ..
                        // m_collisionFilterGroup → filterMembershipMask
                        // m_collisionFilterMask → filterCollideMask
                        // ..
                        // this.raycastVehicle.setCollisionFilterGroup(BABYLON.Toolkit.CollisionFilters.DefaultFilter);
                        // this.raycastVehicle.setCollisionFilterMask(BABYLON.Toolkit.CollisionFilters.StaticFilter);
                        // ..
                        // Setup Skid Audio Sources
                        // ..
                        if (this._skidAudioSource == null && this.backRightWheelMesh != null)
                            this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.backRightWheelMesh, "BABYLON.Toolkit.AudioSource");
                        if (this._skidAudioSource == null && this.backLeftWheelMesh != null)
                            this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.backLeftWheelMesh, "BABYLON.Toolkit.AudioSource");
                        if (this._skidAudioSource == null && this.frontRightWheelMesh != null)
                            this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.frontRightWheelMesh, "BABYLON.Toolkit.AudioSource");
                        if (this._skidAudioSource == null && this.frontLeftWheelMesh != null)
                            this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.frontLeftWheelMesh, "BABYLON.Toolkit.AudioSource");
                        if (this._skidAudioSource == null)
                            BABYLON.Toolkit.SceneManager.LogWarning("No skid audio source manager found for: " + this.transform.name);
                    }
                    else {
                        BABYLON.Toolkit.SceneManager.LogWarning("Invalid vehicle controller wheel count info for: " + this.transform.name);
                    }
                }
                else {
                    BABYLON.Toolkit.SceneManager.LogWarning("No wheel collider information found for: " + this.transform.name);
                }
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("Failed to get rigidbody component: " + this.transform.name);
            }
        }
        updateVehicleState() {
            this.m_linearVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.getDeltaSeconds());
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.wheelDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.wheelDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            this.castWheelContactRays();
        }
        destroyVehicleState() {
            this._rigidbody = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            if (this.m_frontLeftWheel != null) {
                //havokInstance.destroy(this.m_frontLeftWheel); // ???
                this.m_frontLeftWheel = null;
            }
            if (this.m_frontRightWheel != null) {
                //havokInstance.destroy(this.m_frontRightWheel); // ???
                this.m_frontRightWheel = null;
            }
            if (this.m_backLeftWheel != null) {
                //havokInstance.destroy(this.m_backLeftWheel); // ???
                this.m_backLeftWheel = null;
            }
            if (this.m_backRightWheel != null) {
                //havokInstance.destroy(this.m_backRightWheel); // ???
                this.m_backRightWheel = null;
            }
            this.raycastVehicle = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelCollider = null;
            this.frontRightWheelCollider = null;
            this.backLeftWheelCollider = null;
            this.backRightWheelCollider = null;
        }
        /** Gets the current vehicle lateral slip angle in degrees. */
        getCurrentSlipAngle(signed) {
            const vehicle = this.raycastVehicle;
            if (vehicle == null)
                return 0;
            // ..
            // Calculate the vehicle's lateral acceleration for cornering effects
            // ..
            this.transform.physicsBody.getAngularVelocityToRef(this.angularVelocity);
            const lateralGForce = this.angularVelocity.y; // Assuming y-axis is up-down, adjust based on your coordinate system
            // ..
            const signedLateralGForce = BABYLON.Tools.ToDegrees(lateralGForce);
            const absoluteLateralGForce = Math.abs(signedLateralGForce);
            // ..
            return (signed === true) ? signedLateralGForce : absoluteLateralGForce;
        }
        /** Gets the current vehicle lateral slip angle in radians. */
        getCurrentSlipRadians(signed) {
            const vehicle = this.raycastVehicle;
            if (vehicle == null)
                return 0;
            // ..
            // Calculate the vehicle's lateral acceleration for cornering effects
            // ..
            this.transform.physicsBody.getAngularVelocityToRef(this.angularVelocity);
            const lateralGForce = this.angularVelocity.y; // Assuming y-axis is up-down, adjust based on your coordinate system
            // ..
            const signedLateralGForce = lateralGForce;
            const absoluteLateralGForce = Math.abs(signedLateralGForce);
            // ..
            return (signed === true) ? signedLateralGForce : absoluteLateralGForce;
        }
        /** Drives the raycast vehicle with the specfied movement properties. */
        drive(throttle, steering, braking, donuts, booster = 0, autopilot = false, nos = false) {
            const deltaTime = this.getDeltaSeconds();
            this.currentForward = BABYLON.Scalar.Clamp(throttle, -1, 1);
            this.currentTurning = BABYLON.Scalar.Clamp(steering, -1, 1);
            this.currentDonuts = donuts;
            this.currentSkidding = braking;
            this.currentBoosting = (nos === true && this.powerBooster === true && this.wheelBurnout === false && this.boostSpeedTimer > 0 && this.americanSpeed >= this.minBoosterSpeed); // TODO: VALIDATE WHEN CAN REALLY GO INTO BOOST MODE
            this.currentSlipAngle = this.getCurrentSlipAngle(true);
            this.targetDrivePower = (this.currentBoosting === true) ? this.boosterCoefficient : (this.powerCoefficient + booster);
            this.currentDrivePower = BABYLON.Scalar.Lerp(this.currentDrivePower, this.targetDrivePower, (this.powerChangeRate * deltaTime));
            WM.PrintToScreen("MPH: " + this.americanSpeed.toFixed(0) + " --> RPM: " + this.engineRPM.toFixed(0) + " --> Gear: " + this.gearIndex.toFixed(0) + " --> Power: " + this.currentDrivePower.toFixed(2) + " --> Boost Time: " + this.boostSpeedTimer.toFixed(2) + " --> Donut Meter: " + this.donutMeter.toFixed(2) + " --> Burnout Meter: " + this.burnoutMeter.toFixed(2));
            // ..
            // Update Driving System
            // ..
            this.handBraking = (this.getCurrentSkidding() === true && this.handBrakingForce > 0);
            if (this.handBraking === true) {
                this.handBrakingTimer += deltaTime;
            }
            else {
                this.handBrakingTimer = 0;
            }
            if (this._rigidbody == null || this.raycastVehicle == null)
                return;
            if (this.FRONT_LEFT >= 0 && this.FRONT_RIGHT >= 0 && this.BACK_LEFT >= 0 && this.BACK_RIGHT >= 0) {
                this.engineForce = 0;
                this.wheelBrakingForce = 0;
                this.frontWheelPower = 0;
                this.backWheelPower = 0;
                // ..
                // Update Engine Forces
                // ..
                const throttleSpeed = (this.throttleEngineSpeed > 0) ? this.throttleEngineSpeed : this.getTopEngineSpeed();
                const gearShiftRatio = (this.gearBoxShiftRatios != null && this.gearBoxShiftRatios.length > this.gearIndex) ? this.gearBoxShiftRatios[this.gearIndex] : 1.0;
                const finalGearRatio = (gearShiftRatio * this.differentialRatio * this.transmissionRatio);
                const engineMotorTorque = this.getVehicleEngineTorque(this.engineRPM, this.currentDrivePower) * Math.abs(this.currentForward);
                const allowedEnginePower = (engineMotorTorque * finalGearRatio);
                let allowedBrakingForce = BABYLON.Scalar.Lerp(this.minBrakingForce, this.maxBrakingForce, this.gradientSpeed) * Math.abs(this.currentForward);
                if (this.currentForward > 0 && this.wheelBurnout === true && this.wheelDonuts === true) {
                    this.engineForce = allowedEnginePower;
                }
                else {
                    if (this.currentForward > 0) { // Forward
                        // TODO - Support Right Handed
                        if (this.forwardSpeed < -1)
                            this.wheelBrakingForce = allowedBrakingForce;
                        else
                            this.engineForce = allowedEnginePower;
                    }
                    else if (this.currentForward < 0) { // Reverse
                        // TODO - Support Right Handed
                        if (this.forwardSpeed > 1)
                            this.wheelBrakingForce = allowedBrakingForce;
                        else
                            this.engineForce = -(allowedEnginePower * this.maxReversePower);
                    }
                    else { // Static
                        this.engineForce = 0;
                        this.wheelBrakingForce = 10;
                    }
                }
                // ..
                // Slow Down Boost Power
                // ..
                if (this.currentBoosting === false && this.americanSpeed > this.topEngineSpeed) {
                    this.engineForce = 0;
                    this.wheelBrakingForce = (allowedBrakingForce * 1.0);
                }
                // ..
                // Update Vehicle Braking
                // ..
                let engineBrake = 0;
                if (this.shiftingTime > 0 || this.americanSpeed > throttleSpeed) {
                    engineBrake = this.shiftingBrake;
                    this.engineForce = 0;
                }
                // ..
                // Update Vehicle Steering
                // ..
                let visualSteerBoost = 0;
                let ackermanSteerLeft = 0;
                let ackermanSteerRight = 0;
                let turningRadius = BABYLON.Scalar.Lerp(this.ackermanTurnRadius, this.ackermanMaxRadius, this.gradientSpeed);
                let steeringBoost = (Math.abs(this.currentTurning) >= 0.02); // Note: Max Range (0.02 - 0.04)
                let steeringRadius = (this.currentForward > 0 && this.wheelBurnout === true && this.wheelDonuts === true) ? this.donutTurningRadius : (turningRadius * this.ackermanTurnFactor); // Note: Smaller Steering Radius Equals Sharper Turning
                let steeringAmount = BABYLON.Scalar.Lerp(this.lowSpeedSteering, this.highSpeedSteering, this.gradientSpeed);
                let steeringGradient = (steeringAmount * deltaTime);
                let currentSlipRadians = this.getCurrentSlipRadians(true);
                // ..
                // Use Ackerman Steering Formulas
                // ..
                if (this.currentTurning > 0) { // Right
                    if (this.maxSteerBoost > 0 && steeringBoost === true)
                        visualSteerBoost = BABYLON.Tools.ToRadians(this.maxSteerBoost);
                    ackermanSteerLeft = Math.atan(this.ackermanWheelBase / (steeringRadius + (this.ackermanRearTrack / 2))) * this.currentTurning;
                    ackermanSteerRight = Math.atan(this.ackermanWheelBase / (steeringRadius - (this.ackermanRearTrack / 2))) * this.currentTurning;
                }
                else if (this.currentTurning < 0) { // Left
                    if (this.maxSteerBoost > 0 && steeringBoost === true)
                        visualSteerBoost = -BABYLON.Tools.ToRadians(this.maxSteerBoost);
                    ackermanSteerLeft = Math.atan(this.ackermanWheelBase / (steeringRadius - (this.ackermanRearTrack / 2))) * this.currentTurning;
                    ackermanSteerRight = Math.atan(this.ackermanWheelBase / (steeringRadius + (this.ackermanRearTrack / 2))) * this.currentTurning;
                }
                else {
                    visualSteerBoost = 0;
                    ackermanSteerLeft = 0;
                    ackermanSteerRight = 0;
                }
                if (this.wheelBurnout === true && this.wheelDonuts === true) {
                    ackermanSteerLeft *= this.maxBurnoutFactor;
                    ackermanSteerRight *= this.maxBurnoutFactor;
                }
                else if (autopilot === false) { // Assisted
                    const smoothSteerFactor = BABYLON.Scalar.Lerp(1.0, this.topSpeedDampener, this.gradientSpeed);
                    ackermanSteerLeft *= smoothSteerFactor;
                    ackermanSteerRight *= smoothSteerFactor;
                }
                // ..
                // Smooth Physics Steering Angles
                // ..
                this.physicsSteerAngleL = BABYLON.Scalar.Lerp(this.physicsSteerAngleL, ackermanSteerLeft, steeringGradient);
                this.physicsSteerAngleR = BABYLON.Scalar.Lerp(this.physicsSteerAngleR, ackermanSteerRight, steeringGradient);
                // ..
                // Smooth Visual Steering Angles
                // ..
                this.visualSteerBoostL = (ackermanSteerLeft + visualSteerBoost);
                this.visualSteerBoostR = (ackermanSteerRight + visualSteerBoost);
                if (this.wheelBurnout === true && this.wheelDonuts === true) {
                    this.visualSteerBoostL *= 0.5;
                    this.visualSteerBoostR *= 0.5;
                }
                if (this.overSteerSpeed > 0 && this.handBraking === true && this.handBrakingTimer > this.overSteerTimeout) {
                    this.visualSteerBoostL *= -1; // Note: Invert Over Steering Angle
                    this.visualSteerBoostR *= -1; // Note: Invert Over Steering Angle
                }
                this.visualSteerAngleL = BABYLON.Scalar.Lerp(this.visualSteerAngleL, this.visualSteerBoostL, steeringGradient);
                this.visualSteerAngleR = BABYLON.Scalar.Lerp(this.visualSteerAngleR, this.visualSteerBoostR, steeringGradient);
                // ..
                // Smooth Steering Wheel Angles
                // ..
                let steeringAngleBoost = 2.0;
                let steeringAngleFactor = Math.abs(this.currentTurning) * steeringAngleBoost;
                if (this.currentTurning > 0) { // Right
                    steeringAngleFactor = BABYLON.Scalar.Clamp(steeringAngleFactor, 0, 1);
                }
                else if (this.currentTurning < 0) { // Left
                    steeringAngleFactor = -BABYLON.Scalar.Clamp(steeringAngleFactor, 0, 1);
                }
                let fixedCurrentTurning = (this.overSteerSpeed > 0 && this.handBraking === true && this.handBrakingTimer > this.overSteerTimeout) ? steeringAngleFactor : -steeringAngleFactor;
                this.animatorSteerAngle = BABYLON.Scalar.Lerp(this.animatorSteerAngle, fixedCurrentTurning, (this.maxSteeringSpeed * deltaTime));
                // ..
                // ..
                if (this.steeringWheelHub != null) {
                    if (this.steeringWheelHub.rotationQuaternion == null) {
                        this.steeringWheelHub.rotationQuaternion = BABYLON.Quaternion.FromEulerVector(this.steeringWheelHub.rotation);
                    }
                    const degreesSteerAngle = (this.animatorSteerAngle * this.maxSteeringAngle);
                    const radiansSteerAngle = BABYLON.Tools.ToRadians(degreesSteerAngle);
                    const xaxis = (this.steeringWheelAxis === 0) ? radiansSteerAngle : 0;
                    const yaxis = (this.steeringWheelAxis === 1) ? radiansSteerAngle : 0;
                    const zaxis = (this.steeringWheelAxis === 2) ? radiansSteerAngle : 0;
                    BABYLON.Quaternion.SlerpToRef(this.steeringWheelHub.rotationQuaternion, BABYLON.Quaternion.FromEulerAngles(xaxis, yaxis, zaxis), (this.maxSteeringSpeed * deltaTime), this.steeringWheelHub.rotationQuaternion);
                }
                if (this._animator != null)
                    this._animator.setFloat("TurnAngle", this.animatorSteerAngle); // Note: Fixed Animation Turning Angle (-1 To +1)
                // ..
                // Update Raycast Vehicle Controls
                // ..
                let updateFriction = true;
                if (this.handBraking === true) {
                    this.wheelBurnout = false;
                    this.wheelDonuts = false;
                    this.burnoutTimer = 0;
                    this._donutExtraRotation.set(0, 0, 0);
                    // ..
                    // Validate Wheel Skidding Mode
                    // ..
                    if (this.raycastVehicle.lockedWheelIndexes == null)
                        this.raycastVehicle.lockedWheelIndexes = [this.BACK_LEFT, this.BACK_RIGHT];
                    if (this.americanSpeed >= 1) {
                        if (this.wheelSkidding === false) {
                            this.wheelSkidding = true;
                            this.skiddingTime = this.brakeRecoveryDelay;
                            const wheelSkidFriction = 0; // Default Wheel Skidding Frintion Drop Value
                            if (this.m_frontLeftWheel != null)
                                this.m_frontLeftWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_frontRightWheel != null)
                                this.m_frontRightWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_backLeftWheel != null)
                                this.m_backLeftWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_backRightWheel != null)
                                this.m_backRightWheel.frictionSlip = wheelSkidFriction;
                            this.frontLeftFrictionPenalty = false;
                            this.frontRightFrictionPenalty = false;
                            this.rearLeftFrictionPenalty = false;
                            this.rearRightFrictionPenalty = false;
                            updateFriction = false; // Note: Disable Friction Lerping This Frame
                        }
                    }
                    // ..
                    // FIXME: Update Vehicle Wheel Information
                    // ..
                    // this.updateCurrentBrakeDamping(this.linearBrakingForce, this.angularBrakingForce);
                    // if (updateFriction === true) this.updateCurrentFrictionSlip(deltaTime * this.skiddingLerpSpeed);
                    if (this.skiddingTime <= 0) {
                        this.updateLinearBrakeDamping(this.linearBrakingForce, (deltaTime * this.brakeRecoverySpeed));
                        this.updateAngularBrakeDamping(this.angularBrakingForce, (deltaTime * this.brakeRecoverySpeed));
                        if (updateFriction === true && this.americanSpeed <= 0.25)
                            this.updateCurrentFrictionSlip(deltaTime * this.skidRecoverySpeed);
                    }
                    // ..
                    this.updateCurrentRotationDelta(0);
                    this.updateCurrentRotationBoost(0);
                    // ..
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleR, this.FRONT_RIGHT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleR, this.FRONT_RIGHT);
                    // ..
                    // Add Additional Angular Rotation For Skidding
                    // ..
                    if (this.forwardSpeed >= 0 && this.handBrakingTimer < this.skidRotationTimeout) {
                        let extraSkidRotation = (Math.abs(currentSlipRadians) * (PROJECT.StandardCarController.DEFAULT_SKID_FACTOR + this.extraRotationSpeed));
                        if (extraSkidRotation !== 0) {
                            extraSkidRotation = BABYLON.Scalar.Clamp(extraSkidRotation, 0, this.maxRotationSpeed) * this.currentTurning;
                            this._skidExtraRotation.set(0, extraSkidRotation, 0);
                            this.transform.physicsBody.setAngularVelocity(this._skidExtraRotation);
                            //WM.PrintToScreen("Extra Skid Rotation: " + this._skidExtraRotation.y.toFixed(2), "green");
                        }
                    }
                    // ..
                    this.raycastVehicle.setEngineForce(0, this.FRONT_LEFT);
                    this.raycastVehicle.setEngineForce(0, this.FRONT_RIGHT);
                    this.raycastVehicle.setEngineForce(0, this.BACK_LEFT);
                    this.raycastVehicle.setEngineForce(0, this.BACK_RIGHT);
                    // ..
                    const frontBrakeForce = (this.handBrakingForce * 0.0001);
                    this.raycastVehicle.setBrakingForce(frontBrakeForce, this.FRONT_LEFT);
                    this.raycastVehicle.setBrakingForce(frontBrakeForce, this.FRONT_RIGHT);
                    // ..
                    const extraBrakeForce = (this.handBrakingForce * 10000);
                    this.raycastVehicle.setBrakingForce(extraBrakeForce, this.BACK_LEFT);
                    this.raycastVehicle.setBrakingForce(extraBrakeForce, this.BACK_RIGHT);
                }
                else {
                    if (this.raycastVehicle.lockedWheelIndexes != null) {
                        this.raycastVehicle.lockedWheelIndexes = null;
                        this.updateCurrentRotationDelta(0);
                        this.updateCurrentRotationBoost(0);
                    }
                    this.wheelSkidding = false;
                    this.skiddingTime = 0;
                    this.burnoutCoefficient = BABYLON.Scalar.Clamp(this.burnoutCoefficient, 1, 30);
                    this.burnoutTriggerMark = BABYLON.Scalar.Clamp(this.burnoutTriggerMark, 1, 20);
                    // ..
                    const isBurnoutSpeed = (this.americanSpeed <= this.burnoutTriggerMark);
                    const isFullThrottle = (this.currentForward < -0.9 || this.currentForward > 0.9);
                    const isFullTurning = (this.currentTurning < -0.9 || this.currentTurning > 0.9);
                    let wheelLerpSpeed = (deltaTime * this.frictionLerpSpeed);
                    let wheelBoostSpeed = 0; // Default Zero Wheel Rotation Boost
                    // ..
                    // Validate Wheel Burnout Mode
                    // ..
                    if (this.enableAutoBurnouts === true && this.burnoutTimer <= 0 && isFullThrottle === true && isBurnoutSpeed === true) {
                        this.burnoutTimer = (this.burnoutTimeDelay * 0.25); // Note: 25 Percent Slipping Time
                        this.wheelDonuts = false;
                        this.wheelBurnout = true;
                        this._donutExtraRotation.set(0, 0, 0);
                    }
                    // ..
                    // Validate Wheel Burnout Timers
                    // ..
                    if (this.restoreTimer > 0) {
                        this.restoreTimer -= deltaTime;
                        if (this.restoreTimer < 0)
                            this.restoreTimer = 0;
                        wheelLerpSpeed *= this.burnoutLerpSpeed;
                    }
                    if (this.cooldownTimer > 0) {
                        this.cooldownTimer -= deltaTime;
                        if (this.cooldownTimer < 0)
                            this.cooldownTimer = 0;
                    }
                    if (this.wheelDonuts === true) {
                        this.donutSpinTime += deltaTime;
                        if (isFullTurning === false) {
                            this.burnoutTimer = 0;
                        }
                    }
                    else {
                        this.donutSpinTime = 0;
                    }
                    // ..
                    // Validate Wheel Drive Burnout Mode
                    // ..
                    if (this.burnoutTimer > 0 && isFullThrottle === true) {
                        wheelBoostSpeed = 0.2;
                        if (this.burnoutCoefficient >= 1.0)
                            this.engineForce *= this.burnoutCoefficient;
                        if (this.m_frontLeftWheel != null)
                            this.m_frontLeftWheel.frictionSlip = (this.burnoutFrictionSlip);
                        if (this.m_frontRightWheel != null)
                            this.m_frontRightWheel.frictionSlip = (this.burnoutFrictionSlip);
                        if (this.m_backLeftWheel != null)
                            this.m_backLeftWheel.frictionSlip = this.burnoutFrictionSlip;
                        if (this.m_backRightWheel != null)
                            this.m_backRightWheel.frictionSlip = this.burnoutFrictionSlip;
                        this.frontLeftFrictionPenalty = false;
                        this.frontRightFrictionPenalty = false;
                        this.rearLeftFrictionPenalty = false;
                        this.rearRightFrictionPenalty = false;
                        updateFriction = false; // Note: Disable Friction Lerping This Frame
                        // ..
                        this.burnoutTimer -= deltaTime;
                        if (this.wheelBurnout === true && this.burnoutTimer <= 0 && isFullTurning === true && this.cooldownTimer <= 0 && this.currentForward > 0 && this.currentDonuts === true) {
                            this.burnoutTimer = 0.01; // Note: Use Fixed Donut Burnout Time Extension
                            this.wheelDonuts = true; // Note: Disable Wheel Donuts Extra Power Needed
                        }
                    }
                    else {
                        if (this.americanSpeed >= this.minPenaltySpeed && this.frictionWheelSlip > 0) {
                            if (this.frontLeftFrictionLerping === false && this.frontLeftContactTag === this.penaltyGroundTag) {
                                if (this.m_frontLeftWheel != null && this.m_frontLeftWheel.defaultFriction != null) {
                                    const frontLeftFriction = this.m_frontLeftWheel.defaultFriction * (this.frictionWheelSlip * 1.25);
                                    this.m_frontLeftWheel.frictionSlip = frontLeftFriction;
                                    this.frontLeftFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.frontRightFrictionLerping === false && this.frontRightContactTag === this.penaltyGroundTag) {
                                if (this.m_frontRightWheel != null && this.m_frontRightWheel.defaultFriction != null) {
                                    const frontRightFriction = this.m_frontRightWheel.defaultFriction * (this.frictionWheelSlip * 1.25);
                                    this.m_frontRightWheel.frictionSlip = frontRightFriction;
                                    this.frontRightFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.rearLeftFrictionLerping === false && this.rearLeftContactTag === this.penaltyGroundTag) {
                                if (this.m_backLeftWheel != null && this.m_backLeftWheel.defaultFriction != null) {
                                    const backLeftFriction = this.m_backLeftWheel.defaultFriction * this.frictionWheelSlip;
                                    this.m_backLeftWheel.frictionSlip = backLeftFriction;
                                    this.rearLeftFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.rearRightFrictionLerping === false && this.rearRightContactTag === this.penaltyGroundTag) {
                                if (this.m_backRightWheel != null && this.m_backRightWheel.defaultFriction != null) {
                                    const backRightFriction = this.m_backRightWheel.defaultFriction * this.frictionWheelSlip;
                                    this.m_backRightWheel.frictionSlip = backRightFriction;
                                    this.rearRightFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                        }
                        // ..
                        this.burnoutTimer = 0; // Note: Clear Burnout Timer 
                        this.donutSpinTime = 0; // Note: Clear Donut Spin Time
                        if (this.wheelDonuts === true) {
                            this.wheelDonuts = false;
                            this.cooldownTimer = (this.burnoutTimeDelay * 2); // Note: 200 Percent Cooldown Time
                            this._donutExtraRotation.set(0, 0, 0);
                        }
                        if (this.wheelBurnout === true) {
                            this.wheelBurnout = false;
                            this.restoreTimer = (this.burnoutTimeDelay * 0.75); // Note: 75 Percent Restoring Time
                        }
                    }
                    // ..
                    // Validate Wheel Drive Power Force
                    // ..
                    if (this.wheelBurnout === true && this.wheelDonuts === true) {
                        this.engineForce *= this.donutEngineFactor;
                        this.frontWheelPower = (this.engineForce * 0.1); // Note: 10 Percent Engine Power Force
                    }
                    else if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                        this.frontWheelPower = this.engineForce;
                    }
                    if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                        this.backWheelPower = this.engineForce;
                    }
                    // ..
                    // KEEP-FOR-REFERNCE: Update Vehicle Wheel Information
                    // ..
                    // if (this.getFootBraking() === true) this.updateCurrentBrakeDamping((this.linearBrakingForce * 0.2), (this.angularBrakingForce * 0.2)); // Note: 20 Percent Linear Brake Force
                    // else if (this.throttleBrakingForce > 0) this.updateCurrentBrakeDamping(this.throttleBrakingForce, this.angularDamping);
                    // else this.updateCurrentBrakeDamping(this.linearDamping, this.angularDamping);
                    // if (updateFriction === true) this.updateCurrentFrictionSlip(wheelLerpSpeed);
                    // this.updateCurrentRotationBoost(wheelBoostSpeed);
                    // ..
                    if (this.getFootBraking() === true)
                        this.updateCurrentBrakeDamping((this.linearBrakingForce * 0.05), (this.angularBrakingForce * 0.05)); // Note: 5 Percent Linear Brake Force
                    else if (this.throttleBrakingForce > 0)
                        this.updateCurrentBrakeDamping(this.throttleBrakingForce, this.angularDamping);
                    else if (this.engineForce !== 0)
                        this.updateCurrentBrakeDamping(engineBrake, this.angularDamping); // WTF: Engine Brake Force - ???
                    else
                        this.updateCurrentBrakeDamping(this.linearDamping, this.angularDamping);
                    // ..
                    if (updateFriction === true)
                        this.updateCurrentFrictionSlip(wheelLerpSpeed);
                    this.updateCurrentRotationBoost(wheelBoostSpeed);
                    // ..
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleR, this.FRONT_RIGHT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleR, this.FRONT_RIGHT);
                    // ..
                    if (this.forwardSpeed >= 0 && this.wheelBurnout === true && this.wheelDonuts === true) {
                        const extraDonutRotation = (this.currentTurning * this.donutRotateFactor);
                        if (extraDonutRotation !== 0) {
                            const smoothDonutScaling = 1.5; // Note: Hard Coded Donut Scaling - Use Default Donut Factor To Scale Gradient
                            const smoothDonutGradient = (deltaTime * smoothDonutScaling * this.donutLerpingSpeed * PROJECT.StandardCarController.DEFAULT_DONUT_FACTOR);
                            const smoothDonutRotation = BABYLON.Scalar.Lerp(this._donutExtraRotation.y, extraDonutRotation, smoothDonutGradient);
                            this._donutExtraRotation.set(0, smoothDonutRotation, 0);
                            this.transform.physicsBody.setAngularVelocity(this._donutExtraRotation);
                            //WM.PrintToScreen("Extra Donut Rotation: " + this._donutExtraRotation.y.toFixed(2), "red");
                        }
                    }
                    // ..
                    this.raycastVehicle.setEngineForce(this.frontWheelPower, this.FRONT_LEFT);
                    this.raycastVehicle.setEngineForce(this.frontWheelPower, this.FRONT_RIGHT);
                    this.raycastVehicle.setEngineForce(this.backWheelPower, this.BACK_LEFT);
                    this.raycastVehicle.setEngineForce(this.backWheelPower, this.BACK_RIGHT);
                    // ..
                    if (this.maxFrontBraking > 0) {
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce * this.maxFrontBraking, this.FRONT_LEFT);
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce * this.maxFrontBraking, this.FRONT_RIGHT);
                    }
                    else {
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.FRONT_LEFT);
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.FRONT_RIGHT);
                    }
                    this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.BACK_LEFT);
                    this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.BACK_RIGHT);
                }
            }
            // ..
            // Update Driving Props
            // ..
            this.syncVehicleState(deltaTime);
            this.syncVehicleTilting(deltaTime);
        }
        syncVehicleState(deltaTime) {
            const gearCount = this.getGearShiftRatioCount();
            if (this.skiddingTime > 0) {
                this.skiddingTime -= deltaTime;
                if (this.skiddingTime < 0)
                    this.skiddingTime = 0;
            }
            if (this.shiftingTime > 0) {
                this.shiftingTime -= deltaTime;
                if (this.shiftingTime < 0)
                    this.shiftingTime = 0;
            }
            if (this.currentBoosting === true) {
                if (this.boostSpeedTimer > 0) {
                    this.boostSpeedTimer -= deltaTime;
                    if (this.boostSpeedTimer < 0)
                        this.boostSpeedTimer = 0;
                }
            }
            if (this._rigidbody != null && this.raycastVehicle != null) {
                const deadSpeed = 0.2; // Note: Dead Movement Speed Threshold
                this.forwardSpeed = this.raycastVehicle.getRawCurrentSpeedKph() * PROJECT.StandardCarController.DEFAULT_SPEED_FACTOR;
                if (Math.abs(this.forwardSpeed) < deadSpeed)
                    this.forwardSpeed = 0;
                // ..
                this.absoluteSpeed = this.raycastVehicle.getAbsCurrentSpeedKph() * PROJECT.StandardCarController.DEFAULT_SPEED_FACTOR;
                if (this.absoluteSpeed < deadSpeed)
                    this.absoluteSpeed = 0;
                // ..
                this.americanSpeed = (this.absoluteSpeed * BABYLON.Toolkit.System.Kph2Mph);
                this.gradientSpeed = BABYLON.Scalar.Clamp((this.absoluteSpeed / this.getTopEngineSpeed())); // Note: Absoulte Speed To Dampen Normalized Speed
                // this.gradientSpeed = BABYLON.Scalar.Clamp((this.americanSpeed / this.getTopEngineSpeed())); // Note: American Speed To Dampen Normalized Speed
                // ..
                if (this.gearBoxShiftRatios != null && this.gearIndex >= 0 && this.gearIndex < gearCount) {
                    const minimumDelta = Math.min(Math.max(deltaTime, 1 / 200), 1);
                    const wheelDiameter = (this.wheelRadius * 2 * BABYLON.Toolkit.System.Meter2Inch);
                    const finalGearRatio = (this.gearBoxShiftRatios[this.gearIndex] * this.differentialRatio * this.transmissionRatio);
                    const engineLevelFactor = 336;
                    // ..
                    // Update Engine Revolutions (TODO - No Shifting Donut Mode - RPM Bounce Boosting)
                    // ..
                    this.downShift = (this.gearBoxShiftRanges != null && this.gearBoxShiftRanges.length === this.gearBoxShiftRatios.length) ? this.gearBoxShiftRanges[this.gearIndex] : 1000;
                    this.clutchSlip = BABYLON.Scalar.Lerp(this.clutchSlip, 0, 1 - Math.pow(0.01, minimumDelta));
                    this.engineRPM = ((this.americanSpeed * finalGearRatio * engineLevelFactor) / wheelDiameter);
                    /////////////////////////////////////////////////////////
                    // TODO: Lock High Pitching RPM While Skidding & Donuts
                    // TODO: FIX THE SHIFTING RPM GLITCH
                    /////////////////////////////////////////////////////////
                    //if (this.wheelDonuts === true) {
                    //    this.pitchRPM = 5000; //this.maxDonutPitch;
                    //} else {
                    this.pitchRPM = BABYLON.Scalar.Lerp(this.shiftRPM, this.engineRPM, (1 - this.clutchSlip)) + this.MIN_RPM;
                    //}
                    /////////////////////////////////////////////////////////
                    /* Penny - Change Gears
                    float speedPercentage = Mathf.Abs(currentSpeed / maxSpeed);
                    float upperGearMax = (1 / (float)numGears) * (currentGear + 1);
                    float downGearMax = (1 / (float)numGears) * currentGear;
            
                    if (currentGear > 0 && speedPercentage < downGearMax)
                        currentGear--;
            
                    if (speedPercentage > upperGearMax && (currentGear < (numGears - 1)))
                        currentGear++;
                    */
                    // Note: Disable Shifting Gears For Boosters And Donuts
                    let enableShifting = (this.currentBoosting === false && this.currentDonuts === false);
                    if (this.americanSpeed < 5) {
                        this.gearIndex = 0;
                        this.shiftingSide = BABYLON.Toolkit.Utilities.GetRandomRange(-10, 10) > 0 ? 1 : -1;
                    }
                    else {
                        if (this.engineRPM > this.gearBoxShiftChange) {
                            // DEPRECIATED: Moved To If Statement Below
                            // this.shiftRPM = this.engineRPM;
                            // this.clutchSlip = 1.0;
                            // this.shiftingTime = this.gearBoxShiftDelay;
                            if (this.gearIndex < (gearCount - 1)) {
                                this.shiftRPM = this.engineRPM;
                                this.clutchSlip = 1.0;
                                this.shiftingTime = (enableShifting === true) ? this.gearBoxShiftDelay : 0;
                                this.shiftingSide = BABYLON.Toolkit.Utilities.GetRandomRange(-10, 10) > 0 ? 1 : -1;
                                this.gearIndex++;
                            }
                        }
                        else if (this.engineRPM < this.downShift) {
                            // DEPRECIATED: Moved To If Statement Below
                            // this.shiftRPM = this.engineRPM;
                            // this.clutchSlip = 1.0;
                            // this.shiftingTime = 0;
                            if (this.gearIndex > 0) {
                                this.shiftRPM = this.engineRPM;
                                this.clutchSlip = 1.0;
                                this.shiftingTime = 0;
                                this.shiftingSide = BABYLON.Toolkit.Utilities.GetRandomRange(-10, 10) > 0 ? 1 : -1;
                                this.gearIndex--;
                            }
                        }
                    }
                    ///////////////////////////////////////
                    // Double Check Gear Index - ???
                    ///////////////////////////////////////
                    if (this.gearIndex < 0)
                        this.gearIndex = 0;
                    else if (this.gearIndex >= gearCount)
                        this.gearIndex = (gearCount - 1);
                }
            }
            // Update Engine Sound Pitch
            this.enginePitchLevel = (this.getCurrentEnginePitch() * PROJECT.StandardCarController.DEFAULT_PITCH_FACTOR * this.gearBoxMultiplier);
            if (this.playVehicleSounds === true) {
                if (this._engineAudioSource != null) {
                    const engineSoundClip = this._engineAudioSource.getSoundClip();
                    if (engineSoundClip != null)
                        engineSoundClip.setPlaybackRate(this.enginePitchLevel);
                }
            }
            // Update Booster Sound Pitch
            this.POWER_BOOST_PITCH = (this.currentBoosting === true) ? 1 : 0;
            if (this.playVehicleSounds === true) {
                if (this._nosAudioSource != null) {
                    const nosSoundClip = this._nosAudioSource.getSoundClip();
                    if (nosSoundClip != null)
                        nosSoundClip.setPlaybackRate(this.POWER_BOOST_PITCH);
                }
            }
            // Update Smoke Instensity
            this.smokeDonuts = BABYLON.Scalar.Clamp(this.smokeDonuts, 1, 10);
            this.smokeIntensityFactor = this.smokeIntensity;
            if (this.wheelBurnout === true && this.wheelDonuts === true)
                this.smokeIntensityFactor *= this.smokeDonuts;
            /* DEBUG: WHEEL COLLISIONS
            const fl_wheel = this.raycastVehicle.getWheelInfo(this.FRONT_LEFT);
            const fr_wheel = this.raycastVehicle.getWheelInfo(this.FRONT_RIGHT);
            const bl_wheel = this.raycastVehicle.getWheelInfo(this.BACK_LEFT);
            const br_wheel = this.raycastVehicle.getWheelInfo(this.BACK_RIGHT);
            let fl_collide:string = "";
            if (fl_wheel.raycastResult != null && fl_wheel.raycastResult.body != null) {
                fl_collide = fl_wheel.raycastResult.body.transformNode.name;
            }
            let fr_collide:string = "";
            if (fr_wheel.raycastResult != null && fr_wheel.raycastResult.body != null) {
                fr_collide = fr_wheel.raycastResult.body.transformNode.name;
            }

            let bl_collide:string = "";
            if (bl_wheel.raycastResult != null && bl_wheel.raycastResult.body != null) {
                bl_collide = bl_wheel.raycastResult.body.transformNode.name;
            }
            let br_collide:string = "";
            if (br_wheel.raycastResult != null && br_wheel.raycastResult.body != null) {
                br_collide = br_wheel.raycastResult.body.transformNode.name;
            }
            console.log("Wheel Collides - FL: " + fl_collide + " --> FR: " +  fr_collide + " --> BL: " + bl_collide + " --> BR: " + br_collide);
            */
            // Update Wheel Skidding Info
            this.SKID_FL = 0, this.SKID_FR = 0, this.SKID_RL = 0, this.SKID_RR = 0;
            if (this.m_frontLeftWheel != null) {
                const wheelContactFL = (this.m_frontLeftWheel.raycastResult.body != null);
                this.SKID_FL = this.updateCurrentSkidInfo(this.m_frontLeftWheel);
                if (this.SKID_FL < this.skidThreashold)
                    this.SKID_FL = 0;
                if (this.SKID_FL > 0 && wheelContactFL === true) {
                    const skidPosFL = this.m_frontLeftWheel.raycastResult.hitPointWorld;
                    const skidNormFL = this.m_frontLeftWheel.raycastResult.hitNormalWorld;
                    const skidScaleFL = BABYLON.Scalar.Normalize(this.SKID_FL, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosFL.addInPlace(this.m_velocityOffset);
                    this.m_frontLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosFL, skidNormFL, skidScaleFL, this.m_frontLeftWheelSkid);
                    if (this.wheelDonuts === true)
                        this.donutMeter += this.SKID_FL;
                    this.burnoutMeter += this.SKID_FL;
                    if (this.frontLeftWheelParticle != null) {
                        if (this.frontLeftWheelParticle.isStarted() === false) {
                            this.frontLeftWheelParticle.start();
                        }
                        const smoke_FL = this.SKID_FL * this.SKID_FL;
                        this.frontLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FL;
                        this.frontLeftWheelParticle.minSize = 0.2 * smoke_FL + 0.2;
                        this.frontLeftWheelParticle.maxSize = 1.5 * smoke_FL + 1.2;
                    }
                }
                else {
                    if (this.frontLeftWheelParticle != null)
                        this.frontLeftWheelParticle.emitRate = 0;
                    this.m_frontLeftWheelSkid = -1;
                }
            }
            if (this.m_frontRightWheel != null) {
                const wheelContactFR = (this.m_frontRightWheel.raycastResult.body != null);
                this.SKID_FR = this.updateCurrentSkidInfo(this.m_frontRightWheel);
                if (this.SKID_FR < this.skidThreashold)
                    this.SKID_FR = 0;
                if (this.SKID_FR > 0 && wheelContactFR === true) {
                    const skidPosFR = this.m_frontRightWheel.raycastResult.hitPointWorld;
                    const skidNormFR = this.m_frontRightWheel.raycastResult.hitNormalWorld;
                    const skidScaleFR = BABYLON.Scalar.Normalize(this.SKID_FR, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosFR.addInPlace(this.m_velocityOffset);
                    this.m_frontRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosFR, skidNormFR, skidScaleFR, this.m_frontRightWheelSkid);
                    if (this.wheelDonuts === true)
                        this.donutMeter += this.SKID_FR;
                    this.burnoutMeter += this.SKID_FR;
                    if (this.frontRightWheelParticle != null) {
                        if (this.frontRightWheelParticle.isStarted() === false) {
                            this.frontRightWheelParticle.start();
                        }
                        const smoke_FR = this.SKID_FR * this.SKID_FR;
                        this.frontRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FR;
                        this.frontRightWheelParticle.minSize = 0.2 * smoke_FR + 0.2;
                        this.frontRightWheelParticle.maxSize = 1.5 * smoke_FR + 1.2;
                    }
                }
                else {
                    if (this.frontRightWheelParticle != null)
                        this.frontRightWheelParticle.emitRate = 0;
                    this.m_frontRightWheelSkid = -1;
                }
            }
            this.PITCH_FL = this.SKID_FL;
            this.PITCH_FR = this.SKID_FR;
            if (this.wheelBurnout == true || this.restoreTimer > 0) {
                this.PITCH_FL *= this.burnoutWheelPitch;
                this.PITCH_FR *= this.burnoutWheelPitch;
            }
            this.PITCH_FL *= 0.75; // 75% Skid For Front Wheels
            this.PITCH_FR *= 0.75; // 75% Skid For Front Wheels
            if (this.m_backLeftWheel != null) {
                const wheelContactBL = (this.m_backLeftWheel.raycastResult.body != null);
                this.SKID_RL = this.updateCurrentSkidInfo(this.m_backLeftWheel);
                if (this.SKID_RL < this.skidThreashold)
                    this.SKID_RL = 0;
                if (this.SKID_RL > 0 && wheelContactBL === true) {
                    const skidPosRL = this.m_backLeftWheel.raycastResult.hitPointWorld;
                    const skidNormRL = this.m_backLeftWheel.raycastResult.hitNormalWorld;
                    const skidScaleRL = BABYLON.Scalar.Normalize(this.SKID_RL, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosRL.addInPlace(this.m_velocityOffset);
                    this.m_backLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosRL, skidNormRL, skidScaleRL, this.m_backLeftWheelSkid);
                    if (this.wheelDonuts === true)
                        this.donutMeter += this.SKID_RL;
                    this.burnoutMeter += this.SKID_RL;
                    if (this.backLeftWheelParticle != null) {
                        if (this.backLeftWheelParticle.isStarted() === false) {
                            this.backLeftWheelParticle.start();
                        }
                        const smoke_RL = this.SKID_RL * this.SKID_RL;
                        this.backLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RL;
                        this.backLeftWheelParticle.minSize = 0.2 * smoke_RL + 0.2;
                        this.backLeftWheelParticle.maxSize = 1.5 * smoke_RL + 1.2;
                    }
                }
                else {
                    if (this.backLeftWheelParticle != null)
                        this.backLeftWheelParticle.emitRate = 0;
                    this.m_backLeftWheelSkid = -1;
                }
            }
            if (this.m_backRightWheel != null) {
                const wheelContactBR = (this.m_backRightWheel.raycastResult.body != null);
                this.SKID_RR = this.updateCurrentSkidInfo(this.m_backRightWheel);
                if (this.SKID_RR < this.skidThreashold)
                    this.SKID_RR = 0;
                if (this.SKID_RR > 0 && wheelContactBR === true) {
                    const skidPosRR = this.m_backRightWheel.raycastResult.hitPointWorld;
                    const skidNormRR = this.m_backRightWheel.raycastResult.hitNormalWorld;
                    const skidScaleRR = BABYLON.Scalar.Normalize(this.SKID_RR, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosRR.addInPlace(this.m_velocityOffset);
                    this.m_backRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosRR, skidNormRR, skidScaleRR, this.m_backRightWheelSkid);
                    if (this.wheelDonuts === true)
                        this.donutMeter += this.SKID_RR;
                    this.burnoutMeter += this.SKID_RR;
                    if (this.backRightWheelParticle != null) {
                        if (this.backRightWheelParticle.isStarted() === false) {
                            this.backRightWheelParticle.start();
                        }
                        const smoke_RR = this.SKID_RR * this.SKID_RR;
                        this.backRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RR;
                        this.backRightWheelParticle.minSize = 0.2 * smoke_RR + 0.2;
                        this.backRightWheelParticle.maxSize = 1.5 * smoke_RR + 1.2;
                    }
                }
                else {
                    if (this.backRightWheelParticle != null)
                        this.backRightWheelParticle.emitRate = 0;
                    this.m_backRightWheelSkid = -1;
                }
            }
            this.PITCH_RL = this.SKID_RL;
            this.PITCH_RR = this.SKID_RR;
            if (this.wheelBurnout == true || this.restoreTimer > 0) {
                this.PITCH_RL *= this.burnoutWheelPitch;
                this.PITCH_RR *= this.burnoutWheelPitch;
            }
            ///////////////////////////////////////////
            // Play Skid Audio Track
            ///////////////////////////////////////////
            this.WHEEL_SKID_PITCH = 0;
            if (this.PITCH_FL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FL;
            if (this.PITCH_FR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FR;
            if (this.PITCH_RL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RL;
            if (this.PITCH_RR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RR;
            if (this.playVehicleSounds === true) {
                if (this._skidAudioSource != null) {
                    const skidSoundClip = this._skidAudioSource.getSoundClip();
                    if (skidSoundClip != null)
                        skidSoundClip.setPlaybackRate(this.WHEEL_SKID_PITCH);
                }
            }
            ///////////////////////////////////////////
            // Vehicle Braking Lights Check
            ///////////////////////////////////////////
            if (this.brakeLightsMesh != null) {
                this.brakeLightsMesh.isVisible = this.isBraking();
            }
            ///////////////////////////////////////////
            // Vehicle Reverse Lights Check
            ///////////////////////////////////////////
            if (this.reverseLightsMesh != null) {
                this.reverseLightsMesh.isVisible = this.getReverseThrottle();
            }
            ///////////////////////////////////////////
            // Reset Skid Properties
            ///////////////////////////////////////////
            if (this.SKID_FL === 0 && this.SKID_FL === 0 && this.SKID_FL === 0 && this.SKID_FL === 0) {
                this.smokeIntensityFactor = 0;
            }
            ///////////////////////////////////////////
            // Post Network Attributes
            ///////////////////////////////////////////
            if (this.postNetworkAttributes == true && BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                const pitch_Attribute = this.getEnginePitchLevel();
                const brake_Attribute = this.isBraking() ? 1 : 0;
                const reverse_Attribute = this.getReverseThrottle() ? 1 : 0;
                const burnout_Attribute = (this.getCurrentBurnout() || this.getCurrentDonuts()) ? 1 : 0;
                const SKID_FL_Attribute = this.getFrontLeftSkid();
                const SKID_FR_Attribute = this.getFrontRightSkid();
                const SKID_RL_Attribute = this.getBackLeftSkid();
                const SKID_RR_Attribute = this.getBackRightSkid();
                const SPIN_FL_Transform = this.m_frontLeftWheel.spinner;
                const SPIN_FR_Transform = this.m_frontRightWheel.spinner;
                const SPIN_RL_Transform = this.m_backLeftWheel.spinner;
                const SPIN_RR_Transform = this.m_backRightWheel.spinner;
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 0, pitch_Attribute); // Pitch
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 1, brake_Attribute); // Brake
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 2, reverse_Attribute); // Reverse
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 3, burnout_Attribute); // Burnout
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 4, SKID_FL_Attribute); // SKID_FL
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 5, SKID_FR_Attribute); // SKID_FR
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 6, SKID_RL_Attribute); // SKID_RL
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 7, SKID_RR_Attribute); // SKID_RR
                if (SPIN_FL_Transform != null && SPIN_FL_Transform.rotationQuaternion != null) {
                    SPIN_FL_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_FL_Rotation);
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 8, this.SPIN_FL_Rotation.x); // SPIN_FL
                }
                else {
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 8, 0);
                }
                if (SPIN_FR_Transform != null && SPIN_FR_Transform.rotationQuaternion != null) {
                    SPIN_FR_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_FR_Rotation);
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 9, this.SPIN_FR_Rotation.x); // SPIN_FR
                }
                else {
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 9, 0);
                }
                if (SPIN_RL_Transform != null && SPIN_RL_Transform.rotationQuaternion != null) {
                    SPIN_RL_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_RL_Rotation);
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 10, this.SPIN_RL_Rotation.x); // SPIN_RL
                }
                else {
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 10, 0);
                }
                if (SPIN_RR_Transform != null && SPIN_RR_Transform.rotationQuaternion != null) {
                    SPIN_RR_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_RR_Rotation);
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 11, this.SPIN_RR_Rotation.x); // SPIN_RR
                }
                else {
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 11, 0);
                }
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 12, this.animatorSteerAngle); // Steering
            }
            ///////////////////////////////////////////
            // Write Transform Metadata
            ///////////////////////////////////////////
            this.writeTransformMetadata();
        }
        syncVehicleTilting(deltaTime) {
            const vehicle = this.raycastVehicle;
            if (vehicle == null || this.transform.physicsBody == null)
                return;
            if (this.movementTilting === true) {
                // Calculate the current and change in speed
                const currentSpeed = vehicle.getRawCurrentSpeedKph();
                const speedChange = (currentSpeed - this.previousSpeed);
                // Calculate the vehicle's lateral acceleration for cornering effects
                this.transform.physicsBody.getAngularVelocityToRef(this.angularVelocity);
                const lateralGForce = this.angularVelocity.y; // Assuming y-axis is up-down, adjust based on your coordinate system
                // Adjust pitch based on acceleration or braking
                if (speedChange > 0) { // Accelerating
                    this.currentPitch -= (this.forwardPitchFactor * Math.min(speedChange, 10) * deltaTime); // Scale down change and limit maximum effect
                }
                else if (speedChange < 0) { // Braking
                    if (this.getFootBraking() === true || this.getHandBraking() === true && this.americanSpeed < 10) {
                        this.currentPitch += (this.forwardPitchFactor * Math.min(-speedChange, 10) * deltaTime); // Scale down change and limit maximum effect
                    }
                }
                // Adjust roll based on cornering
                this.currentRoll += (this.lateralRollFactor * lateralGForce * deltaTime); // Cornering
                // Gradually return pitch and roll to neutral when no input
                this.currentPitch *= (1.0 - this.forwardRecoverRate);
                this.currentRoll *= (1.0 - this.lateralRecoverRate);
                // Clamp the pitch and roll to avoid excessive tilting
                const maxPitch = BABYLON.Tools.ToRadians(this.maxForwardAngle);
                const maxRoll = BABYLON.Tools.ToRadians(this.maxLateralAngle);
                this.currentPitch = Math.max(-maxPitch, Math.min(maxPitch, this.currentPitch));
                this.currentRoll = Math.max(-maxRoll, Math.min(maxRoll, this.currentRoll));
                // Apply Gear Shifting To Tilt Angles
                if (this.shiftingTime > 0) {
                    const maxShiftEffect = Math.sin(this.shiftingTime * Math.PI);
                    const forwardShiftSign = (this.currentForward > 0) ? 1 : -1;
                    const forwardShiftEffect = (forwardShiftSign * maxShiftEffect * this.shiftForwardExtra * 0.015);
                    const lateralShiftEffect = (this.shiftingSide * maxShiftEffect * this.shiftLateralExtra * 0.015);
                    this.currentPitch += forwardShiftEffect;
                    this.currentRoll += lateralShiftEffect;
                }
                // Apply Road Surface Noise To Tilt Angles
                if (this.surfaceDetection === true) {
                    this.idleNoiseDelta += (deltaTime * this.idleShakeRate) * 3.0;
                    this.driveNoiseDelta += (deltaTime * BABYLON.Scalar.Lerp(this.lowSpeedScale, this.highSpeedScale, this.gradientSpeed)) * 3.0;
                    const movementSpeed = Math.abs(currentSpeed);
                    if (movementSpeed >= 1) {
                        if (movementSpeed >= this.speedThreashold && this.handBraking === false) {
                            if (this.lowForwardNoise > 0 || this.highForwardNoise > 0) {
                                const forwardNoiseIntensity = BABYLON.Scalar.Lerp(this.lowForwardNoise, this.highForwardNoise, this.gradientSpeed);
                                this.currentPitch += (PROJECT.StandardCarController.SimplexNoise2D(this.driveNoiseDelta, 0) * forwardNoiseIntensity * 0.065) * this.roadSurfaceFactor;
                            }
                            if (this.lowLateralNoise > 0 || this.highLateralNoise > 0) {
                                const laterialNoiseIntensity = BABYLON.Scalar.Lerp(this.lowLateralNoise, this.highLateralNoise, this.gradientSpeed);
                                this.currentRoll += (PROJECT.StandardCarController.SimplexNoise2D(this.driveNoiseDelta, 1) * laterialNoiseIntensity * 0.065) * this.roadSurfaceFactor;
                            }
                        }
                    }
                    else if (this.idleShakeNoise > 0) {
                        this.currentPitch += (PROJECT.StandardCarController.SimplexNoise2D(this.idleNoiseDelta, 0) * this.idleShakeNoise * 0.065);
                        this.currentRoll += (PROJECT.StandardCarController.SimplexNoise2D(this.idleNoiseDelta, 1) * this.idleShakeNoise * 0.065);
                    }
                }
                // Apply the calculated pitch and roll to the vehicle's mesh for visual effect
                // WM.PrintToScreen("CHECK - Pitch: " + this.currentPitch.toFixed(2) + " Roll: " + this.currentRoll.toFixed(2) + " Speed Change: " + speedChange.toFixed(2), "white");
                if (this.chassisTransform != null && this.chassisTransform.rotationQuaternion != null) {
                    this.chassisTransform.rotationQuaternion.toEulerAnglesToRef(this.tiltChassisEulers);
                    const tiltAngleX = BABYLON.Scalar.Lerp(this.tiltChassisEulers.x, this.currentPitch, (this.lerpForwardFactor * deltaTime));
                    const tiltAngleZ = BABYLON.Scalar.Lerp(this.tiltChassisEulers.z, this.currentRoll, (this.lerpLateralFactor * deltaTime));
                    // WM.PrintToScreen("Sync Pitch: " + tiltAngleX.toFixed(2) + " Roll: " + tiltAngleZ.toFixed(2) + " Speed Change: " + speedChange.toFixed(2), "white");
                    BABYLON.Quaternion.FromEulerAnglesToRef(tiltAngleX, this.tiltChassisEulers.y, tiltAngleZ, this.chassisTransform.rotationQuaternion);
                }
                // Update the previous speed for the next frame
                this.previousSpeed = currentSpeed;
            }
        }
        writeTransformMetadata() {
            if (this.transform.metadata == null)
                this.transform.metadata = {};
            if (this.transform.metadata.car == null)
                this.transform.metadata.car = {};
            // ..
            // Update Transform Node Metadata
            // ..
            this.transform.metadata.car.forwardSpeed = this.forwardSpeed;
            this.transform.metadata.car.reversePower = this.maxReversePower;
            this.transform.metadata.car.americanSpeed = this.americanSpeed;
            this.transform.metadata.car.gradientSpeed = this.gradientSpeed;
            this.transform.metadata.car.currentForward = this.currentForward;
            this.transform.metadata.car.linearVelocity = this.getLinearVelocity().length();
            this.transform.metadata.car.normalizedSpeed = this.getNormalizedSpeed();
        }
        getVehicleEngineTorque(rpm, power) {
            let result = 0;
            if (this.engineTorqueCurve != null) {
                result = (BABYLON.Toolkit.Utilities.SampleAnimationFloat(this.engineTorqueCurve, BABYLON.Scalar.Clamp(rpm, this.MIN_RPM, this.MAX_RPM), BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE, false) * power);
            }
            return result;
        }
        createSmokeParticleSystem(name, emitter) {
            const result = new BABYLON.ParticleSystem(name, 10000, this.scene);
            result.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD;
            result.renderingGroupId = BABYLON.Toolkit.Utilities.DefaultRenderGroup();
            result.particleTexture = this.smokeTexture;
            result.emitter = emitter;
            result.emitRate = 0;
            result.updateSpeed = 0.01;
            // change size and speed
            result.minSize = 0.2;
            result.maxSize = 1.3;
            result.minAngularSpeed = -1.5;
            result.maxAngularSpeed = 1.5;
            // changed lifetime to control shape of the cloud in conjunction with velocity gradient
            result.minLifeTime = 3.0;
            result.maxLifeTime = 5.0;
            // adding velocity over time to prevent large bloom of particles by launching them fast and then slowing them down GPU particles don't take a gradient on velocity, but the reduction in velocity over time is worth the trade off for less randomization
            result.addVelocityGradient(0, 1);
            result.addVelocityGradient(0.1, 0.7);
            result.addVelocityGradient(0.7, 0.2);
            result.addVelocityGradient(1.0, 0.05);
            // reduced the emit rate to reduce bloom of particles in the center of mass
            result.gravity = new BABYLON.Vector3(0, -0.1, 0);
            result.minEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.maxEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.direction1 = new BABYLON.Vector3(-1, -1, -1);
            result.direction2 = new BABYLON.Vector3(1, 1, 1);
            // The color1, color2, colorDead pattern is overridden by color gradient so is unnecessary
            result.color1 = new BABYLON.Color4(0.95, 0.95, 0.95, this.smokeOpacity);
            result.color2 = new BABYLON.Color4(0.85, 0.85, 0.85, this.smokeOpacity);
            result.colorDead = new BABYLON.Color4(0.9, 0.9, 0.9, (this.smokeOpacity * 0.5));
            // Changed the color gradient to add a second value for randomization and ramped the color down further to create more texture with alpha blending
            //result.addColorGradient(0.0, new BABYLON.Color4(1, 1, 1, 0.0), new BABYLON.Color4(0.7, 0.7, 0.7, 0.0));
            //result.addColorGradient(0.2, new BABYLON.Color4(0.7, 0.7, 0.7, 0.2), new BABYLON.Color4(0.6, 0.6, 0.6, 0.2));
            //result.addColorGradient(0.6, new BABYLON.Color4(0.6, 0.6, 0.6, 0.1),new BABYLON.Color4(0.4, 0.4, 0.4, 0.1));
            //result.addColorGradient(1.0, new BABYLON.Color4(0.3, 0.3, 0.3, 0.0),new BABYLON.Color4(0.1, 0.1, 0.1, 0.0));            
            return result;
        }
        updateCurrentSkidInfo(wheel) {
            return BABYLON.Scalar.Clamp((1 - wheel.skidInfo));
        }
        updateCurrentBrakeDamping(linear, angular, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationLinearDamping = (linear + totalWheelDampener);
            let destinationAngularDamping = angular;
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentLinearDamping = this.transform.physicsBody.getLinearDamping();
                let currentAngularDamping = this.transform.physicsBody.getAngularDamping();
                let smoothedLinearDamping = BABYLON.Scalar.Lerp(currentLinearDamping, destinationLinearDamping, lerp);
                let smoothedAngularDamping = BABYLON.Scalar.Lerp(currentAngularDamping, destinationAngularDamping, lerp);
                this.transform.physicsBody.setLinearDamping(smoothedLinearDamping);
                this.transform.physicsBody.setAngularDamping(smoothedAngularDamping);
            }
            else {
                this.transform.physicsBody.setLinearDamping(destinationLinearDamping);
                this.transform.physicsBody.setAngularDamping(destinationAngularDamping);
            }
        }
        updateLinearBrakeDamping(linear, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationLinearDamping = (linear + totalWheelDampener);
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentLinearDamping = this.transform.physicsBody.getLinearDamping();
                let smoothedLinearDamping = BABYLON.Scalar.Lerp(currentLinearDamping, destinationLinearDamping, lerp);
                this.transform.physicsBody.setLinearDamping(smoothedLinearDamping);
            }
            else {
                this.transform.physicsBody.setLinearDamping(destinationLinearDamping);
            }
        }
        updateAngularBrakeDamping(angular, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationAngularDamping = angular;
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentAngularDamping = this.transform.physicsBody.getAngularDamping();
                let smoothedAngularDamping = BABYLON.Scalar.Lerp(currentAngularDamping, destinationAngularDamping, lerp);
                this.transform.physicsBody.setAngularDamping(smoothedAngularDamping);
            }
            else {
                this.transform.physicsBody.setAngularDamping(destinationAngularDamping);
            }
        }
        updateCurrentRotationDelta(delta) {
            if (this.m_frontLeftWheel != null)
                this.m_frontLeftWheel.deltaRotation = delta;
            if (this.m_frontRightWheel != null)
                this.m_frontRightWheel.deltaRotation = delta;
            if (this.m_backLeftWheel != null)
                this.m_backLeftWheel.deltaRotation = delta;
            if (this.m_backRightWheel != null)
                this.m_backRightWheel.deltaRotation = delta;
        }
        updateCurrentRotationBoost(boost) {
            if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                if (this.m_frontLeftWheel != null)
                    this.m_frontLeftWheel.rotationBoost = boost;
                if (this.m_frontRightWheel != null)
                    this.m_frontRightWheel.rotationBoost = boost;
            }
            if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                if (this.m_backLeftWheel != null)
                    this.m_backLeftWheel.rotationBoost = boost;
                if (this.m_backRightWheel != null)
                    this.m_backRightWheel.rotationBoost = boost;
            }
        }
        updateCurrentFrictionSlip(lerpSpeed) {
            if (this.m_frontLeftWheel != null && this.m_frontLeftWheel.defaultFriction != null) {
                let frontLeftFriction = this.m_frontLeftWheel.frictionSlip;
                if (frontLeftFriction < (this.m_frontLeftWheel.defaultFriction - 0.1)) {
                    this.frontLeftFrictionLerping = true;
                    frontLeftFriction = BABYLON.Scalar.Lerp(frontLeftFriction, this.m_frontLeftWheel.defaultFriction, (this.frontLeftFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_frontLeftWheel.frictionSlip = frontLeftFriction;
                }
                else {
                    this.frontLeftFrictionPenalty = false;
                    this.frontLeftFrictionLerping = false;
                    this.m_frontLeftWheel.frictionSlip = this.m_frontLeftWheel.defaultFriction;
                }
            }
            if (this.m_frontRightWheel != null && this.m_frontRightWheel.defaultFriction != null) {
                let frontRightFriction = this.m_frontRightWheel.frictionSlip;
                if (frontRightFriction < (this.m_frontRightWheel.defaultFriction - 0.1)) {
                    this.frontRightFrictionLerping = true;
                    frontRightFriction = BABYLON.Scalar.Lerp(frontRightFriction, this.m_frontRightWheel.defaultFriction, (this.frontRightFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_frontRightWheel.frictionSlip = frontRightFriction;
                }
                else {
                    this.frontRightFrictionPenalty = false;
                    this.frontRightFrictionLerping = false;
                    this.m_frontRightWheel.frictionSlip = this.m_frontRightWheel.defaultFriction;
                }
            }
            if (this.m_backLeftWheel != null && this.m_backLeftWheel.defaultFriction != null) {
                let backLeftFriction = this.m_backLeftWheel.frictionSlip;
                if (backLeftFriction < (this.m_backLeftWheel.defaultFriction - 0.1)) {
                    this.rearLeftFrictionLerping = true;
                    backLeftFriction = BABYLON.Scalar.Lerp(backLeftFriction, this.m_backLeftWheel.defaultFriction, (this.rearLeftFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_backLeftWheel.frictionSlip = backLeftFriction;
                }
                else {
                    this.rearLeftFrictionPenalty = false;
                    this.rearLeftFrictionLerping = false;
                    this.m_backLeftWheel.frictionSlip = this.m_backLeftWheel.defaultFriction;
                }
            }
            if (this.m_backRightWheel != null && this.m_backRightWheel.defaultFriction != null) {
                let backRightFriction = this.m_backRightWheel.frictionSlip;
                if (backRightFriction < (this.m_backRightWheel.defaultFriction - 0.1)) {
                    backRightFriction = BABYLON.Scalar.Lerp(backRightFriction, this.m_backRightWheel.defaultFriction, (this.rearRightFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_backRightWheel.frictionSlip = backRightFriction;
                }
                else {
                    this.rearRightFrictionPenalty = false;
                    this.rearRightFrictionLerping = false;
                    this.m_backRightWheel.frictionSlip = this.m_backRightWheel.defaultFriction;
                }
            }
        }
        getFrontLeftWheelContact() { return this.frontLeftContact; }
        getFrontRightWheelContact() { return this.frontRightContact; }
        getRearLeftWheelContact() { return this.rearLeftContact; }
        getRearRightWheelContact() { return this.rearRightContact; }
        getFrontLeftWheelContactTag() { return this.frontLeftContactTag; }
        getFrontRightWheelContactTag() { return this.frontRightContactTag; }
        getRearLeftWheelContactTag() { return this.rearLeftContactTag; }
        getRearRightWheelContactTag() { return this.rearRightContactTag; }
        getFrontLeftWheelContactPoint() { return this.frontLeftContactPoint; }
        getFrontRightWheelContactPoint() { return this.frontRightContactPoint; }
        getRearLeftWheelContactPoint() { return this.rearLeftContactPoint; }
        getRearRightWheelContactPoint() { return this.rearRightContactPoint; }
        getFrontLeftWheelContactNormal() { return this.frontLeftContactNormal; }
        getFrontRightWheelContactNormal() { return this.frontRightContactNormal; }
        getRearLeftWheelContactNormal() { return this.rearLeftContactNormal; }
        getRearRightWheelContactNormal() { return this.rearRightContactNormal; }
        castWheelContactRays() {
            if (this.transform.physicsBody == null)
                return;
            let raycast = this.wheelContactRaycastResult;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint.set(0, 0, 0);
            this.frontRightContactPoint.set(0, 0, 0);
            this.rearLeftContactPoint.set(0, 0, 0);
            this.rearRightContactPoint.set(0, 0, 0);
            this.frontLeftContactNormal.set(0, 0, 0);
            this.frontRightContactNormal.set(0, 0, 0);
            this.rearLeftContactNormal.set(0, 0, 0);
            this.rearRightContactNormal.set(0, 0, 0);
            // ..
            // Front Left Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Left Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.startRaycastPosition, this.endRaycastPosition, raycast);
            if (raycast != null && raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                this.frontLeftContact = true;
                this.frontLeftContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                this.frontLeftContactPoint.copyFrom(raycast.hitPoint);
                this.frontLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Left Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.frontLeftSensorLine == null)
                    this.frontLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".FrontLeftSensorLine", this.scene);
                if (this.frontLeftContact === true) {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Front Right Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Right Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.startRaycastPosition, this.endRaycastPosition, raycast);
            if (raycast != null && raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                this.frontRightContact = true;
                this.frontRightContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                this.frontRightContactPoint.copyFrom(raycast.hitPoint);
                this.frontRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Right Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.frontRightSensorLine == null)
                    this.frontRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".FrontRightSensorLine", this.scene);
                if (this.frontRightContact === true) {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Left Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Left Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.startRaycastPosition, this.endRaycastPosition, raycast);
            if (raycast != null && raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                this.rearLeftContact = true;
                this.rearLeftContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                this.rearLeftContactPoint.copyFrom(raycast.hitPoint);
                this.rearLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Left Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.rearLeftSensorLine == null)
                    this.rearLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".RearLeftSensorLine", this.scene);
                if (this.rearLeftContact === true) {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Right Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Right Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.startRaycastPosition, this.endRaycastPosition, raycast);
            if (raycast != null && raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                this.rearRightContact = true;
                this.rearRightContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                this.rearRightContactPoint.copyFrom(raycast.hitPoint);
                this.rearRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Right Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.rearRightSensorLine == null)
                    this.rearRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".RearRightSensorLine", this.scene);
                if (this.rearRightContact === true) {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
        }
    }
    StandardCarController.DEFAULT_SKID_FACTOR = 1.0;
    StandardCarController.DEFAULT_PITCH_FACTOR = 1.0;
    StandardCarController.DEFAULT_SPEED_FACTOR = 1.0;
    StandardCarController.DEFAULT_DONUT_FACTOR = 1.0;
    StandardCarController.SimplexNoise2D = SIMPLEX.createNoise2D();
    PROJECT.StandardCarController = StandardCarController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class VehicleCameraManager
    */
    class VehicleCameraManager extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.enableCamera = false;
            this.followTarget = false;
            this.followHeight = 1.25;
            this.pitchingAngle = 0.0;
            this.rotationDamping = 5.0;
            this.minimumDistance = 4.0;
            this.maximumDistance = 5.0;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = BABYLON.Toolkit.UserInputKey.P;
            this.tickRemoteEntities = false;
            this.fastMotionBlur = false;
            this.lowSpeedBlurring = 0.0;
            this.highSpeedBlurring = 20.0;
            this.motionBlurSamples = 32;
            this.isObjectBasedBlur = true;
            this.fastCameraShake = false;
            this.lowSpeedShaking = 1.0;
            this.highSpeedShaking = 1.0;
            this.firstPerson = false;
            this.cameraPivot = null;
            this.targetEulers = BABYLON.Vector3.Zero();
            this.cameraRotation = BABYLON.Quaternion.Zero();
            this.cameraPivotOffset = BABYLON.Vector3.Zero();
            this.autoAttachCamera = false;
            this.motionBlurAttached = false;
            this.m_freeCamera = null;
            this.m_motionBlur = null;
            this.m_cameraTransform = null;
            this.m_inputController = null;
            this.m_standardController = null;
            this.m_firstPersonOffset = new BABYLON.Vector3(0.0, 1.15, 0.15);
        }
        awake() { this.awakeCameraManager(); }
        start() { this.initCameraManager(); }
        late() { this.lateUpdateCameraManager(); }
        destroy() { this.destroyCameraManager(); }
        awakeCameraManager() {
            this.enableCamera = this.getProperty("enableCamera", this.enableCamera);
            this.followTarget = this.getProperty("followTarget", this.followTarget);
            this.followHeight = this.getProperty("followHeight", this.followHeight);
            this.pitchingAngle = this.getProperty("pitchingAngle", this.pitchingAngle);
            this.rotationDamping = this.getProperty("rotationDamping", this.rotationDamping);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.maximumDistance = this.getProperty("maximumDistance", this.maximumDistance);
            this.autoAttachCamera = this.getProperty("attachCamera", this.autoAttachCamera);
            this.tickRemoteEntities = this.getProperty("tickRemoteEntities", this.tickRemoteEntities);
            this.fastMotionBlur = this.getProperty("fastMotionBlur", this.fastMotionBlur);
            this.lowSpeedBlurring = this.getProperty("lowSpeedBlurring", this.lowSpeedBlurring);
            this.highSpeedBlurring = this.getProperty("highSpeedBlurring", this.highSpeedBlurring);
            this.motionBlurSamples = this.getProperty("motionBlurSamples", this.motionBlurSamples);
            this.isObjectBasedBlur = this.getProperty("isObjectBasedBlur", this.isObjectBasedBlur);
            this.fastCameraShake = this.getProperty("fastCameraShake", this.fastCameraShake);
            this.lowSpeedShaking = this.getProperty("lowSpeedShaking", this.lowSpeedShaking);
            this.highSpeedShaking = this.getProperty("highSpeedShaking", this.highSpeedShaking);
            // ..
            // ..
            const firstPersonOffset = this.getProperty("firstPersonOffset");
            if (firstPersonOffset != null)
                this.m_firstPersonOffset = BABYLON.Toolkit.Utilities.ParseVector3(firstPersonOffset);
            if (this.rotationDamping <= 0)
                this.rotationDamping = 1;
        }
        initCameraManager() {
            this.m_standardController = this.getComponent("PROJECT.StandardCarController");
            this.m_inputController = this.getComponent("PROJECT.VehicleInputController");
            if (this.m_inputController != null) {
                BABYLON.Toolkit.InputController.OnKeyboardPress(this.keyboardCamera, () => {
                    //if (this.playerNumber === BABYLON.Toolkit.PlayerNumber.One) {
                    this.togglePlayerCamera();
                    //}
                });
                BABYLON.Toolkit.InputController.OnGamepadButtonPress(this.buttonCamera, () => {
                    this.togglePlayerCamera();
                } /*, this.playerNumber*/);
            }
        }
        lateUpdateCameraManager() {
            if (this.m_cameraTransform == null && this.autoAttachCamera === true) {
                if (this.m_inputController != null)
                    this.attachPlayerCamera(this.m_inputController.playerNumber);
            }
            if (this.firstPerson === true) {
                this.firstPersonCamera();
            }
            else {
                this.thirdPersonCamera();
            }
            // ..
            // Update Motion Blur
            // ..
            if (this.m_freeCamera != null && this.m_motionBlur != null && this.m_standardController != null) {
                if (this.m_standardController.isBoosting()) {
                    if (this.motionBlurAttached === false) {
                        this.m_freeCamera.attachPostProcess(this.m_motionBlur);
                        this.motionBlurAttached = true;
                    }
                    this.m_motionBlur.motionStrength = BABYLON.Scalar.Lerp(this.lowSpeedBlurring, this.highSpeedBlurring, this.m_standardController.getGradientSpeed());
                }
                else {
                    this.m_motionBlur.motionStrength = this.lowSpeedBlurring;
                    if (this.motionBlurAttached === true) {
                        this.m_freeCamera.detachPostProcess(this.m_motionBlur);
                        this.motionBlurAttached = false;
                    }
                }
            }
        }
        destroyCameraManager() {
            this.m_standardController = null;
            this.m_cameraTransform = null;
        }
        //////////////////////////////////////////////////
        // Player Camera Functions //
        //////////////////////////////////////////////////
        attachPlayerCamera(player) {
            if (this.m_cameraTransform == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.m_freeCamera = PROJECT.DefaultCameraSystem.GetMainCamera(this.scene);
                this.m_cameraTransform = PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                if (this.m_cameraTransform != null && this.followTarget === true) {
                    if (this.cameraPivot == null) {
                        this.cameraPivot = new BABYLON.TransformNode(this.transform.name + ".CameraPivot", this.scene);
                        this.cameraPivot.parent = null;
                        this.cameraPivot.position = this.transform.position.clone();
                        this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        // ..
                        // DEBUG: const testPivot:BABYLON.Mesh = BABYLON.Mesh.CreateBox("TestPivot", 0.25, this.scene);
                        // DEBUG: testPivot.parent = this.cameraPivot;
                        // DEBUG: testPivot.position.set(0,0,0);
                        // DEBUG: testPivot.rotationQuaternion = new BABYLON.Quaternion(0,0,0,1);
                    }
                    this.m_cameraTransform.parent = this.cameraPivot;
                    this.m_cameraTransform.position.set(0, 0, 0);
                    this.m_cameraTransform.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                }
                if (this.m_motionBlur == null && this.m_freeCamera != null && this.fastMotionBlur === true) {
                    try {
                        /**
                         * Creates a new instance MotionBlurPostProcess
                         * @param name The name of the effect.
                         * @param scene The scene containing the objects to blur according to their velocity.
                         * @param options The required width/height ratio to downsize to before computing the render pass.
                         * @param camera The camera to apply the render pass to.
                         * @param samplingMode The sampling mode to be used when computing the pass. (default: 0)
                         * @param engine The engine which the post process will be applied. (default: current engine)
                         * @param reusable If the post process can be reused on the same frame. (default: false)
                         * @param textureType Type of textures used when performing the post process. (default: 0)
                         * @param blockCompilation If compilation of the shader should not be done in the constructor. The updateEffect method can be used to compile the shader at a later time. (default: true)
                         * @param forceGeometryBuffer If this post process should use geometry buffer instead of prepass (default: false)
                         */
                        this.m_motionBlur = new BABYLON.MotionBlurPostProcess("FastMotionBlur", this.scene, 1.0, this.m_freeCamera);
                    }
                    catch (e) {
                        console.warn(e);
                    }
                    try {
                        if (this.m_motionBlur != null) {
                            this.m_freeCamera.detachPostProcess(this.m_motionBlur);
                            this.m_motionBlur.isObjectBased = this.isObjectBasedBlur;
                            this.m_motionBlur.motionStrength = this.lowSpeedBlurring;
                            this.m_motionBlur.motionBlurSamples = this.motionBlurSamples;
                            this.motionBlurAttached = false;
                        }
                    }
                    catch (e) {
                        console.warn(e);
                    }
                }
            }
        }
        togglePlayerCamera() {
            this.firstPerson = !this.firstPerson;
        }
        firstPersonCamera() {
            if (this.enableCamera === true && this.m_cameraTransform != null && this.m_standardController != null) {
                if (this.followTarget === true) {
                    if (this.cameraPivot != null) {
                        // ..
                        // Update Position
                        // ..
                        BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position);
                        // ..
                        // Update Rotation
                        // ..
                        this.cameraPivot.rotationQuaternion.copyFrom(this.transform.rotationQuaternion);
                        // ..
                        // Update Camera Boom
                        // ..
                        this.m_cameraTransform.position.copyFrom(this.m_firstPersonOffset);
                        BABYLON.Toolkit.Utilities.FromEulerToRef(0, 0, 0, this.m_cameraTransform.rotationQuaternion);
                    }
                }
                else {
                    this.m_cameraTransform.lookAt(this.transform.position);
                }
            }
        }
        // DEPRECIATED: private smoothDeltaTime:number = 0.0;
        thirdPersonCamera() {
            if (this.enableCamera === true && this.m_cameraTransform != null && this.m_standardController != null) {
                if (this.followTarget === true) {
                    if (this.cameraPivot != null) {
                        const deltaTime = this.getDeltaSeconds();
                        // KEEP FOR REFERECNE
                        // DEPRECIATED: const deltaFactor:number = BABYLON.Toolkit.System.SmoothDeltaFactor;
                        // DEPRECIATED: this.smoothDeltaTime = deltaFactor * deltaTime + (1 - deltaFactor) * this.smoothDeltaTime;
                        // DEPRECIATED: const turnDampener:number = (this.smoothDeltaTime * this.rotationDamping);
                        // ..
                        // Update Position
                        // ..
                        this.cameraPivotOffset.set(0, this.followHeight, 0);
                        BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                        // ..
                        // Update Rotation
                        // ..
                        const turnDampener = (deltaTime * this.rotationDamping);
                        this.transform.rotationQuaternion.toEulerAnglesToRef(this.targetEulers);
                        BABYLON.Quaternion.FromEulerAnglesToRef((this.targetEulers.x + BABYLON.Tools.ToRadians(this.pitchingAngle)), this.targetEulers.y, 0, this.cameraRotation);
                        BABYLON.Quaternion.SlerpToRef(this.cameraPivot.rotationQuaternion, this.cameraRotation, turnDampener, this.cameraPivot.rotationQuaternion);
                        // ..
                        // Update Camera Boom
                        // ..
                        const cameraBoomDistance = BABYLON.Scalar.Lerp(this.minimumDistance, this.maximumDistance, this.m_standardController.getGradientSpeed());
                        this.m_cameraTransform.position.set(0, 0, -cameraBoomDistance);
                    }
                }
                else {
                    this.m_cameraTransform.lookAt(this.transform.position);
                }
            }
        }
    }
    PROJECT.VehicleCameraManager = VehicleCameraManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    class VehicleInputController extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.playerDeltaX = 0;
            this.playerDeltaY = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.ackermanRadius = 0.85;
            this.recoveryRadius = 0.25;
            this.waypointPosition = BABYLON.Vector3.Zero();
            this.waypointCount = 0;
            this.waypointIndex = 0;
            this.noMovementTime = 0;
            this.reverseFixMode = false;
            this.recoveryFixMode = false;
            this.nextTargetSpeed = 0;
            this.prevTargetSpeed = 0;
            this.vehicleResetCheck = 0;
            this.randomSkillFactor = 0;
            this.showChaseRabbit = false;
            this.showSensorLines = false;
            this.steeringWheelMode = -1;
            this.rabbitTrackerLine = null;
            this.rabbitTrackerColor = new BABYLON.Color3(1, 1, 1);
            this.greenTrackingColor = new BABYLON.Color3(0, 1, 0);
            this.redTrackingColor = new BABYLON.Color3(1, 0, 0);
            this.localTargetPosition = new BABYLON.Vector3(0, 0, 0);
            this.avoidPositionOffset = new BABYLON.Vector3(0, 0, 0);
            this.avoidanceLerp = 0;
            this.avoidanceTimer = 0;
            this.avoidanceValue = 0;
            this.randomTurning = 0;
            this.randomBoosting = 0;
            this.randomDistance = 0;
            this.lastCheckpoint = -1;
            this.mainCenterSensorLine = null;
            this.mainRightSensorLine = null;
            this.mainLeftSensorLine = null;
            this.angleRightSensorLine = null;
            this.angleLeftSensorLine = null;
            this.sideRightSensorLine = null;
            this.sideLeftSensorLine = null;
            this.backRightSensorLine = null;
            this.backLeftSensorLine = null;
            this.sidewaysOffsetVector = BABYLON.Vector3.Zero();
            this.backBumperEdgeVector = BABYLON.Vector3.Zero();
            this.sensorStartPos = BABYLON.Vector3.Zero();
            this.sensorPointPos = BABYLON.Vector3.Zero();
            this.sensorAnglePos = BABYLON.Vector3.Zero();
            this.rsideStartPos = BABYLON.Vector3.Zero();
            this.rsidePointPos = BABYLON.Vector3.Zero();
            this.lsideStartPos = BABYLON.Vector3.Zero();
            this.lsidePointPos = BABYLON.Vector3.Zero();
            this.tempScaleVector = BABYLON.Vector3.Zero();
            this.rbackStartPos = BABYLON.Vector3.Zero();
            this.rbackPointPos = BABYLON.Vector3.Zero();
            this.lbackStartPos = BABYLON.Vector3.Zero();
            this.lbackPointPos = BABYLON.Vector3.Zero();
            this.trackVehiclePosition = BABYLON.Vector3.Zero();
            this.trackRabbitPosition = BABYLON.Vector3.Zero();
            this.enableInput = false;
            this.resetTiming = 3.0;
            this.playerNumber = BABYLON.Toolkit.PlayerNumber.One;
            this.pedelForward = 7; // Generic Button 7 (Foot Pedal)
            this.triggerForward = BABYLON.Toolkit.Xbox360Trigger.Right;
            this.keyboardForawrd = BABYLON.Toolkit.UserInputKey.W;
            this.auxKeyboardForawrd = BABYLON.Toolkit.UserInputKey.UpArrow;
            this.pedalBackward = 6; // Generic Button 6 (Foot Pedal)
            this.triggerBackwards = BABYLON.Toolkit.Xbox360Trigger.Left;
            this.keyboardBackwards = BABYLON.Toolkit.UserInputKey.S;
            this.auxKeyboardBackwards = BABYLON.Toolkit.UserInputKey.DownArrow;
            this.pedalBooster = 1; // Generic Button 1 (Speed Booster)
            this.keyboardBooster = BABYLON.Toolkit.UserInputKey.Ctrl;
            this.buttonBooster = BABYLON.Xbox360Button.B;
            this.buttonHandbrake = BABYLON.Xbox360Button.X;
            this.keyboardHandbrake = BABYLON.Toolkit.UserInputKey.SpaceBar;
            this.leftWheelHandbrake = 4; // Generic Button 4 (Hand Paddle)
            this.rightWheelHandbrake = 5; // Generic Button 5 (Hand Paddle)
            this.keyboardDonut = BABYLON.Toolkit.UserInputKey.Shift;
            this.leftButtonDonut = BABYLON.Xbox360Button.LB;
            this.rightButtonDonut = BABYLON.Xbox360Button.RB;
            this.leftWheelDonut = 10; // Generic Button 10 (Wheel Button)
            this.rightWheelDonut = 11; // Generic Button 11 (Wheel Button)
            // Auto Pilot Properties
            this.raceLineNode = 0;
            this.minLookAhead = 5;
            this.maxLookAhead = 50;
            this.driverSkillLevel = 1;
            this.chaseRabbitSpeed = 1.0;
            this.throttleSensitivity = 1;
            this.steeringSensitivity = 1;
            this.brakingSensitivity = 1;
            this.brakingTurnAngle = 15;
            this.brakingSpeedLimit = 90;
            this.skiddingSpeedLimit = 100;
            this.linearDampenForce = 0.1;
            this.driveSpeedMultiplier = 5.0;
            this.driveLineDistance = 1.0;
            this.resetMovingTimeout = 3;
            this.reverseThrottleTime = 3;
            this.maxRaceTrackSpeed = 0;
            this.trackManagerIdentity = "TrackManager";
            // Auto Pilot Avoid Sensors
            this.vehicleTag = "Vehicle";
            this.obstacleTag = "Obstacle";
            this.sensorLength = 8;
            this.spacerWidths = 0.85;
            this.angleFactors = 1.5;
            this.initialOffsetX = 1;
            this.initialOffsetY = 0.5;
            this.initialOffsetZ = 2;
            this.sidewaysLength = 1.5;
            this.sidewaysOffset = 0.5;
            this.backBumperEdge = 2.5;
            this.powerBoosting = 0.5;
            this.wonderDistance = 1.0;
            this.avoidanceFactor = 0.5;
            this.avoidanceSpeed = 3.0;
            this.avoidanceTimeout = 3.0;
            this.avoidanceDistance = 2.0;
            // Auto Pilot Reverse Options
            this.reversingFlag = false;
            this.reversingTime = 0.0;
            this.reversingWait = 2.0;
            this.reversingFor = 1.5;
            // Vehicle Drive Properties
            this.m_chasePointMesh = null;
            this.m_chaseRabbitMesh = null;
            this.m_circuitInterfaces = null;
            this.m_circuitRaceLine_1 = null;
            this.m_circuitRaceLine_2 = null;
            this.m_circuitRaceLine_3 = null;
            this.m_circuitRaceLine_4 = null;
            this.m_circuitRaceLine_5 = null;
            this.m_rigidbodyPhysics = null;
            this.m_checkpointManager = null;
            this.m_standardCarController = null;
            this.autoDriveRaycastResult = new BABYLON.PhysicsRaycastResult();
        }
        // Public Properties
        getPlayerDeltaX() { return this.playerDeltaX; }
        ;
        getPlayerDeltaY() { return this.playerDeltaY; }
        ;
        getPlayerMouseX() { return this.playerMouseX; }
        ;
        getPlayerMouseY() { return this.playerMouseY; }
        ;
        getWaypointIndex() { return this.waypointIndex; }
        ;
        getChaseRabbitMesh() { return this.m_chaseRabbitMesh; }
        ;
        resetChaseRabbitMesh() {
            if (this.m_chaseRabbitMesh != null) {
                this.m_chaseRabbitMesh.position = this.transform.position.clone();
                this.m_chaseRabbitMesh.rotationQuaternion = this.transform.rotationQuaternion.clone();
            }
        }
        getChasePointMesh() { return this.m_chasePointMesh; }
        ;
        resetChasePointMesh() {
            if (this.m_chasePointMesh != null) {
                this.m_chasePointMesh.position = this.transform.position.clone();
                this.m_chasePointMesh.rotationQuaternion = this.transform.rotationQuaternion.clone();
            }
        }
        awake() { this.awakeVehicleController(); }
        start() { this.initVehicleController(); }
        update() { this.updateVehicleController(); }
        destroy() { this.destroyVehicleController(); }
        //////////////////////////////////////////////////
        // Protected Character Movement State Functions //
        //////////////////////////////////////////////////
        awakeVehicleController() {
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.resetTiming = this.getProperty("resetTiming", this.resetTiming);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.ackermanRadius = this.getProperty("ackermanRadius", this.ackermanRadius);
            this.recoveryRadius = this.getProperty("recoveryRadius", this.recoveryRadius);
            this.showChaseRabbit = this.getProperty("showChaseRabbit", this.showChaseRabbit);
            this.showSensorLines = this.getProperty("showSensorLines", this.showSensorLines);
            // ..
            this.minLookAhead = this.getProperty("minLookAhead", this.minLookAhead);
            this.maxLookAhead = this.getProperty("maxLookAhead", this.maxLookAhead);
            this.driverSkillLevel = this.getProperty("driverSkillLevel", this.driverSkillLevel);
            this.throttleSensitivity = this.getProperty("throttleSensitivity", this.throttleSensitivity);
            this.steeringSensitivity = this.getProperty("steeringSensitivity", this.steeringSensitivity);
            this.brakingSensitivity = this.getProperty("brakingSensitivity", this.brakingSensitivity);
            this.brakingTurnAngle = this.getProperty("brakingTurnAngle", this.brakingTurnAngle);
            this.brakingSpeedLimit = this.getProperty("brakingSpeedLimit", this.brakingSpeedLimit);
            this.skiddingSpeedLimit = this.getProperty("skiddingSpeedLimit", this.skiddingSpeedLimit);
            this.linearDampenForce = this.getProperty("linearDampenForce", this.linearDampenForce);
            this.resetMovingTimeout = this.getProperty("resetMovingTimeout", this.resetMovingTimeout);
            this.reverseThrottleTime = this.getProperty("reverseThrottleTime", this.reverseThrottleTime);
            this.driveSpeedMultiplier = this.getProperty("driveSpeedMultiplier", this.driveSpeedMultiplier);
            this.driveLineDistance = this.getProperty("driveLineDistance", this.driveLineDistance);
            this.maxRaceTrackSpeed = this.getProperty("maxRaceTrackSpeed", this.maxRaceTrackSpeed);
            this.trackManagerIdentity = this.getProperty("trackManagerIdentity", this.trackManagerIdentity);
            // ..
            this.vehicleTag = this.getProperty("vehicleTag", this.vehicleTag);
            this.obstacleTag = this.getProperty("obstacleTag", this.obstacleTag);
            this.sensorLength = this.getProperty("sensorLength", this.sensorLength);
            this.spacerWidths = this.getProperty("spacerWidths", this.spacerWidths);
            this.angleFactors = this.getProperty("angleFactors", this.angleFactors);
            this.initialOffsetX = this.getProperty("initialOffsetX", this.initialOffsetX);
            this.initialOffsetY = this.getProperty("initialOffsetY", this.initialOffsetY);
            this.initialOffsetZ = this.getProperty("initialOffsetZ", this.initialOffsetZ);
            this.sidewaysLength = this.getProperty("sidewaysLength", this.sidewaysLength);
            this.sidewaysOffset = this.getProperty("sidewaysOffset", this.sidewaysOffset);
            this.backBumperEdge = this.getProperty("backBumperEdge", this.backBumperEdge);
            this.powerBoosting = this.getProperty("powerBoosting", this.powerBoosting);
            this.wonderDistance = this.getProperty("wonderDistance", this.wonderDistance);
            this.avoidanceFactor = this.getProperty("avoidanceFactor", this.avoidanceFactor);
            this.avoidanceSpeed = this.getProperty("avoidanceSpeed", this.avoidanceSpeed);
            this.avoidanceTimeout = this.getProperty("avoidanceTimeout", this.avoidanceTimeout);
            this.avoidanceDistance = this.getProperty("avoidanceDistance", this.avoidanceDistance);
            // ..
            if (this.ackermanRadius <= 0)
                this.ackermanRadius = 1;
            if (this.recoveryRadius <= 0)
                this.recoveryRadius = 1;
            if (this.resetMovingTimeout <= 0)
                this.resetMovingTimeout = 3;
            if (this.reverseThrottleTime <= 0)
                this.reverseThrottleTime = 3;
            if (this.throttleSensitivity <= 0)
                this.throttleSensitivity = 1;
            if (this.steeringSensitivity <= 0)
                this.steeringSensitivity = 1;
            if (this.brakingSensitivity <= 0)
                this.brakingSensitivity = 1;
            if (this.linearDampenForce <= 0)
                this.linearDampenForce = 0.1;
            if (this.angleFactors <= 0)
                this.angleFactors = 1.5;
            if (this.sensorLength <= 0)
                this.sensorLength = 8;
            if (this.sidewaysLength <= 0)
                this.sidewaysLength = 1;
            // ..
            if (this.brakingSpeedLimit <= 0)
                this.brakingSpeedLimit = 40;
            if (this.skiddingSpeedLimit <= 0)
                this.skiddingSpeedLimit = 80;
            if (this.driveSpeedMultiplier <= 1)
                this.driveSpeedMultiplier = 5;
            if (this.trackManagerIdentity == null || this.trackManagerIdentity === "")
                this.trackManagerIdentity = "TrackManager";
            // ..
            const initialRaceLineNode = this.getProperty("initialRaceLineNode", 1);
            this.raceLineNode = (initialRaceLineNode - 1);
            // ..
            const randomizer = this.getRandomNumber(10, 15) * 1000;
            BABYLON.Toolkit.WindowManager.SetInterval(randomizer, () => { this.randomSkillFactor = this.getRandomNumber(1, 20); });
        }
        initVehicleController() {
            this.m_rigidbodyPhysics = this.getComponent("BABYLON.Toolkit.RigidbodyPhysics");
            this.m_checkpointManager = this.getComponent("PROJECT.CheckpointManager");
            if (this.m_rigidbodyPhysics != null) {
                this.m_rigidbodyPhysics.onCollisionEnterObservable.add((mesh) => {
                    const tag = BABYLON.Toolkit.SceneManager.GetTransformTag(mesh);
                    if (tag === this.vehicleTag) {
                        // BABYLON.Toolkit.SceneManager.ConsoleWarn(this.transform.name.toLocaleUpperCase() + " CAR COLLISION ENTER: " + mesh.name + " ---> TAG: " + tag);
                    }
                });
                this.m_rigidbodyPhysics.onCollisionStayObservable.add((mesh) => {
                    if (mesh != null) {
                        const tag = BABYLON.Toolkit.SceneManager.GetTransformTag(mesh);
                        if (tag === this.vehicleTag) {
                            // BABYLON.Toolkit.SceneManager.ConsoleLog(this.transform.name.toLocaleUpperCase() + " CAR COLLISION STAY: " + mesh.name + " ---> TAG: " + tag);
                        }
                    }
                });
                this.m_rigidbodyPhysics.onCollisionExitObservable.add((mesh) => {
                    if (mesh != null) {
                        const tag = BABYLON.Toolkit.SceneManager.GetTransformTag(mesh);
                        if (tag === this.vehicleTag) {
                            // BABYLON.Toolkit.SceneManager.ConsoleWarn(this.transform.name.toLocaleUpperCase() + " CAR COLLISION EXIT: " + mesh.name + " ---> TAG: " + tag);
                        }
                    }
                });
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("Null rigidbody physics for: " + this.transform.name);
            }
            // Get Standard Car Controller
            this.m_standardCarController = this.getComponent("PROJECT.StandardCarController");
            //if (this.m_standardCarController != null) {
            //    this.m_standardCarController.playVehicleSounds = true;
            //} else {
            //    BABYLON.Toolkit.SceneManager.LogWarning("Null standard car controller for: " + this.transform.name);
            //}
            // Get Race Track Manager Waypoints
            const waypointsTransform = BABYLON.Toolkit.SceneManager.GetTransformNode(this.scene, this.trackManagerIdentity);
            if (waypointsTransform != null) {
                const raceTrackManager = BABYLON.Toolkit.SceneManager.FindScriptComponent(waypointsTransform, "PROJECT.RaceTrackManager");
                if (raceTrackManager != null) {
                    this.waypointCount = 0;
                    this.waypointIndex = 0;
                    this.m_circuitInterfaces = raceTrackManager.getTrackNodes();
                    this.m_circuitRaceLine_1 = raceTrackManager.getControlPoints(0);
                    this.m_circuitRaceLine_2 = raceTrackManager.getControlPoints(1);
                    this.m_circuitRaceLine_3 = raceTrackManager.getControlPoints(2);
                    this.m_circuitRaceLine_4 = raceTrackManager.getControlPoints(3);
                    this.m_circuitRaceLine_5 = raceTrackManager.getControlPoints(4);
                    if (this.m_circuitInterfaces != null && this.m_circuitInterfaces.length > 0) {
                        this.waypointCount = this.m_circuitInterfaces.length;
                    }
                }
                else {
                    BABYLON.Toolkit.SceneManager.LogWarning("Fail to locate race track manager for: " + this.transform.name);
                }
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("Fail to locate race track manager '" + this.trackManagerIdentity + "' for: " + this.transform.name);
            }
        }
        updateVehicleController() {
            if (this.enableInput === true) {
                if (this.playerNumber === 0) {
                    this.updateAutoPilotDrive();
                }
                else {
                    this.updateManualInputDrive();
                }
            }
            //////////////////////////////////////////////////////////////////////////////////
            // Validate Vehicle Flipped Upright
            //////////////////////////////////////////////////////////////////////////////////
            if (this.resetTiming > 0 && this.m_standardCarController != null) {
                const gameTime = BABYLON.Toolkit.SceneManager.GetGameTime();
                if (this.transform.up.y > 0.5 || this.m_standardCarController.getAbsoluteSpeed() > 1) {
                    this.vehicleResetCheck = gameTime;
                }
                if (gameTime > (this.vehicleResetCheck + this.resetTiming)) {
                    // FIXME: Reset To Last Check Point
                    this.transform.position.addInPlace(BABYLON.Vector3.Up().scale(0.5));
                    BABYLON.Toolkit.Utilities.LookRotationToRef(this.transform.forward, this.transform.rotationQuaternion);
                }
            }
        }
        updateManualInputDrive() {
            if (this.m_standardCarController != null) {
                this.playerDeltaX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Horizontal, this.playerNumber);
                this.playerDeltaY = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Vertical, this.playerNumber);
                this.playerMouseX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseX, this.playerNumber);
                this.playerMouseY = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseY, this.playerNumber);
                // Get Button Triggers
                const auxForwardKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.auxKeyboardForawrd); // Player One Only
                const forwardKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardForawrd); // Player One Only
                const forwardTrigger = BABYLON.Toolkit.InputController.GetGamepadTriggerInput(this.triggerForward, this.playerNumber);
                const forwardPedal = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.pedelForward, this.playerNumber);
                const auxBackwardKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.auxKeyboardBackwards); // Player One Only
                const backwardKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardBackwards); // Player One Only
                const backwardTrigger = BABYLON.Toolkit.InputController.GetGamepadTriggerInput(this.triggerBackwards, this.playerNumber);
                const backwardPedal = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.pedalBackward, this.playerNumber);
                const boosterPedal = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.pedalBooster, this.playerNumber);
                const boosterKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardBooster); // Player One Only
                const boosterButton = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonBooster, this.playerNumber);
                const handbrakeKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardHandbrake); // Player One Only
                const handbrakeButton = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonHandbrake, this.playerNumber);
                const handbrakeWheel_L = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.leftWheelHandbrake, this.playerNumber);
                const handbrakeWheel_R = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.rightWheelHandbrake, this.playerNumber);
                const donutKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardDonut); // Player One Only
                const donutButton_L = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.leftButtonDonut, this.playerNumber);
                const donutButton_R = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.rightButtonDonut, this.playerNumber);
                const donutWheel_L = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.leftWheelDonut, this.playerNumber);
                const donutWheel_R = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.rightWheelDonut, this.playerNumber);
                // Reset Player Movement
                let playerMovement = 0;
                let playerSteering = 0;
                let playerHandbrake = false;
                let playerDonuts = false;
                let speedBooster = false;
                let wheelInput = false;
                // Primary Accelerattion
                if (forwardTrigger > 0.2)
                    playerMovement = forwardTrigger;
                else if (forwardPedal === true) {
                    playerMovement = 1;
                    wheelInput = true;
                }
                else if (this.playerNumber === BABYLON.Toolkit.PlayerNumber.One && (forwardKeyboard === true || auxForwardKeyboard === true))
                    playerMovement = 1;
                else if (BABYLON.Toolkit.InputController.AllowMobileControls === true && BABYLON.Toolkit.InputController.MobileControlsActive === true && this.playerDeltaY > 0)
                    playerMovement = this.playerDeltaY; // Mobile Controls
                // Braking Takes Precedence
                if (backwardTrigger > 0.2)
                    playerMovement = -backwardTrigger;
                else if (backwardPedal === true) {
                    playerMovement = -1;
                    wheelInput = true;
                }
                else if (this.playerNumber === BABYLON.Toolkit.PlayerNumber.One && (backwardKeyboard === true || auxBackwardKeyboard === true))
                    playerMovement = -1;
                else if (BABYLON.Toolkit.InputController.AllowMobileControls === true && BABYLON.Toolkit.InputController.MobileControlsActive === true && this.playerDeltaY < 0)
                    playerMovement = this.playerDeltaY; // Mobile Controls
                // Includes AD And Arrow Keys
                playerSteering = this.playerDeltaX;
                // Pull Hard Hand Brake Lever
                playerHandbrake = (handbrakeKeyboard === true || handbrakeButton === true || handbrakeWheel_L === true || handbrakeWheel_R === true);
                // Press Burnout Donut Button
                playerDonuts = (donutKeyboard === true || donutButton_L === true || donutButton_R === true || donutWheel_L === true || donutWheel_R === true);
                // Press Speed Booster Button
                speedBooster = (boosterKeyboard === true || boosterButton === true || boosterPedal === true);
                // Validate Steering Wheel Mode
                if (this.steeringWheelMode === -1 && BABYLON.Toolkit.UserInputOptions.SupportedInputDevices != null && BABYLON.Toolkit.UserInputOptions.SupportedInputDevices.length > 0) {
                    const gamepad = BABYLON.Toolkit.InputController.GetGamepad(this.playerNumber);
                    if (gamepad != null && gamepad.id != null) {
                        let foundSupportedDevice = false;
                        for (let index = 0; index < BABYLON.Toolkit.UserInputOptions.SupportedInputDevices.length; index++) {
                            const wheel = BABYLON.Toolkit.UserInputOptions.SupportedInputDevices[index];
                            if (gamepad.id.toLowerCase().indexOf(wheel.deviceName.toLowerCase()) >= 0) {
                                if (wheel.forwardButton > -1)
                                    this.pedelForward = wheel.forwardButton;
                                if (wheel.backwardButton > -1)
                                    this.pedalBackward = wheel.backwardButton;
                                if (wheel.leftHandBrake > -1)
                                    this.leftWheelHandbrake = wheel.leftHandBrake;
                                if (wheel.rightHandBrake > -1)
                                    this.rightWheelHandbrake = wheel.rightHandBrake;
                                if (wheel.leftDonutBoost > -1)
                                    this.leftWheelDonut = wheel.leftDonutBoost;
                                if (wheel.rightDonutBoost > -1)
                                    this.rightWheelDonut = wheel.rightDonutBoost;
                                foundSupportedDevice = true;
                                console.warn(gamepad.id + " steering wheel controls attached to: " + this.transform.name);
                                break;
                            }
                        }
                        this.steeringWheelMode = (foundSupportedDevice === true) ? 1 : 0;
                    }
                }
                // Drive Standard Car Controller
                this.m_standardCarController.ackermanTurnFactor = (wheelInput === true) ? this.ackermanRadius : 1.0;
                this.m_standardCarController.throttleEngineSpeed = 0;
                this.m_standardCarController.throttleBrakingForce = 0;
                this.m_standardCarController.drive(playerMovement, playerSteering, playerHandbrake, playerDonuts, 0, false, speedBooster);
            }
        }
        updateAutoPilotDrive() {
            if (this.m_standardCarController != null) {
                const gameTime = this.getGameTime();
                const deltaTime = this.getDeltaSeconds();
                const transformPosition = this.transform.getAbsolutePosition();
                this.raceLineNode = BABYLON.Scalar.Clamp(this.raceLineNode, 0, 4);
                if (this.m_chaseRabbitMesh == null) {
                    this.m_chaseRabbitMesh = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".Rabbit", { segments: 24, diameter: 1 }, this.scene);
                    this.m_chaseRabbitMesh.checkCollisions = false;
                    this.m_chaseRabbitMesh.receiveShadows = false;
                    this.m_chaseRabbitMesh.visibility = 1.0;
                    this.m_chaseRabbitMesh.isVisible = false;
                    this.resetChaseRabbitMesh();
                }
                if (this.m_chaseRabbitMesh != null) {
                    if (this.m_chaseRabbitMesh.isVisible === true && this.showChaseRabbit === false) {
                        this.m_chaseRabbitMesh.isVisible = false;
                    }
                    if (this.m_chaseRabbitMesh.isVisible === false && this.showChaseRabbit === true) {
                        this.m_chaseRabbitMesh.isVisible = true;
                    }
                }
                if (this.m_chasePointMesh == null) {
                    this.m_chasePointMesh = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".Point", { size: 0.9 }, this.scene);
                    this.m_chasePointMesh.checkCollisions = false;
                    this.m_chasePointMesh.receiveShadows = false;
                    this.m_chasePointMesh.visibility = 1.0;
                    this.m_chasePointMesh.isVisible = false;
                    this.resetChasePointMesh();
                }
                if (this.m_chasePointMesh != null) {
                    if (this.m_chasePointMesh.isVisible === true && this.showChaseRabbit === false) {
                        this.m_chasePointMesh.isVisible = false;
                    }
                    if (this.m_chasePointMesh.isVisible === false && this.showChaseRabbit === true) {
                        this.m_chasePointMesh.isVisible = true;
                    }
                }
                ////////////////////////////////////////////////////////////////////////////////////////////
                // Update Avoidance Timer
                ////////////////////////////////////////////////////////////////////////////////////////////
                if (this.avoidanceTimer > 0) {
                    this.avoidanceTimer -= deltaTime;
                    if (this.avoidanceTimer <= 0) {
                        this.avoidanceTimer = 0;
                        this.avoidanceValue = 0;
                    }
                }
                ////////////////////////////////////////////////////////////////////////////////////////////
                // Sensor Update System
                ////////////////////////////////////////////////////////////////////////////////////////////
                let tagname = "";
                let contact = false;
                let raycast = this.autoDriveRaycastResult;
                let avoidance = 0;
                this.sidewaysOffsetVector.set(0, 0, -this.sidewaysOffset);
                this.backBumperEdgeVector.set(0, 0, -this.backBumperEdge);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Main Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                this.sensorStartPos.copyFrom(transformPosition);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.sensorStartPos);
                this.transform.forward.scaleAndAddToRef(this.initialOffsetZ, this.sensorStartPos);
                // Setup Main Sensor Point
                this.sensorPointPos.copyFrom(this.sensorStartPos);
                this.transform.forward.scaleAndAddToRef(this.sensorLength, this.sensorPointPos);
                this.sensorAnglePos.copyFrom(this.sensorPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Right Side Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.rsideStartPos, this.sidewaysOffsetVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.rsideStartPos);
                this.transform.right.scaleAndAddToRef(this.initialOffsetX, this.rsideStartPos);
                // Setup Right Side Sensor Point
                this.rsidePointPos.copyFrom(this.rsideStartPos);
                this.transform.right.scaleAndAddToRef(this.sidewaysLength, this.rsidePointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Right Back Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.rbackStartPos, this.backBumperEdgeVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.rbackStartPos);
                this.transform.right.scaleAndAddToRef(this.initialOffsetX, this.rbackStartPos);
                // Setup Right Back Sensor Point
                this.rbackPointPos.copyFrom(this.rbackStartPos);
                this.transform.right.scaleAndAddToRef(this.sidewaysLength, this.rbackPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Left Side Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.lsideStartPos, this.sidewaysOffsetVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.lsideStartPos);
                this.transform.right.scaleAndAddToRef(-this.initialOffsetX, this.lsideStartPos);
                // Setup Left Side Sensor Point
                this.lsidePointPos.copyFrom(this.lsideStartPos);
                this.transform.right.scaleAndAddToRef(-this.sidewaysLength, this.lsidePointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Left Back Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.lbackStartPos, this.backBumperEdgeVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.lbackStartPos);
                this.transform.right.scaleAndAddToRef(-this.initialOffsetX, this.lbackStartPos);
                // Setup Left Back Sensor Point
                this.lbackPointPos.copyFrom(this.lbackStartPos);
                this.transform.right.scaleAndAddToRef(-this.sidewaysLength, this.lbackPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Save Initial Start Point
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                const firstSensorStartPos = this.sensorStartPos.clone();
                const firstSensorPointPos = this.sensorPointPos.clone();
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let mainRightSensorContact = false;
                this.transform.right.scaleToRef(this.spacerWidths, this.tempScaleVector);
                this.sensorStartPos.addInPlace(this.tempScaleVector);
                this.sensorPointPos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.sensorStartPos, this.sensorPointPos, raycast);
                if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                    tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                    contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                    if (contact === true) {
                        mainRightSensorContact = true;
                        avoidance -= 1.0;
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainRightSensorLine == null)
                        this.mainRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".MainRightSensorLine", this.scene);
                    if (contact === true) {
                        this.mainRightSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainRightSensorLine.drawLine([this.sensorStartPos, this.sensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Angle Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let angleRightSensorContact = false;
                this.transform.right.scaleToRef((this.spacerWidths * 2) * this.angleFactors, this.tempScaleVector);
                this.sensorAnglePos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorAnglePos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.sensorStartPos, this.sensorAnglePos, raycast);
                if (mainRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            angleRightSensorContact = true;
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.angleRightSensorLine == null)
                        this.angleRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".AngleRightSensorLine", this.scene);
                    if (contact === true) {
                        this.angleRightSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.angleRightSensorLine.drawLine([this.sensorStartPos, this.sensorAnglePos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Side Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let sideRightSensorContact = false;
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.rsideStartPos, this.rsidePointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.rsideStartPos, this.rsidePointPos, raycast);
                if (mainRightSensorContact === false && angleRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            sideRightSensorContact = true;
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.sideRightSensorLine == null)
                        this.sideRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".SideRightSensorLine", this.scene);
                    if (contact === true) {
                        this.sideRightSensorLine.drawLine([this.rsideStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.sideRightSensorLine.drawLine([this.rsideStartPos, this.rsidePointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Back Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.rbackStartPos, this.rbackPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.rbackStartPos, this.rbackPointPos, raycast);
                if (mainRightSensorContact === false && angleRightSensorContact === false && sideRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.backRightSensorLine == null)
                        this.backRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".BackRightSensorLine", this.scene);
                    if (contact === true) {
                        this.backRightSensorLine.drawLine([this.rbackStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.backRightSensorLine.drawLine([this.rbackStartPos, this.rbackPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let mainLeftSensorContact = false;
                this.transform.right.scaleToRef(-(this.spacerWidths * 2), this.tempScaleVector);
                this.sensorStartPos.addInPlace(this.tempScaleVector);
                this.sensorPointPos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.sensorStartPos, this.sensorPointPos, raycast);
                if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                    tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                    contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                    if (contact === true) {
                        mainLeftSensorContact = true;
                        avoidance += 1.0;
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainLeftSensorLine == null)
                        this.mainLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".MainLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.mainLeftSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainLeftSensorLine.drawLine([this.sensorStartPos, this.sensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Angle Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let angleLeftSensorContact = false;
                this.transform.right.scaleToRef(-(this.spacerWidths * 4) * this.angleFactors, this.tempScaleVector);
                this.sensorAnglePos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorAnglePos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.sensorStartPos, this.sensorAnglePos, raycast);
                if (mainLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            angleLeftSensorContact = true;
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.angleLeftSensorLine == null)
                        this.angleLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".AngleLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.angleLeftSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.angleLeftSensorLine.drawLine([this.sensorStartPos, this.sensorAnglePos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Side Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let sideLeftSensorContact = false;
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.lsideStartPos, this.lsidePointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.lsideStartPos, this.lsidePointPos, raycast);
                if (mainLeftSensorContact === false && angleLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            sideLeftSensorContact = true;
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.sideLeftSensorLine == null)
                        this.sideLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".SideLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.sideLeftSensorLine.drawLine([this.lsideStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.sideLeftSensorLine.drawLine([this.lsideStartPos, this.lsidePointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Back Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.lbackStartPos, this.lbackPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.lbackStartPos, this.lbackPointPos, raycast);
                if (mainLeftSensorContact === false && angleLeftSensorContact === false && sideLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.backLeftSensorLine == null)
                        this.backLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".BackLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.backLeftSensorLine.drawLine([this.lbackStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.backLeftSensorLine.drawLine([this.lbackStartPos, this.lbackPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Center Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, firstSensorStartPos, firstSensorPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(firstSensorStartPos, firstSensorPointPos, raycast);
                if (avoidance === 0) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            if (raycast.hitNormal.x < 0) {
                                avoidance = -1;
                            }
                            else {
                                avoidance = 1;
                            }
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainCenterSensorLine == null)
                        this.mainCenterSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".MainCenterSensorLine", this.scene);
                    if (contact === true) {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, firstSensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // TODO - Long Range Brake Threat Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                /*
                tagname = "";
                contact = false;
                raycast = BABYLON.Toolkit.SceneManager.PhysicsRaycastToPoint(this.scene, firstSensorStartPos, firstSensorPointPos);
                if (avoidance === 0) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainCenterSensorLine == null) this.mainCenterSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".MainCenterSensorLine", this.scene);
                    if (contact === true) {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    } else {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, firstSensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                */
                ////////////////////////////////////////////////////////////////////////////////////////////
                const trackNode = this.getCurrentTrackNode(this.waypointIndex);
                const controlPoint = this.getCurrentControlPoint(this.raceLineNode, this.waypointIndex);
                if (this.m_chaseRabbitMesh != null && this.waypointCount > 0 && trackNode != null && controlPoint != null) {
                    this.waypointPosition.set(controlPoint.position.x, controlPoint.position.y, controlPoint.position.z);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const targetSpeed = (controlPoint.speed > 0 ? controlPoint.speed : 100) * this.getDriverSkillFactor();
                    const targetRadius = (trackNode.radius * 1);
                    const distToTarget = BABYLON.Vector3.Distance(this.waypointPosition, transformPosition);
                    if (distToTarget < targetRadius) {
                        if (this.prevTargetSpeed <= 0)
                            this.prevTargetSpeed = targetSpeed;
                        this.nextTargetSpeed = BABYLON.Scalar.Lerp(this.prevTargetSpeed, targetSpeed, (1.0 - (distToTarget / targetRadius)));
                        if (this.showChaseRabbit === true)
                            this.rabbitTrackerColor = this.redTrackingColor;
                    }
                    else {
                        this.nextTargetSpeed = targetSpeed;
                        if (this.showChaseRabbit === true)
                            this.rabbitTrackerColor = this.greenTrackingColor;
                    }
                    const gradientSpeed = this.m_standardCarController.getGradientSpeed();
                    const americanSpeed = this.m_standardCarController.getAmericanSpeed();
                    const isSkidding = this.m_standardCarController.getCurrentSkidding();
                    const lookAhead = BABYLON.Scalar.Lerp(this.minLookAhead, this.maxLookAhead, gradientSpeed);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // TODO - UPDATE CHASE RABBIT - Walk Spline Waypoint Positions - (RaceTrackManager.GetRoadAheadDirection) - ???
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    /* GET ROUT POINT WITH DISTANCE
                    const pointToPointThreshold:number = 6;
                    const targetDelta = this.m_chaseRabbitMesh.position.subtract(transformPosition);
                    const deltaLength:number = targetDelta.length();
                    if (deltaLength < pointToPointThreshold) {
                        this.waypointIndex = (this.waypointIndex + 1) % this.m_circuitInterfaces.length;
                    }
                    // ..
                    this.m_chaseRabbitMesh.position = this.m_circuitInterfaces[this.waypointIndex].localPosition.clone();
                    this.m_chaseRabbitMesh.rotationQuaternion = this.m_circuitInterfaces[this.waypointIndex].localRotation.clone();
                    // ..
                    // get our current progress along the route
                    const progressPoint = this.raceTrackManager.getRoutePoint(this.progressDistance);
                    const aheadPoint = this.raceTrackManager.getRoutePoint(this.progressDistance + 40);
                    // ..
                    this.m_chasePointMesh.position.copyFrom(aheadPoint.position);
                    BABYLON.Toolkit.Utilities.LookRotationToRef(aheadPoint.direction, this.m_chasePointMesh.rotationQuaternion);
                    // ..
                    const progressDelta = progressPoint.position.subtract(transformPosition);
                    if (BABYLON.Vector3.Dot(progressDelta, progressPoint.direction) < 0) {
                        this.progressDistance += progressDelta.length();
                    }
                    UTIL.PrintToScreen("Waypoint: " + this.waypointIndex + " --> Delta Length: " + deltaLength.toFixed(2) + " --> Progress Distance: " + this.progressDistance);
                    */
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // TODO - UPDATE CHASE RABBIT - Walk Spline Waypoint Positions - (RaceTrackManager.GetRoadAheadDirection) - ???
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const rabbitPosition = this.m_chaseRabbitMesh.getAbsolutePosition();
                    const rabbitDistance = BABYLON.Vector3.Distance(transformPosition, rabbitPosition);
                    if (rabbitDistance <= lookAhead) {
                        this.chaseRabbitSpeed = BABYLON.Scalar.Lerp(1.0, this.driveSpeedMultiplier, gradientSpeed);
                        this.m_chaseRabbitMesh.lookAt(this.waypointPosition);
                        this.m_chaseRabbitMesh.translate(BABYLON.Axis.Z, this.chaseRabbitSpeed);
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Avoidance Mode Tracking
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (avoidance !== 0) {
                        this.avoidanceValue = avoidance; // Last Avoidance Value
                        this.avoidanceTimer = this.avoidanceTimeout; // Reset Avoidance Timer
                    }
                    if (this.m_checkpointManager != null) {
                        const currentCheckpoint = this.m_checkpointManager.getCheckPoint();
                        if (currentCheckpoint != this.lastCheckpoint) {
                            this.randomTurning = this.generateRandonNumber(0, 3);
                            if (this.powerBoosting > 0) {
                                this.randomBoosting = this.generateRandonNumber(0, this.powerBoosting);
                            }
                            if (this.wonderDistance > 0) {
                                const minimumVal = this.driveLineDistance;
                                const randomSign = Math.sign(this.generateRandonNumber(-1, 1));
                                this.randomDistance = this.generateRandonNumber(minimumVal, (minimumVal + this.wonderDistance)) * randomSign;
                            }
                            this.lastCheckpoint = currentCheckpoint;
                        }
                    }
                    else {
                        this.randomTurning = 0;
                        this.randomBoosting = 0;
                        this.randomDistance = 0;
                    }
                    let wantedAvoidDistance = (this.avoidanceTimer > 0 && this.avoidanceValue !== 0) ? (this.avoidanceDistance * Math.sign(this.avoidanceValue)) : 0;
                    wantedAvoidDistance += this.randomDistance;
                    this.avoidanceLerp = BABYLON.Scalar.Lerp(this.avoidanceLerp, wantedAvoidDistance, (this.avoidanceSpeed * deltaTime));
                    this.avoidPositionOffset.set(this.avoidanceLerp, 0, 0);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.m_chaseRabbitMesh, this.m_chasePointMesh.position, this.avoidPositionOffset);
                    if (this.showChaseRabbit === true) {
                        this.trackVehiclePosition.set(transformPosition.x, (transformPosition.y + 0.5), transformPosition.z);
                        // DEPRECIATED: this.trackRabbitPosition.set(rabbitPosition.x, (rabbitPosition.y + 0.25), rabbitPosition.z);
                        this.trackRabbitPosition.set(this.m_chasePointMesh.position.x, (this.m_chasePointMesh.position.y + 0.25), this.m_chasePointMesh.position.z);
                        if (this.rabbitTrackerLine == null)
                            this.rabbitTrackerLine = new BABYLON.Toolkit.LinesMeshRenderer((this.transform.name + ".TrackingLine"), this.scene);
                        if (this.rabbitTrackerLine != null)
                            this.rabbitTrackerLine.drawLine([this.trackVehiclePosition, this.trackRabbitPosition], this.rabbitTrackerColor);
                    }
                    // ..
                    // Validate Waypoint Distance
                    // ..
                    const waypointDistance = BABYLON.Vector3.Distance(rabbitPosition, this.waypointPosition);
                    if (waypointDistance <= 5.0) {
                        this.prevTargetSpeed = this.nextTargetSpeed;
                        this.waypointIndex++;
                        if (this.waypointIndex >= this.waypointCount) {
                            this.waypointIndex = 0;
                        }
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // DEPRECIATED: BABYLON.Toolkit.Utilities.InverseTransformPointToRef(this.transform, rabbitPosition, this.localTargetPosition);
                    BABYLON.Toolkit.Utilities.InverseTransformPointToRef(this.transform, this.m_chasePointMesh.position, this.localTargetPosition);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const localTargetAngle = BABYLON.Tools.ToDegrees(Math.atan2(this.localTargetPosition.x, this.localTargetPosition.z));
                    const cornerAngle = BABYLON.Scalar.Clamp(Math.abs(localTargetAngle), 0, 90);
                    const cornerFactor = (cornerAngle / 90);
                    // ..
                    // Update Vehicle Driving
                    // ..
                    let braking = 0;
                    let slowdown = 0;
                    let boosting = this.randomBoosting;
                    let topspeed = this.maxRaceTrackSpeed;
                    let throttle = (1.0 * this.throttleSensitivity);
                    let steering = BABYLON.Scalar.Clamp(((this.localTargetPosition.x / this.localTargetPosition.length()) * this.steeringSensitivity), -1, 1);
                    if (this.avoidanceFactor > 0 && avoidance !== 0) {
                        const lowSpeedAvoidance = ((avoidance * 0.112) * this.avoidanceFactor);
                        const highSpeedAvoidance = ((avoidance * 0.06) * this.avoidanceFactor);
                        steering += BABYLON.Scalar.Lerp(lowSpeedAvoidance, highSpeedAvoidance, gradientSpeed);
                    }
                    let handbraking = false;
                    if (this.nextTargetSpeed <= 0)
                        this.nextTargetSpeed = targetSpeed;
                    if (americanSpeed > this.nextTargetSpeed) { // Target Speed Throttling
                        slowdown = BABYLON.Scalar.Lerp(0.0, this.linearDampenForce, gradientSpeed);
                        throttle *= 0.2; // Note : 20 Percent Throttle Input
                    }
                    if (this.brakingTurnAngle > 0) { // Corner Angle Foot Braking
                        const checkCornerAngle = (this.brakingTurnAngle - this.randomTurning);
                        if (cornerAngle >= checkCornerAngle && americanSpeed >= this.brakingSpeedLimit) {
                            braking = BABYLON.Scalar.Lerp(0, (1 + gradientSpeed), cornerFactor);
                            slowdown = 0;
                            // ..
                            // Hard Hand Braking (Drifting)
                            // ..
                            const skiddingTriggerSpeed = (isSkidding === true) ? this.brakingSpeedLimit : this.skiddingSpeedLimit;
                            handbraking = (braking > 0 && americanSpeed >= skiddingTriggerSpeed);
                            if (handbraking === true)
                                braking = 1.0; // Note: Use Hand Braking Zone Strength
                        }
                    }
                    if (braking > 0)
                        braking = BABYLON.Scalar.Clamp((braking * this.brakingSensitivity), 0, 1);
                    if (braking > 0)
                        throttle = (-braking);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Reverse Movement Fix Mode
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (this.reverseFixMode === true) {
                        throttle = -1;
                        boosting = 0;
                        steering = 0;
                        slowdown = 0;
                        handbraking = false;
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Validate No Forward Velocity
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (throttle >= 0.1 && americanSpeed < 2.0) {
                        this.noMovementTime += deltaTime;
                    }
                    else {
                        this.noMovementTime = 0;
                    }
                    if (this.noMovementTime >= this.resetMovingTimeout) {
                        this.noMovementTime = 0;
                        this.reverseFixMode = true;
                        this.recoveryFixMode = true;
                        const reverseTime = (this.reverseThrottleTime * 1000);
                        const recoveryTime = ((this.reverseThrottleTime * 1000) * 3.0);
                        BABYLON.Toolkit.WindowManager.SetTimeout(reverseTime, () => { this.reverseFixMode = false; });
                        BABYLON.Toolkit.WindowManager.SetTimeout(recoveryTime, () => { this.recoveryFixMode = false; });
                    }
                    const speedBooster = false; // TODO: Support AI Speed Boosting (NOS)
                    this.m_standardCarController.ackermanTurnFactor = (this.recoveryFixMode === true) ? this.recoveryRadius : 1.0;
                    this.m_standardCarController.throttleEngineSpeed = topspeed;
                    this.m_standardCarController.throttleBrakingForce = slowdown;
                    this.m_standardCarController.drive(throttle, steering, handbraking, false, boosting, true, speedBooster);
                }
            }
        }
        getDriverSkillFactor() {
            let result = 0.60;
            let skill = this.driverSkillLevel;
            if (this.randomSkillFactor >= 18) {
                skill += 2;
            }
            else if (this.randomSkillFactor >= 12) {
                skill += 1;
            }
            skill = BABYLON.Scalar.Clamp(skill, 1, 10);
            // WM.PrintToScreen("Driver Skill Level: " + skill);
            switch (skill) {
                case 10:
                    result = 1.00;
                    break;
                case 9:
                    result = 0.98;
                    break;
                case 8:
                    result = 0.95;
                    break;
                case 7:
                    result = 0.90;
                    break;
                case 6:
                    result = 0.85;
                    break;
                case 5:
                    result = 0.80;
                    break;
                case 4:
                    result = 0.75;
                    break;
                case 3:
                    result = 0.70;
                    break;
                case 2:
                    result = 0.65;
                    break;
                case 1:
                    result = 0.60;
                    break;
            }
            return result;
        }
        getCurrentTrackNode(index) {
            let result = null;
            if (index >= 0 && index < this.waypointCount) {
                result = this.m_circuitInterfaces[index];
            }
            return result;
        }
        getCurrentControlPoint(lane, index) {
            let result = null;
            if (index >= 0 && index < this.waypointCount) {
                switch (lane) {
                    case 0:
                        result = this.m_circuitRaceLine_1[index];
                        break;
                    case 1:
                        result = this.m_circuitRaceLine_2[index];
                        break;
                    case 2:
                        result = this.m_circuitRaceLine_3[index];
                        break;
                    case 3:
                        result = this.m_circuitRaceLine_4[index];
                        break;
                    case 4:
                        result = this.m_circuitRaceLine_5[index];
                        break;
                }
            }
            return result;
        }
        getRandomNumber(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        generateRandonNumber(min, max, decimals = 2) {
            const rand = (Math.random() * (max - min) + min).toFixed(decimals);
            return parseFloat(rand);
        }
        destroyVehicleController() {
            this.m_circuitInterfaces = null;
            this.m_circuitRaceLine_1 = null;
            this.m_circuitRaceLine_2 = null;
            this.m_circuitRaceLine_3 = null;
            this.m_circuitRaceLine_4 = null;
            this.m_circuitRaceLine_5 = null;
            this.m_rigidbodyPhysics = null;
            this.m_standardCarController = null;
            if (this.m_chasePointMesh != null) {
                this.m_chasePointMesh.dispose();
                this.m_chasePointMesh = null;
            }
            if (this.m_chaseRabbitMesh != null) {
                this.m_chaseRabbitMesh.dispose();
                this.m_chaseRabbitMesh = null;
            }
        }
    }
    PROJECT.VehicleInputController = VehicleInputController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class VehicleNetworkLabel
    */
    class VehicleNetworkLabel extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.label = null;
            this.autoCreate = true;
            this.offsetX = 0;
            this.offsetY = 0;
            this.labelColor = new BABYLON.Color3(1.0, 1.0, 1.0);
            this.borderColor = new BABYLON.Color3(0.0, 0.8431373, 0.827451);
            this.backgroundColor = new BABYLON.Color3(0.0, 0.4745098, 0.4666667);
            this.labelCreated = false;
        }
        update() {
            if (this.labelCreated === false && this.autoCreate === true && this.isReady()) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    const ownerName = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(this.transform, "ownerName");
                    if (ownerName != null && ownerName !== "") {
                        this.autoCreate = false;
                        this.labelCreated = true;
                        this.createLabel(ownerName);
                    }
                }
            }
        }
        createLabel(name) {
            const advancedTexture = BABYLON.Toolkit.SceneManager.GetFullscreenUI(this.scene);
            this.label = new BABYLON.GUI.TextBlock();
            this.label.text = name;
            this.label.color = this.labelColor.toHexString(); // "white";
            this.label.fontSize = 24;
            // ..
            this.rect = new BABYLON.GUI.Rectangle();
            this.rect.width = "200px";
            this.rect.height = "40px";
            this.rect.cornerRadius = 10;
            this.rect.color = this.borderColor.toHexString(); // "#00D7D3";
            this.rect.thickness = 4;
            this.rect.background = this.backgroundColor.toHexString(); // "#007977";
            this.rect.addControl(this.label);
            // ..
            advancedTexture.addControl(this.rect);
            this.rect.linkWithMesh(this.transform);
            this.rect.linkOffsetXInPixels = this.offsetX;
            this.rect.linkOffsetYInPixels = this.offsetY;
            // FIXME: One Of Them Does Not Get The Label Created
            // console.warn("WTF: Owner Name");
            // console.log(name);
        }
        destroy() {
            console.warn("*** GOT DESTROY MESSAGE ***");
            if (this.label != null) {
                this.label.dispose();
                this.label = null;
            }
            if (this.rect != null) {
                this.rect.dispose();
                this.rect = null;
            }
        }
    }
    PROJECT.VehicleNetworkLabel = VehicleNetworkLabel;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit default camera system class
     * @class DefaultCameraSystem - All rights reserved (c) 2020 Mackey Kinard
     * https://doc.babylonjs.com/divingDeeper/postProcesses/defaultRenderingPipeline
     */
    class DefaultCameraSystem extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.mainCamera = false;
            this.cameraType = 0;
            this.cameraInertia = 0.5;
            this.cameraController = null;
            this.immersiveOptions = null;
            this.arcRotateConfig = null;
            this.multiPlayerSetup = null;
            this.fullScreenToggle = 0;
            this.setPointerLock = true;
            this.editorPostProcessing = null;
            this.m_cameraRig = null;
        }
        static GetRenderingPipeline() { return PROJECT.DefaultCameraSystem.renderingPipeline; }
        ;
        static GetScreenSpacePipeline() { return PROJECT.DefaultCameraSystem.screenSpacePipeline; }
        ;
        static IsCameraSystemReady() { return PROJECT.DefaultCameraSystem.cameraReady; }
        isMainCamera() { return this.mainCamera; }
        getCameraType() { return this.cameraType; }
        awake() { this.awakeCameraSystemState(); }
        start() { this.startCameraSystemState(); }
        update() { this.updateCameraSystemState(); }
        destroy() { this.destroyCameraSystemState(); }
        /////////////////////////////////////////////
        // Universal Camera System State Functions //
        /////////////////////////////////////////////
        awakeCameraSystemState() {
            this.mainCamera = (this.getTransformTag() === "MainCamera");
            this.cameraType = this.getProperty("mainCameraType", this.cameraType);
            this.cameraInertia = this.getProperty("setCameraInertia", this.cameraInertia);
            this.fullScreenToggle = this.getProperty("fullScreenToggle", this.fullScreenToggle);
            this.setPointerLock = this.getProperty("setPointerLock", this.setPointerLock);
            this.immersiveOptions = this.getProperty("immersiveOptions", this.immersiveOptions);
            this.arcRotateConfig = this.getProperty("arcRotateConfig", this.arcRotateConfig);
            this.multiPlayerSetup = this.getProperty("multiPlayerSetup", this.multiPlayerSetup);
            this.cameraController = this.getProperty("cameraController", this.cameraController);
            this.editorPostProcessing = this.getProperty("renderingPipeline", this.editorPostProcessing);
            this.cleanCameraSystemState();
            if (this.fullScreenToggle === 0) {
                BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.F, () => {
                    //this.scene.getEngine().enterFullscreen(true);
                    SM.EnterFullscreenMode(this.scene, this.setPointerLock);
                });
            }
        }
        startCameraSystemState() {
            return __awaiter(this, void 0, void 0, function* () {
                BABYLON.Toolkit.Utilities.ValidateTransformQuaternion(this.transform);
                if (this.multiPlayerSetup != null) {
                    PROJECT.DefaultCameraSystem.startupMode = this.multiPlayerSetup.playerStartupMode;
                    PROJECT.DefaultCameraSystem.stereoCameras = this.multiPlayerSetup.stereoSideBySide;
                }
                // ..
                // Default Camera System Support
                // ..
                this.m_cameraRig = this.getCameraRig();
                if (this.m_cameraRig != null) {
                    this.m_cameraRig.inertia = this.cameraInertia;
                    if (this.cameraController != null) {
                        this.m_cameraRig.speed = this.cameraController.cameraSpeed;
                        this.m_cameraRig.inverseRotationSpeed = this.cameraController.invRotationSpeed;
                        if (this.m_cameraRig instanceof BABYLON.UniversalCamera) {
                            this.m_cameraRig.gamepadAngularSensibility = this.cameraController.gamepadRotation;
                            this.m_cameraRig.gamepadMoveSensibility = this.cameraController.gamepadMovement;
                            this.m_cameraRig.touchAngularSensibility = this.cameraController.touchRotation;
                            this.m_cameraRig.touchMoveSensibility = this.cameraController.touchMovement;
                        }
                        if (this.cameraController.keyboardWASD === true) {
                            if (this.m_cameraRig.inputs != null && this.m_cameraRig.inputs.attached != null && this.m_cameraRig.inputs.attached.keyboard != null) {
                                if (this.m_cameraRig.inputs.attached.keyboard instanceof BABYLON.FreeCameraKeyboardMoveInput) {
                                    const cinput = this.m_cameraRig.inputs.attached.keyboard;
                                    cinput.keysUp.push(BABYLON.Toolkit.UserInputKey.W);
                                    cinput.keysLeft.push(BABYLON.Toolkit.UserInputKey.A);
                                    cinput.keysDown.push(BABYLON.Toolkit.UserInputKey.S);
                                    cinput.keysRight.push(BABYLON.Toolkit.UserInputKey.D);
                                    cinput.rotationSpeed = this.cameraController.rotationSpeed;
                                    if (this.cameraController.arrowKeyRotation === true) {
                                        cinput.keysLeft = [BABYLON.Toolkit.UserInputKey.A];
                                        cinput.keysRight = [BABYLON.Toolkit.UserInputKey.D];
                                        cinput.keysRotateLeft = [BABYLON.Toolkit.UserInputKey.LeftArrow];
                                        cinput.keysRotateRight = [BABYLON.Toolkit.UserInputKey.RightArrow];
                                    }
                                }
                            }
                        }
                    }
                    if (this.m_cameraRig.inputs != null && this.m_cameraRig.inputs.attached != null && this.m_cameraRig.inputs.attached.mouse != null) {
                        const mouseInput = this.m_cameraRig.inputs.attached.mouse;
                        // ..
                        // NOTE: Touch Enabled Mouse Hack
                        // ..
                        if (BABYLON.Toolkit.Utilities.HasOwnProperty(mouseInput, "touchEnabled")) {
                            mouseInput.touchEnabled = true;
                        }
                    }
                    if (this.cameraType === 0 || this.cameraType === 4) { // Universal And Free Target Camera
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = this.m_cameraRig;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = this.transform;
                        //}             
                    }
                    else if (this.cameraType === 1 || this.cameraType === 2) { // WebXR Camera Types
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = this.m_cameraRig;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = this.transform;
                        //}             
                        if (this.immersiveOptions != null) {
                            const localStorageRequired = (this.immersiveOptions.localStorageOption === true);
                            if (localStorageRequired === false || (localStorageRequired === true && BABYLON.Toolkit.WindowManager.GetVirtualRealityEnabled())) {
                                let webvrFloorMeshes = null;
                                let webvrHelperOptions = null;
                                let webvrImmersiveMode = (this.cameraType === 1) ? "immersive-ar" : "immersive-vr";
                                let webvrReferenceType = "local-floor";
                                switch (this.immersiveOptions.referenceSpaceType) {
                                    case 0:
                                        webvrReferenceType = "viewer";
                                        break;
                                    case 1:
                                        webvrReferenceType = "local";
                                        break;
                                    case 2:
                                        webvrReferenceType = "local-floor";
                                        break;
                                    case 4:
                                        webvrReferenceType = "unbounded";
                                        break;
                                    default:
                                        webvrReferenceType = "local-floor";
                                        break;
                                }
                                if (this.immersiveOptions.setFloorMeshesTags == null || this.immersiveOptions.setFloorMeshesTags === "")
                                    this.immersiveOptions.setFloorMeshesTags = "Navigation";
                                if (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === true)
                                    webvrFloorMeshes = this.scene.getMeshesByTags(this.immersiveOptions.setFloorMeshesTags);
                                if (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === true && webvrFloorMeshes != null && webvrFloorMeshes.length > 0) {
                                    webvrHelperOptions = {
                                        floorMeshes: webvrFloorMeshes,
                                        optionalFeatures: this.immersiveOptions.optionalFeatures,
                                        useStablePlugins: this.immersiveOptions.useStablePlugins,
                                        renderingGroupId: this.immersiveOptions.renderingGroupNum,
                                        disableDefaultUI: this.immersiveOptions.disableUserInterface,
                                        disableTeleportation: (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === false),
                                        disablePointerSelection: this.immersiveOptions.disablePointerSelect,
                                        ignoreNativeCameraTransformation: this.immersiveOptions.ignoreNativeCamera,
                                        inputOptions: {
                                            doNotLoadControllerMeshes: this.immersiveOptions.experienceInputOptions.disableMeshLoad,
                                            forceInputProfile: this.immersiveOptions.experienceInputOptions.forceInputProfile,
                                            disableOnlineControllerRepository: this.immersiveOptions.experienceInputOptions.disableRepository,
                                            customControllersRepositoryURL: this.immersiveOptions.experienceInputOptions.customRepository,
                                            disableControllerAnimation: this.immersiveOptions.experienceInputOptions.disableModelAnim,
                                            controllerOptions: {
                                                disableMotionControllerAnimation: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlAnim,
                                                doNotLoadControllerMesh: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlMesh,
                                                forceControllerProfile: this.immersiveOptions.experienceInputOptions.controllerOptions.forceCtrlProfile,
                                                renderingGroupId: this.immersiveOptions.experienceInputOptions.controllerOptions.renderingGroup
                                            }
                                        },
                                        uiOptions: {
                                            sessionMode: webvrImmersiveMode,
                                            referenceSpaceType: webvrReferenceType
                                        }
                                    };
                                }
                                else {
                                    webvrHelperOptions = {
                                        optionalFeatures: this.immersiveOptions.optionalFeatures,
                                        useStablePlugins: this.immersiveOptions.useStablePlugins,
                                        renderingGroupId: this.immersiveOptions.renderingGroupNum,
                                        disableDefaultUI: this.immersiveOptions.disableUserInterface,
                                        disableTeleportation: (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === false),
                                        disablePointerSelection: this.immersiveOptions.disablePointerSelect,
                                        ignoreNativeCameraTransformation: this.immersiveOptions.ignoreNativeCamera,
                                        inputOptions: {
                                            doNotLoadControllerMeshes: this.immersiveOptions.experienceInputOptions.disableMeshLoad,
                                            forceInputProfile: this.immersiveOptions.experienceInputOptions.forceInputProfile,
                                            disableOnlineControllerRepository: this.immersiveOptions.experienceInputOptions.disableRepository,
                                            customControllersRepositoryURL: this.immersiveOptions.experienceInputOptions.customRepository,
                                            disableControllerAnimation: this.immersiveOptions.experienceInputOptions.disableModelAnim,
                                            controllerOptions: {
                                                disableMotionControllerAnimation: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlAnim,
                                                doNotLoadControllerMesh: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlMesh,
                                                forceControllerProfile: this.immersiveOptions.experienceInputOptions.controllerOptions.forceCtrlProfile,
                                                renderingGroupId: this.immersiveOptions.renderingGroupNum
                                            }
                                        },
                                        uiOptions: {
                                            sessionMode: webvrImmersiveMode,
                                            referenceSpaceType: webvrReferenceType
                                        }
                                    };
                                }
                                PROJECT.DefaultCameraSystem.XRExperienceHelper = yield this.scene.createDefaultXRExperienceAsync(webvrHelperOptions);
                                if (PROJECT.DefaultCameraSystem.XRExperienceHelper != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience != null) {
                                    if (PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation != null) {
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.rotationAngle = BABYLON.Tools.ToRadians(this.immersiveOptions.defaultTeleportationSetup.turningAxisAngle);
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.rotationEnabled = this.immersiveOptions.defaultTeleportationSetup.rotationsEnabled;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.backwardsMovementEnabled = this.immersiveOptions.defaultTeleportationSetup.backwardsEnabled;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.backwardsTeleportationDistance = this.immersiveOptions.defaultTeleportationSetup.backwardsDistance;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.parabolicCheckRadius = this.immersiveOptions.defaultTeleportationSetup.parabolicRadius;
                                    }
                                    if (PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable && PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable.hasObservers()) {
                                        PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable.notifyObservers(PROJECT.DefaultCameraSystem.XRExperienceHelper);
                                    }
                                    if (BABYLON.Toolkit.SceneManager.HasNavigationData()) {
                                        const navmesh = BABYLON.Toolkit.SceneManager.GetNavigationMesh();
                                        PROJECT.DefaultCameraSystem.SetupNavigationWebXR(navmesh, this.immersiveOptions.setFloorMeshesTags);
                                    }
                                    else {
                                        BABYLON.Toolkit.SceneManager.OnNavMeshReadyObservable.addOnce((navmesh) => {
                                            PROJECT.DefaultCameraSystem.SetupNavigationWebXR(navmesh, this.immersiveOptions.setFloorMeshesTags);
                                        });
                                    }
                                }
                                else {
                                    BABYLON.Toolkit.SceneManager.LogWarning("WebXR not supported in current browser.");
                                }
                            }
                        }
                    }
                    else if (this.cameraType === 3) { // Multi Player Camera
                        const cameraName = this.m_cameraRig.name;
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        const playerOneTransform = new BABYLON.TransformNode("Player Camera 1", this.scene);
                        playerOneTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerOneTransform.position = this.transform.position.clone();
                        playerOneTransform.parent = this.transform.parent;
                        // ..
                        const playerOneName = cameraName + ".1";
                        const playerOneCamerax = this.m_cameraRig.clone(playerOneName);
                        playerOneCamerax.name = playerOneName;
                        playerOneCamerax.parent = playerOneTransform;
                        playerOneCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerOneCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerOneCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerOneCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = playerOneCamerax;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = playerOneTransform;
                        playerOneTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerOneCamera;
                        //}             
                        //if (PROJECT.DefaultCameraSystem.PlayerTwoCamera == null) {
                        const playerTwoTransform = new BABYLON.TransformNode("Player Camera 2", this.scene);
                        playerTwoTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerTwoTransform.position = this.transform.position.clone();
                        playerTwoTransform.parent = this.transform.parent;
                        // ..
                        const playerTwoName = cameraName + ".2";
                        const playerTwoCamerax = this.m_cameraRig.clone(playerTwoName);
                        playerTwoCamerax.name = playerTwoName;
                        playerTwoCamerax.parent = playerTwoTransform;
                        playerTwoCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerTwoCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerTwoCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerTwoCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera = playerTwoCamerax;
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform = playerTwoTransform;
                        playerTwoTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerTwoCamera;
                        //}
                        //if (PROJECT.DefaultCameraSystem.PlayerThreeCamera == null) {
                        const playerThreeTransform = new BABYLON.TransformNode("Player Camera 3", this.scene);
                        playerThreeTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerThreeTransform.position = this.transform.position.clone();
                        playerThreeTransform.parent = this.transform.parent;
                        // ..
                        const playerThreeName = cameraName + ".3";
                        const playerThreeCamerax = this.m_cameraRig.clone(playerThreeName);
                        playerThreeCamerax.name = playerThreeName;
                        playerThreeCamerax.parent = playerThreeTransform;
                        playerThreeCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerThreeCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerThreeCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerThreeCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera = playerThreeCamerax;
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform = playerThreeTransform;
                        playerThreeTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerThreeCamera;
                        //}
                        //if (PROJECT.DefaultCameraSystem.PlayerFourCamera == null) {
                        const playerFourTransform = new BABYLON.TransformNode("Player Camera 4", this.scene);
                        playerFourTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerFourTransform.position = this.transform.position.clone();
                        playerFourTransform.parent = this.transform.parent;
                        // ..
                        const playerFourName = cameraName + ".4";
                        const playerFourCamerax = this.m_cameraRig.clone(playerFourName);
                        playerFourCamerax.name = playerFourName;
                        playerFourCamerax.parent = playerFourTransform;
                        playerFourCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerFourCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerFourCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerFourCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera = playerFourCamerax;
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.transform = playerFourTransform;
                        playerFourTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerFourCamera;
                        //}
                        PROJECT.DefaultCameraSystem.multiPlayerView = true;
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, PROJECT.DefaultCameraSystem.startupMode);
                    }
                    // ..
                    // Validate Camera Attach Control
                    // ..
                    if (this.cameraController.attachControl === true) {
                        this.m_cameraRig.parent = null; // Detach Camera Parent When Attaching Control
                        this.m_cameraRig.position.copyFrom(this.transform.position);
                        this.m_cameraRig.rotationQuaternion = (this.transform.rotationQuaternion != null) ? this.transform.rotationQuaternion.clone() : BABYLON.Quaternion.FromEulerAngles(this.transform.rotation.x, this.transform.rotation.y, this.transform.rotation.z);
                        const children = this.transform.getChildren(null, true);
                        if (children != null) {
                            children.forEach((child) => { child.parent = this.m_cameraRig; });
                        }
                        if (this.m_cameraRig instanceof BABYLON.FreeCamera) { // Note: Check Base Class For Universal Camera
                            this.m_cameraRig.checkCollisions = this.cameraController.checkCollisions;
                            this.m_cameraRig.applyGravity = this.cameraController.setApplyGravity;
                        }
                        this.m_cameraRig.attachControl(this.cameraController.preventDefault);
                    }
                }
                const quality = BABYLON.Toolkit.RenderQuality.High; // FIXME: BABYLON.Toolkit.SceneManager.GetRenderQuality();
                const allowProcessing = (quality === BABYLON.Toolkit.RenderQuality.High);
                //if (PROJECT.DefaultCameraSystem.renderingPipeline == null) {
                if (allowProcessing === true && this.editorPostProcessing != null && this.editorPostProcessing.usePostProcessing === true) {
                    PROJECT.DefaultCameraSystem.renderingPipeline = new BABYLON.DefaultRenderingPipeline("DefaultCameraSystem", this.editorPostProcessing.highDynamicRange, this.scene, this.scene.cameras, true);
                    if (PROJECT.DefaultCameraSystem.renderingPipeline.isSupported === true) {
                        const defaultPipeline = PROJECT.DefaultCameraSystem.renderingPipeline;
                        defaultPipeline.samples = this.editorPostProcessing.screenAntiAliasing.msaaSamples; // 1 by default (MSAA)
                        /* Image Processing */
                        defaultPipeline.imageProcessingEnabled = this.editorPostProcessing.imageProcessingConfig.imageProcessing; //true by default
                        if (defaultPipeline.imageProcessingEnabled) {
                            defaultPipeline.imageProcessing.contrast = this.editorPostProcessing.imageProcessingConfig.imageContrast; // 1 by default
                            defaultPipeline.imageProcessing.exposure = this.editorPostProcessing.imageProcessingConfig.imageExposure; // 1 by default
                            defaultPipeline.imageProcessing.toneMappingEnabled = this.editorPostProcessing.imageProcessingConfig.toneMapping; // false by default
                            defaultPipeline.imageProcessing.toneMappingType = this.editorPostProcessing.imageProcessingConfig.toneMapType; // standard by default
                            defaultPipeline.imageProcessing.vignetteEnabled = this.editorPostProcessing.imageProcessingConfig.vignetteEnabled;
                            if (defaultPipeline.imageProcessing.vignetteEnabled) {
                                defaultPipeline.imageProcessing.vignetteBlendMode = this.editorPostProcessing.imageProcessingConfig.vignetteBlendMode;
                                defaultPipeline.imageProcessing.vignetteCameraFov = this.editorPostProcessing.imageProcessingConfig.vignetteCameraFov;
                                defaultPipeline.imageProcessing.vignetteCentreX = this.editorPostProcessing.imageProcessingConfig.vignetteCentreX;
                                defaultPipeline.imageProcessing.vignetteCentreY = this.editorPostProcessing.imageProcessingConfig.vignetteCentreY;
                                defaultPipeline.imageProcessing.vignetteStretch = this.editorPostProcessing.imageProcessingConfig.vignetteStretch;
                                defaultPipeline.imageProcessing.vignetteWeight = this.editorPostProcessing.imageProcessingConfig.vignetteWeight;
                                if (this.editorPostProcessing.imageProcessingConfig.vignetteColor != null) {
                                    const vcolor = BABYLON.Toolkit.Utilities.ParseColor4(this.editorPostProcessing.imageProcessingConfig.vignetteColor);
                                    if (vcolor != null)
                                        defaultPipeline.imageProcessing.vignetteColor = vcolor;
                                }
                            }
                            /* Color Grading */
                            defaultPipeline.imageProcessing.colorGradingEnabled = this.editorPostProcessing.imageProcessingConfig.useColorGrading; // false by default
                            if (defaultPipeline.imageProcessing.colorGradingEnabled) {
                                // KEEP FOR REFERENCE
                                /* using .3dl (best) : defaultPipeline.imageProcessing.colorGradingTexture = new BABYLON.ColorGradingTexture("textures/LateSunset.3dl", this.scene); */
                                /* using .png :
                                var colorGradingTexture = new BABYLON.Texture("textures/colorGrade-highContrast.png", this.scene, true, false);
                                colorGradingTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                colorGradingTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                defaultPipeline.imageProcessing.colorGradingTexture = colorGradingTexture;
                                defaultPipeline.imageProcessing.colorGradingWithGreenDepth = false; */
                                //////////////////////////////////////////////////////////////////////////
                                if (this.editorPostProcessing.imageProcessingConfig.setGradingTexture != null) {
                                    const colorGradingTexture = BABYLON.Toolkit.Utilities.ParseTexture(this.editorPostProcessing.imageProcessingConfig.setGradingTexture, this.scene, true, false);
                                    colorGradingTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                    colorGradingTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                    defaultPipeline.imageProcessing.colorGradingTexture = colorGradingTexture;
                                    defaultPipeline.imageProcessing.colorGradingWithGreenDepth = false;
                                }
                            }
                            /* Color Curves */
                            defaultPipeline.imageProcessing.colorCurvesEnabled = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.curvesEnabled; // false by default
                            if (defaultPipeline.imageProcessing.colorCurvesEnabled) {
                                var curve = new BABYLON.ColorCurves();
                                curve.globalDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalDen; // 0 by default
                                curve.globalExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalExp; // 0 by default
                                curve.globalHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalHue; // 30 by default
                                curve.globalSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalSat; // 0 by default
                                curve.highlightsDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsDen; // 0 by default
                                curve.highlightsExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsExp; // 0 by default
                                curve.highlightsHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsHue; // 30 by default
                                curve.highlightsSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsSat; // 0 by default
                                curve.midtonesDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesDen; // 0 by default
                                curve.midtonesExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesExp; // 0 by default
                                curve.midtonesHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesHue; // 30 by default
                                curve.midtonesSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesSat; // 0 by default
                                curve.shadowsDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsDen; // 0 by default
                                curve.shadowsExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsExp; // 800 by default
                                curve.shadowsHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsHue; // 30 by default
                                curve.shadowsSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsSat; // 0 by default;
                                defaultPipeline.imageProcessing.colorCurves = curve;
                            }
                        }
                        /* Bloom */
                        defaultPipeline.bloomEnabled = this.editorPostProcessing.bloomEffectProperties.bloomEnabled; // false by default
                        if (defaultPipeline.bloomEnabled) {
                            defaultPipeline.bloomKernel = this.editorPostProcessing.bloomEffectProperties.bloomKernel; // 64 by default
                            defaultPipeline.bloomScale = this.editorPostProcessing.bloomEffectProperties.bloomScale; // 0.5 by default
                            defaultPipeline.bloomWeight = this.editorPostProcessing.bloomEffectProperties.bloomWeight; // 0.15 by default
                            defaultPipeline.bloomThreshold = this.editorPostProcessing.bloomEffectProperties.bloomThreshold; // 0.9 by default
                        }
                        /* Chromatic Abberation */
                        defaultPipeline.chromaticAberrationEnabled = this.editorPostProcessing.chromaticAberration.aberrationEnabled; // false by default
                        if (defaultPipeline.chromaticAberrationEnabled) {
                            defaultPipeline.chromaticAberration.aberrationAmount = this.editorPostProcessing.chromaticAberration.aberrationAmount; // 30 by default
                            defaultPipeline.chromaticAberration.adaptScaleToCurrentViewport = this.editorPostProcessing.chromaticAberration.adaptScaleViewport; // false by default
                            defaultPipeline.chromaticAberration.alphaMode = this.editorPostProcessing.chromaticAberration.alphaMode; // 0 by default
                            defaultPipeline.chromaticAberration.alwaysForcePOT = this.editorPostProcessing.chromaticAberration.alwaysForcePOT; // false by default
                            defaultPipeline.chromaticAberration.enablePixelPerfectMode = this.editorPostProcessing.chromaticAberration.pixelPerfectMode; // false by default
                            defaultPipeline.chromaticAberration.forceFullscreenViewport = this.editorPostProcessing.chromaticAberration.fullscreenViewport; // true by default
                        }
                        /* DOF */
                        defaultPipeline.depthOfFieldEnabled = this.editorPostProcessing.focalDepthOfField.depthOfField; // false by default
                        if (defaultPipeline.depthOfFieldEnabled && defaultPipeline.depthOfField.isSupported) {
                            defaultPipeline.depthOfFieldBlurLevel = this.editorPostProcessing.focalDepthOfField.blurLevel; // 0 by default
                            defaultPipeline.depthOfField.fStop = this.editorPostProcessing.focalDepthOfField.focalStop; // 1.4 by default
                            defaultPipeline.depthOfField.focalLength = this.editorPostProcessing.focalDepthOfField.focalLength; // 50 by default, mm
                            defaultPipeline.depthOfField.focusDistance = this.editorPostProcessing.focalDepthOfField.focusDistance; // 2000 by default, mm
                            defaultPipeline.depthOfField.lensSize = this.editorPostProcessing.focalDepthOfField.maxLensSize; // 50 by default
                        }
                        /* FXAA */
                        defaultPipeline.fxaaEnabled = this.editorPostProcessing.screenAntiAliasing.fxaaEnabled; // false by default
                        if (defaultPipeline.fxaaEnabled) {
                            defaultPipeline.fxaa.samples = this.editorPostProcessing.screenAntiAliasing.fxaaSamples; // 1 by default
                            defaultPipeline.fxaa.adaptScaleToCurrentViewport = this.editorPostProcessing.screenAntiAliasing.fxaaScaling; // false by default
                        }
                        /* GlowLayer */
                        defaultPipeline.glowLayerEnabled = this.editorPostProcessing.glowLayerProperties.glowEnabled;
                        if (defaultPipeline.glowLayerEnabled) {
                            defaultPipeline.glowLayer.intensity = this.editorPostProcessing.glowLayerProperties.glowIntensity; // 1 by default
                            defaultPipeline.glowLayer.blurKernelSize = this.editorPostProcessing.glowLayerProperties.blurKernelSize; // 16 by default
                        }
                        /* Grain */
                        defaultPipeline.grainEnabled = this.editorPostProcessing.grainEffectProperties.grainEnabled;
                        if (defaultPipeline.grainEnabled) {
                            defaultPipeline.grain.animated = this.editorPostProcessing.grainEffectProperties.grainAnimated; // false by default
                            defaultPipeline.grain.intensity = this.editorPostProcessing.grainEffectProperties.grainIntensity; // 30 by default
                            defaultPipeline.grain.adaptScaleToCurrentViewport = this.editorPostProcessing.grainEffectProperties.adaptScaleViewport; // false by default
                        }
                        /* Sharpen */
                        defaultPipeline.sharpenEnabled = this.editorPostProcessing.sharpEffectProperties.sharpenEnabled;
                        if (defaultPipeline.sharpenEnabled) {
                            defaultPipeline.sharpen.edgeAmount = this.editorPostProcessing.sharpEffectProperties.sharpEdgeAmount; // 0.3 by default
                            defaultPipeline.sharpen.colorAmount = this.editorPostProcessing.sharpEffectProperties.sharpColorAmount; // 1 by default
                            defaultPipeline.sharpen.adaptScaleToCurrentViewport = this.editorPostProcessing.sharpEffectProperties.adaptScaleViewport; // false by default
                        }
                    }
                    else {
                        BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js default rendering pipeline not supported");
                    }
                    // ..
                    // Screen Space Ambient Occlusion
                    // ..
                    if (this.editorPostProcessing.screenSpaceRendering != null && this.editorPostProcessing.screenSpaceRendering.SSAO === true) {
                        const ssaoRatio = {
                            ssaoRatio: this.editorPostProcessing.screenSpaceRendering.SSAORatio, // Ratio of the SSAO post-process, in a lower resolution
                            combineRatio: this.editorPostProcessing.screenSpaceRendering.combineRatio // Ratio of the combine post-process (combines the SSAO and the scene)
                        };
                        PROJECT.DefaultCameraSystem.screenSpacePipeline = new BABYLON.SSAORenderingPipeline("DefaultCameraSystem-SSAO", this.scene, ssaoRatio, this.scene.cameras);
                        if (PROJECT.DefaultCameraSystem.screenSpacePipeline.isSupported === true) {
                            const ssaoPipeline = PROJECT.DefaultCameraSystem.screenSpacePipeline;
                            ssaoPipeline.fallOff = this.editorPostProcessing.screenSpaceRendering.fallOff;
                            ssaoPipeline.area = this.editorPostProcessing.screenSpaceRendering.area;
                            ssaoPipeline.radius = this.editorPostProcessing.screenSpaceRendering.radius;
                            ssaoPipeline.totalStrength = this.editorPostProcessing.screenSpaceRendering.totalStrength;
                            ssaoPipeline.base = this.editorPostProcessing.screenSpaceRendering.baseValue;
                        }
                        else {
                            BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js SSAO rendering pipeline not supported");
                        }
                    }
                }
                //}
                PROJECT.DefaultCameraSystem.cameraReady = true;
            });
        }
        updateCameraSystemState() {
            if (this.m_cameraRig != null) {
                if (this.cameraType === 0) { // Default Universal Camera
                }
                else if (this.cameraType === 1) { // Augmented Reality Camera
                }
                else if (this.cameraType === 2) { // Virtual Reality Camera
                }
                else if (this.cameraType === 3) { // Multi Player Camera
                }
            }
        }
        cleanCameraSystemState() {
            if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerOneCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerOneCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerTwoCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerTwoCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerTwoCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerThreeCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerThreeCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerThreeCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerFourCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerFourCamera = null;
            }
        }
        destroyCameraSystemState() {
            this.immersiveOptions = null;
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera Virtual Reality Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Get the WebXR default experience helper */
        static GetWebXR() { return PROJECT.DefaultCameraSystem.XRExperienceHelper; }
        /** Is universal camera system in WebXR mode */
        static IsInWebXR() { return (PROJECT.DefaultCameraSystem.XRExperienceHelper != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience.state === BABYLON.WebXRState.IN_XR); }
        /** Setup navigation mesh for WebXR */
        static SetupNavigationWebXR(mesh, tag) {
            const webxr = PROJECT.DefaultCameraSystem.XRExperienceHelper;
            if (webxr != null && webxr.teleportation != null && mesh != null && tag != null && tag != "") {
                const hastag = BABYLON.Tags.MatchesQuery(mesh, tag);
                if (hastag === true)
                    webxr.teleportation.addFloorMesh(mesh);
            }
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera System Player Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Get main camera rig for the scene */
        static GetMainCamera(scene, detach = false) {
            return PROJECT.DefaultCameraSystem.GetPlayerCamera(scene, BABYLON.Toolkit.PlayerNumber.One, detach);
        }
        /** Get universal camera rig for desired player */
        static GetPlayerCamera(scene, player = BABYLON.Toolkit.PlayerNumber.One, detach = false) {
            let result = null;
            let transform = PROJECT.DefaultCameraSystem.GetCameraTransform(scene, player);
            if (PROJECT.DefaultCameraSystem.IsCameraSystemReady()) {
                if (player === BABYLON.Toolkit.PlayerNumber.One && PROJECT.DefaultCameraSystem.PlayerOneCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerOneCamera;
                else if (player === BABYLON.Toolkit.PlayerNumber.Two && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerTwoCamera;
                else if (player === BABYLON.Toolkit.PlayerNumber.Three && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerThreeCamera;
                else if (player === BABYLON.Toolkit.PlayerNumber.Four && PROJECT.DefaultCameraSystem.PlayerFourCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerFourCamera;
                if (result != null && detach === true && parent != null) {
                    result.parent = null;
                    if (transform != null) {
                        result.position.copyFrom(transform.position);
                        result.rotationQuaternion = (transform.rotationQuaternion != null) ? transform.rotationQuaternion.clone() : BABYLON.Quaternion.FromEulerAngles(transform.rotation.x, transform.rotation.y, transform.rotation.z);
                        const children = transform.getChildren(null, true);
                        if (children != null) {
                            children.forEach((child) => { child.parent = result; });
                        }
                    }
                }
            }
            return result;
        }
        /** Get camera transform node for desired player */
        static GetCameraTransform(scene, player = BABYLON.Toolkit.PlayerNumber.One) {
            let result = null;
            if (PROJECT.DefaultCameraSystem.IsCameraSystemReady()) {
                if (player === BABYLON.Toolkit.PlayerNumber.One && PROJECT.DefaultCameraSystem.PlayerOneCamera != null && PROJECT.DefaultCameraSystem.PlayerOneCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerOneCamera.transform;
                else if (player === BABYLON.Toolkit.PlayerNumber.Two && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null && PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform;
                else if (player === BABYLON.Toolkit.PlayerNumber.Three && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null && PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform;
                else if (player === BABYLON.Toolkit.PlayerNumber.Four && PROJECT.DefaultCameraSystem.PlayerFourCamera != null && PROJECT.DefaultCameraSystem.PlayerFourCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerFourCamera.transform;
            }
            return result;
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera System Multi Player Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Are stereo side side camera services available. */
        static IsStereoCameras() {
            return PROJECT.DefaultCameraSystem.stereoCameras;
        }
        /** Are local multi player view services available. */
        static IsMultiPlayerView() {
            return PROJECT.DefaultCameraSystem.multiPlayerView;
        }
        /** Get the current local multi player count */
        static GetMultiPlayerCount() {
            return PROJECT.DefaultCameraSystem.multiPlayerCount;
        }
        /** Activates current local multi player cameras. */
        static ActivateMultiPlayerCameras(scene) {
            let result = false;
            if (PROJECT.DefaultCameraSystem.multiPlayerCameras != null && PROJECT.DefaultCameraSystem.multiPlayerCameras.length > 0) {
                scene.activeCameras = PROJECT.DefaultCameraSystem.multiPlayerCameras;
                result = true;
            }
            return result;
        }
        /** Disposes current local multiplayer cameras */
        static DisposeMultiPlayerCameras() {
            if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerOneCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerOneCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerTwoCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerTwoCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerTwoCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerThreeCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerThreeCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerThreeCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerFourCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerFourCamera = null;
            }
        }
        /** Sets the multi player camera view layout */
        static SetMultiPlayerViewLayout(scene, totalNumPlayers) {
            let result = false;
            let players = BABYLON.Scalar.Clamp(totalNumPlayers, 1, 4);
            if (PROJECT.DefaultCameraSystem.IsMultiPlayerView()) {
                if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null && PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                    PROJECT.DefaultCameraSystem.multiPlayerCameras = [];
                    if (players === 1) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 1, 1);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                    }
                    else if (players === 2) {
                        if (PROJECT.DefaultCameraSystem.stereoCameras === true) {
                            PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 1);
                            PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 1);
                        }
                        else {
                            PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0.5, 1, 0.5);
                            PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 1, 0.5);
                        }
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                    }
                    else if (players === 3) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 1);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0.5, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerThreeCamera);
                    }
                    else if (players === 4) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0.5, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerThreeCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerFourCamera);
                    }
                    else {
                        BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js camera rig invalid player count specified: " + players);
                    }
                }
                else {
                    BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js camera rig failed to initialize multi player cameras");
                }
                PROJECT.DefaultCameraSystem.multiPlayerCount = players;
                result = PROJECT.DefaultCameraSystem.ActivateMultiPlayerCameras(scene);
                if (result === false)
                    BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js camera rig failed to initialize multi player views");
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js camera rig multi player view option not enabled");
            }
            return result;
        }
    }
    DefaultCameraSystem.PlayerOneCamera = null;
    DefaultCameraSystem.PlayerTwoCamera = null;
    DefaultCameraSystem.PlayerThreeCamera = null;
    DefaultCameraSystem.PlayerFourCamera = null;
    DefaultCameraSystem.XRExperienceHelper = null;
    DefaultCameraSystem.multiPlayerView = false;
    DefaultCameraSystem.multiPlayerCount = 1;
    DefaultCameraSystem.multiPlayerCameras = null;
    DefaultCameraSystem.stereoCameras = true;
    DefaultCameraSystem.startupMode = 1;
    DefaultCameraSystem.cameraReady = false;
    DefaultCameraSystem.renderingPipeline = null;
    DefaultCameraSystem.screenSpacePipeline = null;
    /** Register handler that is triggered when the webxr experience helper has been created */
    DefaultCameraSystem.OnXRExperienceHelperObservable = new BABYLON.Observable();
    PROJECT.DefaultCameraSystem = DefaultCameraSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon Script Component
     * @class DebugInformation
     */
    class DebugInformation extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.keys = true;
            this.show = true;
            this.popup = false;
            this.views = false;
            this.xbox = false;
            this.color = BABYLON.Color3.Green();
        }
        awake() {
            this.keys = this.getProperty("enableDebugKeys", this.keys);
            this.show = this.getProperty("showDebugLabels", this.show);
            this.popup = this.getProperty("popupDebugPanel", this.popup);
            this.views = this.getProperty("togglePlayerViews", this.views);
            this.xbox = this.getProperty("allowXboxLiveSignIn", this.xbox);
            // ..
            const debugLabelColor = this.getProperty("debugOutputTextColor");
            if (debugLabelColor != null)
                this.color = BABYLON.Toolkit.Utilities.ParseColor3(debugLabelColor);
            // ..
            if (BABYLON.Toolkit.WindowManager.IsWindows())
                this.popup = false;
            BABYLON.Toolkit.SceneManager.LogMessage("Debug information overlay loaded");
        }
        /*
        var elem = document.documentElement;
        function openFullscreen() {
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            } else if (elem.webkitRequestFullscreen) { // Safari
                elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) { // IE11
                elem.msRequestFullscreen();
            }
        }
        function closeFullscreen() {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) { // Safari
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) { // IE11
                document.msExitFullscreen();
            }
        }
        */
        start() {
            //this.screen = document.getElementById("screen");
            //this.toggle = document.getElementById("toggle");
            //this.signin = document.getElementById("signin");
            //this.reload = document.getElementById("reload");
            //this.mouse = document.getElementById("mouse");
            //this.debug = document.getElementById("debug");
            if (this.show === true) {
                /*
                if (this.keys === true) {
                    if (!BABYLON.Toolkit.SceneManager.IsXboxOne()) {
                        if (this.screen) this.screen.innerHTML = "F - Show Full Screen";
                    }
                    if (BABYLON.CameraSystem.IsMultiPlayerView() && this.views === true) {
                        if (this.toggle) {
                            if (BABYLON.Toolkit.SceneManager.IsXboxOne()) {
                                this.toggle.style.top = "29px";
                            }
                            this.toggle.innerHTML = "1 - 4 Toggle Player View";
                        }
                    }
                    if (BABYLON.Toolkit.SceneManager.IsXboxLivePluginEnabled() && this.xbox === true) {
                        if (this.signin) {
                            if (BABYLON.Toolkit.SceneManager.IsXboxOne()) {
                                this.signin.style.top = "49px";
                            }
                            this.signin.innerHTML = "X - Xbox Live Sign In";
                        }
                    }
                    if (this.mouse) this.mouse.innerHTML = (BABYLON.Toolkit.SceneManager.IsXboxOne()) ? "M - Mouse" : "";
                    if (this.reload) this.reload.innerHTML = "R - Reload";
                    if (this.debug) this.debug.innerHTML = "P - Debug";
                }
                */
            }
            if (this.keys === true) {
                if (this.views === true) {
                    BABYLON.Toolkit.SceneManager.LogMessage("Enable Multiplayer Keys");
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.Num1, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 1);
                        BABYLON.Toolkit.SceneManager.LogMessage("1 player pressed");
                    });
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.Num2, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 2);
                        BABYLON.Toolkit.SceneManager.LogMessage("2 players pressed");
                    });
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.Num3, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 3);
                        BABYLON.Toolkit.SceneManager.LogMessage("3 players pressed");
                    });
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.Num4, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 4);
                        BABYLON.Toolkit.SceneManager.LogMessage("4 players pressed");
                    });
                }
                BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.R, () => {
                    window.location.reload();
                });
                BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.I, () => {
                    if (this.popup === true) {
                        BABYLON.Toolkit.WindowManager.PopupDebug(this.scene);
                    }
                    else {
                        BABYLON.Toolkit.WindowManager.ToggleDebug(this.scene, true, null);
                    }
                });
                BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.F, () => {
                    //BABYLON.Toolkit.SceneManager.ToggleFullscreenMode(this.scene);
                    this.openFullscreen(window.top.document.documentElement);
                });
                /*
                if (BABYLON.Toolkit.SceneManager.IsXboxOne()) {
                    if (navigator.gamepadInputEmulation) {
                        BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.M, ()=>{
                            if (navigator.gamepadInputEmulation !== "mouse") {
                                navigator.gamepadInputEmulation = "mouse";
                            } else {
                                navigator.gamepadInputEmulation = "gamepad";
                            }
                        });
                    }
                } else {
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.F, ()=>{
                        //BABYLON.Tools.RequestFullscreen(document.documentElement);
                        this.scene.getEngine().enterFullscreen(true);
                    });
                }
                if (BABYLON.WindowsPlatform.IsXboxLivePluginEnabled() && this.xbox === true) {
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.X, ()=>{
                        var player:BABYLON.Toolkit.PlayerNumber.One = BABYLON.Toolkit.PlayerNumber.One;
                        if (!BABYLON.WindowsPlatform.IsXboxLiveUserSignedIn(null, player)) {
                            BABYLON.Toolkit.SceneManager.LogMessage("===> Trying Xbox Live Sign In For Player: " + player.toString());
                            BABYLON.WindowsPlatform.XboxLiveUserSignIn(player, (result: Microsoft.Xbox.Services.System.SignInResult) => {
                                var user = BABYLON.WindowsPlatform.GetXboxLiveUser(player);
                                var msg = "(" + user.xboxUserId + ") - " + user.gamertag;
                                BABYLON.Toolkit.SceneManager.AlertMessage(msg, "Xbox Live User Signed In");
                            }, (err)=>{
                                BABYLON.Toolkit.SceneManager.LogMessage(err);
                                var msg:string = "Encountered Sign Error";
                                BABYLON.Toolkit.SceneManager.LogWarning(msg);
                                BABYLON.Toolkit.SceneManager.AlertMessage(msg, "Xbox Live Warning");
                            });
                        } else {
                            BABYLON.Toolkit.SceneManager.LogWarning("Xbox Live User Already Signed In");
                            BABYLON.Toolkit.SceneManager.AlertMessage("User Already Signed In", "Xbox Live Warning");
                        }
                    });
                }
                */
            }
            // Default Print To Screen Text
            var printColor = this.color.toHexString();
            var graphicsVersion = BABYLON.Toolkit.SceneManager.GetEngineVersionString(this.scene);
            BABYLON.Toolkit.WindowManager.PrintToScreen(graphicsVersion, printColor);
        }
        destroy() {
            //this.screen = null;
            //this.toggle = null;
            //this.signin = null;
            //this.reload = null;
            //this.mouse = null;
            //this.debug = null;
        }
        openFullscreen(elem) {
            //if (elem.requestFullscreen) {
            //    elem.requestFullscreen();
            //} else if (elem.webkitRequestFullscreen) { // Safari
            //    elem.webkitRequestFullscreen();
            //} else if (elem.msRequestFullscreen) { // IE11
            //    elem.msRequestFullscreen();
            //}
            DebugInformation._RequestFullscreen(elem);
        }
        closeFullscreen() {
            //if (document.exitFullscreen) {
            //    document.exitFullscreen();
            //} else if ((<any>document).webkitExitFullscreen) { // Safari
            //    (<any>document).webkitExitFullscreen();
            //} else if ((<any>document).msExitFullscreen) { // IE11
            //    (<any>document).msExitFullscreen();
            //}
            DebugInformation._ExitFullscreen();
        }
        /**
         * Ask the browser to promote the current element to fullscreen rendering mode
         * @param element defines the DOM element to promote
         */
        static _RequestFullscreen(element) {
            const requestFunction = element.requestFullscreen || element.webkitRequestFullscreen;
            if (!requestFunction) {
                return;
            }
            requestFunction.call(element);
        }
        /**
         * Asks the browser to exit fullscreen mode
         */
        static _ExitFullscreen() {
            const anyDoc = document;
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
            else if (anyDoc.webkitCancelFullScreen) {
                anyDoc.webkitCancelFullScreen();
            }
        }
    }
    PROJECT.DebugInformation = DebugInformation;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class CustomHtmlMarkup
    */
    class CustomHtmlMarkup extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.styleSheet = null;
            this.htmlMarkup = null;
            this.parentElement = "";
            this.uiParentElement = null;
        }
        awake() {
            const parentName = (this.parentElement != null && this.parentElement !== "" && this.parentElement.toLowerCase() !== "body") ? this.parentElement : this.transform.name.toLowerCase().replaceAll(" ", "-");
            const rootElement = document.getElementById(parentName);
            if (rootElement != null) {
                this.uiParentElement = rootElement;
            }
            else {
                this.uiParentElement = document.createElement("div");
                this.uiParentElement.id = parentName;
                document.body.appendChild(this.uiParentElement);
            }
        }
        start() {
            this.loadStyleSheet();
            this.loadHtmlMarkup();
        }
        destroy() {
            /* Destroy component function */
        }
        loadStyleSheet() {
            if (this.styleSheet != null && this.styleSheet !== "") {
                const style = document.createElement("style");
                style.id = (this.transform.name.toLowerCase().replaceAll(" ", "-") + ".stylesheet");
                style.type = "text/css";
                if (style.styleSheet) { // Note: Internet Explorer Support
                    style.styleSheet.cssText = this.styleSheet;
                }
                else {
                    style.appendChild(document.createTextNode(this.styleSheet));
                }
                document.head.appendChild(style);
            }
            else {
                console.warn("WARNING: Mobile Style Sheet Not Defined For: " + this.transform.name);
            }
        }
        loadHtmlMarkup() {
            if (this.htmlMarkup != null && this.htmlMarkup !== "") {
                this.uiParentElement.innerHTML = this.htmlMarkup;
            }
            else {
                console.warn("WARNING: Mobile Markup File Not Defined For: " + this.transform.name);
            }
        }
    }
    PROJECT.CustomHtmlMarkup = CustomHtmlMarkup;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class UserInterface
    */
    class UserInterface extends BABYLON.Toolkit.ScriptComponent {
        static IsCanvasReady() { return (PROJECT.UserInterface.AdvancedTexture != null); }
        static GetCanvasElement(name) { return (PROJECT.UserInterface.AdvancedTexture != null) ? PROJECT.UserInterface.AdvancedTexture.getControlByName(name) : null; }
        static ShowCanvasElement(element, fadeSpeedRatio = 0.0, onAnimationComplete = null) {
            let result = null;
            if (element != null) {
                if (fadeSpeedRatio > 0) {
                    const alphaStart = element.alpha;
                    const alphaEnd = 1.0;
                    element.isEnabled = true;
                    element.alpha = alphaEnd;
                    if (onAnimationComplete != null)
                        onAnimationComplete();
                    //result = BABYLON.Toolkit.SceneManager.StartTweenAnimation(PROJECT.UserInterface.SceneController, (element.name + "-ShowAlphaTween"), element, "alpha", alphaStart, alphaEnd, fadeSpeedRatio, null, null, null, ()=>{
                    //    element.isEnabled = true;
                    //    if (onAnimationComplete != null) onAnimationComplete();
                    //});
                }
                else {
                    element.isEnabled = true;
                    element.alpha = 1.0;
                }
            }
            return result;
        }
        static HideCanvasElement(element, fadeSpeedRatio = 0.0, onAnimationComplete = null) {
            let result = null;
            if (element != null) {
                if (fadeSpeedRatio > 0) {
                    element.isEnabled = false;
                    const alphaStart = element.alpha;
                    const alphaEnd = 0.0;
                    element.isEnabled = false;
                    element.alpha = alphaEnd;
                    if (onAnimationComplete != null)
                        onAnimationComplete();
                    //result = BABYLON.Toolkit.SceneManager.StartTweenAnimation(PROJECT.UserInterface.SceneController, (element.name + "-HideAlphaTween"), element, "alpha", alphaStart, alphaEnd, fadeSpeedRatio, null, null, null, ()=>{
                    //    if (onAnimationComplete != null) onAnimationComplete();
                    //});
                }
                else {
                    element.isEnabled = false;
                    element.alpha = 0.0;
                }
            }
            return result;
        }
        static SetSceneController(scene) { PROJECT.UserInterface.SceneController = scene; }
        static GetAdvancedTexture() { return PROJECT.UserInterface.AdvancedTexture; }
        static GetBackgroundTexture() { return PROJECT.UserInterface.BackgroundTexture; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.exportLowerCase = false;
            this.backgroundData = null;
            this.textureSampleMode = 2;
            this.idealRenderingSize = 0;
            this.viewportRenderSize = 0;
            this.customViewportSize = new BABYLON.Vector2(1920, 1080);
            this.defaultImageLocation = "scenes/assets/";
            this.defaultImageControl = true;
            this.isManagedTexture = true;
            this.scaleTextureSize = true;
            this.setAdaptiveScale = true;
            this.drawAtIdealSize = true;
            this.useSmallestIdeal = false;
            this.fontFamilyList = null;
            PROJECT.UserInterface.SetSceneController(scene);
            this.attachWebFonts();
        }
        awake() {
            this.setupProperties();
            this.preloadWebFonts();
        }
        start() {
            this.setupInterface();
        }
        destroy() {
            PROJECT.UserInterface.OnFontFacesReady.clear();
            PROJECT.UserInterface.OnFontFacesReady = null;
            PROJECT.UserInterface.OnFontFacesLoaded.clear();
            PROJECT.UserInterface.OnFontFacesLoaded = null;
            PROJECT.UserInterface.OnParseNodeObject.clear();
            PROJECT.UserInterface.OnParseNodeObject = null;
            PROJECT.UserInterface.OnInterfaceLoaded.clear();
            PROJECT.UserInterface.OnInterfaceLoaded = null;
            if (this.isManagedTexture === false && PROJECT.UserInterface.AdvancedTexture != null) {
                PROJECT.UserInterface.AdvancedTexture.dispose();
            }
            PROJECT.UserInterface.AdvancedTexture = null;
            if (PROJECT.UserInterface.BackgroundTexture != null) {
                PROJECT.UserInterface.BackgroundTexture.dispose();
            }
            PROJECT.UserInterface.BackgroundTexture = null;
        }
        engineResize() {
            this.scene.getEngine().resize(true); // Note: Force Initial Resize Content
        }
        setupProperties() {
            if (this.defaultImageLocation != null && this.defaultImageLocation !== "") {
                this.defaultImageLocation = this.defaultImageLocation.trim();
            }
            if (this.defaultImageLocation != null && this.defaultImageLocation !== "" && this.defaultImageLocation.endsWith("/") === false) {
                this.defaultImageLocation = (this.defaultImageLocation + "/");
            }
            if (this.customViewportSize.x <= 0)
                this.customViewportSize.x = 1920;
            if (this.customViewportSize.y <= 0)
                this.customViewportSize.y = 1080;
        }
        setupInterface() {
            let interfaceParsed = null;
            let backgroundParsed = null;
            const interfaceText = this.getProperty("base64UserInterface");
            if (interfaceText != null && interfaceText !== "") {
                const interfaceJson = window.atob(interfaceText);
                if (interfaceJson != null && interfaceJson !== "") {
                    interfaceParsed = JSON.parse(interfaceJson);
                    if (interfaceParsed != null) {
                        if (interfaceParsed.root != null) {
                            this.parseNodeObject(interfaceParsed.root);
                        }
                        let width = (this.viewportRenderSize === 0 && interfaceParsed.width !== null && interfaceParsed.width >= 0) ? interfaceParsed.width : this.customViewportSize.x;
                        let height = (this.viewportRenderSize === 0 && interfaceParsed.height !== null && interfaceParsed.height >= 0) ? interfaceParsed.height : this.customViewportSize.y;
                        if (this.viewportRenderSize === 1) {
                            width = this.scene.getEngine().getRenderingCanvas().width;
                            height = this.scene.getEngine().getRenderingCanvas().height;
                        }
                        // ..
                        // Advanced Texture
                        // ..
                        if (this.isManagedTexture === true) {
                            if (BABYLON.Toolkit.SceneManager.AdvDynamicTexture == null)
                                BABYLON.Toolkit.SceneManager.AdvDynamicTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("Default-Screen-UI", true, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                            PROJECT.UserInterface.AdvancedTexture = BABYLON.Toolkit.SceneManager.AdvDynamicTexture;
                        }
                        else {
                            PROJECT.UserInterface.AdvancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("GUI", true, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                        }
                        if (PROJECT.UserInterface.AdvancedTexture != null) {
                            if (this.idealRenderingSize > 0) {
                                if (this.idealRenderingSize === 1 || this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.idealWidth = width;
                                }
                                if (this.idealRenderingSize === 2 || this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.idealHeight = height;
                                }
                                if (this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal = this.useSmallestIdeal;
                                }
                                PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize = this.drawAtIdealSize;
                            }
                            else {
                                PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal = false;
                                PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize = false;
                            }
                            if (this.scaleTextureSize === true) {
                                PROJECT.UserInterface.AdvancedTexture.parseSerializedObject(interfaceParsed, false);
                                PROJECT.UserInterface.AdvancedTexture.scaleTo(width, height);
                            }
                            else {
                                PROJECT.UserInterface.AdvancedTexture.parseSerializedObject(interfaceParsed, false);
                            }
                        }
                        // ..
                        // Background Texture
                        // ..
                        if (this.backgroundData != null && this.backgroundData.createBackground === true) {
                            const backgroundText = this.getProperty("base64BackgroundData");
                            if (backgroundText != null && backgroundText !== "") {
                                const backgroundJson = window.atob(backgroundText);
                                if (backgroundJson != null && backgroundJson !== "") {
                                    backgroundParsed = JSON.parse(backgroundJson);
                                    if (backgroundParsed != null) {
                                        if (backgroundParsed.root != null) {
                                            this.parseNodeObject(backgroundParsed.root);
                                        }
                                    }
                                }
                            }
                            PROJECT.UserInterface.BackgroundTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("BACKGROUND", false, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                            if (PROJECT.UserInterface.BackgroundTexture != null) {
                                if (this.backgroundData.scaleToForeground === true) {
                                    if (PROJECT.UserInterface.AdvancedTexture.idealWidth != null) {
                                        PROJECT.UserInterface.BackgroundTexture.idealWidth = PROJECT.UserInterface.AdvancedTexture.idealWidth;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.idealHeight != null) {
                                        PROJECT.UserInterface.BackgroundTexture.idealHeight = PROJECT.UserInterface.AdvancedTexture.idealHeight;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal != null) {
                                        PROJECT.UserInterface.BackgroundTexture.useSmallestIdeal = PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize != null) {
                                        PROJECT.UserInterface.BackgroundTexture.renderAtIdealSize = PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize;
                                    }
                                }
                                else {
                                    PROJECT.UserInterface.BackgroundTexture.useSmallestIdeal = false;
                                    PROJECT.UserInterface.BackgroundTexture.renderAtIdealSize = false;
                                }
                                if (backgroundParsed != null)
                                    PROJECT.UserInterface.BackgroundTexture.parseSerializedObject(backgroundParsed, false);
                                if (this.backgroundData.scaleToForeground === true)
                                    PROJECT.UserInterface.BackgroundTexture.scaleTo(width, height);
                            }
                        }
                    }
                }
            }
            if (PROJECT.UserInterface.OnInterfaceLoaded && PROJECT.UserInterface.OnInterfaceLoaded.hasObservers()) {
                try {
                    PROJECT.UserInterface.OnInterfaceLoaded.notifyObservers(PROJECT.UserInterface.AdvancedTexture);
                }
                catch (error) {
                    console.warn(error.message);
                }
            }
            this.engineResize();
        }
        attachWebFonts() {
            if (PROJECT.UserInterface.FontFacesAttached === false) {
                PROJECT.UserInterface.FontFacesAttached = true;
                document.fonts.ready.then(() => {
                    BABYLON.Tools.Log("Document fonts ready.");
                    if (PROJECT.UserInterface.OnFontFacesReady && PROJECT.UserInterface.OnFontFacesReady.hasObservers()) {
                        try {
                            PROJECT.UserInterface.OnFontFacesReady.notifyObservers(document.fonts);
                        }
                        catch (error) {
                            console.warn(error.message);
                        }
                    }
                });
                document.fonts.onloadingdone = (fontFaceSetEvent) => {
                    this.engineResize();
                    BABYLON.Tools.Warn("All document fonts loaded.");
                    if (PROJECT.UserInterface.OnFontFacesLoaded && PROJECT.UserInterface.OnFontFacesLoaded.hasObservers()) {
                        try {
                            PROJECT.UserInterface.OnFontFacesLoaded.notifyObservers(fontFaceSetEvent);
                        }
                        catch (error) {
                            console.warn(error.message);
                        }
                    }
                };
            }
        }
        preloadWebFonts() {
            if (PROJECT.UserInterface.FontFacesPreloaded === false) {
                PROJECT.UserInterface.FontFacesPreloaded = true;
                if (this.fontFamilyList != null && this.fontFamilyList.length > 0) {
                    this.fontFamilyList.forEach((family) => {
                        const txt = document.createElement("span");
                        txt.style.fontFamily = family;
                        document.body.appendChild(txt);
                    });
                }
            }
        }
        parseNodeObject(object) {
            if (object != null) {
                if (this.defaultImageControl === true) {
                    try {
                        if (object.name != null && object.source != null && object.source !== "" && object.source.toLowerCase().indexOf("./images/") >= 0) {
                            object.source = (this.defaultImageLocation.endsWith("/")) ? object.source.replace("./images/", this.defaultImageLocation) : object.source.replace("./images", this.defaultImageLocation);
                            if (this.exportLowerCase === true)
                                object.source = object.source.toLowerCase();
                            /* DEPRECATED: KEEP-FOR-REFERENCE
                            const oname:string = object.name;
                            const lpart:number = oname.indexOf("(");
                            const rpart:number = oname.indexOf(")");
                            // ..
                            // Format New Object Source
                            // ..
                            if (lpart >= 0 && rpart >= 0 && rpart > lpart) {
                                let url:string = oname.substring((lpart + 1), rpart);
                                if (url != null && url !== "") {
                                    url = url.trim();
                                }
                                if (url != null && url !== "") {
                                    object.source = (this.defaultImageLocation.endsWith("/")) ? (this.defaultImageLocation + url) : (this.defaultImageLocation + "/" + url);
                                    // ..
                                    // Format New Object Name
                                    // ..
                                    let fname1:string = oname.substring(0, lpart);
                                    let fname2:string = oname.substring((rpart + 1));
                                    let fname3 = (fname1 + fname2);
                                    if (fname3 != null && fname3 !== "") {
                                        fname3 = fname3.trim();
                                    }
                                    if (fname3 != null && fname3 !== "") {
                                        object.name = fname3;
                                    }
                                }
                            }*/
                        }
                    }
                    catch (error) {
                        console.warn(error.message);
                    }
                }
                if (PROJECT.UserInterface.OnParseNodeObject && PROJECT.UserInterface.OnParseNodeObject.hasObservers()) {
                    try {
                        PROJECT.UserInterface.OnParseNodeObject.notifyObservers(object);
                    }
                    catch (error) {
                        console.warn(error.message);
                    }
                }
                if (object.children != null) {
                    object.children.forEach((child) => {
                        this.parseNodeObject(child);
                    });
                }
            }
        }
    }
    UserInterface.OnFontFacesReady = new BABYLON.Observable();
    UserInterface.OnFontFacesLoaded = new BABYLON.Observable();
    UserInterface.OnParseNodeObject = new BABYLON.Observable();
    UserInterface.OnInterfaceLoaded = new BABYLON.Observable();
    UserInterface.SceneController = null;
    UserInterface.AdvancedTexture = null;
    UserInterface.BackgroundTexture = null;
    UserInterface.FontFacesAttached = false;
    UserInterface.FontFacesPreloaded = false;
    PROJECT.UserInterface = UserInterface;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AssetExporter
    */
    class AssetExporter extends BABYLON.Toolkit.ScriptComponent {
        // Example: private helloWorld:string = "Hello World";
        awake() {
            /* Init component function */
        }
        start() {
            /* Start component function */
        }
        fixed() {
            /* Fixed update loop function */
        }
        update() {
            /* Update render loop function */
        }
        late() {
            /* Late update render loop function */
        }
        after() {
            /* After update render loop function */
        }
        ready() {
            /* Execute when ready function */
        }
        destroy() {
            /* Destroy component function */
        }
    }
    PROJECT.AssetExporter = AssetExporter;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AssetPreloader
    */
    class AssetPreloader extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.parentMeshes = false;
            this.importMeshes = null;
            this.assetContainers = null;
        }
        destroy() {
            this.importMeshes = null;
            this.assetContainers = null;
        }
        /** Add asset preloader tasks (https://doc.babylonjs.com/divingDeeper/importers/assetManager) */
        addPreloaderTasks(assetsManager) {
            const sceneRootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
            let rooturl = sceneRootUrl;
            let filename = "";
            if (this.importMeshes != null) {
                this.importMeshes.forEach((imporUrl, importIndex) => {
                    rooturl = sceneRootUrl;
                    filename = imporUrl;
                    if (imporUrl.indexOf("://") >= 0) {
                        rooturl = imporUrl.substring(0, imporUrl.lastIndexOf('/')) + "/";
                        filename = imporUrl.substring(imporUrl.lastIndexOf('/') + 1);
                    }
                    const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask." + importIndex.toString()), null, rooturl, filename);
                    importTask.onSuccess = (task) => {
                        if (task.loadedMeshes != null) {
                            if (this.parentMeshes === true)
                                task.loadedMeshes[0].parent = this.transform;
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            BABYLON.Toolkit.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            //console.log("Preloaded mesh: " + meshTaskKey);
                        }
                    };
                    importTask.onError = (task, message, exception) => { console.error(message, exception); };
                });
            }
            if (this.assetContainers != null) {
                this.assetContainers.forEach((assetUrl, assetIndex) => {
                    let rooturl = sceneRootUrl;
                    let filename = assetUrl;
                    if (assetUrl.indexOf("://") >= 0) {
                        rooturl = assetUrl.substring(0, assetUrl.lastIndexOf('/')) + "/";
                        filename = assetUrl.substring(assetUrl.lastIndexOf('/') + 1);
                    }
                    const assetTask = assetsManager.addContainerTask((this.transform.name + ".ContainerTask." + assetIndex.toString()), null, rooturl, filename);
                    assetTask.onSuccess = (task) => {
                        if (task.loadedContainer != null) {
                            const assetTaskKey = task.sceneFilename.toString().toLowerCase();
                            BABYLON.Toolkit.SceneManager.RegisterAssetContainer(this.scene, assetTaskKey, task.loadedContainer);
                            //console.log("Preloaded asset: " + assetTaskKey);
                        }
                    };
                    assetTask.onError = (task, message, exception) => { console.error(message, exception); };
                });
            }
        }
    }
    PROJECT.AssetPreloader = AssetPreloader;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialInstance
    */
    class NodeMaterialInstance extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialData = null;
            this.setCustomRootUrl = null;
            this.m_nodeMaterial = null;
        }
        getMaterialInstance() { return this.m_nodeMaterial; }
        awake() {
            if (this.nodeMaterialData != null) {
                const rootUrl = (this.setCustomRootUrl != null && this.setCustomRootUrl !== "") ? this.setCustomRootUrl.trim() : "";
                this.m_nodeMaterial = BABYLON.NodeMaterial.Parse(this.nodeMaterialData, this.scene, rootUrl);
                this.m_nodeMaterial.name = this.transform.name + ".NodeMaterial";
            }
        }
        destroy() {
            if (this.m_nodeMaterial != null) {
                this.m_nodeMaterial.dispose();
                this.m_nodeMaterial = null;
            }
        }
    }
    PROJECT.NodeMaterialInstance = NodeMaterialInstance;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialParticle
    */
    class NodeMaterialParticle extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
        }
        awake() {
            /* Init component function */
        }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
        }
        update() {
            /* Update render loop function */
        }
        late() {
            /* Late update render loop function */
        }
        after() {
            /* After update render loop function */
        }
        fixed() {
            /* Fixed update physics step function */
        }
        ready() {
            /* Execute when scene is ready function */
        }
        destroy() {
            this.nodeMaterialEditor = null;
        }
    }
    PROJECT.NodeMaterialParticle = NodeMaterialParticle;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialProcess
    */
    class NodeMaterialProcess extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
            this.numberOfSamples = 1;
            this.samplingMode = 0;
            this.textureType = 0;
            this.textureFormat = BABYLON.Constants.TEXTUREFORMAT_RGBA;
            this.sizeRatio = 1.0;
            this.resuable = false;
            this.m_postProcess = null;
        }
        getPostProcess() { return this.m_postProcess; }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
            const camera = this.getCameraRig();
            if (camera != null) {
                this.m_postProcess = materialInstance.createPostProcess(camera, this.sizeRatio, this.samplingMode, this.scene.getEngine(), this.resuable, this.textureType, this.textureFormat);
                if (this.m_postProcess != null) {
                    this.m_postProcess.name = (this.transform.name + ".Process");
                    this.m_postProcess.samples = this.numberOfSamples;
                }
                else {
                    console.warn("Failed to create post process for: " + this.transform.name);
                }
            }
            else {
                console.warn("Null camera rig for: " + this.transform.name);
            }
        }
        destroy() {
            this.nodeMaterialEditor = null;
            if (this.m_postProcess != null) {
                this.m_postProcess.dispose();
                this.m_postProcess = null;
            }
        }
    }
    PROJECT.NodeMaterialProcess = NodeMaterialProcess;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialTexture
    */
    class NodeMaterialTexture extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
            this.textureSize = 256;
            this.m_proceduralTexture = null;
        }
        getProceduralTexture() { return this.m_proceduralTexture; }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
            this.m_proceduralTexture = materialInstance.createProceduralTexture(this.textureSize, this.scene);
            if (this.m_proceduralTexture != null) {
                this.m_proceduralTexture.name = (this.transform.name + ".Texture");
            }
        }
        destroy() {
            this.nodeMaterialEditor = null;
            if (this.m_proceduralTexture != null) {
                this.m_proceduralTexture.dispose();
                this.m_proceduralTexture = null;
            }
        }
    }
    PROJECT.NodeMaterialTexture = NodeMaterialTexture;
})(PROJECT || (PROJECT = {}));
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileInputController
    */
    class MobileInputController extends BABYLON.Toolkit.ScriptComponent {
        static get Instance() { return PROJECT.MobileInputController.StaticInstance; }
        getLeftStick() { return this.m_leftStick; }
        getRightStick() { return this.m_rightStick; }
        getLeftStickEnabled() { return this.enableLeftJoystick; }
        getRightStickEnabled() { return this.enableRightJoystick; }
        getLeftStickElement() { return this.leftBaseElement; }
        getRightStickElement() { return this.rightBaseElement; }
        showLeftStickElement(show) { if (this.leftBaseElement != null)
            this.leftBaseElement.style.display = (show === true) ? "block" : "none"; }
        showRightStickElement(show) { if (this.rightBaseElement != null)
            this.rightBaseElement.style.display = (show === true) ? "block" : "none"; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.styleSheet = null;
            // DEPRECATED: private htmlMarkup: string = null;
            this.controlType = 0;
            this.parentElement = "root";
            this.maxReadyTimeout = 200;
            this.maxMoveDistance = 28;
            this.maxMoveDeadzone = 4;
            this.uiParentElement = null;
            this.leftBaseElement = null;
            this.rightBaseElement = null;
            this.buttonBaseElement = null;
            this.leftStickStyle = 0;
            this.rightStickStyle = 0;
            this.leftStickFactor = 1.0;
            this.rightStickFactor = 1.0;
            this.invertLeftStickY = true;
            this.centerLeftJoystick = false;
            this.enableLeftJoystick = true;
            this.invertRightStickY = true;
            this.centerRightJoystick = false;
            this.enableRightJoystick = true;
            this.enableMouseAxes = false;
            this.enableVirtualButtons = false;
            this.virtualButtonControls = null;
            this.m_leftStick = null;
            this.m_rightStick = null;
            this.m_mobileDevice = false;
            PROJECT.MobileInputController.StaticInstance = this;
        }
        awake() {
            if (this.controlType === 1 || this.m_mobileDevice === true) {
                this.m_mobileDevice = BABYLON.Toolkit.WindowManager.IsMobile();
                //window.addEventListener("orientationchange", () => { this.checkOrientation(); });
                //this.checkOrientation();
            }
            const rootElement = (this.parentElement != null && this.parentElement !== "" && this.parentElement.toLowerCase() !== "body") ? document.getElementById(this.parentElement) : null;
            this.uiParentElement = (rootElement != null) ? rootElement : document.body;
        }
        start() {
            if (this.controlType === 1 || this.m_mobileDevice === true) {
                this.loadStyleSheet();
                this.loadHtmlMarkup();
            }
        }
        ready() {
            if (this.controlType === 1 || this.m_mobileDevice === true) {
                BABYLON.Toolkit.SceneManager.VirtualJoystickEnabled = !this.enableMouseAxes; // Note: Disable MouseX And MouseY User Input Axes
                const displayTimeout = (this.maxReadyTimeout >= 10) ? this.maxReadyTimeout : 10;
                BABYLON.Toolkit.WindowManager.SetTimeout(displayTimeout, () => {
                    this.createHtmlElements();
                    if (this.enableLeftJoystick === true)
                        this.m_leftStick = new BABYLON.Toolkit.TouchJoystickHandler("stick1", this.maxMoveDistance, this.maxMoveDeadzone);
                    if (this.enableRightJoystick === true)
                        this.m_rightStick = new BABYLON.Toolkit.TouchJoystickHandler("stick2", this.maxMoveDistance, this.maxMoveDeadzone);
                });
            }
        }
        update() {
            if (this.controlType === 1 || this.m_mobileDevice === true) {
                if (BABYLON.Toolkit.InputController.AllowMobileControls === true) {
                    // ..
                    // TODO: Validate Mobile Control Visuals Are Enabled
                    // ..
                    if (this.enableLeftJoystick === true && this.m_leftStick != null) {
                        BABYLON.Toolkit.InputController.MobileControlsActive = true;
                        const leftStickValueX = this.m_leftStick.getValueX();
                        const leftStickValueY = this.m_leftStick.getValueY();
                        const leftStickFixedX = BABYLON.Scalar.Clamp((leftStickValueX * this.leftStickFactor), -1, 1);
                        const leftStickFixedY = BABYLON.Scalar.Clamp((leftStickValueY * this.leftStickFactor), -1, 1);
                        BABYLON.Toolkit.InputController.SetLeftJoystickBuffer(leftStickFixedX, leftStickFixedY, this.invertLeftStickY);
                    }
                    if (this.enableRightJoystick === true && this.m_rightStick != null) {
                        BABYLON.Toolkit.InputController.MobileControlsActive = true;
                        const rightStickValueX = this.m_rightStick.getValueX();
                        const rightStickValueY = this.m_rightStick.getValueY();
                        const rightStickFixedX = BABYLON.Scalar.Clamp((rightStickValueX * this.rightStickFactor), -1, 1);
                        const rightStickFixedY = BABYLON.Scalar.Clamp((rightStickValueY * this.rightStickFactor), -1, 1);
                        BABYLON.Toolkit.InputController.SetRightJoystickBuffer(rightStickFixedX, rightStickFixedY, this.invertRightStickY);
                    }
                    if (this.enableVirtualButtons === true) {
                        BABYLON.Toolkit.InputController.MobileControlsActive = true;
                    }
                }
                else {
                    // ..
                    // TODO: Validate Mobile Control Visuals Are Disabled
                    // ..
                }
            }
        }
        destroy() {
            if (this.m_leftStick != null) {
                this.m_leftStick.dispose();
                this.m_leftStick = null;
            }
            if (this.m_rightStick != null) {
                this.m_rightStick.dispose();
                this.m_rightStick = null;
            }
        }
        /*
        protected checkOrientation(): void {
            const orientation: string = BABYLON.Toolkit.WindowManager.GetOrientation();
            const pcover: HTMLElement = document.getElementById("portrait-warning-cover");
            const lcover: HTMLElement = document.getElementById("landscape-warning-cover");
            console.log("Check Orientation(): " + orientation + " -> " + this.inputOrientation + " -> Size: " + window.innerWidth + " x " + window.innerHeight);
            if (orientation === "landscape" || orientation === "portrait") {
                if (this.inputOrientation === 1) { // Note: Enforce Portrait Orientation
                    if (pcover != null) {
                        if (orientation !== "portrait") {
                            console.log("Show Rotate To Portrait Warning");
                            //pcover.className = "mobile-orientation-cover";
                        } else {
                            console.log("Reset Rotate To Portrait Warning");
                            //pcover.className = "no-display";
                        }
                    }
                } else if (this.inputOrientation === 2) { // Note: Enforce Landscape Orientation
                    if (lcover != null) {
                        if (orientation !== "landscape") {
                            console.log("Show Rotate To Landscape Warning");
                            //lcover.className = "mobile-orientation-cover";
                        } else {
                            console.log("Clear Rotate To Landscape Warning");
                            //lcover.className = "no-display";
                        }
                    }
                } else {
                    if (pcover != null) pcover.className = "no-display";
                    if (lcover != null) lcover.className = "no-display";
                }
            } else {
                if (pcover != null) pcover.className = "no-display";
                if (lcover != null) lcover.className = "no-display";
            }
        }
        */
        loadStyleSheet() {
            if (this.styleSheet != null && this.styleSheet !== "") {
                const style = document.createElement("style");
                style.id = "MobileStyleSheet";
                style.type = "text/css";
                if (style.styleSheet) { // Note: Internet Explorer Support
                    style.styleSheet.cssText = this.styleSheet;
                }
                else {
                    style.appendChild(document.createTextNode(this.styleSheet));
                }
                document.head.appendChild(style);
            }
            else {
                console.warn("WARNING: Mobile Style Sheet Not Defined For: " + this.transform.name);
            }
        }
        loadHtmlMarkup() {
            // if (this.htmlMarkup != null && this.htmlMarkup !== "") {
            //     const markupContainer = document.createElement("div");
            //     markupContainer.id = "MobileMarkup";
            //     markupContainer.className = "mobile-markup";
            //     markupContainer.innerHTML = this.htmlMarkup;
            //     this.uiParentElement.appendChild(markupContainer);
            // } else {
            //     console.warn("WARNING: Mobile Markup File Not Defined For: " + this.transform.name);
            // }
        }
        createHtmlElements() {
            const rootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
            const leftBaseImageData = this.getProperty("leftStickBase");
            const rightBaseImageData = this.getProperty("rightStickBase");
            const leftStickImageData = this.getProperty("leftStickImage");
            const rightStickImageData = this.getProperty("rightStickImage");
            const lbaseImageFilename = (leftBaseImageData != null) ? leftBaseImageData.filename : "baseImage.png";
            const rbaseImageFilename = (rightBaseImageData != null) ? rightBaseImageData.filename : "baseImage.png";
            const leftStickImageFilename = (leftStickImageData != null) ? leftStickImageData.filename : "leftStick.png";
            const rightStickImageFilename = (rightStickImageData != null) ? rightStickImageData.filename : "rightStick.png";
            if (this.enableLeftJoystick === true) {
                this.leftBaseElement = document.createElement("div");
                this.leftBaseElement.id = "base1";
                this.leftBaseElement.style.display = (this.leftStickStyle === 0) ? "block" : "none";
                this.leftBaseElement.className = (this.centerLeftJoystick === true) ? "GamepadCenterStick" : "GamepadLeftStick";
                // ..
                const baseImg1 = document.createElement("img");
                baseImg1.id = "image1";
                baseImg1.src = (rootUrl + lbaseImageFilename);
                baseImg1.className = "GamepadLeftBase";
                // ..
                const ballDiv1 = document.createElement("div");
                ballDiv1.id = "stick1";
                ballDiv1.className = "GamepadLeftContent";
                // ..
                const ballImg1 = document.createElement("img");
                ballImg1.id = "ball1";
                ballImg1.src = (rootUrl + leftStickImageFilename);
                ballImg1.className = "GamepadLeftControl";
                // ..
                ballDiv1.appendChild(ballImg1);
                this.leftBaseElement.appendChild(baseImg1);
                this.leftBaseElement.appendChild(ballDiv1);
                this.uiParentElement.appendChild(this.leftBaseElement);
            }
            if (this.enableRightJoystick === true) {
                this.rightBaseElement = document.createElement("div");
                this.rightBaseElement.id = "base2";
                this.rightBaseElement.style.display = (this.rightStickStyle === 0) ? "block" : "none";
                this.rightBaseElement.className = (this.centerRightJoystick === true) ? "GamepadCenterStick" : "GamepadRightStick";
                // ..
                const baseImg2 = document.createElement("img");
                baseImg2.id = "image2";
                baseImg2.src = (rootUrl + rbaseImageFilename);
                baseImg2.className = "GamepadRightBase";
                // ..
                const ballDiv2 = document.createElement("div");
                ballDiv2.id = "stick2";
                ballDiv2.className = "GamepadRightContent";
                // ..
                const ballImg2 = document.createElement("img");
                ballImg2.id = "ball2";
                ballImg2.src = (rootUrl + rightStickImageFilename);
                ballImg2.className = "GamepadRightControl";
                // ..
                ballDiv2.appendChild(ballImg2);
                this.rightBaseElement.appendChild(baseImg2);
                this.rightBaseElement.appendChild(ballDiv2);
                this.uiParentElement.appendChild(this.rightBaseElement);
            }
            if (this.enableVirtualButtons === true) {
                this.buttonBaseElement = document.createElement("div");
                this.buttonBaseElement.id = "base0";
                this.buttonBaseElement.style.pointerEvents = "none";
                this.buttonBaseElement.className = "GamepadButtonGroup";
                if (this.virtualButtonControls != null) {
                    this.virtualButtonControls.forEach((element, index) => {
                        const buttonIndexCount = (index + 1);
                        const buttonImageData = element.buttonImage;
                        const virtualButton = document.createElement("div");
                        virtualButton.id = ("button" + buttonIndexCount.toFixed(0));
                        virtualButton.style.cursor = "pointer"; // Note: Default Cursor Style
                        virtualButton.style.pointerEvents = "auto"; // Note: Enable Pointer Events
                        virtualButton.className = element.className;
                        virtualButton.addEventListener("pointerdown", (e) => { BABYLON.Toolkit.InputController.InputKeyDownHandler(element.inputKeyCode, e); });
                        virtualButton.addEventListener("pointerup", (e) => { BABYLON.Toolkit.InputController.InputKeyUpHandler(element.inputKeyCode, e); });
                        if (buttonImageData != null && buttonImageData.filename != null) {
                            if (element.buttonCover === 0) {
                                const buttonImg = document.createElement("img");
                                buttonImg.id = (virtualButton.id + ".Image");
                                buttonImg.src = (rootUrl + buttonImageData.filename);
                                buttonImg.style.top = "0px";
                                buttonImg.style.left = "0px";
                                buttonImg.style.width = "100%";
                                buttonImg.style.height = "100%";
                                buttonImg.style.border = "none";
                                buttonImg.style.margin = "0px";
                                buttonImg.style.padding = "0px";
                                buttonImg.style.position = "absolute";
                                virtualButton.appendChild(buttonImg);
                            }
                            else {
                                virtualButton.textContent = element.buttonName;
                                virtualButton.style.backgroundImage = ("url(" + rootUrl + buttonImageData.filename + ")");
                                virtualButton.style.backgroundRepeat = "no-repeat";
                                virtualButton.style.backgroundSize = (element.buttonCover === 1) ? "cover" : "contain";
                            }
                        }
                        else {
                            virtualButton.textContent = element.buttonName;
                        }
                        this.buttonBaseElement.appendChild(virtualButton);
                    });
                }
                this.uiParentElement.appendChild(this.buttonBaseElement);
            }
        }
    }
    MobileInputController.StaticInstance = null;
    PROJECT.MobileInputController = MobileInputController;
    /**
     * Manage the joystick inputs to control a free camera.
     * @see https://doc.babylonjs.com/how_to/customizing_camera_inputs
     */
    class FreeCameraTouchJoystickInput {
        constructor() {
            /**
             * Defines the joystick rotation sensiblity.
             * This is the threshold from when rotation starts to be accounted for to prevent jittering.
             */
            this.joystickAngularSensibility = 200;
            /**
             * Defines the joystick move sensiblity.
             * This is the threshold from when moving starts to be accounted for for to prevent jittering.
             */
            this.joystickMoveSensibility = 40.0;
            /**
             * Defines the minimum value at which any analog stick input is ignored.
             * Note: This value should only be a value between 0 and 1.
             */
            this.deadzoneDelta = 0.1;
            this._yAxisScale = 1.0;
            // private members
            this.LSValues = new BABYLON.Vector2(0, 0);
            this.RSValues = new BABYLON.Vector2(0, 0);
            this._cameraTransform = BABYLON.Matrix.Identity();
            this._deltaTransform = BABYLON.Vector3.Zero();
            this._vector3 = BABYLON.Vector3.Zero();
            this._vector2 = BABYLON.Vector2.Zero();
            this._attached = false;
        }
        /**
         * Gets or sets a boolean indicating that Yaxis (for right stick) should be inverted
         */
        get invertYAxis() { return this._yAxisScale !== 1.0; }
        set invertYAxis(value) { this._yAxisScale = value ? -1.0 : 1.0; }
        /**
         * Attach the input controls to a specific dom element to get the input from.
         */
        attachControl() {
            this._attached = true;
        }
        /**
         * Detach the current controls from the specified dom element.
         * @param ignored defines an ignored parameter kept for backward compatibility. If you want to define the source input element, you can set engine.inputElement before calling camera.attachControl
         */
        detachControl(ignored) {
            this._attached = false;
        }
        /**
         * Update the current camera state depending on the inputs that have been used this frame.
         * This is a dynamically created lambda to avoid the performance penalty of looping for inputs in the render loop.
         */
        checkInputs() {
            if (this.camera != null && this.controller != null && this._attached === true) {
                const LStick = this.controller.getLeftStick();
                if (LStick != null) {
                    this.LSValues.set(LStick.getValueX(), LStick.getValueY());
                    if (this.joystickMoveSensibility !== 0) {
                        this.LSValues.x = (Math.abs(this.LSValues.x) > this.deadzoneDelta) ? this.LSValues.x / this.joystickMoveSensibility : 0;
                        this.LSValues.y = (Math.abs(this.LSValues.y) > this.deadzoneDelta) ? this.LSValues.y / this.joystickMoveSensibility : 0;
                    }
                }
                else {
                    this.LSValues.set(0, 0);
                }
                // ..
                const RStick = this.controller.getRightStick();
                if (RStick != null) {
                    this.RSValues.set(RStick.getValueX(), RStick.getValueY());
                    if (this.joystickAngularSensibility !== 0) {
                        this.RSValues.x = (Math.abs(this.RSValues.x) > this.deadzoneDelta) ? this.RSValues.x / this.joystickAngularSensibility : 0;
                        this.RSValues.y = ((Math.abs(this.RSValues.y) > this.deadzoneDelta) ? this.RSValues.y / this.joystickAngularSensibility : 0) * this._yAxisScale;
                    }
                }
                else {
                    this.RSValues.set(0, 0);
                }
                // ..
                if (!this.camera.rotationQuaternion) {
                    BABYLON.Matrix.RotationYawPitchRollToRef(this.camera.rotation.y, this.camera.rotation.x, 0, this._cameraTransform);
                }
                else {
                    this.camera.rotationQuaternion.toRotationMatrix(this._cameraTransform);
                }
                // ..
                var speed = this.camera._computeLocalCameraSpeed() * 50.0;
                this._vector3.copyFromFloats(this.LSValues.x * speed, 0, -this.LSValues.y * speed);
                // ..
                BABYLON.Vector3.TransformCoordinatesToRef(this._vector3, this._cameraTransform, this._deltaTransform);
                this.camera.cameraDirection.addInPlace(this._deltaTransform);
                this._vector2.copyFromFloats(this.RSValues.y, this.RSValues.x);
                this.camera.cameraRotation.addInPlace(this._vector2);
            }
        }
        /**
         * Gets the class name of the current input.
         * @returns the class name
         */
        getClassName() {
            return "FreeCameraTouchJoystickInput";
        }
        /**
         * Get the friendly name associated with the input class.
         * @returns the input friendly name
         */
        getSimpleName() {
            return "joystick";
        }
    }
    __decorate([
        BABYLON.serialize()
    ], FreeCameraTouchJoystickInput.prototype, "joystickAngularSensibility", void 0);
    __decorate([
        BABYLON.serialize()
    ], FreeCameraTouchJoystickInput.prototype, "joystickMoveSensibility", void 0);
    PROJECT.FreeCameraTouchJoystickInput = FreeCameraTouchJoystickInput;
    BABYLON.CameraInputTypes["FreeCameraTouchJoystickInput"] = PROJECT.FreeCameraTouchJoystickInput;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileOccludeMaterial
    */
    class MobileOccludeMaterial extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.applyToMaterial = true;
        }
        awake() {
            if (this.applyToMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                this.transform.material.disableColorWrite = true;
            }
        }
    }
    PROJECT.MobileOccludeMaterial = MobileOccludeMaterial;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileShadowMaterial
    */
    class MobileShadowMaterial extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.createNewMaterial = true;
        }
        awake() {
            if (this.createNewMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                const materialName = this.transform.name.replace(" ", "") + ".ShadowMaterial";
                this.transform.material = new BABYLON.ShadowOnlyMaterial(materialName, this.scene);
            }
        }
        destroy() {
            if (this.createNewMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                if (this.transform.material != null && this.transform.material instanceof BABYLON.ShadowOnlyMaterial) {
                    this.transform.material.dispose();
                }
            }
        }
    }
    PROJECT.MobileShadowMaterial = MobileShadowMaterial;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class BallSocketJoint
    */
    class BallSocketJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(-0.5, 0, -0.5);
            this.pivotB = new BABYLON.Vector3(-0.5, 0, 0.5);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.BallAndSocketConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.BallSocketJoint = BallSocketJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class DistanceJoint
    */
    class DistanceJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.maxDistance = 0;
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.DistanceConstraint(this.maxDistance, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.DistanceJoint = DistanceJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class FixedHingeJoint
    */
    class FixedHingeJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.5);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.5);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.HingeConstraint(this.pivotA, this.pivotB, undefined, undefined, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.FixedHingeJoint = FixedHingeJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class LockedJoint
    */
    class LockedJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0.5, 0.5, -0.5);
            this.pivotB = new BABYLON.Vector3(-0.5, -0.5, 0.5);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.LockConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.LockedJoint = LockedJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class PrismaticJoint
    */
    class PrismaticJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.2);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.25);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.PrismaticConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.PrismaticJoint = PrismaticJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SixdofJoint
    */
    class SixdofJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, -0.5, 0);
            this.pivotB = new BABYLON.Vector3(0, 0.5, 0);
            this.perpAxisA = new BABYLON.Vector3(1, 0, 0);
            this.perpAxisB = new BABYLON.Vector3(1, 0, 0);
            this.axisLimits = null;
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.Physics6DoFConstraint({
                            pivotA: this.pivotA,
                            pivotB: this.pivotB,
                            perpAxisA: this.perpAxisA,
                            perpAxisB: this.perpAxisB
                        }, this.axisLimits, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.SixdofJoint = SixdofJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SliderJoint
    */
    class SliderJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.2);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.25);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.SliderConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.SliderJoint = SliderJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class RemotePlayerController
    */
    class RemotePlayerController extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.updateStateParams = true;
            this.smoothMotionTime = 0;
            this.smoothInputVectors = false;
            this.animationState = null;
            this.animationStateParams = null;
        }
        awake() {
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.smoothMotionTime = this.getProperty("smoothMotionTime", this.smoothMotionTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            //console.warn("Remote Player Controller: " + this.transform.name);
            //console.log(this);
        }
        update() {
            const deltaTime = this.getDeltaSeconds();
            // TODO - FIX THIS SHIT
            if (this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            // Query Network Attributes
            // ..
            if (BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                const direction = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 0); // Direction
                const magnitude = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 1); // Magnitude
                const inputX = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 2); // Horizonal
                const inputZ = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 3); // Vertical
                const mouseX = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 4); // MouseX
                const mouseY = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 5); // Mousey
                const vvelocity = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 6); // Vertical Velocity
                const movespeed = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 7); // Movement Speed
                const actionstate = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 8); // Action State
                const jumpframe = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 9); // Jump Frame
                const isjumping = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 10); // Is Jumping
                const isfalling = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 11); // Is Falling
                const issliding = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 12); // Is Sliding
                const isgrounded = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 13); // Is Grounded
                // ..
                // Update Animation State Params
                // ..
                if (this.animationState != null && this.updateStateParams === true) {
                    this.validateAnimationStateParams();
                    this.animationState.setInteger(this.animationStateParams.moveDirection, direction);
                    this.animationState.setFloat(this.animationStateParams.heightInput, vvelocity);
                    this.animationState.setBool(this.animationStateParams.jumpFrame, (jumpframe !== 0));
                    this.animationState.setBool(this.animationStateParams.jumpState, (isjumping !== 0));
                    this.animationState.setInteger(this.animationStateParams.actionState, actionstate);
                    this.animationState.setBool(this.animationStateParams.fallingState, (isfalling !== 0));
                    this.animationState.setBool(this.animationStateParams.slidingState, (issliding !== 0));
                    this.animationState.setBool(this.animationStateParams.groundedState, (isgrounded !== 0));
                    if (this.smoothMotionTime > 0) {
                        if (this.smoothInputVectors === true) {
                            this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, inputX, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, inputZ, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, mouseX, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, mouseY, this.smoothMotionTime, deltaTime);
                        }
                        else {
                            this.animationState.setFloat(this.animationStateParams.horizontalInput, inputX);
                            this.animationState.setFloat(this.animationStateParams.verticalInput, inputZ);
                            this.animationState.setFloat(this.animationStateParams.mouseXInput, mouseX);
                            this.animationState.setFloat(this.animationStateParams.mouseYInput, mouseY);
                        }
                        this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, magnitude, this.smoothMotionTime, deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.speedInput, movespeed, this.smoothMotionTime, deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, inputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, inputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, mouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, mouseY);
                        this.animationState.setFloat(this.animationStateParams.inputMagnitude, magnitude);
                        this.animationState.setFloat(this.animationStateParams.speedInput, movespeed);
                    }
                    //if (this.isCharacterNavigating === true) {
                    //    // TODO - Update Speed Input With Navigation Magnitude
                    //    // this.animationState.setFloat(this.animationStateParams.speedInput, magnitude);
                    //}
                }
            }
        }
        destroy() {
            this.animationState = null;
            this.animationStateParams = null;
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("BABYLON.Toolkit.AnimationState");
                if (this.animationState == null) {
                    const animationNode = this.getChildWithScript("BABYLON.Toolkit.AnimationState");
                    if (animationNode != null) {
                        this.animationState = BABYLON.Toolkit.SceneManager.FindScriptComponent(animationNode, "BABYLON.Toolkit.AnimationState");
                    }
                    else {
                        // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                    }
                }
            }
            if (this.animationState != null) {
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        //if (this._ikLeftController != null) {
                        //    this._ikLeftController.update();
                        //}
                        //if (this._ikRightController != null) {
                        //    this._ikRightController.update();
                        //}
                    }
                });
            }
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded"
                };
            }
        }
    }
    PROJECT.RemotePlayerController = RemotePlayerController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit standard player controller class
     * @class StandardPlayerController - All rights reserved (c) 2020 Mackey Kinard
    */
    class StandardPlayerController extends BABYLON.Toolkit.ScriptComponent {
        isAnimationEnabled() { return this.updateStateParams; }
        isRunButtonPressed() { return this.isRunPressed; }
        isJumpButtonPressed() { return this.isJumpPressed; }
        getPlayerJumped() { return this.isCharacterJumpFrame; }
        getPlayerJumping() { return this.isCharacterJumping; }
        getPlayerFalling() { return this.isCharacterFalling; }
        getPlayerSliding() { return this.isCharacterSliding; }
        getPlayerGrounded() { return this.isCharacterGrounded; }
        getFallTriggered() { return this.isCharacterFallTriggered; }
        getMovementSpeed() { return this.movementSpeed; }
        getCameraBoomNode() { return this.cameraNode; }
        getCameraTransform() { return this.cameraPivot; }
        getAnimationState() { return this.animationState; }
        getVerticalVelocity() { return this.getCheckedVerticalVelocity(); }
        getCharacterController() { return this.characterController; }
        getPlayerLookRotation() { return this.playerLookRotation; }
        getPlayerMoveDirection() { return this.playerMoveDirection; }
        getInputMovementVector() { return this.inputMovementVector; }
        getInputMagnitudeValue() { return this.inputMagnitude; }
        getCameraPivotPosition() { return (this.cameraPivot != null) ? this.cameraPivot.position : null; }
        getCameraPivotRotation() { return (this.cameraPivot != null) ? this.cameraPivot.rotationQuaternion : null; }
        getClimbContact() { return this.climbContact; }
        getClimbContactNode() { return this.climbContactNode; }
        getClimbContactPoint() { return this.climbContactPoint; }
        getClimbContactAngle() { return this.climbContactAngle; }
        getClimbContactNormal() { return this.climbContactNormal; }
        getClimbContactDistance() { return this.climbContactDistance; }
        ;
        getHeightContact() { return this.heightContact; }
        getHeightContactNode() { return this.heightContactNode; }
        getHeightContactPoint() { return this.heightContactPoint; }
        getHeightContactAngle() { return this.heightContactAngle; }
        getHeightContactNormal() { return this.heightContactNormal; }
        getHeightContactDistance() { return this.heightContactDistance; }
        ;
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.enableInput = false;
            this.attachCamera = false;
            this.rotateCamera = true;
            this.mouseWheel = true;
            this.toggleView = true;
            this.freeLooking = false;
            this.requireSprintButton = false;
            this.gravitationalForce = 3.0;
            this.minFallVelocity = 1.0;
            this.verticalStepSpeed = 1.0;
            this.minStepUpHeight = 0.15;
            this.rigidBodyMass = 85.0;
            this.airbornTimeout = 0.5;
            this.maxAngle = 45;
            this.speedFactor = 1.0;
            this.rootMotion = false;
            this.moveSpeed = 5.335;
            this.walkSpeed = 2.0;
            this.lookSpeed = 2.0;
            this.jumpSpeed = 10.0;
            this.jumpDelay = 0.25;
            this.eyesHeight = 1.55;
            this.pivotHeight = 1.35;
            this.maxDistance = 5.0;
            this.scrollSpeed = 25;
            this.topLookLimit = 60.0;
            this.downLookLimit = 30.0;
            this.lowTurnSpeed = 15.0;
            this.highTurnSpeed = 25.0;
            this.smoothMotionTime = 0;
            this.smoothInputVectors = false;
            this.smoothAcceleration = false;
            this.accelerationSpeed = 0.1;
            this.decelerationSpeed = 0.1;
            this.avatarSkinTag = "Skin";
            this.climbVolumeTag = "Climb";
            this.vaultVolumeTag = "Vault";
            this.maxHeightRanges = null;
            this.useClimbSystem = false;
            this.distanceFactor = 0.85;
            this.cameraSmoothing = 8;
            this.cameraCollisions = true;
            this.inputMagnitude = 0;
            this.landingEpsilon = 0.1;
            this.minimumDistance = 0.5;
            this.movementAllowed = true;
            this.playerInputX = 0;
            this.playerInputZ = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.runKeyRequired = true;
            this.buttonRun = BABYLON.Xbox360Button.LeftStick;
            this.keyboardRun = BABYLON.Toolkit.UserInputKey.Shift;
            this.buttonJump = BABYLON.Xbox360Button.A;
            this.keyboardJump = BABYLON.Toolkit.UserInputKey.SpaceBar;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = BABYLON.Toolkit.UserInputKey.P;
            this.postNetworkAttributes = false;
            this.playerNumber = BABYLON.Toolkit.PlayerNumber.One;
            this.boomPosition = new BABYLON.Vector3(0, 0, 0);
            this.airbornVelocity = new BABYLON.Vector3(0, 0, 0);
            this.movementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.targetCameraOffset = new BABYLON.Vector3(0, 0, 0);
            this.rayClimbOffset = 0.35;
            this.rayClimbLength = 0.85;
            this.canClimbObstaclePredicate = null;
            this.rayHeightOffset = 5.0;
            this.rayHeightLength = 6.0;
            this.abstractMesh = null;
            this.cameraDistance = 0;
            this.forwardCamera = true; // Note Always Camera Forward
            this.avatarRadius = 0.5;
            this.groundingObject = null;
            this.groundingCallback = null;
            this.dollyDirection = new BABYLON.Vector3(0, 0, 0);
            this.cameraEulers = new BABYLON.Vector3(0, 0, 0);
            this.rotationEulers = new BABYLON.Vector3(0, 0, 0);
            this.cameraPivotOffset = new BABYLON.Vector3(0, 0, 0);
            this.cameraForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.cameraRightVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredRightVector = new BABYLON.Vector3(0, 0, 0);
            this.lastRotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
            this.scaledCamDirection = new BABYLON.Vector3(0, 0, 0);
            this.scaledMaxDirection = new BABYLON.Vector3(0, 0, 0);
            this.parentNodePosition = new BABYLON.Vector3(0, 0, 0);
            this.maximumCameraPos = new BABYLON.Vector3(0, 0, 0);
            this.tempWorldPosition = new BABYLON.Vector3(0, 0, 0);
            this.cameraRaycastShape = null;
            this.defaultRaycastGroup = BABYLON.Toolkit.CollisionFilters.DefaultFilter;
            this.defaultRaycastMask = BABYLON.Toolkit.CollisionFilters.StaticFilter;
            this.cameraRaycastMask = (BABYLON.Toolkit.CollisionFilters.DefaultFilter | BABYLON.Toolkit.CollisionFilters.StaticFilter | BABYLON.Toolkit.CollisionFilters.KinematicFilter); // Note: Exclude The Player Character Controller From Camera Collision
            this.avatarSkins = null;
            this.cameraNode = null;
            this.cameraPivot = null;
            this.navigationAgent = null;
            this.characterController = null;
            this.verticalVelocity = 0;
            this.movementSpeed = 0;
            this.isRunPressed = false;
            this.isJumpPressed = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterGrounded = false;
            this.isCharacterFallTriggered = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterNavigating = false;
            this.navigationAngularSpeed = 0;
            this.updateStateParams = true;
            this.animationStateParams = null;
            this.sphereCollisionShape = null;
            this.hasGroundedContact = false;
            this.showDebugRaycasts = false;
            this.showDebugColliders = false;
            this.colliderVisibility = 0;
            this.colliderRenderGroup = 0;
            this.deltaTime = 0;
            this.minJumpTimer = 0;
            this.delayJumpTimer = 0;
            this.playerControl = 0;
            this.canPlayerJump = true;
            this.animationState = null;
            // DEPRECIATED: private rotationVelocityX:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            // DEPRECIATED: private rotationVelocityY:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            this.lastJumpVelocity = new BABYLON.Vector3(0, 0, 0);
            this.inputMovementVector = new BABYLON.Vector3(0, 0, 0);
            this.playerLookRotation = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationVector = BABYLON.Vector2.Zero();
            this.playerMovementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationQuaternion = BABYLON.Quaternion.Zero();
            this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            this.forwardDirection = new BABYLON.Vector3(0, 0, 1);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactAngle = 0;
            this.climbContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.climbContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.climbContactDistance = 0;
            this.climbSensorLine = null;
            this.offsetClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactAngle = 0;
            this.heightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.heightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.heightContactDistance = 0;
            this.heightSensorLine = null;
            this.offsetHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_actualVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            this.playerDrawVelocity = 0;
            /** Register handler that is triggered before the controller has been updated */
            this.onPreUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered before the controller movement has been applied */
            this.onBeforeMoveObservable = new BABYLON.Observable();
            /** Register handler that is triggered after the controller has been updated */
            this.onPostUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered after player input has been updated */
            this.onPlayerInputObservable = new BABYLON.Observable();
            /** Register handler that is triggered when player position should be updated */
            this.onPlayerPositionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after performing action has been updated */
            this.onUpdateActionObservable = new BABYLON.Observable();
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Root Motion Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this._deltaMotionPosition = new BABYLON.Vector3(0, 0, 0);
            this._deltaMotionRotation = new BABYLON.Quaternion(0, 0, 0, 0);
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Blocking Action Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal = new BABYLON.Vector3(0, 0, 0);
            this.lastTargetRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this.lastDeltaPosition = new BABYLON.Vector3(0, 0, 0);
            this.lastDeltaRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this._ikLeftController = null;
            this._ikLeftFootTarget = null;
            this._ikLeftPoleTarget = null;
            this._ikRightController = null;
            this._ikRightFootTarget = null;
            this._ikRightPoleTarget = null;
            this.abstractSkinMesh = null;
            this.rootBoneTransform = null;
            this.leftFootTransform = null;
            //private leftFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.leftFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.leftFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.leftFootPoleAngle = 0;
            this.leftFootMaxAngle = 180;
            this.rightFootTransform = null;
            //private rightFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.rightFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.rightFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.rightFootPoleAngle = 0;
            this.rightFootMaxAngle = 180;
            this.smoothBoomArmLength = null;
            this.smoothBoomArmSpeed = null;
        }
        awake() { this.awakePlayerController(); }
        start() { this.startPlayerController(); }
        after() { this.afterPlayerController(); }
        update() { this.updatePlayerController(); }
        destroy() { this.destroyPlayerController(); }
        getDeltaMotionPosition() {
            this._deltaMotionPosition.set(0, 0, 0);
            if (this.animationState != null) {
                const rootMotionPosition = this.animationState.getDeltaRootMotionPosition();
                if (rootMotionPosition != null) {
                    // FIXME: Calculate Delta Root Motion Position
                    this._deltaMotionPosition.copyFrom(rootMotionPosition);
                }
            }
            return this._deltaMotionPosition;
        }
        getDeltaMotionRotation() {
            this._deltaMotionRotation.set(0, 0, 0, 0);
            if (this.animationState != null) {
                const rootMotionRotation = this.animationState.getDeltaRootMotionRotation();
                if (rootMotionRotation != null) {
                    // FIXME: Calculate Delta Root Motion Rotation
                    this._deltaMotionRotation.copyFrom(rootMotionRotation);
                }
            }
            return this._deltaMotionRotation;
        }
        getIsPerformingAction() { return this.isPerformingAction; }
        getIsRootMotionAction() { return this.isRootMotionAction; }
        getIsActionInterruptable() { return this.isActionInterruptable; }
        playActionAnimation(action, interruptableAction = true, enableRootMotion = false, afterActionComplete = null) {
            if (this.isPerformingAction === false && this.animationState != null && action >= 0) {
                this.isPerformingAction = true;
                this.performActionTimer = 0;
                this.performActionNumber = action;
                this.afterActionHandler = afterActionComplete;
                this.isActionInterruptable = interruptableAction;
                this.isRootMotionAction = enableRootMotion;
                this.playerRotationSpeed = 10;
                this.rotatePlayerTowards = false;
                this.matchStartTime = 0;
                this.matchTargetTime = 0;
                this.matchTargetOffset = 0;
                this.matchTargetHeight = false;
                this.lockTargetHeight = false;
                this.lastStartHeight = null;
                this.lastTargetHeight = null;
                this.lastTargetNormal.set(0, 0, 0);
                this.lastTargetRotation.set(0, 0, 0, 1);
                if (this.isRootMotionAction === true) {
                    this.enableCharacterController(false); // Note: Disable Character Controller
                }
                if (this.animationState != null) {
                    this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                }
            }
        }
        resetActionAnimationState() {
            if (this.afterActionHandler != null) {
                try {
                    this.afterActionHandler();
                }
                catch (_a) { }
            }
            if (this.isRootMotionAction === true) {
                this.enableCharacterController(true); // Note: Enable Character Controller
            }
            if (this.animationState != null) {
                this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
            }
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal.set(0, 0, 0);
            this.lastTargetRotation.set(0, 0, 0, 1);
        }
        updateAnimationActionState() {
            const deltaTime = this.getDeltaSeconds();
            const dampTime = (this.matchTargetTime - this.matchStartTime);
            if (this.animationState != null && this.isRootMotionAction === true) {
                const playerGlobalHeight = this.transform.absolutePosition.y;
                this.lastDeltaPosition.copyFrom(this.getDeltaMotionPosition());
                BABYLON.Vector3.TransformNormalToRef(this.lastDeltaPosition, this.transform.getWorldMatrix(), this.lastDeltaPosition);
                if (this.matchTargetHeight === true) {
                    if (this.lastStartHeight == null && this.performActionTimer >= this.matchStartTime) {
                        this.lastStartHeight = playerGlobalHeight;
                        this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                        // console.warn(">>> Start Global Height: " + this.lastStartHeight + " --> Perform Action Timer: " + this.performActionTimer);
                    }
                    if (this.lastStartHeight != null && this.lastTargetHeight != null) {
                        this.lastDeltaPosition.y = 0;
                        const fixedTargetHeight = (this.lastTargetHeight + this.matchTargetOffset);
                        if (this.performActionTimer < this.matchTargetTime) {
                            this.animationState.setSmoothFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT, fixedTargetHeight, dampTime, deltaTime);
                            const smoothPlayerHeight = this.animationState.getFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                            this.lastDeltaPosition.y = (smoothPlayerHeight - playerGlobalHeight);
                            // console.warn(">>> Lerp Target Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                        }
                        else if (this.lockTargetHeight === false && this.performActionTimer >= this.matchTargetTime) {
                            this.lastDeltaPosition.y = (fixedTargetHeight - playerGlobalHeight);
                            this.lockTargetHeight = true;
                            // console.warn(">>> Last Global Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer + " ---> Match Target Time: " + this.matchTargetTime);
                        }
                    }
                }
                // ..
                // Apply Root Motion To Position
                // ..
                // this.lastDeltaPosition.x = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                // this.lastDeltaPosition.y = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                this.transform.position.addInPlace(this.lastDeltaPosition);
                // console.log("Player Action Height: " + playerGlobalHeight + " --> Perform Action Timer: " + this.performActionTimer);
                // console.log("Current Delta Height: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                // ..
                // Apply Root Motion To Rotation
                // ..
                if (this.rotatePlayerTowards === true) {
                    if (this.climbContact === true) {
                        this.lastTargetNormal.set(-this.climbContactNormal.x, -this.climbContactNormal.y, -this.climbContactNormal.z);
                        BABYLON.Toolkit.Utilities.LookRotationToRef(this.lastTargetNormal, this.lastTargetRotation);
                        const lerpAmount = BABYLON.Scalar.Clamp(this.playerRotationSpeed * deltaTime);
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.lastTargetRotation, lerpAmount, this.transform.rotationQuaternion);
                        //console.log("Climb Target Rotation: " + this.lastTargetRotation);
                    }
                }
                else {
                    this.lastDeltaRotation.copyFrom(this.getDeltaMotionRotation());
                    this.transform.rotationQuaternion.multiplyInPlace(this.lastDeltaRotation);
                }
            }
            this.performActionTimer += deltaTime;
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Attachment Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Set the player world position */
        setWorldPosition(x, y, z) {
            if (this.characterController != null) {
                this.characterController.set(x, y, z);
            }
        }
        /** TODO */
        setPlayerControl(mode) {
            this.playerControl = mode;
            if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                this.showAvatarSkins(true);
            }
            else {
                this.showAvatarSkins(false);
            }
            this.forwardCamera = false; // NoteL Always False
        }
        /** TODO */
        togglePlayerControl() {
            if (this.toggleView === true) {
                if (this.playerControl === PROJECT.PlayerInputControl.FirstPersonStrafing) {
                    this.setPlayerControl(PROJECT.PlayerInputControl.ThirdPersonStrafing);
                }
                else {
                    this.setPlayerControl(PROJECT.PlayerInputControl.FirstPersonStrafing);
                }
            }
        }
        showAvatarSkins(show) {
            if (this.avatarSkins != null) {
                // TODO - Make Skins Visible Or Not TO Camera But Keep Shadows - ???
                this.avatarSkins.forEach((skin) => { skin.isVisible = show; });
            }
        }
        /** TODO */
        attachPlayerCamera(player) {
            if (this.cameraNode == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.cameraNode = PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                if (this.cameraNode != null) {
                    this.cameraNode.parent = this.cameraPivot;
                    this.cameraNode.position.copyFrom(this.boomPosition);
                    this.cameraNode.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                    // ..
                    // const actualCamera:BABYLON.UniversalCamera = SM.FindSceneCameraRig(this.cameraNode) as BABYLON.UniversalCamera;
                    // if (actualCamera != null) actualCamera.rotationQuaternion = BABYLON.Quaternion.FromEulerAngles(BABYLON.Tools.ToRadians(30),0,0);
                    // ..
                    // TODO - Move somewhere better - ???
                    // TODO - Handle Long Intitial Camera Pan - ???
                    // ..
                    this.cameraDistance = this.cameraNode.position.length();
                    this.dollyDirection.copyFrom(this.cameraNode.position);
                    this.dollyDirection.normalize();
                }
                else {
                    // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate player camera for: " + this.transform.name);
                }
            }
        }
        getLeftFootTarget() { return this._ikLeftFootTarget; }
        getRightFootTarget() { return this._ikRightFootTarget; }
        getLeftFootController() { return this._ikLeftController; }
        getRightFootController() { return this._ikRightController; }
        attachBoneControllers() {
            const displayHandles = this.getProperty("displayHandles");
            const abstractSkinMeshData = this.getProperty("abstractSkinMesh");
            if (abstractSkinMeshData != null)
                this.abstractSkinMesh = this.getChildNode(abstractSkinMeshData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            const rootBoneTransformData = this.getProperty("rootBoneTransform");
            if (rootBoneTransformData != null)
                this.rootBoneTransform = this.getChildNode(rootBoneTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            // ..
            const leftFootTransformData = this.getProperty("leftFootTransform");
            if (leftFootTransformData != null)
                this.leftFootTransform = this.getChildNode(leftFootTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            //const leftFootPositionData:BABYLON.Toolkit.IUnityVector3 = this.getProperty("leftFootPosition");
            //if (leftFootPositionData != null) this.leftFootPosition.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftFootPositionData));
            const leftPoleHandleData = this.getProperty("leftFootPolePos");
            if (leftPoleHandleData != null)
                this.leftFootPolePos.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftPoleHandleData));
            const leftBendAxisData = this.getProperty("leftFootBendAxis");
            if (leftBendAxisData != null)
                this.leftFootBendAxis.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftBendAxisData));
            this.leftFootPoleAngle = this.getProperty("leftFootPoleAngle", this.leftFootPoleAngle);
            this.leftFootMaxAngle = this.getProperty("leftFootMaxAngle", this.leftFootMaxAngle);
            // ..
            const rightFootTransformData = this.getProperty("rightFootTransform");
            if (rightFootTransformData != null)
                this.rightFootTransform = this.getChildNode(rightFootTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            //const rightFootPositionData:BABYLON.Toolkit.IUnityVector3 = this.getProperty("rightFootPosition");
            //if (rightFootPositionData != null) this.rightFootPosition.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightFootPositionData));
            const rightPoleHandleData = this.getProperty("rightFootPolePos");
            if (rightPoleHandleData != null)
                this.rightFootPolePos.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightPoleHandleData));
            const rightBendAxisData = this.getProperty("rightFootBendAxis");
            if (rightBendAxisData != null)
                this.rightFootBendAxis.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightBendAxisData));
            this.rightFootPoleAngle = this.getProperty("rightFootPoleAngle", this.rightFootPoleAngle);
            this.rightFootMaxAngle = this.getProperty("rightFootMaxAngle", this.rightFootMaxAngle);
            // ..
            if (this.abstractSkinMesh != null) {
                let materialName = "M_TARGET_MESH";
                let targetMaterial = this.scene.getMaterialByName(materialName);
                if (targetMaterial == null) {
                    targetMaterial = new BABYLON.StandardMaterial("M_TARGET_MESH", this.scene);
                    targetMaterial.diffuseColor = new BABYLON.Color3(1.0, 0.5, 0.25);
                }
                // ..
                // Setup Left Foot Controller
                // ..
                if (this.leftFootTransform != null && this.leftFootTransform._linkedBone != null) {
                    this._ikLeftFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".LeftFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikLeftFootTarget.parent = this.abstractSkinMesh;
                    //this._ikLeftFootTarget.position.copyFrom(this.leftFootPosition);
                    if (this._ikLeftFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftFootTarget.material = targetMaterial;
                        this._ikLeftFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikLeftPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".LeftFootPole", { diameter: 0.15 }, this.scene);
                    this._ikLeftPoleTarget.parent = this.abstractSkinMesh;
                    this._ikLeftPoleTarget.position.copyFrom(this.leftFootPolePos);
                    if (this._ikLeftPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikLeftController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.leftFootTransform)._linkedBone, {targetMesh:this._ikLeftFootTarget, poleTargetMesh:this._ikLeftPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.leftFootPoleAngle), bendAxis:this.leftFootBendAxis});
                    // this._ikLeftController.maxAngle = BABYLON.Tools.ToRadians(this.leftFootMaxAngle);
                }
                // ..
                // Setup Right Foot Controller
                // ..
                if (this.rightFootTransform != null && this.rightFootTransform._linkedBone != null) {
                    this._ikRightFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".RightFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikRightFootTarget.parent = this.abstractSkinMesh;
                    //this._ikRightFootTarget.position.copyFrom(this.rightFootPosition);
                    if (this._ikRightFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightFootTarget.material = targetMaterial;
                        this._ikRightFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikRightPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".RightFootPole", { diameter: 0.15 }, this.scene);
                    this._ikRightPoleTarget.parent = this.abstractSkinMesh;
                    this._ikRightPoleTarget.position.copyFrom(this.rightFootPolePos);
                    if (this._ikRightPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikRightController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.rightFootTransform)._linkedBone, {targetMesh:this._ikRightFootTarget, poleTargetMesh:this._ikRightPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.rightFootPoleAngle), bendAxis:this.rightFootBendAxis});
                    // this._ikRightController.maxAngle = BABYLON.Tools.ToRadians(this.rightFootMaxAngle);
                }
            }
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("BABYLON.Toolkit.AnimationState", true);
            }
            if (this.animationState != null) {
                this.animationState.onAnimationEndObservable.add(() => {
                    if (this.isPerformingAction === true) {
                        //console.log("Animation End: " + this.transform.name);
                        this.resetActionAnimationState();
                    }
                });
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        if (this._ikLeftController != null) {
                            this._ikLeftController.update();
                        }
                        if (this._ikRightController != null) {
                            this._ikRightController.update();
                        }
                    }
                });
            }
        }
        /** TODO */
        enableCharacterController(state) {
            if (state === true) {
                this.movementAllowed = true;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravityFactor(this.gravitationalForce);
                    this.characterController.setCollisionState(true);
                    //this.characterController.updatePosition = true;
                }
            }
            else {
                this.movementAllowed = false;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravityFactor(0);
                    this.characterController.setCollisionState(false);
                    //this.characterController.updatePosition = false;
                }
            }
        }
        /** TODO */
        resetPlayerRotation() {
            this.transform.rotationQuaternion.toEulerAnglesToRef(this.rotationEulers);
            this.playerRotationVector.x = this.rotationEulers.x;
            this.playerRotationVector.y = this.rotationEulers.y;
        }
        /** TODO */
        resetPlayerJumpingState() {
            this.minJumpTimer = 0;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterJumpFrame = false;
            if (this.characterController != null) {
                this.characterController.jump(0); // Note: Zero Jump Speed
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        awakePlayerController() {
            this.gravitationalForce = this.getProperty("gravityMultiplier", this.gravitationalForce);
            this.verticalStepSpeed = this.getProperty("stepUpVelocity", this.verticalStepSpeed);
            this.minStepUpHeight = this.getProperty("minStepHeight", this.minStepUpHeight);
            this.rigidBodyMass = this.getProperty("rigidBodyMass", this.rigidBodyMass);
            this.rotateCamera = this.getProperty("rotateCamera", this.rotateCamera);
            this.mouseWheel = this.getProperty("mouseWheel", this.mouseWheel);
            this.rayClimbLength = this.getProperty("rayClimbLength", this.rayClimbLength);
            this.rayClimbOffset = this.getProperty("rayClimbOffset", this.rayClimbOffset);
            this.rayHeightLength = this.getProperty("rayHeightLength", this.rayHeightLength);
            this.rayHeightOffset = this.getProperty("rayHeightOffset", this.rayHeightOffset);
            this.maxAngle = this.getProperty("maxAngle", this.maxAngle);
            this.landingEpsilon = this.getProperty("landingEpsilon", this.landingEpsilon);
            this.minFallVelocity = this.getProperty("minFallVelocity", this.minFallVelocity);
            this.airbornTimeout = this.getProperty("airbornTimeout", this.airbornTimeout);
            this.rootMotion = this.getProperty("rootMotion", this.rootMotion);
            this.moveSpeed = this.getProperty("moveSpeed", this.moveSpeed);
            this.walkSpeed = this.getProperty("walkSpeed", this.walkSpeed);
            this.lookSpeed = this.getProperty("lookSpeed", this.lookSpeed);
            this.jumpSpeed = this.getProperty("jumpSpeed", this.jumpSpeed);
            this.jumpDelay = this.getProperty("jumpDelay", this.jumpDelay);
            this.eyesHeight = this.getProperty("eyesHeight", this.eyesHeight);
            this.pivotHeight = this.getProperty("pivotHeight", this.pivotHeight);
            this.maxDistance = this.getProperty("maxDistance", this.maxDistance);
            this.scrollSpeed = this.getProperty("scrollSpeed", this.scrollSpeed);
            this.topLookLimit = this.getProperty("topLookLimit", this.topLookLimit);
            this.downLookLimit = this.getProperty("downLookLimit", this.downLookLimit);
            this.lowTurnSpeed = this.getProperty("lowTurnSpeed", this.lowTurnSpeed);
            this.highTurnSpeed = this.getProperty("highTurnSpeed", this.highTurnSpeed);
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.attachCamera = this.getProperty("attachCamera", this.attachCamera);
            this.freeLooking = this.getProperty("freeLooking", this.freeLooking);
            this.toggleView = this.getProperty("toggleView", this.toggleView);
            this.avatarSkinTag = this.getProperty("avatarSkinTag", this.avatarSkinTag);
            this.runKeyRequired = this.getProperty("runKeyRequired", this.runKeyRequired);
            this.cameraCollisions = this.getProperty("cameraCollisions", this.cameraCollisions);
            this.cameraSmoothing = this.getProperty("cameraSmoothing", this.cameraSmoothing);
            this.distanceFactor = this.getProperty("distanceFactor", this.distanceFactor);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.smoothMotionTime = this.getProperty("smoothMotionTime", this.smoothMotionTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.smoothAcceleration = this.getProperty("smoothAcceleration", this.smoothAcceleration);
            this.accelerationSpeed = this.getProperty("accelerationSpeed", this.accelerationSpeed);
            this.decelerationSpeed = this.getProperty("decelerationSpeed", this.decelerationSpeed);
            this.climbVolumeTag = this.getProperty("climbVolumeTag", this.climbVolumeTag);
            this.vaultVolumeTag = this.getProperty("vaultVolumeTag", this.vaultVolumeTag);
            this.useClimbSystem = this.getProperty("useClimbSystem", this.useClimbSystem);
            this.maxHeightRanges = this.getProperty("maxHeightRanges", this.maxHeightRanges);
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            this.postNetworkAttributes = this.getProperty("postNetworkAttribs", this.postNetworkAttributes);
            this.showDebugRaycasts = this.getProperty("showDebugRaycasts", this.showDebugRaycasts);
            // ..
            const arrowKeyRotation = this.getProperty("arrowKeyRotation");
            if (arrowKeyRotation === true)
                BABYLON.Toolkit.UserInputOptions.UseArrowKeyRotation = true;
            // ..
            const boomPositionData = this.getProperty("boomPosition");
            if (boomPositionData != null)
                this.boomPosition = BABYLON.Toolkit.Utilities.ParseVector3(boomPositionData);
            // ..
            const sphereRadius = this.getProperty("sphereRadius", 0.65);
            this.cameraRaycastShape = new BABYLON.PhysicsShapeSphere(new BABYLON.Vector3(0, 0, 0), sphereRadius, this.scene);
            // ..
            this.abstractMesh = this.getAbstractMesh();
            this.showDebugColliders = BABYLON.Toolkit.Utilities.ShowDebugColliders();
            this.colliderVisibility = BABYLON.Toolkit.Utilities.ColliderVisibility();
            this.colliderRenderGroup = BABYLON.Toolkit.Utilities.ColliderRenderGroup();
            // Note: Get Avatar Skins First Thing
            if (this.avatarSkinTag != null && this.avatarSkinTag !== "") {
                this.avatarSkins = this.getChildrenWithTags(this.avatarSkinTag, false);
            }
            const pcontrol = this.getProperty("playerControl", this.playerControl);
            this.setPlayerControl(pcontrol);
            this.resetPlayerRotation();
            // ..
            this.cameraPivot = new BABYLON.Mesh(this.transform.name + ".CameraPivot", this.scene);
            this.cameraPivot.parent = null;
            this.cameraPivot.position = this.transform.position.clone();
            this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
            this.cameraPivot.checkCollisions = false;
            this.cameraPivot.isPickable = false;
            // ..
            if (this.showDebugColliders === true) {
                const testPivot = BABYLON.MeshBuilder.CreateBox("TestPivot", { width: 0.25, height: 0.25, depth: 0.5 }, this.scene);
                testPivot.parent = this.cameraPivot;
                testPivot.position.set(0, 0, 0);
                testPivot.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                testPivot.visibility = 0.5;
                testPivot.renderingGroupId = this.colliderRenderGroup;
                testPivot.checkCollisions = false;
                testPivot.isPickable = false;
            }
            // ..
            const configController = this.getComponent("BABYLON.Toolkit.CharacterController");
            // ..
            // Setup IK Bone Controllers
            // ..
            this.attachBoneControllers();
            // ..
            BABYLON.Toolkit.InputController.OnKeyboardPress(this.keyboardCamera, () => { this.togglePlayerControl(); });
            BABYLON.Toolkit.InputController.OnGamepadButtonPress(this.buttonCamera, () => { this.togglePlayerControl(); });
        }
        startPlayerController() {
            // TODO - Support Dynamic PlayerNumber Change - ???
            if (this.attachCamera === true) {
                this.attachPlayerCamera(this.playerNumber);
            }
            this.navigationAgent = this.getComponent("BABYLON.Toolkit.NavigationAgent");
            this.characterController = this.getComponent("BABYLON.Toolkit.CharacterController");
            if (this.characterController != null) {
                this.avatarRadius = this.characterController.getAvatarRadius();
                this.characterController.showRaycasts = this.showDebugRaycasts;
                this.characterController.setRigidBodyMass(this.rigidBodyMass);
                this.characterController.setGravityFactor(this.gravitationalForce);
                this.characterController.setVerticalStepSpeed(this.verticalStepSpeed);
                this.characterController.setMinimumStepHeight(this.minStepUpHeight);
                this.characterController.onUpdatePositionObservable.add(() => {
                    this.updatePlayerPosition();
                    this.updateCameraController();
                });
                BABYLON.Toolkit.SceneManager.LogWarning("Starting player controller in physic engine mode for: " + this.transform.name);
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("No character controller found for: " + this.transform.name);
            }
            // Set player window state variable
            // SM.SetWindowState("player", this);
        }
        updatePlayerPosition() {
            if (this.onPlayerPositionObservable && this.onPlayerPositionObservable.hasObservers()) {
                this.onPlayerPositionObservable.notifyObservers(this.transform);
            }
        }
        updatePlayerController() {
            this.deltaTime = this.getDeltaSeconds();
            //this.smoothDeltaTime = BABYLON.Toolkit.System.SmoothDeltaFactor * this.deltaTime + (1 - BABYLON.Toolkit.System.SmoothDeltaFactor) * this.smoothDeltaTime;
            // ..
            this.m_actualVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_linearVelocity.copyFrom(this.m_actualVelocity);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.deltaTime);
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.playerDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.playerDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            // TODO - FIX THIS SHIT
            if (this.updateStateParams === true && this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            if (this.minJumpTimer > 0) {
                this.minJumpTimer -= this.deltaTime;
                if (this.minJumpTimer < 0)
                    this.minJumpTimer = 0;
            }
            if (this.isCharacterGrounded === true && this.delayJumpTimer > 0) {
                this.delayJumpTimer -= this.deltaTime;
                if (this.delayJumpTimer < 0)
                    this.delayJumpTimer = 0;
            }
            // ..
            this.canPlayerJump = true;
            if (this.isPerformingAction === true) {
                this.updateAnimationActionState();
                if (this.onUpdateActionObservable && this.onUpdateActionObservable.hasObservers()) {
                    this.onUpdateActionObservable.notifyObservers(this.transform);
                }
            }
            if (this.enableInput === false)
                return;
            const userInputX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Horizontal, this.playerNumber);
            const userInputZ = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Vertical, this.playerNumber);
            const userMouseX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseX, this.playerNumber);
            const userMouseY = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseY, this.playerNumber);
            if (this.smoothAcceleration === true) {
                // SMOOTH USER INPUT X
                if (userInputX > 0) {
                    this.playerInputX += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX > 1)
                        this.playerInputX = 1;
                }
                else if (userInputX < 0) {
                    this.playerInputX -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX < -1)
                        this.playerInputX = -1;
                }
                else {
                    if (this.playerInputX < 0) {
                        this.playerInputX += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX > 0)
                            this.playerInputX = 0;
                    }
                    else if (this.playerInputX > 0) {
                        this.playerInputX -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX < 0)
                            this.playerInputX = 0;
                    }
                }
                // SMOOTH USER INPUT Z
                if (userInputZ > 0) {
                    this.playerInputZ += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ > 1)
                        this.playerInputZ = 1;
                }
                else if (userInputZ < 0) {
                    this.playerInputZ -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ < -1)
                        this.playerInputZ = -1;
                }
                else {
                    if (this.playerInputZ < 0) {
                        this.playerInputZ += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ > 0)
                            this.playerInputZ = 0;
                    }
                    else if (this.playerInputZ > 0) {
                        this.playerInputZ -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ < 0)
                            this.playerInputZ = 0;
                    }
                }
            }
            else {
                // RAW USER INPUT XZ
                this.playerInputX = userInputX;
                this.playerInputZ = userInputZ;
            }
            // ..
            this.playerMouseX = userMouseX;
            this.playerMouseY = userMouseY;
            // ..
            // Validate Animation Action
            // ..
            if (this.isPerformingAction === true && this.isActionInterruptable === true) {
                if (this.playerInputX !== 0 || this.playerInputZ !== 0) {
                    //console.log("Animation Interrupt: " + this.transform.name);
                    this.resetActionAnimationState();
                }
            }
            if (this.isPerformingAction === true) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Input
            // ..
            if (this.onPlayerInputObservable && this.onPlayerInputObservable.hasObservers()) {
                this.onPlayerInputObservable.notifyObservers(this.transform);
            }
            //..
            // Update Input Magnitude
            // ..
            this.inputMovementVector.set(this.playerInputX, 0, this.playerInputZ);
            if (this.inputMovementVector.length() > 1.0)
                this.inputMovementVector.normalize(); // Note: Normalize In Place
            this.inputMagnitude = this.inputMovementVector.length();
            // ..
            // Update Move Direction
            // ..
            const moveForward = (this.playerInputZ > 0);
            const moveBackward = (this.playerInputZ < 0);
            const moveRight = (this.playerInputX > 0);
            const moveLeft = (this.playerInputX < 0);
            if (moveForward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Forward;
                }
            }
            else if (moveBackward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Backward;
                }
            }
            else if (moveLeft === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingLeft;
            }
            else if (moveRight === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingRight;
            }
            else {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            }
            // ..
            // Update Pre Notifications
            // ..
            if (this.onPreUpdateObservable && this.onPreUpdateObservable.hasObservers()) {
                this.onPreUpdateObservable.notifyObservers(this.transform);
            }
            // ..
            // Update Forward Camera Vector
            // ..
            // this.cameraForwardVector.copyFrom(this.cameraPivot.forward);
            this.cameraForwardVector = this.scene.activeCamera.getForwardRay().direction;
            this.cameraForwardVector.y = 0;
            this.cameraForwardVector.normalize();
            this.cameraForwardVector.scaleToRef(this.playerInputZ, this.desiredForwardVector);
            // ..
            // Update Right Camera Vector
            // ..
            // this.cameraRightVector.copyFrom(this.cameraPivot.right);
            this.cameraRightVector = BABYLON.Vector3.Cross(this.cameraForwardVector, BABYLON.Vector3.Up());
            this.cameraRightVector.y = 0;
            this.cameraRightVector.normalize();
            this.cameraRightVector.scaleToRef(this.playerInputX, this.desiredRightVector);
            // ..
            // Update Player Rotation Vector
            // ..
            this.playerRotationVector.y += (this.playerMouseX * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x += (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x = BABYLON.Scalar.Clamp(this.playerRotationVector.x, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            if (this.movementAllowed === false) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Button Presses
            // ..
            this.isRunPressed = (BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardRun) || BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonRun));
            this.isJumpPressed = (BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardJump) || BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonJump));
            // ..
            // Update Player Movement Velocity
            // ..
            this.movementSpeed = (this.inputMagnitude * this.moveSpeed * this.speedFactor);
            if (this.runKeyRequired === true && this.isRunPressed === false) {
                // ..
                // TODO: Lerp Max Speed From Walk To Run And Vice Versa (Smooth Out Transitions)
                // ..
                this.movementSpeed = BABYLON.Scalar.Clamp(this.movementSpeed, 0, this.walkSpeed);
            }
            // ..
            this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerMovementVelocity);
            this.playerMovementVelocity.scaleInPlace(this.movementSpeed);
            // ..
            // this.transform.rotationQuaternion.copyFrom(this.lastRotationQuaternion);
            if (this.movementAllowed === true) {
                if (this.playerControl === PROJECT.PlayerInputControl.FirstPersonStrafing) {
                    // TODO: Handle Root Motion Rotation
                    // No Free Looking - Snap Player Rotation (Euler Angle Rotation)
                    BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.transform.rotationQuaternion);
                }
                else if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                    // Validate Free Looking Rotation
                    if (this.freeLooking === true) {
                        if (this.inputMagnitude > 0) {
                            // FIXME - Note: Large Movement - Slerp Player Rotation (Euler Angle Rotation)
                            const strafingTurnRatio = (this.playerMovementVelocity.length() / this.moveSpeed);
                            const strafingTurnSpeed = BABYLON.Scalar.Lerp(this.highTurnSpeed, this.lowTurnSpeed, strafingTurnRatio);
                            BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.playerRotationQuaternion);
                            BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.playerRotationQuaternion, (strafingTurnSpeed * this.deltaTime), this.transform.rotationQuaternion);
                        }
                    }
                    else {
                        // TODO: Handle Root Motion Rotation
                        // No Free Looking - Snap Player Rotation (Euler Angle Rotation)
                        BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.transform.rotationQuaternion);
                    }
                }
                // this.lastRotationQuaternion.copyFrom(this.transform.rotationQuaternion);
            }
            this.verticalVelocity = this.getVerticalVelocity();
            this.movementVelocity.copyFrom(this.playerMovementVelocity);
            // ..
            // Update Character Controller
            // ..
            this.hasGroundedContact = false;
            this.isCharacterGrounded = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterNavigating = (this.navigationAgent != null && this.navigationAgent.isNavigating());
            this.navigationAngularSpeed = (this.navigationAgent != null) ? this.navigationAgent.angularSpeed : 0;
            this.updateCharacterController();
            // ..
            // Update Animation State Params
            // ..
            if (this.animationState != null && this.updateStateParams === true) {
                this.validateAnimationStateParams();
                this.animationState.setInteger(this.animationStateParams.moveDirection, this.playerMoveDirection);
                this.animationState.setFloat(this.animationStateParams.heightInput, this.verticalVelocity);
                this.animationState.setBool(this.animationStateParams.jumpFrame, this.isCharacterJumpFrame);
                this.animationState.setBool(this.animationStateParams.jumpState, this.isCharacterJumping);
                this.animationState.setInteger(this.animationStateParams.actionState, this.performActionNumber);
                this.animationState.setBool(this.animationStateParams.fallingState, this.isCharacterFalling);
                this.animationState.setBool(this.animationStateParams.slidingState, this.isCharacterSliding);
                this.animationState.setBool(this.animationStateParams.groundedState, this.isCharacterGrounded);
                if (this.smoothMotionTime > 0) {
                    if (this.smoothInputVectors === true) {
                        this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, this.playerInputX, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, this.playerInputZ, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, this.playerMouseX, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, this.playerMouseY, this.smoothMotionTime, this.deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    }
                    this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude, this.smoothMotionTime, this.deltaTime);
                    this.animationState.setSmoothFloat(this.animationStateParams.speedInput, this.movementSpeed, this.smoothMotionTime, this.deltaTime);
                }
                else {
                    this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                    this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                    this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                    this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    this.animationState.setFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude);
                    this.animationState.setFloat(this.animationStateParams.speedInput, this.movementSpeed);
                }
                if (this.isCharacterNavigating === true) {
                    // TODO - Update Speed Input With Navigation Magnitude
                    // this.animationState.setFloat(this.animationStateParams.speedInput, this.inputMagnitude);
                }
            }
            // ..
            // Post Network Attributes
            // ..
            if (this.postNetworkAttributes == true && BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 0, this.playerMoveDirection); // Direction
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 1, this.inputMagnitude); // Magnitude
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 2, this.playerInputX); // Horizonal
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 3, this.playerInputZ); // Vertical
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 4, this.playerMouseX); // MouseX
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 5, this.playerMouseY); // MouseY
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 6, this.verticalVelocity); // Vertical Velocity
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 7, this.movementSpeed); // Movement Speed
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 8, this.performActionNumber); // Action State
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 9, ((this.isCharacterJumpFrame) ? 1 : 0)); // Jump Frame
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 10, ((this.isCharacterJumping) ? 1 : 0)); // Is Jumping
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 11, ((this.isCharacterFalling) ? 1 : 0)); // Is Falling
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 12, ((this.isCharacterSliding) ? 1 : 0)); // Is Sliding
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 13, ((this.isCharacterGrounded) ? 1 : 0)); // Is Grounded
            }
            // ..
            // Update Post Notifications
            // ..
            if (this.onPostUpdateObservable && this.onPostUpdateObservable.hasObservers()) {
                this.onPostUpdateObservable.notifyObservers(this.transform);
            }
        }
        afterPlayerController() {
        }
        // FIXME: Extra Raycast Distance When On Various Slope Angles - ???
        updateCharacterController() {
            if (this.characterController != null) {
                this.isCharacterRising = (this.isCharacterJumping == true && this.verticalVelocity > 0);
                this.isCharacterLanding = (this.isCharacterJumping == true && this.verticalVelocity < 0);
                if (this.isCharacterRising == true) {
                    this.hasGroundedContact = false; // IGNORE CONTACT
                }
                if (this.hasGroundedContact === true && this.minJumpTimer <= 0) {
                    this.isCharacterSliding = false; // NOT SLIDING
                    this.isCharacterGrounded = true; // IS GROUNDED
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterJumping = false;
                this.isCharacterFalling = (this.isCharacterGrounded === false && this.isCharacterSliding == false && this.isCharacterJumping == false && this.verticalVelocity < 0 && Math.abs(this.verticalVelocity) >= this.minFallVelocity);
                if (this.isCharacterFalling === true && this.isCharacterFallTriggered === false) {
                    this.isCharacterFallTriggered = true;
                    if (this.jumpDelay > 0)
                        this.delayJumpTimer = this.jumpDelay; // DUNNO: MAYBE USE SEPERATE FALLING DELAY TIMER - ???
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterFallTriggered = false;
                // WM.PrintToScreen("Is Grounded: " + this.isCharacterGrounded);
                // ..
                // Update Climbing System
                // ..
                if (this.useClimbSystem === true) {
                    this.castPhysicsClimbingVolumeRay();
                    this.castPhysicsHeightCheckVolumeRay();
                }
                // ..
                // Process Character Movement
                // ..
                //if (this.movementAllowed === false) return;
                if (this.isCharacterNavigating === false && this.movementAllowed === true) {
                    if (this.isCharacterGrounded === true) {
                        if (this.delayJumpTimer <= 0)
                            this.isCharacterJumpFrame = (this.canPlayerJump === true && this.isJumpPressed === true);
                        if (this.isPerformingAction === false && this.isCharacterJumpFrame === true && this.useClimbSystem === true && this.climbContact === true && this.heightContact === true) {
                            let climbAction = -1;
                            let rotateSpeed = 1;
                            let rotateTowards = false;
                            let matchHeight = false;
                            let startTime = 0;
                            let targetTime = 0;
                            let targetOffset = 0;
                            const hitHeight = parseFloat(this.heightContactPoint.y.toFixed(2));
                            const playerHeight = parseFloat(this.transform.position.y.toFixed(2));
                            const obstacleHeight = parseFloat((hitHeight - playerHeight).toFixed(2));
                            //console.log("Climb Action -->  Hit Height: " + hitHeight + " --> Player Height: " + playerHeight + " --> Obstacle Height: " + obstacleHeight + " --> Rotate Towards: " + rotateTowards);
                            if (obstacleHeight >= this.maxHeightRanges.stepUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.stepUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.StepUp;
                                rotateSpeed = this.maxHeightRanges.stepUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.stepUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.stepUpRange.matchHeight;
                                startTime = this.maxHeightRanges.stepUpRange.startTime;
                                targetTime = this.maxHeightRanges.stepUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.stepUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.jumpUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.jumpUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.JumpUp;
                                rotateSpeed = this.maxHeightRanges.jumpUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.jumpUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.jumpUpRange.matchHeight;
                                startTime = this.maxHeightRanges.jumpUpRange.startTime;
                                targetTime = this.maxHeightRanges.jumpUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.jumpUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.climbUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.climbUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.ClimbUp;
                                rotateSpeed = this.maxHeightRanges.climbUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.climbUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.climbUpRange.matchHeight;
                                startTime = this.maxHeightRanges.climbUpRange.startTime;
                                targetTime = this.maxHeightRanges.climbUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.climbUpRange.targetOffset;
                            }
                            if (climbAction >= 0) {
                                if (this.canClimbObstaclePredicate == null || this.canClimbObstaclePredicate(climbAction) === true) {
                                    this.isCharacterJumpFrame = false;
                                    this.isCharacterJumping = false;
                                    this.isCharacterLanding = false;
                                    this.isCharacterRising = false;
                                    this.playActionAnimation(climbAction, false, true);
                                    this.playerRotationSpeed = rotateSpeed;
                                    this.rotatePlayerTowards = rotateTowards;
                                    this.matchTargetHeight = matchHeight;
                                    this.matchStartTime = (startTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetTime = (targetTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetOffset = targetOffset;
                                    this.lastTargetHeight = hitHeight;
                                    this.lastStartHeight = null;
                                    this.lockTargetHeight = false;
                                }
                            }
                        }
                        if (this.isCharacterJumpFrame === true && this.jumpSpeed > 0) {
                            this.isCharacterJumping = true;
                            this.characterController.jump(this.jumpSpeed);
                            if (this.jumpDelay > 0)
                                this.delayJumpTimer = this.jumpDelay;
                            if (this.airbornTimeout > 0)
                                this.minJumpTimer = (this.airbornTimeout + this.deltaTime);
                            this.lastJumpVelocity.set(this.movementVelocity.x, 0, this.movementVelocity.z);
                        }
                        // ..
                        // Update Move Notifications
                        // ..
                        if (this.onBeforeMoveObservable && this.onBeforeMoveObservable.hasObservers()) {
                            this.onBeforeMoveObservable.notifyObservers(this.transform);
                        }
                        // ..
                        // Validate Root Motion Velocity
                        // ..
                        if (this.animationState != null && this.rootMotion === true) {
                            const rootMotion = this.getDeltaMotionPosition();
                            this.movementVelocity.set(rootMotion.x, 0, rootMotion.z);
                            BABYLON.Vector3.TransformNormalToRef(this.movementVelocity, this.transform.getWorldMatrix(), this.movementVelocity);
                            this.characterController.move(this.movementVelocity);
                        }
                        else {
                            //this.movementVelocity.scaleInPlace(this.deltaTime);
                            this.characterController.move(this.movementVelocity);
                        }
                    }
                    // this.characterController.updatePosition = true; - Which Is Best - ???
                }
                else {
                    // this.characterController.updatePosition = false; - Which Is Best - ???
                    // FIXME: EITHER OR - ???
                    // this.characterController.setGhostWorldPosition(this.transform.position);
                    // this.characterController.syncGhostToTransformPosition();
                }
            }
        }
        updateCameraController() {
            if (this.enableInput === false)
                return;
            // DUNNO FUR SURE:  if (this.isCharacterNavigating === true && this.navigationAngularSpeed > 0) allowRotation = false;
            if (this.cameraPivot != null) {
                // .. 
                // Update Camera Pivot Offset
                // ..
                if (this.targetCameraOffset.x !== 0 || this.targetCameraOffset.y !== 0 || this.targetCameraOffset.z !== 0) {
                    this.cameraPivotOffset.copyFrom(this.targetCameraOffset);
                }
                else {
                    if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                        this.cameraPivotOffset.set(0, this.pivotHeight, 0);
                    }
                    else {
                        this.cameraPivotOffset.set(0, this.eyesHeight, 0);
                    }
                }
                // ..
                // Update Camera Pivot Position
                // ..
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                // ..
                // Update Camera Pivot Rotation
                // ..
                if (this.rotateCamera === true) {
                    BABYLON.Quaternion.FromEulerAnglesToRef(this.playerRotationVector.x, this.playerRotationVector.y, 0, this.cameraPivot.rotationQuaternion);
                }
            }
            if (this.rotateCamera === true && this.cameraNode != null) {
                if (this.cameraSmoothing <= 0)
                    this.cameraSmoothing = 5.0; // Default Camera Smoothing
                if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                    if (this.cameraCollisions === true) {
                        // ..
                        // Check Camera Collision
                        // ..
                        // const maxDistance:number = Math.abs(this.boomPosition.z);
                        const parentNode = this.cameraNode.parent;
                        this.dollyDirection.scaleToRef(this.maxDistance, this.scaledMaxDirection);
                        this.dollyDirection.scaleToRef(this.cameraDistance, this.scaledCamDirection);
                        BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(parentNode, this.parentNodePosition);
                        BABYLON.Toolkit.Utilities.TransformPointToRef(parentNode, this.scaledMaxDirection, this.maximumCameraPos);
                        // ..
                        let contact = false;
                        let distance = 0;
                        if (this.characterController != null) {
                            // NOTE: USE SHAPECAST
                            if (this.cameraRaycastShape != null) {
                                const query = {
                                    shape: this.cameraRaycastShape,
                                    rotation: this.cameraNode.rotationQuaternion,
                                    startPosition: this.parentNodePosition,
                                    endPosition: this.maximumCameraPos,
                                    ignoreBody: this.transform.physicsBody,
                                    shouldHitTriggers: false
                                };
                                const result = BABYLON.Toolkit.RigidbodyPhysics.Shapecast(query);
                                contact = (result != null && result.world != null && result.world.hasHit === true && result.world.body != null);
                                distance = (contact === true) ? BABYLON.Vector3.Distance(this.parentNodePosition, result.world.hitPoint) : 0;
                            }
                            /* DEPRECATED: USE RAYCAST
                            if (this.cameraRaycastResult == null) this.cameraRaycastResult = new BABYLON.PhysicsRaycastResult;
                            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.parentNodePosition, this.maximumCameraPos, this.cameraRaycastResult);
                            contact = (this.cameraRaycastResult != null && this.cameraRaycastResult.hasHit === true && this.cameraRaycastResult.body != null && this.cameraRaycastResult.body.transformNode != null);
                            distance = (this.cameraRaycastResult != null && this.cameraRaycastResult.hasHit === true) ? this.cameraRaycastResult.hitDistance : 0;
                            //let contactBody:string = (contact === true) ? this.cameraRaycastResult.body.transformNode.name : "";
                            //WM.PrintToScreen("Camera Collision: " + contact + " --> Distance:  " + distance + " --> Transform: " + contactBody);*/
                        }
                        if (contact === true) {
                            this.cameraDistance = BABYLON.Scalar.Clamp((distance * this.distanceFactor), this.minimumDistance, this.maxDistance);
                            // Lerp Past Camera Collisions
                            if (this.cameraNode.position.x !== this.scaledCamDirection.x || this.cameraNode.position.y !== this.scaledCamDirection.y || this.cameraNode.position.z !== this.scaledCamDirection.z) {
                                BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.scaledCamDirection, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                            }
                        }
                        else {
                            if (this.mouseWheel === true) {
                                if (BABYLON.Toolkit.InputController.IsWheelScrolling()) {
                                    const wheel = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Wheel);
                                    if (wheel < 0) { // ZOOM OUT
                                        const zoomOutSpeed = (this.scrollSpeed * this.deltaTime);
                                        this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.maxDistance, zoomOutSpeed);
                                    }
                                    else if (wheel > 0) { // ZOOM IN
                                        const zoomInSpeed = (this.scrollSpeed * this.deltaTime);
                                        this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.minimumDistance, zoomInSpeed);
                                    }
                                }
                            }
                            // Lerp To Camera Boom Position
                            if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                                BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                            }
                        }
                    }
                    else {
                        // Lerp To Camera Boom Position
                        if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                }
                else {
                    // Note: Snap To Zero Camera Pivot Position - First Person View
                    if (this.cameraNode.position.x !== 0 || this.cameraNode.position.y !== 0 || this.cameraNode.position.z !== 0) {
                        this.cameraNode.position.set(0, 0, 0);
                    }
                }
            }
            this.updateSmoothBoomArmLength();
        }
        getBoomArmMaxDistance() { return this.maxDistance; }
        setBoomArmMaxDistance(distance) { this.maxDistance = Math.abs(distance); }
        setSmoothBoomArmLength(length, speed, updateMaxDistance = true) {
            const absoluteLength = Math.abs(length);
            this.smoothBoomArmLength = -absoluteLength;
            this.smoothBoomArmSpeed = speed;
            if (updateMaxDistance === true) {
                const absoluteDistance = Math.abs(this.maxDistance);
                if (absoluteLength > absoluteDistance) {
                    this.setBoomArmMaxDistance(absoluteLength);
                }
            }
        }
        updateSmoothBoomArmLength() {
            if (this.smoothBoomArmLength != null && this.smoothBoomArmSpeed != null) {
                if (this.boomPosition.z !== this.smoothBoomArmLength) {
                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, this.smoothBoomArmLength, (this.smoothBoomArmSpeed * this.getDeltaSeconds()));
                }
                else {
                    this.smoothBoomArmLength = null;
                    this.smoothBoomArmSpeed = null;
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Ammo Physics Raycasting
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        castPhysicsClimbingVolumeRay() {
            let raycast = null;
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactPoint.set(0, 0, 0);
            this.climbContactNormal.set(0, 0, 0);
            this.climbContactAngle = 0;
            this.climbContactDistance = 0;
            // ..
            // Climbing Raycast Positions
            // ..
            const playerTransformForwardDirection = UTIL.TransformDirection(this.transform, this.forwardDirection);
            this.offsetClimbRaycastPosition.set(0, this.rayClimbOffset, 0);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.startClimbRaycastPosition, this.offsetClimbRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.endClimbRaycastPosition, this.forwardDirection.scale(this.rayClimbLength));
            this.endClimbRaycastPosition.y += this.rayClimbOffset;
            // ..
            //raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startClimbRaycastPosition, playerTransformForwardDirection, this.rayClimbLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.climbContact = true;
                    this.climbContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.climbContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.climbContactNormal.copyFrom(raycast.hitNormal);
                    this.climbContactAngle = (this.climbContactNormal != null) ? Math.abs(BABYLON.Toolkit.Utilities.GetAngle(this.climbContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.climbContactDistance = raycast.hitDistance;
                }
            }
            // Climbing Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.climbSensorLine == null)
                    this.climbSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".ClimbingSensorLine", this.scene);
                if (this.climbContact === true) {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, this.endClimbRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        castPhysicsHeightCheckVolumeRay() {
            let raycast = null;
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactPoint.set(0, 0, 0);
            this.heightContactNormal.set(0, 0, 0);
            this.heightContactAngle = 0;
            this.heightContactDistance = 0;
            // ..
            // Height Check Raycast Positions
            // ..
            const playerTransformHeightDirection = UTIL.TransformDirection(this.transform, this.downDirection);
            if (this.climbContact === true) {
                this.endHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.addInPlace(BABYLON.Vector3.UpReadOnly.scale(this.rayHeightLength));
                //raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startHeightRaycastPosition, playerTransformHeightDirection, this.rayHeightLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            }
            else {
                this.offsetHeightRaycastPosition.set(0, this.rayHeightOffset, this.rayClimbLength);
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.startHeightRaycastPosition, this.offsetHeightRaycastPosition);
                this.endHeightRaycastPosition.copyFrom(this.startHeightRaycastPosition);
                this.endHeightRaycastPosition.addInPlace(this.downDirection.scale(this.rayHeightLength));
            }
            // ..
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.heightContact = true;
                    this.heightContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.heightContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.heightContactNormal.copyFrom(raycast.hitNormal);
                    this.heightContactAngle = (this.heightContactNormal != null) ? Math.abs(BABYLON.Toolkit.Utilities.GetAngle(this.heightContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.heightContactDistance = raycast.hitDistance;
                }
            }
            // Height Check Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.heightSensorLine == null)
                    this.heightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".HeightCheckSensorLine", this.scene);
                if (raycast != null && this.heightContact === true) {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, this.endHeightRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Private Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getCheckedVerticalVelocity() {
            const currentVelocity = (this.characterController != null) ? this.characterController.getVerticalVelocity() : 0;
            return (Math.abs(currentVelocity) >= PROJECT.StandardPlayerController.MIN_VERTICAL_VELOCITY) ? currentVelocity : 0;
        }
        destroyPlayerController() {
            this.cameraPivot = null;
            this.cameraNode = null;
            this.animationState = null;
            this.characterController = null;
            this.onPreUpdateObservable.clear();
            this.onPreUpdateObservable = null;
            this.onBeforeMoveObservable.clear();
            this.onBeforeMoveObservable = null;
            this.onPostUpdateObservable.clear();
            this.onPostUpdateObservable = null;
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded",
                };
            }
        }
    }
    StandardPlayerController.MIN_VERTICAL_VELOCITY = 0.01;
    StandardPlayerController.MIN_GROUND_DISTANCE = 0.15;
    StandardPlayerController.MIN_MOVE_EPSILON = 0.001;
    StandardPlayerController.MIN_TIMER_OFFSET = 0;
    StandardPlayerController.MIN_SLOPE_LIMIT = 0;
    StandardPlayerController.PLAYER_HEIGHT = "playerHeight";
    PROJECT.StandardPlayerController = StandardPlayerController;
    /**
    * Babylon Enum Definition
    * @interface PlayerInputControl
    */
    let PlayerInputControl;
    (function (PlayerInputControl) {
        PlayerInputControl[PlayerInputControl["FirstPersonStrafing"] = 0] = "FirstPersonStrafing";
        PlayerInputControl[PlayerInputControl["ThirdPersonStrafing"] = 1] = "ThirdPersonStrafing";
    })(PlayerInputControl = PROJECT.PlayerInputControl || (PROJECT.PlayerInputControl = {}));
    /**
    * Babylon Enum Definition
    * @interface PlayerMoveDirection
    */
    let PlayerMoveDirection;
    (function (PlayerMoveDirection) {
        PlayerMoveDirection[PlayerMoveDirection["Stationary"] = 0] = "Stationary";
        PlayerMoveDirection[PlayerMoveDirection["Forward"] = 1] = "Forward";
        PlayerMoveDirection[PlayerMoveDirection["ForwardLeft"] = 2] = "ForwardLeft";
        PlayerMoveDirection[PlayerMoveDirection["ForwardRight"] = 3] = "ForwardRight";
        PlayerMoveDirection[PlayerMoveDirection["Backward"] = 4] = "Backward";
        PlayerMoveDirection[PlayerMoveDirection["BackwardLeft"] = 5] = "BackwardLeft";
        PlayerMoveDirection[PlayerMoveDirection["BackwardRight"] = 6] = "BackwardRight";
        PlayerMoveDirection[PlayerMoveDirection["StrafingLeft"] = 7] = "StrafingLeft";
        PlayerMoveDirection[PlayerMoveDirection["StrafingRight"] = 8] = "StrafingRight";
    })(PlayerMoveDirection = PROJECT.PlayerMoveDirection || (PROJECT.PlayerMoveDirection = {}));
    /**
    * Babylon Enum Definition
    * @interface ActionAnimationType
    */
    let ActionAnimationType;
    (function (ActionAnimationType) {
        ActionAnimationType[ActionAnimationType["Neutral"] = 0] = "Neutral";
        ActionAnimationType[ActionAnimationType["StepUp"] = 1] = "StepUp";
        ActionAnimationType[ActionAnimationType["JumpUp"] = 2] = "JumpUp";
        ActionAnimationType[ActionAnimationType["ClimbUp"] = 3] = "ClimbUp";
        ActionAnimationType[ActionAnimationType["VaultOver"] = 4] = "VaultOver";
    })(ActionAnimationType = PROJECT.ActionAnimationType || (PROJECT.ActionAnimationType = {}));
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit third person player controller class
     * @class ThirdPersonPlayerController - All rights reserved (c) 2020 Mackey Kinard
    */
    class ThirdPersonPlayerController extends BABYLON.Toolkit.ScriptComponent {
        isAnimationEnabled() { return this.updateStateParams; }
        isRunButtonPressed() { return this.isRunPressed; }
        isJumpButtonPressed() { return this.isJumpPressed; }
        getPlayerJumped() { return this.isCharacterJumpFrame; }
        getPlayerJumping() { return this.isCharacterJumping; }
        getPlayerFalling() { return this.isCharacterFalling; }
        getPlayerSliding() { return this.isCharacterSliding; }
        getPlayerGrounded() { return this.isCharacterGrounded; }
        getFallTriggered() { return this.isCharacterFallTriggered; }
        getMovementSpeed() { return this.movementSpeed; }
        getAnimationSpeed() { return this.animationSpeed; }
        getCameraBoomNode() { return this.cameraNode; }
        getCameraTransform() { return this.cameraPivot; }
        getAnimationState() { return this.animationState; }
        getVerticalVelocity() { return this.getCheckedVerticalVelocity(); }
        getCharacterController() { return this.characterController; }
        getPlayerLookRotation() { return this.playerLookRotation; }
        getPlayerMoveDirection() { return this.playerMoveDirection; }
        getInputMovementVector() { return this.inputMovementVector; }
        getInputMagnitudeValue() { return this.inputMagnitude; }
        getCameraPivotPosition() { return (this.cameraPivot != null) ? this.cameraPivot.position : null; }
        getCameraPivotRotation() { return (this.cameraPivot != null) ? this.cameraPivot.rotationQuaternion : null; }
        getClimbContact() { return this.climbContact; }
        getClimbContactNode() { return this.climbContactNode; }
        getClimbContactPoint() { return this.climbContactPoint; }
        getClimbContactAngle() { return this.climbContactAngle; }
        getClimbContactNormal() { return this.climbContactNormal; }
        getClimbContactDistance() { return this.climbContactDistance; }
        ;
        getHeightContact() { return this.heightContact; }
        getHeightContactNode() { return this.heightContactNode; }
        getHeightContactPoint() { return this.heightContactPoint; }
        getHeightContactAngle() { return this.heightContactAngle; }
        getHeightContactNormal() { return this.heightContactNormal; }
        getHeightContactDistance() { return this.heightContactDistance; }
        ;
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.enableInput = false;
            this.attachCamera = false;
            this.rotateCamera = true;
            this.mouseWheel = true;
            this.freeCamera = null;
            this.freeLooking = false;
            this.requireSprintButton = false;
            this.gravitationalForce = 3.0;
            this.minFallVelocity = 1.0;
            this.verticalStepSpeed = 1.0;
            this.minStepUpHeight = 0.15;
            this.rigidBodyMass = 85.0;
            this.airbornTimeout = 0.5;
            this.maxAngle = 45;
            this.speedFactor = 1.0;
            this.rootMotion = false;
            this.moveSpeed = 5.335;
            this.walkSpeed = 2.0;
            this.lookSpeed = 2.0;
            this.jumpSpeed = 10.0;
            this.jumpDelay = 0.25;
            this.eyesHeight = 1.55;
            this.pivotHeight = 1.35;
            this.maxDistance = 5.0;
            this.scrollSpeed = 25;
            this.topLookLimit = 60.0;
            this.downLookLimit = 30.0;
            this.lowTurnSpeed = 15.0;
            this.highTurnSpeed = 25.0;
            this.smoothInputTime = 0;
            this.smoothInputVectors = false;
            this.smoothAcceleration = false;
            this.accelerationSpeed = 0.1;
            this.decelerationSpeed = 0.1;
            this.climbVolumeTag = "Climb";
            this.vaultVolumeTag = "Vault";
            this.maxHeightRanges = null;
            this.useClimbSystem = false;
            this.distanceFactor = 0.85;
            this.cameraSmoothing = 8;
            this.cameraCollisions = true;
            this.inputMagnitude = 0;
            this.landingEpsilon = 0.1;
            this.minimumDistance = 0.5;
            this.movementAllowed = true;
            this.playerInputX = 0;
            this.playerInputZ = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.runKeyRequired = true;
            this.buttonRun = BABYLON.Xbox360Button.LeftStick;
            this.keyboardRun = BABYLON.Toolkit.UserInputKey.Shift;
            this.buttonJump = BABYLON.Xbox360Button.A;
            this.keyboardJump = BABYLON.Toolkit.UserInputKey.SpaceBar;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = BABYLON.Toolkit.UserInputKey.P;
            this.postNetworkAttributes = false;
            this.playerNumber = BABYLON.Toolkit.PlayerNumber.One;
            this.boomPosition = new BABYLON.Vector3(0, 0, -5);
            this.airbornVelocity = new BABYLON.Vector3(0, 0, 0);
            this.movementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.targetCameraOffset = new BABYLON.Vector3(0, 0, 0);
            this.rayClimbOffset = 0.35;
            this.rayClimbLength = 0.85;
            this.canClimbObstaclePredicate = null;
            this.rayHeightOffset = 5.0;
            this.rayHeightLength = 6.0;
            this.abstractMesh = null;
            this.cameraDistance = 0;
            this.forwardCamera = true; // Note Always Camera Forward
            this.avatarRadius = 0.5;
            this.groundingObject = null;
            this.groundingCallback = null;
            this.dollyDirection = new BABYLON.Vector3(0, 0, 0);
            this.cameraEulers = new BABYLON.Vector3(0, 0, 0);
            this.rotationEulers = new BABYLON.Vector3(0, 0, 0);
            this.cameraPivotOffset = new BABYLON.Vector3(0, 0, 0);
            this.cameraForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.cameraRightVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredRightVector = new BABYLON.Vector3(0, 0, 0);
            this.lastRotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
            this.scaledCamDirection = new BABYLON.Vector3(0, 0, 0);
            this.scaledMaxDirection = new BABYLON.Vector3(0, 0, 0);
            this.parentNodePosition = new BABYLON.Vector3(0, 0, 0);
            this.maximumCameraPos = new BABYLON.Vector3(0, 0, 0);
            this.tempWorldPosition = new BABYLON.Vector3(0, 0, 0);
            this.cameraRaycastResult = null;
            this.cameraRaycastShape = null;
            //private defaultRaycastGroup:number = BABYLON.Toolkit.CollisionFilters.DefaultFilter;
            //private defaultRaycastMask:number = BABYLON.Toolkit.CollisionFilters.StaticFilter;
            //private cameraRaycastMask:number = (BABYLON.Toolkit.CollisionFilters.DefaultFilter | BABYLON.Toolkit.CollisionFilters.StaticFilter | BABYLON.Toolkit.CollisionFilters.KinematicFilter); // Note: Exclude The Player Character Controller From Camera Collision
            this.avatarSkins = null;
            this.cameraNode = null;
            this.cameraPivot = null;
            this.navigationAgent = null;
            this.characterController = null;
            this.verticalVelocity = 0;
            this.smoothMotionSpeed = false;
            this.smoothChangeRate = 25;
            this.animationSpeed = 0;
            this.movementSpeed = 0;
            this.isRunPressed = false;
            this.isJumpPressed = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterGrounded = false;
            this.isCharacterFallTriggered = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterJumping = false;
            this.isCharacterRising = false;
            this.isCharacterLanding = false;
            this.isCharacterNavigating = false;
            this.navigationAngularSpeed = 0;
            this.updateStateParams = true;
            this.animationStateParams = null;
            this.sphereCollisionShape = null;
            this.hasGroundedContact = false;
            this.showDebugColliders = false;
            this.colliderVisibility = 0;
            this.colliderRenderGroup = 0;
            this.showDebugRaycasts = false;
            this.deltaTime = 0;
            this.minJumpTimer = 0;
            this.delayJumpTimer = 0;
            this.canPlayerJump = true;
            this.animationState = null;
            // DEPRECIATED: private rotationVelocityX:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            // DEPRECIATED: private rotationVelocityY:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            this.lastJumpVelocity = new BABYLON.Vector3(0, 0, 0);
            this.inputMovementVector = new BABYLON.Vector3(0, 0, 0);
            this.playerLookRotation = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationVector = BABYLON.Vector2.Zero();
            this.playerMovementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationQuaternion = BABYLON.Quaternion.Zero();
            this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            this.forwardDirection = new BABYLON.Vector3(0, 0, 1);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactAngle = 0;
            this.climbContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.climbContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.climbContactDistance = 0;
            this.climbSensorLine = null;
            this.offsetClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactAngle = 0;
            this.heightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.heightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.heightContactDistance = 0;
            this.heightSensorLine = null;
            this.offsetHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_actualVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            this.playerDrawVelocity = 0;
            /** Register handler that is triggered before the controller has been updated */
            this.onPreUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered before the controller movement has been applied */
            this.onBeforeMoveObservable = new BABYLON.Observable();
            /** Register handler that is triggered after the controller has been updated */
            this.onPostUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered after player input has been updated */
            this.onPlayerInputObservable = new BABYLON.Observable();
            /** Register handler that is triggered when player position should be updated */
            this.onPlayerPositionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after performing action has been updated */
            this.onUpdateActionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after animation state has been updated */
            this.onAnimationStateObservable = new BABYLON.Observable();
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Root Motion Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this._deltaMotionPosition = new BABYLON.Vector3(0, 0, 0);
            this._deltaMotionRotation = new BABYLON.Quaternion(0, 0, 0, 0);
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Blocking Action Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal = new BABYLON.Vector3(0, 0, 0);
            this.lastTargetRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this.lastDeltaPosition = new BABYLON.Vector3(0, 0, 0);
            this.lastDeltaRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this._ikLeftController = null;
            this._ikLeftFootTarget = null;
            this._ikLeftPoleTarget = null;
            this._ikRightController = null;
            this._ikRightFootTarget = null;
            this._ikRightPoleTarget = null;
            this.abstractSkinMesh = null;
            this.rootBoneTransform = null;
            this.leftFootTransform = null;
            //private leftFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.leftFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.leftFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.leftFootPoleAngle = 0;
            this.leftFootMaxAngle = 180;
            this.rightFootTransform = null;
            //private rightFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.rightFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.rightFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.rightFootPoleAngle = 0;
            this.rightFootMaxAngle = 180;
            this.smoothBoomArmLength = null;
            this.smoothBoomArmSpeed = null;
        }
        awake() { this.awakePlayerController(); }
        start() { this.startPlayerController(); }
        after() { this.afterPlayerController(); }
        update() { this.updatePlayerController(); }
        destroy() { this.destroyPlayerController(); }
        getDeltaMotionPosition() {
            this._deltaMotionPosition.set(0, 0, 0);
            if (this.animationState != null) {
                const rootMotionPosition = this.animationState.getDeltaRootMotionPosition();
                if (rootMotionPosition != null) {
                    // FIXME: Calculate Delta Root Motion Position
                    this._deltaMotionPosition.copyFrom(rootMotionPosition);
                }
            }
            return this._deltaMotionPosition;
        }
        getDeltaMotionRotation() {
            this._deltaMotionRotation.set(0, 0, 0, 0);
            if (this.animationState != null) {
                const rootMotionRotation = this.animationState.getDeltaRootMotionRotation();
                if (rootMotionRotation != null) {
                    // FIXME: Calculate Delta Root Motion Rotation
                    this._deltaMotionRotation.copyFrom(rootMotionRotation);
                }
            }
            return this._deltaMotionRotation;
        }
        getIsPerformingAction() { return this.isPerformingAction; }
        getIsRootMotionAction() { return this.isRootMotionAction; }
        getIsActionInterruptable() { return this.isActionInterruptable; }
        playActionAnimation(action, interruptableAction = true, enableRootMotion = false, afterActionComplete = null) {
            if (this.isPerformingAction === false && this.animationState != null && action >= 0) {
                this.isPerformingAction = true;
                this.performActionTimer = 0;
                this.performActionNumber = action;
                this.afterActionHandler = afterActionComplete;
                this.isActionInterruptable = interruptableAction;
                this.isRootMotionAction = enableRootMotion;
                this.playerRotationSpeed = 10;
                this.rotatePlayerTowards = false;
                this.matchStartTime = 0;
                this.matchTargetTime = 0;
                this.matchTargetOffset = 0;
                this.matchTargetHeight = false;
                this.lockTargetHeight = false;
                this.lastStartHeight = null;
                this.lastTargetHeight = null;
                this.lastTargetNormal.set(0, 0, 0);
                this.lastTargetRotation.set(0, 0, 0, 1);
                if (this.isRootMotionAction === true) {
                    this.enableCharacterController(false); // Note: Disable Character Controller
                }
                if (this.animationState != null) {
                    this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                }
            }
        }
        resetActionAnimationState() {
            if (this.afterActionHandler != null) {
                try {
                    this.afterActionHandler();
                }
                catch (_a) { }
            }
            if (this.isRootMotionAction === true) {
                this.enableCharacterController(true); // Note: Enable Character Controller
            }
            if (this.animationState != null) {
                this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
            }
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal.set(0, 0, 0);
            this.lastTargetRotation.set(0, 0, 0, 1);
        }
        updateAnimationActionState() {
            const deltaTime = this.getDeltaSeconds();
            const dampTime = (this.matchTargetTime - this.matchStartTime);
            if (this.animationState != null && this.isRootMotionAction === true) {
                const playerGlobalHeight = this.transform.absolutePosition.y;
                this.lastDeltaPosition.copyFrom(this.getDeltaMotionPosition());
                BABYLON.Vector3.TransformNormalToRef(this.lastDeltaPosition, this.transform.getWorldMatrix(), this.lastDeltaPosition);
                if (this.matchTargetHeight === true) {
                    if (this.lastStartHeight == null && this.performActionTimer >= this.matchStartTime) {
                        this.lastStartHeight = playerGlobalHeight;
                        this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                        // console.warn(">>> Start Global Height: " + this.lastStartHeight + " --> Perform Action Timer: " + this.performActionTimer);
                    }
                    if (this.lastStartHeight != null && this.lastTargetHeight != null) {
                        this.lastDeltaPosition.y = 0;
                        const fixedTargetHeight = (this.lastTargetHeight + this.matchTargetOffset);
                        if (this.performActionTimer < this.matchTargetTime) {
                            this.animationState.setSmoothFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT, fixedTargetHeight, dampTime, deltaTime);
                            const smoothPlayerHeight = this.animationState.getFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                            this.lastDeltaPosition.y = (smoothPlayerHeight - playerGlobalHeight);
                            // console.warn(">>> Lerp Target Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                        }
                        else if (this.lockTargetHeight === false && this.performActionTimer >= this.matchTargetTime) {
                            this.lastDeltaPosition.y = (fixedTargetHeight - playerGlobalHeight);
                            this.lockTargetHeight = true;
                            // console.warn(">>> Last Global Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer + " ---> Match Target Time: " + this.matchTargetTime);
                        }
                    }
                }
                // ..
                // Apply Root Motion To Position
                // ..
                // this.lastDeltaPosition.x = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                // this.lastDeltaPosition.y = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                this.transform.position.addInPlace(this.lastDeltaPosition);
                // console.log("Player Action Height: " + playerGlobalHeight + " --> Perform Action Timer: " + this.performActionTimer);
                // console.log("Current Delta Height: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                // ..
                // Apply Root Motion To Rotation
                // ..
                if (this.rotatePlayerTowards === true) {
                    if (this.climbContact === true) {
                        this.lastTargetNormal.set(-this.climbContactNormal.x, -this.climbContactNormal.y, -this.climbContactNormal.z);
                        BABYLON.Toolkit.Utilities.LookRotationToRef(this.lastTargetNormal, this.lastTargetRotation);
                        const lerpAmount = BABYLON.Scalar.Clamp(this.playerRotationSpeed * deltaTime);
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.lastTargetRotation, lerpAmount, this.transform.rotationQuaternion);
                        //console.log("Climb Target Rotation: " + this.lastTargetRotation);
                    }
                }
                else {
                    this.lastDeltaRotation.copyFrom(this.getDeltaMotionRotation());
                    this.transform.rotationQuaternion.multiplyInPlace(this.lastDeltaRotation);
                }
            }
            this.performActionTimer += deltaTime;
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Attachment Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Set the player world position */
        setWorldPosition(x, y, z) {
            if (this.characterController != null) {
                this.characterController.set(x, y, z);
            }
        }
        /** TODO */
        attachPlayerCamera(player) {
            if (this.cameraNode == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.cameraNode = PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                this.freeCamera = PROJECT.DefaultCameraSystem.GetMainCamera(this.scene, false);
                if (this.cameraNode != null && this.freeCamera != null) {
                    this.freeCamera.detachControl(); // NOTE: ALWAYS DETACH CONTROL
                    // ..
                    this.cameraNode.parent = this.cameraPivot;
                    this.cameraNode.position.copyFrom(this.boomPosition);
                    this.cameraNode.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                    // ..
                    // TODO - Move somewhere better - ???
                    // TODO - Handle Long Intitial Camera Pan - ???
                    // ..
                    this.cameraDistance = this.cameraNode.position.length();
                    this.dollyDirection.copyFrom(this.cameraNode.position);
                    this.dollyDirection.normalize();
                }
                else {
                    // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate player camera for: " + this.transform.name);
                }
            }
        }
        getLeftFootTarget() { return this._ikLeftFootTarget; }
        getRightFootTarget() { return this._ikRightFootTarget; }
        getLeftFootController() { return this._ikLeftController; }
        getRightFootController() { return this._ikRightController; }
        attachBoneControllers() {
            const displayHandles = this.getProperty("displayHandles");
            const abstractSkinMeshData = this.getProperty("abstractSkinMesh");
            if (abstractSkinMeshData != null)
                this.abstractSkinMesh = this.getChildNode(abstractSkinMeshData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            const rootBoneTransformData = this.getProperty("rootBoneTransform");
            if (rootBoneTransformData != null)
                this.rootBoneTransform = this.getChildNode(rootBoneTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            // ..
            const leftFootTransformData = this.getProperty("leftFootTransform");
            if (leftFootTransformData != null)
                this.leftFootTransform = this.getChildNode(leftFootTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            //const leftFootPositionData:BABYLON.Toolkit.IUnityVector3 = this.getProperty("leftFootPosition");
            //if (leftFootPositionData != null) this.leftFootPosition.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftFootPositionData));
            const leftPoleHandleData = this.getProperty("leftFootPolePos");
            if (leftPoleHandleData != null)
                this.leftFootPolePos.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftPoleHandleData));
            const leftBendAxisData = this.getProperty("leftFootBendAxis");
            if (leftBendAxisData != null)
                this.leftFootBendAxis.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftBendAxisData));
            this.leftFootPoleAngle = this.getProperty("leftFootPoleAngle", this.leftFootPoleAngle);
            this.leftFootMaxAngle = this.getProperty("leftFootMaxAngle", this.leftFootMaxAngle);
            // ..
            const rightFootTransformData = this.getProperty("rightFootTransform");
            if (rightFootTransformData != null)
                this.rightFootTransform = this.getChildNode(rightFootTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            //const rightFootPositionData:BABYLON.Toolkit.IUnityVector3 = this.getProperty("rightFootPosition");
            //if (rightFootPositionData != null) this.rightFootPosition.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightFootPositionData));
            const rightPoleHandleData = this.getProperty("rightFootPolePos");
            if (rightPoleHandleData != null)
                this.rightFootPolePos.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightPoleHandleData));
            const rightBendAxisData = this.getProperty("rightFootBendAxis");
            if (rightBendAxisData != null)
                this.rightFootBendAxis.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightBendAxisData));
            this.rightFootPoleAngle = this.getProperty("rightFootPoleAngle", this.rightFootPoleAngle);
            this.rightFootMaxAngle = this.getProperty("rightFootMaxAngle", this.rightFootMaxAngle);
            // ..
            if (this.abstractSkinMesh != null) {
                let materialName = "M_TARGET_MESH";
                let targetMaterial = this.scene.getMaterialByName(materialName);
                if (targetMaterial == null) {
                    targetMaterial = new BABYLON.StandardMaterial("M_TARGET_MESH", this.scene);
                    targetMaterial.diffuseColor = new BABYLON.Color3(1.0, 0.5, 0.25);
                }
                // ..
                // Setup Left Foot Controller
                // ..
                if (this.leftFootTransform != null && this.leftFootTransform._linkedBone != null) {
                    this._ikLeftFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".LeftFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikLeftFootTarget.parent = this.abstractSkinMesh;
                    //this._ikLeftFootTarget.position.copyFrom(this.leftFootPosition);
                    if (this._ikLeftFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftFootTarget.material = targetMaterial;
                        this._ikLeftFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikLeftPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".LeftFootPole", { diameter: 0.15 }, this.scene);
                    this._ikLeftPoleTarget.parent = this.abstractSkinMesh;
                    this._ikLeftPoleTarget.position.copyFrom(this.leftFootPolePos);
                    if (this._ikLeftPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikLeftController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.leftFootTransform)._linkedBone, {targetMesh:this._ikLeftFootTarget, poleTargetMesh:this._ikLeftPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.leftFootPoleAngle), bendAxis:this.leftFootBendAxis});
                    // this._ikLeftController.maxAngle = BABYLON.Tools.ToRadians(this.leftFootMaxAngle);
                }
                // ..
                // Setup Right Foot Controller
                // ..
                if (this.rightFootTransform != null && this.rightFootTransform._linkedBone != null) {
                    this._ikRightFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".RightFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikRightFootTarget.parent = this.abstractSkinMesh;
                    //this._ikRightFootTarget.position.copyFrom(this.rightFootPosition);
                    if (this._ikRightFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightFootTarget.material = targetMaterial;
                        this._ikRightFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikRightPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".RightFootPole", { diameter: 0.15 }, this.scene);
                    this._ikRightPoleTarget.parent = this.abstractSkinMesh;
                    this._ikRightPoleTarget.position.copyFrom(this.rightFootPolePos);
                    if (this._ikRightPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikRightController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.rightFootTransform)._linkedBone, {targetMesh:this._ikRightFootTarget, poleTargetMesh:this._ikRightPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.rightFootPoleAngle), bendAxis:this.rightFootBendAxis});
                    // this._ikRightController.maxAngle = BABYLON.Tools.ToRadians(this.rightFootMaxAngle);
                }
            }
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("BABYLON.Toolkit.AnimationState", true);
            }
            if (this.animationState != null) {
                this.animationState.onAnimationEndObservable.add(() => {
                    if (this.isPerformingAction === true) {
                        //console.log("Animation End: " + this.transform.name);
                        this.resetActionAnimationState();
                    }
                });
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        if (this._ikLeftController != null) {
                            this._ikLeftController.update();
                        }
                        if (this._ikRightController != null) {
                            this._ikRightController.update();
                        }
                    }
                });
            }
        }
        /** TODO */
        enableCharacterController(state) {
            if (state === true) {
                this.movementAllowed = true;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravityFactor(this.gravitationalForce);
                    this.characterController.setCollisionState(true);
                    //this.characterController.updatePosition = true;
                }
            }
            else {
                this.movementAllowed = false;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravityFactor(0);
                    this.characterController.setCollisionState(false);
                    //this.characterController.updatePosition = false;
                }
            }
        }
        /** TODO */
        resetPlayerRotation() {
            this.transform.rotationQuaternion.toEulerAnglesToRef(this.rotationEulers);
            this.playerRotationVector.x = this.rotationEulers.x;
            this.playerRotationVector.y = this.rotationEulers.y;
        }
        /** TODO */
        resetPlayerJumpingState() {
            this.minJumpTimer = 0;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterJumpFrame = false;
            if (this.characterController != null) {
                this.characterController.jump(0); // Note: Zero Jump Speed
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        awakePlayerController() {
            this.gravitationalForce = this.getProperty("gravityMultiplier", this.gravitationalForce);
            this.verticalStepSpeed = this.getProperty("stepUpVelocity", this.verticalStepSpeed);
            this.minStepUpHeight = this.getProperty("minStepHeight", this.minStepUpHeight);
            this.rigidBodyMass = this.getProperty("rigidBodyMass", this.rigidBodyMass);
            this.rotateCamera = this.getProperty("rotateCamera", this.rotateCamera);
            this.mouseWheel = this.getProperty("mouseWheel", this.mouseWheel);
            this.rayClimbLength = this.getProperty("rayClimbLength", this.rayClimbLength);
            this.rayClimbOffset = this.getProperty("rayClimbOffset", this.rayClimbOffset);
            this.rayHeightLength = this.getProperty("rayHeightLength", this.rayHeightLength);
            this.rayHeightOffset = this.getProperty("rayHeightOffset", this.rayHeightOffset);
            this.maxAngle = this.getProperty("maxAngle", this.maxAngle);
            this.landingEpsilon = this.getProperty("landingEpsilon", this.landingEpsilon);
            this.minFallVelocity = this.getProperty("minFallVelocity", this.minFallVelocity);
            this.airbornTimeout = this.getProperty("airbornTimeout", this.airbornTimeout);
            this.rootMotion = this.getProperty("rootMotion", this.rootMotion);
            this.moveSpeed = this.getProperty("moveSpeed", this.moveSpeed);
            this.walkSpeed = this.getProperty("walkSpeed", this.walkSpeed);
            this.lookSpeed = this.getProperty("lookSpeed", this.lookSpeed);
            this.jumpSpeed = this.getProperty("jumpSpeed", this.jumpSpeed);
            this.jumpDelay = this.getProperty("jumpDelay", this.jumpDelay);
            this.eyesHeight = this.getProperty("eyesHeight", this.eyesHeight);
            this.pivotHeight = this.getProperty("pivotHeight", this.pivotHeight);
            this.maxDistance = this.getProperty("maxDistance", this.maxDistance);
            this.scrollSpeed = this.getProperty("scrollSpeed", this.scrollSpeed);
            this.topLookLimit = this.getProperty("topLookLimit", this.topLookLimit);
            this.downLookLimit = this.getProperty("downLookLimit", this.downLookLimit);
            this.lowTurnSpeed = this.getProperty("lowTurnSpeed", this.lowTurnSpeed);
            this.highTurnSpeed = this.getProperty("highTurnSpeed", this.highTurnSpeed);
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.attachCamera = this.getProperty("attachCamera", this.attachCamera);
            this.freeLooking = this.getProperty("freeLooking", this.freeLooking);
            this.runKeyRequired = this.getProperty("runKeyRequired", this.runKeyRequired);
            this.cameraCollisions = this.getProperty("cameraCollisions", this.cameraCollisions);
            this.cameraSmoothing = this.getProperty("cameraSmoothing", this.cameraSmoothing);
            this.distanceFactor = this.getProperty("distanceFactor", this.distanceFactor);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.smoothInputTime = this.getProperty("smoothInputTime", this.smoothInputTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.smoothAcceleration = this.getProperty("smoothAcceleration", this.smoothAcceleration);
            this.accelerationSpeed = this.getProperty("accelerationSpeed", this.accelerationSpeed);
            this.decelerationSpeed = this.getProperty("decelerationSpeed", this.decelerationSpeed);
            this.climbVolumeTag = this.getProperty("climbVolumeTag", this.climbVolumeTag);
            this.vaultVolumeTag = this.getProperty("vaultVolumeTag", this.vaultVolumeTag);
            this.useClimbSystem = this.getProperty("useClimbSystem", this.useClimbSystem);
            this.maxHeightRanges = this.getProperty("maxHeightRanges", this.maxHeightRanges);
            this.smoothMotionSpeed = this.getProperty("smoothMotionSpeed", this.smoothMotionSpeed);
            this.smoothChangeRate = this.getProperty("smoothChangeRate", this.smoothChangeRate);
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            this.postNetworkAttributes = this.getProperty("postNetworkAttribs", this.postNetworkAttributes);
            this.showDebugRaycasts = this.getProperty("showDebugRaycasts", this.showDebugRaycasts);
            // ..
            const arrowKeyRotation = this.getProperty("arrowKeyRotation");
            if (arrowKeyRotation === true)
                BABYLON.Toolkit.UserInputOptions.UseArrowKeyRotation = true;
            // ..
            const boomPositionData = this.getProperty("boomPosition");
            if (boomPositionData != null)
                this.boomPosition = BABYLON.Toolkit.Utilities.ParseVector3(boomPositionData);
            // ..
            const sphereRadius = this.getProperty("sphereRadius", 0.65);
            this.cameraRaycastShape = new BABYLON.PhysicsShapeSphere(new BABYLON.Vector3(0, 0, 0), sphereRadius, this.scene);
            // ..
            this.abstractMesh = this.getAbstractMesh();
            this.showDebugColliders = BABYLON.Toolkit.Utilities.ShowDebugColliders();
            this.colliderVisibility = BABYLON.Toolkit.Utilities.ColliderVisibility();
            this.colliderRenderGroup = BABYLON.Toolkit.Utilities.ColliderRenderGroup();
            this.resetPlayerRotation();
            // ..
            this.cameraPivot = new BABYLON.Mesh(this.transform.name + ".CameraPivot", this.scene);
            this.cameraPivot.parent = null;
            this.cameraPivot.position = this.transform.position.clone();
            this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
            this.cameraPivot.checkCollisions = false;
            this.cameraPivot.isPickable = false;
            // ..
            if (this.showDebugColliders === true) {
                const testPivot = BABYLON.MeshBuilder.CreateBox("TestPivot", { width: 0.25, height: 0.25, depth: 0.75 }, this.scene);
                testPivot.parent = this.cameraPivot;
                testPivot.position.set(0, 0, 0);
                testPivot.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                testPivot.visibility = 1.0;
                testPivot.renderingGroupId = this.colliderRenderGroup;
                testPivot.checkCollisions = false;
                testPivot.isPickable = false;
            }
            // ..
            const configController = this.getComponent("BABYLON.Toolkit.CharacterController");
            // ..
            // Setup IK Bone Controllers
            // ..
            this.attachBoneControllers();
        }
        startPlayerController() {
            // TODO - Support Dynamic PlayerNumber Change - ???
            if (this.attachCamera === true) {
                this.attachPlayerCamera(this.playerNumber);
            }
            this.navigationAgent = this.getComponent("BABYLON.Toolkit.NavigationAgent");
            this.characterController = this.getComponent("BABYLON.Toolkit.CharacterController");
            if (this.characterController != null) {
                this.avatarRadius = this.characterController.getAvatarRadius();
                this.characterController.showRaycasts = this.showDebugRaycasts;
                this.characterController.setRigidBodyMass(this.rigidBodyMass);
                this.characterController.setGravityFactor(this.gravitationalForce);
                this.characterController.setVerticalStepSpeed(this.verticalStepSpeed);
                this.characterController.setMinimumStepHeight(this.minStepUpHeight);
                this.characterController.onUpdatePositionObservable.add(() => {
                    this.updatePlayerPosition();
                    this.updateCameraController();
                });
                BABYLON.Toolkit.SceneManager.LogWarning("Starting player controller in physic engine mode for: " + this.transform.name);
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("No character controller found for: " + this.transform.name);
            }
            // Set player window state variable
            // SM.SetWindowState("player", this);
        }
        updatePlayerPosition() {
            if (this.onPlayerPositionObservable && this.onPlayerPositionObservable.hasObservers()) {
                this.onPlayerPositionObservable.notifyObservers(this.transform);
            }
        }
        updatePlayerController() {
            this.deltaTime = this.getDeltaSeconds();
            // ..
            this.m_actualVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_linearVelocity.copyFrom(this.m_actualVelocity);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.deltaTime);
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.playerDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.playerDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            // TODO - FIX THIS SHIT
            if (this.updateStateParams === true && this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            if (this.minJumpTimer > 0) {
                this.minJumpTimer -= this.deltaTime;
                if (this.minJumpTimer < 0)
                    this.minJumpTimer = 0;
            }
            if (this.isCharacterGrounded === true && this.delayJumpTimer > 0) {
                this.delayJumpTimer -= this.deltaTime;
                if (this.delayJumpTimer < 0)
                    this.delayJumpTimer = 0;
            }
            // ..
            this.canPlayerJump = true;
            if (this.isPerformingAction === true) {
                this.updateAnimationActionState();
                if (this.onUpdateActionObservable && this.onUpdateActionObservable.hasObservers()) {
                    this.onUpdateActionObservable.notifyObservers(this.transform);
                }
            }
            // ..
            if (this.enableInput === false) {
                return;
            }
            // ..
            if (this.freeCamera == null) {
                console.warn("No player free camera, Movement disabled");
                return;
            }
            // ..
            const userInputX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Horizontal, this.playerNumber);
            const userInputZ = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Vertical, this.playerNumber);
            const userMouseX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseX, this.playerNumber);
            const userMouseY = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseY, this.playerNumber);
            if (this.smoothAcceleration === true) {
                // SMOOTH USER INPUT X
                if (userInputX > 0) {
                    this.playerInputX += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX > 1)
                        this.playerInputX = 1;
                }
                else if (userInputX < 0) {
                    this.playerInputX -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX < -1)
                        this.playerInputX = -1;
                }
                else {
                    if (this.playerInputX < 0) {
                        this.playerInputX += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX > 0)
                            this.playerInputX = 0;
                    }
                    else if (this.playerInputX > 0) {
                        this.playerInputX -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX < 0)
                            this.playerInputX = 0;
                    }
                }
                // SMOOTH USER INPUT Z
                if (userInputZ > 0) {
                    this.playerInputZ += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ > 1)
                        this.playerInputZ = 1;
                }
                else if (userInputZ < 0) {
                    this.playerInputZ -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ < -1)
                        this.playerInputZ = -1;
                }
                else {
                    if (this.playerInputZ < 0) {
                        this.playerInputZ += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ > 0)
                            this.playerInputZ = 0;
                    }
                    else if (this.playerInputZ > 0) {
                        this.playerInputZ -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ < 0)
                            this.playerInputZ = 0;
                    }
                }
            }
            else {
                // RAW USER INPUT XZ
                this.playerInputX = userInputX;
                this.playerInputZ = userInputZ;
            }
            // ..
            this.playerMouseX = userMouseX;
            this.playerMouseY = userMouseY;
            // ..
            // Validate Animation Action
            // ..
            if (this.isPerformingAction === true && this.isActionInterruptable === true) {
                if (this.playerInputX !== 0 || this.playerInputZ !== 0) {
                    //console.log("Animation Interrupt: " + this.transform.name);
                    this.resetActionAnimationState();
                }
            }
            if (this.isPerformingAction === true) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Input
            // ..
            if (this.onPlayerInputObservable && this.onPlayerInputObservable.hasObservers()) {
                this.onPlayerInputObservable.notifyObservers(this.transform);
            }
            //..
            // Update Input Magnitude
            // ..
            this.inputMovementVector.set(this.playerInputX, 0, this.playerInputZ);
            if (this.inputMovementVector.length() > 1.0)
                this.inputMovementVector.normalize(); // Note: Normalize In Place
            this.inputMagnitude = this.inputMovementVector.length();
            // ..
            // Update Move Direction
            // ..
            const moveForward = (this.playerInputZ > 0);
            const moveBackward = (this.playerInputZ < 0);
            const moveRight = (this.playerInputX > 0);
            const moveLeft = (this.playerInputX < 0);
            if (moveForward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Forward;
                }
            }
            else if (moveBackward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Backward;
                }
            }
            else if (moveLeft === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingLeft;
            }
            else if (moveRight === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingRight;
            }
            else {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            }
            // ..
            // Update Pre Notifications
            // ..
            if (this.onPreUpdateObservable && this.onPreUpdateObservable.hasObservers()) {
                this.onPreUpdateObservable.notifyObservers(this.transform);
            }
            // ..
            // Update Forward Camera Vector
            // ..
            // this.cameraForwardVector.copyFrom(this.cameraPivot.forward);
            // this.cameraForwardVector = this.scene.activeCamera.getForwardRay().direction;
            this.cameraForwardVector = this.freeCamera.getForwardRay().direction;
            this.cameraForwardVector.y = 0;
            this.cameraForwardVector.normalize();
            this.cameraForwardVector.scaleToRef(this.playerInputZ, this.desiredForwardVector);
            // ..
            // Update Right Camera Vector
            // ..
            // this.cameraRightVector.copyFrom(this.cameraPivot.right);
            this.cameraRightVector = BABYLON.Vector3.Cross(this.cameraForwardVector, BABYLON.Vector3.Up());
            this.cameraRightVector.y = 0;
            this.cameraRightVector.normalize();
            this.cameraRightVector.scaleToRef(-this.playerInputX, this.desiredRightVector);
            // ..
            // Update Player Rotation Vector
            // ..
            this.playerRotationVector.y += (this.playerMouseX * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x += (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x = BABYLON.Scalar.Clamp(this.playerRotationVector.x, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            if (this.movementAllowed === false) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Button Presses
            // ..
            this.isRunPressed = (BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardRun) || BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonRun));
            this.isJumpPressed = (BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardJump) || BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonJump));
            // ..
            // Update Player Movement Velocity
            // ..
            this.movementSpeed = (this.inputMagnitude * this.moveSpeed * this.speedFactor);
            if (this.runKeyRequired === true && this.isRunPressed === false) {
                this.movementSpeed = BABYLON.Scalar.Clamp(this.movementSpeed, 0, this.walkSpeed);
            }
            // ..
            // Smooth Blended Animation Movements
            // ..
            if (this.smoothMotionSpeed === true) {
                this.animationSpeed = BABYLON.Scalar.Lerp(this.animationSpeed, this.movementSpeed, (this.deltaTime * this.smoothChangeRate));
                if (this.animationSpeed < 0.01)
                    this.animationSpeed = 0;
            }
            else {
                this.animationSpeed = this.movementSpeed;
            }
            // ..
            // Forward Third Person View - Player Look Rotation
            // ..
            this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerMovementVelocity);
            this.playerLookRotation.copyFrom(this.playerMovementVelocity);
            this.playerMovementVelocity.scaleInPlace(this.movementSpeed);
            // ..
            // Always Free Looking - Lerp Player Rotation (Turn And Burn)
            // ..
            this.transform.rotationQuaternion.copyFrom(this.lastRotationQuaternion);
            if (this.movementAllowed == true) {
                if (this.inputMagnitude > 0) {
                    // Calculate target position based on the player's current position and the camera's forward direction
                    // let targetPosition = this.transform.position.add(this.playerLookRotation);
                    // Rotate player to face the target position
                    // this.transform.lookAt(targetPosition, 0, 0, 0);
                    // ..
                    // SNAP TO: BABYLON.Toolkit.Utilities.LookRotationToRef(this.playerLookRotation, this.transform.rotationQuaternion);
                    // ..
                    BABYLON.Toolkit.Utilities.LookRotationToRef(this.playerLookRotation, this.playerRotationQuaternion);
                    const forwardTurnRatio = (this.playerLookRotation.length() / this.moveSpeed);
                    const forwardTurnSpeed = BABYLON.Scalar.Lerp(this.highTurnSpeed, this.lowTurnSpeed, forwardTurnRatio);
                    BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.playerRotationQuaternion, (forwardTurnSpeed * this.deltaTime), this.transform.rotationQuaternion);
                    this.lastRotationQuaternion.copyFrom(this.transform.rotationQuaternion);
                }
            }
            this.verticalVelocity = this.getVerticalVelocity();
            this.movementVelocity.copyFrom(this.playerMovementVelocity);
            // ..
            // Update Character Controller
            // ..
            this.hasGroundedContact = (this.characterController != null) ? this.characterController.isGrounded() : false;
            this.isCharacterGrounded = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterNavigating = (this.navigationAgent != null && this.navigationAgent.isNavigating());
            this.navigationAngularSpeed = (this.navigationAgent != null) ? this.navigationAgent.angularSpeed : 0;
            this.updateCharacterController();
            // ..
            // Update Animation State Params
            // ..
            if (this.animationState != null && this.updateStateParams === true) {
                this.validateAnimationStateParams();
                this.animationState.setInteger(this.animationStateParams.moveDirection, this.playerMoveDirection);
                this.animationState.setFloat(this.animationStateParams.heightInput, this.verticalVelocity);
                this.animationState.setBool(this.animationStateParams.jumpFrame, this.isCharacterJumpFrame);
                this.animationState.setBool(this.animationStateParams.jumpState, this.isCharacterJumping);
                this.animationState.setInteger(this.animationStateParams.actionState, this.performActionNumber);
                this.animationState.setBool(this.animationStateParams.fallingState, this.isCharacterFalling);
                this.animationState.setBool(this.animationStateParams.slidingState, this.isCharacterSliding);
                this.animationState.setBool(this.animationStateParams.groundedState, this.isCharacterGrounded);
                if (this.smoothInputTime > 0) {
                    if (this.smoothInputVectors === true) {
                        this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, this.playerInputX, this.smoothInputTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, this.playerInputZ, this.smoothInputTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, this.playerMouseX, this.smoothInputTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, this.playerMouseY, this.smoothInputTime, this.deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    }
                    this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude, this.smoothInputTime, this.deltaTime);
                    this.animationState.setSmoothFloat(this.animationStateParams.speedInput, this.animationSpeed, this.smoothInputTime, this.deltaTime);
                }
                else {
                    this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                    this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                    this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                    this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    this.animationState.setFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude);
                    this.animationState.setFloat(this.animationStateParams.speedInput, this.animationSpeed);
                }
                if (this.isCharacterNavigating === true) {
                    // TODO - Update Speed Input With Navigation Magnitude
                    // this.animationState.setFloat(this.animationStateParams.speedInput, this.inputMagnitude);
                }
                if (this.onAnimationStateObservable && this.onAnimationStateObservable.hasObservers()) {
                    this.onAnimationStateObservable.notifyObservers(this.transform);
                }
            }
            // ..
            // Post Network Attributes
            // ..
            if (this.postNetworkAttributes == true && BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 0, this.playerMoveDirection); // Direction
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 1, this.inputMagnitude); // Magnitude
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 2, this.playerInputX); // Horizonal
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 3, this.playerInputZ); // Vertical
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 4, this.playerMouseX); // MouseX
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 5, this.playerMouseY); // MouseY
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 6, this.verticalVelocity); // Vertical Velocity
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 7, this.animationSpeed); // Movement Speed
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 8, this.performActionNumber); // Action State
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 9, ((this.isCharacterJumpFrame) ? 1 : 0)); // Jump Frame
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 10, ((this.isCharacterJumping) ? 1 : 0)); // Is Jumping
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 11, ((this.isCharacterFalling) ? 1 : 0)); // Is Falling
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 12, ((this.isCharacterSliding) ? 1 : 0)); // Is Sliding
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 13, ((this.isCharacterGrounded) ? 1 : 0)); // Is Grounded
            }
            // ..
            // Update Post Notifications
            // ..
            if (this.onPostUpdateObservable && this.onPostUpdateObservable.hasObservers()) {
                this.onPostUpdateObservable.notifyObservers(this.transform);
            }
        }
        afterPlayerController() {
        }
        // FIXME: Extra Raycast Distance When On Various Slope Angles - ???
        updateCharacterController() {
            if (this.characterController != null) {
                this.isCharacterRising = (this.isCharacterJumping == true && this.verticalVelocity > 0);
                this.isCharacterLanding = (this.isCharacterJumping == true && this.verticalVelocity < 0);
                if (this.isCharacterRising == true) {
                    this.hasGroundedContact = false; // IGNORE CONTACT
                }
                if (this.hasGroundedContact === true && this.minJumpTimer <= 0) {
                    this.isCharacterSliding = false; // NOT SLIDING
                    this.isCharacterGrounded = true; // IS GROUNDED
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterJumping = false;
                this.isCharacterFalling = (this.isCharacterGrounded === false && this.isCharacterSliding == false && this.isCharacterJumping == false && this.verticalVelocity < 0 && Math.abs(this.verticalVelocity) >= this.minFallVelocity);
                if (this.isCharacterFalling === true && this.isCharacterFallTriggered === false) {
                    this.isCharacterFallTriggered = true;
                    if (this.jumpDelay > 0)
                        this.delayJumpTimer = this.jumpDelay; // DUNNO: MAYBE USE SEPERATE FALLING DELAY TIMER - ???
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterFallTriggered = false;
                // var msgx = ("Grounded: " + this.isCharacterGrounded + " -> Jumping: " + this.isCharacterJumping + " -> Rising: " + this.isCharacterRising + " -> Landing: " + this.isCharacterLanding + " -> Velocity: " + this.verticalVelocity);
                // console.log(msgx);
                // WM.PrintToScreen(msgx);
                // ..
                // Update Climbing System
                // ..
                if (this.useClimbSystem === true) {
                    this.castPhysicsClimbingVolumeRay();
                    this.castPhysicsHeightCheckVolumeRay();
                }
                // ..
                // Process Character Movement
                // ..
                //if (this.movementAllowed === false) return;
                if (this.isCharacterNavigating === false && this.movementAllowed === true) {
                    if (this.isCharacterGrounded === true) {
                        if (this.delayJumpTimer <= 0)
                            this.isCharacterJumpFrame = (this.canPlayerJump === true && this.isJumpPressed === true);
                        if (this.isPerformingAction === false && this.isCharacterJumpFrame === true && this.useClimbSystem === true && this.climbContact === true && this.heightContact === true) {
                            let climbAction = -1;
                            let rotateSpeed = 1;
                            let rotateTowards = false;
                            let matchHeight = false;
                            let startTime = 0;
                            let targetTime = 0;
                            let targetOffset = 0;
                            const hitHeight = parseFloat(this.heightContactPoint.y.toFixed(2));
                            const playerHeight = parseFloat(this.transform.position.y.toFixed(2));
                            const obstacleHeight = parseFloat((hitHeight - playerHeight).toFixed(2));
                            //console.log("Climb Action -->  Hit Height: " + hitHeight + " --> Player Height: " + playerHeight + " --> Obstacle Height: " + obstacleHeight + " --> Rotate Towards: " + rotateTowards);
                            if (obstacleHeight >= this.maxHeightRanges.stepUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.stepUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.StepUp;
                                rotateSpeed = this.maxHeightRanges.stepUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.stepUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.stepUpRange.matchHeight;
                                startTime = this.maxHeightRanges.stepUpRange.startTime;
                                targetTime = this.maxHeightRanges.stepUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.stepUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.jumpUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.jumpUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.JumpUp;
                                rotateSpeed = this.maxHeightRanges.jumpUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.jumpUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.jumpUpRange.matchHeight;
                                startTime = this.maxHeightRanges.jumpUpRange.startTime;
                                targetTime = this.maxHeightRanges.jumpUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.jumpUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.climbUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.climbUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.ClimbUp;
                                rotateSpeed = this.maxHeightRanges.climbUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.climbUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.climbUpRange.matchHeight;
                                startTime = this.maxHeightRanges.climbUpRange.startTime;
                                targetTime = this.maxHeightRanges.climbUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.climbUpRange.targetOffset;
                            }
                            if (climbAction >= 0) {
                                if (this.canClimbObstaclePredicate == null || this.canClimbObstaclePredicate(climbAction) === true) {
                                    this.isCharacterJumpFrame = false;
                                    this.isCharacterJumping = false;
                                    this.isCharacterLanding = false;
                                    this.isCharacterRising = false;
                                    this.playActionAnimation(climbAction, false, true);
                                    this.playerRotationSpeed = rotateSpeed;
                                    this.rotatePlayerTowards = rotateTowards;
                                    this.matchTargetHeight = matchHeight;
                                    this.matchStartTime = (startTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetTime = (targetTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetOffset = targetOffset;
                                    this.lastTargetHeight = hitHeight;
                                    this.lastStartHeight = null;
                                    this.lockTargetHeight = false;
                                }
                            }
                        }
                        if (this.isCharacterJumpFrame === true && this.jumpSpeed > 0) {
                            this.isCharacterJumping = true;
                            this.characterController.jump(this.jumpSpeed);
                            if (this.jumpDelay > 0)
                                this.delayJumpTimer = this.jumpDelay;
                            if (this.airbornTimeout > 0)
                                this.minJumpTimer = (this.airbornTimeout + this.deltaTime);
                            this.lastJumpVelocity.set(this.movementVelocity.x, 0, this.movementVelocity.z);
                        }
                        // ..
                        // Update Move Notifications
                        // ..
                        if (this.onBeforeMoveObservable && this.onBeforeMoveObservable.hasObservers()) {
                            this.onBeforeMoveObservable.notifyObservers(this.transform);
                        }
                        // ..
                        // Validate Root Motion Velocity
                        // ..
                        if (this.animationState != null && this.rootMotion === true) {
                            const rootMotion = this.getDeltaMotionPosition();
                            this.movementVelocity.set(rootMotion.x, 0, rootMotion.z);
                            BABYLON.Vector3.TransformNormalToRef(this.movementVelocity, this.transform.getWorldMatrix(), this.movementVelocity);
                            this.characterController.move(this.movementVelocity);
                        }
                        else {
                            //this.movementVelocity.scaleInPlace(this.deltaTime);
                            this.characterController.move(this.movementVelocity);
                        }
                    }
                    // this.characterController.updatePosition = true; - Which Is Best - ???
                }
                else {
                    // this.characterController.updatePosition = false; - Which Is Best - ???
                    // FIXME: EITHER OR - ???
                    // this.characterController.setGhostWorldPosition(this.transform.position);
                    //this.characterController.syncGhostToTransformPosition();
                }
            }
        }
        updateCameraController() {
            if (this.enableInput === false)
                return;
            // DUNNO FUR SURE:  if (this.isCharacterNavigating === true && this.navigationAngularSpeed > 0) allowRotation = false;
            if (this.cameraPivot != null) {
                // .. 
                // Update Camera Pivot Offset
                // ..
                if (this.targetCameraOffset.x !== 0 || this.targetCameraOffset.y !== 0 || this.targetCameraOffset.z !== 0) {
                    this.cameraPivotOffset.copyFrom(this.targetCameraOffset);
                }
                else {
                    this.cameraPivotOffset.set(0, this.pivotHeight, 0);
                }
                // ..
                // Update Camera Pivot Position
                // ..
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                // ..
                // Update Camera Pivot Rotation
                // ..
                if (this.rotateCamera === true) {
                    BABYLON.Quaternion.FromEulerAnglesToRef(this.playerRotationVector.x, this.playerRotationVector.y, 0, this.cameraPivot.rotationQuaternion);
                }
            }
            if (this.rotateCamera === true && this.cameraNode != null) {
                if (this.cameraSmoothing <= 0)
                    this.cameraSmoothing = 5.0; // Default Camera Smoothing
                if (this.cameraCollisions === true) {
                    // ..
                    // Check Camera Collision
                    // ..
                    // const maxDistance:number = Math.abs(this.boomPosition.z);
                    const parentNode = this.cameraNode.parent;
                    this.dollyDirection.scaleToRef(this.maxDistance, this.scaledMaxDirection);
                    this.dollyDirection.scaleToRef(this.cameraDistance, this.scaledCamDirection);
                    BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(parentNode, this.parentNodePosition);
                    BABYLON.Toolkit.Utilities.TransformPointToRef(parentNode, this.scaledMaxDirection, this.maximumCameraPos);
                    // ..
                    let contact = false;
                    let distance = 0;
                    if (this.characterController != null) {
                        // NOTE: USE SHAPECAST
                        if (this.cameraRaycastShape != null) {
                            const query = {
                                shape: this.cameraRaycastShape,
                                rotation: this.cameraNode.rotationQuaternion,
                                startPosition: this.parentNodePosition,
                                endPosition: this.maximumCameraPos,
                                ignoreBody: this.transform.physicsBody,
                                shouldHitTriggers: false
                            };
                            const result = BABYLON.Toolkit.RigidbodyPhysics.Shapecast(query);
                            contact = (result != null && result.world != null && result.world.hasHit === true && result.world.body != null);
                            distance = (contact === true) ? BABYLON.Vector3.Distance(this.parentNodePosition, result.world.hitPoint) : 0;
                        }
                        /* DEPRECATED: USE RAYCAST
                        if (this.cameraRaycastResult == null) this.cameraRaycastResult = new BABYLON.PhysicsRaycastResult;
                        BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.parentNodePosition, this.maximumCameraPos, this.cameraRaycastResult);
                        contact = (this.cameraRaycastResult != null && this.cameraRaycastResult.hasHit === true && this.cameraRaycastResult.body != null && this.cameraRaycastResult.body.transformNode != null);
                        distance = (this.cameraRaycastResult != null && this.cameraRaycastResult.hasHit === true) ? this.cameraRaycastResult.hitDistance : 0;
                        //let contactBody:string = (contact === true) ? this.cameraRaycastResult.body.transformNode.name : "";
                        //WM.PrintToScreen("Camera Collision: " + contact + " --> Distance:  " + distance + " --> Transform: " + contactBody);*/
                    }
                    if (contact === true) {
                        this.cameraDistance = BABYLON.Scalar.Clamp((distance * this.distanceFactor), this.minimumDistance, this.maxDistance);
                        // Lerp Past Camera Collisions
                        if (this.cameraNode.position.x !== this.scaledCamDirection.x || this.cameraNode.position.y !== this.scaledCamDirection.y || this.cameraNode.position.z !== this.scaledCamDirection.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.scaledCamDirection, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                    else {
                        if (this.mouseWheel === true) {
                            if (BABYLON.Toolkit.InputController.IsWheelScrolling()) {
                                const wheel = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Wheel);
                                if (wheel < 0) { // ZOOM OUT
                                    const zoomOutSpeed = (this.scrollSpeed * this.deltaTime);
                                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.maxDistance, zoomOutSpeed);
                                }
                                else if (wheel > 0) { // ZOOM IN
                                    const zoomInSpeed = (this.scrollSpeed * this.deltaTime);
                                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.minimumDistance, zoomInSpeed);
                                }
                            }
                        }
                        // Lerp To Camera Boom Position
                        if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                }
                else {
                    // Lerp To Camera Boom Position
                    if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                        BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                    }
                }
            }
            this.updateSmoothBoomArmLength();
        }
        getBoomArmMaxDistance() { return this.maxDistance; }
        setBoomArmMaxDistance(distance) { this.maxDistance = Math.abs(distance); }
        setSmoothBoomArmLength(length, speed, updateMaxDistance = true) {
            const absoluteLength = Math.abs(length);
            this.smoothBoomArmLength = -absoluteLength;
            this.smoothBoomArmSpeed = speed;
            if (updateMaxDistance === true) {
                const absoluteDistance = Math.abs(this.maxDistance);
                if (absoluteLength > absoluteDistance) {
                    this.setBoomArmMaxDistance(absoluteLength);
                }
            }
        }
        updateSmoothBoomArmLength() {
            if (this.smoothBoomArmLength != null && this.smoothBoomArmSpeed != null) {
                if (this.boomPosition.z !== this.smoothBoomArmLength) {
                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, this.smoothBoomArmLength, (this.smoothBoomArmSpeed * this.getDeltaSeconds()));
                }
                else {
                    this.smoothBoomArmLength = null;
                    this.smoothBoomArmSpeed = null;
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Ammo Physics Raycasting
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        castPhysicsClimbingVolumeRay() {
            let raycast = null;
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactPoint.set(0, 0, 0);
            this.climbContactNormal.set(0, 0, 0);
            this.climbContactAngle = 0;
            this.climbContactDistance = 0;
            // ..
            // Climbing Raycast Positions
            // ..
            const playerTransformForwardDirection = UTIL.TransformDirection(this.transform, this.forwardDirection);
            this.offsetClimbRaycastPosition.set(0, this.rayClimbOffset, 0);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.startClimbRaycastPosition, this.offsetClimbRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.endClimbRaycastPosition, this.forwardDirection.scale(this.rayClimbLength));
            this.endClimbRaycastPosition.y += this.rayClimbOffset;
            // ..
            // raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startClimbRaycastPosition, playerTransformForwardDirection, this.rayClimbLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.climbContact = true;
                    this.climbContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.climbContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.climbContactNormal.copyFrom(raycast.hitNormal);
                    this.climbContactAngle = (this.climbContactNormal != null) ? Math.abs(BABYLON.Toolkit.Utilities.GetAngle(this.climbContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.climbContactDistance = raycast.hitDistance;
                }
            }
            // Climbing Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.climbSensorLine == null)
                    this.climbSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".ClimbingSensorLine", this.scene);
                if (raycast != null && this.climbContact === true) {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, this.endClimbRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        castPhysicsHeightCheckVolumeRay() {
            let raycast = null;
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactPoint.set(0, 0, 0);
            this.heightContactNormal.set(0, 0, 0);
            this.heightContactAngle = 0;
            this.heightContactDistance = 0;
            // ..
            // Height Check Raycast Positions
            // ..
            const playerTransformHeightDirection = UTIL.TransformDirection(this.transform, this.downDirection);
            if (this.climbContact === true) {
                this.endHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.addInPlace(BABYLON.Vector3.UpReadOnly.scale(this.rayHeightLength));
                // raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startHeightRaycastPosition, playerTransformHeightDirection, this.rayHeightLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            }
            else {
                this.offsetHeightRaycastPosition.set(0, this.rayHeightOffset, this.rayClimbLength);
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.startHeightRaycastPosition, this.offsetHeightRaycastPosition);
                this.endHeightRaycastPosition.copyFrom(this.startHeightRaycastPosition);
                this.endHeightRaycastPosition.addInPlace(this.downDirection.scale(this.rayHeightLength));
            }
            // ..
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.heightContact = true;
                    this.heightContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.heightContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.heightContactNormal.copyFrom(raycast.hitNormal);
                    this.heightContactAngle = (this.heightContactNormal != null) ? Math.abs(BABYLON.Toolkit.Utilities.GetAngle(this.heightContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.heightContactDistance = raycast.hitDistance;
                }
            }
            // Height Check Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.heightSensorLine == null)
                    this.heightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".HeightCheckSensorLine", this.scene);
                if (raycast != null && this.heightContact === true) {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, this.endHeightRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Private Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getCheckedVerticalVelocity() {
            const currentVelocity = (this.characterController != null) ? this.characterController.getVerticalVelocity() : 0;
            return (Math.abs(currentVelocity) >= PROJECT.ThirdPersonPlayerController.MIN_VERTICAL_VELOCITY) ? currentVelocity : 0;
        }
        destroyPlayerController() {
            this.cameraPivot = null;
            this.cameraNode = null;
            this.animationState = null;
            this.characterController = null;
            this.onPreUpdateObservable.clear();
            this.onPreUpdateObservable = null;
            this.onBeforeMoveObservable.clear();
            this.onBeforeMoveObservable = null;
            this.onPostUpdateObservable.clear();
            this.onPostUpdateObservable = null;
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded",
                };
            }
        }
    }
    ThirdPersonPlayerController.MIN_VERTICAL_VELOCITY = 0.01;
    ThirdPersonPlayerController.MIN_GROUND_DISTANCE = 0.15;
    ThirdPersonPlayerController.MIN_MOVE_EPSILON = 0.001;
    ThirdPersonPlayerController.MIN_TIMER_OFFSET = 0;
    ThirdPersonPlayerController.MIN_SLOPE_LIMIT = 0;
    ThirdPersonPlayerController.PLAYER_HEIGHT = "playerHeight";
    PROJECT.ThirdPersonPlayerController = ThirdPersonPlayerController;
    /**
    * Babylon Enum Definition
    * @interface ThirdPersonControl
    */
    let ThirdPersonControl;
    (function (ThirdPersonControl) {
        ThirdPersonControl[ThirdPersonControl["ThirdPersonTurning"] = 0] = "ThirdPersonTurning";
        ThirdPersonControl[ThirdPersonControl["ThirdPersonForward"] = 1] = "ThirdPersonForward";
    })(ThirdPersonControl = PROJECT.ThirdPersonControl || (PROJECT.ThirdPersonControl = {}));
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class FxParticleSystem
    */
    class FxParticleSystem extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.m_particleEmitter = null;
            this.m_particleSystem = null;
        }
        getParticleEmitter() { return this.m_particleEmitter; }
        getParticleSystem() { return this.m_particleSystem; }
        awake() {
            const rootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
            const classType = this.getProperty("classType", 0);
            const particleText = this.getProperty("base64ParticleSystem");
            const playOnAwake = this.getProperty("playOnAwake", false);
            const particleTexture = this.getProperty("particleTexture");
            this.m_particleEmitter = this.getAbstractMesh();
            if (this.m_particleEmitter == null) {
                this.m_particleEmitter = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".Emitter", { size: 0.25 }, this.scene);
                this.m_particleEmitter.parent = this.transform;
                this.m_particleEmitter.position.set(0, 0, 0);
                this.m_particleEmitter.isVisible = false;
                this.m_particleEmitter.isPickable = false;
                this.m_particleEmitter.material = BABYLON.Toolkit.Utilities.GetColliderMaterial(this.scene);
            }
            if (particleText != null && particleText !== "") {
                const particleJson = window.atob(particleText);
                if (particleJson != null && particleJson !== "") {
                    const particleParsed = JSON.parse(particleJson);
                    if (particleParsed != null) {
                        if (particleParsed.texture != null && particleTexture != null) {
                            particleParsed.texture.name = particleTexture.filename; // Note: Particle System Parser Use Name Not Url
                            particleParsed.texture.url = particleTexture.filename; // Note: Particle System Parser Use Name Not Url
                        }
                        if (classType === 1) { // GPU Particle System
                            this.m_particleSystem = BABYLON.GPUParticleSystem.Parse(particleParsed, this.scene, rootUrl);
                        }
                        else { // CPU Particle System
                            this.m_particleSystem = BABYLON.ParticleSystem.Parse(particleParsed, this.scene, rootUrl);
                        }
                        if (this.m_particleSystem != null) {
                            if (this.m_particleEmitter != null)
                                this.m_particleSystem.emitter = this.m_particleEmitter;
                            if (playOnAwake === false)
                                this.m_particleSystem.stop();
                        }
                    }
                }
            }
        }
        destroy() {
            this.m_particleEmitter = null;
            if (this.m_particleSystem != null) {
                this.m_particleSystem.dispose();
                this.m_particleSystem = null;
            }
        }
    }
    PROJECT.FxParticleSystem = FxParticleSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon water material system pro class (Babylon Water Material)
     * @class SkyMaterialSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    class SkyMaterialSystem extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.skyfog = false;
            this.skysize = 1000;
            this.probesize = 128;
            this.reflections = false;
            this.reflectlevel = 1;
            this.skytintcolor = new BABYLON.Color3(1, 1, 1);
            this.m_skyboxMesh = null;
            this.m_skyMaterial = null;
            this.m_reflectProbe = null;
        }
        getSkyboxMesh() { return this.m_skyboxMesh; }
        getSkyMaterial() { return this.m_skyMaterial; }
        getReflectionProbe() { return this.m_reflectProbe; }
        awake() { this.awakeSkyboxMaterial(); }
        start() { }
        update() { }
        late() { }
        after() { }
        destroy() { this.destroySkyboxMaterial(); }
        awakeSkyboxMaterial() {
            this.skyfog = this.getProperty("applyMeshFog", this.skyfog);
            this.skysize = this.getProperty("boxSize", this.skysize);
            this.probesize = this.getProperty("probeSize", this.probesize);
            this.reflections = this.getProperty("reflections", this.reflections);
            this.reflectlevel = this.getProperty("reflectLevel", this.reflectlevel);
            // ..
            const tintColor = this.getProperty("tintColor");
            if (tintColor != null)
                this.skytintcolor = BABYLON.Toolkit.Utilities.ParseColor3(tintColor);
            // ..
            this.m_skyboxMesh = BABYLON.MeshBuilder.CreateBox("Ambient Skybox", { size: this.skysize }, this.scene);
            this.m_skyboxMesh.position.set(0, 0, 0);
            this.m_skyboxMesh.infiniteDistance = true;
            this.m_skyboxMesh.applyFog = this.skyfog;
            if (this.scene.useRightHandedSystem === true)
                this.m_skyboxMesh.scaling.x *= -1;
            // Setup Sky Material Properties
            this.m_skyMaterial = new BABYLON.SkyMaterial(this.transform.name + ".SkyMaterial", this.scene);
            this.m_skyMaterial.backFaceCulling = false;
            this.setSkyboxTintColor(this.skytintcolor);
            /**
             * Defines the overall luminance of sky in interval [0, 1].
             */
            this.m_skyMaterial.luminance = this.getProperty("luminance", this.m_skyMaterial.luminance);
            /**
            * Defines the amount (scattering) of haze as opposed to molecules in atmosphere.
            */
            this.m_skyMaterial.turbidity = this.getProperty("turbidity", this.m_skyMaterial.turbidity);
            /**
             * Defines the sky appearance (light intensity).
             */
            this.m_skyMaterial.rayleigh = this.getProperty("rayleigh", this.m_skyMaterial.rayleigh);
            /**
             * Defines the mieCoefficient in interval [0, 0.1] which affects the property .mieDirectionalG.
             */
            this.m_skyMaterial.mieCoefficient = this.getProperty("mieCoefficient", this.m_skyMaterial.mieCoefficient);
            /**
             * Defines the amount of haze particles following the Mie scattering theory.
             */
            this.m_skyMaterial.mieDirectionalG = this.getProperty("mieDirectionalG", this.m_skyMaterial.mieDirectionalG);
            /**
             * Defines the distance of the sun according to the active scene camera.
             */
            this.m_skyMaterial.distance = this.getProperty("distance", this.m_skyMaterial.distance);
            /**
             * Defines the sun inclination, in interval [-0.5, 0.5]. When the inclination is not 0, the sun is said
             * "inclined".
             */
            this.m_skyMaterial.inclination = this.getProperty("inclination", this.m_skyMaterial.inclination);
            /**
             * Defines the solar azimuth in interval [0, 1]. The azimuth is the angle in the horizontal plan between
             * an object direction and a reference direction.
             */
            this.m_skyMaterial.azimuth = this.getProperty("azimuth", this.m_skyMaterial.azimuth);
            /**
             * Defines an offset vector used to get a horizon offset.
             * @example skyMaterial.cameraOffset.y = camera.globalPosition.y // Set horizon relative to 0 on the Y axis
             */
            const camOffsetData = this.getProperty("cameraOffset");
            if (camOffsetData != null)
                this.m_skyMaterial.cameraOffset = BABYLON.Toolkit.Utilities.ParseVector3(camOffsetData);
            /**
             * Defines if the sun position should be computed (inclination and azimuth) according to the scene
             * sun position.
             */
            this.m_skyMaterial.useSunPosition = this.getProperty("useSunPosition", this.m_skyMaterial.useSunPosition);
            this.m_skyMaterial.sunPosition = new BABYLON.Vector3(0, 50, 0);
            if (this.scene.metadata != null && this.scene.metadata.unity != null && this.scene.metadata.unity) {
                if (this.scene.metadata.toolkit.sunposition != null) {
                    this.m_skyMaterial.sunPosition = BABYLON.Toolkit.Utilities.ParseVector3(this.scene.metadata.toolkit.sunposition);
                }
            }
            // Assign Sky Material To Skybox Mesh
            this.m_skyboxMesh.material = this.m_skyMaterial;
            // Setup Environment Reflection Probe Texture
            if (this.reflections === true) {
                this.m_reflectProbe = new BABYLON.ReflectionProbe("Skybox-ReflectionProbe", this.probesize, this.scene);
                this.m_reflectProbe.renderList.push(this.m_skyboxMesh);
                this.scene.customRenderTargets.push(this.m_reflectProbe.cubeTexture);
                this.scene.environmentTexture = this.m_reflectProbe.cubeTexture;
                this.scene.environmentIntensity = this.reflectlevel;
            }
        }
        destroySkyboxMaterial() {
            if (this.m_skyboxMesh != null) {
                this.m_skyboxMesh.dispose();
                this.m_skyboxMesh = null;
            }
            if (this.m_reflectProbe != null) {
                this.m_reflectProbe.dispose();
                this.m_reflectProbe = null;
            }
            if (this.m_skyMaterial != null) {
                this.m_skyMaterial.dispose();
                this.m_skyMaterial = null;
            }
        }
        /** Set Skybox Mesh tint color. (Box Mesh Vertex Colors) */
        setSkyboxTintColor(color) {
            const colors = [];
            const numVertices = this.m_skyboxMesh.getTotalVertices();
            for (let i = 0; i < numVertices; ++i) {
                colors.push(color.r, color.g, color.b, 1.0);
            }
            this.m_skyboxMesh.setVerticesData("color", colors);
            this.m_skyboxMesh.useVertexColors = true;
        }
    }
    PROJECT.SkyMaterialSystem = SkyMaterialSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon water material system pro class (Babylon Water Material)
     * @class WaterMaterialSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    class WaterMaterialSystem extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.waterTag = "Water";
            this.targetSize = new BABYLON.Vector2(128, 128);
            this.renderSize = new BABYLON.Vector2(512, 512);
            this.depthFactor = 1.0;
            this.reflectSkybox = true;
            this.subDivisions = 32;
            this.heightOffset = 1.0;
            this.windDirection = new BABYLON.Vector2(0, 1);
            this.windForce = 6;
            this.waveSpeed = 1.0;
            this.waveLength = 0.4;
            this.waveHeight = 0.4;
            this.bumpHeight = 0.4;
            this.waterColor = new BABYLON.Color3(0.1, 0.1, 0.6);
            this.colorBlendFactor = 0.2;
            this.waterColor2 = new BABYLON.Color3(0.1, 0.1, 0.6);
            this.colorBlendFactor2 = 0.2;
            this.disableClipPlane = false;
            this.m_waterGeometry = null;
            this.m_waterMaterial = null;
        }
        getWaterGeometry() { return this.m_waterGeometry; }
        getWaterMaterial() { return this.m_waterMaterial; }
        awake() {
            this.waterTag = this.getProperty("waterTag", this.waterTag);
            this.depthFactor = this.getProperty("depthFactor", this.depthFactor);
            this.subDivisions = this.getProperty("subDivisions", this.subDivisions);
            this.heightOffset = this.getProperty("heightOffset", this.heightOffset);
            this.reflectSkybox = this.getProperty("reflectSkybox", this.reflectSkybox);
            this.windForce = this.getProperty("windForce", this.windForce);
            this.waveSpeed = this.getProperty("waveSpeed", this.waveSpeed);
            this.waveLength = this.getProperty("waveLength", this.waveLength);
            this.waveHeight = this.getProperty("waveHeight", this.waveHeight);
            this.bumpHeight = this.getProperty("bumpHeight", this.bumpHeight);
            this.bumpSuperimpose = this.getProperty("bumpSuperimpose", this.bumpSuperimpose);
            this.bumpAffectsReflection = this.getProperty("bumpAffectsReflection", this.bumpAffectsReflection);
            this.colorBlendFactor = this.getProperty("colorBlendFactor", this.colorBlendFactor);
            this.colorBlendFactor2 = this.getProperty("colorBlendFactor2", this.colorBlendFactor2);
            this.disableClipPlane = this.getProperty("disableClipPlane", this.disableClipPlane);
            this.fresnelSeparate = this.getProperty("fresnelSeparate", this.fresnelSeparate);
            // ..
            const wcolor1 = this.getProperty("waterColor");
            this.waterColor = BABYLON.Toolkit.Utilities.ParseColor3(wcolor1);
            // ..
            const wcolor2 = this.getProperty("waterColor2");
            this.waterColor2 = BABYLON.Toolkit.Utilities.ParseColor3(wcolor2);
            // ..
            const wdirection = this.getProperty("windDirection");
            this.windDirection = BABYLON.Toolkit.Utilities.ParseVector2(wdirection);
            // ..
            const itargetsize = this.getProperty("targetSize");
            if (itargetsize != null)
                this.targetSize = BABYLON.Toolkit.Utilities.ParseVector2(itargetsize);
            // ..        
            const irendersize = this.getProperty("renderSize");
            if (irendersize != null)
                this.renderSize = BABYLON.Toolkit.Utilities.ParseVector2(irendersize);
            /* Awake component function */
            let bumpTexture = null;
            const bumpTextureData = this.getProperty("bumpTexture");
            if (bumpTextureData != null)
                bumpTexture = BABYLON.Toolkit.Utilities.ParseTexture(bumpTextureData, this.scene);
            if (bumpTexture != null) {
                this.m_waterMaterial = new BABYLON.WaterMaterial(this.transform.name + ".Water", this.scene, this.renderSize);
                this.m_waterMaterial.bumpTexture = bumpTexture;
                this.m_waterMaterial.windDirection = this.windDirection;
                this.m_waterMaterial.windForce = this.windForce;
                this.m_waterMaterial.waveSpeed = this.waveSpeed;
                this.m_waterMaterial.waveLength = this.waveLength;
                this.m_waterMaterial.waveHeight = this.waveHeight;
                this.m_waterMaterial.bumpHeight = this.bumpHeight;
                this.m_waterMaterial.bumpSuperimpose = this.bumpSuperimpose;
                this.m_waterMaterial.bumpAffectsReflection = this.bumpAffectsReflection;
                this.m_waterMaterial.waterColor = this.waterColor;
                this.m_waterMaterial.colorBlendFactor = this.colorBlendFactor;
                this.m_waterMaterial.waterColor2 = this.waterColor2;
                this.m_waterMaterial.colorBlendFactor2 = this.colorBlendFactor2;
                this.m_waterMaterial.disableClipPlane = this.disableClipPlane;
                this.m_waterMaterial.fresnelSeparate = this.fresnelSeparate;
                // ..
                // Water Material Tags
                // ..
                if (this.reflectSkybox === true) {
                    const skyboxMesh = BABYLON.Toolkit.SceneManager.GetDefaultSkybox(this.scene);
                    if (skyboxMesh != null)
                        this.m_waterMaterial.addToRenderList(skyboxMesh);
                }
                if (this.waterTag != null && this.waterTag !== "") {
                    const waterMeshes = this.scene.getMeshesByTags(this.waterTag);
                    if (waterMeshes != null && waterMeshes.length > 0) {
                        waterMeshes.forEach((mesh) => {
                            this.m_waterMaterial.addToRenderList(mesh);
                        });
                    }
                }
                // ..
                // Water Material Mesh
                // ..
                this.m_waterGeometry = BABYLON.MeshBuilder.CreateGround(this.transform.name + ".WaterMesh", { width: this.targetSize.x, height: this.targetSize.y, subdivisions: this.subDivisions, updatable: false }, this.scene);
                this.m_waterGeometry.parent = this.transform;
                this.m_waterGeometry.position.set(0, this.heightOffset, 0);
                if (this.depthFactor > 0)
                    this.m_waterGeometry.scaling.y *= this.depthFactor;
                this.m_waterGeometry.material = this.m_waterMaterial;
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("No supported water bump texture for: " + this.transform.name);
            }
        }
        start() { }
        update() { }
        late() { }
        after() { }
        destroy() { }
    }
    PROJECT.WaterMaterialSystem = WaterMaterialSystem;
})(PROJECT || (PROJECT = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon windows platform pro class
     * @class WindowsPlatform - All rights reserved (c) 2020 Mackey Kinard
     */
    class WindowsPlatform {
        /** Is xbox live user signed in if platform services enabled. (WinRT) */
        static IsXboxLiveUserSignedIn(systemUser = null, player = BABYLON.Toolkit.PlayerNumber.One) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                let user = (systemUser != null) ? BABYLON.WindowsPlatform.GetXboxLiveSystemUser(systemUser, player) : BABYLON.WindowsPlatform.GetXboxLiveUser(player);
                return (user != null && user.isSignedIn == true);
            }
            else {
                return false;
            }
        }
        /** Validated sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserSignIn(player = BABYLON.Toolkit.PlayerNumber.One, oncomplete, onerror, onprogress) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                BABYLON.WindowsPlatform.XboxLiveUserSilentSignIn(player, (first) => {
                    if (first.status === Microsoft.Xbox.Services.System.SignInStatus.userInteractionRequired) {
                        BABYLON.WindowsPlatform.XboxLiveUserDialogSignIn(player, (second) => {
                            if (oncomplete)
                                oncomplete(second);
                        }, onerror, onprogress);
                    }
                    else {
                        if (oncomplete)
                            oncomplete(first);
                    }
                }, onerror, onprogress);
            }
        }
        /** Silent sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserSilentSignIn(player = BABYLON.Toolkit.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (BABYLON.Toolkit.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUser(player).signInSilentlyAsync(null).then(oncomplete, onerror, onprogress) : null;
        }
        /** Dialog sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserDialogSignIn(player = BABYLON.Toolkit.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (BABYLON.Toolkit.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUser(player).signInAsync(null).then(oncomplete, onerror, onprogress) : null;
        }
        /** Loads a xbox live user profile if platform services available. (WinRT) */
        static LoadXboxLiveUserProfile(player = BABYLON.Toolkit.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (BABYLON.Toolkit.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUserContext(player).profileService.getUserProfileAsync(BABYLON.WindowsPlatform.GetXboxLiveUser(player).xboxUserId).then(oncomplete, onerror, onprogress) : null;
        }
        // ************************************** //
        // * Babylon Xbox Live Player Functions * //
        // ************************************** //
        /** Get xbox live user if platform services available. (WinRT) */
        static GetXboxLiveUser(player = BABYLON.Toolkit.PlayerNumber.One) {
            let user = null;
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                switch (player) {
                    case BABYLON.Toolkit.PlayerNumber.One:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserOne();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Two:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserTwo();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Three:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserThree();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Four:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserFour();
                        break;
                }
            }
            return user;
        }
        /** Get xbox live user if platform services available. (WinRT) */
        static GetXboxLiveSystemUser(systemUser, player = BABYLON.Toolkit.PlayerNumber.One) {
            let user = null;
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                switch (player) {
                    case BABYLON.Toolkit.PlayerNumber.One:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserOne(systemUser);
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Two:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserTwo(systemUser);
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Three:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserThree(systemUser);
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Four:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserFour(systemUser);
                        break;
                }
            }
            return user;
        }
        /** Get xbox live user context if platform services available. (WinRT) */
        static GetXboxLiveUserContext(player = BABYLON.Toolkit.PlayerNumber.One) {
            let context = null;
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                switch (player) {
                    case BABYLON.Toolkit.PlayerNumber.One:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextOne();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Two:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextTwo();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Three:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextThree();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Four:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextFour();
                        break;
                }
            }
            return context;
        }
        /** Resets xbox live user context if platform services available. (WinRT) */
        static ResetXboxLiveUserContext(player = BABYLON.Toolkit.PlayerNumber.One) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                switch (player) {
                    case BABYLON.Toolkit.PlayerNumber.One:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextOne();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Two:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextTwo();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Three:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextThree();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Four:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextFour();
                        break;
                }
            }
        }
        // *************************************** //
        // * Babylon Xbox Live Context Functions * //
        // *************************************** //
        /** Get xbox live context property if platform services available. (WinRT) */
        static GetXboxLiveContextProperty(name) {
            return (BABYLON.Toolkit.WindowManager.IsWindows()) ? window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextProperty(name) : null;
        }
        /** Get xbox live context property if platform services available. (WinRT) */
        static SetXboxLiveContextProperty(name, property) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.setXboxLiveContextProperty(name, property);
            }
        }
        /** Resets xbox live property context bag if platform services available. (WinRT) */
        static ResetXboxLivePropertyContexts() {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.resetXboxLivePropertyContexts();
            }
        }
        // **************************************** //
        // * Babylon Xbox Live Sign Out Functions * //
        // **************************************** //
        /** Sets the Xbox User Sign Out Complete Handler (WinRT) */
        static SetXboxLiveSignOutHandler(handler = null) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.onusersignout = handler;
            }
        }
    }
    BABYLON.WindowsPlatform = WindowsPlatform;
})(BABYLON || (BABYLON = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class TestController
    */
    class TestController extends BABYLON.Toolkit.ScriptComponent {
        awake() {
            console.log("Test Controller Awake: " + this.transform.name);
            const playerTransform = new BABYLON.TransformNode("PlayerTransform", this.scene);
            playerTransform.position = new BABYLON.Vector3(0, 0.15, 0);
            playerTransform.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
            const playerCapsule = BABYLON.MeshBuilder.CreateCapsule("PlayerCapsule", { height: 1.8, radius: 0.28 }, this.scene);
            playerCapsule.parent = playerTransform;
            playerCapsule.position = new BABYLON.Vector3(0, 0.9, 0);
            playerCapsule.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
            console.log("Player Capsule: " + playerCapsule.name, playerCapsule);
            const props = {
                "avatarRadius": 0.28,
                "avatarHeight": 1.8,
                "centerOffset": {
                    "x": 0.0,
                    "y": 0.94,
                    "z": 0.0
                },
                "skinWidth": 0.025,
                "slopeLimit": 45.0,
                "stepOffset": 0.25,
                "minMoveDistance": 0.0,
                "capsuleSegments": 16,
                "useGhostSweepTest": false
            };
            PROJECT.TestController.MyCharacterController = new BABYLON.Toolkit.CharacterController(playerTransform, this.scene, null, "BABYLON.Toolkit.CharacterController");
            console.log("Character Controller: " + playerTransform.name, PROJECT.TestController.MyCharacterController);
        }
        update() {
            if (PROJECT.TestController.MyCharacterController != null) {
                PROJECT.TestController.MyCharacterController.move(PROJECT.TestController.MOVE_VELOCITY);
            }
        }
    }
    TestController.MOVE_VELOCITY = new BABYLON.Vector3(0, 0, 0);
    TestController.MyCharacterController = null;
    PROJECT.TestController = TestController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class TestMover
    */
    class TestMover extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            // Example: private helloWorld:string = "Hello World";
            super(...arguments);
            this.characterController = null;
        }
        awake() {
            /* Init component function */
            this.characterController = this.getComponent("BABYLON.Toolkit.CharacterController");
        }
        start() {
            /* Start component function */
        }
        ready() {
            /* Execute when ready function */
        }
        update() {
            /* Update render loop function */
            if (this.characterController != null) {
                this.characterController.move(new BABYLON.Vector3(0, 0, 0.25));
            }
        }
        late() {
            /* Late update render loop function */
        }
        step() {
            /* Before physics step function (remove empty function for performance) */
        }
        fixed() {
            /* After physics step function (remove empty function for performance) */
        }
        after() {
            /* After update render loop function */
        }
        reset() {
            /* Reset component function */
        }
        destroy() {
            /* Destroy component function */
        }
    }
    PROJECT.TestMover = TestMover;
})(PROJECT || (PROJECT = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdC5wbGF5Z3JvdW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vQXNzZXRzL0FkZG9ucy9OZXR3b3JrL0NvbHlzZXVzR2FtZVNlcnZlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvTmV0d29yay9Db2x5c2V1c05ldHdvcmtBdmF0YXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL05ldHdvcmsvQ29seXNldXNOZXR3b3JrRW50aXR5LnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9OZXR3b3JrL0NvbHlzZXVzTmV0d29ya01hbmFnZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL0F1dG9Cb2R5R2FyYWdlLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9SYWNpbmcvU2NyaXB0cy9DaGVja3BvaW50TWFuYWdlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvTmV0d29ya0NhclByZWRpY3Rpb24udHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1JhY2VUcmFja01hbmFnZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1JlbW90ZUNhckNvbnRyb2xsZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1NraWRNYXJrTWFuYWdlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvU3RhbmRhcmRDYXJDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9SYWNpbmcvU2NyaXB0cy9WZWhpY2xlQ2FtZXJhTWFuYWdlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvVmVoaWNsZUlucHV0Q29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvVmVoaWNsZU5ldHdvcmtMYWJlbC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L0NhbWVyYS9EZWZhdWx0Q2FtZXJhU3lzdGVtLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvSW5zcGVjdG9yL0RlYnVnSW5mb3JtYXRpb24udHMiLCIuLi9Bc3NldHMvQ29udGVudC9JbnRlcmZhY2UvQ3VzdG9tSHRtbE1hcmt1cC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L0ludGVyZmFjZS9Vc2VySW50ZXJmYWNlTWFuYWdlci50cyIsIi4uL0Fzc2V0cy9Db250ZW50L0xvYWRlci9Bc3NldEV4cG9ydGVyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTG9hZGVyL0Fzc2V0UHJlbG9hZGVyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTWF0ZXJpYWwvTm9kZU1hdGVyaWFsSW5zdGFuY2UudHMiLCIuLi9Bc3NldHMvQ29udGVudC9NYXRlcmlhbC9Ob2RlTWF0ZXJpYWxQYXJ0aWNsZS50cyIsIi4uL0Fzc2V0cy9Db250ZW50L01hdGVyaWFsL05vZGVNYXRlcmlhbFByb2Nlc3MudHMiLCIuLi9Bc3NldHMvQ29udGVudC9NYXRlcmlhbC9Ob2RlTWF0ZXJpYWxUZXh0dXJlLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTW9iaWxlL01vYmlsZUlucHV0Q29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9Db250ZW50L01vYmlsZS9Nb2JpbGVPY2NsdWRlTWF0ZXJpYWwudHMiLCIuLi9Bc3NldHMvQ29udGVudC9Nb2JpbGUvTW9iaWxlU2hhZG93TWF0ZXJpYWwudHMiLCIuLi9Bc3NldHMvQ29udGVudC9QaHlzaWNzL0JhbGxTb2NrZXRKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BoeXNpY3MvRGlzdGFuY2VKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BoeXNpY3MvRml4ZWRIaW5nZUpvaW50LnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGh5c2ljcy9Mb2NrZWRKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BoeXNpY3MvUHJpc21hdGljSm9pbnQudHMiLCIuLi9Bc3NldHMvQ29udGVudC9QaHlzaWNzL1NpeGRvZkpvaW50LnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGh5c2ljcy9TbGlkZXJKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BsYXllci9SZW1vdGVQbGF5ZXJDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGxheWVyL1N0YW5kYXJkUGxheWVyQ29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BsYXllci9UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIudHMiLCIuLi9Bc3NldHMvQ29udGVudC9TaGFkZXIvRnhQYXJ0aWNsZVN5c3RlbS50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1NoYWRlci9Ta3lNYXRlcmlhbFN5c3RlbS50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1NoYWRlci9XYXRlck1hdGVyaWFsU3lzdGVtLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvV2luZG93cy9XaW5kb3dzUGxhdGZvcm0udHMiLCIuLi9Bc3NldHMvUHJvamVjdC9TY3JpcHRzL1Rlc3RDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL1Byb2plY3QvU2NyaXB0cy9UZXN0TW92ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBTyxPQUFPLENBMktiO0FBM0tELFdBQU8sT0FBTztJQUNWOzs7TUFHRTtJQUNGLE1BQWEsa0JBQW1CLFNBQVEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxlQUFlO1FBbUI1RCxNQUFNLEtBQUssUUFBUSxLQUFpQyxPQUFPLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBQ3ZHLGFBQWEsS0FBYyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ3JELGFBQWEsS0FBYyxPQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEcsaUJBQWlCLEtBQXNCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDbkUsWUFBWSxTQUFnQyxFQUFFLEtBQW9CLEVBQUUs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LGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFD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QUFDO2dCQUMvQyxJQUFJLFVBQVU7b0JBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3JELElBQUksS0FBSztvQkFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FB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QUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUM7Z0JBQ3ZDLENBQUM7WUFDTCxDQUFDO1lBRUQsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDdkMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ3hELElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQztnQkFDckMsQ0FBQztZQUNMLENBQUM7WUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNyQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQ3pDLHNDQUFzQztnQkFDdEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBQzFELDZFQUE2RTtvQkFDN0UsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQzt3QkFDekIsSUFBSSxDQUFDLDZCQUE2QixFQUFFLENBQUM7b0JBQ3pDLENBQUM7eUJBQU0sQ0FBQzt3QkFDSixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7d0JBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO3dCQUNoRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDdEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO29CQUM1QyxDQUFDO2dCQUNMLENBQUM7Z0JBQ0QsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ3BELE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ25DLE1BQU0sVUFBVSxHQUFHLFdBQVcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUM7b0JBQzVELE1BQU0sS0FBSyxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDO29CQUMxRCxLQUFLO29CQUNMLHNCQUFzQjtvQkFDdEIsS0FBSztvQkFDTCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLFNBQVMsRUFBRSxDQUFDO3dCQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDckYsQ0FBQzt5QkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLFlBQVksRUFBRSxDQUFDO3dCQUMvQyxJQUFJLENBQUMsYUFBYSxDQUNkLElBQUksQ0FBQyxRQUFRLEVBQ2IsS0FBSyxFQUNMLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUN6QixXQUFXLENBQUMsUUFBUSxFQUNwQixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEVBQ2xELFdBQVcsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUNoRCxDQUFDO3dCQUNGOzs7Ozs7Ozs0QkFRSTtvQkFDUixDQUFDO29CQUNELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUN4RixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDeEUsS0FBSztvQkFDTCx3QkFBd0I7b0JBQ3hCLEtBQUs7b0JBQ0wsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUNuRixLQUFLO29CQUNMLDBCQUEwQjtvQkFDMUIsS0FBSztvQkFDTCxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksRUFBRSxDQUFDO3dCQUM3QixJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7NkJBQ2hJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFFL0ksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDOzZCQUNoSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7d0JBRS9JLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs2QkFDaEksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUUvSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7NkJBQ2hJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFFL0ksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDOzZCQUNoSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7d0JBRS9JLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs2QkFDaEksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUUvSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7NkJBQ2hJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFFL0ksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDOzZCQUNoSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7d0JBRS9JLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs2QkFDaEksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUUvSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7NkJBQ2hJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFFL0ksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDOzZCQUNoSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7d0JBRS9JLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs2QkFDaEksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUUvSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7NkJBQ2hJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFFL0ksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDOzZCQUNoSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7d0JBRS9JLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs2QkFDaEksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUUvSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7NkJBQ2hJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFFL0ksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDOzZCQUNoSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7d0JBRS9JLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs2QkFDaEksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUUvSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7NkJBQ2hJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsS0FBSyxDQUFDOzRCQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFFL0ksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixLQUFLLENBQUM7NEJBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDOzZCQUNoSSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLEtBQUssQ0FBQzs0QkFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7b0JBQ25KLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7WUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssV0FBVyxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUMxQyxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQztZQUN2QixDQUFDO1FBQ0wsQ0FBQztLQUNKO0lBcFlZLDJCQUFtQixzQkFvWS9CLENBQUE7QUFDTCxDQUFDLEVBOXZDTSxPQUFPLEtBQVAsT0FBTyxRQTh2Q2I7QUM5dkNELElBQU8sT0FBTyxDQTBEYjtBQTFERCxXQUFPLE9BQU87SUFDVjs7O01BR0U7SUFDRixNQUFhLGNBQWUsU0FBUSxPQUFPLENBQUMsT0FBTyxDQUFDLGVBQWU7UUFBbkU7O1lBQ1ksbUJBQWMsR0FBd0IsSUFBSSxDQUFDO1lBQzNDLHNCQUFpQixHQUF5QixJQUFJLENBQUM7UUFrRDNELENBQUM7UUFoRGEsS0FBSztZQUNYLE1BQU0saUJBQWlCLEdBQVcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMzRSxNQUFNLGlCQUFpQixHQUFvQyxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDakcsTUFBTSxrQkFBa0IsR0FBZ0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQy9GLE1BQU0sa0JBQWtCLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztZQUM3RyxJQUFJLGlCQUFpQixJQUFJLElBQUksRUFBRSxDQUFDO2dCQUM1QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBeUIsQ0FBQztnQkFDbEksSUFBSSxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQ2pDLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsWUFBWSxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7d0JBQ25FLE1BQU0sYUFBYSxHQUEwQixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBaUMsQ0FBQzt3QkFDdEcsSUFBSSxhQUFhLENBQUMsWUFBWSxJQUFJLElBQUksSUFBSSxhQUFhLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxpQkFBaUIsRUFBRSxDQUFDOzRCQUM5RixNQUFNLFlBQVksR0FBMEIsYUFBYSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBMEIsQ0FBQzs0QkFDekksTUFBTSxXQUFXLEdBQXFCLFlBQVksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsQ0FBQzs0QkFDbkYsWUFBWSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQXdCLENBQUM7NEJBQ3RJLElBQUksQ0FBQyxjQUFjLEdBQUcsWUFBWSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBd0IsQ0FBQzs0QkFDMUYsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxZQUFZLENBQUM7d0JBQ25ELENBQUM7b0JBQ0wsQ0FBQzt5QkFBTSxDQUFDO3dCQUNKLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUF3QixDQUFDO3dCQUNySixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7b0JBQzFELENBQUM7b0JBQ0QsSUFBSSxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUksRUFBRSxDQUFDO3dCQUM5Qiw4QkFBOEI7d0JBQzlCLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFROzRCQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLENBQUM7d0JBQ2pFLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO3dCQUM3RCxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDO29CQUNqQyxDQUFDO2dCQUNMLENBQUM7cUJBQU0sQ0FBQztvQkFDSixPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMscUNBQXFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDekcsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRUQsNkJBQTZCO1FBQzdCLDhCQUE4QjtRQUM5Qiw2QkFBNkI7UUFDN0IsK0JBQStCO1FBRXhCLHFCQUFxQixDQUFDLFNBQXlCLEVBQUUsYUFBNkIsSUFBSSxFQUFFLFlBQW9CLENBQUMsRUFBRSxhQUFxQixDQUFDO1lBQ3BJLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDOUIsOEJBQThCO2dCQUM5QixJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUTtvQkFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUNqRSxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ3BELElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQzdCLG9DQUFvQztnQkFDcEMsbUNBQW1DO1lBQ3ZDLENBQUM7UUFDTCxDQUFDO0tBQ0o7SUFwRFksc0JBQWMsaUJBb0QxQixDQUFBO0FBQ0wsQ0FBQyxFQTFETSxPQUFPLEtBQVAsT0FBTyxRQTBEYjtBQzFERCxJQUFPLE9BQU8sQ0FnSGI7QUFoSEQsV0FBTyxPQUFPO0lBQ1Y7OztNQUdFO0lBQ0YsTUFBYSxpQkFBa0IsU0FBUSxPQUFPLENBQUMsT0FBTyxDQUFDLGVBQWU7UUFBdEU7O1lBQ1ksbUJBQWMsR0FBMkIsSUFBSSxDQUFDO1lBQzlDLG9CQUFlLEdBQVcsQ0FBQyxDQUFDO1lBQzVCLG9CQUFlLEdBQVcsQ0FBQyxDQUFDO1lBQzVCLG1CQUFjLEdBQVcsQ0FBQyxDQUFDO1lBQzNCLGtCQUFhLEdBQVcsQ0FBQyxDQUFDO1lBQzFCLGtCQUFhLEdBQVcsQ0FBQyxDQUFDO1lBQzFCLGNBQVMsR0FBVyxDQUFDLENBQUM7WUFDdEIsYUFBUSxHQUFXLENBQUMsQ0FBQztZQUNyQixhQUFRLEdBQWEsSUFBSSxDQUFDO1lBQzFCLGFBQVEsR0FBVyxDQUFDLENBQUM7WUFDckIsZUFBVSxHQUFXLFFBQVEsQ0FBQztZQUM5QixhQUFRLEdBQVksS0FBSyxDQUFDO1lBdUIxQix1QkFBa0IsR0FBVyxFQUFFLENBQUM7UUF1RTVDLENBQUM7UUE1RlUsUUFBUSxDQUFDLEVBQVUsRUFBRSxJQUFZO1lBQ3BDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1lBQ25CLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1lBQ3ZCLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUUsQ0FBQztRQUNNLFdBQVcsS0FBZSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ2pELFlBQVksS0FBYSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ2pELGFBQWEsS0FBYSxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO1FBQ3hELGFBQWEsS0FBYSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ25ELFdBQVcsS0FBYSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQy9DLFdBQVcsS0FBYSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ3BELFdBQVcsS0FBYyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBRTdDLEtBQUs7WUFDWCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztZQUNuQixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztZQUNuQixJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ25FLElBQUksQ0FBQyxlQUFlLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDekUsQ0FBQztRQUdTLE1BQU07WUFDWixJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssS0FBSyxFQUFFLENBQUM7Z0JBQzFCLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ2hFLE1BQU0sa0JBQWtCLEdBQXlCLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUMxRixJQUFJLGtCQUFrQixJQUFJLElBQUksRUFBRSxDQUFDO3dCQUM3QixJQUFJLENBQUMsa0JBQWtCLEdBQUcsa0JBQWtCLENBQUMsSUFBSSxDQUFDO3dCQUNsRCxJQUFJLGtCQUFrQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQzs0QkFDdEUsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDOzRCQUMzQyxJQUFJLElBQUksQ0FBQyxlQUFlLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0NBQzdCLElBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQ0FDMUMsTUFBTSxPQUFPLEdBQVcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7b0NBQ3JGLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJO3dDQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO29DQUM5QyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQ0FDaEMsQ0FBQztnQ0FDRCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7Z0NBQ2pCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7Z0NBQzNELElBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxFQUFFLENBQUM7b0NBQzFELElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO29DQUN2QixJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUM7b0NBQ3hELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsaUNBQWlDO29DQUN2RCxPQUFPLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQ0FHMUQscUVBQXFFO29DQUNyRSxvREFBb0Q7b0NBQ3BELHFFQUFxRTtvQ0FDckUsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxJQUFJLElBQUksRUFBRSxDQUFDO3dDQUNuRCxPQUFPLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7d0NBQzFELEtBQUs7d0NBQ0wsb0NBQW9DO3dDQUNwQyxLQUFLO3dDQUNMLE9BQU8sQ0FBQyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7b0NBQ3hELENBQUM7b0NBQ0QscUVBQXFFO2dDQUd6RSxDQUFDOzRCQUNMLENBQUM7NEJBQ0QsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDOzRCQUN0QixJQUFJLElBQUksQ0FBQyxjQUFjLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO2dDQUM5QyxJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQzs0QkFDNUIsQ0FBQzt3QkFDTCxDQUFDO29CQUNMLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRVMsSUFBSTtZQUNWLGlDQUFpQztZQUNqQywrQ0FBK0M7WUFDL0MsNEhBQTRIO1lBQzVILElBQUk7WUFDSixJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssS0FBSyxFQUFFLENBQUM7Z0JBQzFCLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDekIsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDM0YsQ0FBQztnQkFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ3BCLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7Z0JBQ3JJLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUVNLGNBQWM7WUFDakIsSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUMzQixJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDcEUsQ0FBQztRQUNMLENBQUM7S0FDSjtJQTFHWSx5QkFBaUIsb0JBMEc3QixDQUFBO0FBQ0wsQ0FBQyxFQWhITSxPQUFPLEtBQVAsT0FBTyxRQWdIYjtBQ2hIRCxJQUFPLE9BQU8sQ0FrSGI7QUFsSEQsV0FBTyxPQUFPO0lBQ1Y7OztNQUdFO0lBQ0YsTUFBYSxvQkFBcUIsU0FBUSxPQUFPLENBQUMsT0FBTyxDQUFDLGVBQWU7UUFBekU7O1lBQ1ksaUJBQVksR0FBWSxJQUFJLENBQUM7WUFDN0IsZ0JBQVcsR0FBVyxtQkFBbUIsQ0FBQztZQUMxQyxzQkFBaUIsR0FBVyxHQUFHLENBQUM7UUF5RzVDLENBQUM7UUF2R2EsS0FBSztZQUNYLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxJQUFJO2dCQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwRCxDQUFDO1FBRU0sUUFBUTtZQUNYLE9BQU8sQ0FBQyxjQUFjLENBQUMsa0NBQWtDLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLGFBQTZDLEVBQUUsZUFBc0MsRUFBRSxTQUFpQixFQUFFLEVBQUU7Z0JBQ3JMLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLGVBQWUsRUFBRSxTQUFTLENBQUMsQ0FBQztZQUNqRSxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFFTyxZQUFZLENBQUMsYUFBNkMsRUFBRSxlQUFzQyxFQUFFLFNBQWlCO1lBQ3pILCtDQUErQztRQUNuRCxDQUFDO1FBRU8sa0JBQWtCLENBQUMsYUFBNkMsRUFBRSxlQUFzQyxFQUFFLFNBQWlCO1lBQy9ILE1BQU0sZUFBZSxHQUFXLENBQUMsQ0FBQyxDQUFDLGtIQUFrSDtZQUNySixNQUFNLGlCQUFpQixHQUFXLENBQUMsQ0FBQyxDQUFDLG9IQUFvSDtZQUN6SixpTEFBaUw7WUFDakwsTUFBTSxpQkFBaUIsR0FBVyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUMzRCxNQUFNLG1CQUFtQixHQUFXLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFFL0QsNkpBQTZKO1lBQzdKLGtFQUFrRTtZQUNsRSxxRUFBcUU7WUFDckUseUVBQXlFO1lBQ3pFLHVFQUF1RTtZQUV2RTs7Ozs7Ozs7Ozs7Ozs7Y0FjRTtZQUVGLElBQUksaUJBQWlCLElBQUksSUFBSSxDQUFDLGlCQUFpQixJQUFJLG1CQUFtQixJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2dCQUMvRiw0RkFBNEY7Z0JBQzVGLGlHQUFpRztnQkFDakcsS0FBSztnQkFDTCw0REFBNEQ7Z0JBQzVELEtBQUs7Z0JBQ0wsK0hBQStIO2dCQUMvSCw0RkFBNEY7Z0JBQzVGLEtBQUs7Z0JBQ0wseUVBQXlFO2dCQUN6RSxrREFBa0Q7Z0JBQ2xELEtBQUs7Z0JBQ0wsNERBQTREO2dCQUM1RCxLQUFLO2dCQUNMLG1GQUFtRjtnQkFDbkYsMElBQTBJO2dCQUUxSSxLQUFLO2dCQUNMLDREQUE0RDtnQkFDNUQsS0FBSztnQkFDTCx5Q0FBeUM7Z0JBQ3pDLGtDQUFrQztnQkFDbEMsSUFBSSxtQkFBbUIsR0FBVyxJQUFJLENBQUM7Z0JBQ3ZDLElBQUksaUJBQWlCLEdBQVcsQ0FBQyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsQ0FBQztnQkFDbEUsaUJBQWlCLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNsRSw0SUFBNEk7Z0JBRTVJLG1CQUFtQjtnQkFDbkIsd0ZBQXdGO2dCQUN4RixrR0FBa0c7Z0JBQ2xHLGlIQUFpSDtnQkFDakgsK0dBQStHO2dCQUUvRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tCQXFCRTtZQUNOLENBQUM7aUJBQU0sQ0FBQztnQkFDSixxREFBcUQ7Z0JBQ3JELCtEQUErRDtZQUNuRSxDQUFDO1FBQ0wsQ0FBQztLQUNKO0lBNUdZLDRCQUFvQix1QkE0R2hDLENBQUE7QUFDTCxDQUFDLEVBbEhNLE9BQU8sS0FBUCxPQUFPLFFBa0hiO0FDbEhELElBQU8sT0FBTyxDQTZiYjtBQTdiRCxXQUFPLE9BQU87SUFjVixNQUFhLFVBQVU7S0FHdEI7SUFIWSxrQkFBVSxhQUd0QixDQUFBO0lBQ0QsTUFBYSxlQUFlO0tBSTNCO0lBSlksdUJBQWUsa0JBSTNCLENBQUE7SUFDRDs7O01BR0U7SUFDRixNQUFhLGdCQUFpQixTQUFRLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZTtRQUFyRTs7WUFVWSxlQUFVLEdBQXlCLElBQUksQ0FBQztZQUN4QyxtQkFBYyxHQUE0QixJQUFJLENBQUM7WUFDL0MsbUJBQWMsR0FBNEIsSUFBSSxDQUFDO1lBQy9DLG1CQUFjLEdBQTRCLElBQUksQ0FBQztZQUMvQyxtQkFBYyxHQUE0QixJQUFJLENBQUM7WUFDL0MsbUJBQWMsR0FBNEIsSUFBSSxDQUFDO1lBQy9DLG9CQUFlLEdBQWdDLElBQUksQ0FBQztZQUNwRCxvQkFBZSxHQUFnQyxJQUFJLENBQUM7WUFDcEQsb0JBQWUsR0FBZ0MsSUFBSSxDQUFDO1lBQ3BELG9CQUFlLEdBQWdDLElBQUksQ0FBQztZQUNwRCxvQkFBZSxHQUFnQyxJQUFJLENBQUM7WUFDcEQscUJBQWdCLEdBQXNCLElBQUksQ0FBQztZQUMzQyxxQkFBZ0IsR0FBc0IsSUFBSSxDQUFDO1lBQzNDLHFCQUFnQixHQUFzQixJQUFJLENBQUM7WUFDM0MscUJBQWdCLEdBQXNCLElBQUksQ0FBQztZQUMzQyxxQkFBZ0IsR0FBc0IsSUFBSSxDQUFDO1lBRTNDLFFBQUcsR0FBVyxDQUFDLENBQUM7WUFDaEIsUUFBRyxHQUFXLENBQUMsQ0FBQztZQUNoQixRQUFHLEdBQVcsQ0FBQyxDQUFDO1lBQ2hCLFFBQUcsR0FBVyxDQUFDLENBQUM7WUFDaEIsTUFBQyxHQUFXLENBQUMsQ0FBQztZQVVmLG1CQUFjLEdBQVksS0FBSyxDQUFDO1FBd1gzQyxDQUFDO1FBL1hVLE1BQU0sS0FBSyxRQUFRO1lBQ3RCLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDL0UsQ0FBQztZQUNELE9BQU8sT0FBTyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQztRQUM5QyxDQUFDO1FBR00sYUFBYSxLQUEyQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ2pFLGdCQUFnQixDQUFDLElBQVk7WUFDaEMsSUFBSSxNQUFNLEdBQTRCLElBQUksQ0FBQztZQUMzQyxRQUFRLElBQUksRUFBRSxDQUFDO2dCQUNYLEtBQUssQ0FBQztvQkFDRixNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztvQkFDN0IsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7b0JBQzdCLE1BQU07Z0JBQ1YsS0FBSyxDQUFDO29CQUNGLE1BQU0sR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO29CQUM3QixNQUFNO2dCQUNWLEtBQUssQ0FBQztvQkFDRixNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztvQkFDN0IsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7b0JBQzdCLE1BQU07WUFDZCxDQUFDO1lBQ0QsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUVTLEtBQUs7WUFDWCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsRSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQzlFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDOUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUM5RSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQzlFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDOUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNqRixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2pGLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDakYsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNqRixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2pGLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDOUUsRUFBRTtZQUNGLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNkLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDMUIsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7Z0JBQ3pDLEtBQUssS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQztvQkFDdEQsTUFBTSxPQUFPLEdBQXVCLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzNELE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUM3RCxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQ2pFLElBQUksRUFBRSxJQUFJLElBQUksSUFBSSxFQUFFLElBQUksSUFBSSxFQUFFLENBQUM7d0JBQzNCLE1BQU0sR0FBRyxHQUFvQixPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUN0RixPQUFPLENBQUMsYUFBYSxHQUFHLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQzNFLE9BQU8sQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFDakYsTUFBTSxFQUFFLEdBQW9CLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7d0JBQ2hGLE1BQU0sRUFBRSxHQUFvQixPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUNoRixPQUFPLENBQUMsYUFBYSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUM7d0JBQzdELE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7b0JBQ3ZFLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7WUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDckMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDN0IsS0FBSztZQUNMLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDbkQsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7WUFDbEQsQ0FBQztZQUNELEtBQUs7WUFDTCxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ2xELE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUM3RyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUN4RyxLQUFLLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUM7d0JBQzlFLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsbUJBQW1CLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQzNFLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRVMsS0FBSztZQUNYLElBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDL0IsSUFBSSxLQUFLLEdBQVcsQ0FBQyxDQUFDO2dCQUN0QixNQUFNLFNBQVMsR0FBVyxHQUFHLENBQUM7Z0JBQzlCLE1BQU0sVUFBVSxHQUEwQixJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsYUFBYSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDckgsVUFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDakMsVUFBVSxDQUFDLGtCQUFrQixHQUFHLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDbkUsS0FBSztnQkFDTCxjQUFjO2dCQUNkLEtBQUs7Z0JBQ0wsSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDeEQsTUFBTSxjQUFjLEdBQXNCLEVBQUUsQ0FBQztvQkFDN0MsTUFBTSxjQUFjLEdBQW1CLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQzlELE1BQU0sY0FBYyxHQUFHLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLGVBQWUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3ZHLGNBQWMsQ0FBQyxZQUFZLEdBQUcsY0FBYyxDQUFDO29CQUM3QyxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNWLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBd0IsRUFBRSxFQUFFO3dCQUNqRCxNQUFNLGlCQUFpQixHQUFvQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDbEgsTUFBTSxpQkFBaUIsR0FBdUIsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3pJLGNBQWMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQzt3QkFDdkMsTUFBTSxTQUFTLEdBQWlCLE9BQU8sQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLGFBQWEsR0FBRyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFLGNBQWMsRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUM5TCxTQUFTLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQzt3QkFDOUIsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsaUJBQWlCLENBQUMsQ0FBQzt3QkFDL0MsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDO3dCQUM1QixTQUFTLENBQUMsa0JBQWtCLEdBQUcsaUJBQWlCLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3pHLFNBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDO3dCQUNwQyxLQUFLLEVBQUUsQ0FBQztvQkFDWixDQUFDLENBQUMsQ0FBQztnQkFDUCxDQUFDO2dCQUNELEtBQUs7Z0JBQ0wsY0FBYztnQkFDZCxLQUFLO2dCQUNMLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ2hFLE1BQU0sYUFBYSxHQUFzQixFQUFFLENBQUM7b0JBQzVDLE1BQU0sYUFBYSxHQUFtQixDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUMzTCxNQUFNLGFBQWEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3pHLGFBQWEsQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO29CQUMzQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNWLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBNEIsRUFBRSxFQUFFO3dCQUN6RCxNQUFNLGFBQWEsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2pILGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBQ2xDLE1BQU0sY0FBYyxHQUFpQixPQUFPLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDakwsY0FBYyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7d0JBQ25DLGNBQWMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO3dCQUNoRCxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7d0JBQ2pDLGNBQWMsQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDO3dCQUN4QyxLQUFLLEVBQUUsQ0FBQztvQkFDWixDQUFDLENBQUMsQ0FBQztvQkFDSCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxhQUFhLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3RJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO29CQUMxQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7b0JBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO2dCQUNoRCxDQUFDO2dCQUNELEtBQUs7Z0JBQ0wsY0FBYztnQkFDZCxLQUFLO2dCQUNMLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ2hFLE1BQU0sYUFBYSxHQUFzQixFQUFFLENBQUM7b0JBQzVDLE1BQU0sYUFBYSxHQUFtQixDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUMzTCxNQUFNLGFBQWEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3pHLGFBQWEsQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO29CQUMzQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNWLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBNEIsRUFBRSxFQUFFO3dCQUN6RCxNQUFNLGFBQWEsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2pILGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBQ2xDLE1BQU0sY0FBYyxHQUFpQixPQUFPLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDakwsY0FBYyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7d0JBQ25DLGNBQWMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO3dCQUNoRCxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7d0JBQ2pDLGNBQWMsQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDO3dCQUN4QyxLQUFLLEVBQUUsQ0FBQztvQkFDWixDQUFDLENBQUMsQ0FBQztvQkFDSCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxhQUFhLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3RJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO29CQUMxQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7b0JBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO2dCQUNoRCxDQUFDO2dCQUNELEtBQUs7Z0JBQ0wsY0FBYztnQkFDZCxLQUFLO2dCQUNMLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ2hFLE1BQU0sYUFBYSxHQUFzQixFQUFFLENBQUM7b0JBQzVDLE1BQU0sYUFBYSxHQUFtQixDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUMzTCxNQUFNLGFBQWEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3pHLGFBQWEsQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO29CQUMzQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNWLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBNEIsRUFBRSxFQUFFO3dCQUN6RCxNQUFNLGFBQWEsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2pILGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBQ2xDLE1BQU0sY0FBYyxHQUFpQixPQUFPLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDakwsY0FBYyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7d0JBQ25DLGNBQWMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO3dCQUNoRCxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7d0JBQ2pDLGNBQWMsQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDO3dCQUN4QyxLQUFLLEVBQUUsQ0FBQztvQkFDWixDQUFDLENBQUMsQ0FBQztvQkFDSCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxhQUFhLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3RJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO29CQUMxQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7b0JBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO2dCQUNoRCxDQUFDO2dCQUNELEtBQUs7Z0JBQ0wsY0FBYztnQkFDZCxLQUFLO2dCQUNMLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ2hFLE1BQU0sYUFBYSxHQUFzQixFQUFFLENBQUM7b0JBQzVDLE1BQU0sYUFBYSxHQUFtQixDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUMzTCxNQUFNLGFBQWEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3pHLGFBQWEsQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO29CQUMzQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNWLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBNEIsRUFBRSxFQUFFO3dCQUN6RCxNQUFNLGFBQWEsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2pILGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBQ2xDLE1BQU0sY0FBYyxHQUFpQixPQUFPLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDakwsY0FBYyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7d0JBQ25DLGNBQWMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO3dCQUNoRCxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7d0JBQ2pDLGNBQWMsQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDO3dCQUN4QyxLQUFLLEVBQUUsQ0FBQztvQkFDWixDQUFDLENBQUMsQ0FBQztvQkFDSCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxhQUFhLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3RJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO29CQUMxQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7b0JBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO2dCQUNoRCxDQUFDO2dCQUNELEtBQUs7Z0JBQ0wsY0FBYztnQkFDZCxLQUFLO2dCQUNMLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ2hFLE1BQU0sYUFBYSxHQUFzQixFQUFFLENBQUM7b0JBQzVDLE1BQU0sYUFBYSxHQUFtQixDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUMzTCxNQUFNLGFBQWEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3pHLGFBQWEsQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO29CQUMzQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNWLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBNEIsRUFBRSxFQUFFO3dCQUN6RCxNQUFNLGFBQWEsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2pILGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBQ2xDLE1BQU0sY0FBYyxHQUFpQixPQUFPLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDakwsY0FBYyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7d0JBQ25DLGNBQWMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO3dCQUNoRCxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7d0JBQ2pDLGNBQWMsQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDO3dCQUN4QyxLQUFLLEVBQUUsQ0FBQztvQkFDWixDQUFDLENBQUMsQ0FBQztvQkFDSCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxhQUFhLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3RJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO29CQUMxQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7b0JBQ3hDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO2dCQUNoRCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFUyxLQUFLO1lBQ1gsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLDJCQUEyQjtnQkFDN0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDLDJCQUEyQixFQUFFLENBQUM7WUFDM0QsQ0FBQztRQUNMLENBQUM7UUFFUyxPQUFPO1lBQ2Isb0NBQW9DO1FBQ3hDLENBQUM7UUFFRCwrR0FBK0c7UUFDL0csK0JBQStCO1FBQy9CLCtHQUErRztRQUV4RyxhQUFhLENBQUMsUUFBZ0I7WUFDakMsTUFBTSxNQUFNLEdBQXVCLElBQUksVUFBVSxFQUFFLENBQUM7WUFDcEQsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUMxQyxPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBQ00sa0JBQWtCLENBQUMsUUFBZ0IsRUFBRSxNQUEwQjtZQUNsRSwrQkFBK0I7WUFDL0IsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDakQsTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM5QixNQUFNLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUM3QixNQUFNLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUMxQyw4Q0FBOEM7UUFDbEQsQ0FBQztRQUNNLGdCQUFnQixDQUFDLFFBQWdCO1lBQ3BDLE1BQU0sTUFBTSxHQUFvQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM3RCxJQUFJLENBQUMscUJBQXFCLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQzdDLE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDTSxxQkFBcUIsQ0FBQyxRQUFnQixFQUFFLE1BQXVCO1lBQ2xFLElBQUksS0FBSyxHQUFXLENBQUMsQ0FBQztZQUN0QixNQUFNLElBQUksR0FBVyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzNGLE1BQU0sU0FBUyxHQUFXLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO1lBQ2pELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxhQUFhLEdBQUcsSUFBSSxFQUFFLENBQUM7Z0JBQUMsRUFBRSxLQUFLLENBQUM7WUFBQyxDQUFDO1lBQ2hFLDZFQUE2RTtZQUM3RSxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsU0FBUyxDQUFDO1lBQ2pELElBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDO1lBQ2pCLGtGQUFrRjtZQUNsRixJQUFJLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDNUgsNENBQTRDO1lBQzVDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNoSSxDQUFDO1FBRUQsK0dBQStHO1FBQy9HLDhCQUE4QjtRQUM5QiwrR0FBK0c7UUFFL0cseUNBQXlDO1FBQ2xDLE1BQU0sQ0FBQyxnQkFBZ0I7WUFDMUIsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDO1FBQ2xELENBQUM7UUFDRCx1Q0FBdUM7UUFDaEMsTUFBTSxDQUFDLGlCQUFpQjtZQUMzQixPQUFPLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUM7UUFDbkQsQ0FBQztRQUNELDBDQUEwQztRQUNuQyxNQUFNLENBQUMsa0JBQWtCO1lBQzVCLE9BQU8sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xILENBQUM7UUFDRCwwREFBMEQ7UUFDbEQsTUFBTSxDQUFDLHFCQUFxQixDQUFDLFFBQXlCLEVBQUUsZ0JBQWlDLEVBQUUsU0FBMEI7WUFDekgseUJBQXlCO1lBQ3pCLE1BQU0sMkJBQTJCLEdBQW9CLFFBQVEsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUN6RixNQUFNLG9CQUFvQixHQUFvQixTQUFTLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDbkYsTUFBTSxRQUFRLEdBQVcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLEVBQUUsb0JBQW9CLENBQUMsR0FBRyxvQkFBb0IsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN2SSxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFDLENBQUM7UUFFRCwrR0FBK0c7UUFDL0csMkJBQTJCO1FBQzNCLCtHQUErRztRQUUvRywwQ0FBMEM7UUFDbkMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxPQUE4QjtZQUN4RCxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsSUFBSSxJQUFJO2dCQUFFLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLENBQUM7WUFDeEcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM3RCxDQUFDO1FBQ0QsMENBQTBDO1FBQ25DLE1BQU0sQ0FBQyxpQkFBaUI7WUFDM0IsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUM7UUFDdEQsQ0FBQztRQUVELCtHQUErRztRQUMvRywrQkFBK0I7UUFDL0IsK0dBQStHO1FBRS9HLHlDQUF5QztRQUNsQyxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQVUsRUFBRSxJQUFZO1lBQ2pELE1BQU0sTUFBTSxHQUE0QixJQUFJLE9BQU8sQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN0RSxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUU7Z0JBQ1YsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDdkIsTUFBTSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7WUFDcEIsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxJQUFJLElBQUk7Z0JBQUUsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7WUFDcEcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUQsQ0FBQztRQUNELDRDQUE0QztRQUNyQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBVSxFQUFFLEdBQVcsRUFBRSxVQUFrQixFQUFFLFFBQXlCO1lBQ2xHLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQzFHLE1BQU0sV0FBVyxHQUE4QixPQUFPLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDO2dCQUN4RixLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDO29CQUN0RCxNQUFNLE9BQU8sR0FBNEIsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUM1RCxJQUFJLE9BQU8sQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUM7d0JBQ3BCLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLGNBQWMsSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7NEJBQ3hHLElBQUksZUFBZSxHQUFXLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDOzRCQUM3RSxJQUFJLG1CQUFtQixHQUFXLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDOzRCQUNuRCxJQUFJLG1CQUFtQixJQUFJLGVBQWU7Z0NBQUUsbUJBQW1CLEdBQUcsQ0FBQyxDQUFDOzRCQUNwRSxNQUFNLG1CQUFtQixHQUF5QixPQUFPLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDOzRCQUN0RyxNQUFNLGtCQUFrQixHQUF5QixPQUFPLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFDLENBQUM7NEJBQzlHLE1BQU0sa0JBQWtCLEdBQVcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxtQkFBbUIsQ0FBQyxnQkFBZ0IsRUFBRSxrQkFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDOzRCQUN2SyxPQUFPLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxDQUFDO3dCQUMxRSxDQUFDO3dCQUNELE1BQU07b0JBQ1YsQ0FBQztnQkFDTCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFDRCxzQ0FBc0M7UUFDL0IsTUFBTSxDQUFDLHNCQUFzQixDQUFDLEVBQVU7WUFDM0MsSUFBSSxNQUFNLEdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDMUcsTUFBTSxXQUFXLEdBQThCLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFlLENBQUM7Z0JBQ3hGLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxXQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUM7b0JBQ3RELE1BQU0sT0FBTyxHQUE0QixXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzVELElBQUksT0FBTyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQzt3QkFDcEIsTUFBTSxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUNyQixNQUFNO29CQUNWLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7WUFDRCxPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBQ0Qsb0NBQW9DO1FBQzdCLE1BQU0sQ0FBQywwQkFBMEI7WUFDcEMsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDO1FBQ3BELENBQUM7UUFDRCxxQ0FBcUM7UUFDN0IsTUFBTSxDQUFDLDJCQUEyQjtZQUN0QyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFlLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUMxRyxNQUFNLFdBQVcsR0FBOEIsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztnQkFDeEYsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQVUsRUFBRTtvQkFDckMsaUNBQWlDO29CQUNqQyxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVE7d0JBQUUsT0FBTyxDQUFDLENBQUM7b0JBQzdDLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUTt3QkFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO29CQUM5QyxPQUFPLENBQUMsQ0FBQztnQkFDYixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7UUFDTCxDQUFDOztJQS9aYSw0QkFBVyxHQUFXLENBQUMsQUFBWixDQUFhO0lBQ3hCLDhCQUFhLEdBQVcsQ0FBQyxBQUFaLENBQWE7SUFDMUIsZ0NBQWUsR0FBMEIsSUFBSSxBQUE5QixDQUErQjtJQUU3Qyw4QkFBYSxHQUFXLFlBQVksQUFBdkIsQ0FBd0I7SUFDckMsK0JBQWMsR0FBMkIsSUFBSSxBQUEvQixDQUFnQztJQUM5QyxnQ0FBZSxHQUE4QixJQUFJLEFBQWxDLENBQW1DO0lBQ2xELGtDQUFpQixHQUE0QixJQUFJLEFBQWhDLENBQWlDO0lBeUJsRCwwQkFBUyxHQUFvQyxJQUFJLEFBQXhDLENBQXlDO0lBakN4RCx3QkFBZ0IsbUJBaWE1QixDQUFBO0FBQ0wsQ0FBQyxFQTdiTSxPQUFPLEtBQVAsT0FBTyxRQTZiYjtBQzdiRCxJQUFPLE9BQU8sQ0FtbkJiO0FBbm5CRCxXQUFPLE9BQU87SUFDVjs7O01BR0U7SUFDRixNQUFhLG1CQUFvQixTQUFRLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZTtRQUF4RTs7WUFHVyxpQkFBWSxHQUFXLEdBQUcsQ0FBQztZQUMzQixzQkFBaUIsR0FBVyxJQUFJLENBQUM7WUFDakMscUJBQWdCLEdBQVksSUFBSSxDQUFDO1lBQ2pDLHNCQUFpQixHQUFZLElBQUksQ0FBQztZQUNsQyxpQkFBWSxHQUFvQixJQUFJLENBQUM7WUFDckMsbUJBQWMsR0FBVyxJQUFJLENBQUM7WUFDOUIsbUJBQWMsR0FBVyxHQUFHLENBQUM7WUFDN0Isc0JBQWlCLEdBQVcsSUFBSSxDQUFDO1lBQ2pDLGlCQUFZLEdBQVcsR0FBRyxDQUFDO1lBQzNCLGdCQUFXLEdBQVcsR0FBRyxDQUFDO1lBRXpCLHFCQUFnQixHQUEwQixJQUFJLENBQUM7WUFDL0Msc0JBQWlCLEdBQVcsQ0FBQyxDQUFDO1lBQzlCLHFCQUFnQixHQUFXLElBQUksQ0FBQztZQUNoQyxxQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFFeEIsY0FBUyxHQUFtQyxJQUFJLENBQUM7WUFDakQsdUJBQWtCLEdBQWdDLElBQUksQ0FBQztZQUN2RCxxQkFBZ0IsR0FBZ0MsSUFBSSxDQUFDO1lBRXJELG9CQUFlLEdBQXlCLElBQUksQ0FBQztZQUM3QyxxQkFBZ0IsR0FBb0MsSUFBSSxDQUFDO1lBQ3pELHNCQUFpQixHQUF5QixJQUFJLENBQUM7WUFDL0MsdUJBQWtCLEdBQW9DLElBQUksQ0FBQztZQUUzRCx3QkFBbUIsR0FBb0MsSUFBSSxDQUFDO1lBQzVELHlCQUFvQixHQUFvQyxJQUFJLENBQUM7WUFDN0QsdUJBQWtCLEdBQW9DLElBQUksQ0FBQztZQUMzRCx3QkFBbUIsR0FBb0MsSUFBSSxDQUFDO1lBRTVELHVCQUFrQixHQUEwQixJQUFJLENBQUM7WUFDakQsd0JBQW1CLEdBQTBCLElBQUksQ0FBQztZQUNsRCxzQkFBaUIsR0FBMEIsSUFBSSxDQUFDO1lBQ2hELHVCQUFrQixHQUEwQixJQUFJLENBQUM7WUFFakQsMEJBQXFCLEdBQXlCLElBQUksQ0FBQztZQUNuRCwyQkFBc0IsR0FBeUIsSUFBSSxDQUFDO1lBQ3BELHlCQUFvQixHQUF5QixJQUFJLENBQUM7WUFDbEQsMEJBQXFCLEdBQXlCLElBQUksQ0FBQztZQUVuRCwyQkFBc0IsR0FBMkIsSUFBSSxDQUFDO1lBQ3RELDRCQUF1QixHQUEyQixJQUFJLENBQUM7WUFDdkQsMEJBQXFCLEdBQTJCLElBQUksQ0FBQztZQUNyRCwyQkFBc0IsR0FBMkIsSUFBSSxDQUFDO1lBRXRELHFCQUFnQixHQUFZLEtBQUssQ0FBQztZQUNsQyxzQkFBaUIsR0FBWSxLQUFLLENBQUM7WUFDbkMsb0JBQWUsR0FBWSxLQUFLLENBQUM7WUFDakMscUJBQWdCLEdBQVksS0FBSyxDQUFDO1lBRWxDLHdCQUFtQixHQUFXLEVBQUUsQ0FBQztZQUNqQyx5QkFBb0IsR0FBVyxFQUFFLENBQUM7WUFDbEMsdUJBQWtCLEdBQVcsRUFBRSxDQUFDO1lBQ2hDLHdCQUFtQixHQUFXLEVBQUUsQ0FBQztZQUVqQywwQkFBcUIsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEUsMkJBQXNCLEdBQW9CLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLHlCQUFvQixHQUFvQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyRSwwQkFBcUIsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFFdEUsMkJBQXNCLEdBQW9CLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLDRCQUF1QixHQUFvQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN4RSwwQkFBcUIsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEUsMkJBQXNCLEdBQW9CLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXZFLHdCQUFtQixHQUFzQyxJQUFJLENBQUM7WUFDOUQseUJBQW9CLEdBQXNDLElBQUksQ0FBQztZQUMvRCx1QkFBa0IsR0FBc0MsSUFBSSxDQUFDO1lBQzdELHdCQUFtQixHQUFzQyxJQUFJLENBQUM7WUFDOUQseUJBQW9CLEdBQW9CLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3JFLHVCQUFrQixHQUFvQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNuRSx5QkFBb0IsR0FBVyxDQUFDLENBQUM7WUFDakMsa0JBQWEsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvRCxpQkFBWSxHQUFXLEdBQUcsQ0FBQztZQUUzQixjQUFTLEdBQVcsQ0FBQyxDQUFDO1lBQ3RCLGNBQVMsR0FBVyxDQUFDLENBQUM7WUFDdEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsaUJBQVksR0FBVyxDQUFDLENBQUM7WUFDekIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFDeEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7WUFFeEIsYUFBUSxHQUFXLENBQUMsQ0FBQztZQUNyQixhQUFRLEdBQVcsQ0FBQyxDQUFDO1lBQ3JCLGFBQVEsR0FBVyxDQUFDLENBQUM7WUFDckIsYUFBUSxHQUFXLENBQUMsQ0FBQztZQUNyQixxQkFBZ0IsR0FBVyxDQUFDLENBQUM7WUFtQjNCLHlCQUFvQixHQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLDBCQUFxQixHQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ25DLHdCQUFtQixHQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLHlCQUFvQixHQUFXLENBQUMsQ0FBQyxDQUFDO1lBRWxDLHFCQUFnQixHQUFvQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNqRSxxQkFBZ0IsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDakUsbUJBQWMsR0FBb0IsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDL0QscUJBQWdCLEdBQW9CLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLHFCQUFnQixHQUFXLENBQUMsQ0FBQztRQWlmM0MsQ0FBQztRQTNnQlUsd0JBQXdCLEtBQWMsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLHlCQUF5QixLQUFjLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUN2RSx1QkFBdUIsS0FBYyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO1FBQ25FLHdCQUF3QixLQUFjLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztRQUNyRSwyQkFBMkIsS0FBYSxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7UUFDMUUsNEJBQTRCLEtBQWEsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO1FBQzVFLDBCQUEwQixLQUFhLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztRQUN4RSwyQkFBMkIsS0FBYSxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7UUFDMUUsNkJBQTZCLEtBQXNCLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztRQUN2Riw4QkFBOEIsS0FBc0IsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDO1FBQ3pGLDRCQUE0QixLQUFzQixPQUFPLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7UUFDckYsNkJBQTZCLEtBQXNCLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztRQUN2Riw4QkFBOEIsS0FBc0IsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDO1FBQ3pGLCtCQUErQixLQUFzQixPQUFPLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7UUFDM0YsNkJBQTZCLEtBQXNCLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztRQUN2Riw4QkFBOEIsS0FBc0IsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDO1FBYXRGLEtBQUs7WUFDWCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQzlFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDOUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDeEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFckUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFFcEYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDNUYsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDL0YsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDekYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFFNUYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDbkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFFekYsTUFBTSxnQkFBZ0IsR0FBa0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUN6RixJQUFJLGdCQUFnQixJQUFJLElBQUksRUFBRSxDQUFDO2dCQUMzQixJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDN0YsQ0FBQztZQUVELElBQUksSUFBSSxDQUFDLGdCQUFnQixLQUFLLElBQUk7Z0JBQUUsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFFN0YsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGdDQUFnQyxDQUFDLENBQUM7WUFDckUsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUN6QixNQUFNLGFBQWEsR0FBMEIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGdDQUFnQyxDQUFDLENBQUM7Z0JBQ3ZHLElBQUksYUFBYSxJQUFJLElBQUksRUFBRSxDQUFDO29CQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLGFBQWEsRUFBRSxnQ0FBZ0MsQ0FBQyxDQUFDO2dCQUN2SCxDQUFDO3FCQUFNLENBQUM7b0JBQ0osMkdBQTJHO2dCQUMvRyxDQUFDO1lBQ0wsQ0FBQztZQUVELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLDZCQUE2QixDQUFDLENBQUM7WUFDM0UsSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksSUFBSTtnQkFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsNENBQTRDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUVqSixNQUFNLGlCQUFpQixHQUFvQyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDaEcsSUFBSSxpQkFBaUIsSUFBSSxJQUFJLElBQUksaUJBQWlCLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLEtBQUssRUFBRSxFQUFFLENBQUM7Z0JBQy9GLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUEwQixDQUFDO1lBQzFJLENBQUM7WUFFRCxNQUFNLGdCQUFnQixHQUFXLENBQUMsSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDaEwsTUFBTSxrQkFBa0IsR0FBVyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzFMLE1BQU0sa0JBQWtCLEdBQVcsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUM5TCxNQUFNLG1CQUFtQixHQUFXLENBQUMsSUFBSSxDQUFDLG9CQUFvQixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDbk0sTUFBTSxpQkFBaUIsR0FBVyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ3pMLE1BQU0sa0JBQWtCLEdBQVcsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUM5TCxJQUFJLGdCQUFnQixJQUFJLElBQUksRUFBRSxDQUFDO2dCQUMzQixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBeUIsQ0FBQztnQkFDOUgsSUFBSSxJQUFJLENBQUMsZUFBZSxJQUFJLElBQUksRUFBRSxDQUFDO29CQUMvQixJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7Z0JBQzNDLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxrQkFBa0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBeUIsQ0FBQztnQkFDbEksSUFBSSxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQ2pDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO2dCQUM3QyxDQUFDO1lBQ0wsQ0FBQztZQUNELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUMzRyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLGtCQUFtQixDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDekssSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDNUQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sR0FBUyxJQUFJLENBQUMsa0JBQW1CLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztnQkFDdEcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDbkUsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxVQUFVLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDL0gsQ0FBQztZQUNELElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM3RyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLG1CQUFvQixDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDM0ssSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDN0QsSUFBSSxDQUFDLHNCQUFzQixDQUFDLE1BQU0sR0FBUyxJQUFJLENBQUMsbUJBQW9CLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztnQkFDekcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDcEUsSUFBSSxDQUFDLHVCQUF1QixHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxVQUFVLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDakksQ0FBQztZQUNELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN6RyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLGlCQUFrQixDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDdkssSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDM0QsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sR0FBUyxJQUFJLENBQUMsaUJBQWtCLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztnQkFDbkcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDbEUsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxVQUFVLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDN0gsQ0FBQztZQUNELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUMzRyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLGtCQUFtQixDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDekssSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDNUQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sR0FBUyxJQUFJLENBQUMsa0JBQW1CLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztnQkFDdEcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDbkUsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxVQUFVLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDL0gsQ0FBQztZQUNELEtBQUs7WUFDTCwyQkFBMkI7WUFDM0IsS0FBSztZQUNMLElBQUksSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksSUFBSTtnQkFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLDZCQUE2QixDQUFDLENBQUM7WUFDdk0sSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxpQkFBaUIsSUFBSSxJQUFJO2dCQUFFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsNkJBQTZCLENBQUMsQ0FBQztZQUNyTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUk7Z0JBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO1lBQ3pNLElBQUksSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksSUFBSTtnQkFBRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLDZCQUE2QixDQUFDLENBQUM7WUFDdk0sSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSTtnQkFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsMENBQTBDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqSixDQUFDO1FBRVMsS0FBSztZQUNYLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN4RCxDQUFDO1FBRVMsTUFBTTtZQUNaLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztnQkFDcEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBUSxRQUFRO2dCQUM1RyxJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFRLFFBQVE7Z0JBQzVHLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQU0sVUFBVTtnQkFDOUcsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBTSxVQUFVO2dCQUM5RyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFNLFVBQVU7Z0JBQzlHLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQU0sVUFBVTtnQkFDOUcsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBTSxVQUFVO2dCQUM5RyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFNLFVBQVU7Z0JBQzlHLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQU0sVUFBVTtnQkFDOUcsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBTSxVQUFVO2dCQUM5RyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFLLFVBQVU7Z0JBQzlHLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUssVUFBVTtnQkFDOUcsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBSSxXQUFXO1lBQ25ILENBQUM7WUFDRCxJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztRQUNuQyxDQUFDO1FBRVMsT0FBTztZQUNiLGdDQUFnQztRQUNwQyxDQUFDO1FBRUQsOEhBQThIO1FBQzlILDJCQUEyQjtRQUMzQiw4SEFBOEg7UUFFcEgsdUJBQXVCO1lBQzdCLGlLQUFpSztZQUNqSyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3RGLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQztZQUNsRixJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDbEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUMxRCxJQUFJLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFDdEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUMvRCxDQUFDO2lCQUFNLENBQUM7Z0JBQ0osSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLENBQUM7WUFDRCxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDOUQsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7WUFDNUIsS0FBSztZQUNMLHlCQUF5QjtZQUN6QixLQUFLO1lBQ0wsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ2xDLElBQUksSUFBSSxDQUFDLGtCQUFrQixJQUFJLElBQUksRUFBRSxDQUFDO29CQUNsQyxNQUFNLGVBQWUsR0FBa0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFlBQVksRUFBRSxDQUFDO29CQUM5RSxJQUFJLGVBQWUsSUFBSSxJQUFJO3dCQUFFLGVBQWUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNqRixDQUFDO1lBQ0wsQ0FBQztZQUVELE1BQU0saUJBQWlCLEdBQWdDLElBQUksQ0FBQyxrQkFBbUIsQ0FBQyxPQUFPLENBQUM7WUFDeEYsTUFBTSxpQkFBaUIsR0FBZ0MsSUFBSSxDQUFDLG1CQUFvQixDQUFDLE9BQU8sQ0FBQztZQUN6RixNQUFNLGlCQUFpQixHQUFnQyxJQUFJLENBQUMsaUJBQWtCLENBQUMsT0FBTyxDQUFDO1lBQ3ZGLE1BQU0saUJBQWlCLEdBQWdDLElBQUksQ0FBQyxrQkFBbUIsQ0FBQyxPQUFPLENBQUM7WUFFeEYsSUFBSSxpQkFBaUIsSUFBSSxJQUFJLElBQUksaUJBQWlCLENBQUMsa0JBQWtCLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQzVFLE1BQU0sZ0JBQWdCLEdBQXVCLE9BQU8sQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN4RyxPQUFPLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLEVBQUUsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNySSxDQUFDO1lBQ0QsSUFBSSxpQkFBaUIsSUFBSSxJQUFJLElBQUksaUJBQWlCLENBQUMsa0JBQWtCLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQzVFLE1BQU0sZ0JBQWdCLEdBQXVCLE9BQU8sQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN4RyxPQUFPLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLEVBQUUsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNySSxDQUFDO1lBQ0QsSUFBSSxpQkFBaUIsSUFBSSxJQUFJLElBQUksaUJBQWlCLENBQUMsa0JBQWtCLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQzVFLE1BQU0sZ0JBQWdCLEdBQXVCLE9BQU8sQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN4RyxPQUFPLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLEVBQUUsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNySSxDQUFDO1lBQ0QsSUFBSSxpQkFBaUIsSUFBSSxJQUFJLElBQUksaUJBQWlCLENBQUMsa0JBQWtCLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQzVFLE1BQU0sZ0JBQWdCLEdBQXVCLE9BQU8sQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN4RyxPQUFPLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLEVBQUUsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNySSxDQUFDO1lBQ0QsS0FBSztZQUNMLDBCQUEwQjtZQUMxQixLQUFLO1lBQ0wsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNqRSxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUNoRCxJQUFJLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQztnQkFBRSxJQUFJLENBQUMsb0JBQW9CLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUN4RSxLQUFLO1lBQ0wsMEJBQTBCO1lBQzFCLEtBQUs7WUFDTCxJQUFJLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDekQsTUFBTSxXQUFXLEdBQVcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNqRyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsUUFBQSxlQUFlLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7Z0JBQ2hLLElBQUksSUFBSSxDQUFDLHNCQUFzQixJQUFJLElBQUksRUFBRSxDQUFDO29CQUN0QyxJQUFJLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLEVBQUUsS0FBSyxLQUFLLEVBQUUsQ0FBQzt3QkFDcEQsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssRUFBRSxDQUFBO29CQUN2QyxDQUFDO29CQUNELE1BQU0sUUFBUSxHQUFXLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztvQkFDN0QsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsUUFBUSxDQUFDO29CQUM1RSxJQUFJLENBQUMsc0JBQXNCLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxRQUFRLEdBQUcsR0FBRyxDQUFDO29CQUMzRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxRQUFRLEdBQUcsR0FBRyxDQUFDO2dCQUMvRCxDQUFDO1lBQ0wsQ0FBQztpQkFBTSxDQUFDO2dCQUNKLElBQUksSUFBSSxDQUFDLHNCQUFzQixJQUFJLElBQUk7b0JBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7Z0JBQ2xGLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNuQyxDQUFDO1lBQ0QsS0FBSztZQUNMLDJCQUEyQjtZQUMzQixLQUFLO1lBQ0wsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQzFELE1BQU0sV0FBVyxHQUFXLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDakcsSUFBSSxDQUFDLHFCQUFxQixHQUFHLFFBQUEsZUFBZSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsdUJBQXVCLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO2dCQUNwSyxJQUFJLElBQUksQ0FBQyx1QkFBdUIsSUFBSSxJQUFJLEVBQUUsQ0FBQztvQkFDdkMsSUFBSSxJQUFJLENBQUMsdUJBQXVCLENBQUMsU0FBUyxFQUFFLEtBQUssS0FBSyxFQUFFLENBQUM7d0JBQ3JELElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtvQkFDeEMsQ0FBQztvQkFDRCxNQUFNLFFBQVEsR0FBVyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7b0JBQzdELElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFFBQVEsQ0FBQztvQkFDN0UsSUFBSSxDQUFDLHVCQUF1QixDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsUUFBUSxHQUFHLEdBQUcsQ0FBQztvQkFDNUQsSUFBSSxDQUFDLHVCQUF1QixDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsUUFBUSxHQUFHLEdBQUcsQ0FBQztnQkFDaEUsQ0FBQztZQUNMLENBQUM7aUJBQU0sQ0FBQztnQkFDSixJQUFJLElBQUksQ0FBQyx1QkFBdUIsSUFBSSxJQUFJO29CQUFFLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2dCQUNwRixJQUFJLENBQUMscUJBQXFCLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDcEMsQ0FBQztZQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7WUFDakMsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN2QixJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztnQkFDeEMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUM7WUFDNUMsQ0FBQztZQUNELElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLENBQUMsNEJBQTRCO1lBQ25ELElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLENBQUMsNEJBQTRCO1lBQ25ELEtBQUs7WUFDTCx5QkFBeUI7WUFDekIsS0FBSztZQUNMLElBQUksSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsS0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDeEQsTUFBTSxXQUFXLEdBQVcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNqRyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsUUFBQSxlQUFlLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7Z0JBQzVKLElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLElBQUksRUFBRSxDQUFDO29CQUNyQyxJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLEVBQUUsS0FBSyxLQUFLLEVBQUUsQ0FBQzt3QkFDbkQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssRUFBRSxDQUFBO29CQUN0QyxDQUFDO29CQUNELE1BQU0sUUFBUSxHQUFXLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztvQkFDN0QsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsUUFBUSxDQUFDO29CQUMzRSxJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxRQUFRLEdBQUcsR0FBRyxDQUFDO29CQUMxRCxJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxRQUFRLEdBQUcsR0FBRyxDQUFDO2dCQUM5RCxDQUFDO1lBQ0wsQ0FBQztpQkFBTSxDQUFDO2dCQUNKLElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLElBQUk7b0JBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7Z0JBQ2hGLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNsQyxDQUFDO1lBQ0QsS0FBSztZQUNMLDBCQUEwQjtZQUMxQixLQUFLO1lBQ0wsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ3pELE1BQU0sV0FBVyxHQUFXLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDakcsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFFBQUEsZUFBZSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsc0JBQXNCLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2dCQUNoSyxJQUFJLElBQUksQ0FBQyxzQkFBc0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztvQkFDdEMsSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsU0FBUyxFQUFFLEtBQUssS0FBSyxFQUFFLENBQUM7d0JBQ3BELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtvQkFDdkMsQ0FBQztvQkFDRCxNQUFNLFFBQVEsR0FBVyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7b0JBQzdELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFFBQVEsQ0FBQztvQkFDNUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsUUFBUSxHQUFHLEdBQUcsQ0FBQztvQkFDM0QsSUFBSSxDQUFDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsUUFBUSxHQUFHLEdBQUcsQ0FBQztnQkFDL0QsQ0FBQztZQUNMLENBQUM7aUJBQU0sQ0FBQztnQkFDSixJQUFJLElBQUksQ0FBQyxzQkFBc0IsSUFBSSxJQUFJO29CQUFFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2dCQUNsRixJQUFJLENBQUMsb0JBQW9CLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbkMsQ0FBQztZQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7WUFDakMsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN2QixJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztnQkFDeEMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUM7WUFDNUMsQ0FBQztZQUVELDJDQUEyQztZQUMzQyx3QkFBd0I7WUFDeEIsMkNBQTJDO1lBQzNDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7WUFDMUIsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDakYsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDakYsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDakYsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDakYsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ2xDLElBQUksSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksRUFBRSxDQUFDO29CQUNoQyxNQUFNLGFBQWEsR0FBa0IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRSxDQUFDO29CQUMxRSxJQUFJLGFBQWEsSUFBSSxJQUFJO3dCQUFFLGFBQWEsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7Z0JBQ3BGLENBQUM7WUFDTCxDQUFDO1lBRUQsMkNBQTJDO1lBQzNDLDhCQUE4QjtZQUM5QiwyQ0FBMkM7WUFFM0MsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ2hDLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixJQUFJLElBQUksRUFBRSxDQUFDO29CQUNuRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNsSCxDQUFDO2dCQUNELE1BQU0saUJBQWlCLEdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUM5RSxNQUFNLGlCQUFpQixHQUFXLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQzdFLE1BQU0sS0FBSyxHQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM3RSxNQUFNLEtBQUssR0FBVyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDN0UsTUFBTSxLQUFLLEdBQVcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdFLE9BQU8sQ0FBQyxVQUFVLENBQUMsb0JBQW9CLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDM0csQ0FBQztZQUNELElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJO2dCQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFFcEYsMkNBQTJDO1lBQzNDLCtCQUErQjtZQUMvQiwyQ0FBMkM7WUFDM0MsSUFBSSxJQUFJLENBQUMsZUFBZSxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUMvQixJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDMUQsQ0FBQztZQUVELDJDQUEyQztZQUMzQywrQkFBK0I7WUFDL0IsMkNBQTJDO1lBQzNDLElBQUksSUFBSSxDQUFDLGlCQUFpQixJQUFJLElBQUksRUFBRSxDQUFDO2dCQUNqQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUM5RCxDQUFDO1lBRUQsMkNBQTJDO1lBQzNDLHdCQUF3QjtZQUN4QiwyQ0FBMkM7WUFDM0MsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUN2RyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsQ0FBQyxDQUFDO1lBQ2xDLENBQUM7UUFDTCxDQUFDO1FBRU8sb0JBQW9CO1lBQ3hCLElBQUksT0FBTyxHQUFxQyxJQUFJLENBQUM7WUFDckQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQztZQUM5QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO1lBQy9CLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO1lBQzdCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7WUFDOUIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztZQUM5QixJQUFJLENBQUMsb0JBQW9CLEdBQUcsRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxFQUFFLENBQUM7WUFDN0IsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztZQUM5QixJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDeEMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDeEMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMxQyxJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDeEMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLEtBQUs7WUFDTCwrQkFBK0I7WUFDL0IsS0FBSztZQUNMLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztZQUN2RyxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1lBQ2xKLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDNUQsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUMxRCw2QkFBNkI7WUFDN0Isa0pBQWtKO1lBQ2xKLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxJQUFJLElBQUksT0FBTyxDQUFDLGVBQWUsSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDLGVBQWUsQ0FBQyxNQUFNLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ3ZHLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDeEcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzVELENBQUM7WUFDRCw4QkFBOEI7WUFDOUIsSUFBSSxPQUFPLENBQUMsbUJBQW1CLENBQUMsZUFBZSxLQUFLLElBQUksRUFBRSxDQUFDO2dCQUN2RCxJQUFJLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxJQUFJO29CQUFFLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNqSyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDakMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO2dCQUM5RyxDQUFDO3FCQUFNLENBQUM7b0JBQ0osSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7Z0JBQ25ILENBQUM7WUFDTCxDQUFDO1lBQ0QsS0FBSztZQUNMLGdDQUFnQztZQUNoQyxLQUFLO1lBQ0wsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQ3hHLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFDbkosSUFBSSxDQUFDLG9CQUFvQixDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzFELDhCQUE4QjtZQUM5QixrSkFBa0o7WUFDbEosSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLElBQUksSUFBSSxPQUFPLENBQUMsZUFBZSxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDdkcsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztnQkFDOUIsSUFBSSxDQUFDLG9CQUFvQixHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN6RyxJQUFJLENBQUMsc0JBQXNCLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDdkQsSUFBSSxDQUFDLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDN0QsQ0FBQztZQUNELCtCQUErQjtZQUMvQixJQUFJLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxlQUFlLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ3ZELElBQUksSUFBSSxDQUFDLG9CQUFvQixJQUFJLElBQUk7b0JBQUUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3BLLElBQUksSUFBSSxDQUFDLGlCQUFpQixLQUFLLElBQUksRUFBRSxDQUFDO29CQUNsQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7Z0JBQy9HLENBQUM7cUJBQU0sQ0FBQztvQkFDSixJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztnQkFDcEgsQ0FBQztZQUNMLENBQUM7WUFDRCxLQUFLO1lBQ0wsOEJBQThCO1lBQzlCLEtBQUs7WUFDTCxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDdEcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUNqSixJQUFJLENBQUMsb0JBQW9CLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzVELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDMUQsNEJBQTRCO1lBQzVCLGtKQUFrSjtZQUNsSixJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssSUFBSSxJQUFJLE9BQU8sQ0FBQyxlQUFlLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxlQUFlLENBQUMsTUFBTSxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUN2RyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztnQkFDNUIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN2RyxJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDckQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDM0QsQ0FBQztZQUNELDZCQUE2QjtZQUM3QixJQUFJLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxlQUFlLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ3ZELElBQUksSUFBSSxDQUFDLGtCQUFrQixJQUFJLElBQUk7b0JBQUUsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzlKLElBQUksSUFBSSxDQUFDLGVBQWUsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDaEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO2dCQUM3RyxDQUFDO3FCQUFNLENBQUM7b0JBQ0osSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7Z0JBQ2xILENBQUM7WUFDTCxDQUFDO1lBQ0QsS0FBSztZQUNMLCtCQUErQjtZQUMvQixLQUFLO1lBQ0wsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQ3ZHLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFDbEosSUFBSSxDQUFDLG9CQUFvQixDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzFELDZCQUE2QjtZQUM3QixrSkFBa0o7WUFDbEosSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLElBQUksSUFBSSxPQUFPLENBQUMsZUFBZSxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDdkcsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztnQkFDN0IsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN4RyxJQUFJLENBQUMscUJBQXFCLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDdEQsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDNUQsQ0FBQztZQUNELDhCQUE4QjtZQUM5QixJQUFJLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxlQUFlLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ3ZELElBQUksSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUk7b0JBQUUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ2pLLElBQUksSUFBSSxDQUFDLGdCQUFnQixLQUFLLElBQUksRUFBRSxDQUFDO29CQUNqQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7Z0JBQzlHLENBQUM7cUJBQU0sQ0FBQztvQkFDSixJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztnQkFDbkgsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRU8seUJBQXlCLENBQUMsSUFBWSxFQUFFLE9BQTZCO1lBQ3pFLE1BQU0sTUFBTSxHQUFHLElBQUksT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNuRSxNQUFNLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUM7WUFDN0QsTUFBTSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFBO1lBQzFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1lBQ3pCLE1BQU0sQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1lBQ3BCLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBRTFCLHdCQUF3QjtZQUN4QixNQUFNLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztZQUNyQixNQUFNLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztZQUNyQixNQUFNLENBQUMsZUFBZSxHQUFHLENBQUMsR0FBRyxDQUFDO1lBQzlCLE1BQU0sQ0FBQyxlQUFlLEdBQUcsR0FBRyxDQUFDO1lBRTdCLHVGQUF1RjtZQUN2RixNQUFNLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztZQUN6QixNQUFNLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztZQUV6Qix5UEFBeVA7WUFDelAsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNqQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDckMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUV0QywyRUFBMkU7WUFDM0UsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxVQUFVLEdBQUcsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyRCxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDckQsTUFBTSxDQUFDLFVBQVUsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwRCxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRWpELDBGQUEwRjtZQUMxRixNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDeEUsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3hFLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBRWhGLGtKQUFrSjtZQUNsSix5R0FBeUc7WUFDekcsK0dBQStHO1lBQy9HLDhHQUE4RztZQUM5RywwSEFBMEg7WUFFMUgsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQzs7SUEzbUJjLG1DQUFlLEdBQVksS0FBSyxBQUFqQixDQUFrQixDQUFDLG1DQUFtQztJQUQzRSwyQkFBbUIsc0JBNm1CL0IsQ0FBQTtBQUNMLENBQUMsRUFubkJNLE9BQU8sS0FBUCxPQUFPLFFBbW5CYjtBQ25uQkQsSUFBTyxPQUFPLENBbVNiO0FBblNELFdBQU8sT0FBTztJQUNWOzs7T0FHRztJQUNILE1BQWEsZUFBZTtRQUE1QjtZQUNXLFFBQUcsR0FBb0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUM5QyxXQUFNLEdBQW9CLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDakQsWUFBTyxHQUFvQixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2xELFNBQUksR0FBb0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUMvQyxTQUFJLEdBQW9CLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDL0MsY0FBUyxHQUFXLEdBQUcsQ0FBQztZQUN4QixjQUFTLEdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsQ0FBQztLQUFBO0lBUlksdUJBQWUsa0JBUTNCLENBQUE7SUFDRDs7O09BR0c7SUFDSCxNQUFhLGVBQWdCLFNBQVEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxlQUFlO1FBMkJoRSxZQUFtQixTQUFnQyxFQUFFLEtBQW9CLEVBQUUsYUFBa0IsRUFBRTtZQUMzRixLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztZQUNwQyxlQUFlLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN2RixlQUFlLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxFQUFFLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNqSSxlQUFlLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUMxRixlQUFlLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNoRyxlQUFlLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsZUFBZSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ2xHLGVBQWUsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsZUFBZSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ2hHLGVBQWUsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxlQUFlLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDcEcsZUFBZSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNqRyxlQUFlLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxlQUFlLENBQUMsWUFBWSxHQUFHLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNyRyxDQUFDO1FBRVMsS0FBSyxLQUFXLGVBQWUsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLE1BQU0sS0FBVyxlQUFlLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFOUQsTUFBTSxDQUFDLGtCQUFrQixDQUFDLEdBQW9CLEVBQUUsTUFBdUIsRUFBRSxTQUFpQixFQUFFLFNBQWlCO1lBQ2hILElBQUksZUFBZSxDQUFDLFlBQVksSUFBSSxJQUFJO2dCQUFFLE9BQU8sSUFBSSxDQUFDO1lBQ3RELGVBQWUsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDN0MsZUFBZSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM3QyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzlDLEtBQUs7WUFDTCxJQUFJLFNBQVMsR0FBRyxHQUFHO2dCQUFFLFNBQVMsR0FBRyxHQUFHLENBQUM7aUJBQ2hDLElBQUksU0FBUyxHQUFHLEdBQUc7Z0JBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQztZQUN0QyxLQUFLO1lBQ0wsSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ2hCLEdBQUcsQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBQ3BHLE1BQU0sV0FBVyxHQUFXLGVBQWUsQ0FBQyxlQUFlLENBQUMsYUFBYSxFQUFFLENBQUM7Z0JBQzVFLElBQUksV0FBVyxHQUFHLGVBQWUsQ0FBQyxnQkFBZ0I7b0JBQUUsT0FBTyxTQUFTLENBQUM7WUFDekUsQ0FBQztZQUNELEtBQUs7WUFDTCxNQUFNLFVBQVUsR0FBb0IsZUFBZSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNwRyxNQUFNLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxhQUFhLEVBQUUsZUFBZSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2xGLEdBQUcsQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLGVBQWUsRUFBRSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUQsVUFBVSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbkMsVUFBVSxDQUFDLFNBQVMsR0FBRyxDQUFDLFNBQVMsR0FBRyxlQUFlLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDbkUsVUFBVSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7WUFDakMsS0FBSztZQUNMLElBQUksU0FBUyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ2xCLE1BQU0sV0FBVyxHQUFvQixlQUFlLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ2pGLFVBQVUsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsZUFBZSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUMvRSxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUFFLE1BQU0sRUFBRSxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFDdEcsZUFBZSxDQUFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFDbEYsS0FBSztnQkFDTCxlQUFlLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxVQUFVLEdBQUcsR0FBRyxFQUFFLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO2dCQUMvRyxVQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMzRSxVQUFVLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNoRixVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDdEksS0FBSztnQkFDTCxJQUFJLFdBQVcsQ0FBQyxTQUFTLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztvQkFDL0IsVUFBVSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLGdCQUFnQixFQUFFLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDNUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLGdCQUFnQixFQUFFLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDakYsV0FBVyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNyRCxDQUFDO1lBQ0wsQ0FBQztZQUNELEtBQUs7WUFDTCxlQUFlLENBQUMscUJBQXFCLEVBQUUsQ0FBQztZQUN4QyxNQUFNLFFBQVEsR0FBVyxlQUFlLENBQUMsYUFBYSxDQUFDO1lBQ3ZELGVBQWUsQ0FBQyxhQUFhLEdBQUcsRUFBRSxlQUFlLENBQUMsYUFBYSxHQUFHLGVBQWUsQ0FBQyxTQUFTLENBQUM7WUFDNUYsT0FBTyxRQUFRLENBQUM7UUFDcEIsQ0FBQztRQUNPLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxLQUFvQjtZQUNyRCxJQUFJLGVBQWUsQ0FBQyxZQUFZLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ3ZDLE1BQU0sZ0JBQWdCLEdBQTZCLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUMzRyxnQkFBZ0IsQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO2dCQUN6QyxnQkFBZ0IsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO2dCQUN4QyxnQkFBZ0IsQ0FBQyxhQUFhLEdBQUcsZUFBZSxDQUFDLFVBQVUsQ0FBQztnQkFDNUQsZ0JBQWdCLENBQUMsWUFBWSxHQUFHLGVBQWUsQ0FBQyxVQUFVLENBQUM7Z0JBQzNELGdCQUFnQixDQUFDLGNBQWMsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDL0csSUFBSSxnQkFBZ0IsQ0FBQyxjQUFjLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQzFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO29CQUNoRCxnQkFBZ0IsQ0FBQywwQkFBMEIsR0FBRyxJQUFJLENBQUM7Z0JBQ3ZELENBQUM7Z0JBQ0QsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQzFCLGVBQWUsQ0FBQyxZQUFZLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDdkUsZUFBZSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsZ0JBQWdCLENBQUM7Z0JBQ3pELGVBQWUsQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztnQkFDL0YsZUFBZSxDQUFDLFlBQVksQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLENBQUM7Z0JBQzdELGVBQWUsQ0FBQyxZQUFZLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO2dCQUMxRCxlQUFlLENBQUMsWUFBWSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUM7Z0JBQ3BELGVBQWUsQ0FBQyxZQUFZLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztnQkFDckQsZUFBZSxDQUFDLFlBQVksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO2dCQUNwRCxlQUFlLENBQUMsWUFBWSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7Z0JBQ25ELGVBQWUsQ0FBQyxZQUFZLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztnQkFDaEQsS0FBSztnQkFDTCxvQ0FBb0M7Z0JBQ3BDLEtBQUs7Z0JBQ0wsZUFBZSxDQUFDLGdCQUFnQixHQUFHLElBQUksS0FBSyxDQUFrQixlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ3pGLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7b0JBQy9ELGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO2dCQUNoRSxDQUFDO2dCQUNELEtBQUs7Z0JBQ0wsb0NBQW9DO2dCQUNwQyxLQUFLO2dCQUNMLGVBQWUsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLFlBQVksQ0FBQyxlQUFlLENBQUMsU0FBUyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDMUYsZUFBZSxDQUFDLGlCQUFpQixHQUFHLElBQUksWUFBWSxDQUFDLGVBQWUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN4RixlQUFlLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxZQUFZLENBQUMsZUFBZSxDQUFDLFNBQVMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pGLGVBQWUsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLFlBQVksQ0FBQyxlQUFlLENBQUMsU0FBUyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDdkYsZUFBZSxDQUFDLGFBQWEsR0FBRyxJQUFJLFlBQVksQ0FBQyxlQUFlLENBQUMsU0FBUyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDcEYsZUFBZSxDQUFDLGlCQUFpQixHQUFHLElBQUksVUFBVSxDQUFDLGVBQWUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xGLEtBQUs7Z0JBQ0wsdUNBQXVDO2dCQUN2QyxLQUFLO2dCQUNMLE1BQU0sVUFBVSxHQUFHLElBQUksT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDO2dCQUM1QyxVQUFVLENBQUMsU0FBUyxHQUFHLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQztnQkFDM0QsVUFBVSxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUMsaUJBQWlCLENBQUM7Z0JBQ3ZELFVBQVUsQ0FBQyxRQUFRLEdBQUcsZUFBZSxDQUFDLGtCQUFrQixDQUFDO2dCQUN6RCxVQUFVLENBQUMsTUFBTSxHQUFHLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQztnQkFDckQsVUFBVSxDQUFDLEdBQUcsR0FBRyxlQUFlLENBQUMsYUFBYSxDQUFDO2dCQUMvQyxVQUFVLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDdkQsVUFBVSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUMzRCxlQUFlLENBQUMsWUFBWSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDckQsQ0FBQztRQUNMLENBQUM7UUFDTyxNQUFNLENBQUMscUJBQXFCO1lBQ2hDLE1BQU0sSUFBSSxHQUFvQixlQUFlLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzlGLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUM7Z0JBQUUsT0FBTztZQUNsQyxNQUFNLElBQUksR0FBb0IsZUFBZSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRSxlQUFlLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztZQUN2QyxLQUFLO1lBQ0wsbUNBQW1DO1lBQ25DLEtBQUs7WUFDTCxJQUFJLEtBQUssR0FBVyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUQsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUs7WUFDTCxpQ0FBaUM7WUFDakMsS0FBSztZQUNMLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMs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QixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4RCxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNuRSxLQUFLLEdBQUcsZUFBZSxDQUFDLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ2xELGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDeEQsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4RCxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNuRSxLQUFLLEdBQUcsZUFBZSxDQUFDLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ2xELGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDeEQsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4RCxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFD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QUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDbkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDekYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDNUYsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDL0YsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDekYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDNUYsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDdEcsSUFBSSxDQUFDLHVCQUF1QixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFDekcsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDbkcsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDdEcsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDbkcsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDekYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JB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Q0FBQztZQUM3RixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMxRixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMxRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMxRixJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUM3RixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztZQUNoRyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsb0JBQW9CLEdB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QVksRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDeEUsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxJ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UyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMzRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMzRSxJQUFJLENBQUMsV0FBVyxHQUFHLElB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QXNEOztZQUU5Qyx3QkFBbUIsR0FBd0MsSUFBSSxDQUFDO1FBNEM1RSxDQUFDO1FBM0NhLEtBQUs7WUFDWCw2QkFBNkI7WUFDN0IsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMscUNBQXFDLENBQUMsQ0FBQztRQUN4RixDQUFDO1FBRVMsS0FBSztZQUNYLDhCQUE4QjtRQUNsQyxDQUFDO1FBRVMsS0FBSztZQUNYLGlDQUFpQztRQUNyQyxDQUFDO1FBRVMsTUFBTTtZQUNaLGlDQUFpQztZQUNqQyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLENBQUM7UUFDTCxDQUFDO1FBRVMsSUFBSTtZQUNWLHNDQUFzQztRQUMxQyxDQUFDO1FBRVMsSUFBSTtZQUNWLDBFQUEwRTtRQUM5RSxDQUFDO1FBRVMsS0FBSztZQUNYLHlFQUF5RTtRQUM3RSxDQUFDO1FBRVMsS0FBSztZQUNYLHVDQUF1QztRQUMzQyxDQUFDO1FBRVMsS0FBSztZQUNYLDhCQUE4QjtRQUNsQyxDQUFDO1FBRVMsT0FBTztZQUNiLGdDQUFnQztRQUNwQyxDQUFDO0tBQ0o7SUEvQ1ksaUJBQVMsWUErQ3JCLENBQUE7QUFDTCxDQUFDLEVBckRNLE9BQU8sS0FBUCxPQUFPLFFBcURiIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gbmV0d29yayBlbnRpdHkgKENvbHlzZXVzIFVuaXZlcnNhbCBHYW1lIFJvb20pXG4gICAgICogQGNsYXNzIENvbHlzZXVzR2FtZVNlcnZlciAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIENvbHlzZXVzR2FtZVNlcnZlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1BWF9GUkFNRV9SQVRFOiBudW1iZXIgPSAyMDA7XG4gICAgICAgIHB1YmxpYyBwcm9qZWN0TmFtZTogc3RyaW5nID0gXCJHYW1lIFByb2plY3RcIjtcbiAgICAgICAgcHVibGljIGF1dG9Kb2luUm9vbTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJVc2VyTmFtZTogc3RyaW5nID0gXCJQbGF5ZXJcIjtcbiAgICAgICAgcHVibGljIGRlZmF1bHRSb29tTmFtZTogc3RyaW5nID0gXCJkZWZhdWx0XCI7XG4gICAgICAgIHB1YmxpYyByb29tTG9naWNNb2R1bGU6IHN0cmluZyA9IFwiRGVmYXVsdExvZ2ljXCI7XG4gICAgICAgIHB1YmxpYyBtYXhDbGllbnRzQWxsb3dlZDogbnVtYmVyID0gODtcbiAgICAgICAgcHVibGljIHBhdGNoVXBkYXRlUmF0ZUZwczogbnVtYmVyID0gMjA7XG4gICAgICAgIHB1YmxpYyByb29tU2ltdWxhdGVSYXRlRnBzOiBudW1iZXIgPSA2MDtcbiAgICAgICAgcHVibGljIG5ldHdvcmtCdWZmZXJpbmdUaW1lOiBudW1iZXIgPSAwLjE1O1xuXG4gICAgICAgIHByaXZhdGUgc29sb1Nlc3Npb246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjb2x5c2V1c0F2YWlsYWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIG5ldHdvcmtSb29tQ29ubmVjdGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaG9zdFNlc3Npb25OYW1lOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGpvaW5Sb29tSWQ6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2xpZW50OiBDb2x5c2V1cy5DbGllbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTdGF0aWNJbnN0YW5jZTogUFJPSkVDVC5Db2x5c2V1c0dhbWVTZXJ2ZXIgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdldCBJbnN0YW5jZSgpOiBQUk9KRUNULkNvbHlzZXVzR2FtZVNlcnZlciB7IHJldHVybiBQUk9KRUNULkNvbHlzZXVzR2FtZVNlcnZlci5TdGF0aWNJbnN0YW5jZTsgfVxuICAgICAgICBwdWJsaWMgaXNTb2xvU2Vzc2lvbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuc29sb1Nlc3Npb247IH1cbiAgICAgICAgcHVibGljIGlzSG9zdFNlc3Npb24oKTogYm9vbGVhbiB7IHJldHVybiAodGhpcy5ob3N0U2Vzc2lvbk5hbWUgIT0gbnVsbCAmJiB0aGlzLmhvc3RTZXNzaW9uTmFtZSAhPT0gXCJcIik7IH1cbiAgICAgICAgcHVibGljIGdldENvbHlzZXVzQ2xpZW50KCk6IENvbHlzZXVzLkNsaWVudCB7IHJldHVybiB0aGlzLmNsaWVudDsgfVxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHByb3BlcnRpZXM/OiBhbnkpIHtcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgc2NlbmUsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgUFJPSkVDVC5Db2x5c2V1c0dhbWVTZXJ2ZXIuU3RhdGljSW5zdGFuY2UgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSXNBdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29seXNldXNBdmFpbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuTG9nKFwiQ29seXNldXMgbmV0d29yayBsaWJyYXJ5IGxvYWRlZFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2x5c2V1c0F2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkNvbHlzZXVzIG5ldHdvcmsgbGlicmFyeSBub3QgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJTb2xvUGFyYW06IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcInNvbG9cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllclNvbG9QYXJhbSAhPSBudWxsICYmIHBsYXllclNvbG9QYXJhbSAhPT0gXCJcIiAmJiBwbGF5ZXJTb2xvUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJTb2xvUGFyYW0udG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc29sb1Nlc3Npb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x5c2V1c0F2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiQ29seXNldXMgc29sbyBuZXR3b3JrIGdhbWUgcGxheSByZXF1ZXN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyRW5kcG9pbnRQYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwiZW5kcG9pbnRcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJFbmRwb2ludFBhcmFtICE9IG51bGwgJiYgc2VydmVyRW5kcG9pbnRQYXJhbSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyRW5kcG9pbnQ6IHN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChzZXJ2ZXJFbmRwb2ludFBhcmFtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJFbmRwb2ludCAhPSBudWxsICYmIHNlcnZlckVuZHBvaW50ICE9PSBcIlwiICYmIHNlcnZlckVuZHBvaW50ICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQgPSBzZXJ2ZXJFbmRwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJOYW1lUGFyYW06IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcInBsYXllclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllck5hbWVQYXJhbSAhPSBudWxsICYmIHBsYXllck5hbWVQYXJhbSAhPT0gXCJcIiAmJiBwbGF5ZXJOYW1lUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllclVzZXJOYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KHBsYXllck5hbWVQYXJhbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm9vbU5hbWVQYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwicm9vbVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb21OYW1lUGFyYW0gIT0gbnVsbCAmJiByb29tTmFtZVBhcmFtICE9PSBcIlwiICYmIHJvb21OYW1lUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRSb29tTmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChyb29tTmFtZVBhcmFtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0U2Vzc2lvblBhcmFtOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJob3N0XCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdFNlc3Npb25QYXJhbSAhPSBudWxsICYmIGhvc3RTZXNzaW9uUGFyYW0gIT09IFwiXCIgJiYgaG9zdFNlc3Npb25QYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdFNlc3Npb25OYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGhvc3RTZXNzaW9uUGFyYW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW5TZXNzaW9uUGFyYW06IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcImpvaW5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqb2luU2Vzc2lvblBhcmFtICE9IG51bGwgJiYgam9pblNlc3Npb25QYXJhbSAhPT0gXCJcIiAmJiBqb2luU2Vzc2lvblBhcmFtICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luUm9vbUlkID0gZGVjb2RlVVJJQ29tcG9uZW50KGpvaW5TZXNzaW9uUGFyYW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZTQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuT25Kb2luUm9vbU9ic2VydmFibGUuYWRkKCh1c2VyOiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyKSA9PiB7IGNvbnNvbGUud2Fybih1c2VyLm5hbWUgKyBcIiBqb2luZWQgdGhlIFwiICsgdGhpcy5kZWZhdWx0Um9vbU5hbWUudG9Mb3dlckNhc2UoKSArIFwiIHJvb20uXCIpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb2x5c2V1c0F2YWlsYWJsZSA9PT0gdHJ1ZSAmJiB0aGlzLm5ldHdvcmtSb29tQ29ubmVjdGVkID09PSBmYWxzZSAmJiB0aGlzLmF1dG9Kb2luUm9vbSA9PT0gdHJ1ZSAmJiB0aGlzLmlzUmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0b0pvaW5Sb29tID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5qb2luUm9vbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmF1dG9Kb2luUm9vbSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb2x5c2V1c0F2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXR3b3JrUm9vbUNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRSb29tTmFtZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBsYXllclVzZXJOYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhc3luYyBqb2luUm9vbSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhdGNoVXBkYXRlUmF0ZUZwcyA+IFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLk1BWF9GUkFNRV9SQVRFKSB0aGlzLnBhdGNoVXBkYXRlUmF0ZUZwcyA9IFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLk1BWF9GUkFNRV9SQVRFO1xuICAgICAgICAgICAgaWYgKHRoaXMucm9vbVNpbXVsYXRlUmF0ZUZwcyA+IFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLk1BWF9GUkFNRV9SQVRFKSB0aGlzLnJvb21TaW11bGF0ZVJhdGVGcHMgPSBQUk9KRUNULkNvbHlzZXVzR2FtZVNlcnZlci5NQVhfRlJBTUVfUkFURTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2Vic29ja2V0VXJsOiBzdHJpbmcgPSAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5TZXJ2ZXJFbmRQb2ludC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCJodHRwXCIpKSA/IChcIndzXCIgKyBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlNlcnZlckVuZFBvaW50LnN1YnN0cmluZyg0KSkgOiBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlNlcnZlckVuZFBvaW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5TZXJ2ZXJFbmRQb2ludC5lbmRzV2l0aChcIi9cIikpIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlNlcnZlckVuZFBvaW50LnN1YnN0cmluZygwLCAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5TZXJ2ZXJFbmRQb2ludC5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb2plY3ROYW1lID09IG51bGwgfHwgdGhpcy5wcm9qZWN0TmFtZSA9PT0gXCJcIikgdGhpcy5wcm9qZWN0TmFtZSA9IFwiR2FtZSBQcm9qZWN0XCI7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4gU2VydmVyIEVuZHBvaW50OiBcIiArIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj4+PiBXZWIgU29ja2V0IFVybDogXCIgKyB3ZWJzb2NrZXRVcmwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj4+PiBNYXggQ2xpZW50czogXCIgKyB0aGlzLm1heENsaWVudHNBbGxvd2VkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4gUm9vbSBOYW1lOiBcIiArIHRoaXMuZGVmYXVsdFJvb21OYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI+Pj4gVXNlciBOYW1lOiBcIiArIHRoaXMucGxheWVyVXNlck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj4+PiBIb3N0IERlc2M6IFwiICsgdGhpcy5ob3N0U2Vzc2lvbk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj4+PiBKb2luIFJvb206IFwiICsgdGhpcy5qb2luUm9vbUlkKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgcm9vbTogQkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudCA9PSBudWxsKSB0aGlzLmNsaWVudCA9IG5ldyBDb2x5c2V1cy5DbGllbnQod2Vic29ja2V0VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9zdFNlc3Npb25OYW1lICE9IG51bGwgJiYgdGhpcy5ob3N0U2Vzc2lvbk5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjZW5lRmlsZTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRTY2VuZUZpbGUodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb29tID0gYXdhaXQgdGhpcy5jbGllbnQuY3JlYXRlPEJBQllMT04uSUNvbHlzZXVzUm9vbVN0YXRlPih0aGlzLmRlZmF1bHRSb29tTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLnBsYXllclVzZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21Mb2dpYzogdGhpcy5yb29tTG9naWNNb2R1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q2xpZW50czogdGhpcy5tYXhDbGllbnRzQWxsb3dlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uQnVmZmVyOiB0aGlzLm5ldHdvcmtCdWZmZXJpbmdUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoVXBkYXRlUmF0ZU1zOiAoMTAwMCAvIHRoaXMucGF0Y2hVcGRhdGVSYXRlRnBzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29tU2ltdWxhdGlvbkludGVydmFsTXM6ICgxMDAwIC8gdGhpcy5yb29tU2ltdWxhdGVSYXRlRnBzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YWdyYW1Qcm90b2NvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3NEYXRhUGFja2V0czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogdGhpcy5wcm9qZWN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNsaWVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IHRoaXMuaG9zdFNlc3Npb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcDogc2NlbmVGaWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1eDogXCIqXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuam9pblJvb21JZCAhPSBudWxsICYmIHRoaXMuam9pblJvb21JZCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbSA9IGF3YWl0IHRoaXMuY2xpZW50LmpvaW5CeUlkPEJBQllMT04uSUNvbHlzZXVzUm9vbVN0YXRlPih0aGlzLmpvaW5Sb29tSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogdGhpcy5wbGF5ZXJVc2VyTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5BdHRhY2hEZWZhdWx0Um9vbSh0aGlzLnNjZW5lLCByb29tKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gam9pbiByb29tOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNvbm5lY3Q6IFwiLCBlKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ldHdvcmtSb29tQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQ29seXNldXNOZXR3b3JrQXZhdGFyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQ29seXNldXNOZXR3b3JrQXZhdGFyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCBpbXBsZW1lbnRzIEJBQllMT04uVG9vbGtpdC5JQXNzZXRQcmVsb2FkZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIEZPTlRfUEFERElORzogbnVtYmVyID0gMzY7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSEVJR0hUX1BBRERJTkc6IG51bWJlciA9IDAuMTtcblxuICAgICAgICBwcml2YXRlIGNvbnRyb2xNb2RlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGRlZmF1bHRBdmF0YXI6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbWFsZUFuaW1hdGlvblJpZzogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmZW1hbGVBbmltYXRpb25SaWc6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FzdFJlYWx0aW1lU2hhZG93OiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBkaXNwb3NlT2ZNYW5uZXF1aW46IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgICAgIHByaXZhdGUgcGl4ZWxPZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBpeGVsT2Zmc2V0WTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJKb2luZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBwcmVsb2FkTG9jYXRpb246IHN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYW1iaWVudE1hdGVyaWFsOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLjAsIDEuMCwgMS4wKTtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJBcm1hdHVyZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJTa2VsZXRvbjogQkFCWUxPTi5Ta2VsZXRvbiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYXZhdGFySGFuZG5lc3M6IHN0cmluZyA9IFwiTGVmdFwiO1xuICAgICAgICBwcml2YXRlIGF2YXRhckdlbmRlcjogc3RyaW5nID0gXCJNYWxlXCI7XG4gICAgICAgIHByaXZhdGUgYXZhdGFyTGFiZWw6IHN0cmluZyA9IFwiRGVmYXVsdCBQbGF5ZXJcIjtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJMb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRvcjogQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJSZWFkeTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBtYW5hZ2VMYWJlbFRleHR1cmU6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgdGV4dHVyZVJlc29sdXRpb246IG51bWJlciA9IDUxMjtcbiAgICAgICAgcHVibGljIG1heExhYmVsV2lkdGg6IG51bWJlciA9IDk2MDtcbiAgICAgICAgcHVibGljIG1pbkxhYmVsV2lkdGg6IG51bWJlciA9IDMyMDtcbiAgICAgICAgcHVibGljIGxhYmVsT2Zmc2V0WDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGxhYmVsT2Zmc2V0WTogbnVtYmVyID0gMi4wO1xuICAgICAgICBwdWJsaWMgbGFiZWxIZWlnaHQ6IG51bWJlciA9IDY0O1xuICAgICAgICBwdWJsaWMgbGFiZWxDb2xvcjogQkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMC4wLCAxLjAsIDAuMCk7XG4gICAgICAgIHB1YmxpYyBsYWJlbEFscGhhOiBudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgcmVjdENvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgcHVibGljIHJlY3RBbHBoYTogbnVtYmVyID0gMC42NTtcbiAgICAgICAgcHVibGljIGZvbnRGYW1pbHk6IHN0cmluZyA9IFwiQXJpYWxcIjtcbiAgICAgICAgcHVibGljIGZvbnRTdHlsZTogc3RyaW5nID0gXCJCb2xkXCI7XG4gICAgICAgIHB1YmxpYyBmb250U2l6ZTogbnVtYmVyID0gMzY7XG4gICAgICAgIHB1YmxpYyBmaWxsUmVjdDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRvciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0b3IgPT0gbnVsbCkgQkFCWUxPTi5Ub29scy5XYXJuKFwiRmFpbGVkIHRvIGxvY2F0ZSBhbmlhdGlvbiBzdGF0ZSBjb21wb25lbnQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEF2YXRhckluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiZGVmYXVsdEF2YXRhclwiKTtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0QXZhdGFySW5mbyAhPSBudWxsKSB0aGlzLmRlZmF1bHRBdmF0YXIgPSAoZGVmYXVsdEF2YXRhckluZm8ubmFtZSArIFwiLmdsYlwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1hbGVBbmltYXRpb25JbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1hbGVBbmltYXRpb25SaWdcIik7XG4gICAgICAgICAgICBpZiAobWFsZUFuaW1hdGlvbkluZm8gIT0gbnVsbCkgdGhpcy5tYWxlQW5pbWF0aW9uUmlnID0gKG1hbGVBbmltYXRpb25JbmZvLm5hbWUgKyBcIi5nbGJcIik7XG4gICAgICAgICAgICBjb25zdCBmZW1hbGVBbmltYXRpb25JbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImZlbWFsZUFuaW1hdGlvblJpZ1wiKTtcbiAgICAgICAgICAgIGlmIChmZW1hbGVBbmltYXRpb25JbmZvICE9IG51bGwpIHRoaXMuZmVtYWxlQW5pbWF0aW9uUmlnID0gKGZlbWFsZUFuaW1hdGlvbkluZm8ubmFtZSArIFwiLmdsYlwiKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBTZXR1cCBCcm93c2VyIFBsYXRmb3JtIE9wdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5pc1NhZmFyaUJyb3dzZXIoKSA9PT0gdHJ1ZSkgdGhpcy5waXhlbE9mZnNldFkgPSAwO1xuICAgICAgICAgICAgZWxzZSB0aGlzLnBpeGVsT2Zmc2V0WSA9IDI7IC8vIE5vdGU6IERlZmF1bHQgVHdvIFBpeGVsIE9mZnNldFxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlYWR5KCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbE1vZGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwTG9jYWxQbGF5ZXJBdmF0YXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXZhdGFyUmVhZHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckpvaW5lZCA9PT0gZmFsc2UgJiYgdGhpcy5hdmF0YXJSZWFkeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllckpvaW5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xNb2RlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYW5hZ2VMYWJlbFRleHR1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF2YXRhckxhYmVsID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5HZXRDdXJyZW50VXNlcigpLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVBdmF0YXJMYWJlbCh0aGlzLmF2YXRhckxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRyb2xNb2RlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwUmVtb3RlUGxheWVyQXZhdGFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYW5hZ2VMYWJlbFRleHR1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUF2YXRhckxhYmVsKHRoaXMuYXZhdGFyTGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYXZhdGFyTGFiZWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hdmF0YXJHZW5kZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hdmF0YXJIYW5kbmVzcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmF2YXRhckFybWF0dXJlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYXZhdGFyU2tlbGV0b24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0QXZhdGFyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucHJlbG9hZExvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubWFsZUFuaW1hdGlvblJpZyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZlbWFsZUFuaW1hdGlvblJpZyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGlzU2FmYXJpQnJvd3NlcigpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IgIT0gbnVsbCAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuYXZpZ2F0b3IudmVuZG9yLm1hdGNoKC9hcHBsZS9pKSAmJlxuICAgICAgICAgICAgICAgICAgICAhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvY3Jpb3MvaSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2Z4aW9zL2kpICYmXG4gICAgICAgICAgICAgICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9PcGVyYXxPUFRcXC8vKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNyZWF0ZUF2YXRhckxhYmVsKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKG5hbWUgIT0gbnVsbCAmJiBuYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhbmU6IEJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlUGxhbmUoXCJUZXh0dXJlUGxhbmVcIiwgeyB3aWR0aDogMSwgaGVpZ2h0OiAxIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYW5lTWF0ZXJpYWw6IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5QbGFuZU1hdGVyaWFsXCIpLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEJhY2tncm91bmQgT3BhY2l0eSBUZXh0dXJlXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCBvcGFjaXR5VGV4dHVyZTogQkFCWUxPTi5EeW5hbWljVGV4dHVyZSA9IG5ldyBCQUJZTE9OLkR5bmFtaWNUZXh0dXJlKFwiUGxheWVyVGV4dHVyZVwiLCB7IHdpZHRoOiB0aGlzLnRleHR1cmVSZXNvbHV0aW9uLCBoZWlnaHQ6IHRoaXMudGV4dHVyZVJlc29sdXRpb24gfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3BhY2l0eUN0eDogYW55ID0gb3BhY2l0eVRleHR1cmUuZ2V0Q29udGV4dCgpIGFzIGFueTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb250U3RyaW5nOiBzdHJpbmcgPSB0aGlzLmdldFJlc2l6ZWRGb250U3RyaW5nKG5hbWUsIHRoaXMubWF4TGFiZWxXaWR0aCwgdGhpcy5mb250U2l6ZSwgdGhpcy5mb250RmFtaWx5LCB0aGlzLmZvbnRTdHlsZSk7XG4gICAgICAgICAgICAgICAgb3BhY2l0eUN0eC5mb250ID0gZm9udFN0cmluZzsgLy8gTm90ZTogTXVzdCBCZSBTZXQgQmVmb3JlIE1lYXN1cmluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRXaWR0aDogbnVtYmVyID0gb3BhY2l0eUN0eC5tZWFzdXJlVGV4dChuYW1lKS53aWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBmb250UGFkZGluZzogbnVtYmVyID0gUFJPSkVDVC5Db2x5c2V1c05ldHdvcmtBdmF0YXIuRk9OVF9QQURESU5HO1xuICAgICAgICAgICAgICAgIGxldCByZWN0V2lkdGg6IG51bWJlciA9IChmb250V2lkdGggKyBmb250UGFkZGluZyk7XG4gICAgICAgICAgICAgICAgbGV0IHJlY3RIZWlnaHQ6IG51bWJlciA9IHRoaXMubGFiZWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3RXaWR0aCA8IHRoaXMubWluTGFiZWxXaWR0aCkgcmVjdFdpZHRoID0gdGhpcy5taW5MYWJlbFdpZHRoO1xuICAgICAgICAgICAgICAgIGlmIChyZWN0V2lkdGggPiB0aGlzLm1heExhYmVsV2lkdGgpIHJlY3RXaWR0aCA9IHRoaXMubWF4TGFiZWxXaWR0aDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxsUmVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5Q3R4LmZpbGxTdHlsZSA9IGByZ2JhKDAsIDAsIDAsICR7dGhpcy5yZWN0QWxwaGEudG9TdHJpbmcoKX0pYDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSb3VuZGVkUmVjdCgodGhpcy50ZXh0dXJlUmVzb2x1dGlvbiAqIDAuNSkgLSAocmVjdFdpZHRoICogMC41KSwgKHRoaXMudGV4dHVyZVJlc29sdXRpb24gKiAwLjUpIC0gKHJlY3RIZWlnaHQgKiAwLjUpLCByZWN0V2lkdGgsIHJlY3RIZWlnaHQsIChyZWN0SGVpZ2h0ICogMC41KSwgb3BhY2l0eUN0eCk7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHlDdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcGFjaXR5Q3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAgICAgb3BhY2l0eUN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuICAgICAgICAgICAgICAgIG9wYWNpdHlDdHguZmlsbFN0eWxlID0gYHJnYmEoMCwgMCwgMCwgJHt0aGlzLmxhYmVsQWxwaGEudG9TdHJpbmcoKX0pYDtcbiAgICAgICAgICAgICAgICBvcGFjaXR5Q3R4LmZpbGxUZXh0KG5hbWUsICh0aGlzLnRleHR1cmVSZXNvbHV0aW9uICogMC41KSArIHRoaXMucGl4ZWxPZmZzZXRYLCAodGhpcy50ZXh0dXJlUmVzb2x1dGlvbiAqIDAuNSkgKyB0aGlzLnBpeGVsT2Zmc2V0WSk7XG4gICAgICAgICAgICAgICAgb3BhY2l0eVRleHR1cmUudXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQmFja2dyb3VuZCAmIEZvcmVncm91bmQgQ29sb3JzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvclRleHR1cmU6IEJBQllMT04uRHluYW1pY1RleHR1cmUgPSBuZXcgQkFCWUxPTi5EeW5hbWljVGV4dHVyZShcIlBsYXllclRleHR1cmVDb2xvclwiLCB7IHdpZHRoOiB0aGlzLnRleHR1cmVSZXNvbHV0aW9uLCBoZWlnaHQ6IHRoaXMudGV4dHVyZVJlc29sdXRpb24gfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JDdHg6IGFueSA9IGNvbG9yVGV4dHVyZS5nZXRDb250ZXh0KCkgYXMgYW55O1xuICAgICAgICAgICAgICAgIGNvbG9yQ3R4LmZpbGxTdHlsZSA9IHRoaXMucmVjdENvbG9yLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29sb3JDdHguZmlsbFJlY3QoMCwgMCwgdGhpcy50ZXh0dXJlUmVzb2x1dGlvbiwgdGhpcy50ZXh0dXJlUmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgY29sb3JDdHguZm9udCA9IGZvbnRTdHJpbmc7XG4gICAgICAgICAgICAgICAgY29sb3JDdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICBjb2xvckN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuICAgICAgICAgICAgICAgIGNvbG9yQ3R4LmZpbGxTdHlsZSA9IHRoaXMubGFiZWxDb2xvci50b0hleFN0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbG9yQ3R4LmZpbGxUZXh0KG5hbWUsICh0aGlzLnRleHR1cmVSZXNvbHV0aW9uICogMC41KSArIHRoaXMucGl4ZWxPZmZzZXRYLCAodGhpcy50ZXh0dXJlUmVzb2x1dGlvbiAqIDAuNSkgKyB0aGlzLnBpeGVsT2Zmc2V0WSk7XG4gICAgICAgICAgICAgICAgY29sb3JUZXh0dXJlLnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFBsYW5lIE5hbWUgTGFiZWwgTWF0ZXJpYWwgU2V0dXBcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHBsYW5lTWF0ZXJpYWwuZGlzYWJsZUxpZ2h0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwbGFuZU1hdGVyaWFsLm9wYWNpdHlUZXh0dXJlID0gb3BhY2l0eVRleHR1cmU7XG4gICAgICAgICAgICAgICAgcGxhbmVNYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IGNvbG9yVGV4dHVyZVxuICAgICAgICAgICAgICAgIHBsYW5lTWF0ZXJpYWwuZW1pc3NpdmVUZXh0dXJlID0gY29sb3JUZXh0dXJlO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gUGxhbmUgUG9zaXRpb24gJiBPZmZzZXQgUGFyZW50aW5nXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBwbGFuZS5tYXRlcmlhbCA9IHBsYW5lTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgcGxhbmUuYmlsbGJvYXJkTW9kZSA9IEJBQllMT04uTWVzaC5CSUxMQk9BUkRNT0RFX0FMTDtcbiAgICAgICAgICAgICAgICBwbGFuZS5wb3NpdGlvbi54ID0gdGhpcy5sYWJlbE9mZnNldFg7XG4gICAgICAgICAgICAgICAgcGxhbmUucG9zaXRpb24ueSA9ICh0aGlzLmxhYmVsT2Zmc2V0WSArIFBST0pFQ1QuQ29seXNldXNOZXR3b3JrQXZhdGFyLkhFSUdIVF9QQURESU5HKTtcbiAgICAgICAgICAgICAgICBwbGFuZS5wYXJlbnQgPSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQ7IC8vIEZJWE1FOiBNYXliZSBQYXJlbnQgVG8gTW9kZWwgSGVhZCBCb25lIE9yIFNvbWV0aGluZyAtID8/P1xuICAgICAgICAgICAgICAgIHBsYW5lLnJlbmRlcmluZ0dyb3VwSWQgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkRlZmF1bHRSZW5kZXJHcm91cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVSb3VuZGVkUmVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIsIHI6IG51bWJlciwgY3R4OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh3IDwgMiAqIHIpIHIgPSB3IC8gMjtcbiAgICAgICAgICAgIGlmIChoIDwgMiAqIHIpIHIgPSBoIC8gMjtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIHIsIHkpO1xuICAgICAgICAgICAgY3R4LmFyY1RvKHggKyB3LCB5LCB4ICsgdywgeSArIGgsIHIpO1xuICAgICAgICAgICAgY3R4LmFyY1RvKHggKyB3LCB5ICsgaCwgeCwgeSArIGgsIHIpO1xuICAgICAgICAgICAgY3R4LmFyY1RvKHgsIHkgKyBoLCB4LCB5LCByKTtcbiAgICAgICAgICAgIGN0eC5hcmNUbyh4LCB5LCB4ICsgdywgeSwgcik7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdldFJlc2l6ZWRGb250U3RyaW5nKHRleHQ6IHN0cmluZywgbWF4V2lkdGg6IG51bWJlciwgc3RhcnRpbmdGb250U2l6ZTogbnVtYmVyLCBmb250RmFtaWx5OiBzdHJpbmcgPSBcIkFyaWFsXCIsIGZvbnRTdHlsZTogc3RyaW5nID0gXCJcIik6IHN0cmluZyB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgY29uc3QgbWVhc3VyZUN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgY29uc3QgZ2V0Rm9udFN0cmluZzogRnVuY3Rpb24gPSAoc2l6ZTogc3RyaW5nKSA9PiB7IHJldHVybiBgJHtmb250U3R5bGV9JHsoZm9udFN0eWxlID09PSBcIlwiKSA/IFwiXCIgOiBcIiBcIn0ke3NpemV9cHggJHtmb250RmFtaWx5fWA7IH1cbiAgICAgICAgICAgIGxldCBjdXJyZW50U2l6ZSA9IHN0YXJ0aW5nRm9udFNpemU7XG4gICAgICAgICAgICBtZWFzdXJlQ3R4LmZvbnQgPSBnZXRGb250U3RyaW5nKGN1cnJlbnRTaXplKTsgLy8gTm90ZTogTXVzdCBCZSBTZXQgQmVmb3JlIE1lYXN1cmluZ1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRXaWR0aCA9IG1lYXN1cmVDdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgICAgICBpZiAoY3VycmVudFdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RlcDogbnVtYmVyID0gMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudFdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1NpemUgPSBjdXJyZW50U2l6ZSAtIHN0ZXA7XG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVDdHguZm9udCA9IGdldEZvbnRTdHJpbmcobmV3U2l6ZSk7IC8vIE5vdGU6IE11c3QgQmUgU2V0IEJlZm9yZSBNZWFzdXJpbmdcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1dpZHRoOiBudW1iZXIgPSBtZWFzdXJlQ3R4Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3V2lkdGggPCBtYXhXaWR0aCAmJiBzdGVwID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwID0gMC4xO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNpemUgPSBuZXdTaXplO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnZXRGb250U3RyaW5nKGN1cnJlbnRTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc2V0dXBMb2NhbFBsYXllckF2YXRhcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyQXZhdGFyUGFyYW06IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcImF2YXRhclwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyQXZhdGFyUGFyYW0gIT0gbnVsbCAmJiBwbGF5ZXJBdmF0YXJQYXJhbSAhPT0gXCJcIiAmJiBwbGF5ZXJBdmF0YXJQYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0QXZhdGFyID0gZGVjb2RlVVJJQ29tcG9uZW50KHBsYXllckF2YXRhclBhcmFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlMSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJHZW5kZXJQYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwiZ2VuZGVyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJHZW5kZXJQYXJhbSAhPSBudWxsICYmIHBsYXllckdlbmRlclBhcmFtICE9PSBcIlwiICYmIHBsYXllckdlbmRlclBhcmFtICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF2YXRhckdlbmRlciA9IGRlY29kZVVSSUNvbXBvbmVudChwbGF5ZXJHZW5kZXJQYXJhbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVySGFuZG5lc3NQYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwiaGFuZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVySGFuZG5lc3NQYXJhbSAhPSBudWxsICYmIHBsYXllckhhbmRuZXNzUGFyYW0gIT09IFwiXCIgJiYgcGxheWVySGFuZG5lc3NQYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJIYW5kbmVzcyA9IGRlY29kZVVSSUNvbXBvbmVudChwbGF5ZXJIYW5kbmVzc1BhcmFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlMykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTMpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckhhbmRuZXNzUGFyYW06IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcImhhbmRcIik7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckhhbmRuZXNzUGFyYW0gIT0gbnVsbCAmJiBwbGF5ZXJIYW5kbmVzc1BhcmFtICE9PSBcIlwiICYmIHBsYXllckhhbmRuZXNzUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFySGFuZG5lc3MgPSBkZWNvZGVVUklDb21wb25lbnQocGxheWVySGFuZG5lc3NQYXJhbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUzKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBOZXR3b3JrIEVudGl0eSBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qga2xhc3M6IHN0cmluZyA9IFwiUFJPSkVDVC5Db2x5c2V1c05ldHdvcmtFbnRpdHlcIjtcbiAgICAgICAgICAgIGxldCBjb2x5c2V1czogUFJPSkVDVC5Db2x5c2V1c05ldHdvcmtFbnRpdHkgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy50cmFuc2Zvcm0sIGtsYXNzKTtcbiAgICAgICAgICAgIGlmIChjb2x5c2V1cyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHlzZXVzID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMudHJhbnNmb3JtLnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGtsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHlzZXVzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQucGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x5c2V1cyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLnRyYW5zZm9ybS5wYXJlbnQucGFyZW50IGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZSwga2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2x5c2V1cyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQucGFyZW50LnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x5c2V1cyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLnRyYW5zZm9ybS5wYXJlbnQucGFyZW50LnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGtsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2x5c2V1cyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHlzZXVzLnJ1bnRpbWVBdHRyaWJ1dGVzID09IG51bGwpIGNvbHlzZXVzLnJ1bnRpbWVBdHRyaWJ1dGVzID0gW107XG4gICAgICAgICAgICAgICAgY29seXNldXMucnVudGltZUF0dHJpYnV0ZXMucHVzaCh7IGtleTogXCJwbGF5ZXJBdmF0YXJcIiwgdmFsdWU6IHRoaXMuZGVmYXVsdEF2YXRhciB9KTtcbiAgICAgICAgICAgICAgICBjb2x5c2V1cy5ydW50aW1lQXR0cmlidXRlcy5wdXNoKHsga2V5OiBcInBsYXllckdlbmRlclwiLCB2YWx1ZTogdGhpcy5hdmF0YXJHZW5kZXIgfSk7XG4gICAgICAgICAgICAgICAgY29seXNldXMucnVudGltZUF0dHJpYnV0ZXMucHVzaCh7IGtleTogXCJwbGF5ZXJIYW5kXCIsIHZhbHVlOiB0aGlzLmF2YXRhckhhbmRuZXNzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vICBMb2FkIFJ1bnRpbWUgUGxheWVyIEF2YXRhciBNb2RlbFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRBdmF0YXIgIT0gbnVsbCAmJiB0aGlzLmRlZmF1bHRBdmF0YXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5IYXNTY2VuZUJlZW5QcmVMb2FkZWQodGhpcy5zY2VuZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkUnVudGltZVBsYXllckF2YXRhcih0aGlzLmRlZmF1bHRBdmF0YXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZExvY2F0aW9uID0gdGhpcy5kZWZhdWx0QXZhdGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiSW52YWxpZCBhdmF0YXIgbG9jYXRpb24gc3BlY2lmaWVkIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc2V0dXBSZW1vdGVQbGF5ZXJBdmF0YXIoKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgcmVtb3RlRW50aXR5OiBhbnkgPSAoPGFueT50aGlzLnRyYW5zZm9ybSkubmV0d29ya0VudGl0eTtcbiAgICAgICAgICAgIGlmIChyZW1vdGVFbnRpdHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVFbnRpdHkgPSAoPGFueT50aGlzLnRyYW5zZm9ybSkucGFyZW50Lm5ldHdvcmtFbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdGVFbnRpdHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUVudGl0eSA9ICg8YW55PnRoaXMudHJhbnNmb3JtKS5wYXJlbnQucGFyZW50Lm5ldHdvcmtFbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW90ZUVudGl0eSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQucGFyZW50LnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVFbnRpdHkgPSAoPGFueT50aGlzLnRyYW5zZm9ybSkucGFyZW50LnBhcmVudC5wYXJlbnQubmV0d29ya0VudGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFF1ZXJ5IE5ldHdvcmsgRW50aXR5IEF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAocmVtb3RlRW50aXR5ICE9IG51bGwgJiYgcmVtb3RlRW50aXR5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCAmJiByZW1vdGVFbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgIT0gbnVsbCAmJiByZW1vdGVFbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJBdmF0YXI6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5TmV0d29ya0F0dHJpYnV0ZShyZW1vdGVFbnRpdHkudHJhbnNmb3JtTm9kZSwgXCJwbGF5ZXJBdmF0YXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckF2YXRhciAhPSBudWxsICYmIHBsYXllckF2YXRhciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRBdmF0YXIgPSBwbGF5ZXJBdmF0YXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckdlbmRlcjogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlOZXR3b3JrQXR0cmlidXRlKHJlbW90ZUVudGl0eS50cmFuc2Zvcm1Ob2RlLCBcInBsYXllckdlbmRlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyR2VuZGVyICE9IG51bGwgJiYgcGxheWVyR2VuZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyR2VuZGVyID0gcGxheWVyR2VuZGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJIYW5kOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeU5ldHdvcmtBdHRyaWJ1dGUocmVtb3RlRW50aXR5LnRyYW5zZm9ybU5vZGUsIFwicGxheWVySGFuZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVySGFuZCAhPSBudWxsICYmIHBsYXllckhhbmQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJIYW5kbmVzcyA9IHBsYXllckhhbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG93bmVyTmFtZTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlOZXR3b3JrQXR0cmlidXRlKHJlbW90ZUVudGl0eS50cmFuc2Zvcm1Ob2RlLCBcIm93bmVyTmFtZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAob3duZXJOYW1lICE9IG51bGwgJiYgb3duZXJOYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyTGFiZWwgPSBvd25lck5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vICBMb2FkIFJ1bnRpbWUgUGxheWVyIEF2YXRhciBNb2RlbFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRBdmF0YXIgIT0gbnVsbCAmJiB0aGlzLmRlZmF1bHRBdmF0YXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRSdW50aW1lUGxheWVyQXZhdGFyKHRoaXMuZGVmYXVsdEF2YXRhcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkludmFsaWQgYXZhdGFyIGxvY2F0aW9uIHNwZWNpZmllZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNvbmZpZ3VyZVBsYXllckF2YXRhclJpZyhyb290OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChyb290ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcm1hdHVyZXMgPSByb290LmdldENoaWxkcmVuKChub2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpID0+IHsgcmV0dXJuIChub2RlLm5hbWUgPT09IFwiQXJtYXR1cmVcIik7IH0sIGZhbHNlKSBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmF2YXRhckxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJBcm1hdHVyZSA9IChhcm1hdHVyZXMgIT0gbnVsbCAmJiBhcm1hdHVyZXMubGVuZ3RoID4gMCkgPyBhcm1hdHVyZXNbMF0gOiBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBzaGFkb3dMaXN0OiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgZnJlZXplTGlzdDogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzaGVzOiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gcm9vdC5nZXRDaGlsZE1lc2hlcyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1lc2hlcyAhPSBudWxsICYmIG1lc2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc2hlcy5mb3JFYWNoKChtZXNoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoLnJlbmRlcmluZ0dyb3VwSWQgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkRlZmF1bHRSZW5kZXJHcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2tpbnM6IEJBQllMT04uQWJzdHJhY3RNZXNoW10gPSByb290LmdldENoaWxkTWVzaGVzKGZhbHNlLCAobm9kZTogQkFCWUxPTi5BYnN0cmFjdE1lc2gpID0+IHsgcmV0dXJuIChub2RlLnNrZWxldG9uICE9IG51bGwpOyB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc2tpbnMgIT0gbnVsbCAmJiBza2lucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNraW5zLmZvckVhY2goKHNraW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmF2YXRhclNrZWxldG9uID09IG51bGwgJiYgc2tpbi5za2VsZXRvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJTa2VsZXRvbiA9IHNraW4uc2tlbGV0b247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXN0UmVhbHRpbWVTaGFkb3cgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93TGlzdCA9PSBudWxsKSBzaGFkb3dMaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93TGlzdC5wdXNoKHNraW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbi5pc1BpY2thYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraW4udXNlVmVydGV4Q29sb3JzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBza2luLmN1bGxpbmdTdHJhdGVneSA9IEJBQllMT04uQWJzdHJhY3RNZXNoLkNVTExJTkdTVFJBVEVHWV9TVEFOREFSRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraW4uYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoID0gdHJ1ZTsgLy8gTm90ZTogQWx3YXlzIFNldCBGb3IgU2tpbiBXaXRob3V0IFVwZGF0ZWQgQm91bmRpbmcgQm94IEluZm9cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaGFkb3dMaXN0ICE9IG51bGwgJiYgc2hhZG93TGlzdC5sZW5ndGggPiAwICYmIHRoaXMuc2NlbmUubGlnaHRzICE9IG51bGwgJiYgdGhpcy5zY2VuZS5saWdodHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxpZ2h0cy5mb3JFYWNoKChsaWdodDogQkFCWUxPTi5MaWdodCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hhZG93Z2VuZXJhdG9yOiBCQUJZTE9OLklTaGFkb3dHZW5lcmF0b3IgPSBsaWdodC5nZXRTaGFkb3dHZW5lcmF0b3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3dnZW5lcmF0b3IgIT0gbnVsbCAmJiBsaWdodC5tZXRhZGF0YSAhPSBudWxsICYmIGxpZ2h0Lm1ldGFkYXRhLnRvb2xraXQgIT0gbnVsbCAmJiBsaWdodC5tZXRhZGF0YS50b29sa2l0LmF1dG9yZW5kZXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3dtYXA6IEJBQllMT04uUmVuZGVyVGFyZ2V0VGV4dHVyZSA9IHNoYWRvd2dlbmVyYXRvci5nZXRTaGFkb3dNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93bWFwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYWRvd21hcC5yZW5kZXJMaXN0ID09IG51bGwpIHNoYWRvd21hcC5yZW5kZXJMaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0xpc3QuZm9yRWFjaCgobWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2gpID0+IHsgc2hhZG93bWFwLnJlbmRlckxpc3QucHVzaChtZXNoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZyZWV6ZUxpc3QgIT0gbnVsbCAmJiBmcmVlemVMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZnJlZXplTGlzdC5mb3JFYWNoKChtZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyBtZXNoLmZyZWV6ZVdvcmxkTWF0cml4KCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFJFVEFSR0VUIEFOSU1BVElPTiBHUk9VUFMgLSAoVE9ETzogQmxlbmQgU2hhcGVzKVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXZhdGFyU2tlbGV0b24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25SaWc6IHN0cmluZyA9ICh0aGlzLmF2YXRhckdlbmRlciAhPSBudWxsICYmIHRoaXMuYXZhdGFyR2VuZGVyLnRvTG93ZXJDYXNlKCkgPT09IFwiZmVtYWxlXCIpID8gdGhpcy5mZW1hbGVBbmltYXRpb25SaWcgOiB0aGlzLm1hbGVBbmltYXRpb25SaWc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25SaWcgIT0gbnVsbCAmJiBhbmltYXRpb25SaWcgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbkFzc2V0OiBCQUJZTE9OLkFzc2V0Q29udGFpbmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRBc3NldENvbnRhaW5lcih0aGlzLnNjZW5lLCBhbmltYXRpb25SaWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbkFzc2V0ICE9IG51bGwgJiYgYW5pbWF0aW9uQXNzZXQuYW5pbWF0aW9uR3JvdXBzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2dyb3VwczogQkFCWUxPTi5BbmltYXRpb25Hcm91cFtdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeGNsaXBzOiBhbnlbXSA9ICh0aGlzLmFuaW1hdG9yICE9IG51bGwpID8gdGhpcy5hbmltYXRvci5nZXREZWZhdWx0Q2xpcHMoKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uQXNzZXQuYW5pbWF0aW9uR3JvdXBzLmZvckVhY2goKGFncm91cCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgYWdyb3VwLnN0b3AoKTsgfSBjYXRjaCB7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3bmFtZSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuXCIgKyBhZ3JvdXAubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNncm91cCA9IGFncm91cC5jbG9uZShuZXduYW1lLCBudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZ3JvdXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2dyb3VwLmxvb3BBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5SZXRhcmdldEFuaW1hdGlvbkdyb3VwU2tlbGV0b24oY2dyb3VwLCB0aGlzLmF2YXRhclNrZWxldG9uLCB0aGlzLmF2YXRhckFybWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdG9yICE9IG51bGwgJiYgeGNsaXBzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4Y2xpcCA9IHRoaXMuYW5pbWF0b3IuZml4QW5pbWF0aW9uR3JvdXAoY2dyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGNsaXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2dyb3VwcyA9PSBudWxsKSBjZ3JvdXBzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNncm91cHMucHVzaChjZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBsb2NhdGUgYW5pbWF0aW9uIGdyb3VwIGluIGRlZmF1bHQgY2xpcHM6IFwiICsgY2dyb3VwLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBjbG9uZSBhbmltYXRpb24gZ3JvdXA6IFwiICsgYWdyb3VwLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0b3IgIT0gbnVsbCAmJiBjZ3JvdXBzICE9IG51bGwgJiYgY2dyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0b3Iuc2V0QW5pbWF0aW9uR3JvdXBzKGNncm91cHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1PVkUgQk9ORSBTT0NLRVQgVFJBTkZPUk1TIC0gPz8/XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBEaXNwb3NlIE1hbm5lcXVpbm4gU2tpbiBBbmQgQm9uZXMgRm9yIFBlcmZvcm1hbmNlXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdmF0YXJMb2FkZWQgPT09IHRydWUgJiYgdGhpcy5kaXNwb3NlT2ZNYW5uZXF1aW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW46IEJBQllMT04uVHJhbnNmb3JtTm9kZVtdID0gdGhpcy50cmFuc2Zvcm0uZ2V0Q2hpbGRyZW4obnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQuc2tlbGV0b24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnNrZWxldG9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5za2VsZXRvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVueDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlW10gPSB0aGlzLnRyYW5zZm9ybS5nZXRDaGlsZHJlbihudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW54LmZvckVhY2goKGNoaWxkeDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGR4ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHguZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIExvYWQgcnVudGltZSBwbGF5ZXIgYXZhdGFyIGZyb20gc3BlY2ZpZWQgbG9jYXRpb24gKi9cbiAgICAgICAgcHJpdmF0ZSBsb2FkUnVudGltZVBsYXllckF2YXRhcih1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHVybCAhPSBudWxsICYmIHVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS53YXJuKFwiPj4+IExvYWRpbmcgcGxheWVyIGF2YXRhciBmcm9tOiBcIiArIHVybCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NlbmVSb290VXJsOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFJvb3RVcmwodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgbGV0IGltcG9ydFVybDogc3RyaW5nID0gdXJsO1xuICAgICAgICAgICAgICAgIGxldCByb290dXJsOiBzdHJpbmcgPSBzY2VuZVJvb3RVcmw7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgcm9vdHVybCA9IHNjZW5lUm9vdFVybDtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9ydFVybDtcbiAgICAgICAgICAgICAgICBpZiAoaW1wb3J0VXJsLmluZGV4T2YoXCI6Ly9cIikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICByb290dXJsID0gaW1wb3J0VXJsLnN1YnN0cmluZygwLCBpbXBvcnRVcmwubGFzdEluZGV4T2YoJy8nKSkgKyBcIi9cIjtcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBpbXBvcnRVcmwuc3Vic3RyaW5nKGltcG9ydFVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYXNzZXRzTWFuYWdlcjogQkFCWUxPTi5Bc3NldHNNYW5hZ2VyID0gbmV3IEJBQllMT04uQXNzZXRzTWFuYWdlcih0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbXBvcnRUYXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2sgPSBhc3NldHNNYW5hZ2VyLmFkZE1lc2hUYXNrKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWVzaFRhc2tcIiksIG51bGwsIHJvb3R1cmwsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpbXBvcnRUYXNrLm9uU3VjY2VzcyA9ICh0YXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2subG9hZGVkTWVzaGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2subG9hZGVkTWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzaC5tYXRlcmlhbCBpbnN0YW5jZW9mIEJBQllMT04uUEJSTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5tYXRlcmlhbC5hbWJpZW50Q29sb3IgPSB0aGlzLmFtYmllbnRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb290QXZhdGFyTWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSB0YXNrLmxvYWRlZE1lc2hlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb290QXZhdGFyTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEF2YXRhck1lc2gucGFyZW50ID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RBdmF0YXJNZXNoLm5hbWUgPSBcIkJsZW5kZXJBdmF0YXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNoVGFza0tleTogc3RyaW5nID0gdGFzay5zY2VuZUZpbGVuYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlJlZ2lzdGVySW1wb3J0TWVzaGVzKHRoaXMuc2NlbmUsIG1lc2hUYXNrS2V5LCB0YXNrLmxvYWRlZE1lc2hlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmVQbGF5ZXJBdmF0YXJSaWcocm9vdEF2YXRhck1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbXBvcnRUYXNrLm9uRXJyb3IgPSAodGFzazogQkFCWUxPTi5NZXNoQXNzZXRUYXNrLCBtZXNzYWdlPzogc3RyaW5nLCBleGNlcHRpb24/OiBhbnkpID0+IHsgY29uc29sZS5lcnJvcihtZXNzYWdlLCBleGNlcHRpb24pOyB9O1xuICAgICAgICAgICAgICAgIGFzc2V0c01hbmFnZXIubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEFkZCBhc3NldCBwcmVsb2FkZXIgdGFza3MgKGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vZGl2aW5nRGVlcGVyL2ltcG9ydGVycy9hc3NldE1hbmFnZXIpICovXG4gICAgICAgIHB1YmxpYyBhZGRQcmVsb2FkZXJUYXNrcyhhc3NldHNNYW5hZ2VyOiBCQUJZTE9OLlRvb2xraXQuUHJlbG9hZEFzc2V0c01hbmFnZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZWxvYWRMb2NhdGlvbiAhPSBudWxsICYmIHRoaXMucHJlbG9hZExvY2F0aW9uICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLndhcm4oXCI+Pj4gUHJlbG9hZGluZyBwbGF5ZXIgYXZhdGFyIGZyb206IFwiICsgdGhpcy5wcmVsb2FkTG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjZW5lUm9vdFVybDogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRSb290VXJsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGxldCBpbXBvcnRVcmw6IHN0cmluZyA9IHRoaXMucHJlbG9hZExvY2F0aW9uO1xuICAgICAgICAgICAgICAgIGxldCByb290dXJsOiBzdHJpbmcgPSBzY2VuZVJvb3RVcmw7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgcm9vdHVybCA9IHNjZW5lUm9vdFVybDtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9ydFVybDtcbiAgICAgICAgICAgICAgICBpZiAoaW1wb3J0VXJsLmluZGV4T2YoXCI6Ly9cIikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICByb290dXJsID0gaW1wb3J0VXJsLnN1YnN0cmluZygwLCBpbXBvcnRVcmwubGFzdEluZGV4T2YoJy8nKSkgKyBcIi9cIjtcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBpbXBvcnRVcmwuc3Vic3RyaW5nKGltcG9ydFVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0VGFzazogQkFCWUxPTi5NZXNoQXNzZXRUYXNrID0gYXNzZXRzTWFuYWdlci5hZGRNZXNoVGFzaygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLk1lc2hUYXNrXCIpLCBudWxsLCByb290dXJsLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgaW1wb3J0VGFzay5vblN1Y2Nlc3MgPSAodGFzazogQkFCWUxPTi5NZXNoQXNzZXRUYXNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLmxvYWRlZE1lc2hlcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrLmxvYWRlZE1lc2hlcy5mb3JFYWNoKChtZXNoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc2gubWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLlBCUk1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwuYW1iaWVudENvbG9yID0gdGhpcy5hbWJpZW50TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcm9vdEF2YXRhck1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gdGFzay5sb2FkZWRNZXNoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm9vdEF2YXRhck1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RBdmF0YXJNZXNoLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290QXZhdGFyTWVzaC5uYW1lID0gXCJCbGVuZGVyQXZhdGFyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzaFRhc2tLZXk6IHN0cmluZyA9IHRhc2suc2NlbmVGaWxlbmFtZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5SZWdpc3RlckltcG9ydE1lc2hlcyh0aGlzLnNjZW5lLCBtZXNoVGFza0tleSwgdGFzay5sb2FkZWRNZXNoZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJlUGxheWVyQXZhdGFyUmlnKHJvb3RBdmF0YXJNZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW1wb3J0VGFzay5vbkVycm9yID0gKHRhc2s6IEJBQllMT04uTWVzaEFzc2V0VGFzaywgbWVzc2FnZT86IHN0cmluZywgZXhjZXB0aW9uPzogYW55KSA9PiB7IGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgZXhjZXB0aW9uKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBuZXR3b3JrIGVudGl0eSAoQ29seXNldXMgVW5pdmVyc2FsIEdhbWUgUm9vbSlcbiAgICAgKiBAY2xhc3MgQ29seXNldXNOZXR3b3JrRW50aXR5IC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIENvbHlzZXVzTmV0d29ya0VudGl0eSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYXV0b0NyZWF0ZTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyByZW1vdGVQcmVmYWI6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBhc3NldENvbnRhaW5lcjogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1vdmVtZW50RXBzaWxvbjogbnVtYmVyID0gMC4wMDAwMTtcbiAgICAgICAgcHVibGljIG1vdmVtZW50TWV0aG9kOiBCQUJZTE9OLkVudGl0eU1vdmVtZW50VHlwZSA9IEJBQllMT04uRW50aXR5TW92ZW1lbnRUeXBlLkNsaWVudEF1dGhvcml0eTtcbiAgICAgICAgcHVibGljIGludGVycG9sYXRpb25Nb2RlOiBCQUJZTE9OLkVudGl0eUludGVycG9sYXRpb24gPSBCQUJZTE9OLkVudGl0eUludGVycG9sYXRpb24uRGVmYXVsdDtcbiAgICAgICAgcHVibGljIGludGVycG9sYXRpb25IYW5kbGVyOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc3luY1RyYW5zZm9ybU5vZGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgcnVudGltZUF0dHJpYnV0ZXM6IEJBQllMT04uRW50aXR5QXR0cmlidXRlW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNyZWF0aW9uQXR0cmlidXRlczogQkFCWUxPTi5FbnRpdHlBdHRyaWJ1dGVbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYnVmZmVyZWRBdHRyaWJ1dGVzOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG5ldHdvcmtFbnRpdHlDcmVhdGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5ldHdvcmtFbnRpdHlDcmVhdGVkID09PSBmYWxzZSAmJiB0aGlzLmF1dG9DcmVhdGUgPT09IHRydWUgJiYgdGhpcy5pc1JlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRvQ3JlYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRW50aXR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmF1dG9DcmVhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRNZXRob2QgPSAwO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVQcmVmYWIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hc3NldENvbnRhaW5lciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmludGVycG9sYXRpb25Nb2RlID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbkhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGlvbkF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ydW50aW1lQXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnN5bmNUcmFuc2Zvcm1Ob2RlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmtFbnRpdHlDcmVhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eUlkOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5HZXROZXR3b3JrRW50aXR5SWQodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgaWYgKGVudGl0eUlkICE9IG51bGwgJiYgZW50aXR5SWQgIT09IFwiXCIpIEJBQllMT04uTmV0d29ya01hbmFnZXIuUmVtb3ZlTmV0d29ya0VudGl0eShlbnRpdHlJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgY3JlYXRlRW50aXR5KCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlc1RvQ3JlYXRlOiBhbnkgPSB7fTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNyZWF0aW9uQXR0cmlidXRlcyAhPSBudWxsICYmIHRoaXMuY3JlYXRpb25BdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0aW9uQXR0cmlidXRlcy5mb3JFYWNoKChjcmVhdGlvbkF0dHJpYnV0ZTogQkFCWUxPTi5FbnRpdHlBdHRyaWJ1dGUpID0+IHsgYXR0cmlidXRlc1RvQ3JlYXRlW2NyZWF0aW9uQXR0cmlidXRlLmtleV0gPSBjcmVhdGlvbkF0dHJpYnV0ZS52YWx1ZTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5ydW50aW1lQXR0cmlidXRlcyAhPSBudWxsICYmIHRoaXMucnVudGltZUF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucnVudGltZUF0dHJpYnV0ZXMuZm9yRWFjaCgocnVudGltZUF0dHJpYnV0ZTogQkFCWUxPTi5FbnRpdHlBdHRyaWJ1dGUpID0+IHsgYXR0cmlidXRlc1RvQ3JlYXRlW3J1bnRpbWVBdHRyaWJ1dGUua2V5XSA9IHJ1bnRpbWVBdHRyaWJ1dGUudmFsdWU7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VzdG9tSGFuZGxlcjogc3RyaW5nID0gKHRoaXMuaW50ZXJwb2xhdGlvbk1vZGUgPT09IEJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbi5DdXN0b20pID8gdGhpcy5pbnRlcnBvbGF0aW9uSGFuZGxlciA6IFwiXCI7XG4gICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkNyZWF0ZU5ldHdvcmtFbnRpdHkodGhpcy50cmFuc2Zvcm0sIHRoaXMucmVtb3RlUHJlZmFiLCB0aGlzLmFzc2V0Q29udGFpbmVyLCB0aGlzLm1vdmVtZW50RXBzaWxvbiwgdGhpcy5tb3ZlbWVudE1ldGhvZCwgdGhpcy5pbnRlcnBvbGF0aW9uTW9kZSwgdGhpcy5zeW5jVHJhbnNmb3JtTm9kZSwgY3VzdG9tSGFuZGxlciwgdGhpcy5idWZmZXJlZEF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXNUb0NyZWF0ZSk7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmtFbnRpdHlDcmVhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgQkFCWUxPTiB7XG4gICAgZXhwb3J0IHR5cGUgVW5pdmVyc2FsR2FtZVJvb20gPSBDb2x5c2V1cy5Sb29tPEJBQllMT04uSUNvbHlzZXVzUm9vbVN0YXRlPjtcbiAgICBleHBvcnQgZW51bSBSZW1vdGVGdW5jdGlvbkNhbGxUYXJnZXQgeyBBbGwgPSAwLCBPdGhlcnMgPSAxIH1cbiAgICBleHBvcnQgZW51bSBOZXR3b3JrRW50aXR5VHlwZSB7IE5vbmUgPSAwLCBMb2NhbCA9IDEsIFJlbW90ZSA9IDIgfVxuICAgIGV4cG9ydCBlbnVtIEVudGl0eU1vdmVtZW50VHlwZSB7IENsaWVudEF1dGhvcml0eSA9IDAsIFNlcnZlckF1dGhvcml0eSA9IDEgfVxuICAgIGV4cG9ydCBlbnVtIEVudGl0eUludGVycG9sYXRpb24geyBEZWZhdWx0ID0gMCwgSGVybWl0ZSA9IDEsIEN1c3RvbSA9IDIgfVxuICAgIGV4cG9ydCBjbGFzcyBFbnRpdHlBdHRyaWJ1dGUgeyBwdWJsaWMga2V5OiBzdHJpbmc7IHB1YmxpYyB2YWx1ZTogc3RyaW5nOyB9XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBuZXR3b3JrIG1hbmFnZW1lbnQgc3lzdGVtIGNsYXNzIChDb2x5c2V1cyBVbml2ZXJzYWwgR2FtZSBSb29tKVxuICAgICAqIFN1cHBvcnRzIG5ldHdvcmsgdXNlcnMsIGVudGl0aWVzLCBhdHRyaWJ1dGVzLCByZW1vdGUgZnVuY3Rpb24gY2FsbHMsIGN1c3RvbSBtZXNzYWdlcywgY3VzdG9tIG1ldGhvZHMgYW5kIGN1c3RvbSByb29tIGxvZ2ljIG1vZHVsZXMuXG4gICAgICogQGNsYXNzIE5ldHdvcmtNYW5hZ2VyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE5ldHdvcmtNYW5hZ2VyIHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgUm9vdE5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIERlZmF1bHRSb29tOiBCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVXNlclJlZmVyZW5jZTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIE5ldHdvcmtTZXJ2ZXJUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBOZXR3b3JrRW50aXR5UXVldWU6IE1hcDxzdHJpbmcsIEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eT4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBDdXN0b21IYW5kbGVyTWFwOiBNYXA8c3RyaW5nLCAoZW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6IG51bWJlcikgPT4gdm9pZD4gPSBuZXcgTWFwPHN0cmluZywgKGVudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCB0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgZGVsdGFUaW1lOiBudW1iZXIpID0+IHZvaWQ+KCk7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2VuZFBvc2l0aW9uQnVmZmVyOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTZW5kUm90YXRpb25CdWZmZXI6IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNlbmRMaW5lYXJCdWZmZXI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNlbmRBbmd1bGFyQnVmZmVyOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2NlbmVSZWZlcmVuY2U6IEJBQllMT04uU2NlbmUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc3RhdGljIEludGVycG9sYXRpb25CdWZmZXI6IG51bWJlciA9IDAuMTU7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25Db25uZWN0T2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlcj4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkRpc2Nvbm5lY3RPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyPigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uSm9pblJvb21PYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyPigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uTGVhdmVSb29tT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8bnVtYmVyPigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uQ3JlYXRlRW50aXR5T2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5PigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uUmVtb3ZlRW50aXR5T2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5PigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uQ2hhdE1lc3NhZ2VPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLklDb2x5c2V1c0NoYXRNZXNzYWdlPigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uUGluZ1JlY2VpdmVkT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8YW55PigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uRXJyb3JNZXNzYWdlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5Ub29sa2l0LlJvb21FcnJvck1lc3NhZ2U+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25SZW1vdGVQcm9jZWR1cmVDYWxsT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8YW55PigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFJlZ2lzdGVyQ3VzdG9tSW50ZXJwb2xhdGlvbkhhbmRsZXIobmFtZTogc3RyaW5nLCBoYW5kbGVyOiAoZW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6IG51bWJlcikgPT4gdm9pZCk6IHZvaWQgeyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkN1c3RvbUhhbmRsZXJNYXAuc2V0KG5hbWUsIGhhbmRsZXIpOyB9XG5cbiAgICAgICAgLyoqIElzIHRoZSBjb2x5c2V1cyBuZXR3b3JrIGxpYnJhcnkgaXMgYXZhaWxhYmxlICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNBdmFpbGFibGUoKTogYm9vbGVhbiB7IHJldHVybiAoKDxhbnk+d2luZG93KS5Db2x5c2V1cyAhPT0gdW5kZWZpbmVkICYmICg8YW55PndpbmRvdykuQ29seXNldXMuQ2xpZW50ICE9PSB1bmRlZmluZWQpOyB9XG4gICAgICAgIC8qKiBJcyB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tIGF0dGFjaGVkIHRvIHRoZSBzY2VuZSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzUm9vbUF0dGFjaGVkKCk6IGJvb2xlYW4geyByZXR1cm4gKEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UgIT0gbnVsbCAmJiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tICE9IG51bGwpOyB9XG4gICAgICAgIC8qKiBIYXMgY2xpZW50IHJlY2VpdmVkIGEgam9pbiByb29tIGNvbmZpcm1hdGlvbiBtZXNzYWdlIGZyb20gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEhhc0pvaW5lZFJvb20oKTogYm9vbGVhbiB7IHJldHVybiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSAhPSBudWxsICYmIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gIT0gbnVsbCAmJiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlVzZXJSZWZlcmVuY2UgIT0gbnVsbCk7IH1cbiAgICAgICAgLyoqIEdldHMgdGhlIGN1cnJlbnQgdXNlciBpbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q3VycmVudFVzZXIoKTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlciB7IHJldHVybiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlVzZXJSZWZlcmVuY2U7IH1cbiAgICAgICAgLyoqIEdldHMgdGhlIGF0dGFjaGVkIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldERlZmF1bHRSb29tKCk6IEJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20geyByZXR1cm4gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbTsgfVxuICAgICAgICAvKiogR2V0cyB0aGUgbmV0d29yayBzZXJ2ZXIgdGltZSBvZiB0aGUgYXR0YWNoZWQgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tIChTZWNvbmRzKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldE5ldHdvcmtUaW1lKCk6IG51bWJlciB7IHJldHVybiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtTZXJ2ZXJUaW1lOyB9XG4gICAgICAgIC8qKiBJcyBsb2NhbCBuZXR3b3JrIGVudGl0eSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzTG9jYWxOZXR3b3JrRW50aXR5KGVudGl0eTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTogYm9vbGVhbiB7IHJldHVybiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5HZXROZXR3b3JrRW50aXR5VHlwZShlbnRpdHkpID09PSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLkxvY2FsKTsgfVxuICAgICAgICAvKiogSXMgcmVtb3RlIG5ldHdvcmsgZW50aXR5ICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNSZW1vdGVOZXR3b3JrRW50aXR5KGVudGl0eTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTogYm9vbGVhbiB7IHJldHVybiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5HZXROZXR3b3JrRW50aXR5VHlwZShlbnRpdHkpID09PSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLlJlbW90ZSk7IH1cbiAgICAgICAgLyoqIEdldHMgdGhlIG5ldHdvcmsgZW50aXR5IHR5cGUgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXROZXR3b3JrRW50aXR5VHlwZShlbnRpdHk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSk6IG51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgY29uc3QgYWVudGl0eTogYW55ID0gZW50aXR5O1xuICAgICAgICAgICAgaWYgKGFlbnRpdHkudHJhbnNmb3JtTm9kZSAhPSBudWxsICYmIGFlbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGFlbnRpdHkudHJhbnNmb3JtTm9kZVR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBBdHRhY2hlcyBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gdG8gdGhlIHNwZWNpZmllZCBzY2VuZSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEF0dGFjaERlZmF1bHRSb29tKHNjZW5lOiBCQUJZTE9OLlNjZW5lLCByb29tOiBCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tKTogdm9pZCB7XG4gICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRldGFjaERlZmF1bHRSb29tKCk7XG4gICAgICAgICAgICBpZiAoc2NlbmUgIT0gbnVsbCAmJiByb29tICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tID0gcm9vbTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNjZW5lUmVmZXJlbmNlID0gc2NlbmU7XG4gICAgICAgICAgICAgICAgaWYgKHJvb20uc3RhdGUgIT0gbnVsbCAmJiByb29tLnN0YXRlLmVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+cm9vbS5zdGF0ZS5lbnRpdGllcykub25BZGQoKGUsIGspID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5BZGROZXR3b3JrRW50aXR5SGFuZGxlcihlLCBrKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PnJvb20uc3RhdGUuZW50aXRpZXMpLm9uUmVtb3ZlKChlLCBrKSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuUmVtb3ZlTmV0d29ya0VudGl0eUhhbmRsZXIoZSwgayk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb29tLm9uU3RhdGVDaGFuZ2Uub25jZSgoc3RhdGUpID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkRpc3BhdGNoQ2hhdFF1ZXVlTWVzc2FnZXMoc3RhdGUpOyB9KTsgLy8gTm90ZTogRmlyc3QgU3RhdGUgQ2huYWdlXG4gICAgICAgICAgICAgICAgcm9vbS5vblN0YXRlQ2hhbmdlKChzdGF0ZSkgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uRGlzcGF0Y2hDaGF0UXVldWVNZXNzYWdlcyhzdGF0ZSk7IH0pOyAgICAgIC8vIE5vdGU6IFN0YXRlIFVwZGF0ZWRcbiAgICAgICAgICAgICAgICByb29tLm9uTWVzc2FnZShcIm9uQ29ubmVjdFwiLCAoaW5mbzogYW55KSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuT25Db25uZWN0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaW5mby51c2VyKTsgfSk7XG4gICAgICAgICAgICAgICAgcm9vbS5vbk1lc3NhZ2UoXCJvbkRpc2Nvbm5lY3RcIiwgKGluZm86IGFueSkgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uRGlzY29ubmVjdE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGluZm8udXNlcik7IH0pO1xuICAgICAgICAgICAgICAgIHJvb20ub25NZXNzYWdlKFwib25Kb2luXCIsIChpbmZvOiBhbnkpID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Kb2luRGVmYXVsdFJvb21IYW5kbGVyKGluZm8pOyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uSm9pblJvb21PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpbmZvLnVzZXIpOyB9KTtcbiAgICAgICAgICAgICAgICByb29tLm9uTWVzc2FnZShcIm9uUkZDXCIsIChtZXNzYWdlOiBhbnkpID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PblJlbW90ZVByb2NlZHVyZUNhbGxPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhtZXNzYWdlKTsgfSk7XG4gICAgICAgICAgICAgICAgcm9vbS5vbkxlYXZlKChjb2RlOiBudW1iZXIpID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkxlYXZlUm9vbU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGNvZGUpOyB9KTtcbiAgICAgICAgICAgICAgICByb29tLm9uRXJyb3IoKGNvZGU6IG51bWJlciwgbWVzc2FnZTogc3RyaW5nKSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuT25FcnJvck1lc3NhZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7IGNvZGU6IGNvZGUsIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7IH0pO1xuICAgICAgICAgICAgICAgIHNjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PblNjZW5lQmVmb3JlUmVuZGVyVXBkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogRGV0YWNoZXMgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tIGZyb20gdGhlIHNjZW5lICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRGV0YWNoRGVmYXVsdFJvb20oKTogdm9pZCB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJvb3ROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZTApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlMikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PblNjZW5lQmVmb3JlUmVuZGVyVXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU2KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGU5KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlOSk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuVXNlclJlZmVyZW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya1NlcnZlclRpbWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGEgbmV0d29yayB1c2VyIGluIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXROZXR3b3JrVXNlcihpZDogc3RyaW5nKTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnN0YXRlICE9IG51bGwgJiYgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZS51c2VycyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUudXNlcnMuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIk5ldHdvcmsgbWFuYWdlciBoYXMgbm90IGpvaW5lZCB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgYSBuZXR3b3JrIGVudGl0eSBpbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TmV0d29ya0VudGl0eShpZDogc3RyaW5nKTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZSAhPSBudWxsICYmIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUuZW50aXRpZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnN0YXRlLmVudGl0aWVzLmdldChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBDcmVhdGVzIGEgbmV0d29yayBlbnRpdHkgaW4gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIENyZWF0ZU5ldHdvcmtFbnRpdHkobG9jYWxUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgcmVtb3RlUHJlZmFiOiBzdHJpbmcgPSBudWxsLCBhc3NldENvbnRhaW5lcjogc3RyaW5nID0gbnVsbCwgbW92ZW1lbnRFcHNpbG9uOiBudW1iZXIgPSAwLjAwMDAxLCBtb3ZlbWVudFR5cGU6IEJBQllMT04uRW50aXR5TW92ZW1lbnRUeXBlID0gQkFCWUxPTi5FbnRpdHlNb3ZlbWVudFR5cGUuQ2xpZW50QXV0aG9yaXR5LCBpbnRlcnBvbGF0aW9uTW9kZTogQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uID0gQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uLkRlZmF1bHQsIGF1dG9TeW5jVHJhbnNmb3JtOiBib29sZWFuID0gdHJ1ZSwgY3VzdG9tSGFuZGxlck5hbWU6IHN0cmluZyA9IG51bGwsIGJ1ZmZlcmVkQXR0cmlidXRlczogYW55LCBjcmVhdGVBdHRyaWJ1dGVzOiBhbnkgPSBudWxsKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLkNyZWF0ZU5ldHdvcmtFbnRpdHkoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSwgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Vc2VyUmVmZXJlbmNlLm5hbWUsIGxvY2FsVHJhbnNmb3JtLCByZW1vdGVQcmVmYWIsIGFzc2V0Q29udGFpbmVyLCBtb3ZlbWVudEVwc2lsb24sIG1vdmVtZW50VHlwZSwgaW50ZXJwb2xhdGlvbk1vZGUsIGF1dG9TeW5jVHJhbnNmb3JtLCBjdXN0b21IYW5kbGVyTmFtZSwgYnVmZmVyZWRBdHRyaWJ1dGVzLCBjcmVhdGVBdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBSZW1vdmVzIGEgbmV0d29yayBlbnRpdHkgZnJvbSB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVtb3ZlTmV0d29ya0VudGl0eShlbnRpdHlJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLlJlbW92ZU5ldHdvcmtFbnRpdHkoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSwgZW50aXR5SWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgYSB1c2VyIGF0dHJpYnV0ZSBvbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0VXNlckF0dHJpYnV0ZXModXNlcklkOiBzdHJpbmcsIGF0dHJpYnV0ZXNUb1NldDogYW55KTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLlNldFVzZXJBdHRyaWJ1dGVzKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20sIHVzZXJJZCwgYXR0cmlidXRlc1RvU2V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIGEgZW50aXR5IGF0dHJpYnV0ZSBvbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0RW50aXR5QXR0cmlidXRlcyhlbnRpdHlJZDogc3RyaW5nLCBhdHRyaWJ1dGVzVG9TZXQ6IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Sb29tQ29udHJvbGxlci5TZXRFbnRpdHlBdHRyaWJ1dGVzKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20sIGVudGl0eUlkLCBhdHRyaWJ1dGVzVG9TZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIENhbGxzIGEgY3VzdG9tIHNlcnZlciBtZXRob2Qgb24gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIENhbGxDdXN0b21NZXRob2QobWV0aG9kOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLkNhbGxDdXN0b21NZXRob2QoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSwgbWV0aG9kLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBFeGVjdXRzIGEgcmVtb3RlIGZ1bmN0aW9uIGNhbGwgb24gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEV4ZWN1dGVSZW1vdGVGdW5jdGlvbkNhbGwodGFyZ2V0OiBCQUJZTE9OLlJlbW90ZUZ1bmN0aW9uQ2FsbFRhcmdldCwgZW50aXR5SWQ6IHN0cmluZywgZnVuYzogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Sb29tQ29udHJvbGxlci5FeGVjdXRlUmVtb3RlRnVuY3Rpb25DYWxsKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20sIHRhcmdldCwgZW50aXR5SWQsIGZ1bmMsIGFyZ3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBHYW1lIFNlc3Npb24gQ2hhdCBNZXNzYWdlc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBHZXRzIHRoZSBjdXJyZW50IGNoYXQgbWVzc2FnZSBxdWV1ZSBpdGVtcyBmb3IgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldENoYXRNZXNzYWdlcygpOiBCQUJZTE9OLklDb2x5c2V1c0NoYXRNZXNzYWdlW10ge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2VzOiBCQUJZTE9OLklDb2x5c2V1c0NoYXRNZXNzYWdlW10gPSBudWxsO1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUucXVldWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnN0YXRlLnF1ZXVlLmZvckVhY2goKHF1ZXVlLCBpZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXVlICE9IG51bGwgJiYgcXVldWUubWVzc2FnZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLm1lc3NhZ2VzLmZvckVhY2goKG1lc3NhZ2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlcyA9PSBudWxsKSBtZXNzYWdlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogU2VuZCBhIGNoYXQgbWVzc2FnZSB0byB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2VuZENoYXRNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Sb29tQ29udHJvbGxlci5TZW5kQ2hhdChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRW50aXR5IExpZmUgQ3ljbGUgVXBkYXRlc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIE9uU2NlbmVCZWZvcmVSZW5kZXJVcGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0RGVsdGFTZWNvbmRzKEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UpO1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya1NlcnZlclRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrU2VydmVyVGltZSArPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlByb2Nlc3NOZXR3b3JrRW50aXRpZXMoZGVsdGFUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIE9uRGlzcGF0Y2hDaGF0UXVldWVNZXNzYWdlcyhzdGF0ZTogQkFCWUxPTi5JQ29seXNldXNSb29tU3RhdGUpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlczogQkFCWUxPTi5JQ29seXNldXNDaGF0TWVzc2FnZVtdID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5HZXRDaGF0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZXMgIT0gbnVsbCAmJiBtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgSW4gQXNjZW5kaW5nIE9yZGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnNvcnQoKGxlZnQsIHJpZ2h0KTogbnVtYmVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LnRpbWVzdGFtcCA8IHJpZ2h0LnRpbWVzdGFtcCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQudGltZXN0YW1wID4gcmlnaHQudGltZXN0YW1wKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gRGlzcGF0Y2ggU2hhbGxvdyBDb3BpZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMuZm9yRWFjaCgobXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChteCAhPSBudWxsICYmICgoPGFueT5teCkuZGlzcGF0Y2hlZCA9PSBudWxsIHx8ICg8YW55Pm14KS5kaXNwYXRjaGVkID09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uQ2hhdE1lc3NhZ2VPYnNlcnZhYmxlICYmIEJBQllMT04uTmV0d29ya01hbmFnZXIuT25DaGF0TWVzc2FnZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuT25DaGF0TWVzc2FnZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHsgLi4ubXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+bXgpLmRpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRW50aXR5IFNjZW5lIFZpZXcgRnVuY3Rpb25zIChTY2VuZSBEZWx0YSBUaW1lKVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFByb2Nlc3NOZXR3b3JrRW50aXRpZXMoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIGxldCB0cmFuc21pdFBhY2tldEJ1ZmZlcjogYW55W10gPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUuZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUgIT0gbnVsbCAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVN5bmMgIT0gbnVsbCAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVN5bmMgPT09IHRydWUgJiYgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlVHlwZSA9PT0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5Mb2NhbCkgeyAvLyBOb3RlOiBMb2NhbCBOZXR3b3JrIEVudGl0aWVzIE9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMYXN0UG9zaXRpb24gPT0gbnVsbCkgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMYXN0UG9zaXRpb24gPSAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLnBvc2l0aW9uLmVxdWFsc1dpdGhFcHNpbG9uKCg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGFzdFBvc2l0aW9uLCAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUVwc2lsb24pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUucG9zaXRpb24uc3VidHJhY3RUb1JlZigoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxhc3RQb3NpdGlvbiwgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkueCAvPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkueSAvPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkueiAvPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eS5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGFzdFBvc2l0aW9uLmNvcHlGcm9tKCg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWNrZXQ6IGFueSA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuQ3JlYXRlTmV0d29ya1BhY2tldERhdGEoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNtaXRQYWNrZXRCdWZmZXIgPT0gbnVsbCkgdHJhbnNtaXRQYWNrZXRCdWZmZXIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFja2V0ICE9IG51bGwpIHRyYW5zbWl0UGFja2V0QnVmZmVyLnB1c2gocGFja2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlVHlwZSA9PT0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5SZW1vdGUpIHsgLy8gTm90ZTogUmVtb3RlIE5ldHdvcmsgRW50aXRpZXMgT25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlcjogSW50ZXJwb2xhdGlvbkJ1ZmZlciA9ICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwQnVmZmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIudXBkYXRlKGRlbHRhVGltZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlBY3RpdmF0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5QWN0aXZhdGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlBY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoZW50aXR5LnhQb3MsIGVudGl0eS55UG9zLCBlbnRpdHkuelBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oZW50aXR5LnhSb3QsIGVudGl0eS55Um90LCBlbnRpdHkuelJvdCwgZW50aXR5LndSb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5zZXRFbmFibGVkKHRydWUpOyAvLyBOb3RlOiBFbmFibGUgUm9vdCBOb2RlIE9uIEluaXRpYWwgQWN0aXZhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIj4+PiBBY3RpdmF0aW5nIFJlbW90ZSBFbnRpdHk6IFwiICsgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlVwZGF0ZVJlbW90ZUVudGl0eShidWZmZXIsIGVudGl0eSwgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBMaW1pdCBQYWNrZXQgU2VuZCAtID8/P1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zbWl0UGFja2V0QnVmZmVyICE9IG51bGwgJiYgdHJhbnNtaXRQYWNrZXRCdWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmREYXRhUGFja2V0VG9TZXJ2ZXIodHJhbnNtaXRQYWNrZXRCdWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNlbmREYXRhUGFja2V0VG9TZXJ2ZXIodHJhbnNtaXRQYWNrZXRCdWZmZXI6IGFueVtdKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkYXRhUGFja2V0ID0geyBlbnRpdGllczogdHJhbnNtaXRQYWNrZXRCdWZmZXIgfTtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnNlbmQoXCJwYWNrZXRVcGRhdGVcIiwgZGF0YVBhY2tldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBVcGRhdGVSZW1vdGVFbnRpdHkoYnVmZmVyOiBJbnRlcnBvbGF0aW9uQnVmZmVyLCBlbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgdHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoZW50aXR5ID09IG51bGwgfHwgdHJhbnNmb3JtID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgTmV0d29yayBUcmFuc2xhdGlvblxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb25Nb2RlOiBudW1iZXIgPSAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlJbnRlcnBvbGF0ZTtcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uTW9kZSA9PT0gQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uLkN1c3RvbSkge1xuICAgICAgICAgICAgICAgIGlmICgoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlIYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5SGFuZGxlcihlbnRpdHksIHRyYW5zZm9ybSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChidWZmZXIuc3RhdGUgPT09IEJ1ZmZlclN0YXRlLlBMQVlJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKGJ1ZmZlci5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20oYnVmZmVyLnF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0uc2NhbGluZy5jb3B5RnJvbShidWZmZXIuc2NhbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgQnVmZmVyZWQgQXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICgoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXIgPT0gbnVsbCkgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyID0ge307XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIwXCJdID0gZW50aXR5LmF1eDAwO1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMVwiXSA9IGVudGl0eS5hdXgwMTtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjJcIl0gPSBlbnRpdHkuYXV4MDI7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIzXCJdID0gZW50aXR5LmF1eDAzO1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiNFwiXSA9IGVudGl0eS5hdXgwNDtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjVcIl0gPSBlbnRpdHkuYXV4MDU7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCI2XCJdID0gZW50aXR5LmF1eDA2O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiN1wiXSA9IGVudGl0eS5hdXgwNztcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjhcIl0gPSBlbnRpdHkuYXV4MDg7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCI5XCJdID0gZW50aXR5LmF1eDA5O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTBcIl0gPSBlbnRpdHkuYXV4MTA7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxMVwiXSA9IGVudGl0eS5hdXgxMTtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjEyXCJdID0gZW50aXR5LmF1eDEyO1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTNcIl0gPSBlbnRpdHkuYXV4MTM7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxNFwiXSA9IGVudGl0eS5hdXgxNDtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjE1XCJdID0gZW50aXR5LmF1eDE1O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTZcIl0gPSBlbnRpdHkuYXV4MTY7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxN1wiXSA9IGVudGl0eS5hdXgxNztcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjE4XCJdID0gZW50aXR5LmF1eDE4O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTlcIl0gPSBlbnRpdHkuYXV4MTk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBDcmVhdGVOZXR3b3JrUGFja2V0RGF0YShsb2NhbFRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBwb3N0QXR0cmlidXRlczogYm9vbGVhbiA9IHRydWUpOiBhbnkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogYW55ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmtFbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5O1xuICAgICAgICAgICAgaWYgKG5ldHdvcmtFbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eU1vdmVtZW50ICE9IG51bGwgJiYgKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlNb3ZlbWVudCA9PT0gQkFCWUxPTi5FbnRpdHlNb3ZlbWVudFR5cGUuQ2xpZW50QXV0aG9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKGxvY2FsVHJhbnNmb3JtLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRQb3NpdGlvbkJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVSb3RhdGlvblRvUmVmKGxvY2FsVHJhbnNmb3JtLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRSb3RhdGlvbkJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFBvc2l0aW9uQnVmZmVyLmNvcHlGcm9tKGxvY2FsVHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRSb3RhdGlvbkJ1ZmZlci5jb3B5RnJvbShsb2NhbFRyYW5zZm9ybS5hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFBvc2l0aW9uQnVmZmVyLmNvcHlGcm9tKGxvY2FsVHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUm90YXRpb25CdWZmZXIuY29weUZyb20obG9jYWxUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkgIT0gbnVsbCkgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kTGluZWFyQnVmZmVyLmNvcHlGcm9tKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZExpbmVhckJ1ZmZlci5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUFuZ3VsYXJWZWxvY2l0eSAhPSBudWxsKSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRBbmd1bGFyQnVmZmVyLmNvcHlGcm9tKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QW5ndWxhclZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRBbmd1bGFyQnVmZmVyLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwMDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwMTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwMjogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwMzogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwNDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwNTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwNjogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwNzogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwODogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEwOTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExMDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExMTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExMjogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExMzogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExNDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExNTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExNjogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExNzogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExODogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExOTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RBdHRyaWJ1dGVzID09PSB0cnVlICYmICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIwXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDAgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTAxID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjFcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjJcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwMiA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIyXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIzXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDMgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiM1wiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiNFwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTA0ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjRcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjVcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwNSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI1XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI2XCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDYgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiNlwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiN1wiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTA3ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjdcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjhcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwOCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI4XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI5XCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDkgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiOVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTBcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExMCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTFcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExMSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTJcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExMiA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMlwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTNcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExMyA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxM1wiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTRcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExNCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTVcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExNSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTZcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExNiA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNlwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTdcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExNyA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxN1wiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMThcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExOCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxOFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMTlcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGExOSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxOVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgTmV0d29yayBFbnRpdHkgVXBkYXRlIFBhY2tldFxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWNrZXQ6IGFueSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQuaWQgPSBuZXR3b3JrRW50aXR5LmlkO1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQueFBvcyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFBvc2l0aW9uQnVmZmVyLng7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC55UG9zID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUG9zaXRpb25CdWZmZXIueTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnpQb3MgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRQb3NpdGlvbkJ1ZmZlci56O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQueFJvdCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFJvdGF0aW9uQnVmZmVyLng7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC55Um90ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUm90YXRpb25CdWZmZXIueTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnpSb3QgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRSb3RhdGlvbkJ1ZmZlci56O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQud1JvdCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFJvdGF0aW9uQnVmZmVyLnc7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC54VmVsID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kTGluZWFyQnVmZmVyLng7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC55VmVsID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kTGluZWFyQnVmZmVyLnk7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC56VmVsID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kTGluZWFyQnVmZmVyLno7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC54QW5nID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kQW5ndWxhckJ1ZmZlci54O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQueUFuZyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZEFuZ3VsYXJCdWZmZXIueTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnpBbmcgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRBbmd1bGFyQnVmZmVyLno7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDAgPSBhMDA7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDEgPSBhMDE7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDIgPSBhMDI7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDMgPSBhMDM7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDQgPSBhMDQ7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDUgPSBhMDU7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDYgPSBhMDY7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDcgPSBhMDc7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDggPSBhMDg7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMDkgPSBhMDk7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTAgPSBhMTA7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTEgPSBhMTE7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTIgPSBhMTI7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTMgPSBhMTM7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTQgPSBhMTQ7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTUgPSBhMTU7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTYgPSBhMTY7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTcgPSBhMTc7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTggPSBhMTg7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5hMTkgPSBhMTk7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5zcGVlZCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZExpbmVhckJ1ZmZlci5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcGFja2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBFbnRpdHkgU3RhdGljIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgSm9pbkRlZmF1bHRSb29tSGFuZGxlcihpbmZvOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuVXNlclJlZmVyZW5jZSA9IGluZm8udXNlcjtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya1NlcnZlclRpbWUgPSBpbmZvLnNlcnZlclRpbWU7XG4gICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkludGVycG9sYXRpb25CdWZmZXIgPSBpbmZvLmludGVycG9sYXRpb25CdWZmZXI7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJUQ1A6IFlvdSBhcmUgY29ubmVjdGVkIHRvIHRoZSBkZWZhdWx0IHJvb20gY2hhbm5lbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEFkZE5ldHdvcmtFbnRpdHlIYW5kbGVyKGVudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCBrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gUFJPQ0VTUyBRVUVVRUQgTkVUV09SSyBFTlRJVElFU1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlLmZvckVhY2goKHZ4OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIGt4OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUHJvY2Vzc05ldHdvcmtFbnRpdHlIYW5kbGVyKHZ4LCBreCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZS5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFBST0NFU1MgTkVXIE5FVFdPUksgRU5USVRZIElURU1cbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlByb2Nlc3NOZXR3b3JrRW50aXR5SGFuZGxlcihlbnRpdHksIGtleSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZSA9PSBudWxsKSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZSA9IG5ldyBNYXA8c3RyaW5nLCBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHk+KCk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUuc2V0KGtleSwgZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFByb2Nlc3NOZXR3b3JrRW50aXR5SGFuZGxlcihlbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwga2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vY29uc29sZS53YXJuKFwiPj4+IEFkZCBOZXcgTmV0d29yayBFbnRpdHk6IFwiICsga2V5KTtcbiAgICAgICAgICAgIGNvbnN0IGFlbnRpdHk6IGFueSA9IGVudGl0eTtcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lUmVmOiBCQUJZTE9OLlNjZW5lID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW90ZVByZWZhYjogc3RyaW5nID0gZW50aXR5LmF0dHJpYnV0ZXMuZ2V0KFwicmVtb3RlUHJlZmFiXCIpO1xuICAgICAgICAgICAgY29uc3QgYXNzZXRDb250YWluZXI6IHN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcImFzc2V0Q29udGFpbmVyXCIpO1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tSGFuZGxlcjogc3RyaW5nID0gZW50aXR5LmF0dHJpYnV0ZXMuZ2V0KFwiY3VzdG9tSGFuZGxlclwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVtZW50RXBzaWxvbjogc3RyaW5nID0gZW50aXR5LmF0dHJpYnV0ZXMuZ2V0KFwibW92ZW1lbnRFcHNpbG9uXCIpO1xuICAgICAgICAgICAgY29uc3QgbW92ZW1lbnRUeXBlOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJtb3ZlbWVudFR5cGVcIik7XG4gICAgICAgICAgICBjb25zdCBpbnRlcm9wbGF0aW9uOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJpbnRlcm9wbGF0aW9uXCIpO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyZWRBdHRyaWJzOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJidWZmZXJlZEF0dHJpYnNcIik7XG4gICAgICAgICAgICBjb25zdCBzeW5jVHJhbnNmb3JtOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJzeW5jVHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgY29uc3QgcGxheWVyQXZhdGFyOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJwbGF5ZXJBdmF0YXJcIik7XG4gICAgICAgICAgICBjb25zdCBpc0xvY2FsRW50aXR5OiBib29sZWFuID0gKGVudGl0eS5vd25lcklkID09PSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlVzZXJSZWZlcmVuY2UuaWQpO1xuICAgICAgICAgICAgaWYgKGlzTG9jYWxFbnRpdHkgPT09IGZhbHNlKSB7IC8vIE5vdGU6IExvY2FsIE5ldHdvcmsgRW50aXRpZXMgT25seVxuICAgICAgICAgICAgICAgIGFlbnRpdHkub25DaGFuZ2UoKGNoYW5nZXM6IGFueSkgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlByb2Nlc3NSZW1vdGVFbnRpdHlDaGFuZ2VzKGVudGl0eSwgY2hhbmdlcyk7IH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc291cmNlTmFtZTogc3RyaW5nID0gZW50aXR5LmF0dHJpYnV0ZXMuZ2V0KFwic291cmNlTmFtZVwiKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VOYW1lID09IG51bGwgfHwgc291cmNlTmFtZSA9PT0gXCJcIikgc291cmNlTmFtZSA9IFwiVW5rbm93blwiO1xuXG4gICAgICAgICAgICBsZXQgdHJhbnNmb3JtTm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB0cmFuc2Zvcm1Ob2RlTmFtZTogc3RyaW5nID0gKHNvdXJjZU5hbWUgKyBcIi5cIiArIGVudGl0eS5vd25lcklkKTtcbiAgICAgICAgICAgIGxldCB0cmFuc2Zvcm1Ob2RlVHlwZTogQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZSA9IChpc0xvY2FsRW50aXR5ID09PSB0cnVlKSA/IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuTG9jYWwgOiBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLlJlbW90ZTtcblxuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwiTmV0d29yayBFbnRpdGllc1wiLCBzY2VuZVJlZik7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0xvY2FsRW50aXR5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0aWFsUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW90ZVByZWZhYiAhPSBudWxsICYmIHJlbW90ZVByZWZhYiAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXRDb250YWluZXIgIT0gbnVsbCAmJiBhc3NldENvbnRhaW5lciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpZXI6IEJBQllMT04uQXNzZXRDb250YWluZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldEFzc2V0Q29udGFpbmVyKHNjZW5lUmVmLCBhc3NldENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkluc3RhbnRpYXRlUHJlZmFiRnJvbUNvbnRhaW5lcihjb250YWllciwgcmVtb3RlUHJlZmFiLCB0cmFuc2Zvcm1Ob2RlTmFtZSwgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZSwgaW5pdGlhbFBvc2l0aW9uLCBpbml0aWFsUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Ob2RlID09IG51bGwpIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBpbnN0YW5pYXRlICdcIiArIHJlbW90ZVByZWZhYiArIFwiJyBmcm9tIGFzc2V0IGNvbnRhaW5lciAnXCIgKyBhc3NldENvbnRhaW5lciArIFwiJy5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkFzc2V0IGNvbnRhaW5lciAnXCIgKyBhc3NldENvbnRhaW5lciArIFwiJyBub3QgcmVnaXN0ZXJlZCBvbiB0aGUgc2NlbmUuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuSW5zdGFudGlhdGVQcmVmYWJGcm9tU2NlbmUoc2NlbmVSZWYsIHJlbW90ZVByZWZhYiwgdHJhbnNmb3JtTm9kZU5hbWUsIEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUsIGluaXRpYWxQb3NpdGlvbiwgaW5pdGlhbFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Ob2RlID09IG51bGwpIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBpbnN0YW5pYXRlICdcIiArIHJlbW90ZVByZWZhYiArIFwiJyBmcm9tIGN1cnJlbnQgc2NlbmUuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Ob2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUodHJhbnNmb3JtTm9kZU5hbWUsIHNjZW5lUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZS5wYXJlbnQgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJvb3ROb2RlO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlLnBvc2l0aW9uID0gaW5pdGlhbFBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUucm90YXRpb25RdWF0ZXJuaW9uID0gaW5pdGlhbFJvdGF0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUubmFtZSA9IHRyYW5zZm9ybU5vZGVOYW1lOyAvLyBOb3RlOiBEb3VibGUgQ2hlY2sgVHJhbnNmb3JtIE5vZGUgTmFtZSBJcyBTZXRcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlLnNldEVuYWJsZWQoZmFsc2UpOyAgICAgICAgLy8gTm90ZTogRGlzYWJsZSBSb290IE5vZGUgVW50aWwgSW5pdGlhbCBBY3RpdmF0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBIaWRlIE5ldG93cmsgQXZhdGFyIFBsYXllciBBcm1hdHVyZVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyQXZhdGFyICE9IG51bGwgJiYgcGxheWVyQXZhdGFyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBza2luczogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IHRyYW5zZm9ybU5vZGUuZ2V0Q2hpbGRNZXNoZXMoZmFsc2UsIChub2RlOiBCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyByZXR1cm4gKG5vZGUuc2tlbGV0b24gIT0gbnVsbCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraW5zICE9IG51bGwgJiYgc2tpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraW5zLmZvckVhY2goKHNraW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhZzogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcoc2tpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFnICE9IG51bGwgJiYgc3RhZyA9PT0gXCJBcm1hdHVyZVwiIHx8IHNraW4ubmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKFwiLnNraW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraW4uaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtTm9kZUJ5SUQoc2NlbmVSZWYsIGVudGl0eS5jcmVhdGlvbklkKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtTm9kZSA9PSBudWxsKSBCQUJZTE9OLlRvb2xzLldhcm4oXCJGYWlsZWQgdG8gbG9jYXRlIGxvY2FsIGVudGl0eSB0cmFuc2Zvcm0gJ1wiICsgZW50aXR5LmNyZWF0aW9uSWQgKyBcIicgaW4gY3VycmVudCBzY2VuZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgQ3VzdG9tIEludGVycG9sYXRpb24gSGFuZGxlclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGxldCBjdXN0b21IYW5kbGVyRnVuYzogKGVudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCB0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgZGVsdGFUaW1lOiBudW1iZXIpID0+IHZvaWQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGN1c3RvbUhhbmRsZXIgIT0gbnVsbCAmJiBjdXN0b21IYW5kbGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY3VzdG9tSGFuZGxlckZ1bmMgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkN1c3RvbUhhbmRsZXJNYXAuZ2V0KGN1c3RvbUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGlmIChjdXN0b21IYW5kbGVyRnVuYyA9PSBudWxsKSBCQUJZTE9OLlRvb2xzLldhcm4oXCJDdXN0b20gaW50ZXJvcGxhdGlvbiBoYW5kbGVyIG5vdCBmb3VuZDogXCIgKyBjdXN0b21IYW5kbGVyICsgXCIuIERlZmF1bHQgaW50ZXJwb2xhdGlvbiB3aWxsIGJlIHVzZWQgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gTGluayBFbnRpdHkgQW5kIFRyYW5zZm9ybSBOb2RlIFJlZmVyZW5jZXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlID0gdHJhbnNmb3JtTm9kZTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGVUeXBlID0gdHJhbnNmb3JtTm9kZVR5cGU7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHkgPSBlbnRpdHlcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVR5cGUgPSB0cmFuc2Zvcm1Ob2RlVHlwZTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVN5bmMgPSAoc3luY1RyYW5zZm9ybSAhPSBudWxsICYmIHN5bmNUcmFuc2Zvcm0gPT09IFwidHJ1ZVwiKTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUJhdGNoID0gbnVsbDtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUhhbmRsZXIgPSBjdXN0b21IYW5kbGVyRnVuYztcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUVwc2lsb24gPSAobW92ZW1lbnRFcHNpbG9uICE9IG51bGwgJiYgbW92ZW1lbnRFcHNpbG9uICE9PSBcIlwiKSA/IHBhcnNlRmxvYXQobW92ZW1lbnRFcHNpbG9uKSA6IDAuMDAwMDE7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlNb3ZlbWVudCA9IChtb3ZlbWVudFR5cGUgIT0gbnVsbCAmJiBtb3ZlbWVudFR5cGUgIT09IFwiXCIpID8gcGFyc2VGbG9hdChtb3ZlbWVudFR5cGUpIDogMDtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUludGVycG9sYXRlID0gKGludGVyb3BsYXRpb24gIT0gbnVsbCAmJiBpbnRlcm9wbGF0aW9uICE9PSBcIlwiKSA/IHBhcnNlRmxvYXQoaW50ZXJvcGxhdGlvbikgOiAwO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5QWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMYXN0UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGluZWFyVmVsb2NpdHkgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1Bvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtSb3RhdGlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrVmVsb2NpdHkgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1NjYWxpbmcgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUludGVycEJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlQbGF5ZXJBdmF0YXIgPSBwbGF5ZXJBdmF0YXI7XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5vZGVUeXBlID09IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuUmVtb3RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb25Nb2RlOiBudW1iZXIgPSBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUludGVycG9sYXRlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbk1vZGUgIT09IEJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbi5DdXN0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlckF0dHJpYnM6IGFueSA9IChidWZmZXJlZEF0dHJpYnMgIT0gbnVsbCAmJiBidWZmZXJlZEF0dHJpYnMgIT09IFwiXCIpID8gSlNPTi5wYXJzZShidWZmZXJlZEF0dHJpYnMpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwQnVmZmVyID0gbmV3IEludGVycG9sYXRpb25CdWZmZXIoaW50ZXJwb2xhdGlvbk1vZGUsIEJBQllMT04uTmV0d29ya01hbmFnZXIuSW50ZXJwb2xhdGlvbkJ1ZmZlciwgYnVmZmVyQXR0cmlicyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybU5vZGVUeXBlID09IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuTG9jYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTG9jYWwgT25seSBTZXR1cFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGVUeXBlID0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5Ob25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkNyZWF0ZUVudGl0eU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGVudGl0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBQcm9jZXNzUmVtb3RlRW50aXR5Q2hhbmdlcyhlbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgY2hhbmdlczogYW55KTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoZW50aXR5ICE9IG51bGwgJiYgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlICE9IG51bGwgJiYgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlTeW5jICE9IG51bGwgJiYgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlTeW5jID09PSB0cnVlICYmICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZVR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGVUeXBlID09PSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLlJlbW90ZSkgeyAvLyBOb3RlOiBSZW1vdGUgTmV0d29yayBFbnRpdGllcyBPbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJQcm9jZXNzUmVtb3RlRW50aXR5Q2hhbmdlczogXCIsIGVudGl0eSwgY2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1Bvc2l0aW9uLnNldChlbnRpdHkueFBvcywgZW50aXR5LnlQb3MsIGVudGl0eS56UG9zKTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrUm90YXRpb24uc2V0KGVudGl0eS54Um90LCBlbnRpdHkueVJvdCwgZW50aXR5LnpSb3QsIGVudGl0eS53Um90KTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrVmVsb2NpdHkuc2V0KGVudGl0eS54VmVsLCBlbnRpdHkueVZlbCwgZW50aXR5LnpWZWwpO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtTY2FsaW5nLnNldCgxLjAsIDEuMCwgMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwQnVmZmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtSb3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtWZWxvY2l0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxpbmc6IEJBQllMT04uVmVjdG9yMyA9ICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1NjYWxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUludGVycEJ1ZmZlci5hcHBlbmRCdWZmZXIocG9zaXRpb24sIHZlbG9jaXR5LCByb3RhdGlvbiwgc2NhbGluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBSZW1vdmVOZXR3b3JrRW50aXR5SGFuZGxlcihlbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwga2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGFlbnRpdHk6IGFueSA9IGVudGl0eTtcbiAgICAgICAgICAgIGlmIChhZW50aXR5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCAmJiBhZW50aXR5LnRyYW5zZm9ybU5vZGVUeXBlICE9IG51bGwgJiYgYWVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZSA9PT0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5SZW1vdGUpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCI+Pj4gUmVtb3ZlIFJlbW90ZSBOZXR3b3JrIEVudGl0eTogXCIgKyBrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChhZW50aXR5LnRyYW5zZm9ybU5vZGUuZGlzcG9zZSkgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuT25SZW1vdmVFbnRpdHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJhYnlsb24gdW5pdmVyc2FsIGdhbWUgcm9vbSBjb250cm9sbGVyIChDb2x5c2V1cyBVbml2ZXJzYWwgR2FtZSBSb29tKVxuICAgICAqIFN1cHBvcnRzIG5ldHdvcmsgdXNlcnMsIGVudGl0aWVzLCBhdHRyaWJ1dGVzLCByZW1vdGUgZnVuY3Rpb24gY2FsbHMsIGN1c3RvbSBtZXNzYWdlcywgY3VzdG9tIG1ldGhvZHMgYW5kIGN1c3RvbSByb29tIGxvZ2ljIG1vZHVsZXMuXG4gICAgICogQGNsYXNzIFJvb21Db250cm9sbGVyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFJvb21Db250cm9sbGVyIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZW5kUGluZyhyb29tOiBCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tKTogdm9pZCB7XG4gICAgICAgICAgICByb29tLnNlbmQoXCJwaW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2VuZENoYXQocm9vbTogQkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSwgbWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICByb29tLnNlbmQoXCJzZW5kQ2hhdFwiLCB7IHNlc3Npb25JZDogXCIqXCIsIG5hbWU6IFwiKlwiLCBtZXNzYWdlOiBtZXNzYWdlLCB0aW1lc3RhbXA6IC0xIH0pO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ2FsbEN1c3RvbU1ldGhvZChyb29tOiBCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tLCBtZXRob2Q6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgICAgIHJvb20uc2VuZChcImN1c3RvbU1ldGhvZFwiLCB7IG1ldGhvZDogbWV0aG9kLCBwYXJhbTogYXJncyB9KTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIFNldFVzZXJBdHRyaWJ1dGVzKHJvb206IEJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20sIHVzZXJJZDogc3RyaW5nLCBhdHRyaWJ1dGVzVG9TZXQ6IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwic2V0QXR0cmlidXRlXCIsIHsgZW50aXR5SWQ6IG51bGwsIHVzZXJJZDogdXNlcklkLCBhdHRyaWJ1dGVzVG9TZXQ6IGF0dHJpYnV0ZXNUb1NldCB9KTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIFNldEVudGl0eUF0dHJpYnV0ZXMocm9vbTogQkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSwgZW50aXR5SWQ6IHN0cmluZywgYXR0cmlidXRlc1RvU2V0OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIHJvb20uc2VuZChcInNldEF0dHJpYnV0ZVwiLCB7IGVudGl0eUlkOiBlbnRpdHlJZCwgdXNlcklkOiBudWxsLCBhdHRyaWJ1dGVzVG9TZXQ6IGF0dHJpYnV0ZXNUb1NldCB9KTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIENyZWF0ZU5ldHdvcmtFbnRpdHkocm9vbTogQkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSwgb3duZXJOYW1lOiBzdHJpbmcsIGxvY2FsVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHJlbW90ZVByZWZhYjogc3RyaW5nID0gbnVsbCwgYXNzZXRDb250YWluZXI6IHN0cmluZyA9IG51bGwsIG1vdmVtZW50RXBzaWxvbjogbnVtYmVyID0gMC4wMDAwMSwgbW92ZW1lbnRUeXBlOiBCQUJZTE9OLkVudGl0eU1vdmVtZW50VHlwZSA9IEJBQllMT04uRW50aXR5TW92ZW1lbnRUeXBlLkNsaWVudEF1dGhvcml0eSwgaW50ZXJwb2xhdGlvbk1vZGU6IEJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbiA9IEJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbi5EZWZhdWx0LCBhdXRvU3luY1RyYW5zZm9ybTogYm9vbGVhbiA9IHRydWUsIGN1c3RvbUhhbmRsZXJOYW1lOiBzdHJpbmcgPSBudWxsLCBidWZmZXJlZEF0dHJpYnV0ZXM6IGFueSwgY3JlYXRlQXR0cmlidXRlczogYW55ID0gbnVsbCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5QXR0cmlidXRlczogYW55ID0gKGNyZWF0ZUF0dHJpYnV0ZXMgIT0gbnVsbCkgPyBjcmVhdGVBdHRyaWJ1dGVzIDoge307XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbG9jYWxUcmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlSb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gKGxvY2FsVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IGxvY2FsVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiA6IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJWZWN0b3IobG9jYWxUcmFuc2Zvcm0ucm90YXRpb24pO1xuICAgICAgICAgICAgZW50aXR5QXR0cmlidXRlc1tcIm93bmVyTmFtZVwiXSA9IG93bmVyTmFtZTtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJzb3VyY2VOYW1lXCJdID0gKGxvY2FsVHJhbnNmb3JtLm5hbWUgIT0gbnVsbCkgPyBsb2NhbFRyYW5zZm9ybS5uYW1lIDogbG9jYWxUcmFuc2Zvcm0uaWQ7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiY3JlYXRpb25Qb3NcIl0gPSBbZW50aXR5UG9zaXRpb24ueCwgZW50aXR5UG9zaXRpb24ueSwgZW50aXR5UG9zaXRpb24uel07XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiY3JlYXRpb25Sb3RcIl0gPSBbZW50aXR5Um90YXRpb24ueCwgZW50aXR5Um90YXRpb24ueSwgZW50aXR5Um90YXRpb24ueiwgZW50aXR5Um90YXRpb24ud107XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wicmVtb3RlUHJlZmFiXCJdID0gcmVtb3RlUHJlZmFiO1xuICAgICAgICAgICAgZW50aXR5QXR0cmlidXRlc1tcImFzc2V0Q29udGFpbmVyXCJdID0gYXNzZXRDb250YWluZXI7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiY3VzdG9tSGFuZGxlclwiXSA9IGN1c3RvbUhhbmRsZXJOYW1lO1xuICAgICAgICAgICAgZW50aXR5QXR0cmlidXRlc1tcIm1vdmVtZW50RXBzaWxvblwiXSA9IG1vdmVtZW50RXBzaWxvbi50b1N0cmluZygpO1xuICAgICAgICAgICAgZW50aXR5QXR0cmlidXRlc1tcIm1vdmVtZW50VHlwZVwiXSA9IG1vdmVtZW50VHlwZS50b1N0cmluZygpO1xuICAgICAgICAgICAgZW50aXR5QXR0cmlidXRlc1tcImludGVyb3BsYXRpb25cIl0gPSBpbnRlcnBvbGF0aW9uTW9kZS50b1N0cmluZygpO1xuICAgICAgICAgICAgZW50aXR5QXR0cmlidXRlc1tcInN5bmNUcmFuc2Zvcm1cIl0gPSBhdXRvU3luY1RyYW5zZm9ybS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiYnVmZmVyZWRBdHRyaWJzXCJdID0gKGJ1ZmZlcmVkQXR0cmlidXRlcyAhPSBudWxsKSA/IEpTT04uc3RyaW5naWZ5KGJ1ZmZlcmVkQXR0cmlidXRlcykgOiBudWxsO1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwiY3JlYXRlRW50aXR5XCIsIHsgY3JlYXRpb25JZDogbG9jYWxUcmFuc2Zvcm0uaWQsIGF0dHJpYnV0ZXM6IGVudGl0eUF0dHJpYnV0ZXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBSZW1vdmVOZXR3b3JrRW50aXR5KHJvb206IEJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20sIGVudGl0eUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIHJvb20uc2VuZChcInJlbW92ZUVudGl0eVwiLCBlbnRpdHlJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBFeGVjdXRlUmVtb3RlRnVuY3Rpb25DYWxsKHJvb206IEJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20sIHRhcmdldDogQkFCWUxPTi5SZW1vdGVGdW5jdGlvbkNhbGxUYXJnZXQsIGVudGl0eUlkOiBzdHJpbmcsIGZ1bmM6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgICAgIHJvb20uc2VuZChcInJlbW90ZUZ1bmN0aW9uQ2FsbFwiLCB7IGVudGl0eUlkOiBlbnRpdHlJZCwgZnVuY3Rpb246IGZ1bmMsIHBhcmFtOiBhcmdzLCB0YXJnZXQ6IHRhcmdldCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBOZXR3b3JrIHN1cHBvcnQgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyAoQ29seXNldXMgVW5pdmVyc2FsIEdhbWUgUm9vbSlcbiAgICAgKiBTdXBwb3J0cyBuZXR3b3JrIHVzZXJzLCBlbnRpdGllcywgYXR0cmlidXRlcywgcmVtb3RlIGZ1bmN0aW9uIGNhbGxzLCBjdXN0b20gbWVzc2FnZXMsIGN1c3RvbSBtZXRob2RzIGFuZCBjdXN0b20gcm9vbSBsb2dpYyBtb2R1bGVzLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbHlzZXVzTmV0d29ya0VudGl0eSB7XG4gICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgIG93bmVySWQ6IHN0cmluZztcbiAgICAgICAgY3JlYXRpb25JZDogc3RyaW5nO1xuICAgICAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgICAgICAgYXR0cmlidXRlczogTWFwPHN0cmluZywgc3RyaW5nPjtcbiAgICAgICAgLy8gLi5cbiAgICAgICAgLy8gV29ybGQgU3RhdGUgUHJvcGVydGllc1xuICAgICAgICAvLyAuLlxuICAgICAgICB4UG9zOiBudW1iZXI7XG4gICAgICAgIHlQb3M6IG51bWJlcjtcbiAgICAgICAgelBvczogbnVtYmVyO1xuICAgICAgICB4Um90OiBudW1iZXI7XG4gICAgICAgIHlSb3Q6IG51bWJlcjtcbiAgICAgICAgelJvdDogbnVtYmVyO1xuICAgICAgICB3Um90OiBudW1iZXI7XG4gICAgICAgIHhWZWw6IG51bWJlcjtcbiAgICAgICAgeVZlbDogbnVtYmVyO1xuICAgICAgICB6VmVsOiBudW1iZXI7XG4gICAgICAgIHhBbmc6IG51bWJlcjtcbiAgICAgICAgeUFuZzogbnVtYmVyO1xuICAgICAgICB6QW5nOiBudW1iZXI7XG4gICAgICAgIGF1eDAwOiBudW1iZXI7XG4gICAgICAgIGF1eDAxOiBudW1iZXI7XG4gICAgICAgIGF1eDAyOiBudW1iZXI7XG4gICAgICAgIGF1eDAzOiBudW1iZXI7XG4gICAgICAgIGF1eDA0OiBudW1iZXI7XG4gICAgICAgIGF1eDA1OiBudW1iZXI7XG4gICAgICAgIGF1eDA2OiBudW1iZXI7XG4gICAgICAgIGF1eDA3OiBudW1iZXI7XG4gICAgICAgIGF1eDA4OiBudW1iZXI7XG4gICAgICAgIGF1eDA5OiBudW1iZXI7XG4gICAgICAgIGF1eDEwOiBudW1iZXI7XG4gICAgICAgIGF1eDExOiBudW1iZXI7XG4gICAgICAgIGF1eDEyOiBudW1iZXI7XG4gICAgICAgIGF1eDEzOiBudW1iZXI7XG4gICAgICAgIGF1eDE0OiBudW1iZXI7XG4gICAgICAgIGF1eDE1OiBudW1iZXI7XG4gICAgICAgIGF1eDE2OiBudW1iZXI7XG4gICAgICAgIGF1eDE3OiBudW1iZXI7XG4gICAgICAgIGF1eDE4OiBudW1iZXI7XG4gICAgICAgIGF1eDE5OiBudW1iZXI7XG4gICAgICAgIHNwZWVkOiBudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbHlzZXVzTmV0d29ya1VzZXIge1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIHNlc3Npb25JZDogc3RyaW5nO1xuICAgICAgICBjb25uZWN0ZWQ6IGJvb2xlYW47XG4gICAgICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgICAgICBhdHRyaWJ1dGVzOiBNYXA8c3RyaW5nLCBzdHJpbmc+O1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDb2x5c2V1c0NoYXRNZXNzYWdlIHtcbiAgICAgICAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ29seXNldXNDaGF0UXVldWUge1xuICAgICAgICBtZXNzYWdlczogQkFCWUxPTi5JQ29seXNldXNDaGF0TWVzc2FnZVtdO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDb2x5c2V1c1Jvb21TdGF0ZSB7XG4gICAgICAgIGVudGl0aWVzOiBNYXA8c3RyaW5nLCBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHk+O1xuICAgICAgICB1c2VyczogTWFwPHN0cmluZywgQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrVXNlcj47XG4gICAgICAgIHF1ZXVlOiBNYXA8c3RyaW5nLCBCQUJZTE9OLklDb2x5c2V1c0NoYXRRdWV1ZT47XG4gICAgICAgIGF0dHJpYnV0ZXM6IE1hcDxzdHJpbmcsIHN0cmluZz47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5ldHdvcmsgSW50ZXJwb2xhdGlvbiBCdWZmZXJcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vdmlyYmVsYS9idWZmZXJlZC1pbnRlcnBvbGF0aW9uXG4gICAgICovXG4gICAgZXhwb3J0IGVudW0gQnVmZmVyU3RhdGUge1xuICAgICAgICBJTklUSUFMSVpJTkcgPSAwLFxuICAgICAgICBCVUZGRVJJTkcgPSAxLFxuICAgICAgICBQTEFZSU5HID0gMlxuICAgIH1cblxuICAgIGV4cG9ydCBlbnVtIEJ1ZmZlck1vZGUge1xuICAgICAgICBNT0RFX0xFUlAgPSAwLFxuICAgICAgICBNT0RFX0hFUk1JVEUgPSAxXG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBmcmFtZSB7XG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzO1xuICAgICAgICB2ZWxvY2l0eTogVmVjdG9yMztcbiAgICAgICAgc2NhbGU6IFZlY3RvcjM7XG4gICAgICAgIHF1YXRlcm5pb246IFF1YXRlcm5pb247XG4gICAgICAgIGF1eDAwOiBudW1iZXI7XG4gICAgICAgIGF1eDAxOiBudW1iZXI7XG4gICAgICAgIGF1eDAyOiBudW1iZXI7XG4gICAgICAgIGF1eDAzOiBudW1iZXI7XG4gICAgICAgIGF1eDA0OiBudW1iZXI7XG4gICAgICAgIGF1eDA1OiBudW1iZXI7XG4gICAgICAgIGF1eDA2OiBudW1iZXI7XG4gICAgICAgIGF1eDA3OiBudW1iZXI7XG4gICAgICAgIGF1eDA4OiBudW1iZXI7XG4gICAgICAgIGF1eDA5OiBudW1iZXI7XG4gICAgICAgIGF1eDEwOiBudW1iZXI7XG4gICAgICAgIGF1eDExOiBudW1iZXI7XG4gICAgICAgIGF1eDEyOiBudW1iZXI7XG4gICAgICAgIGF1eDEzOiBudW1iZXI7XG4gICAgICAgIGF1eDE0OiBudW1iZXI7XG4gICAgICAgIGF1eDE1OiBudW1iZXI7XG4gICAgICAgIGF1eDE2OiBudW1iZXI7XG4gICAgICAgIGF1eDE3OiBudW1iZXI7XG4gICAgICAgIGF1eDE4OiBudW1iZXI7XG4gICAgICAgIGF1eDE5OiBudW1iZXI7XG4gICAgICAgIHNwZWVkOiBudW1iZXI7XG4gICAgICAgIHRpbWU6IG51bWJlcjtcbiAgICB9XG5cbiAgICAvLyBjb25zdCB2ZWN0b3JQb29sOiBWZWN0b3IzW10gPSBbXTtcbiAgICAvLyBjb25zdCBxdWF0UG9vbDogUXVhdGVybmlvbltdID0gW107XG4gICAgY29uc3QgZnJhbWVQb29sOiBmcmFtZVtdID0gW107XG5cbiAgICAvLyBjb25zdCBnZXRQb29sZWRWZWN0b3I6ICgpID0+IFZlY3RvcjMgPSAoKSA9PiB2ZWN0b3JQb29sLnNoaWZ0KCkgfHwgbmV3IFZlY3RvcjMoKTtcbiAgICAvLyBjb25zdCBnZXRQb29sZWRRdWF0ZXJuaW9uOiAoKSA9PiBRdWF0ZXJuaW9uID0gKCkgPT4gcXVhdFBvb2wuc2hpZnQoKSB8fCBuZXcgUXVhdGVybmlvbigpO1xuXG4gICAgY29uc3QgZ2V0UG9vbGVkRnJhbWU6ICgpID0+IGZyYW1lID0gKCkgPT4ge1xuICAgICAgICBsZXQgZnJhbWUgPSBmcmFtZVBvb2wucG9wKCk7XG5cbiAgICAgICAgaWYgKCFmcmFtZSkge1xuICAgICAgICAgICAgZnJhbWUgPSB7IHBvc2l0aW9uOiBuZXcgVmVjdG9yMygpLCB2ZWxvY2l0eTogbmV3IFZlY3RvcjMoKSwgc2NhbGU6IG5ldyBWZWN0b3IzKDEsIDEsIDEpLCBxdWF0ZXJuaW9uOiBuZXcgUXVhdGVybmlvbigpLCBhdXgwMDogMCwgYXV4MDE6IDAsIGF1eDAyOiAwLCBhdXgwMzogMCwgYXV4MDQ6IDAsIGF1eDA1OiAwLCBhdXgwNjogMCwgYXV4MDc6IDAsIGF1eDA4OiAwLCBhdXgwOTogMCwgYXV4MTA6IDAsIGF1eDExOiAwLCBhdXgxMjogMCwgYXV4MTM6IDAsIGF1eDE0OiAwLCBhdXgxNTogMCwgYXV4MTY6IDAsIGF1eDE3OiAwLCBhdXgxODogMCwgYXV4MTk6IDAsIHNwZWVkOiAwLCB0aW1lOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnJhbWU7XG4gICAgfTtcblxuICAgIGNvbnN0IGZyZWVGcmFtZTogKGY6IGZyYW1lKSA9PiB2b2lkID0gZiA9PiBmcmFtZVBvb2wucHVzaChmKTtcblxuICAgIGV4cG9ydCBjbGFzcyBJbnRlcnBvbGF0aW9uQnVmZmVyIHtcbiAgICAgICAgc3RhdGU6IEJ1ZmZlclN0YXRlO1xuICAgICAgICBtb2RlOiBCdWZmZXJNb2RlO1xuICAgICAgICBidWZmZXI6IGZyYW1lW107XG4gICAgICAgIG9yaWdpbkZyYW1lOiBmcmFtZTtcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjM7XG4gICAgICAgIHNjYWxlOiBWZWN0b3IzO1xuICAgICAgICBxdWF0ZXJuaW9uOiBRdWF0ZXJuaW9uO1xuICAgICAgICBhdXgwMDogbnVtYmVyO1xuICAgICAgICBhdXgwMTogbnVtYmVyO1xuICAgICAgICBhdXgwMjogbnVtYmVyO1xuICAgICAgICBhdXgwMzogbnVtYmVyO1xuICAgICAgICBhdXgwNDogbnVtYmVyO1xuICAgICAgICBhdXgwNTogbnVtYmVyO1xuICAgICAgICBhdXgwNjogbnVtYmVyO1xuICAgICAgICBhdXgwNzogbnVtYmVyO1xuICAgICAgICBhdXgwODogbnVtYmVyO1xuICAgICAgICBhdXgwOTogbnVtYmVyO1xuICAgICAgICBhdXgxMDogbnVtYmVyO1xuICAgICAgICBhdXgxMTogbnVtYmVyO1xuICAgICAgICBhdXgxMjogbnVtYmVyO1xuICAgICAgICBhdXgxMzogbnVtYmVyO1xuICAgICAgICBhdXgxNDogbnVtYmVyO1xuICAgICAgICBhdXgxNTogbnVtYmVyO1xuICAgICAgICBhdXgxNjogbnVtYmVyO1xuICAgICAgICBhdXgxNzogbnVtYmVyO1xuICAgICAgICBhdXgxODogbnVtYmVyO1xuICAgICAgICBhdXgxOTogbnVtYmVyO1xuICAgICAgICBzcGVlZDogbnVtYmVyO1xuICAgICAgICB0aW1lOiBudW1iZXI7XG4gICAgICAgIGJ1ZmZlclRpbWU6IG51bWJlcjtcbiAgICAgICAgYnVmZmVyQXR0cmliczogYW55O1xuXG4gICAgICAgIGdldFBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5wb3NpdGlvbjsgfVxuICAgICAgICBnZXRRdWF0ZXJuaW9uKCkgeyByZXR1cm4gdGhpcy5xdWF0ZXJuaW9uOyB9XG4gICAgICAgIGdldFNjYWxlKCkgeyByZXR1cm4gdGhpcy5zY2FsZTsgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKG1vZGUgPSBCdWZmZXJNb2RlLk1PREVfTEVSUCwgYnVmZmVyVGltZSA9IDAuMTUsIGJ1ZmZlckF0dHJpYnMgPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gQnVmZmVyU3RhdGUuSU5JVElBTElaSU5HO1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyVGltZSA9IGJ1ZmZlclRpbWUgKiAxMDAwO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJBdHRyaWJzID0gYnVmZmVyQXR0cmlicztcbiAgICAgICAgICAgIHRoaXMudGltZSA9IDA7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuXG4gICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lID0gZ2V0UG9vbGVkRnJhbWUoKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICAgICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgVmVjdG9yMygxLCAxLCAxKTtcbiAgICAgICAgICAgIHRoaXMuYXV4MDAgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwMSA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDAyID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDMgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwNCA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDA1ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDYgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwNyA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDA4ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDkgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxMCA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDExID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTIgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxMyA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDE0ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTUgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxNiA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDE3ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTggPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxOSA9IDA7XG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlcm1pdGVUb29sa2l0KHRhcmdldDogVmVjdG9yMywgdDogbnVtYmVyLCBwMTogVmVjdG9yMywgcDI6IFZlY3RvcjMsIHYxOiBWZWN0b3IzLCB2MjogVmVjdG9yMykge1xuICAgICAgICAgICAgLy9jb25zdCBkZWx0YVRpbWU6bnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXREZWx0YVNlY29uZHMoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSk7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkhlcm1pdGVWZWN0b3IzVG9SZWYocDEsIHYxLCBwMiwgdjIsIHQsIHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBoZXJtaXRlQmFieWxvbih0YXJnZXQ6IFZlY3RvcjMsIHQ6IG51bWJlciwgcDE6IFZlY3RvcjMsIHAyOiBWZWN0b3IzLCB2MTogVmVjdG9yMywgdjI6IFZlY3RvcjMpIHtcbiAgICAgICAgICAgIC8vY29uc3QgZGVsdGFUaW1lOm51bWJlciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0RGVsdGFTZWNvbmRzKEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UpO1xuICAgICAgICAgICAgY29uc3QgcG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuSGVybWl0ZShwMSwgdjEsIHAyLCB2MiwgdCk7XG4gICAgICAgICAgICB0YXJnZXQuY29weUZyb20ocG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlcm1pdGVMZWdhY3kodGFyZ2V0OiBWZWN0b3IzLCB0OiBudW1iZXIsIHAxOiBWZWN0b3IzLCBwMjogVmVjdG9yMywgdjE6IFZlY3RvcjMsIHYyOiBWZWN0b3IzKSB7XG4gICAgICAgICAgICBjb25zdCB0MiA9IHQgKiB0O1xuICAgICAgICAgICAgY29uc3QgdDMgPSB0ICogdCAqIHQ7XG4gICAgICAgICAgICBjb25zdCBhID0gMiAqIHQzIC0gMyAqIHQyICsgMTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSAtMiAqIHQzICsgMyAqIHQyO1xuICAgICAgICAgICAgY29uc3QgYyA9IHQzIC0gMiAqIHQyICsgdDtcbiAgICAgICAgICAgIGNvbnN0IGQgPSB0MyAtIHQyO1xuXG4gICAgICAgICAgICB0YXJnZXQuY29weUZyb20ocDEuc2NhbGVJblBsYWNlKGEpKTtcbiAgICAgICAgICAgIHRhcmdldC5hZGQocDIuc2NhbGVJblBsYWNlKGIpKTtcbiAgICAgICAgICAgIHRhcmdldC5hZGQodjEuc2NhbGVJblBsYWNlKGMpKTtcbiAgICAgICAgICAgIHRhcmdldC5hZGQodjIuc2NhbGVJblBsYWNlKGQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIENVQklDIEhFUk1PVEUgUkVGRVJFTkNFIChHRFNDUklQVClcbiAgICAgICAgZnVuYyBoZXJtaXRlKHQsIHAxLCBwMiwgdjEsIHYyKTpcbiAgICAgICAgICAgIHZhciB0MiA9IHBvdyh0LCAyKVxuICAgICAgICAgICAgdmFyIHQzID0gcG93KHQsIDMpXG4gICAgICAgICAgICB2YXIgYSA9IDEgLSAzKnQyICsgMip0M1xuICAgICAgICAgICAgdmFyIGIgPSB0MiAqICgzIC0gMip0KVxuICAgICAgICAgICAgdmFyIGMgPSB0ICogcG93KHQgLSAxLCAyKVxuICAgICAgICAgICAgdmFyIGQgPSB0MiAqICh0IC0gMSlcbiAgICAgICAgICAgIHJldHVybiBhICogcDEgKyBiICogcDIgKyBjICogdjEgKyBkICogdjJcbiAgICAgICAgKi9cblxuICAgICAgICBsZXJwKHRhcmdldDogVmVjdG9yMywgdjE6IFZlY3RvcjMsIHYyOiBWZWN0b3IzLCBhbHBoYTogbnVtYmVyKSB7XG4gICAgICAgICAgICBWZWN0b3IzLkxlcnBUb1JlZih2MSwgdjIsIGFscGhhLCB0YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2xlcnAodGFyZ2V0OiBRdWF0ZXJuaW9uLCByMTogUXVhdGVybmlvbiwgcjI6IFF1YXRlcm5pb24sIGFscGhhOiBudW1iZXIpIHtcbiAgICAgICAgICAgIFF1YXRlcm5pb24uU2xlcnBUb1JlZihyMSwgcjIsIGFscGhhLCB0YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlT3JpZ2luRnJhbWVUb0J1ZmZlclRhaWwoKSB7XG4gICAgICAgICAgICBmcmVlRnJhbWUodGhpcy5vcmlnaW5GcmFtZSk7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lID0gdGhpcy5idWZmZXIuc2hpZnQoKSB8fCBnZXRQb29sZWRGcmFtZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXBwZW5kQnVmZmVyKHBvc2l0aW9uPzogVmVjdG9yMywgdmVsb2NpdHk/OiBWZWN0b3IzLCBxdWF0ZXJuaW9uPzogUXVhdGVybmlvbiwgc2NhbGU/OiBWZWN0b3IzLCBhdXgwMDogbnVtYmVyID0gMCwgYXV4MDE6IG51bWJlciA9IDAsIGF1eDAyOiBudW1iZXIgPSAwLCBhdXgwMzogbnVtYmVyID0gMCwgYXV4MDQ6IG51bWJlciA9IDAsIGF1eDA1OiBudW1iZXIgPSAwLCBhdXgwNjogbnVtYmVyID0gMCwgYXV4MDc6IG51bWJlciA9IDAsIGF1eDA4OiBudW1iZXIgPSAwLCBhdXgwOTogbnVtYmVyID0gMCwgYXV4MTA6IG51bWJlciA9IDAsIGF1eDExOiBudW1iZXIgPSAwLCBhdXgxMjogbnVtYmVyID0gMCwgYXV4MTM6IG51bWJlciA9IDAsIGF1eDE0OiBudW1iZXIgPSAwLCBhdXgxNTogbnVtYmVyID0gMCwgYXV4MTY6IG51bWJlciA9IDAsIGF1eDE3OiBudW1iZXIgPSAwLCBhdXgxODogbnVtYmVyID0gMCwgYXV4MTk6IG51bWJlciA9IDAsIHNwZWVkOiBudW1iZXIgPSAwKSB7XG4gICAgICAgICAgICBjb25zdCB0YWlsID0gdGhpcy5idWZmZXIubGVuZ3RoID4gMCA/IHRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbGFzdCBlbnRyeSBpbiB0aGUgYnVmZmVyIGlmIHRoaXMgaXMgdGhlIHNhbWUgZnJhbWVcbiAgICAgICAgICAgIGlmICh0YWlsICYmIHRhaWwudGltZSA9PT0gdGhpcy50aW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uKSB0YWlsLnBvc2l0aW9uLmNvcHlGcm9tKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodmVsb2NpdHkpIHRhaWwudmVsb2NpdHkuY29weUZyb20odmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChxdWF0ZXJuaW9uKSB0YWlsLnF1YXRlcm5pb24uY29weUZyb20ocXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlKSB0YWlsLnNjYWxlLmNvcHlGcm9tKHNjYWxlKTtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDAwID0gYXV4MDA7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwMSA9IGF1eDAxO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDIgPSBhdXgwMjtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDAzID0gYXV4MDM7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwNCA9IGF1eDA0O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDUgPSBhdXgwNTtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDA2ID0gYXV4MDY7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwNyA9IGF1eDA3O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDggPSBhdXgwODtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDA5ID0gYXV4MDk7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxMCA9IGF1eDEwO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTEgPSBhdXgxMTtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDEyID0gYXV4MTI7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxMyA9IGF1eDEzO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTQgPSBhdXgxNDtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDE1ID0gYXV4MTU7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxNiA9IGF1eDE2O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTcgPSBhdXgxNztcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDE4ID0gYXV4MTg7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxOSA9IGF1eDE5O1xuICAgICAgICAgICAgICAgIHRhaWwuc3BlZWQgPSBzcGVlZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJpb3JGcmFtZSA9IHRhaWwgfHwgdGhpcy5vcmlnaW5GcmFtZTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdGcmFtZSA9IGdldFBvb2xlZEZyYW1lKCk7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUucG9zaXRpb24uY29weUZyb20ocG9zaXRpb24gfHwgcHJpb3JGcmFtZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUudmVsb2NpdHkuY29weUZyb20odmVsb2NpdHkgfHwgcHJpb3JGcmFtZS52ZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUucXVhdGVybmlvbi5jb3B5RnJvbShxdWF0ZXJuaW9uIHx8IHByaW9yRnJhbWUucXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuc2NhbGUuY29weUZyb20oc2NhbGUgfHwgcHJpb3JGcmFtZS5zY2FsZSk7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDAgPSBhdXgwMDtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwMSA9IGF1eDAxO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDAyID0gYXV4MDI7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDMgPSBhdXgwMztcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwNCA9IGF1eDA0O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDA1ID0gYXV4MDU7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDYgPSBhdXgwNjtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwNyA9IGF1eDA3O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDA4ID0gYXV4MDg7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDkgPSBhdXgwOTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxMCA9IGF1eDEwO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDExID0gYXV4MTE7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTIgPSBhdXgxMjtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxMyA9IGF1eDEzO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDE0ID0gYXV4MTQ7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTUgPSBhdXgxNTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxNiA9IGF1eDE2O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDE3ID0gYXV4MTc7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTggPSBhdXgxODtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxOSA9IGF1eDE5O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLnNwZWVkID0gc3BlZWQ7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUudGltZSA9IHRoaXMudGltZTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKG5ld0ZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERFRVBSRUNBVEVEOiBzZXRUYXJnZXQocG9zaXRpb246IFZlY3RvcjMsIHZlbG9jaXR5OiBWZWN0b3IzLCBxdWF0ZXJuaW9uOiBRdWF0ZXJuaW9uLCBzY2FsZTogVmVjdG9yMykgeyB0aGlzLmFwcGVuZEJ1ZmZlcihwb3NpdGlvbiwgdmVsb2NpdHksIHF1YXRlcm5pb24sIHNjYWxlKTsgfVxuICAgICAgICAvLyBERUVQUkVDQVRFRDogc2V0UG9zaXRpb24ocG9zaXRpb246IFZlY3RvcjMsIHZlbG9jaXR5OiBWZWN0b3IzKSB7IHRoaXMuYXBwZW5kQnVmZmVyKHBvc2l0aW9uLCB2ZWxvY2l0eSwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOyB9XG4gICAgICAgIC8vIERFRVBSRUNBVEVEOiBzZXRRdWF0ZXJuaW9uKHF1YXRlcm5pb246IFF1YXRlcm5pb24pIHsgdGhpcy5hcHBlbmRCdWZmZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHF1YXRlcm5pb24sIHVuZGVmaW5lZCk7IH1cbiAgICAgICAgLy8gREVFUFJFQ0FURUQ6IHNldFNjYWxlKHNjYWxlOiBWZWN0b3IzKSB7IHRoaXMuYXBwZW5kQnVmZmVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHNjYWxlKTsgfVxuXG4gICAgICAgIHVwZGF0ZShkZWx0YTogbnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQnVmZmVyU3RhdGUuSU5JVElBTElaSU5HKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVPcmlnaW5GcmFtZVRvQnVmZmVyVGFpbCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMub3JpZ2luRnJhbWUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YXRlcm5pb24uY29weUZyb20odGhpcy5vcmlnaW5GcmFtZS5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FsZS5jb3B5RnJvbSh0aGlzLm9yaWdpbkZyYW1lLnNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwMCA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDEgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAyID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwMyA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDQgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDA0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA1ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNiA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDY7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDcgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDA3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA4ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwODtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwOSA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTAgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDEwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDExID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMiA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTMgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDEzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE0ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxNDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxNSA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTYgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDE2O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE3ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxNztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxOCA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTkgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDE5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkID0gdGhpcy5vcmlnaW5GcmFtZS5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEJ1ZmZlclN0YXRlLkJVRkZFUklORztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBCdWZmZXJTdGF0ZS5CVUZGRVJJTkcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCAmJiB0aGlzLnRpbWUgPiB0aGlzLmJ1ZmZlclRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEJ1ZmZlclN0YXRlLlBMQVlJTkc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQnVmZmVyU3RhdGUuUExBWUlORykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmsgPSB0aGlzLnRpbWUgLSB0aGlzLmJ1ZmZlclRpbWU7XG4gICAgICAgICAgICAgICAgLy8gUHVyZ2UgdGhpcy5idWZmZXIgb2YgZXhwaXJlZCBmcmFtZXNcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5idWZmZXIubGVuZ3RoID4gMCAmJiBtYXJrID4gdGhpcy5idWZmZXJbMF0udGltZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IGZyYW1lIGluIHRoZSBidWZmZXIsIGp1c3QgdXBkYXRlIHRoZSB0aW1lIGFuZCByZXVzZSBpdFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVPcmlnaW5GcmFtZVRvQnVmZmVyVGFpbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmJ1ZmZlclswXS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnZlbG9jaXR5LmNvcHlGcm9tKHRoaXMuYnVmZmVyWzBdLnZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUucXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLmJ1ZmZlclswXS5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUuc2NhbGUuY29weUZyb20odGhpcy5idWZmZXJbMF0uc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwMCA9IHRoaXMuYnVmZmVyWzBdLmF1eDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwMSA9IHRoaXMuYnVmZmVyWzBdLmF1eDAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwMiA9IHRoaXMuYnVmZmVyWzBdLmF1eDAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwMyA9IHRoaXMuYnVmZmVyWzBdLmF1eDAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwNCA9IHRoaXMuYnVmZmVyWzBdLmF1eDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwNSA9IHRoaXMuYnVmZmVyWzBdLmF1eDA1O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwNiA9IHRoaXMuYnVmZmVyWzBdLmF1eDA2O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwNyA9IHRoaXMuYnVmZmVyWzBdLmF1eDA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwOCA9IHRoaXMuYnVmZmVyWzBdLmF1eDA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgwOSA9IHRoaXMuYnVmZmVyWzBdLmF1eDA5O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxMCA9IHRoaXMuYnVmZmVyWzBdLmF1eDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxMSA9IHRoaXMuYnVmZmVyWzBdLmF1eDExO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxMiA9IHRoaXMuYnVmZmVyWzBdLmF1eDEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxMyA9IHRoaXMuYnVmZmVyWzBdLmF1eDEzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxNCA9IHRoaXMuYnVmZmVyWzBdLmF1eDE0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxNSA9IHRoaXMuYnVmZmVyWzBdLmF1eDE1O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxNiA9IHRoaXMuYnVmZmVyWzBdLmF1eDE2O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxNyA9IHRoaXMuYnVmZmVyWzBdLmF1eDE3O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxOCA9IHRoaXMuYnVmZmVyWzBdLmF1eDE4O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5hdXgxOSA9IHRoaXMuYnVmZmVyWzBdLmF1eDE5O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5zcGVlZCA9IHRoaXMuYnVmZmVyWzBdLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS50aW1lID0gdGhpcy5idWZmZXJbMF0udGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyWzBdLnRpbWUgPSB0aGlzLnRpbWUgKyBkZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCAmJiB0aGlzLmJ1ZmZlclswXS50aW1lID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRGcmFtZSA9IHRoaXMuYnVmZmVyWzBdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YV90aW1lID0gdGFyZ2V0RnJhbWUudGltZSAtIHRoaXMub3JpZ2luRnJhbWUudGltZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGEgPSAobWFyayAtIHRoaXMub3JpZ2luRnJhbWUudGltZSkgLyBkZWx0YV90aW1lO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBOZXR3b3JrIFRyYW5zbGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09IEJ1ZmZlck1vZGUuTU9ERV9MRVJQKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlcnAodGhpcy5wb3NpdGlvbiwgdGhpcy5vcmlnaW5GcmFtZS5wb3NpdGlvbiwgdGFyZ2V0RnJhbWUucG9zaXRpb24sIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGUgPT09IEJ1ZmZlck1vZGUuTU9ERV9IRVJNSVRFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhlcm1pdGVMZWdhY3koXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEZyYW1lLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUudmVsb2NpdHkuc2NhbGVJblBsYWNlKGRlbHRhX3RpbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEZyYW1lLnZlbG9jaXR5LnNjYWxlSW5QbGFjZShkZWx0YV90aW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFRPT0xLSVQgSEVSTUlURVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oZXJtaXRlVG9vbGtpdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RnJhbWUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS52ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRGcmFtZS52ZWxvY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgKTsqL1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xlcnAodGhpcy5xdWF0ZXJuaW9uLCB0aGlzLm9yaWdpbkZyYW1lLnF1YXRlcm5pb24sIHRhcmdldEZyYW1lLnF1YXRlcm5pb24sIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXJwKHRoaXMuc2NhbGUsIHRoaXMub3JpZ2luRnJhbWUuc2NhbGUsIHRhcmdldEZyYW1lLnNjYWxlLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEVudGl0eSBNb3ZlbWVudCBTcGVlZFxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWVkID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm9yaWdpbkZyYW1lLnNwZWVkLCB0YXJnZXRGcmFtZS5zcGVlZCwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBCdWZmZXJlZCBUYXJnZXQgQXR0cmlic1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAwID0gdGFyZ2V0RnJhbWUuYXV4MDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDEgPSB0YXJnZXRGcmFtZS5hdXgwMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwMiA9IHRhcmdldEZyYW1lLmF1eDAyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAzID0gdGFyZ2V0RnJhbWUuYXV4MDM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDQgPSB0YXJnZXRGcmFtZS5hdXgwNDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNSA9IHRhcmdldEZyYW1lLmF1eDA1O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA2ID0gdGFyZ2V0RnJhbWUuYXV4MDY7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDcgPSB0YXJnZXRGcmFtZS5hdXgwNztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwOCA9IHRhcmdldEZyYW1lLmF1eDA4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA5ID0gdGFyZ2V0RnJhbWUuYXV4MDk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTAgPSB0YXJnZXRGcmFtZS5hdXgxMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMSA9IHRhcmdldEZyYW1lLmF1eDExO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDEyID0gdGFyZ2V0RnJhbWUuYXV4MTI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTMgPSB0YXJnZXRGcmFtZS5hdXgxMztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxNCA9IHRhcmdldEZyYW1lLmF1eDE0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE1ID0gdGFyZ2V0RnJhbWUuYXV4MTU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTYgPSB0YXJnZXRGcmFtZS5hdXgxNjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxNyA9IHRhcmdldEZyYW1lLmF1eDE3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE4ID0gdGFyZ2V0RnJhbWUuYXV4MTg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTkgPSB0YXJnZXRGcmFtZS5hdXgxOTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyQXR0cmlicyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDAgPT09IDEpIHRoaXMuYXV4MDAgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDAsIHRhcmdldEZyYW1lLmF1eDAwLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMCA9PT0gMikgdGhpcy5hdXgwMCA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDAwLCB0YXJnZXRGcmFtZS5hdXgwMCwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDEgPT09IDEpIHRoaXMuYXV4MDEgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDEsIHRhcmdldEZyYW1lLmF1eDAxLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMSA9PT0gMikgdGhpcy5hdXgwMSA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDAxLCB0YXJnZXRGcmFtZS5hdXgwMSwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDIgPT09IDEpIHRoaXMuYXV4MDIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDIsIHRhcmdldEZyYW1lLmF1eDAyLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMiA9PT0gMikgdGhpcy5hdXgwMiA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDAyLCB0YXJnZXRGcmFtZS5hdXgwMiwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDMgPT09IDEpIHRoaXMuYXV4MDMgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDMsIHRhcmdldEZyYW1lLmF1eDAzLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMyA9PT0gMikgdGhpcy5hdXgwMyA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDAzLCB0YXJnZXRGcmFtZS5hdXgwMywgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDQgPT09IDEpIHRoaXMuYXV4MDQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDQsIHRhcmdldEZyYW1lLmF1eDA0LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNCA9PT0gMikgdGhpcy5hdXgwNCA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDA0LCB0YXJnZXRGcmFtZS5hdXgwNCwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDUgPT09IDEpIHRoaXMuYXV4MDUgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDUsIHRhcmdldEZyYW1lLmF1eDA1LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNSA9PT0gMikgdGhpcy5hdXgwNSA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDA1LCB0YXJnZXRGcmFtZS5hdXgwNSwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDYgPT09IDEpIHRoaXMuYXV4MDYgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDYsIHRhcmdldEZyYW1lLmF1eDA2LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNiA9PT0gMikgdGhpcy5hdXgwNiA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDA2LCB0YXJnZXRGcmFtZS5hdXgwNiwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDcgPT09IDEpIHRoaXMuYXV4MDcgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDcsIHRhcmdldEZyYW1lLmF1eDA3LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNyA9PT0gMikgdGhpcy5hdXgwNyA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDA3LCB0YXJnZXRGcmFtZS5hdXgwNywgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDggPT09IDEpIHRoaXMuYXV4MDggPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDgsIHRhcmdldEZyYW1lLmF1eDA4LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwOCA9PT0gMikgdGhpcy5hdXgwOCA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDA4LCB0YXJnZXRGcmFtZS5hdXgwOCwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMDkgPT09IDEpIHRoaXMuYXV4MDkgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MDksIHRhcmdldEZyYW1lLmF1eDA5LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwOSA9PT0gMikgdGhpcy5hdXgwOSA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDA5LCB0YXJnZXRGcmFtZS5hdXgwOSwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTAgPT09IDEpIHRoaXMuYXV4MTAgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTAsIHRhcmdldEZyYW1lLmF1eDEwLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxMCA9PT0gMikgdGhpcy5hdXgxMCA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDEwLCB0YXJnZXRGcmFtZS5hdXgxMCwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTEgPT09IDEpIHRoaXMuYXV4MTEgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTEsIHRhcmdldEZyYW1lLmF1eDExLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxMSA9PT0gMikgdGhpcy5hdXgxMSA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDExLCB0YXJnZXRGcmFtZS5hdXgxMSwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTIgPT09IDEpIHRoaXMuYXV4MTIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTIsIHRhcmdldEZyYW1lLmF1eDEyLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxMiA9PT0gMikgdGhpcy5hdXgxMiA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDEyLCB0YXJnZXRGcmFtZS5hdXgxMiwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTMgPT09IDEpIHRoaXMuYXV4MTMgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTMsIHRhcmdldEZyYW1lLmF1eDEzLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxMyA9PT0gMikgdGhpcy5hdXgxMyA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDEzLCB0YXJnZXRGcmFtZS5hdXgxMywgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTQgPT09IDEpIHRoaXMuYXV4MTQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTQsIHRhcmdldEZyYW1lLmF1eDE0LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxNCA9PT0gMikgdGhpcy5hdXgxNCA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDE0LCB0YXJnZXRGcmFtZS5hdXgxNCwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTUgPT09IDEpIHRoaXMuYXV4MTUgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTUsIHRhcmdldEZyYW1lLmF1eDE1LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxNSA9PT0gMikgdGhpcy5hdXgxNSA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDE1LCB0YXJnZXRGcmFtZS5hdXgxNSwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTYgPT09IDEpIHRoaXMuYXV4MTYgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTYsIHRhcmdldEZyYW1lLmF1eDE2LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxNiA9PT0gMikgdGhpcy5hdXgxNiA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDE2LCB0YXJnZXRGcmFtZS5hdXgxNiwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTcgPT09IDEpIHRoaXMuYXV4MTcgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTcsIHRhcmdldEZyYW1lLmF1eDE3LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxNyA9PT0gMikgdGhpcy5hdXgxNyA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDE3LCB0YXJnZXRGcmFtZS5hdXgxNywgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTggPT09IDEpIHRoaXMuYXV4MTggPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTgsIHRhcmdldEZyYW1lLmF1eDE4LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxOCA9PT0gMikgdGhpcy5hdXgxOCA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDE4LCB0YXJnZXRGcmFtZS5hdXgxOCwgYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzLmludGVycG9sYXRlQnVmZmVyMTkgPT09IDEpIHRoaXMuYXV4MTkgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuYXV4MTksIHRhcmdldEZyYW1lLmF1eDE5LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxOSA9PT0gMikgdGhpcy5hdXgxOSA9IEJBQllMT04uU2NhbGFyLkxlcnBBbmdsZSh0aGlzLm9yaWdpbkZyYW1lLmF1eDE5LCB0YXJnZXRGcmFtZS5hdXgxOSwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gQnVmZmVyU3RhdGUuSU5JVElBTElaSU5HKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lICs9IGRlbHRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEF1dG9Cb2R5R2FyYWdlXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQXV0b0JvZHlHYXJhZ2UgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBtX2JvZHlNYXRlcmlhbDogQkFCWUxPTi5QQlJNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbV9ib2R5QWJ0cmFjdE1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBtYWluTWF0ZXJpYWxJbmRleDogbnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1haW5NYXRlcmlhbEluZGV4XCIsIDApO1xuICAgICAgICAgICAgY29uc3QgbWFpbkJvZHlUcmFuc2Zvcm06IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwibWFpbkJvZHlUcmFuc2Zvcm1cIik7XG4gICAgICAgICAgICBjb25zdCBtYWluQm9keVVuaXR5Q29sb3I6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYWluQm9keVBhaW50Q29sb3JcIik7XG4gICAgICAgICAgICBjb25zdCBtYWluQm9keVBhaW50Q29sb3IgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlQ29sb3IzKG1haW5Cb2R5VW5pdHlDb2xvciwgQkFCWUxPTi5Db2xvcjMuV2hpdGUoKSk7XG4gICAgICAgICAgICBpZiAobWFpbkJvZHlUcmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5QWJ0cmFjdE1lc2ggPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlQ2hpbGRUcmFuc2Zvcm0odGhpcy50cmFuc2Zvcm0sIG1haW5Cb2R5VHJhbnNmb3JtKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JvZHlBYnRyYWN0TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYm9keUFidHJhY3RNZXNoLm1hdGVyaWFsIGluc3RhbmNlb2YgQkFCWUxPTi5NdWx0aU1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtdWx0aU1hdGVyaWFsOiBCQUJZTE9OLk11bHRpTWF0ZXJpYWwgPSB0aGlzLm1fYm9keUFidHJhY3RNZXNoLm1hdGVyaWFsIGFzIEJBQllMT04uTXVsdGlNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdWx0aU1hdGVyaWFsLnN1Yk1hdGVyaWFscyAhPSBudWxsICYmIG11bHRpTWF0ZXJpYWwuc3ViTWF0ZXJpYWxzLmxlbmd0aCA+IG1haW5NYXRlcmlhbEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29weU1hdGVyaWFsOiBCQUJZTE9OLk11bHRpTWF0ZXJpYWwgPSBtdWx0aU1hdGVyaWFsLmNsb25lKG11bHRpTWF0ZXJpYWwubmFtZSArIFwiLlwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSkgYXMgQkFCWUxPTi5NdWx0aU1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk1hdGVyaWFsOiBCQUJZTE9OLk1hdGVyaWFsID0gY29weU1hdGVyaWFsLnN1Yk1hdGVyaWFsc1ttYWluTWF0ZXJpYWxJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weU1hdGVyaWFsLnN1Yk1hdGVyaWFsc1ttYWluTWF0ZXJpYWxJbmRleF0gPSBzdWJNYXRlcmlhbC5jbG9uZShzdWJNYXRlcmlhbC5uYW1lICsgXCIuXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKSBhcyBCQUJZTE9OLlBCUk1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5TWF0ZXJpYWwgPSBjb3B5TWF0ZXJpYWwuc3ViTWF0ZXJpYWxzW21haW5NYXRlcmlhbEluZGV4XSBhcyBCQUJZTE9OLlBCUk1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5QWJ0cmFjdE1lc2gubWF0ZXJpYWwgPSBjb3B5TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYm9keU1hdGVyaWFsID0gdGhpcy5tX2JvZHlBYnRyYWN0TWVzaC5tYXRlcmlhbC5jbG9uZSh0aGlzLm1fYm9keUFidHJhY3RNZXNoLm1hdGVyaWFsLm5hbWUgKyBcIi5cIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpIGFzIEJBQllMT04uUEJSTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYm9keUFidHJhY3RNZXNoLm1hdGVyaWFsID0gdGhpcy5tX2JvZHlNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JvZHlNYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgTWFpbiBCb2R5IEJhc2UgQ29sb3JpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYm9keU1hdGVyaWFsLmlzRnJvemVuKSB0aGlzLm1fYm9keU1hdGVyaWFsLnVuZnJlZXplKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYm9keU1hdGVyaWFsLmFsYmVkb0NvbG9yLmNvcHlGcm9tKG1haW5Cb2R5UGFpbnRDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYm9keU1hdGVyaWFsLmZyZWV6ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGZpbmQgYXV0byBib2R5IG1lc2ggZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyB9XG4gICAgICAgIC8vcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgfVxuICAgICAgICAvL3Byb3RlY3RlZCBhZnRlcigpOiB2b2lkIHsgfVxuICAgICAgICAvL3Byb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB9XG5cbiAgICAgICAgcHVibGljIHNldHVwVmVoaWNsZU1hdGVyaWFscyhib2R5Q29sb3I6IEJBQllMT04uQ29sb3IzLCB3aGVlbENvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG51bGwsIHdoZWVsVHlwZTogbnVtYmVyID0gMCwgZGVjYWxJbmRleDogbnVtYmVyID0gMCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9ib2R5TWF0ZXJpYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFNldCBNYWluIEJvZHkgQmFzZSBDb2xvcmluZ1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYm9keU1hdGVyaWFsLmlzRnJvemVuKSB0aGlzLm1fYm9keU1hdGVyaWFsLnVuZnJlZXplKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlNYXRlcmlhbC5hbGJlZG9Db2xvci5jb3B5RnJvbShib2R5Q29sb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5TWF0ZXJpYWwuZnJlZXplKCk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIFNldHVwIFdoZWVsIFR5cGUgQW5kIENvbG9yXG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIFNldHVwIERlY2FsIEJvZHkgV3JhcHBpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBDaGVja3BvaW50TWFuYWdlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIENoZWNrcG9pbnRNYW5hZ2VyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgY2hlY2tQb2ludExpc3Q6IEJBQllMT04uQWJzdHJhY3RNZXNoW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNoZWNrUG9pbnRDb3VudDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjaGVja1BvaW50SW5kZXg6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbmV4dENoZWNrUG9pbnQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc3RhcnRSYWNlVGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB0b3RhbFJhY2VUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhcE51bWJlcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXBUaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXBUaW1lczogbnVtYmVyW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHBsYXllcklEOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBsYXllck5hbWU6IHN0cmluZyA9IFwiUGxheWVyXCI7XG4gICAgICAgIHByaXZhdGUgcmFjZU92ZXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgcmVnaXN0ZXIoaWQ6IG51bWJlciwgbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnBsYXllcklEID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnBsYXllck5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlJlZ2lzdGVyUGxheWVyKHRoaXMucGxheWVySUQsIHRoaXMucGxheWVyTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldExhcFRpbWVzKCk6IG51bWJlcltdIHsgcmV0dXJuIHRoaXMubGFwVGltZXM7IH1cbiAgICAgICAgcHVibGljIGdldExhcE51bWJlcigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5sYXBOdW1iZXI7IH1cbiAgICAgICAgcHVibGljIGdldENoZWNrUG9pbnQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY2hlY2tQb2ludEluZGV4OyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJOYW1lKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnBsYXllck5hbWU7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllcklEKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnBsYXllcklEOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSYWNlVGltZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50b3RhbFJhY2VUaW1lOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSYWNlT3ZlcigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMucmFjZU92ZXI7IH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmxhcFRpbWVzID0gW107XG4gICAgICAgICAgICB0aGlzLmxhcE51bWJlciA9IDA7XG4gICAgICAgICAgICB0aGlzLm5leHRDaGVja1BvaW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tQb2ludExpc3QgPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuR2V0Q2hlY2twb2ludExpc3QoKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tQb2ludENvdW50ID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkdldENoZWNrcG9pbnRDb3VudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBuZXh0Q2hlY2tQb2ludE5hbWU6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5yYWNlT3ZlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1BvaW50TGlzdCAhPSBudWxsICYmIHRoaXMuY2hlY2tQb2ludExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hlY2twb2ludE1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gdGhpcy5jaGVja1BvaW50TGlzdFt0aGlzLm5leHRDaGVja1BvaW50XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGVja3BvaW50TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDaGVja1BvaW50TmFtZSA9IG5leHRDaGVja3BvaW50TWVzaC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGVja3BvaW50TWVzaC5pbnRlcnNlY3RzUG9pbnQodGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUG9pbnRJbmRleCA9IHRoaXMubmV4dENoZWNrUG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tQb2ludEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhcE51bWJlciA+IDAgJiYgdGhpcy5sYXBUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhcFRpbWU6IG51bWJlciA9IChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldEdhbWVUaW1lKCkgLSB0aGlzLmxhcFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhcFRpbWVzID09IG51bGwpIHRoaXMubGFwVGltZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFwVGltZXMucHVzaChsYXBUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhcE51bWJlcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhcFRpbWVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRHYW1lVGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXBOdW1iZXIgPiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVG90YWxMYXBDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFJhY2VUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFwTnVtYmVyID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlRvdGFsTGFwQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VPdmVyID0gdHJ1ZTsgLy8gR0FNRSBPVkVSOiBDcm9zc2VkIEZpbmlzaCBMaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuRXZlbnRCdXMuUG9zdE1lc3NhZ2UoXCJHYW1lT3ZlclwiKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1heWJlIFJlbW92ZSBBbmQgVXNlIExlYWRlcmJvYXJkIEZvciBXaW5uZXIgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5XaW5uZXJUcmFuc2Zvcm0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5XaW5uZXJUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEhhbmRsZSBXaW4gQ29uZGl0aW9ucyAtID8/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUkFDRSBXSU5ORVI6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2hlY2tQb2ludCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHRDaGVja1BvaW50ID49IHRoaXMuY2hlY2tQb2ludENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENoZWNrUG9pbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gREVCVUcgTE9DQUwgUExBWUVSIENIRUNLUE9JTlRTXG4gICAgICAgICAgICAvLyBpZiAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gXCJMb2NhbFBsYXllclwiKSB7XG4gICAgICAgICAgICAvLyAgICBVVElMLlByaW50VG9TY3JlZW4oXCJDaGVja3BvaW50IEluZGV4OiBcIiArIHRoaXMuY2hlY2tQb2ludEluZGV4LnRvU3RyaW5nKCkgKyBcIiAtLS0+IE5leHQ6IFwiICsgdGhpcy5uZXh0Q2hlY2tQb2ludE5hbWUpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgaWYgKHRoaXMucmFjZU92ZXIgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRSYWNlVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbFJhY2VUaW1lID0gKEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0R2FtZVRpbWUoKSAtIHRoaXMuc3RhcnRSYWNlVGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklEID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVXBkYXRlTGVhZGVyYm9hcmQodGhpcy5wbGF5ZXJJRCwgdGhpcy5sYXBOdW1iZXIsIHRoaXMuY2hlY2tQb2ludEluZGV4LCB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhcnRSYWNlVGltZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydFJhY2VUaW1lID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXBUaW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMucmFjZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmFjZVRpbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldEdhbWVUaW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTmV0d29ya0NhclByZWRpY3Rpb25cbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBOZXR3b3JrQ2FyUHJlZGljdGlvbiBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIGF1dG9SZWdpc3RlcjogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgaGFuZGxlck5hbWU6IHN0cmluZyA9IFwiVmVoaWNsZVByZWRpY3Rpb25cIjtcbiAgICAgICAgcHJpdmF0ZSBleHRyYXBvbGF0ZVRpbWVNczogbnVtYmVyID0gMjAwO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZWdpc3RlciA9PT0gdHJ1ZSkgdGhpcy5yZWdpc3RlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlZ2lzdGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZWdpc3RlckN1c3RvbUludGVycG9sYXRpb25IYW5kbGVyKHRoaXMuaGFuZGxlck5hbWUsIChuZXR3b3JrRW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHJlbW90ZVRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuSGFuZGxlVXBkYXRlKG5ldHdvcmtFbnRpdHksIHJlbW90ZVRyYW5zZm9ybSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBIYW5kbGVVcGRhdGUobmV0d29ya0VudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCByZW1vdGVUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE86IEhhbmRsZSBSZW1vdGUgTmV0d29yayBUcmFuc2Zvcm0gVXBkYXRlXG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIExlZ2FjeUhhbmRsZVVwZGF0ZShuZXR3b3JrRW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHJlbW90ZVRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5RGVsdGFUaW1lOiBudW1iZXIgPSAwOyAvL0JBQllMT04uTmV0d29ya01hbmFnZXIuUmVhZE5ldHdvcmtFbnRpdHlCdWZmZXJEYXRhPG51bWJlcj4ocmVtb3RlVHJhbnNmb3JtLCBCQUJZTE9OLkVudGl0eUJ1ZmZlckRhdGEuRGVsdGFUaW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eUVsYXNwZWRUaW1lOiBudW1iZXIgPSAwOyAvL0JBQllMT04uTmV0d29ya01hbmFnZXIuUmVhZE5ldHdvcmtFbnRpdHlCdWZmZXJEYXRhPG51bWJlcj4ocmVtb3RlVHJhbnNmb3JtLCBCQUJZTE9OLkVudGl0eUJ1ZmZlckRhdGEuRWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgLy9jb25zdCBleHRyYXBvbGF0aW9uT2Zmc2V0OkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuUmVhZE5ldHdvcmtFbnRpdHlCdWZmZXJEYXRhPEJBQllMT04uVmVjdG9yMz4ocmVtb3RlVHJhbnNmb3JtLCBCQUJZTE9OLkVudGl0eUJ1ZmZlckRhdGEuRXh0cmFwb2xhdGlvbk9mZnNldCk7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlEZWx0YVRpbWVNczogbnVtYmVyID0gKGVudGl0eURlbHRhVGltZSAqIDEwMDApO1xuICAgICAgICAgICAgY29uc3QgZW50aXR5RWxhc3BlZFRpbWVNczogbnVtYmVyID0gKGVudGl0eUVsYXNwZWRUaW1lICogMTAwMCk7XG5cbiAgICAgICAgICAgIC8vY29uc3QgbGF0ZXN0U25hcHNob3Q6QkFCWUxPTi5FbnRpdHlTbmFwc2hvdCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuUmVhZE5ldHdvcmtFbnRpdHlCdWZmZXJEYXRhKHJlbW90ZVRyYW5zZm9ybSwgQkFCWUxPTi5FbnRpdHlCdWZmZXJEYXRhLkxhdGVzdFNuYXBzaG90KTtcbiAgICAgICAgICAgIC8vY29uc3QgbmV0d29ya1Bvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IGxhdGVzdFNuYXBzaG90LnBvc2l0aW9uO1xuICAgICAgICAgICAgLy9jb25zdCBuZXR3b3JrUm90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gbGF0ZXN0U25hcHNob3Qucm90YXRpb247XG4gICAgICAgICAgICAvL2NvbnN0IG5ldHdvcmtMaW5lYXJWZWxvY2l0eTpCQUJZTE9OLlZlY3RvcjMgPSBsYXRlc3RTbmFwc2hvdC52ZWxvY2l0eTsgXG4gICAgICAgICAgICAvL2NvbnN0IG5ldHdvcmtBbmd1bGFyVmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gbGF0ZXN0U25hcHNob3QuYW5nbGU7IFxuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5Q3VyclBvc2l0aW9uLmNvcHlGcm9tKHJlbW90ZVRyYW5zZm9ybS5wb3NpdGlvbik7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlDdXJyUG9zaXRpb24uc3VidHJhY3RUb1JlZigoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlQcmV2UG9zaXRpb24sICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUG9zaXRpb24pO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UHJldlBvc2l0aW9uLmNvcHlGcm9tKCg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eUN1cnJQb3NpdGlvbik7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uLnggPSAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uLnggLyBkZWx0YVRpbWU7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uLnkgPSAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uLnkgLyBkZWx0YVRpbWU7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uLnogPSAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uLnogLyBkZWx0YVRpbWU7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlDdXJyUm90YXRpb24uY29weUZyb20ocmVtb3RlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5RdWF0ZXJuaW9uRGlmZlRvUmVmKCg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eUN1cnJSb3RhdGlvbiwgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UHJldlJvdGF0aW9uLCAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVJvdGF0aW9uKTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUm90YXRpb24udG9FdWxlckFuZ2xlc1RvUmVmKCg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhRXVsZXJzKTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhRXVsZXJzLnggPSAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YUV1bGVycy54IC8gZGVsdGFUaW1lO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMueSA9ICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhRXVsZXJzLnkgLyBkZWx0YVRpbWU7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YUV1bGVycy56ID0gKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMueiAvIGRlbHRhVGltZTtcbiAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIGlmIChlbnRpdHlEZWx0YVRpbWVNcyA8PSB0aGlzLmV4dHJhcG9sYXRlVGltZU1zICYmIGVudGl0eUVsYXNwZWRUaW1lTXMgPD0gdGhpcy5leHRyYXBvbGF0ZVRpbWVNcykge1xuICAgICAgICAgICAgICAgIC8vIFF1YXRlcm5pb24gdHVyblJvdGF0aW9uID0gUXVhdGVybmlvbi5FdWxlciggMCwgbV9TeW5jaHJvbml6ZWRUdXJuU3BlZWQgKiB0aW1lUGFzc2VkLCAwICk7XG4gICAgICAgICAgICAgICAgLy8gZXh0cmFwb2xhdGVQb3NpdGlvbiA9IHR1cm5Sb3RhdGlvbiAqICggbV9TeW5jaHJvbml6ZWRTcGVlZCAqIHRpbWVQYXNzZWQgKTsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRXh0cmFwb2xhdGUgTmV3IFRhcmdldCBQb3NpdGlvbiAoQ2xpZW50IFByZWRpY3Rpb24pXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBjb25zdCBxdWF0OkJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXMoYW5ndWxhclZlbG9jaXR5LngsIGFuZ3VsYXJWZWxvY2l0eS55LCBhbmd1bGFyVmVsb2NpdHkueik7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgZXh0cmEgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLk11bHRpcGx5UXVhdGVybmlvbkJ5VmVjdG9yKHF1YXQsIGxpbmVhclZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vbmV0d29ya0xpbmVhclZlbG9jaXR5LnNjYWxlVG9SZWYoZW50aXR5RGVsdGFUaW1lLCBleHRyYXBvbGF0aW9uT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAvL25ldHdvcmtQb3NpdGlvbi5hZGRJblBsYWNlKGV4dHJhcG9sYXRpb25PZmZzZXQpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gSW50ZXJwb2xhdGUgU21vb3RoIE5ldHdvcmsgUG9zaXRpb24gVXBkYXRlIChNb3ZlIFRvd2FyZHMpXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvL2NvbnN0IG1ldGVyc1BlclNlY29uZDpudW1iZXIgPSAobmV0d29ya0xpbmVhclZlbG9jaXR5Lmxlbmd0aCgpICogc2NlbmVEZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Nb3ZlVG93YXJkc1ZlY3RvcjNUb1JlZihyZW1vdGVUcmFuc2Zvcm0ucG9zaXRpb24sIG5ldHdvcmtQb3NpdGlvbiwgbWV0ZXJzUGVyU2Vjb25kLCByZW1vdGVUcmFuc2Zvcm0ucG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSBTbW9vdGggTmV0d29yayBSb3RhdGlvbiBVcGRhdGUgKExlZ2FjeSBTbGVycClcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IENyZWF0ZSBRdWF0ZXJuaW9uIFJvdGF0ZSBUb3dhcmRzXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogR2V0IFNsZXJwIFNwZWVkIEF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIGxldCByb3RhdGlvblNsZXJwRmFjdG9yOiBudW1iZXIgPSAxMC4wO1xuICAgICAgICAgICAgICAgIGxldCByb3RhdGlvbkxlcnBTcGVlZDogbnVtYmVyID0gKHJvdGF0aW9uU2xlcnBGYWN0b3IgKiBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uTGVycFNwZWVkID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAocm90YXRpb25MZXJwU3BlZWQsIDAsIDEpO1xuICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYocmVtb3RlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgbmV0d29ya1JvdGF0aW9uLCByb3RhdGlvbkxlcnBTcGVlZCwgcmVtb3RlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG5cbiAgICAgICAgICAgICAgICAvLyBNT1ZFIFRPIE9OQ0hBTkdFXG4gICAgICAgICAgICAgICAgLy8oPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlQYWNrZXRQb3NpdGlvbi5jb3B5RnJvbShyZW1vdGVUcmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIC8vKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UGFja2V0Um90YXRpb24uY29weUZyb20ocmVtb3RlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgLy8oPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlQYWNrZXRWZWxvY2l0eS5jb3B5RnJvbSgoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eVBhY2tldEFuZ3VsYXIuY29weUZyb20oKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMpOyBcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFR5cGU6QkFCWUxPTi5FbnRpdHlDb250cm9sVHlwZSA9ICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eUNvbnRyb2w7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xUeXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xUeXBlID09PSBCQUJZTE9OLkVudGl0eUNvbnRyb2xUeXBlLlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVXNlIFRyYW5zZm9ybSBEaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xUeXBlID09PSBCQUJZTE9OLkVudGl0eUNvbnRyb2xUeXBlLlJpZ2lkYm9keVBoeXNpY3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVRyYW5zZm9ybU1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSByZW1vdGVUcmFuc2Zvcm0gYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3RlVHJhbnNmb3JtTWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBlbnRpdHlEZWx0YVRpbWU6bnVtYmVyID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZWFkTmV0d29ya0VudGl0eUJ1ZmZlckRhdGE8bnVtYmVyPihyZW1vdGVUcmFuc2Zvcm0sIEJBQllMT04uRW50aXR5QnVmZmVyRGF0YS5EZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UmVhbFZlbG9jaXR5LnNjYWxlSW5QbGFjZShlbnRpdHlEZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3RlVHJhbnNmb3JtTWVzaC5waHlzaWNzSW1wb3N0b3Iuc2V0TGluZWFyVmVsb2NpdHkoKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UmVhbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiU0VUIFZFTE9DSVRZOiBcIiArIHJlbW90ZVRyYW5zZm9ybS5uYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHIudmVsb2NpdHkgPSBWZWN0b3IzLkxlcnAodmVsb2NpdHlBdExhc3RQYWNrZXQsIGxhdGVzdFZlbG9jaXR5LCAoZmxvYXQpKGN1cnJlbnRUaW1lIC8gdGltZVRvUmVhY2hHb2FsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gci5hbmd1bGFyVmVsb2NpdHkgPSBWZWN0b3IzLkxlcnAoYW5ndWxhclZlbG9jaXR5QXRMYXN0UGFja2V0LCBsYXRlc3RBbmd1bGFyVmVsb2NpdHksIChmbG9hdCkoY3VycmVudFRpbWUgLyB0aW1lVG9SZWFjaEdvYWwpKTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbFR5cGUgPT09IEJBQllMT04uRW50aXR5Q29udHJvbFR5cGUuQ2hhcmFjdGVyQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogRmluZCBBbmQgVXNlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9yZW1vdGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20obmV0d29ya1Bvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvL3JlbW90ZVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obmV0d29ya1JvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBJVHJhY2tOb2RlIHtcbiAgICAgICAgcmFkaXVzOiBudW1iZXI7XG4gICAgICAgIHBvc2l0aW9uOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMztcbiAgICAgICAgcm90YXRpb246IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3I0O1xuICAgICAgICBsb2NhbFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjM7XG4gICAgICAgIGxvY2FsUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbjtcbiAgICAgICAgbG9jYWxEaXN0YW5jZTogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDb250cm9sUG9pbnQge1xuICAgICAgICBzcGVlZDogbnVtYmVyO1xuICAgICAgICB0dmFsdWU6IG51bWJlcjtcbiAgICAgICAgcG9zaXRpb246IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzO1xuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgUm91dGVQb2ludCB7XG4gICAgICAgIHB1YmxpYyBwb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzO1xuICAgICAgICBwdWJsaWMgZGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjM7XG4gICAgfVxuICAgIGV4cG9ydCBjbGFzcyBQbGF5ZXJSYWNlU3RhdHMge1xuICAgICAgICBwdWJsaWMgaWQ6IG51bWJlcjtcbiAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgICAgICAgcHVibGljIHBvc2l0aW9uOiBudW1iZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQlRfUmFjZVRyYWNrTWFuYWdlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFJhY2VUcmFja01hbmFnZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBUcmFja0xlbmd0aDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBUb3RhbExhcENvdW50OiBudW1iZXIgPSAzO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFdpbm5lclRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBDaGVja1BvaW50VGFnOiBzdHJpbmcgPSBcIkNoZWNrcG9pbnRcIjtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgQ2hlY2tQb2ludExpc3Q6IEJBQllMT04uQWJzdHJhY3RNZXNoW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBMZWFkZXJCb2FyZExpc3Q6IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBQbGF5ZXJWZWhpY2xlTGlzdDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlW10gPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgdHJhY2tOb2RlczogUFJPSkVDVC5JVHJhY2tOb2RlW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lRGF0YV8xOiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVEYXRhXzI6IFBST0pFQ1QuSUNvbnRyb2xQb2ludFtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZURhdGFfMzogUFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lRGF0YV80OiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVEYXRhXzU6IFBST0pFQ1QuSUNvbnRyb2xQb2ludFtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZUNvbG9yXzE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDb2xvciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVDb2xvcl8yOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5Q29sb3IgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lQ29sb3JfMzogQkFCWUxPTi5Ub29sa2l0LklVbml0eUNvbG9yID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZUNvbG9yXzQ6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDb2xvciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVDb2xvcl81OiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5Q29sb3IgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGRlYnVnTWVzaExpbmVzXzE6IEJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWJ1Z01lc2hMaW5lc18yOiBCQUJZTE9OLkxpbmVzTWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZGVidWdNZXNoTGluZXNfMzogQkFCWUxPTi5MaW5lc01lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGRlYnVnTWVzaExpbmVzXzQ6IEJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWJ1Z01lc2hMaW5lc181OiBCQUJZTE9OLkxpbmVzTWVzaCA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBwMG46IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcDFuOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHAybjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwM246IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaTogbnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfRXZlbnRCdXM6IEJBQllMT04uVG9vbGtpdC5Mb2NhbE1lc3NhZ2VCdXMgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdldCBFdmVudEJ1cygpOiBCQUJZTE9OLlRvb2xraXQuTG9jYWxNZXNzYWdlQnVzIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuX0V2ZW50QnVzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuX0V2ZW50QnVzID0gbmV3IEJBQllMT04uVG9vbGtpdC5Mb2NhbE1lc3NhZ2VCdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuX0V2ZW50QnVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGRyYXdEZWJ1Z0xpbmVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBnZXRUcmFja05vZGVzKCk6IFBST0pFQ1QuSVRyYWNrTm9kZVtdIHsgcmV0dXJuIHRoaXMudHJhY2tOb2RlczsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q29udHJvbFBvaW50cyhsaW5lOiBudW1iZXIpOiBQUk9KRUNULklDb250cm9sUG9pbnRbXSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgICAgICBzd2l0Y2ggKGxpbmUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmFjZUxpbmVEYXRhXzE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yYWNlTGluZURhdGFfMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJhY2VMaW5lRGF0YV8zO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmFjZUxpbmVEYXRhXzQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yYWNlTGluZURhdGFfNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy50cmFja05vZGVzID0gdGhpcy5nZXRQcm9wZXJ0eShcIlRyYWNrTm9kZXNcIiwgdGhpcy50cmFja05vZGVzKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVEYXRhXzEgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVEYXRhXzFcIiwgdGhpcy5yYWNlTGluZURhdGFfMSk7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV8yID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lRGF0YV8yXCIsIHRoaXMucmFjZUxpbmVEYXRhXzIpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJSYWNlTGluZURhdGFfM1wiLCB0aGlzLnJhY2VMaW5lRGF0YV8zKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVEYXRhXzQgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVEYXRhXzRcIiwgdGhpcy5yYWNlTGluZURhdGFfNCk7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV81ID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lRGF0YV81XCIsIHRoaXMucmFjZUxpbmVEYXRhXzUpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZUNvbG9yXzEgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVDb2xvcl8xXCIsIHRoaXMucmFjZUxpbmVDb2xvcl8xKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVDb2xvcl8yID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lQ29sb3JfMlwiLCB0aGlzLnJhY2VMaW5lQ29sb3JfMik7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lQ29sb3JfMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJSYWNlTGluZUNvbG9yXzNcIiwgdGhpcy5yYWNlTGluZUNvbG9yXzMpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZUNvbG9yXzQgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVDb2xvcl80XCIsIHRoaXMucmFjZUxpbmVDb2xvcl80KTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVDb2xvcl81ID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lQ29sb3JfNVwiLCB0aGlzLnJhY2VMaW5lQ29sb3JfNSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdEZWJ1Z0xpbmVzID0gdGhpcy5nZXRQcm9wZXJ0eShcIkRyYXdEZWJ1Z0xpbmVzXCIsIHRoaXMuZHJhd0RlYnVnTGluZXMpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFja05vZGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVHJhY2tMZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRoaXMudHJhY2tOb2Rlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudDogUFJPSkVDVC5JVHJhY2tOb2RlID0gdGhpcy50cmFja05vZGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdDEgPSB0aGlzLnRyYWNrTm9kZXNbKGluZGV4KSAlIHRoaXMudHJhY2tOb2Rlcy5sZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0MiA9IHRoaXMudHJhY2tOb2Rlc1soaW5kZXggKyAxKSAlIHRoaXMudHJhY2tOb2Rlcy5sZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodDEgIT0gbnVsbCAmJiB0MiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb3Q6IEJBQllMT04uVmVjdG9yNCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3I0KGVsZW1lbnQucm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5sb2NhbFJvdGF0aW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbihyb3QueCwgcm90LnksIHJvdC56LCByb3Qudyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmxvY2FsUG9zaXRpb24gPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhlbGVtZW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAxOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyh0MS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwMjogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjModDIucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5sb2NhbERpc3RhbmNlID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlRyYWNrTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlRyYWNrTGVuZ3RoICs9IChwMS5zdWJ0cmFjdChwMikpLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiPj4+IFJhY2UgVHJhY2sgTm9kZXNcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRyYWNrTm9kZXMpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0ID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0ID0gdGhpcy5zY2VuZS5nZXRNZXNoZXNCeVRhZ3MoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRUYWcpO1xuICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QgIT0gbnVsbCAmJiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3RbaW5kZXhdLnJlZnJlc2hCb3VuZGluZ0luZm8oe30pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZHJhd0RlYnVnTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRTaXplOiBudW1iZXIgPSAwLjU7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVidWdMaW5lczogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuRGVidWdMaW5lc1wiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBkZWJ1Z0xpbmVzLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBkZWJ1Z0xpbmVzLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBUcmFjayBOb2Rlc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tOb2RlcyAhPSBudWxsICYmIHRoaXMudHJhY2tOb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZVBvc18xOiBCQUJZTE9OLlZlY3RvcjNbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFja05vZGVDb2xfMTogQkFCWUxPTi5Db2xvcjMgPSBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFja05vZGVNYXRfMSA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLk5vZGVNYXRlcmlhbFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tOb2RlTWF0XzEuZGlmZnVzZUNvbG9yID0gdHJhY2tOb2RlQ29sXzE7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja05vZGVzLmZvckVhY2goKG5vZGU6IFBST0pFQ1QuSVRyYWNrTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tOb2RlUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMobm9kZS5wb3NpdGlvbi54LCBub2RlLnBvc2l0aW9uLnksIG5vZGUucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFja05vZGVSb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbihub2RlLnJvdGF0aW9uLngsIG5vZGUucm90YXRpb24ueSwgbm9kZS5yb3RhdGlvbi56LCBub2RlLnJvdGF0aW9uLncpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tOb2RlUG9zXzEucHVzaCh0cmFja05vZGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFja05vZGU6IEJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlRyYWNrTm9kZV9cIiArIGluZGV4LCB7IGRpYW1ldGVyVG9wOiAwLCBkaWFtZXRlckJvdHRvbTogKHBvaW50U2l6ZSAqIDIpLCBoZWlnaHQ6IDIuMCB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrTm9kZS5wYXJlbnQgPSBkZWJ1Z0xpbmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tOb2RlLnBvc2l0aW9uLmNvcHlGcm9tKHRyYWNrTm9kZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrTm9kZS5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrTm9kZS5yb3RhdGlvblF1YXRlcm5pb24gPSB0cmFja05vZGVSb3RhdGlvbi5tdWx0aXBseShCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkZyb21FdWxlcig5MCwgMCwgMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tOb2RlLm1hdGVyaWFsID0gdHJhY2tOb2RlTWF0XzE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBSYWNlIExpbmUgNVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmFjZUxpbmVEYXRhXzUgIT0gbnVsbCAmJiB0aGlzLnJhY2VMaW5lRGF0YV81Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb3NfNTogQkFCWUxPTi5WZWN0b3IzW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVDb2xfNTogQkFCWUxPTi5Db2xvcjMgPSAodGhpcy5yYWNlTGluZUNvbG9yXzUgIT0gbnVsbCkgPyBuZXcgQkFCWUxPTi5Db2xvcjModGhpcy5yYWNlTGluZUNvbG9yXzUuciwgdGhpcy5yYWNlTGluZUNvbG9yXzUuZywgdGhpcy5yYWNlTGluZUNvbG9yXzUuYikgOiBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZU1hdF81ID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUG9pbnRNYXRlcmlhbF81XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICByYWNlTGluZU1hdF81LmRpZmZ1c2VDb2xvciA9IHJhY2VMaW5lQ29sXzU7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfNS5mb3JFYWNoKChwb2ludDogUFJPSkVDVC5JQ29udHJvbFBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHBvaW50LnBvc2l0aW9uLngsIHBvaW50LnBvc2l0aW9uLnksIHBvaW50LnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVQb3NfNS5wdXNoKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50XzU6IEJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Db250cm9sUG9pbnRfNV9cIiArIGluZGV4LCB7IHNlZ21lbnRzOiAyNCwgZGlhbWV0ZXI6IChwb2ludFNpemUgKiAyKSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF81LnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfNS5wb3NpdGlvbi5jb3B5RnJvbShyYWNlTGluZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF81LnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzUubWF0ZXJpYWwgPSByYWNlTGluZU1hdF81O1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfNSA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlTGluZXMoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SYWNlTGluZV81XCIpLCB7IHBvaW50czogcmFjZUxpbmVQb3NfNSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc181LnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfNS5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc181LmNvbG9yID0gcmFjZUxpbmVDb2xfNTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBSYWNlIExpbmUgNFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmFjZUxpbmVEYXRhXzQgIT0gbnVsbCAmJiB0aGlzLnJhY2VMaW5lRGF0YV80Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb3NfNDogQkFCWUxPTi5WZWN0b3IzW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVDb2xfNDogQkFCWUxPTi5Db2xvcjMgPSAodGhpcy5yYWNlTGluZUNvbG9yXzQgIT0gbnVsbCkgPyBuZXcgQkFCWUxPTi5Db2xvcjModGhpcy5yYWNlTGluZUNvbG9yXzQuciwgdGhpcy5yYWNlTGluZUNvbG9yXzQuZywgdGhpcy5yYWNlTGluZUNvbG9yXzQuYikgOiBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZU1hdF80ID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUG9pbnRNYXRlcmlhbF80XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICByYWNlTGluZU1hdF80LmRpZmZ1c2VDb2xvciA9IHJhY2VMaW5lQ29sXzQ7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfNC5mb3JFYWNoKChwb2ludDogUFJPSkVDVC5JQ29udHJvbFBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHBvaW50LnBvc2l0aW9uLngsIHBvaW50LnBvc2l0aW9uLnksIHBvaW50LnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVQb3NfNC5wdXNoKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50XzQ6IEJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Db250cm9sUG9pbnRfNF9cIiArIGluZGV4LCB7IHNlZ21lbnRzOiAyNCwgZGlhbWV0ZXI6IChwb2ludFNpemUgKiAyKSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF80LnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfNC5wb3NpdGlvbi5jb3B5RnJvbShyYWNlTGluZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF80LnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzQubWF0ZXJpYWwgPSByYWNlTGluZU1hdF80O1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfNCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlTGluZXMoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SYWNlTGluZV80XCIpLCB7IHBvaW50czogcmFjZUxpbmVQb3NfNCB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc180LnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfNC5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc180LmNvbG9yID0gcmFjZUxpbmVDb2xfNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBSYWNlIExpbmUgM1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmFjZUxpbmVEYXRhXzMgIT0gbnVsbCAmJiB0aGlzLnJhY2VMaW5lRGF0YV8zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb3NfMzogQkFCWUxPTi5WZWN0b3IzW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVDb2xfMzogQkFCWUxPTi5Db2xvcjMgPSAodGhpcy5yYWNlTGluZUNvbG9yXzMgIT0gbnVsbCkgPyBuZXcgQkFCWUxPTi5Db2xvcjModGhpcy5yYWNlTGluZUNvbG9yXzMuciwgdGhpcy5yYWNlTGluZUNvbG9yXzMuZywgdGhpcy5yYWNlTGluZUNvbG9yXzMuYikgOiBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZU1hdF8zID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUG9pbnRNYXRlcmlhbF8zXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICByYWNlTGluZU1hdF8zLmRpZmZ1c2VDb2xvciA9IHJhY2VMaW5lQ29sXzM7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfMy5mb3JFYWNoKChwb2ludDogUFJPSkVDVC5JQ29udHJvbFBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHBvaW50LnBvc2l0aW9uLngsIHBvaW50LnBvc2l0aW9uLnksIHBvaW50LnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVQb3NfMy5wdXNoKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50XzM6IEJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Db250cm9sUG9pbnRfM19cIiArIGluZGV4LCB7IHNlZ21lbnRzOiAyNCwgZGlhbWV0ZXI6IChwb2ludFNpemUgKiAyKSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8zLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMy5wb3NpdGlvbi5jb3B5RnJvbShyYWNlTGluZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8zLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzMubWF0ZXJpYWwgPSByYWNlTGluZU1hdF8zO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMyA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlTGluZXMoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SYWNlTGluZV8zXCIpLCB7IHBvaW50czogcmFjZUxpbmVQb3NfMyB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18zLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMy5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18zLmNvbG9yID0gcmFjZUxpbmVDb2xfMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBSYWNlIExpbmUgMlxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmFjZUxpbmVEYXRhXzIgIT0gbnVsbCAmJiB0aGlzLnJhY2VMaW5lRGF0YV8yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb3NfMjogQkFCWUxPTi5WZWN0b3IzW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVDb2xfMjogQkFCWUxPTi5Db2xvcjMgPSAodGhpcy5yYWNlTGluZUNvbG9yXzIgIT0gbnVsbCkgPyBuZXcgQkFCWUxPTi5Db2xvcjModGhpcy5yYWNlTGluZUNvbG9yXzIuciwgdGhpcy5yYWNlTGluZUNvbG9yXzIuZywgdGhpcy5yYWNlTGluZUNvbG9yXzIuYikgOiBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZU1hdF8yID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUG9pbnRNYXRlcmlhbF8yXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICByYWNlTGluZU1hdF8yLmRpZmZ1c2VDb2xvciA9IHJhY2VMaW5lQ29sXzI7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfMi5mb3JFYWNoKChwb2ludDogUFJPSkVDVC5JQ29udHJvbFBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHBvaW50LnBvc2l0aW9uLngsIHBvaW50LnBvc2l0aW9uLnksIHBvaW50LnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVQb3NfMi5wdXNoKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50XzI6IEJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Db250cm9sUG9pbnRfMl9cIiArIGluZGV4LCB7IHNlZ21lbnRzOiAyNCwgZGlhbWV0ZXI6IChwb2ludFNpemUgKiAyKSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8yLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMi5wb3NpdGlvbi5jb3B5RnJvbShyYWNlTGluZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8yLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzIubWF0ZXJpYWwgPSByYWNlTGluZU1hdF8yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMiA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlTGluZXMoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SYWNlTGluZV8yXCIpLCB7IHBvaW50czogcmFjZUxpbmVQb3NfMiB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18yLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMi5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18yLmNvbG9yID0gcmFjZUxpbmVDb2xfMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBSYWNlIExpbmUgMVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmFjZUxpbmVEYXRhXzEgIT0gbnVsbCAmJiB0aGlzLnJhY2VMaW5lRGF0YV8xLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVQb3NfMTogQkFCWUxPTi5WZWN0b3IzW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFjZUxpbmVDb2xfMTogQkFCWUxPTi5Db2xvcjMgPSAodGhpcy5yYWNlTGluZUNvbG9yXzEgIT0gbnVsbCkgPyBuZXcgQkFCWUxPTi5Db2xvcjModGhpcy5yYWNlTGluZUNvbG9yXzEuciwgdGhpcy5yYWNlTGluZUNvbG9yXzEuZywgdGhpcy5yYWNlTGluZUNvbG9yXzEuYikgOiBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZU1hdF8xID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUG9pbnRNYXRlcmlhbF8xXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICByYWNlTGluZU1hdF8xLmRpZmZ1c2VDb2xvciA9IHJhY2VMaW5lQ29sXzE7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfMS5mb3JFYWNoKChwb2ludDogUFJPSkVDVC5JQ29udHJvbFBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHBvaW50LnBvc2l0aW9uLngsIHBvaW50LnBvc2l0aW9uLnksIHBvaW50LnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFjZUxpbmVQb3NfMS5wdXNoKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50XzE6IEJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Db250cm9sUG9pbnRfMV9cIiArIGluZGV4LCB7IHNlZ21lbnRzOiAyNCwgZGlhbWV0ZXI6IChwb2ludFNpemUgKiAyKSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8xLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMS5wb3NpdGlvbi5jb3B5RnJvbShyYWNlTGluZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8xLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzEubWF0ZXJpYWwgPSByYWNlTGluZU1hdF8xO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMSA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlTGluZXMoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SYWNlTGluZV8xXCIpLCB7IHBvaW50czogcmFjZUxpbmVQb3NfMSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18xLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNZXNoTGluZXNfMS5wb3NpdGlvbi55ICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18xLmNvbG9yID0gcmFjZUxpbmVDb2xfMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1JlYWR5KCkpIHsgLy8gVXBkYXRlIEFmdGVyIFJlYWR5IFN0YXRlXG4gICAgICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlNvcnRMZWFkZXJib2FyZFBvc2l0aW9uTGlzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gRGVzdHJveSBjb21wb25lbnQgZnVuY3Rpb25cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQdWJsaWMgUm91dGUgUG9pbnQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHB1YmxpYyBnZXRSb3V0ZVBvaW50KGRpc3RhbmNlOiBudW1iZXIpOiBQUk9KRUNULlJvdXRlUG9pbnQge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBQUk9KRUNULlJvdXRlUG9pbnQgPSBuZXcgUm91dGVQb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5nZXRSb3V0ZVBvaW50VG9SZWYoZGlzdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRSb3V0ZVBvaW50VG9SZWYoZGlzdGFuY2U6IG51bWJlciwgcmVzdWx0OiBQUk9KRUNULlJvdXRlUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE86IE9QVElNSVpFIFRISVMgRlVOQ1RJT05cbiAgICAgICAgICAgIGNvbnN0IHAxID0gdGhpcy5nZXRSb3V0ZVBvc2l0aW9uKGRpc3RhbmNlKTtcbiAgICAgICAgICAgIGNvbnN0IHAyID0gdGhpcy5nZXRSb3V0ZVBvc2l0aW9uKGRpc3RhbmNlICsgMC4xKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gcDIuc3VidHJhY3QocDEpO1xuICAgICAgICAgICAgcmVzdWx0LnBvc2l0aW9uID0gcDEuY2xvbmUoKTtcbiAgICAgICAgICAgIHJlc3VsdC5kaXJlY3Rpb24gPSBkZWx0YS5ub3JtYWxpemVUb05ldygpO1xuICAgICAgICAgICAgLy9yZXR1cm4gbmV3IFJvdXRlUG9pbnQocDEsIGRlbHRhLm5vcm1hbGl6ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRSb3V0ZVBvc2l0aW9uKGRpc3RhbmNlOiBudW1iZXIpOiBCQUJZTE9OLlZlY3RvcjMge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5nZXRSb3V0ZVBvc2l0aW9uVG9SZWYoZGlzdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRSb3V0ZVBvc2l0aW9uVG9SZWYoZGlzdGFuY2U6IG51bWJlciwgcmVzdWx0OiBCQUJZTE9OLlZlY3RvcjMpOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCBwb2ludDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGRpc3Q6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLlJlcGVhdChkaXN0YW5jZSwgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlRyYWNrTGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IG51bVBvaW50czogbnVtYmVyID0gdGhpcy50cmFja05vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRyYWNrTm9kZXNbcG9pbnRdLmxvY2FsRGlzdGFuY2UgPCBkaXN0KSB7ICsrcG9pbnQ7IH1cbiAgICAgICAgICAgIC8vIGdldCBuZWFyZXN0IHR3byBwb2ludHMsIGVuc3VyaW5nIHBvaW50cyB3cmFwLWFyb3VuZCBzdGFydCAmIGVuZCBvZiBjaXJjdWl0XG4gICAgICAgICAgICB0aGlzLnAxbiA9ICgocG9pbnQgLSAxKSArIG51bVBvaW50cykgJSBudW1Qb2ludHM7XG4gICAgICAgICAgICB0aGlzLnAybiA9IHBvaW50O1xuICAgICAgICAgICAgLy8gZm91bmQgcG9pbnQgbnVtYmVycywgbm93IGZpbmQgaW50ZXJwb2xhdGlvbiB2YWx1ZSBiZXR3ZWVuIHRoZSB0d28gbWlkZGxlIHBvaW50c1xuICAgICAgICAgICAgdGhpcy5pID0gQkFCWUxPTi5TY2FsYXIuSW52ZXJzZUxlcnAodGhpcy50cmFja05vZGVzW3RoaXMucDFuXS5sb2NhbERpc3RhbmNlLCB0aGlzLnRyYWNrTm9kZXNbdGhpcy5wMm5dLmxvY2FsRGlzdGFuY2UsIGRpc3QpO1xuICAgICAgICAgICAgLy8gc2ltcGxlIGxpbmVhciBsZXJwIGJldHdlZW4gdGhlIHR3byBwb2ludHNcbiAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy50cmFja05vZGVzW3RoaXMucDFuXS5sb2NhbFBvc2l0aW9uLCB0aGlzLnRyYWNrTm9kZXNbdGhpcy5wMm5dLmxvY2FsUG9zaXRpb24sIHRoaXMuaSwgcmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBTdGF0aWMgQ2hlY2twb2ludCBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEdldHMgdGhlIGNoZWNrcG9pbnQgdGFnIGlkZW50aWZpZXIgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRDaGVja3BvaW50VGFnKCk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRUYWc7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB0aGUgY2hlY2twb2ludCBwb3NpdGlvbiBsaXN0ICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q2hlY2twb2ludExpc3QoKTogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSB7XG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgdGhlIHRvdGFsIG51bWJlciBvZiBjaGVja3BvaW50cyAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldENoZWNrcG9pbnRDb3VudCgpOiBudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QgIT0gbnVsbCkgPyBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QubGVuZ3RoIDogMDtcbiAgICAgICAgfVxuICAgICAgICAvKiogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb24gZGlzdGFuY2UgdG8gbmV4dCBjaGVja3BvaW50ICovXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEdldENoZWNrcG9pbnREaXN0YW5jZShwb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzLCBsYXN0UG9pbnRSZWFjaGVkOiBCQUJZTE9OLlZlY3RvcjMsIG5leHRQb2ludDogQkFCWUxPTi5WZWN0b3IzKTogbnVtYmVyIHtcbiAgICAgICAgICAgIC8vIFRPRE86IE9wdGltaXplIHZlY3RvcnNcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYWNlbWVudEZyb21DdXJyZW50Tm9kZTogQkFCWUxPTi5WZWN0b3IzID0gcG9zaXRpb24uc3VidHJhY3QobGFzdFBvaW50UmVhY2hlZCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VnbWVudFZlY3RvcjogQkFCWUxPTi5WZWN0b3IzID0gbmV4dFBvaW50LnN1YnRyYWN0KGxhc3RQb2ludFJlYWNoZWQpO1xuICAgICAgICAgICAgY29uc3QgZnJhY3Rpb246IG51bWJlciA9IEJBQllMT04uVmVjdG9yMy5Eb3QoZGlzcGxhY2VtZW50RnJvbUN1cnJlbnROb2RlLCBjdXJyZW50U2VnbWVudFZlY3RvcikgLyBjdXJyZW50U2VnbWVudFZlY3Rvci5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICAgICAgICByZXR1cm4gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoZnJhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFN0YXRpYyBWZWhpY2xlIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogUmVnaXN0ZXIgdmVoaWNsZSB3aXRoIHRyYWNrIG1hbmFnZXIgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBSZWdpc3RlclZlaGljbGUodmVoaWNsZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlBsYXllclZlaGljbGVMaXN0ID09IG51bGwpIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5QbGF5ZXJWZWhpY2xlTGlzdCA9IFtdO1xuICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlBsYXllclZlaGljbGVMaXN0LnB1c2godmVoaWNsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgdGhlIHJlZ2lzdGVyZWQgcGxheWVyIHZlaGljbGVzICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0UGxheWVyVmVoaWNsZXMoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlW10ge1xuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5QbGF5ZXJWZWhpY2xlTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBTdGF0aWMgTGVhZGVyYm9hcmQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBSZWdpc3RlciBwbGF5ZXIgd2l0aCB0cmFjayBtYW5hZ2VyICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVnaXN0ZXJQbGF5ZXIoaWQ6IG51bWJlciwgbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXI6IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzID0gbmV3IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzKCk7XG4gICAgICAgICAgICBwbGF5ZXIuaWQgPSBpZCxcbiAgICAgICAgICAgICAgICBwbGF5ZXIubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBwbGF5ZXIucG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QgPT0gbnVsbCkgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdCA9IFtdO1xuICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdC5wdXNoKHBsYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFVwZGF0ZSBwbGF5ZXIgbGVhZGVyYm9hcmQgaW5mb3JtYXRpb24gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBVcGRhdGVMZWFkZXJib2FyZChpZDogbnVtYmVyLCBsYXA6IG51bWJlciwgY2hlY2twb2ludDogbnVtYmVyLCBwb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdCAhPSBudWxsICYmIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYWRlcmJvYXJkOiBQUk9KRUNULlBsYXllclJhY2VTdGF0c1tdID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVhZGVyYm9hcmQubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzID0gbGVhZGVyYm9hcmRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QgIT0gbnVsbCAmJiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGVja1BvaW50Q291bnQ6IG51bWJlciA9IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRDaGVja1BvaW50SW5kZXg6IG51bWJlciA9IChjaGVja3BvaW50ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGVja1BvaW50SW5kZXggPj0gY2hlY2tQb2ludENvdW50KSBuZXh0Q2hlY2tQb2ludEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydENoZWNrcG9pbnRNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdFtjaGVja3BvaW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hlY2twb2ludE1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0W25leHRDaGVja1BvaW50SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrUG9pbnRGcmFjdGlvbjogbnVtYmVyID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkdldENoZWNrcG9pbnREaXN0YW5jZShwb3NpdGlvbiwgc3RhcnRDaGVja3BvaW50TWVzaC5hYnNvbHV0ZVBvc2l0aW9uLCBuZXh0Q2hlY2twb2ludE1lc2guYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wb3NpdGlvbiA9ICgoKGxhcCAqIDEwMDApICsgY2hlY2twb2ludCkgKyBjaGVja1BvaW50RnJhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCBwbGF5ZXIgbGVhZGVyYm9hcmQgcG9zaXRpb24gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRMZWFkZXJib2FyZFBvc2l0aW9uKGlkOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogbnVtYmVyID0gLTE7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdCAhPSBudWxsICYmIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYWRlcmJvYXJkOiBQUk9KRUNULlBsYXllclJhY2VTdGF0c1tdID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVhZGVyYm9hcmQubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzID0gbGVhZGVyYm9hcmRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IChpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgbGVhZGVyYm9hcmQgcG9zaXRpb24gbGlzdCAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldExlYWRlcmJvYXJkUG9zaXRpb25MaXN0KCk6IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzW10ge1xuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNvcnQgbGVhZGVyYm9hcmQgcG9zaXRpb24gbGlzdCAqL1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTb3J0TGVhZGVyYm9hcmRQb3NpdGlvbkxpc3QoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdCAhPSBudWxsICYmIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYWRlcmJvYXJkOiBQUk9KRUNULlBsYXllclJhY2VTdGF0c1tdID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdDtcbiAgICAgICAgICAgICAgICBsZWFkZXJib2FyZC5zb3J0KChsZWZ0LCByaWdodCk6IG51bWJlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFNvcnQgSW4gRGVzY2VuZGluZyBPcmRlclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdC5wb3NpdGlvbiA8IHJpZ2h0LnBvc2l0aW9uKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQucG9zaXRpb24gPiByaWdodC5wb3NpdGlvbikgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiByZW1vdGUgdmVoaWNsZSBjb250cm9sbGVyIGNsYXNzIChDb2x5c2V1cyBVbml2ZXJzYWwgR2FtZSBSb29tKVxuICAgICogQGNsYXNzIFJlbW90ZUNhckNvbnRyb2xsZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBSZW1vdGVDYXJDb250cm9sbGVyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNob3dTZW5zb3JMaW5lczogYm9vbGVhbiA9IGZhbHNlOyAvLyBOb3RlOiBEaXNhYmxlIERlYnVnIE1vZGUgU2Vuc29yc1xuXG4gICAgICAgIHB1YmxpYyBjZW50ZXJPZk1hc3M6IG51bWJlciA9IDAuNDtcbiAgICAgICAgcHVibGljIGJ1cm5vdXRXaGVlbFBpdGNoOiBudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgbGlua1RyYWNrTWFuYWdlcjogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwbGF5VmVoaWNsZVNvdW5kczogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBzbW9rZVRleHR1cmU6IEJBQllMT04uVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBza2lkVGhyZWFzaG9sZDogbnVtYmVyID0gMC42NTtcbiAgICAgICAgcHVibGljIHNtb2tlSW50ZW5zaXR5OiBudW1iZXIgPSAxNTA7XG4gICAgICAgIHB1YmxpYyB3aGVlbERyYXdWZWxvY2l0eTogbnVtYmVyID0gMC4wMjtcbiAgICAgICAgcHVibGljIHNtb2tlT3BhY2l0eTogbnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgc21va2VEb251dHM6IG51bWJlciA9IDIuMDtcblxuICAgICAgICBwcml2YXRlIHN0ZWVyaW5nV2hlZWxIdWI6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RlZXJpbmdXaGVlbEF4aXM6IG51bWJlciA9IDI7XG4gICAgICAgIHByaXZhdGUgbWF4U3RlZXJpbmdBbmdsZTogbnVtYmVyID0gMzUuMDtcbiAgICAgICAgcHJpdmF0ZSBtYXhTdGVlcmluZ1NwZWVkID0gMTAuMDtcblxuICAgICAgICBwcml2YXRlIF9hbmltYXRvcjogQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZW5naW5lQXVkaW9Tb3VyY2U6IEJBQllMT04uVG9vbGtpdC5BdWRpb1NvdXJjZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NraWRBdWRpb1NvdXJjZTogQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIGJyYWtlTGlnaHRzTWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJyYWtlTGlnaHRzVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJldmVyc2VMaWdodHNNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmV2ZXJzZUxpZ2h0c1RyYW5zOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbFRyYW5zOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrTGVmdFdoZWVsVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxNZXNoOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbE1lc2g6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbE1lc2g6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxNZXNoOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxFbWl0dGVyOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFdoZWVsRW1pdHRlcjogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxFbWl0dGVyOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxFbWl0dGVyOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbFBhcnRpY2xlOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZTogQkFCWUxPTi5QYXJ0aWNsZVN5c3RlbSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbFBhcnRpY2xlOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbFBhcnRpY2xlOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0Q29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0Q29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3RUYWc6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodENvbnRhY3RUYWc6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0VGFnOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3RUYWc6IHN0cmluZyA9IFwiXCI7XG5cbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRDb250YWN0UG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodENvbnRhY3RQb2ludDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSByZWFyTGVmdENvbnRhY3RQb2ludDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRDb250YWN0UG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0Q29udGFjdE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByZWFyTGVmdFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGFydFJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBlbmRSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc21va2VJbnRlbnNpdHlGYWN0b3I6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZG93bkRpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMSwgMCk7XG4gICAgICAgIHByaXZhdGUgZG93bkRpc3RhbmNlOiBudW1iZXIgPSAyLjA7XG5cbiAgICAgICAgcHJpdmF0ZSBsYXN0UGl0Y2g6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFzdEJyYWtlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RSZXZlcnNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RCdXJub3V0OiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTdGVlcmluZzogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U0tJRF9GTDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U0tJRF9GUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U0tJRF9STDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U0tJRF9SUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U1BJTl9GTDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U1BJTl9GUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U1BJTl9STDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U1BJTl9SUjogbnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIFBJVENIX0ZMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFBJVENIX0ZSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFBJVENIX1JMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFBJVENIX1JSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFdIRUVMX1NLSURfUElUQ0g6IG51bWJlciA9IDA7XG5cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFdoZWVsQ29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFyTGVmdENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJSaWdodFdoZWVsQ29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMucmVhclJpZ2h0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0VGFnKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3RUYWc7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbENvbnRhY3RUYWcoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWc7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0VGFnKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0VGFnKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3RUYWc7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFdoZWVsQ29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0UG9pbnQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMucmVhckxlZnRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJSaWdodFdoZWVsQ29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbENvbnRhY3ROb3JtYWwoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3ROb3JtYWw7IH1cblxuICAgICAgICBwcm90ZWN0ZWQgbV9mcm9udExlZnRXaGVlbFNraWQ6IG51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9mcm9udFJpZ2h0V2hlZWxTa2lkOiBudW1iZXIgPSAtMTtcbiAgICAgICAgcHJvdGVjdGVkIG1fYmFja0xlZnRXaGVlbFNraWQ6IG51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9iYWNrUmlnaHRXaGVlbFNraWQ6IG51bWJlciA9IC0xO1xuXG4gICAgICAgIHByb3RlY3RlZCBtX3ZlbG9jaXR5T2Zmc2V0OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9saW5lYXJWZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fbGFzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9wb3NpdGlvbkNlbnRlcjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fc2NhbGVkVmVsb2NpdHk6IG51bWJlciA9IDA7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5jZW50ZXJPZk1hc3MgPSB0aGlzLmdldFByb3BlcnR5KFwiY2VudGVyT2ZNYXNzXCIsIHRoaXMuY2VudGVyT2ZNYXNzKTtcbiAgICAgICAgICAgIHRoaXMuYnVybm91dFdoZWVsUGl0Y2ggPSB0aGlzLmdldFByb3BlcnR5KFwiYnVybm91dFdoZWVsUGl0Y2hcIiwgdGhpcy5idXJub3V0V2hlZWxQaXRjaCk7XG4gICAgICAgICAgICB0aGlzLmxpbmtUcmFja01hbmFnZXIgPSB0aGlzLmdldFByb3BlcnR5KFwibGlua1RyYWNrTWFuYWdlclwiLCB0aGlzLmxpbmtUcmFja01hbmFnZXIpO1xuICAgICAgICAgICAgdGhpcy5wbGF5VmVoaWNsZVNvdW5kcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5VmVoaWNsZVNvdW5kc1wiLCB0aGlzLnBsYXlWZWhpY2xlU291bmRzKTtcbiAgICAgICAgICAgIHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwid2hlZWxEcmF3VmVsb2NpdHlcIiwgdGhpcy53aGVlbERyYXdWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNraWRUaHJlYXNob2xkID0gdGhpcy5nZXRQcm9wZXJ0eShcInNraWRUaHJlYXNob2xkXCIsIHRoaXMuc2tpZFRocmVhc2hvbGQpO1xuICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9rZUludGVuc2l0eVwiLCB0aGlzLnNtb2tlSW50ZW5zaXR5KTtcbiAgICAgICAgICAgIHRoaXMuc21va2VPcGFjaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlT3BhY2l0eVwiLCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNtb2tlRG9udXRzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlRG9udXRzXCIsIHRoaXMuc21va2VEb251dHMpO1xuXG4gICAgICAgICAgICB0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0ZWVyaW5nV2hlZWxBeGlzXCIsIHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMpO1xuICAgICAgICAgICAgdGhpcy5tYXhTdGVlcmluZ0FuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFN0ZWVyaW5nQW5nbGVcIiwgdGhpcy5tYXhTdGVlcmluZ0FuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubWF4U3RlZXJpbmdTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhTdGVlcmluZ1NwZWVkXCIsIHRoaXMubWF4U3RlZXJpbmdTcGVlZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcm9udExlZnRXaGVlbE1lc2hcIiwgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJvbnRSaWdodFdoZWVsTWVzaFwiLCB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlYXJMZWZ0V2hlZWxNZXNoXCIsIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zKTtcbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWFyUmlnaHRXaGVlbE1lc2hcIiwgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zKTtcblxuICAgICAgICAgICAgdGhpcy5icmFrZUxpZ2h0c1RyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcImJyYWtlTGlnaHRzTWVzaFwiLCB0aGlzLmJyYWtlTGlnaHRzVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwicmV2ZXJzZUxpZ2h0c01lc2hcIiwgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMpO1xuXG4gICAgICAgICAgICBjb25zdCBzbW9rZVRleHR1cmVJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VGV4dHVyZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9rZVRleHR1cmVcIik7XG4gICAgICAgICAgICBpZiAoc21va2VUZXh0dXJlSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbW9rZVRleHR1cmUgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShzbW9rZVRleHR1cmVJbmZvLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMubGlua1RyYWNrTWFuYWdlciA9PT0gdHJ1ZSkgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlJlZ2lzdGVyVmVoaWNsZSh0aGlzLnRyYW5zZm9ybSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdG9yID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0b3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbk5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMuZ2V0Q2hpbGRXaXRoU2NyaXB0KFwiQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0b3IgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQoYW5pbWF0aW9uTm9kZSwgXCJCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWxlZCB0byBsb2NhdGUgYW5pbWF0b3Igbm9kZSBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5BdWRpb1NvdXJjZVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmdpbmVBdWRpb1NvdXJjZSA9PSBudWxsKSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJObyBlbmdpbmUgYXVkaW8gc291cmNlIG1hbmFnZXIgZm91bmQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuXG4gICAgICAgICAgICBjb25zdCBzdGVlcmluZ1doZWVsTm9kZTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzdGVlcmluZ1doZWVsSHViXCIpO1xuICAgICAgICAgICAgaWYgKHN0ZWVyaW5nV2hlZWxOb2RlICE9IG51bGwgJiYgc3RlZXJpbmdXaGVlbE5vZGUubmFtZSAhPSBudWxsICYmIHN0ZWVyaW5nV2hlZWxOb2RlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0ZWVyaW5nV2hlZWxIdWIgPSB0aGlzLmdldENoaWxkTm9kZShzdGVlcmluZ1doZWVsTm9kZS5uYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSkgYXMgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBicmFrZUxpZ2h0c2xOYW1lOiBzdHJpbmcgPSAodGhpcy5icmFrZUxpZ2h0c1RyYW5zICE9IG51bGwgJiYgdGhpcy5icmFrZUxpZ2h0c1RyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmJyYWtlTGlnaHRzVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJyYWtlTGlnaHRzVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCByZXZlcnNlTGlnaHRzbE5hbWU6IHN0cmluZyA9ICh0aGlzLnJldmVyc2VMaWdodHNUcmFucyAhPSBudWxsICYmIHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLnJldmVyc2VMaWdodHNUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgZnJvbnRMZWZ0V2hlZWxOYW1lOiBzdHJpbmcgPSAodGhpcy5mcm9udExlZnRXaGVlbFRyYW5zICE9IG51bGwgJiYgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBmcm9udFJpZ2h0V2hlZWxOYW1lOiBzdHJpbmcgPSAodGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucyAhPSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgYmFja0xlZnRXaGVlbE5hbWU6IHN0cmluZyA9ICh0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucyAhPSBudWxsICYmIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgYmFja1JpZ2h0V2hlZWxOYW1lOiBzdHJpbmcgPSAodGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zICE9IG51bGwgJiYgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoYnJha2VMaWdodHNsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5icmFrZUxpZ2h0c01lc2ggPSB0aGlzLmdldENoaWxkTm9kZShicmFrZUxpZ2h0c2xOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnJha2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5icmFrZUxpZ2h0c01lc2guaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJldmVyc2VMaWdodHNsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJldmVyc2VMaWdodHNsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGZyb250TGVmdFdoZWVsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAoPGFueT50aGlzLmZyb250TGVmdFdoZWVsTWVzaCkuc3Bpbm5lciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmZyb250TGVmdFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsRW1pdHRlciA9IG5ldyBCQUJZTE9OLk1lc2goXCJFbWl0dGVyX0ZMXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyLnBhcmVudCA9ICg8YW55PnRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoKS5zcGlubmVyIHx8IHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUgPSB0aGlzLmNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0odGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiU21va2VfRkxcIiwgdGhpcy5mcm9udExlZnRXaGVlbEVtaXR0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoZnJvbnRSaWdodFdoZWVsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgKDxhbnk+dGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoKS5zcGlubmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIgPSBuZXcgQkFCWUxPTi5NZXNoKFwiRW1pdHRlcl9GUlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIucGFyZW50ID0gKDxhbnk+dGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoKS5zcGlubmVyIHx8IHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUgPSB0aGlzLmNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0odGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiU21va2VfRlJcIiwgdGhpcy5mcm9udFJpZ2h0V2hlZWxFbWl0dGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbE1lc2ggPSB0aGlzLmdldENoaWxkTm9kZShiYWNrTGVmdFdoZWVsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRXaGVlbE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICg8YW55PnRoaXMuYmFja0xlZnRXaGVlbE1lc2gpLnNwaW5uZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRDaGlsZFRyYW5zZm9ybU5vZGUodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uTWVzaChcIkVtaXR0ZXJfUkxcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsRW1pdHRlci5wYXJlbnQgPSAoPGFueT50aGlzLmJhY2tMZWZ0V2hlZWxNZXNoKS5zcGlubmVyIHx8IHRoaXMuYmFja0xlZnRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsRW1pdHRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUgPSB0aGlzLmNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0odGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiU21va2VfUkxcIiwgdGhpcy5iYWNrTGVmdFdoZWVsRW1pdHRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJhY2tSaWdodFdoZWVsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAoPGFueT50aGlzLmJhY2tSaWdodFdoZWVsTWVzaCkuc3Bpbm5lciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlciA9IG5ldyBCQUJZTE9OLk1lc2goXCJFbWl0dGVyX1JSXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxFbWl0dGVyLnBhcmVudCA9ICg8YW55PnRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoKS5zcGlubmVyIHx8IHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxFbWl0dGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgPSB0aGlzLmNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0odGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiU21va2VfUlJcIiwgdGhpcy5iYWNrUmlnaHRXaGVlbEVtaXR0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldHVwIFNraWQgQXVkaW8gU291cmNlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gsIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuYmFja0xlZnRXaGVlbE1lc2ggIT0gbnVsbCkgdGhpcy5fc2tpZEF1ZGlvU291cmNlID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoLCBcIkJBQllMT04uVG9vbGtpdC5BdWRpb1NvdXJjZVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsKSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJObyBza2lkIGF1ZGlvIHNvdXJjZSBtYW5hZ2VyIGZvdW5kIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9wb3NpdGlvbkNlbnRlci5zZXQoMCwgMCwgLXRoaXMuY2VudGVyT2ZNYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuSGFzTmV0d29ya0VudGl0eSh0aGlzLnRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RQaXRjaCA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDApOyAgICAgICAgLy8gUGl0Y2hcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RCcmFrZSA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEpOyAgICAgICAgLy8gQnJha2VcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZXZlcnNlID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMik7ICAgICAgLy8gUmV2ZXJzZVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEJ1cm5vdXQgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAzKTsgICAgICAvLyBCdXJub3V0XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U0tJRF9GTCA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDQpOyAgICAgIC8vIFNLSURfRkxcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTS0lEX0ZSID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNSk7ICAgICAgLy8gU0tJRF9GUlxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNLSURfUkwgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA2KTsgICAgICAvLyBTS0lEX1JMXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U0tJRF9SUiA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDcpOyAgICAgIC8vIFNLSURfUlJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTUElOX0ZMID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOCk7ICAgICAgLy8gU1BJTl9GTFxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNQSU5fRlIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA5KTsgICAgICAvLyBTUElOX0ZSXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U1BJTl9STCA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEwKTsgICAgIC8vIFNQSU5fUkxcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTUElOX1JSID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTEpOyAgICAgLy8gU1BJTl9SUlxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0ZWVyaW5nID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTIpOyAgICAvLyBTdGVlcmluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVWZWhpY2xlUHJvcGVydGllcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBEZXN0cm95IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFByaXZhdGUgV29ya2VyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlVmVoaWNsZVByb3BlcnRpZXMoKTogdm9pZCB7XG4gICAgICAgICAgICAvL0JBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbiwgdGhpcy5tX3Bvc2l0aW9uQ2VudGVyKTsgLy8gTm90ZTogVGhpcyBDb3JyZWN0IENlbnRlciBPZiBNYXNzIE9mZnNldFxuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5ID0gdGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLm1fbGFzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMubV9zY2FsZWRWZWxvY2l0eSA9ICh0aGlzLm1fbGluZWFyVmVsb2NpdHkubGVuZ3RoKCkgLyB0aGlzLmdldERlbHRhU2Vjb25kcygpKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5zY2FsZUluUGxhY2UodGhpcy5tX3NjYWxlZFZlbG9jaXR5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJhd1ZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5jb3B5RnJvbSh0aGlzLm1fbGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5zY2FsZUluUGxhY2UodGhpcy53aGVlbERyYXdWZWxvY2l0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1fbGFzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5jYXN0V2hlZWxDb250YWN0UmF5cygpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBFbmdpbmUgUGl0Y2hpbmdcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5VmVoaWNsZVNvdW5kcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lbmdpbmVBdWRpb1NvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZ2luZVNvdW5kQ2xpcDogQkFCWUxPTi5Tb3VuZCA9IHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlLmdldFNvdW5kQ2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5naW5lU291bmRDbGlwICE9IG51bGwpIGVuZ2luZVNvdW5kQ2xpcC5zZXRQbGF5YmFja1JhdGUodGhpcy5sYXN0UGl0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgU1BJTl9GTF9UcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9ICg8YW55PnRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoKS5zcGlubmVyO1xuICAgICAgICAgICAgY29uc3QgU1BJTl9GUl9UcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9ICg8YW55PnRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCkuc3Bpbm5lcjtcbiAgICAgICAgICAgIGNvbnN0IFNQSU5fUkxfVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSAoPGFueT50aGlzLmJhY2tMZWZ0V2hlZWxNZXNoKS5zcGlubmVyO1xuICAgICAgICAgICAgY29uc3QgU1BJTl9SUl9UcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9ICg8YW55PnRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoKS5zcGlubmVyO1xuXG4gICAgICAgICAgICBpZiAoU1BJTl9GTF9UcmFuc2Zvcm0gIT0gbnVsbCAmJiBTUElOX0ZMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFNQSU5fRkxfUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModGhpcy5sYXN0U1BJTl9GTCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYoU1BJTl9GTF9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCBTUElOX0ZMX1JvdGF0aW9uLCAwLjUsIFNQSU5fRkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoU1BJTl9GUl9UcmFuc2Zvcm0gIT0gbnVsbCAmJiBTUElOX0ZSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFNQSU5fRlJfUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModGhpcy5sYXN0U1BJTl9GUiwgMCwgMCk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYoU1BJTl9GUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCBTUElOX0ZSX1JvdGF0aW9uLCAwLjUsIFNQSU5fRlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoU1BJTl9STF9UcmFuc2Zvcm0gIT0gbnVsbCAmJiBTUElOX1JMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFNQSU5fUkxfUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModGhpcy5sYXN0U1BJTl9STCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYoU1BJTl9STF9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCBTUElOX1JMX1JvdGF0aW9uLCAwLjUsIFNQSU5fUkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoU1BJTl9SUl9UcmFuc2Zvcm0gIT0gbnVsbCAmJiBTUElOX1JSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFNQSU5fUlJfUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModGhpcy5sYXN0U1BJTl9SUiwgMCwgMCk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYoU1BJTl9SUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCBTUElOX1JSX1JvdGF0aW9uLCAwLjUsIFNQSU5fUlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFNtb2tlIEluc3RlbnNpdHlcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnNtb2tlRG9udXRzID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5zbW9rZURvbnV0cywgMSwgMTApO1xuICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciA9IHRoaXMuc21va2VJbnRlbnNpdHk7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0QnVybm91dCA+IDApIHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKj0gdGhpcy5zbW9rZURvbnV0cztcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRnJvbnQgTGVmdCBXaGVlbFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTS0lEX0ZMID4gMCAmJiB0aGlzLmZyb250TGVmdENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVGTDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMubGFzdFNLSURfRkwsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQodGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQsIHRoaXMuZnJvbnRMZWZ0Q29udGFjdE5vcm1hbCwgc2tpZFNjYWxlRkwsIHRoaXMubV9mcm9udExlZnRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLnN0YXJ0KClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9rZV9GTDogbnVtYmVyID0gdGhpcy5sYXN0U0tJRF9GTCAqIHRoaXMubGFzdFNLSURfRkw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9GTDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9GTCArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9GTCArIDEuMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEZyb250IFJpZ2h0IFdoZWVsXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFNLSURfRlIgPiAwICYmIHRoaXMuZnJvbnRSaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVGUjogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMubGFzdFNLSURfRlIsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbFNraWQgPSBTa2lkTWFya01hbmFnZXIuQWRkU2tpZE1hcmtTZWdtZW50KHRoaXMuZnJvbnRSaWdodENvbnRhY3RQb2ludCwgdGhpcy5mcm9udFJpZ2h0Q29udGFjdE5vcm1hbCwgc2tpZFNjYWxlRlIsIHRoaXMubV9mcm9udFJpZ2h0V2hlZWxTa2lkKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZS5zdGFydCgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfRlI6IG51bWJlciA9IHRoaXMubGFzdFNLSURfRlIgKiB0aGlzLmxhc3RTS0lEX0ZSO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqIHNtb2tlX0ZSO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9GUiArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZS5tYXhTaXplID0gMS41ICogc21va2VfRlIgKyAxLjI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsU2tpZCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5QSVRDSF9GTCA9IHRoaXMubGFzdFNLSURfRkw7XG4gICAgICAgICAgICB0aGlzLlBJVENIX0ZSID0gdGhpcy5sYXN0U0tJRF9GUjtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RCdXJub3V0ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfRkwgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgICAgICB0aGlzLlBJVENIX0ZSICo9IHRoaXMuYnVybm91dFdoZWVsUGl0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlBJVENIX0ZMICo9IDAuNzU7IC8vIDc1JSBTa2lkIEZvciBGcm9udCBXaGVlbHNcbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRlIgKj0gMC43NTsgLy8gNzUlIFNraWQgRm9yIEZyb250IFdoZWVsc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBSZWFyIExlZnQgV2hlZWxcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0U0tJRF9STCA+IDAgJiYgdGhpcy5yZWFyTGVmdENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVSTDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMubGFzdFNLSURfUkwsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWxTa2lkID0gU2tpZE1hcmtNYW5hZ2VyLkFkZFNraWRNYXJrU2VnbWVudCh0aGlzLnJlYXJMZWZ0Q29udGFjdFBvaW50LCB0aGlzLnJlYXJMZWZ0Q29udGFjdE5vcm1hbCwgc2tpZFNjYWxlUkwsIHRoaXMubV9iYWNrTGVmdFdoZWVsU2tpZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUuc3RhcnQoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtb2tlX1JMOiBudW1iZXIgPSB0aGlzLmxhc3RTS0lEX1JMICogdGhpcy5sYXN0U0tJRF9STDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICogc21va2VfUkw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9STCArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUubWF4U2l6ZSA9IDEuNSAqIHNtb2tlX1JMICsgMS4yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbFNraWQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUmVhciBSaWdodCBXaGVlbFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTS0lEX1JSID4gMCAmJiB0aGlzLnJlYXJSaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVSUjogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMubGFzdFNLSURfUlIsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQodGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQsIHRoaXMucmVhclJpZ2h0Q29udGFjdE5vcm1hbCwgc2tpZFNjYWxlUlIsIHRoaXMubV9iYWNrUmlnaHRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLnN0YXJ0KClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9rZV9SUjogbnVtYmVyID0gdGhpcy5sYXN0U0tJRF9SUiAqIHRoaXMubGFzdFNLSURfUlI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9SUjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9SUiArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9SUiArIDEuMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlBJVENIX1JMID0gdGhpcy5sYXN0U0tJRF9STDtcbiAgICAgICAgICAgIHRoaXMuUElUQ0hfUlIgPSB0aGlzLmxhc3RTS0lEX1JSO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEJ1cm5vdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9STCAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfUlIgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gUGxheSBTa2lkIEF1ZGlvIFRyYWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfRkwgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfRkw7XG4gICAgICAgICAgICBpZiAodGhpcy5QSVRDSF9GUiA+IHRoaXMuV0hFRUxfU0tJRF9QSVRDSCkgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gdGhpcy5QSVRDSF9GUjtcbiAgICAgICAgICAgIGlmICh0aGlzLlBJVENIX1JMID4gdGhpcy5XSEVFTF9TS0lEX1BJVENIKSB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSB0aGlzLlBJVENIX1JMO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfUlIgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfUlI7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5VmVoaWNsZVNvdW5kcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9za2lkQXVkaW9Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkU291bmRDbGlwOiBCQUJZTE9OLlNvdW5kID0gdGhpcy5fc2tpZEF1ZGlvU291cmNlLmdldFNvdW5kQ2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpZFNvdW5kQ2xpcCAhPSBudWxsKSBza2lkU291bmRDbGlwLnNldFBsYXliYWNrUmF0ZSh0aGlzLldIRUVMX1NLSURfUElUQ0gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gVmVoaWNsZSBTdGVlcmluZyBXaGVlbCBTeW5jXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0ZWVyaW5nV2hlZWxIdWIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb25RdWF0ZXJuaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJWZWN0b3IodGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGVncmVlc1N0ZWVyQW5nbGU6IG51bWJlciA9ICh0aGlzLmxhc3RTdGVlcmluZyAqIHRoaXMubWF4U3RlZXJpbmdBbmdsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaWFuc1N0ZWVyQW5nbGU6IG51bWJlciA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKGRlZ3JlZXNTdGVlckFuZ2xlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB4YXhpczogbnVtYmVyID0gKHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMgPT09IDApID8gcmFkaWFuc1N0ZWVyQW5nbGUgOiAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlheGlzOiBudW1iZXIgPSAodGhpcy5zdGVlcmluZ1doZWVsQXhpcyA9PT0gMSkgPyByYWRpYW5zU3RlZXJBbmdsZSA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgemF4aXM6IG51bWJlciA9ICh0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID09PSAyKSA/IHJhZGlhbnNTdGVlckFuZ2xlIDogMDtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoeGF4aXMsIHlheGlzLCB6YXhpcywgdGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0b3IgIT0gbnVsbCkgdGhpcy5fYW5pbWF0b3Iuc2V0RmxvYXQoXCJUdXJuQW5nbGVcIiwgdGhpcy5sYXN0U3RlZXJpbmcpO1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWZWhpY2xlIEJyYWtpbmcgTGlnaHRzIENoZWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICBpZiAodGhpcy5icmFrZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnJha2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9ICh0aGlzLmxhc3RCcmFrZSA+IDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWZWhpY2xlIFJldmVyc2UgTGlnaHRzIENoZWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICBpZiAodGhpcy5yZXZlcnNlTGlnaHRzTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSAodGhpcy5sYXN0UmV2ZXJzZSA+IDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBSZXNldCBTa2lkIFByb3BlcnRpZXNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTS0lEX0ZMID09PSAwICYmIHRoaXMubGFzdFNLSURfRkwgPT09IDAgJiYgdGhpcy5sYXN0U0tJRF9GTCA9PT0gMCAmJiB0aGlzLmxhc3RTS0lEX0ZMID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNhc3RXaGVlbENvbnRhY3RSYXlzKCk6IHZvaWQge1xuICAgICAgICAgICAgbGV0IHJheWNhc3Q6IEJBQllMT04uVG9vbGtpdC5SYXljYXN0SGl0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0VGFnID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0VGFnID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFBvaW50LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3RQb2ludC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdFBvaW50LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdFBvaW50LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gRnJvbnQgTGVmdCBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHRoaXMuZG93bkRpc3RhbmNlKSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIC8vIEZyb250IExlZnQgUGh5c2ljcyBSYXljYXN0XG4gICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbiwgdGhpcy5kb3duRGlzdGFuY2UpO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZyb250IExlZnQgRHJhdyBEZWJ1ZyBMaW5lc1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmVtb3RlQ2FyQ29udHJvbGxlci5TaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuZnJvbnRMZWZ0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkZyb250TGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEZyb250IFJpZ2h0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLmRvd25EaXN0YW5jZSkpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAvLyBGcm9udCBSaWdodCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZyb250IFJpZ2h0IERyYXcgRGVidWcgTGluZXNcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJlbW90ZUNhckNvbnRyb2xsZXIuU2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5mcm9udFJpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkZyb250UmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBSZWFyIExlZnQgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gUmVhciBMZWZ0IFBoeXNpY3MgUmF5Y2FzdFxuICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24sIHRoaXMuZG93bkRpc3RhbmNlKTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0VGFnID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlYXIgTGVmdCBEcmF3IERlYnVnIExpbmVzXG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SZW1vdGVDYXJDb250cm9sbGVyLlNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJlYXJMZWZ0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyTGVmdENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gUmVhciBSaWdodCBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHRoaXMuZG93bkRpc3RhbmNlKSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIC8vIFJlYXIgUmlnaHQgUGh5c2ljcyBSYXljYXN0XG4gICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbiwgdGhpcy5kb3duRGlzdGFuY2UpO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlYXIgUmlnaHQgRHJhdyBEZWJ1ZyBMaW5lc1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmVtb3RlQ2FyQ29udHJvbGxlci5TaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMucmVhclJpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJlYXJSaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVTbW9rZVBhcnRpY2xlU3lzdGVtKG5hbWU6IHN0cmluZywgZW1pdHRlcjogQkFCWUxPTi5BYnN0cmFjdE1lc2gpOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtKG5hbWUsIDEwMDAwLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHJlc3VsdC5ibGVuZE1vZGUgPSBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtLkJMRU5ETU9ERV9TVEFOREFSRDtcbiAgICAgICAgICAgIHJlc3VsdC5wYXJ0aWNsZVRleHR1cmUgPSB0aGlzLnNtb2tlVGV4dHVyZVxuICAgICAgICAgICAgcmVzdWx0LmVtaXR0ZXIgPSBlbWl0dGVyO1xuICAgICAgICAgICAgcmVzdWx0LmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgIHJlc3VsdC51cGRhdGVTcGVlZCA9IDAuMDE7XG5cbiAgICAgICAgICAgIC8vIGNoYW5nZSBzaXplIGFuZCBzcGVlZFxuICAgICAgICAgICAgcmVzdWx0Lm1pblNpemUgPSAwLjI7XG4gICAgICAgICAgICByZXN1bHQubWF4U2l6ZSA9IDEuMztcbiAgICAgICAgICAgIHJlc3VsdC5taW5Bbmd1bGFyU3BlZWQgPSAtMS41O1xuICAgICAgICAgICAgcmVzdWx0Lm1heEFuZ3VsYXJTcGVlZCA9IDEuNTtcblxuICAgICAgICAgICAgLy8gY2hhbmdlZCBsaWZldGltZSB0byBjb250cm9sIHNoYXBlIG9mIHRoZSBjbG91ZCBpbiBjb25qdW5jdGlvbiB3aXRoIHZlbG9jaXR5IGdyYWRpZW50XG4gICAgICAgICAgICByZXN1bHQubWluTGlmZVRpbWUgPSAzLjA7XG4gICAgICAgICAgICByZXN1bHQubWF4TGlmZVRpbWUgPSA1LjA7XG5cbiAgICAgICAgICAgIC8vIGFkZGluZyB2ZWxvY2l0eSBvdmVyIHRpbWUgdG8gcHJldmVudCBsYXJnZSBibG9vbSBvZiBwYXJ0aWNsZXMgYnkgbGF1bmNoaW5nIHRoZW0gZmFzdCBhbmQgdGhlbiBzbG93aW5nIHRoZW0gZG93biBHUFUgcGFydGljbGVzIGRvbid0IHRha2UgYSBncmFkaWVudCBvbiB2ZWxvY2l0eSwgYnV0IHRoZSByZWR1Y3Rpb24gaW4gdmVsb2NpdHkgb3ZlciB0aW1lIGlzIHdvcnRoIHRoZSB0cmFkZSBvZmYgZm9yIGxlc3MgcmFuZG9taXphdGlvblxuICAgICAgICAgICAgcmVzdWx0LmFkZFZlbG9jaXR5R3JhZGllbnQoMCwgMSk7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgwLjEsIDAuNyk7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgwLjcsIDAuMik7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgxLjAsIDAuMDUpO1xuXG4gICAgICAgICAgICAvLyByZWR1Y2VkIHRoZSBlbWl0IHJhdGUgdG8gcmVkdWNlIGJsb29tIG9mIHBhcnRpY2xlcyBpbiB0aGUgY2VudGVyIG9mIG1hc3NcbiAgICAgICAgICAgIHJlc3VsdC5ncmF2aXR5ID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMC4xLCAwKTtcbiAgICAgICAgICAgIHJlc3VsdC5taW5FbWl0Qm94ID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMC4yNSwgMCk7XG4gICAgICAgICAgICByZXN1bHQubWF4RW1pdEJveCA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLTAuMjUsIDApO1xuICAgICAgICAgICAgcmVzdWx0LmRpcmVjdGlvbjEgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKC0xLCAtMSwgLTEpO1xuICAgICAgICAgICAgcmVzdWx0LmRpcmVjdGlvbjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDEsIDEpO1xuXG4gICAgICAgICAgICAvLyBUaGUgY29sb3IxLCBjb2xvcjIsIGNvbG9yRGVhZCBwYXR0ZXJuIGlzIG92ZXJyaWRkZW4gYnkgY29sb3IgZ3JhZGllbnQgc28gaXMgdW5uZWNlc3NhcnlcbiAgICAgICAgICAgIHJlc3VsdC5jb2xvcjEgPSBuZXcgQkFCWUxPTi5Db2xvcjQoMC45NSwgMC45NSwgMC45NSwgdGhpcy5zbW9rZU9wYWNpdHkpO1xuICAgICAgICAgICAgcmVzdWx0LmNvbG9yMiA9IG5ldyBCQUJZTE9OLkNvbG9yNCgwLjg1LCAwLjg1LCAwLjg1LCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICByZXN1bHQuY29sb3JEZWFkID0gbmV3IEJBQllMT04uQ29sb3I0KDAuOSwgMC45LCAwLjksICh0aGlzLnNtb2tlT3BhY2l0eSAqIDAuNSkpO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2VkIHRoZSBjb2xvciBncmFkaWVudCB0byBhZGQgYSBzZWNvbmQgdmFsdWUgZm9yIHJhbmRvbWl6YXRpb24gYW5kIHJhbXBlZCB0aGUgY29sb3IgZG93biBmdXJ0aGVyIHRvIGNyZWF0ZSBtb3JlIHRleHR1cmUgd2l0aCBhbHBoYSBibGVuZGluZ1xuICAgICAgICAgICAgLy9yZXN1bHQuYWRkQ29sb3JHcmFkaWVudCgwLjAsIG5ldyBCQUJZTE9OLkNvbG9yNCgxLCAxLCAxLCAwLjApLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC43LCAwLjcsIDAuNywgMC4wKSk7XG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDAuMiwgbmV3IEJBQllMT04uQ29sb3I0KDAuNywgMC43LCAwLjcsIDAuMiksIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjYsIDAuNiwgMC42LCAwLjIpKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMC42LCBuZXcgQkFCWUxPTi5Db2xvcjQoMC42LCAwLjYsIDAuNiwgMC4xKSxuZXcgQkFCWUxPTi5Db2xvcjQoMC40LCAwLjQsIDAuNCwgMC4xKSk7XG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDEuMCwgbmV3IEJBQllMT04uQ29sb3I0KDAuMywgMC4zLCAwLjMsIDAuMCksbmV3IEJBQllMT04uQ29sb3I0KDAuMSwgMC4xLCAwLjEsIDAuMCkpOyAgICAgICAgICAgIFxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHNraWRtYXJrIHNlY3Rpb24gY2xhc3MgKEhhdm9rIFBoeXNpY3MgRW5naW5lKVxuICAgICAqIEBjbGFzcyBTa2lkTWFya1NlY3Rpb25cbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU2tpZE1hcmtTZWN0aW9uIHtcbiAgICAgICAgcHVibGljIFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHVibGljIE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHVibGljIFRhbmdlbnQ6IEJBQllMT04uVmVjdG9yNCA9IEJBQllMT04uVmVjdG9yNC5aZXJvKCk7XG4gICAgICAgIHB1YmxpYyBQb3NsOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwdWJsaWMgUG9zcjogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHVibGljIEludGVuc2l0eTogbnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgTGFzdEluZGV4OiBudW1iZXIgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgICogQGNsYXNzIFNraWRNYXJrTWFuYWdlclxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBTa2lkTWFya01hbmFnZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTUFYX01BUktTOiBudW1iZXIgPSAxMDI0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1heCBudW1iZXIgb2YgbWFya3MgdG90YWwgZm9yIGV2ZXJ5b25lIHRvZ2V0aGVyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEdST1VORF9PRkZTRVQ6IG51bWJlciA9IDAuMDE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXN0YW5jZSBhYm92ZSBzdXJmYWNlIGluIG1ldHJlc1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBHUFVfVFJJQU5HTEVTOiBib29sZWFuID0gdHJ1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR1BVIHF1YWQgdHJpYW5nbGUgaW5kaWNlcyBvbmx5XG4gICAgICAgIHByaXZhdGUgc3RhdGljIE1BUktfQ09MT1I6IEJBQllMT04uQ29sb3IzID0gQkFCWUxPTi5Db2xvcjMuQmxhY2soKTsgICAgICAvLyBTa2lkTWFyayBDb2xvclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBNQVJLX1dJRFRIOiBudW1iZXIgPSAwLjM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2lkdGggb2YgdGhlIFNraWRNYXJrcy4gU2hvdWxkIG1hdGNoIHRoZSB3aWR0aCBvZiB0aGUgd2hlZWxzXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRFWF9JTlRFTlNJVFk6IG51bWJlciA9IDEuMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgdGhlIHNraWRtYXJrIHRleHR1cmUgaW50ZW5zaXR5IGNvZWZmZWNpZW50XG4gICAgICAgIHByaXZhdGUgc3RhdGljIE1JTl9ESVNUQU5DRTogbnVtYmVyID0gMC4xOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXN0YW5jZSBiZXR3ZWVuIHNraWQgdGV4dHVyZSBzZWN0aW9ucyBpbiBtZXRyZXMuIEJpZ2dlciA9IGJldHRlciBwZXJmb3JtYW5jZSwgbGVzcyBzbW9vdGhcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTUlOX1NRUl9ESVNUQU5DRSA9IChTa2lkTWFya01hbmFnZXIuTUlOX0RJU1RBTkNFICogU2tpZE1hcmtNYW5hZ2VyLk1JTl9ESVNUQU5DRSk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRFWFRVUkVfTUFSS1M6IGFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZEJ1ZmZlclBvc2l0aW9uczogRmxvYXQzMkFycmF5ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZEJ1ZmZlck5vcm1hbHM6IEZsb2F0MzJBcnJheSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRCdWZmZXJUYW5nZW50czogRmxvYXQzMkFycmF5ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZEJ1ZmZlckNvbG9yczogRmxvYXQzMkFycmF5ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZEJ1ZmZlclV2czogRmxvYXQzMkFycmF5ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZEJ1ZmZlckluZGljZXM6IEludDMyQXJyYXkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkTWFya1NlY3Rpb25zOiBTa2lkTWFya1NlY3Rpb25bXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRNYXJrSW5kZXg6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRNYXJrTWVzaDogQkFCWUxPTi5NZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZE1hcmtVcGRhdGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVGVtcFZlY3RvcjNfUE9TOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBUZW1wVmVjdG9yM19ESVI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRlbXBWZWN0b3IzX1hESVI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRlbXBWZWN0b3IzX1NESVI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHVibGljIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllczogYW55ID0ge30pIHtcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgc2NlbmUsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhTZWN0aW9uc1wiLCBTa2lkTWFya01hbmFnZXIuTUFYX01BUktTKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5NQVJLX0NPTE9SID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZUNvbG9yMyh0aGlzLmdldFByb3BlcnR5KFwidGV4dHVyZUNvbG9yXCIpLCBTa2lkTWFya01hbmFnZXIuTUFSS19DT0xPUik7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuTUFSS19XSURUSCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXh0dXJlV2lkdGhcIiwgU2tpZE1hcmtNYW5hZ2VyLk1BUktfV0lEVEgpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLkdST1VORF9PRkZTRVQgPSB0aGlzLmdldFByb3BlcnR5KFwiZ3JvdW5kT2Zmc2V0XCIsIFNraWRNYXJrTWFuYWdlci5HUk9VTkRfT0ZGU0VUKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5HUFVfVFJJQU5HTEVTID0gdGhpcy5nZXRQcm9wZXJ0eShcImdwdVF1YWRJbmRpY2VzXCIsIFNraWRNYXJrTWFuYWdlci5HUFVfVFJJQU5HTEVTKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5URVhUVVJFX01BUktTID0gdGhpcy5nZXRQcm9wZXJ0eShcInRleHR1cmVNYXJrc1wiLCBTa2lkTWFya01hbmFnZXIuVEVYVFVSRV9NQVJLUyk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVEVYX0lOVEVOU0lUWSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXh0dXJlSW50ZW5zaXR5XCIsIFNraWRNYXJrTWFuYWdlci5URVhfSU5URU5TSVRZKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5NSU5fRElTVEFOQ0UgPSB0aGlzLmdldFByb3BlcnR5KFwidGV4dHVyZURpc3RhbmNlXCIsIFNraWRNYXJrTWFuYWdlci5NSU5fRElTVEFOQ0UpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLk1JTl9TUVJfRElTVEFOQ0UgPSAoU2tpZE1hcmtNYW5hZ2VyLk1JTl9ESVNUQU5DRSAqIFNraWRNYXJrTWFuYWdlci5NSU5fRElTVEFOQ0UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyBTa2lkTWFya01hbmFnZXIuQ3JlYXRlU2tpZE1hcmtNYW5hZ2VyKHRoaXMuc2NlbmUpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IFNraWRNYXJrTWFuYWdlci5VcGRhdGVTa2lkTWFya01hbmFnZXIoKTsgfVxuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQWRkU2tpZE1hcmtTZWdtZW50KHBvczogQkFCWUxPTi5WZWN0b3IzLCBub3JtYWw6IEJBQllMT04uVmVjdG9yMywgaW50ZW5zaXR5OiBudW1iZXIsIGxhc3RJbmRleDogbnVtYmVyKTogQkFCWUxPTi5OdWxsYWJsZTxudW1iZXI+IHtcbiAgICAgICAgICAgIGlmIChTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoID09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1BPUy5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfRElSLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19YRElSLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19TRElSLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAoaW50ZW5zaXR5ID4gMS4wKSBpbnRlbnNpdHkgPSAxLjA7XG4gICAgICAgICAgICBlbHNlIGlmIChpbnRlbnNpdHkgPCAwLjApIHJldHVybiAtMS4wO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChsYXN0SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgcG9zLnN1YnRyYWN0VG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrU2VjdGlvbnNbbGFzdEluZGV4XS5Qb3MsIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19QT1MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNxckRpc3RhbmNlOiBudW1iZXIgPSBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfUE9TLmxlbmd0aFNxdWFyZWQoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3FyRGlzdGFuY2UgPCBTa2lkTWFya01hbmFnZXIuTUlOX1NRUl9ESVNUQU5DRSkgcmV0dXJuIGxhc3RJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBjdXJTZWN0aW9uOiBTa2lkTWFya1NlY3Rpb24gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleF07XG4gICAgICAgICAgICBub3JtYWwuc2NhbGVUb1JlZihTa2lkTWFya01hbmFnZXIuR1JPVU5EX09GRlNFVCwgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1BPUyk7XG4gICAgICAgICAgICBwb3MuYWRkVG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1BPUywgY3VyU2VjdGlvbi5Qb3MpO1xuICAgICAgICAgICAgY3VyU2VjdGlvbi5Ob3JtYWwuY29weUZyb20obm9ybWFsKTtcbiAgICAgICAgICAgIGN1clNlY3Rpb24uSW50ZW5zaXR5ID0gKGludGVuc2l0eSAqIFNraWRNYXJrTWFuYWdlci5URVhfSU5URU5TSVRZKTtcbiAgICAgICAgICAgIGN1clNlY3Rpb24uTGFzdEluZGV4ID0gbGFzdEluZGV4O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChsYXN0SW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2VjdGlvbjogU2tpZE1hcmtTZWN0aW9uID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrU2VjdGlvbnNbbGFzdEluZGV4XTtcbiAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlBvcy5zdWJ0cmFjdFRvUmVmKGxhc3RTZWN0aW9uLlBvcywgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX0RJUik7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLkNyb3NzVG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX0RJUiwgbm9ybWFsLCBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfWERJUik7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIubm9ybWFsaXplVG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIuc2NhbGVUb1JlZihTa2lkTWFya01hbmFnZXIuTUFSS19XSURUSCAqIDAuNSwgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1NESVIpXG4gICAgICAgICAgICAgICAgY3VyU2VjdGlvbi5Qb3MuYWRkVG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1NESVIsIGN1clNlY3Rpb24uUG9zbCk7XG4gICAgICAgICAgICAgICAgY3VyU2VjdGlvbi5Qb3Muc3VidHJhY3RUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfU0RJUiwgY3VyU2VjdGlvbi5Qb3NyKTtcbiAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlRhbmdlbnQuc2V0KFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19YRElSLngsIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19YRElSLnksIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19YRElSLnosIDEpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RTZWN0aW9uLkxhc3RJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyU2VjdGlvbi5Qb3MuYWRkVG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1NESVIsIGxhc3RTZWN0aW9uLlBvc2wpO1xuICAgICAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlBvcy5zdWJ0cmFjdFRvUmVmKFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19TRElSLCBsYXN0U2VjdGlvbi5Qb3NyKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlY3Rpb24uVGFuZ2VudC5jb3B5RnJvbShjdXJTZWN0aW9uLlRhbmdlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuQWRkU2tpZE1hcmtWZXJ0ZXhEYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJJbmRleDogbnVtYmVyID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXg7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCA9ICsrU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggJSBTa2lkTWFya01hbmFnZXIuTUFYX01BUktTO1xuICAgICAgICAgICAgcmV0dXJuIGN1ckluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc3RhdGljIENyZWF0ZVNraWRNYXJrTWFuYWdlcihzY2VuZTogQkFCWUxPTi5TY2VuZSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2ggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraWRtYXJrTWF0ZXJpYWw6IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJTa2lkTWFya01hdGVyaWFsXCIsIHNjZW5lKTtcbiAgICAgICAgICAgICAgICBza2lkbWFya01hdGVyaWFsLmJhY2tGYWNlQ3VsbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNraWRtYXJrTWF0ZXJpYWwuZGlzYWJsZUxpZ2h0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBza2lkbWFya01hdGVyaWFsLmVtaXNzaXZlQ29sb3IgPSBTa2lkTWFya01hbmFnZXIuTUFSS19DT0xPUjtcbiAgICAgICAgICAgICAgICBza2lkbWFya01hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IFNraWRNYXJrTWFuYWdlci5NQVJLX0NPTE9SO1xuICAgICAgICAgICAgICAgIHNraWRtYXJrTWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShTa2lkTWFya01hbmFnZXIuVEVYVFVSRV9NQVJLUywgc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmIChza2lkbWFya01hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpZG1hcmtNYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5oYXNBbHBoYSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNraWRtYXJrTWF0ZXJpYWwudXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBza2lkbWFya01hdGVyaWFsLmZyZWV6ZSgpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2ggPSBuZXcgQkFCWUxPTi5NZXNoKFwiU2tpZE1hcmtNZXNoXCIsIHNjZW5lKTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLm1hdGVyaWFsID0gc2tpZG1hcmtNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLnJlbmRlcmluZ0dyb3VwSWQgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkRlZmF1bHRSZW5kZXJHcm91cCgpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmRvTm90U3luY0JvdW5kaW5nSW5mbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5yZWNlaXZlU2hhZG93cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guY2hlY2tDb2xsaXNpb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC51c2VWZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guaGFzVmVydGV4QWxwaGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgU2tpZE1hcmsgU2VjdGlvbiBQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9ucyA9IG5ldyBBcnJheTxTa2lkTWFya1NlY3Rpb24+KFNraWRNYXJrTWFuYWdlci5NQVhfTUFSS1MpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrU2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrU2VjdGlvbnNbaV0gPSBuZXcgU2tpZE1hcmtTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgUmF3IE1lc2ggVmVydGV4IEJ1ZmZlciBEYXRhXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyAqIDQgKiAzKTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KFNraWRNYXJrTWFuYWdlci5NQVhfTUFSS1MgKiA0ICogMyk7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50cyA9IG5ldyBGbG9hdDMyQXJyYXkoU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyAqIDQgKiA0KTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyAqIDQgKiA0KTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyAqIDQgKiAyKTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckluZGljZXMgPSBuZXcgSW50MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNik7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBBcHBseSBSYXcgVmVydGV4IEJ1ZmZlciBEYXRhIFRvIE1lc2hcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSBuZXcgQkFCWUxPTi5WZXJ0ZXhEYXRhKCk7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YS5wb3NpdGlvbnMgPSBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9ucztcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLm5vcm1hbHMgPSBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHM7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YS50YW5nZW50cyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHM7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YS5jb2xvcnMgPSBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9ycztcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLnV2cyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzO1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGEuaW5kaWNlcyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlcztcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLmFwcGx5VG9NZXNoKFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2gsIHRydWUpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZnJlZXplV29ybGRNYXRyaXgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBBZGRTa2lkTWFya1ZlcnRleERhdGEoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBjdXJyOiBTa2lkTWFya1NlY3Rpb24gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleF07XG4gICAgICAgICAgICBpZiAoY3Vyci5MYXN0SW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBsYXN0OiBTa2lkTWFya1NlY3Rpb24gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tjdXJyLkxhc3RJbmRleF07XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtVcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUG9zaXRpb24gQnVmZmVycyBEaXJlY3RseVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zW2luZGV4ICogM10gPSBsYXN0LlBvc2wueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zWyhpbmRleCAqIDMpICsgMV0gPSBsYXN0LlBvc2wueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zWyhpbmRleCAqIDMpICsgMl0gPSBsYXN0LlBvc2wuejtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zW2luZGV4ICogM10gPSBsYXN0LlBvc3IueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zWyhpbmRleCAqIDMpICsgMV0gPSBsYXN0LlBvc3IueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zWyhpbmRleCAqIDMpICsgMl0gPSBsYXN0LlBvc3IuejtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMjtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zW2luZGV4ICogM10gPSBjdXJyLlBvc2wueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zWyhpbmRleCAqIDMpICsgMV0gPSBjdXJyLlBvc2wueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zWyhpbmRleCAqIDMpICsgMl0gPSBjdXJyLlBvc2wuejtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMztcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zW2luZGV4ICogM10gPSBjdXJyLlBvc3IueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zWyhpbmRleCAqIDMpICsgMV0gPSBjdXJyLlBvc3IueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zWyhpbmRleCAqIDMpICsgMl0gPSBjdXJyLlBvc3IuejtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgTm9ybWFsIEJ1ZmZlcnMgRGlyZWN0bHlcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbaW5kZXggKiAzXSA9IGxhc3QuTm9ybWFsLng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbKGluZGV4ICogMykgKyAxXSA9IGxhc3QuTm9ybWFsLnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbKGluZGV4ICogMykgKyAyXSA9IGxhc3QuTm9ybWFsLno7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbaW5kZXggKiAzXSA9IGxhc3QuTm9ybWFsLng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbKGluZGV4ICogMykgKyAxXSA9IGxhc3QuTm9ybWFsLnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbKGluZGV4ICogMykgKyAyXSA9IGxhc3QuTm9ybWFsLno7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDI7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbaW5kZXggKiAzXSA9IGN1cnIuTm9ybWFsLng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbKGluZGV4ICogMykgKyAxXSA9IGN1cnIuTm9ybWFsLnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbKGluZGV4ICogMykgKyAyXSA9IGN1cnIuTm9ybWFsLno7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDM7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbaW5kZXggKiAzXSA9IGN1cnIuTm9ybWFsLng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbKGluZGV4ICogMykgKyAxXSA9IGN1cnIuTm9ybWFsLnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlck5vcm1hbHNbKGluZGV4ICogMykgKyAyXSA9IGN1cnIuTm9ybWFsLno7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFRhbmdlbnQgQnVmZmVycyBEaXJlY3RseVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbaW5kZXggKiA0XSA9IGxhc3QuVGFuZ2VudC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDFdID0gbGFzdC5UYW5nZW50Lnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgMl0gPSBsYXN0LlRhbmdlbnQuejtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAzXSA9IGxhc3QuVGFuZ2VudC53O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1tpbmRleCAqIDRdID0gbGFzdC5UYW5nZW50Lng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgMV0gPSBsYXN0LlRhbmdlbnQueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAyXSA9IGxhc3QuVGFuZ2VudC56O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDNdID0gbGFzdC5UYW5nZW50Lnc7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDI7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzW2luZGV4ICogNF0gPSBjdXJyLlRhbmdlbnQueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAxXSA9IGN1cnIuVGFuZ2VudC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDJdID0gY3Vyci5UYW5nZW50Lno7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgM10gPSBjdXJyLlRhbmdlbnQudztcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMztcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbaW5kZXggKiA0XSA9IGN1cnIuVGFuZ2VudC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDFdID0gY3Vyci5UYW5nZW50Lnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgMl0gPSBjdXJyLlRhbmdlbnQuejtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAzXSA9IGN1cnIuVGFuZ2VudC53O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBDb2xvciBCdWZmZXJzIERpcmVjdGx5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAwO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbaW5kZXggKiA0XSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgMV0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDJdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAzXSA9IGxhc3QuSW50ZW5zaXR5O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbaW5kZXggKiA0XSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgMV0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDJdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAzXSA9IGxhc3QuSW50ZW5zaXR5O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAyO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbaW5kZXggKiA0XSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgMV0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDJdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAzXSA9IGN1cnIuSW50ZW5zaXR5O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAzO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbaW5kZXggKiA0XSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgMV0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDJdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAzXSA9IGN1cnIuSW50ZW5zaXR5O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBDb29yZCBCdWZmZXJzIERpcmVjdGx5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAwO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnNbaW5kZXggKiAyXSA9IDA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2c1soaW5kZXggKiAyKSArIDFdID0gMDtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzW2luZGV4ICogMl0gPSAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnNbKGluZGV4ICogMikgKyAxXSA9IDA7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDI7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2c1tpbmRleCAqIDJdID0gMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzWyhpbmRleCAqIDIpICsgMV0gPSAxO1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAzO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnNbaW5kZXggKiAyXSA9IDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2c1soaW5kZXggKiAyKSArIDFdID0gMTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgVHJpYW5nbGUgMSBCdWZmZXJzIERpcmVjdGx5IChRVUFEKVxuICAgICAgICAgICAgLy8uLlxuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzW1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNiArIDBdID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDYgKyAyXSA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckluZGljZXNbU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA2ICsgMV0gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAyO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBUcmlhbmdsZSAyIEJ1ZmZlcnMgRGlyZWN0bHkgKFFVQUQpXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzW1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNiArIDNdID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMjtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDYgKyA1XSA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckluZGljZXNbU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA2ICsgNF0gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAzO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFVwZGF0ZVNraWRNYXJrTWFuYWdlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoICE9IG51bGwgJiYgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrVXBkYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1VwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5nZW9tZXRyeSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoQkFCWUxPTi5WZXJ0ZXhCdWZmZXIuUG9zaXRpb25LaW5kLCBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclBvc2l0aW9ucywgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmdlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KEJBQllMT04uVmVydGV4QnVmZmVyLk5vcm1hbEtpbmQsIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFscywgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmdlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KEJBQllMT04uVmVydGV4QnVmZmVyLlRhbmdlbnRLaW5kLCBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzLCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoQkFCWUxPTi5WZXJ0ZXhCdWZmZXIuQ29sb3JLaW5kLCBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9ycywgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmdlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KEJBQllMT04uVmVydGV4QnVmZmVyLlVWS2luZCwgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnMsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5nZW9tZXRyeS51cGRhdGVJbmRpY2VzKFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlcywgMCwgU2tpZE1hcmtNYW5hZ2VyLkdQVV9UUklBTkdMRVMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBzdGFuZGFyZCByaWdpZGJvZHkgdmVoaWNsZSBjb250cm9sbGVyIGNsYXNzIChIYXZvayBQaHlzaWNzIEVuZ2luZSlcbiAgICAgKiBAY2xhc3MgU3RhbmRhcmRDYXJDb250cm9sbGVyXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFN0YW5kYXJkQ2FyQ29udHJvbGxlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIERFRkFVTFRfU0tJRF9GQUNUT1I6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBERUZBVUxUX1BJVENIX0ZBQ1RPUjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgc3RhdGljIERFRkFVTFRfU1BFRURfRkFDVE9SOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9ET05VVF9GQUNUT1I6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBTaW1wbGV4Tm9pc2UyRDogU0lNUExFWC5Ob2lzZUZ1bmN0aW9uMkQgPSBTSU1QTEVYLmNyZWF0ZU5vaXNlMkQoKTtcblxuICAgICAgICBwdWJsaWMgTUlOX1JQTSA9IDEwMDA7XG4gICAgICAgIHB1YmxpYyBNQVhfUlBNID0gNjAwMDtcblxuICAgICAgICBwcml2YXRlIF9hbmltYXRvcjogQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfcmlnaWRib2R5OiBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2VuZ2luZUF1ZGlvU291cmNlOiBCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2UgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9za2lkQXVkaW9Tb3VyY2U6IEJBQllMT04uVG9vbGtpdC5BdWRpb1NvdXJjZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX25vc0F1ZGlvU291cmNlOiBCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2UgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9za2lkRXh0cmFSb3RhdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBfZG9udXRFeHRyYVJvdGF0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuXG4gICAgICAgIHByaXZhdGUgc3RlZXJpbmdXaGVlbEh1YjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGVlcmluZ1doZWVsQXhpczogbnVtYmVyID0gMjtcbiAgICAgICAgcHJpdmF0ZSBtYXhTdGVlcmluZ0FuZ2xlOiBudW1iZXIgPSA2NS4wO1xuICAgICAgICBwcml2YXRlIG1heFN0ZWVyaW5nU3BlZWQ6IG51bWJlciA9IDE1LjA7XG5cbiAgICAgICAgcHJpdmF0ZSBnZWFySW5kZXg6IG51bWJlciA9IDA7IC8vIEZpcnN0IEdlYXIgUmF0aW9cbiAgICAgICAgcHJpdmF0ZSBkb3duU2hpZnQ6IG51bWJlciA9IDEwMDA7XG4gICAgICAgIHByaXZhdGUgc2tpZGRpbmdUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNoaWZ0aW5nVGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzaGlmdGluZ1NpZGU6IG51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgc2hpZnRpbmdCcmFrZTogbnVtYmVyID0gMS4wO1xuICAgICAgICBwcml2YXRlIGVuZ2luZUZvcmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGhhbmRCcmFraW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbGluZWFyRGFtcGluZzogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhbmd1bGFyRGFtcGluZzogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBmb3J3YXJkU3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgYWJzb2x1dGVTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhbWVyaWNhblNwZWVkOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGdyYWRpZW50U3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZnJvbnRXaGVlbFBvd2VyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGJhY2tXaGVlbFBvd2VyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHdoZWVsQnJha2luZ0ZvcmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGVuZ2luZVBpdGNoTGV2ZWw6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc21va2VJbnRlbnNpdHlGYWN0b3I6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcmF5Y2FzdFZlaGljbGU6IEJBQllMT04uVG9vbGtpdC5SYXljYXN0VmVoaWNsZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYnJha2VMaWdodHNNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYnJha2VMaWdodHNUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmV2ZXJzZUxpZ2h0c01lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByZXZlcnNlTGlnaHRzVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbFRyYW5zOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrTGVmdFdoZWVsVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsTWVzaDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0V2hlZWxNZXNoOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxNZXNoOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsTWVzaDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbEVtaXR0ZXI6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0V2hlZWxFbWl0dGVyOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbEVtaXR0ZXI6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbEVtaXR0ZXI6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbFBhcnRpY2xlOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZTogQkFCWUxPTi5QYXJ0aWNsZVN5c3RlbSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbFBhcnRpY2xlOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbFBhcnRpY2xlOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbENvbGxpZGVyOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbENvbGxpZGVyOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxDb2xsaWRlcjogYW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbENvbGxpZGVyOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGVuZ2luZVRvcnF1ZUN1cnZlOiBCQUJZTE9OLkFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcGh5c2ljc1N0ZWVyQW5nbGVMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBoeXNpY3NTdGVlckFuZ2xlUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB2aXN1YWxTdGVlckFuZ2xlTDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB2aXN1YWxTdGVlckFuZ2xlUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB2aXN1YWxTdGVlckJvb3N0TDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB2aXN1YWxTdGVlckJvb3N0UjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBpZGxlTm9pc2VEZWx0YTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBkcml2ZU5vaXNlRGVsdGE6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgYm9vc3RTcGVlZFRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGJ1cm5vdXRNZXRlcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBkb251dE1ldGVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHdoZWVsUmFkaXVzOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNsdXRjaFNsaXA6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZW5naW5lUlBNOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBpdGNoUlBNOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNoaWZ0UlBNOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFNLSURfRkw6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgU0tJRF9GUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBTS0lEX1JMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFNLSURfUlI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfRkw6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfRlI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfUkw6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfUlI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgRlJPTlRfTEVGVDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByaXZhdGUgRlJPTlRfUklHSFQ6IG51bWJlciA9IC0xO1xuICAgICAgICBwcml2YXRlIEJBQ0tfTEVGVDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByaXZhdGUgQkFDS19SSUdIVDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByaXZhdGUgV0hFRUxfU0tJRF9QSVRDSDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBQT1dFUl9CT09TVF9QSVRDSDogbnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIFNQSU5fRkxfUm90YXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgU1BJTl9GUl9Sb3RhdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBTUElOX1JMX1JvdGF0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIFNQSU5fUlJfUm90YXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHVibGljIGlzQnJha2luZygpOiBib29sZWFuIHsgcmV0dXJuICh0aGlzLmdldEZvb3RCcmFraW5nKCkgfHwgdGhpcy5nZXRIYW5kQnJha2luZygpKSB9XG4gICAgICAgIHB1YmxpYyBpc0Jvb3N0aW5nKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50Qm9vc3Rpbmc7IH1cbiAgICAgICAgcHVibGljIGdldEZvb3RCcmFraW5nKCk6IGJvb2xlYW4geyByZXR1cm4gKHRoaXMuY3VycmVudEZvcndhcmQgPCAwICYmIHRoaXMuZm9yd2FyZFNwZWVkID49IDApOyB9XG4gICAgICAgIHB1YmxpYyBnZXRIYW5kQnJha2luZygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaGFuZEJyYWtpbmc7IH1cbiAgICAgICAgcHVibGljIGdldExpbmVhclZlbG9jaXR5KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLm1fbGluZWFyVmVsb2NpdHk7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRGb3J3YXJkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmN1cnJlbnRGb3J3YXJkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50VHVybmluZygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50VHVybmluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudFNraWRkaW5nKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50U2tpZGRpbmc7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnREb251dHMoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmN1cnJlbnREb251dHM7IH1cbiAgICAgICAgcHVibGljIGdldFJldmVyc2VUaHJvdHRsZSgpOiBib29sZWFuIHsgcmV0dXJuICh0aGlzLmN1cnJlbnRGb3J3YXJkIDwgMCAmJiB0aGlzLmZvcndhcmRTcGVlZCA8IDApOyB9XG4gICAgICAgIHB1YmxpYyBnZXRFbmdpbmVQaXRjaExldmVsKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmVuZ2luZVBpdGNoTGV2ZWw7IH1cbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHB1YmxpYyBnZXRGcm9udExlZnRTcGluKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuc3Bpbm5lciAhPSBudWxsICYmIHRoaXMubV9mcm9udExlZnRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRoaXMubV9mcm9udExlZnRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiA6IG51bGw7IH1cbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHB1YmxpYyBnZXRGcm9udFJpZ2h0U3BpbigpOkJBQllMT04uUXVhdGVybmlvbiB7IHJldHVybiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuc3Bpbm5lciAhPSBudWxsICYmIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuc3Bpbm5lci5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkgPyB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLnNwaW5uZXIucm90YXRpb25RdWF0ZXJuaW9uIDogbnVsbDsgfVxuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIGdldEJhY2tMZWZ0U3BpbigpOkJBQllMT04uUXVhdGVybmlvbiB7IHJldHVybiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja0xlZnRXaGVlbC5zcGlubmVyICE9IG51bGwgJiYgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuc3Bpbm5lci5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkgPyB0aGlzLm1fYmFja0xlZnRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiA6IG51bGw7IH1cbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHB1YmxpYyBnZXRCYWNrUmlnaHRTcGluKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuc3Bpbm5lciAhPSBudWxsICYmIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRoaXMubV9iYWNrUmlnaHRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiA6IG51bGw7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRCdXJub3V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy53aGVlbEJ1cm5vdXQgfHwgdGhpcy5yZXN0b3JlVGltZXIgPiAwOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRTa2lkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLlNLSURfRkw7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRTa2lkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLlNLSURfRlI7IH1cbiAgICAgICAgcHVibGljIGdldEJhY2tMZWZ0U2tpZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5TS0lEX1JMOyB9XG4gICAgICAgIHB1YmxpYyBnZXRCYWNrUmlnaHRTa2lkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLlNLSURfUlI7IH1cbiAgICAgICAgcHVibGljIGdldFdoZWVsU2tpZFBpdGNoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLldIRUVMX1NLSURfUElUQ0g7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2lkYm9keVBoeXNpY3MoKTogQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MgeyByZXR1cm4gdGhpcy5fcmlnaWRib2R5OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSYXljYXN0VmVoaWNsZSgpOiBCQUJZTE9OLlRvb2xraXQuUmF5Y2FzdFZlaGljbGUgeyByZXR1cm4gdGhpcy5yYXljYXN0VmVoaWNsZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0R3JhZGllbnRTcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5ncmFkaWVudFNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGb3J3YXJkU3BlZWQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZm9yd2FyZFNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBYnNvbHV0ZVNwZWVkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmFic29sdXRlU3BlZWQ7IH1cbiAgICAgICAgcHVibGljIGdldEFtZXJpY2FuU3BlZWQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuYW1lcmljYW5TcGVlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0VG9wRW5naW5lU3BlZWQoKTogbnVtYmVyIHsgcmV0dXJuICh0aGlzLmN1cnJlbnRCb29zdGluZyA9PT0gdHJ1ZSkgPyB0aGlzLnRvcEJvb3N0ZXJTcGVlZCA6IHRoaXMudG9wRW5naW5lU3BlZWQ7IH1cbiAgICAgICAgcHVibGljIGdldE5vcm1hbGl6ZWRTcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5hbWVyaWNhblNwZWVkIC8gdGhpcy5nZXRUb3BFbmdpbmVTcGVlZCgpOyB9XG4gICAgICAgIHB1YmxpYyBnZXRNYXhSZXZlcnNlUG93ZXIoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMubWF4UmV2ZXJzZVBvd2VyOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50R2VhckluZGV4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmdlYXJJbmRleCB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50RW5naW5lUlBNKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmVuZ2luZVJQTSB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50RW5naW5lRm9yY2UoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZW5naW5lRm9yY2UgfVxuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudEVuZ2luZVBpdGNoKCk6IG51bWJlciB7IHJldHVybiBCQUJZTE9OLlNjYWxhci5DbGFtcCgodGhpcy5waXRjaFJQTSAvIHRoaXMuZ2VhckJveE1heFBpdGNoaW5nKSArIDAuMSk7IH1cbiAgICAgICAgcHVibGljIGdldEdlYXJTaGlmdFJhdGlvQ291bnQoKTogbnVtYmVyIHsgcmV0dXJuICh0aGlzLmdlYXJCb3hTaGlmdFJhdGlvcyAhPSBudWxsKSA/IHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zLmxlbmd0aCA6IDAgfVxuICAgICAgICBwdWJsaWMgZ2V0U21va2VUZXh0dXJlTWFzaygpOiBCQUJZTE9OLlRleHR1cmUgeyByZXR1cm4gdGhpcy5zbW9rZVRleHR1cmU7IH1cbiAgICAgICAgcHVibGljIGdldEJyYWtlTGlnaHRzTWVzaCgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5icmFrZUxpZ2h0c01lc2g7IH1cbiAgICAgICAgcHVibGljIGdldFJldmVyc2VMaWdodHNNZXNoKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLnJldmVyc2VMaWdodHNNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbE5vZGUoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udFJpZ2h0V2hlZWxOb2RlKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmZyb250UmlnaHRXaGVlbE1lc2g7IH1cbiAgICAgICAgcHVibGljIGdldEJhY2tMZWZ0V2hlZWxOb2RlKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRCYWNrUmlnaHRXaGVlbE5vZGUoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRXaGVlbEJ1cm5vdXRFbmFibGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy53aGVlbEJ1cm5vdXQ7IH1cbiAgICAgICAgcHVibGljIGdldFdoZWVsRG9udXRzRW5hYmxlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMud2hlZWxEb251dHM7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnREb251dFNwaW5UaW1lKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRvbnV0U3BpblRpbWU7IH1cbiAgICAgICAgcHVibGljIGdldFNtb2tlSW50ZW5zaXR5RmFjdG9yKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yOyB9XG4gICAgICAgIHB1YmxpYyBnZXRXaGVlbFZlbG9jaXR5T2Zmc2V0KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLm1fdmVsb2NpdHlPZmZzZXQ7IH1cblxuICAgICAgICBwdWJsaWMgc21va2VUZXh0dXJlOiBCQUJZTE9OLlRleHR1cmUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc2tpZFRocmVhc2hvbGQ6IG51bWJlciA9IDAuNjU7XG4gICAgICAgIHB1YmxpYyB3aGVlbERyYXdWZWxvY2l0eTogbnVtYmVyID0gMC4wMjtcbiAgICAgICAgcHVibGljIHNtb2tlSW50ZW5zaXR5OiBudW1iZXIgPSAxNTA7XG4gICAgICAgIHB1YmxpYyBzbW9rZU9wYWNpdHk6IG51bWJlciA9IDAuMTtcbiAgICAgICAgcHVibGljIHNtb2tlRG9udXRzOiBudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBub2lzZVRpbWVTY2FsZTogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgbm9pc2VUaW1lRmFjdG9yOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbWF4QnVybm91dEZhY3RvcjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgbWF4U3RlZXJCb29zdDogbnVtYmVyID0gNjtcbiAgICAgICAgcHVibGljIG92ZXJTdGVlclNwZWVkOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBvdmVyU3RlZXJUaW1lb3V0OiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHB1YmxpYyB0b3BFbmdpbmVTcGVlZDogbnVtYmVyID0gMTAwO1xuICAgICAgICBwdWJsaWMgdG9wQm9vc3RlclNwZWVkOiBudW1iZXIgPSAxNTA7XG4gICAgICAgIHB1YmxpYyBwb3dlckNoYW5nZVJhdGU6IG51bWJlciA9IDUuMDtcbiAgICAgICAgcHVibGljIHBvd2VyQ29lZmZpY2llbnQ6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIGJvb3N0ZXJDb2VmZmljaWVudDogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgZnJpY3Rpb25MZXJwU3BlZWQ6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIHRvcFNwZWVkRGFtcGVuZXI6IG51bWJlciA9IDAuMTU7XG4gICAgICAgIHB1YmxpYyBsb3dTcGVlZFN0ZWVyaW5nOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBoaWdoU3BlZWRTdGVlcmluZzogbnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgZG9udXRUdXJuaW5nUmFkaXVzOiBudW1iZXIgPSAzLjA7XG4gICAgICAgIHB1YmxpYyBkb251dEVuZ2luZUZhY3RvcjogbnVtYmVyID0gMS41O1xuICAgICAgICBwdWJsaWMgZG9udXRSb3RhdGVGYWN0b3I6IG51bWJlciA9IDIuNTtcbiAgICAgICAgcHVibGljIGRvbnV0TGVycGluZ1NwZWVkOiBudW1iZXIgPSAxLjA7XG5cbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHB1YmxpYyByYXlUZXN0aW5nVHlwZTpudW1iZXIgPSAwO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIHRlc3RQb2ludENvdW50Om51bWJlciA9IDMyO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIHN3ZWVwUGVuZXRyYXRpb246bnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgZ3Jhdml0YXRpb25hbEZvcmNlOiBudW1iZXIgPSAzO1xuICAgICAgICBwdWJsaWMgc21vb3RoRmx5aW5nRm9yY2U6IG51bWJlciA9IDI1MDtcbiAgICAgICAgcHVibGljIHRyYW5zbWlzc2lvblJhdGlvOiBudW1iZXIgPSAwLjc1O1xuICAgICAgICBwdWJsaWMgZGlmZmVyZW50aWFsUmF0aW86IG51bWJlciA9IDMuNTU7XG4gICAgICAgIHB1YmxpYyBtaW5Cb29zdGVyU3BlZWQ6IG51bWJlciA9IDI1LjA7XG4gICAgICAgIHB1YmxpYyBtYXhCb29zdGVyVGltZTogbnVtYmVyID0gMTAuMDtcbiAgICAgICAgcHVibGljIG1heFBpdGNoQ29udHJvbDogbnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgbWF4RnJvbnRCcmFraW5nOiBudW1iZXIgPSAwLjA7XG4gICAgICAgIHB1YmxpYyBtYXhSZXZlcnNlUG93ZXI6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIG1pbkJyYWtpbmdGb3JjZTogbnVtYmVyID0gNTA7XG4gICAgICAgIHB1YmxpYyBtYXhCcmFraW5nRm9yY2U6IG51bWJlciA9IDI1MDtcbiAgICAgICAgcHVibGljIGhhbmRCcmFraW5nRm9yY2U6IG51bWJlciA9IDI1MDA7XG4gICAgICAgIHB1YmxpYyBoYW5kQnJha2luZ1RpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc2tpZFJvdGF0aW9uVGltZW91dDogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgbGluZWFyQnJha2luZ0ZvcmNlOiBudW1iZXIgPSAxNS4wO1xuICAgICAgICBwdWJsaWMgYW5ndWxhckJyYWtpbmdGb3JjZTogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgYnVybm91dEZyaWN0aW9uU2xpcDogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgYnVybm91dFRpbWVEZWxheTogbnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGJ1cm5vdXRXaGVlbFBpdGNoOiBudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgYnVybm91dENvZWZmaWNpZW50OiBudW1iZXIgPSAxNTtcbiAgICAgICAgcHVibGljIGJ1cm5vdXRUcmlnZ2VyTWFyazogbnVtYmVyID0gMTA7XG4gICAgICAgIHB1YmxpYyBlbmFibGVBdXRvQnVybm91dHM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGRyaWZ0VHJpZ2dlckFuZ2xlOiBudW1iZXIgPSAzMC4wO1xuICAgICAgICBwdWJsaWMgZHJpZnRUcmlnZ2VyU3BlZWQ6IG51bWJlciA9IDMwLjA7XG4gICAgICAgIHB1YmxpYyBlbmFibGVBdXRvRHJpZnRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHBlbmFsdHlHcm91bmRUYWc6IHN0cmluZyA9IFwiT2Zmcm9hZFwiO1xuICAgICAgICBwdWJsaWMgbWluUGVuYWx0eVNwZWVkOiBudW1iZXIgPSA2NTtcbiAgICAgICAgcHVibGljIGxpbmVhcldoZWVsRHJhZzogbnVtYmVyID0gMC4wNTtcbiAgICAgICAgcHVibGljIGZyaWN0aW9uV2hlZWxTbGlwOiBudW1iZXIgPSAwLjIxNTtcbiAgICAgICAgcHVibGljIHNob3dTZW5zb3JMaW5lczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcG93ZXJCb29zdGVyOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBsaW5rVHJhY2tNYW5hZ2VyOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBsYXlWZWhpY2xlU291bmRzOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBvc3ROZXR3b3JrQXR0cmlidXRlczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgd2hlZWxEcml2ZVR5cGU6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBnZWFyQm94TXVsdGlwbGllcjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgZ2VhckJveE1heFBpdGNoaW5nID0gNjUwMDtcbiAgICAgICAgcHVibGljIGdlYXJCb3hTaGlmdENoYW5nZTogbnVtYmVyID0gNTEwMDtcbiAgICAgICAgcHVibGljIGdlYXJCb3hTaGlmdERlbGF5OiBudW1iZXIgPSAwLjM1O1xuICAgICAgICBwdWJsaWMgZ2VhckJveFNoaWZ0UmF0aW9zOiBudW1iZXJbXSA9IFs0LjE3LCAyLjM0LCAxLjgyLCAxLjU0LCAwLjk2LCAwLjY4XTtcbiAgICAgICAgcHVibGljIGdlYXJCb3hTaGlmdFJhbmdlczogbnVtYmVyW10gPSBbMTAwMCwgMjQwMCwgMjYwMCwgMjYwMCwgMjgwMCwgMjgwMF07XG5cbiAgICAgICAgcHVibGljIHRocm90dGxlQnJha2luZ0ZvcmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgdGhyb3R0bGVFbmdpbmVTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGJyYWtlUmVjb3ZlcnlEZWxheTogbnVtYmVyID0gMC4wNTtcbiAgICAgICAgcHVibGljIGJyYWtlUmVjb3ZlcnlTcGVlZDogbnVtYmVyID0gMC4zNTtcbiAgICAgICAgcHVibGljIHNraWRSZWNvdmVyeVNwZWVkOiBudW1iZXIgPSAwLjI1O1xuICAgICAgICBwdWJsaWMgZXh0cmFSb3RhdGlvblNwZWVkOiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBtYXhSb3RhdGlvblNwZWVkOiBudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBidXJub3V0TGVycFNwZWVkOiBudW1iZXIgPSAwLjA1O1xuICAgICAgICBwdWJsaWMgYWNrZXJtYW5XaGVlbEJhc2U6IG51bWJlciA9IDIuNTtcbiAgICAgICAgcHVibGljIGFja2VybWFuUmVhclRyYWNrOiBudW1iZXIgPSAxLjU7XG4gICAgICAgIHB1YmxpYyBhY2tlcm1hblR1cm5SYWRpdXM6IG51bWJlciA9IDk7XG4gICAgICAgIHB1YmxpYyBhY2tlcm1hbk1heFJhZGl1czogbnVtYmVyID0gMTg7XG4gICAgICAgIHB1YmxpYyBhY2tlcm1hblR1cm5GYWN0b3I6IG51bWJlciA9IDE7XG5cbiAgICAgICAgcHVibGljIHJlYWRCdXJub3V0TWV0ZXIoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuYnVybm91dE1ldGVyOyB9XG4gICAgICAgIHB1YmxpYyByZXNldEJ1cm5vdXRNZXRlcigpOiB2b2lkIHsgdGhpcy5idXJub3V0TWV0ZXIgPSAwOyB9XG4gICAgICAgIHB1YmxpYyByZWFkRG9udXRNZXRlcigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kb251dE1ldGVyOyB9XG4gICAgICAgIHB1YmxpYyByZXNldERvbnV0TWV0ZXIoKTogdm9pZCB7IHRoaXMuZG9udXRNZXRlciA9IDA7IH1cbiAgICAgICAgcHVibGljIGdldEJvb3N0ZXJUaW1lKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmJvb3N0U3BlZWRUaW1lcjsgfVxuICAgICAgICBwdWJsaWMgc2V0Qm9vc3RlclRpbWUodGltZTogbnVtYmVyKTogdm9pZCB7IHRoaXMuYm9vc3RTcGVlZFRpbWVyID0gdGltZTsgfVxuICAgICAgICBwdWJsaWMgcmVzZXRCb29zdGVyVGltZSgpOiB2b2lkIHsgdGhpcy5zZXRCb29zdGVyVGltZSh0aGlzLm1heEJvb3N0ZXJUaW1lKTsgfVxuICAgICAgICBwdWJsaWMgcm9hZFN1cmZhY2VGYWN0b3I6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIG1vdmVtZW50VGlsdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgc3VyZmFjZURldGVjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgaWRsZVNoYWtlUmF0ZTogbnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgaWRsZVNoYWtlTm9pc2U6IG51bWJlciA9IDAuMDE7XG4gICAgICAgIHB1YmxpYyBtYXhGb3J3YXJkQW5nbGU6IG51bWJlciA9IDMuMDtcbiAgICAgICAgcHVibGljIG1heExhdGVyYWxBbmdsZTogbnVtYmVyID0gMy4wO1xuICAgICAgICBwdWJsaWMgbGVycEZvcndhcmRGYWN0b3I6IG51bWJlciA9IDEwLjA7XG4gICAgICAgIHB1YmxpYyBsZXJwTGF0ZXJhbEZhY3RvcjogbnVtYmVyID0gMTAuMDtcbiAgICAgICAgcHVibGljIHNoaWZ0Rm9yd2FyZEV4dHJhOiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHB1YmxpYyBzaGlmdExhdGVyYWxFeHRyYTogbnVtYmVyID0gMC4yO1xuICAgICAgICBwdWJsaWMgZm9yd2FyZFBpdGNoRmFjdG9yOiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHB1YmxpYyBsYXRlcmFsUm9sbEZhY3RvcjogbnVtYmVyID0gMC4yO1xuICAgICAgICBwdWJsaWMgZm9yd2FyZFJlY292ZXJSYXRlOiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHB1YmxpYyBsYXRlcmFsUmVjb3ZlclJhdGU6IG51bWJlciA9IDAuMjtcbiAgICAgICAgcHVibGljIGxvd1NwZWVkU2NhbGU6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIGhpZ2hTcGVlZFNjYWxlOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBsb3dGb3J3YXJkTm9pc2U6IG51bWJlciA9IDAuMDU7XG4gICAgICAgIHB1YmxpYyBoaWdoRm9yd2FyZE5vaXNlOiBudW1iZXIgPSAwLjA1O1xuICAgICAgICBwdWJsaWMgbG93TGF0ZXJhbE5vaXNlOiBudW1iZXIgPSAwLjA1O1xuICAgICAgICBwdWJsaWMgaGlnaExhdGVyYWxOb2lzZTogbnVtYmVyID0gMC4wNTtcbiAgICAgICAgcHVibGljIHNwZWVkVGhyZWFzaG9sZDogbnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgYm9vc3RlclRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNoYXNzaXNUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB0aWx0Q2hhc3Npc0V1bGVyczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICAvL3B1YmxpYyBtYXhGb3J3YXJkQW5nbGU6IG51bWJlciA9IDAuNTtcbiAgICAgICAgLy9wdWJsaWMgbWF4TGF0ZXJhbEFuZ2xlOiBudW1iZXIgPSAxLjE1O1xuICAgICAgICAvL3B1YmxpYyBtb3ZlRm9yd2FyZFNwZWVkOiBudW1iZXIgPSAwLjU7XG4gICAgICAgIC8vcHVibGljIG1vdmVMYXRlcmFsU3BlZWQ6IG51bWJlciA9IDAuNTtcbiAgICAgICAgLy9wdWJsaWMgdGlsdEZvcndhcmRUcmlnZ2VyOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIC8vcHVibGljIHRpbHRMYXRlcmFsVHJpZ2dlcjogbnVtYmVyID0gMS4wO1xuXG4gICAgICAgIHByb3RlY3RlZCBtX2Zyb250TGVmdFdoZWVsOiBCQUJZTE9OLlRvb2xraXQuSGF2b2tXaGVlbEluZm8gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9mcm9udFJpZ2h0V2hlZWw6IEJBQllMT04uVG9vbGtpdC5IYXZva1doZWVsSW5mbyA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2JhY2tMZWZ0V2hlZWw6IEJBQllMT04uVG9vbGtpdC5IYXZva1doZWVsSW5mbyA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2JhY2tSaWdodFdoZWVsOiBCQUJZTE9OLlRvb2xraXQuSGF2b2tXaGVlbEluZm8gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9mcm9udExlZnRXaGVlbFNraWQ6IG51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9mcm9udFJpZ2h0V2hlZWxTa2lkOiBudW1iZXIgPSAtMTtcbiAgICAgICAgcHJvdGVjdGVkIG1fYmFja0xlZnRXaGVlbFNraWQ6IG51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9iYWNrUmlnaHRXaGVlbFNraWQ6IG51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9hbmd1bGFyRGFtcGVuZXI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX3ZlbG9jaXR5T2Zmc2V0OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9saW5lYXJWZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fbGFzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zY2FsZWRWZWxvY2l0eTogbnVtYmVyID0gMDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7IHRoaXMuYXdha2VWZWhpY2xlU3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuaW5pdFZlaGljbGVTdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IHRoaXMudXBkYXRlVmVoaWNsZVN0YXRlKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7IHRoaXMuZGVzdHJveVZlaGljbGVTdGF0ZSgpOyB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUHJvdGVjdGVkIFZlaGljbGUgTW92ZW1lbnQgU3RhdGUgRnVuY3Rpb25zIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZVZlaGljbGVTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5mcm9udFdoZWVsUG93ZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5iYWNrV2hlZWxQb3dlciA9IDA7XG4gICAgICAgICAgICB0aGlzLndoZWVsQnJha2luZ0ZvcmNlID0gMDtcbiAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiB0aGlzLnJheVRlc3RpbmdUeXBlID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheVRlc3RpbmdUeXBlXCIsIHRoaXMucmF5VGVzdGluZ1R5cGUpO1xuICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IHRoaXMudGVzdFBvaW50Q291bnQgPSB0aGlzLmdldFByb3BlcnR5KFwidGVzdFBvaW50Q291bnRcIiwgdGhpcy50ZXN0UG9pbnRDb3VudCk7XG4gICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogdGhpcy5zd2VlcFBlbmV0cmF0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInN3ZWVwUGVuZXRyYXRpb25cIiwgdGhpcy5zd2VlcFBlbmV0cmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYWNrZXJtYW5XaGVlbEJhc2UgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNrZXJtYW5XaGVlbEJhc2VcIiwgdGhpcy5hY2tlcm1hbldoZWVsQmFzZSk7XG4gICAgICAgICAgICB0aGlzLmFja2VybWFuUmVhclRyYWNrID0gdGhpcy5nZXRQcm9wZXJ0eShcImFja2VybWFuUmVhclRyYWNrXCIsIHRoaXMuYWNrZXJtYW5SZWFyVHJhY2spO1xuICAgICAgICAgICAgdGhpcy5hY2tlcm1hblR1cm5SYWRpdXMgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNrZXJtYW5UdXJuUmFkaXVzXCIsIHRoaXMuYWNrZXJtYW5UdXJuUmFkaXVzKTtcbiAgICAgICAgICAgIHRoaXMuYWNrZXJtYW5NYXhSYWRpdXMgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNrZXJtYW5NYXhSYWRpdXNcIiwgdGhpcy5hY2tlcm1hbk1heFJhZGl1cyk7XG4gICAgICAgICAgICB0aGlzLndoZWVsRHJhd1ZlbG9jaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcIndoZWVsRHJhd1ZlbG9jaXR5XCIsIHRoaXMud2hlZWxEcmF3VmVsb2NpdHkpO1xuICAgICAgICAgICAgdGhpcy5za2lkVGhyZWFzaG9sZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJza2lkVGhyZWFzaG9sZFwiLCB0aGlzLnNraWRUaHJlYXNob2xkKTtcbiAgICAgICAgICAgIHRoaXMuc21va2VJbnRlbnNpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwic21va2VJbnRlbnNpdHlcIiwgdGhpcy5zbW9rZUludGVuc2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNtb2tlT3BhY2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9rZU9wYWNpdHlcIiwgdGhpcy5zbW9rZU9wYWNpdHkpO1xuICAgICAgICAgICAgdGhpcy5zbW9rZURvbnV0cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9rZURvbnV0c1wiLCB0aGlzLnNtb2tlRG9udXRzKTtcbiAgICAgICAgICAgIHRoaXMucG93ZXJCb29zdGVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvd2VyQm9vc3RlclwiLCB0aGlzLnBvd2VyQm9vc3Rlcik7XG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50VGlsdGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtb3ZlbWVudFRpbHRpbmdcIiwgdGhpcy5tb3ZlbWVudFRpbHRpbmcpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlRGV0ZWN0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInN1cmZhY2VEZXRlY3Rpb25cIiwgdGhpcy5zdXJmYWNlRGV0ZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuaWRsZVNoYWtlTm9pc2UgPSB0aGlzLmdldFByb3BlcnR5KFwiaWRsZVNoYWtlTm9pc2VcIiwgdGhpcy5pZGxlU2hha2VOb2lzZSk7XG4gICAgICAgICAgICB0aGlzLmlkbGVTaGFrZVJhdGUgPSB0aGlzLmdldFByb3BlcnR5KFwiaWRsZVNoYWtlUmF0ZVwiLCB0aGlzLmlkbGVTaGFrZVJhdGUpO1xuICAgICAgICAgICAgdGhpcy5tYXhGb3J3YXJkQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4Rm9yd2FyZEFuZ2xlXCIsIHRoaXMubWF4Rm9yd2FyZEFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubWF4TGF0ZXJhbEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heExhdGVyYWxBbmdsZVwiLCB0aGlzLm1heExhdGVyYWxBbmdsZSk7XG4gICAgICAgICAgICB0aGlzLmZvcndhcmRQaXRjaEZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmb3J3YXJkUGl0Y2hGYWN0b3JcIiwgdGhpcy5mb3J3YXJkUGl0Y2hGYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5sYXRlcmFsUm9sbEZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsYXRlcmFsUm9sbEZhY3RvclwiLCB0aGlzLmxhdGVyYWxSb2xsRmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZFJlY292ZXJSYXRlID0gdGhpcy5nZXRQcm9wZXJ0eShcImZvcndhcmRSZWNvdmVyUmF0ZVwiLCB0aGlzLmZvcndhcmRSZWNvdmVyUmF0ZSk7XG4gICAgICAgICAgICB0aGlzLmxhdGVyYWxSZWNvdmVyUmF0ZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsYXRlcmFsUmVjb3ZlclJhdGVcIiwgdGhpcy5sYXRlcmFsUmVjb3ZlclJhdGUpO1xuICAgICAgICAgICAgdGhpcy5sb3dTcGVlZFNjYWxlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvd1NwZWVkU2NhbGVcIiwgdGhpcy5sb3dTcGVlZFNjYWxlKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaFNwZWVkU2NhbGUgPSB0aGlzLmdldFByb3BlcnR5KFwiaGlnaFNwZWVkU2NhbGVcIiwgdGhpcy5oaWdoU3BlZWRTY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmxvd0ZvcndhcmROb2lzZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsb3dGb3J3YXJkTm9pc2VcIiwgdGhpcy5sb3dGb3J3YXJkTm9pc2UpO1xuICAgICAgICAgICAgdGhpcy5oaWdoRm9yd2FyZE5vaXNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImhpZ2hGb3J3YXJkTm9pc2VcIiwgdGhpcy5oaWdoRm9yd2FyZE5vaXNlKTtcbiAgICAgICAgICAgIHRoaXMubG93TGF0ZXJhbE5vaXNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvd0xhdGVyYWxOb2lzZVwiLCB0aGlzLmxvd0xhdGVyYWxOb2lzZSk7XG4gICAgICAgICAgICB0aGlzLmhpZ2hMYXRlcmFsTm9pc2UgPSB0aGlzLmdldFByb3BlcnR5KFwiaGlnaExhdGVyYWxOb2lzZVwiLCB0aGlzLmhpZ2hMYXRlcmFsTm9pc2UpO1xuICAgICAgICAgICAgdGhpcy5zcGVlZFRocmVhc2hvbGQgPSB0aGlzLmdldFByb3BlcnR5KFwic3BlZWRUaHJlYXNob2xkXCIsIHRoaXMuc3BlZWRUaHJlYXNob2xkKTtcbiAgICAgICAgICAgIHRoaXMubGVycEZvcndhcmRGYWN0b3IgPSB0aGlzLmdldFByb3BlcnR5KFwibGVycEZvcndhcmRGYWN0b3JcIiwgdGhpcy5sZXJwRm9yd2FyZEZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLmxlcnBMYXRlcmFsRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlcnBMYXRlcmFsRmFjdG9yXCIsIHRoaXMubGVycExhdGVyYWxGYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5zaGlmdEZvcndhcmRFeHRyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaGlmdEZvcndhcmRFeHRyYVwiLCB0aGlzLnNoaWZ0Rm9yd2FyZEV4dHJhKTtcbiAgICAgICAgICAgIHRoaXMuc2hpZnRMYXRlcmFsRXh0cmEgPSB0aGlzLmdldFByb3BlcnR5KFwic2hpZnRMYXRlcmFsRXh0cmFcIiwgdGhpcy5zaGlmdExhdGVyYWxFeHRyYSk7XG4gICAgICAgICAgICAvL3RoaXMubWF4Rm9yd2FyZEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEZvcndhcmRBbmdsZVwiLCB0aGlzLm1heEZvcndhcmRBbmdsZSk7XG4gICAgICAgICAgICAvL3RoaXMubWF4TGF0ZXJhbEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heExhdGVyYWxBbmdsZVwiLCB0aGlzLm1heExhdGVyYWxBbmdsZSk7XG4gICAgICAgICAgICAvL3RoaXMubW92ZUZvcndhcmRTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtb3ZlRm9yd2FyZFNwZWVkXCIsIHRoaXMubW92ZUZvcndhcmRTcGVlZCk7XG4gICAgICAgICAgICAvL3RoaXMubW92ZUxhdGVyYWxTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtb3ZlTGF0ZXJhbFNwZWVkXCIsIHRoaXMubW92ZUxhdGVyYWxTcGVlZCk7XG4gICAgICAgICAgICAvL3RoaXMudGlsdEZvcndhcmRUcmlnZ2VyID0gdGhpcy5nZXRQcm9wZXJ0eShcInRpbHRGb3J3YXJkVHJpZ2dlclwiLCB0aGlzLnRpbHRGb3J3YXJkVHJpZ2dlcik7XG4gICAgICAgICAgICAvL3RoaXMudGlsdExhdGVyYWxUcmlnZ2VyID0gdGhpcy5nZXRQcm9wZXJ0eShcInRpbHRMYXRlcmFsVHJpZ2dlclwiLCB0aGlzLnRpbHRMYXRlcmFsVHJpZ2dlcik7XG4gICAgICAgICAgICB0aGlzLnRvcEVuZ2luZVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcInRvcEVuZ2luZVNwZWVkXCIsIHRoaXMudG9wRW5naW5lU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy50b3BCb29zdGVyU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwidG9wQm9vc3RlclNwZWVkXCIsIHRoaXMudG9wQm9vc3RlclNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMucG93ZXJDaGFuZ2VSYXRlID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvd2VyQ2hhbmdlUmF0ZVwiLCB0aGlzLnBvd2VyQ2hhbmdlUmF0ZSk7XG4gICAgICAgICAgICB0aGlzLnBvd2VyQ29lZmZpY2llbnQgPSB0aGlzLmdldFByb3BlcnR5KFwicG93ZXJDb2VmZmljaWVudFwiLCB0aGlzLnBvd2VyQ29lZmZpY2llbnQpO1xuICAgICAgICAgICAgdGhpcy5ib29zdGVyQ29lZmZpY2llbnQgPSB0aGlzLmdldFByb3BlcnR5KFwiYm9vc3RlckNvZWZmaWNpZW50XCIsIHRoaXMuYm9vc3RlckNvZWZmaWNpZW50KTtcbiAgICAgICAgICAgIHRoaXMubWF4Qm9vc3RlclRpbWUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4Qm9vc3RlclRpbWVcIiwgdGhpcy5tYXhCb29zdGVyVGltZSk7XG4gICAgICAgICAgICB0aGlzLm1pbkJvb3N0ZXJTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5Cb29zdGVyU3BlZWRcIiwgdGhpcy5taW5Cb29zdGVyU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5tYXhQaXRjaENvbnRyb2wgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4UGl0Y2hDb250cm9sXCIsIHRoaXMubWF4UGl0Y2hDb250cm9sKTtcbiAgICAgICAgICAgIHRoaXMubWF4RnJvbnRCcmFraW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEZyb250QnJha2luZ1wiLCB0aGlzLm1heEZyb250QnJha2luZyk7XG4gICAgICAgICAgICB0aGlzLm1heFJldmVyc2VQb3dlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhSZXZlcnNlUG93ZXJcIiwgdGhpcy5tYXhSZXZlcnNlUG93ZXIpO1xuICAgICAgICAgICAgdGhpcy5wZW5hbHR5R3JvdW5kVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcInBlbmFsdHlHcm91bmRUYWdcIiwgdGhpcy5wZW5hbHR5R3JvdW5kVGFnKTtcbiAgICAgICAgICAgIHRoaXMubWluUGVuYWx0eVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pblBlbmFsdHlTcGVlZFwiLCB0aGlzLm1pblBlbmFsdHlTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVhcldoZWVsRHJhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsaW5lYXJXaGVlbERyYWdcIiwgdGhpcy5saW5lYXJXaGVlbERyYWcpO1xuICAgICAgICAgICAgdGhpcy5mcmljdGlvbldoZWVsU2xpcCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcmljdGlvbldoZWVsU2xpcFwiLCB0aGlzLmZyaWN0aW9uV2hlZWxTbGlwKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd1NlbnNvckxpbmVzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNob3dTZW5zb3JMaW5lc1wiLCB0aGlzLnNob3dTZW5zb3JMaW5lcyk7XG4gICAgICAgICAgICB0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJncmF2aXR5TXVsdGlwbGllclwiLCB0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICB0aGlzLnNtb290aEZseWluZ0ZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aEZseWluZ0ZvcmNlXCIsIHRoaXMuc21vb3RoRmx5aW5nRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy5mcmljdGlvbkxlcnBTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcmljdGlvbkxlcnBTcGVlZFwiLCB0aGlzLmZyaWN0aW9uTGVycFNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMubWF4QnVybm91dEZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhCdXJub3V0RmFjdG9yXCIsIHRoaXMubWF4QnVybm91dEZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLm1heFN0ZWVyQm9vc3QgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4U3RlZXJCb29zdFwiLCB0aGlzLm1heFN0ZWVyQm9vc3QpO1xuICAgICAgICAgICAgdGhpcy5vdmVyU3RlZXJTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJvdmVyU3RlZXJTcGVlZFwiLCB0aGlzLm92ZXJTdGVlclNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMub3ZlclN0ZWVyVGltZW91dCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJvdmVyU3RlZXJUaW1lb3V0XCIsIHRoaXMub3ZlclN0ZWVyVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLndoZWVsRHJpdmVUeXBlID0gdGhpcy5nZXRQcm9wZXJ0eShcIndoZWVsRHJpdmVUeXBlXCIsIHRoaXMud2hlZWxEcml2ZVR5cGUpO1xuICAgICAgICAgICAgdGhpcy5taW5CcmFraW5nRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWluQnJha2luZ0ZvcmNlXCIsIHRoaXMubWluQnJha2luZ0ZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMubWF4QnJha2luZ0ZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEJyYWtpbmdGb3JjZVwiLCB0aGlzLm1heEJyYWtpbmdGb3JjZSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRCcmFraW5nRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwiaGFuZEJyYWtpbmdGb3JjZVwiLCB0aGlzLmhhbmRCcmFraW5nRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy5icmFrZVJlY292ZXJ5RGVsYXkgPSB0aGlzLmdldFByb3BlcnR5KFwiYnJha2VSZWNvdmVyeURlbGF5XCIsIHRoaXMuYnJha2VSZWNvdmVyeURlbGF5KTtcbiAgICAgICAgICAgIHRoaXMuYnJha2VSZWNvdmVyeVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImJyYWtlUmVjb3ZlcnlTcGVlZFwiLCB0aGlzLmJyYWtlUmVjb3ZlcnlTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLnNraWRSZWNvdmVyeVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcInNraWRSZWNvdmVyeVNwZWVkXCIsIHRoaXMuc2tpZFJlY292ZXJ5U3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5tYXhSb3RhdGlvblNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFJvdGF0aW9uU3BlZWRcIiwgdGhpcy5tYXhSb3RhdGlvblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuZXh0cmFSb3RhdGlvblNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImV4dHJhUm90YXRpb25TcGVlZFwiLCB0aGlzLmV4dHJhUm90YXRpb25TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLnNraWRSb3RhdGlvblRpbWVvdXQgPSB0aGlzLmdldFByb3BlcnR5KFwic2tpZFJvdGF0aW9uVGltZW91dFwiLCB0aGlzLnNraWRSb3RhdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5saW5lYXJCcmFraW5nRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibGluZWFyQnJha2luZ0ZvcmNlXCIsIHRoaXMubGluZWFyQnJha2luZ0ZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMuYW5ndWxhckJyYWtpbmdGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbmd1bGFyQnJha2luZ0ZvcmNlXCIsIHRoaXMuYW5ndWxhckJyYWtpbmdGb3JjZSk7XG4gICAgICAgICAgICB0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0ZWVyaW5nV2hlZWxBeGlzXCIsIHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMpO1xuICAgICAgICAgICAgdGhpcy5tYXhTdGVlcmluZ0FuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFN0ZWVyaW5nQW5nbGVcIiwgdGhpcy5tYXhTdGVlcmluZ0FuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubWF4U3RlZXJpbmdTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhTdGVlcmluZ1NwZWVkXCIsIHRoaXMubWF4U3RlZXJpbmdTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLnRvcFNwZWVkRGFtcGVuZXIgPSB0aGlzLmdldFByb3BlcnR5KFwidG9wU3BlZWREYW1wZW5lclwiLCB0aGlzLnRvcFNwZWVkRGFtcGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5sb3dTcGVlZFN0ZWVyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvd1NwZWVkU3RlZXJpbmdcIiwgdGhpcy5sb3dTcGVlZFN0ZWVyaW5nKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaFNwZWVkU3RlZXJpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiaGlnaFNwZWVkU3RlZXJpbmdcIiwgdGhpcy5oaWdoU3BlZWRTdGVlcmluZyk7XG4gICAgICAgICAgICB0aGlzLmRvbnV0VHVybmluZ1JhZGl1cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkb251dFR1cm5pbmdSYWRpdXNcIiwgdGhpcy5kb251dFR1cm5pbmdSYWRpdXMpO1xuICAgICAgICAgICAgdGhpcy5kb251dEVuZ2luZUZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkb251dEVuZ2luZUZhY3RvclwiLCB0aGlzLmRvbnV0RW5naW5lRmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuZG9udXRSb3RhdGVGYWN0b3IgPSB0aGlzLmdldFByb3BlcnR5KFwiZG9udXRSb3RhdGVGYWN0b3JcIiwgdGhpcy5kb251dFJvdGF0ZUZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLmRvbnV0TGVycGluZ1NwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImRvbnV0TGVycGluZ1NwZWVkXCIsIHRoaXMuZG9udXRMZXJwaW5nU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5icmFrZUxpZ2h0c1RyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcImJyYWtlTGlnaHRzTWVzaFwiLCB0aGlzLmJyYWtlTGlnaHRzVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwicmV2ZXJzZUxpZ2h0c01lc2hcIiwgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyb250TGVmdFdoZWVsTWVzaFwiLCB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcm9udFJpZ2h0V2hlZWxNZXNoXCIsIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwicmVhckxlZnRXaGVlbE1lc2hcIiwgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlYXJSaWdodFdoZWVsTWVzaFwiLCB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbENvbGxpZGVyID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyb250TGVmdFdoZWVsQ29sbGlkZXJcIiwgdGhpcy5mcm9udExlZnRXaGVlbENvbGxpZGVyKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsQ29sbGlkZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJvbnRSaWdodFdoZWVsQ29sbGlkZXJcIiwgdGhpcy5mcm9udFJpZ2h0V2hlZWxDb2xsaWRlcik7XG4gICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxDb2xsaWRlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWFyTGVmdFdoZWVsQ29sbGlkZXJcIiwgdGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIpO1xuICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbENvbGxpZGVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlYXJSaWdodFdoZWVsQ29sbGlkZXJcIiwgdGhpcy5iYWNrUmlnaHRXaGVlbENvbGxpZGVyKTtcbiAgICAgICAgICAgIHRoaXMuYnVybm91dEZyaWN0aW9uU2xpcCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidXJub3V0RnJpY3Rpb25TbGlwXCIsIHRoaXMuYnVybm91dEZyaWN0aW9uU2xpcCk7XG4gICAgICAgICAgICB0aGlzLmJ1cm5vdXRUaW1lRGVsYXkgPSB0aGlzLmdldFByb3BlcnR5KFwiYnVybm91dFRpbWVEZWxheVwiLCB0aGlzLmJ1cm5vdXRUaW1lRGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5idXJub3V0V2hlZWxQaXRjaCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidXJub3V0V2hlZWxQaXRjaFwiLCB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoKTtcbiAgICAgICAgICAgIHRoaXMuYnVybm91dENvZWZmaWNpZW50ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1cm5vdXRDb2VmZmljaWVudFwiLCB0aGlzLmJ1cm5vdXRDb2VmZmljaWVudCk7XG4gICAgICAgICAgICB0aGlzLmJ1cm5vdXRUcmlnZ2VyTWFyayA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidXJub3V0VHJpZ2dlck1hcmtcIiwgdGhpcy5idXJub3V0VHJpZ2dlck1hcmspO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVBdXRvQnVybm91dHMgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlQXV0b0J1cm5vdXRzXCIsIHRoaXMuZW5hYmxlQXV0b0J1cm5vdXRzKTtcbiAgICAgICAgICAgIHRoaXMuZHJpZnRUcmlnZ2VyQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwiZHJpZnRUcmlnZ2VyQW5nbGVcIiwgdGhpcy5kcmlmdFRyaWdnZXJBbmdsZSk7XG4gICAgICAgICAgICB0aGlzLmRyaWZ0VHJpZ2dlclNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImRyaWZ0VHJpZ2dlclNwZWVkXCIsIHRoaXMuZHJpZnRUcmlnZ2VyU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVBdXRvRHJpZnRpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlQXV0b0RyaWZ0aW5nXCIsIHRoaXMuZW5hYmxlQXV0b0RyaWZ0aW5nKTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvc3ROZXR3b3JrQXR0cmlidXRlc1wiLCB0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyk7XG4gICAgICAgICAgICB0aGlzLmxpbmtUcmFja01hbmFnZXIgPSB0aGlzLmdldFByb3BlcnR5KFwibGlua1RyYWNrTWFuYWdlclwiLCB0aGlzLmxpbmtUcmFja01hbmFnZXIpO1xuICAgICAgICAgICAgdGhpcy5wbGF5VmVoaWNsZVNvdW5kcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5VmVoaWNsZVNvdW5kc1wiLCB0aGlzLnBsYXlWZWhpY2xlU291bmRzKTtcbiAgICAgICAgICAgIHRoaXMuZGlmZmVyZW50aWFsUmF0aW8gPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveERpZmZlcmVudGlhbFwiLCB0aGlzLmRpZmZlcmVudGlhbFJhdGlvKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNtaXNzaW9uUmF0aW8gPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveE92ZXJkcml2ZVwiLCB0aGlzLnRyYW5zbWlzc2lvblJhdGlvKTtcbiAgICAgICAgICAgIHRoaXMuZ2VhckJveE11bHRpcGxpZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveE11bHRpcGxpZXJcIiwgdGhpcy5nZWFyQm94TXVsdGlwbGllcik7XG4gICAgICAgICAgICB0aGlzLmdlYXJCb3hNYXhQaXRjaGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94TWF4UGl0Y2hpbmdcIiwgdGhpcy5nZWFyQm94TWF4UGl0Y2hpbmcpO1xuICAgICAgICAgICAgdGhpcy5nZWFyQm94U2hpZnRDaGFuZ2UgPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveFNoaWZ0Q2hhbmdlXCIsIHRoaXMuZ2VhckJveFNoaWZ0Q2hhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuZ2VhckJveFNoaWZ0RGVsYXkgPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveFNoaWZ0RGVsYXlcIiwgdGhpcy5nZWFyQm94U2hpZnREZWxheSk7XG4gICAgICAgICAgICB0aGlzLmdlYXJCb3hTaGlmdFJhdGlvcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94U2hpZnRSYXRpb3NcIiwgdGhpcy5nZWFyQm94U2hpZnRSYXRpb3MpO1xuICAgICAgICAgICAgdGhpcy5nZWFyQm94U2hpZnRSYW5nZXMgPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VhckJveFNoaWZ0UmFuZ2VzXCIsIHRoaXMuZ2VhckJveFNoaWZ0UmFuZ2VzKTtcbiAgICAgICAgICAgIHRoaXMuTUlOX1JQTSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94TWluUG93ZXJcIiwgdGhpcy5NSU5fUlBNKTtcbiAgICAgICAgICAgIHRoaXMuTUFYX1JQTSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94TWF4UG93ZXJcIiwgdGhpcy5NQVhfUlBNKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudG9wU3BlZWREYW1wZW5lciA8PSAwKSB0aGlzLnRvcFNwZWVkRGFtcGVuZXIgPSAwLjE1O1xuICAgICAgICAgICAgaWYgKHRoaXMubWF4QnVybm91dEZhY3RvciA8PSAwKSB0aGlzLm1heEJ1cm5vdXRGYWN0b3IgPSAxLjA7XG4gICAgICAgICAgICBpZiAodGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UgPD0gMCkgdGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UgPSAzO1xuICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoRmx5aW5nRm9yY2UgPD0gMCkgdGhpcy5zbW9vdGhGbHlpbmdGb3JjZSA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXhGcm9udEJyYWtpbmcgPD0gMCkgdGhpcy5tYXhGcm9udEJyYWtpbmcgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMubWF4UmV2ZXJzZVBvd2VyIDw9IDApIHRoaXMubWF4UmV2ZXJzZVBvd2VyID0gMC41O1xuICAgICAgICAgICAgaWYgKHRoaXMubG93U3BlZWRTdGVlcmluZyA8PSAwKSB0aGlzLmxvd1NwZWVkU3RlZXJpbmcgPSA1LjA7XG4gICAgICAgICAgICBpZiAodGhpcy5oaWdoU3BlZWRTdGVlcmluZyA8PSAwKSB0aGlzLmhpZ2hTcGVlZFN0ZWVyaW5nID0gNS4wO1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9udXRUdXJuaW5nUmFkaXVzIDw9IDApIHRoaXMuZG9udXRUdXJuaW5nUmFkaXVzID0gNS4wO1xuICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJDb2VmZmljaWVudCA8PSAwKSB0aGlzLnBvd2VyQ29lZmZpY2llbnQgPSAxLjA7XG4gICAgICAgICAgICBpZiAodGhpcy50b3BFbmdpbmVTcGVlZCA8PSAwKSB0aGlzLnRvcEVuZ2luZVNwZWVkID0gMTAwO1xuICAgICAgICAgICAgaWYgKHRoaXMudG9wQm9vc3RlclNwZWVkIDw9IDApIHRoaXMudG9wQm9vc3RlclNwZWVkID0gMTUwO1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckJveE11bHRpcGxpZXIgPD0gMCkgdGhpcy5nZWFyQm94TXVsdGlwbGllciA9IDEuMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmdlYXJCb3hNYXhQaXRjaGluZyA8PSAwKSB0aGlzLmdlYXJCb3hNYXhQaXRjaGluZyA9IDY1MDA7XG4gICAgICAgICAgICBpZiAodGhpcy5nZWFyQm94U2hpZnRDaGFuZ2UgPD0gMCkgdGhpcy5nZWFyQm94U2hpZnRDaGFuZ2UgPSA1MTAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckJveFNoaWZ0RGVsYXkgPD0gMCkgdGhpcy5nZWFyQm94U2hpZnREZWxheSA9IDAuMzU7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc21pc3Npb25SYXRpbyA8PSAwKSB0aGlzLnRyYW5zbWlzc2lvblJhdGlvID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpZmZlcmVudGlhbFJhdGlvIDw9IDApIHRoaXMuZGlmZmVyZW50aWFsUmF0aW8gPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuZnJpY3Rpb25MZXJwU3BlZWQgPD0gMCkgdGhpcy5mcmljdGlvbkxlcnBTcGVlZCA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5idXJub3V0TGVycFNwZWVkIDw9IDApIHRoaXMuYnVybm91dExlcnBTcGVlZCA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5idXJub3V0VGltZURlbGF5IDw9IDApIHRoaXMuYnVybm91dFRpbWVEZWxheSA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5idXJub3V0V2hlZWxQaXRjaCA8PSAwKSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heFJvdGF0aW9uU3BlZWQgPD0gMCkgdGhpcy5tYXhSb3RhdGlvblNwZWVkID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1pbkJvb3N0ZXJTcGVlZCA8PSAwKSB0aGlzLm1pbkJvb3N0ZXJTcGVlZCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXhCb29zdGVyVGltZSA8PSAwKSB0aGlzLm1heEJvb3N0ZXJUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMuc2V0Qm9vc3RlclRpbWUodGhpcy5tYXhCb29zdGVyVGltZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHZlaGljbGVDaGFzc2lzVHJhbnNmb3JtOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImNoYXNzaXNUcmFuc2Zvcm1cIik7XG4gICAgICAgICAgICBpZiAodmVoaWNsZUNoYXNzaXNUcmFuc2Zvcm0gIT0gbnVsbCAmJiB2ZWhpY2xlQ2hhc3Npc1RyYW5zZm9ybS5uYW1lICE9IG51bGwgJiYgdmVoaWNsZUNoYXNzaXNUcmFuc2Zvcm0ubmFtZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhc3Npc1RyYW5zZm9ybSA9IHRoaXMuZ2V0Q2hpbGROb2RlKHZlaGljbGVDaGFzc2lzVHJhbnNmb3JtLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKSBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3dlckJvb3N0ZXJUcmFuc2Zvcm06IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9vc3RlclRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGlmIChwb3dlckJvb3N0ZXJUcmFuc2Zvcm0gIT0gbnVsbCAmJiBwb3dlckJvb3N0ZXJUcmFuc2Zvcm0ubmFtZSAhPSBudWxsICYmIHBvd2VyQm9vc3RlclRyYW5zZm9ybS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib29zdGVyVHJhbnNmb3JtID0gdGhpcy5nZXRDaGlsZE5vZGUocG93ZXJCb29zdGVyVHJhbnNmb3JtLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKSBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9vc3RlclRyYW5zZm9ybSAhPSBudWxsKSB0aGlzLl9ub3NBdWRpb1NvdXJjZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmJvb3N0ZXJUcmFuc2Zvcm0sIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RlZXJpbmdXaGVlbE5vZGU6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwic3RlZXJpbmdXaGVlbEh1YlwiKTtcbiAgICAgICAgICAgIGlmIChzdGVlcmluZ1doZWVsTm9kZSAhPSBudWxsICYmIHN0ZWVyaW5nV2hlZWxOb2RlLm5hbWUgIT0gbnVsbCAmJiBzdGVlcmluZ1doZWVsTm9kZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGVlcmluZ1doZWVsSHViID0gdGhpcy5nZXRDaGlsZE5vZGUoc3RlZXJpbmdXaGVlbE5vZGUubmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFuZ3VsYXJEYW1wZW5lcjogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwiYW5ndWxhckRhbXBlbmVyXCIpO1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXJEYW1wZW5lciAhPSBudWxsKSB0aGlzLm1fYW5ndWxhckRhbXBlbmVyID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMoYW5ndWxhckRhbXBlbmVyKTtcblxuICAgICAgICAgICAgY29uc3Qgc21va2VUZXh0dXJlSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwic21va2VUZXh0dXJlXCIpO1xuICAgICAgICAgICAgaWYgKHNtb2tlVGV4dHVyZUluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc21va2VUZXh0dXJlID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVRleHR1cmUoc21va2VUZXh0dXJlSW5mbywgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbmdpbmVUb3JxdWVJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5Q3VydmUgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5naW5lVG9ycXVlXCIpO1xuICAgICAgICAgICAgaWYgKGVuZ2luZVRvcnF1ZUluZm8gIT0gbnVsbCAmJiBlbmdpbmVUb3JxdWVJbmZvLmFuaW1hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVUb3JxdWVDdXJ2ZSA9IEJBQllMT04uQW5pbWF0aW9uLlBhcnNlKGVuZ2luZVRvcnF1ZUluZm8uYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZVRvcnF1ZUN1cnZlID09IG51bGwpIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWxlZCB0byBwYXJzZSBlbmdpbmUgdG9ycXVlIGN1cnZlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpbml0VmVoaWNsZVN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5WYWxpZGF0ZVRyYW5zZm9ybVF1YXRlcm5pb24odGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgVmVoaWNsZVxuICAgICAgICAgICAgaWYgKHRoaXMubGlua1RyYWNrTWFuYWdlciA9PT0gdHJ1ZSkgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlJlZ2lzdGVyVmVoaWNsZSh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAvLyBTZXR1cCBBbmltYXRvclxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0b3IgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRvciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uTm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5nZXRDaGlsZFdpdGhTY3JpcHQoXCJCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbk5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmltYXRvciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudChhbmltYXRpb25Ob2RlLCBcIkJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGxvY2F0ZSBhbmltYXRvciBub2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0dXAgRW5naW5lIEF1ZGlvXG4gICAgICAgICAgICB0aGlzLl9lbmdpbmVBdWRpb1NvdXJjZSA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlID09IG51bGwpIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk5vIGVuZ2luZSBhdWRpbyBzb3VyY2UgbWFuYWdlciBmb3VuZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAvLyBTZXR1cCBSYXljYXN0IFZlaGljbGVcbiAgICAgICAgICAgIHRoaXMuX3JpZ2lkYm9keSA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3NcIik7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9yaWdpZGJvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUgPSB0aGlzLl9yaWdpZGJvZHkuZ2V0UmF5Y2FzdFZlaGljbGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYXljYXN0VmVoaWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEtFRVAtRk9SLVJFRkVSRU5DRTogdGhpcy5fY2hhc3Npc01lc2gucGh5c2ljc0JvZHkuc2V0QW5ndWxhckZhY3Rvcih0aGlzLm1fYW5ndWxhckRhbXBlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcHM6IEJBQllMT04uUGh5c2ljc01hc3NQcm9wZXJ0aWVzID0gdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0TWFzc1Byb3BlcnRpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuaW5lcnRpYSA9IG5ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5tX2FuZ3VsYXJEYW1wZW5lci54LCB0aGlzLm1fYW5ndWxhckRhbXBlbmVyLnksIHRoaXMubV9hbmd1bGFyRGFtcGVuZXIueik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldE1hc3NQcm9wZXJ0aWVzKHByb3BzKTsgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFNldCBBbmd1bGFyIEZhY3RvclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVhckRhbXBpbmcgPSB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRMaW5lYXJEYW1waW5nKCk7ICAgICAvLyBOb3RlOiBEZWZhdWx0IExpbmVhciBEcmFnXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRBbmd1bGFyRGFtcGluZygpOyAgIC8vIE5vdGU6IERlZmF1bHQgQW5ndWxhciBEcmFnXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJyYWtlTGlnaHRzbE5hbWU6IHN0cmluZyA9ICh0aGlzLmJyYWtlTGlnaHRzVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmJyYWtlTGlnaHRzVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuYnJha2VMaWdodHNUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuYnJha2VMaWdodHNUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2ZXJzZUxpZ2h0c2xOYW1lOiBzdHJpbmcgPSAodGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMgIT0gbnVsbCAmJiB0aGlzLnJldmVyc2VMaWdodHNUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLnJldmVyc2VMaWdodHNUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRMZWZ0V2hlZWxOYW1lOiBzdHJpbmcgPSAodGhpcy5mcm9udExlZnRXaGVlbFRyYW5zICE9IG51bGwgJiYgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250UmlnaHRXaGVlbE5hbWU6IHN0cmluZyA9ICh0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zICE9IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tMZWZ0V2hlZWxOYW1lOiBzdHJpbmcgPSAodGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja1JpZ2h0V2hlZWxOYW1lOiBzdHJpbmcgPSAodGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zICE9IG51bGwgJiYgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250TGVmdFdoZWVsTGFiZWw6IHN0cmluZyA9ICh0aGlzLmZyb250TGVmdFdoZWVsQ29sbGlkZXIgIT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsQ29sbGlkZXIubmFtZSAhPSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxDb2xsaWRlci5uYW1lICE9PSBcIlwiKSA/IHRoaXMuZnJvbnRMZWZ0V2hlZWxDb2xsaWRlci5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRSaWdodFdoZWVsTGFiZWw6IHN0cmluZyA9ICh0aGlzLmZyb250UmlnaHRXaGVlbENvbGxpZGVyICE9IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxDb2xsaWRlci5uYW1lICE9IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxDb2xsaWRlci5uYW1lICE9PSBcIlwiKSA/IHRoaXMuZnJvbnRSaWdodFdoZWVsQ29sbGlkZXIubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tMZWZ0V2hlZWxMYWJlbDogc3RyaW5nID0gKHRoaXMuYmFja0xlZnRXaGVlbENvbGxpZGVyICE9IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIubmFtZSAhPSBudWxsICYmIHRoaXMuYmFja0xlZnRXaGVlbENvbGxpZGVyLm5hbWUgIT09IFwiXCIpID8gdGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIubmFtZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tSaWdodFdoZWVsTGFiZWw6IHN0cmluZyA9ICh0aGlzLmJhY2tSaWdodFdoZWVsQ29sbGlkZXIgIT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsQ29sbGlkZXIubmFtZSAhPSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxDb2xsaWRlci5uYW1lICE9PSBcIlwiKSA/IHRoaXMuYmFja1JpZ2h0V2hlZWxDb2xsaWRlci5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IFdoZWVsIEluZGV4cyBGcm9tIFdoZWVsIE5hbWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChmcm9udExlZnRXaGVlbExhYmVsICE9IG51bGwpIHRoaXMuRlJPTlRfTEVGVCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmRleEJ5TmFtZShmcm9udExlZnRXaGVlbExhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb250UmlnaHRXaGVlbExhYmVsICE9IG51bGwpIHRoaXMuRlJPTlRfUklHSFQgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5kZXhCeU5hbWUoZnJvbnRSaWdodFdoZWVsTGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFja0xlZnRXaGVlbExhYmVsICE9IG51bGwpIHRoaXMuQkFDS19MRUZUID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZGV4QnlOYW1lKGJhY2tMZWZ0V2hlZWxMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiYWNrUmlnaHRXaGVlbExhYmVsICE9IG51bGwpIHRoaXMuQkFDS19SSUdIVCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmRleEJ5TmFtZShiYWNrUmlnaHRXaGVlbExhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IEJyYWtlICYgUmV2ZXJzZSBMaWdodHMgTWVzaGVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChicmFrZUxpZ2h0c2xOYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJha2VMaWdodHNNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoYnJha2VMaWdodHNsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnJha2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmV2ZXJzZUxpZ2h0c2xOYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZUxpZ2h0c01lc2ggPSB0aGlzLmdldENoaWxkTm9kZShyZXZlcnNlTGlnaHRzbE5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIFdoZWVsIEluZm8gQW5kIFRyYW5zZm9ybSBNZXNoZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0TnVtV2hlZWxzKCkgPj0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuQkFDS19MRUZUID49IDAgJiYgYmFja0xlZnRXaGVlbE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbE1lc2ggPSB0aGlzLmdldENoaWxkTm9kZShiYWNrTGVmdFdoZWVsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuaHViID0gdGhpcy5iYWNrTGVmdFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuc3Bpbm5lciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoLCBcIldoZWVsXCIsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIgPSBuZXcgQkFCWUxPTi5NZXNoKFwiRW1pdHRlcl9STFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsRW1pdHRlci5wYXJlbnQgPSB0aGlzLm1fYmFja0xlZnRXaGVlbC5zcGlubmVyIHx8IHRoaXMuYmFja0xlZnRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9STFwiLCB0aGlzLmJhY2tMZWZ0V2hlZWxFbWl0dGVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMCB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIFJFQVIgT1IgQUxMIFdIRUVMIERSSVZFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbFJhZGl1cyA8PSAwICYmIHRoaXMubV9iYWNrTGVmdFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsUmFkaXVzID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwucmFkaXVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5CQUNLX1JJR0hUID49IDAgJiYgYmFja1JpZ2h0V2hlZWxOYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkJBQ0tfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoYmFja1JpZ2h0V2hlZWxOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmh1YiA9IHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuc3Bpbm5lciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlciA9IG5ldyBCQUJZTE9OLk1lc2goXCJFbWl0dGVyX1JSXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlci5wYXJlbnQgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuc3Bpbm5lciB8fCB0aGlzLmJhY2tSaWdodFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbEVtaXR0ZXIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgPSB0aGlzLmNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0odGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiU21va2VfUlJcIiwgdGhpcy5iYWNrUmlnaHRXaGVlbEVtaXR0ZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJpdmVUeXBlID09PSAwIHx8IHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDIpIHsgLy8gUkVBUiBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsUmFkaXVzIDw9IDAgJiYgdGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsUmFkaXVzID0gdGhpcy5tX2JhY2tSaWdodFdoZWVsLnJhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkZST05UX0xFRlQgPj0gMCAmJiBmcm9udExlZnRXaGVlbE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmZvKHRoaXMuRlJPTlRfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbE1lc2ggPSB0aGlzLmdldENoaWxkTm9kZShmcm9udExlZnRXaGVlbE5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRXaGVlbE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuaHViID0gdGhpcy5mcm9udExlZnRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbC5zcGlubmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoLCBcIldoZWVsXCIsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uTWVzaChcIkVtaXR0ZXJfRkxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyLnBhcmVudCA9IHRoaXMubV9mcm9udExlZnRXaGVlbC5zcGlubmVyIHx8IHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsRW1pdHRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9GTFwiLCB0aGlzLmZyb250TGVmdFdoZWVsRW1pdHRlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDEgfHwgdGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMikgeyAvLyBGUk9OVCBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsUmFkaXVzIDw9IDAgJiYgdGhpcy5tX2Zyb250TGVmdFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsUmFkaXVzID0gdGhpcy5tX2Zyb250TGVmdFdoZWVsLnJhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkZST05UX1JJR0hUID49IDAgJiYgZnJvbnRSaWdodFdoZWVsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmZvKHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGZyb250UmlnaHRXaGVlbE5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5odWIgPSB0aGlzLmZyb250UmlnaHRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuc3Bpbm5lciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIFwiV2hlZWxcIiwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uTWVzaChcIkVtaXR0ZXJfRlJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsRW1pdHRlci5wYXJlbnQgPSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLnNwaW5uZXIgfHwgdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlID0gdGhpcy5jcmVhdGVTbW9rZVBhcnRpY2xlU3lzdGVtKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIlNtb2tlX0ZSXCIsIHRoaXMuZnJvbnRSaWdodFdoZWVsRW1pdHRlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDEgfHwgdGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMikgeyAvLyBGUk9OVCBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsUmFkaXVzIDw9IDAgJiYgdGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbFJhZGl1cyA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIFN0YWJpbHphdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0U21vb3RoRmx5aW5nSW1wdWxzZSh0aGlzLnNtb290aEZseWluZ0ZvcmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0U3RhYmlsaXppbmdGb3JjZSh0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgQ29sbGlzaW9uIEZpbHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1fY29sbGlzaW9uRmlsdGVyR3JvdXAg4oaSIGZpbHRlck1lbWJlcnNoaXBNYXNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtX2NvbGxpc2lvbkZpbHRlck1hc2sg4oaSIGZpbHRlckNvbGxpZGVNYXNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRDb2xsaXNpb25GaWx0ZXJHcm91cChCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0Q29sbGlzaW9uRmlsdGVyTWFzayhCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5TdGF0aWNGaWx0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIFNraWQgQXVkaW8gU291cmNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gsIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuYmFja0xlZnRXaGVlbE1lc2ggIT0gbnVsbCkgdGhpcy5fc2tpZEF1ZGlvU291cmNlID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoLCBcIkJBQllMT04uVG9vbGtpdC5BdWRpb1NvdXJjZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsKSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJObyBza2lkIGF1ZGlvIHNvdXJjZSBtYW5hZ2VyIGZvdW5kIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkludmFsaWQgdmVoaWNsZSBjb250cm9sbGVyIHdoZWVsIGNvdW50IGluZm8gZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiTm8gd2hlZWwgY29sbGlkZXIgaW5mb3JtYXRpb24gZm91bmQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGdldCByaWdpZGJvZHkgY29tcG9uZW50OiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVWZWhpY2xlU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fbGluZWFyVmVsb2NpdHkgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnN1YnRyYWN0KHRoaXMubV9sYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX3NjYWxlZFZlbG9jaXR5ID0gKHRoaXMubV9saW5lYXJWZWxvY2l0eS5sZW5ndGgoKSAvIHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCkpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1fc2NhbGVkVmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LmNvcHlGcm9tKHRoaXMubV9saW5lYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNjYWxlSW5QbGFjZSh0aGlzLndoZWVsRHJhd1ZlbG9jaXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubV9sYXN0UG9zaXRpb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLmNhc3RXaGVlbENvbnRhY3RSYXlzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3lWZWhpY2xlU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9yaWdpZGJvZHkgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fc2tpZEF1ZGlvU291cmNlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vaGF2b2tJbnN0YW5jZS5kZXN0cm95KHRoaXMubV9mcm9udExlZnRXaGVlbCk7IC8vID8/P1xuICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9oYXZva0luc3RhbmNlLmRlc3Ryb3kodGhpcy5tX2Zyb250UmlnaHRXaGVlbCk7IC8vID8/P1xuICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrTGVmdFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL2hhdm9rSW5zdGFuY2UuZGVzdHJveSh0aGlzLm1fYmFja0xlZnRXaGVlbCk7IC8vID8/P1xuICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vaGF2b2tJbnN0YW5jZS5kZXN0cm95KHRoaXMubV9iYWNrUmlnaHRXaGVlbCk7IC8vID8/P1xuICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsQ29sbGlkZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxDb2xsaWRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxDb2xsaWRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsQ29sbGlkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQdWJsaWMgVmVoaWNsZSBDb250cm9sbGVyIE1vdmVtZW50IEZ1bmN0aW9ucyAgIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGJ1cm5vdXRUaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByZXN0b3JlVGltZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY29vbGRvd25UaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB3aGVlbERvbnV0czogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHdoZWVsQnVybm91dDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHdoZWVsU2tpZGRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBkb251dFNwaW5UaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnRGb3J3YXJkOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnRUdXJuaW5nOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnRCb29zdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnRTa2lkZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnREb251dHM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjdXJyZW50U2xpcEFuZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnREcml2ZVBvd2VyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHRhcmdldERyaXZlUG93ZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgYW5pbWF0b3JTdGVlckFuZ2xlOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIC8qKiBHZXRzIHRoZSBjdXJyZW50IHZlaGljbGUgbGF0ZXJhbCBzbGlwIGFuZ2xlIGluIGRlZ3JlZXMuICovXG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50U2xpcEFuZ2xlKHNpZ25lZDogYm9vbGVhbik6IG51bWJlciB7XG4gICAgICAgICAgICBjb25zdCB2ZWhpY2xlOiBhbnkgPSB0aGlzLnJheWNhc3RWZWhpY2xlO1xuICAgICAgICAgICAgaWYgKHZlaGljbGUgPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB2ZWhpY2xlJ3MgbGF0ZXJhbCBhY2NlbGVyYXRpb24gZm9yIGNvcm5lcmluZyBlZmZlY3RzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0QW5ndWxhclZlbG9jaXR5VG9SZWYodGhpcy5hbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgY29uc3QgbGF0ZXJhbEdGb3JjZTogbnVtYmVyID0gdGhpcy5hbmd1bGFyVmVsb2NpdHkueTsgLy8gQXNzdW1pbmcgeS1heGlzIGlzIHVwLWRvd24sIGFkanVzdCBiYXNlZCBvbiB5b3VyIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qgc2lnbmVkTGF0ZXJhbEdGb3JjZTogbnVtYmVyID0gQkFCWUxPTi5Ub29scy5Ub0RlZ3JlZXMobGF0ZXJhbEdGb3JjZSk7XG4gICAgICAgICAgICBjb25zdCBhYnNvbHV0ZUxhdGVyYWxHRm9yY2U6IG51bWJlciA9IE1hdGguYWJzKHNpZ25lZExhdGVyYWxHRm9yY2UpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHJldHVybiAoc2lnbmVkID09PSB0cnVlKSA/IHNpZ25lZExhdGVyYWxHRm9yY2UgOiBhYnNvbHV0ZUxhdGVyYWxHRm9yY2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogR2V0cyB0aGUgY3VycmVudCB2ZWhpY2xlIGxhdGVyYWwgc2xpcCBhbmdsZSBpbiByYWRpYW5zLiAqL1xuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudFNsaXBSYWRpYW5zKHNpZ25lZDogYm9vbGVhbik6IG51bWJlciB7XG4gICAgICAgICAgICBjb25zdCB2ZWhpY2xlOiBhbnkgPSB0aGlzLnJheWNhc3RWZWhpY2xlO1xuICAgICAgICAgICAgaWYgKHZlaGljbGUgPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB2ZWhpY2xlJ3MgbGF0ZXJhbCBhY2NlbGVyYXRpb24gZm9yIGNvcm5lcmluZyBlZmZlY3RzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0QW5ndWxhclZlbG9jaXR5VG9SZWYodGhpcy5hbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgY29uc3QgbGF0ZXJhbEdGb3JjZTogbnVtYmVyID0gdGhpcy5hbmd1bGFyVmVsb2NpdHkueTsgLy8gQXNzdW1pbmcgeS1heGlzIGlzIHVwLWRvd24sIGFkanVzdCBiYXNlZCBvbiB5b3VyIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qgc2lnbmVkTGF0ZXJhbEdGb3JjZTogbnVtYmVyID0gbGF0ZXJhbEdGb3JjZTtcbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlTGF0ZXJhbEdGb3JjZTogbnVtYmVyID0gTWF0aC5hYnMoc2lnbmVkTGF0ZXJhbEdGb3JjZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgcmV0dXJuIChzaWduZWQgPT09IHRydWUpID8gc2lnbmVkTGF0ZXJhbEdGb3JjZSA6IGFic29sdXRlTGF0ZXJhbEdGb3JjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBEcml2ZXMgdGhlIHJheWNhc3QgdmVoaWNsZSB3aXRoIHRoZSBzcGVjZmllZCBtb3ZlbWVudCBwcm9wZXJ0aWVzLiAqL1xuICAgICAgICBwdWJsaWMgZHJpdmUodGhyb3R0bGU6IG51bWJlciwgc3RlZXJpbmc6IG51bWJlciwgYnJha2luZzogYm9vbGVhbiwgZG9udXRzOiBib29sZWFuLCBib29zdGVyOiBudW1iZXIgPSAwLCBhdXRvcGlsb3Q6IGJvb2xlYW4gPSBmYWxzZSwgbm9zOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTogbnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZvcndhcmQgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aHJvdHRsZSwgLTEsIDEpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybmluZyA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHN0ZWVyaW5nLCAtMSwgMSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREb251dHMgPSBkb251dHM7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTa2lkZGluZyA9IGJyYWtpbmc7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRCb29zdGluZyA9IChub3MgPT09IHRydWUgJiYgdGhpcy5wb3dlckJvb3N0ZXIgPT09IHRydWUgJiYgdGhpcy53aGVlbEJ1cm5vdXQgPT09IGZhbHNlICYmIHRoaXMuYm9vc3RTcGVlZFRpbWVyID4gMCAmJiB0aGlzLmFtZXJpY2FuU3BlZWQgPj0gdGhpcy5taW5Cb29zdGVyU3BlZWQpOyAvLyBUT0RPOiBWQUxJREFURSBXSEVOIENBTiBSRUFMTFkgR08gSU5UTyBCT09TVCBNT0RFXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTbGlwQW5nbGUgPSB0aGlzLmdldEN1cnJlbnRTbGlwQW5nbGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldERyaXZlUG93ZXIgPSAodGhpcy5jdXJyZW50Qm9vc3RpbmcgPT09IHRydWUpID8gdGhpcy5ib29zdGVyQ29lZmZpY2llbnQgOiAodGhpcy5wb3dlckNvZWZmaWNpZW50ICsgYm9vc3Rlcik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREcml2ZVBvd2VyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmN1cnJlbnREcml2ZVBvd2VyLCB0aGlzLnRhcmdldERyaXZlUG93ZXIsICh0aGlzLnBvd2VyQ2hhbmdlUmF0ZSAqIGRlbHRhVGltZSkpO1xuICAgICAgICAgICAgV00uUHJpbnRUb1NjcmVlbihcIk1QSDogXCIgKyB0aGlzLmFtZXJpY2FuU3BlZWQudG9GaXhlZCgwKSArIFwiIC0tPiBSUE06IFwiICsgdGhpcy5lbmdpbmVSUE0udG9GaXhlZCgwKSArIFwiIC0tPiBHZWFyOiBcIiArIHRoaXMuZ2VhckluZGV4LnRvRml4ZWQoMCkgKyBcIiAtLT4gUG93ZXI6IFwiICsgdGhpcy5jdXJyZW50RHJpdmVQb3dlci50b0ZpeGVkKDIpICsgXCIgLS0+IEJvb3N0IFRpbWU6IFwiICsgdGhpcy5ib29zdFNwZWVkVGltZXIudG9GaXhlZCgyKSArIFwiIC0tPiBEb251dCBNZXRlcjogXCIgKyB0aGlzLmRvbnV0TWV0ZXIudG9GaXhlZCgyKSArIFwiIC0tPiBCdXJub3V0IE1ldGVyOiBcIiArIHRoaXMuYnVybm91dE1ldGVyLnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBEcml2aW5nIFN5c3RlbVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaGFuZEJyYWtpbmcgPSAodGhpcy5nZXRDdXJyZW50U2tpZGRpbmcoKSA9PT0gdHJ1ZSAmJiB0aGlzLmhhbmRCcmFraW5nRm9yY2UgPiAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhbmRCcmFraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kQnJha2luZ1RpbWVyICs9IGRlbHRhVGltZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kQnJha2luZ1RpbWVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9yaWdpZGJvZHkgPT0gbnVsbCB8fCB0aGlzLnJheWNhc3RWZWhpY2xlID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0aGlzLkZST05UX0xFRlQgPj0gMCAmJiB0aGlzLkZST05UX1JJR0hUID49IDAgJiYgdGhpcy5CQUNLX0xFRlQgPj0gMCAmJiB0aGlzLkJBQ0tfUklHSFQgPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwOyB0aGlzLndoZWVsQnJha2luZ0ZvcmNlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250V2hlZWxQb3dlciA9IDA7IHRoaXMuYmFja1doZWVsUG93ZXIgPSAwO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIEVuZ2luZSBGb3JjZXNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IHRocm90dGxlU3BlZWQ6IG51bWJlciA9ICh0aGlzLnRocm90dGxlRW5naW5lU3BlZWQgPiAwKSA/IHRoaXMudGhyb3R0bGVFbmdpbmVTcGVlZCA6IHRoaXMuZ2V0VG9wRW5naW5lU3BlZWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZWFyU2hpZnRSYXRpbzogbnVtYmVyID0gKHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zICE9IG51bGwgJiYgdGhpcy5nZWFyQm94U2hpZnRSYXRpb3MubGVuZ3RoID4gdGhpcy5nZWFySW5kZXgpID8gdGhpcy5nZWFyQm94U2hpZnRSYXRpb3NbdGhpcy5nZWFySW5kZXhdIDogMS4wO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsR2VhclJhdGlvOiBudW1iZXIgPSAoZ2VhclNoaWZ0UmF0aW8gKiB0aGlzLmRpZmZlcmVudGlhbFJhdGlvICogdGhpcy50cmFuc21pc3Npb25SYXRpbyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5naW5lTW90b3JUb3JxdWU6IG51bWJlciA9IHRoaXMuZ2V0VmVoaWNsZUVuZ2luZVRvcnF1ZSh0aGlzLmVuZ2luZVJQTSwgdGhpcy5jdXJyZW50RHJpdmVQb3dlcikgKiBNYXRoLmFicyh0aGlzLmN1cnJlbnRGb3J3YXJkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxvd2VkRW5naW5lUG93ZXI6IG51bWJlciA9IChlbmdpbmVNb3RvclRvcnF1ZSAqIGZpbmFsR2VhclJhdGlvKTtcbiAgICAgICAgICAgICAgICBsZXQgYWxsb3dlZEJyYWtpbmdGb3JjZTogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm1pbkJyYWtpbmdGb3JjZSwgdGhpcy5tYXhCcmFraW5nRm9yY2UsIHRoaXMuZ3JhZGllbnRTcGVlZCkgKiBNYXRoLmFicyh0aGlzLmN1cnJlbnRGb3J3YXJkKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Rm9yd2FyZCA+IDAgJiYgdGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUgJiYgdGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZUZvcmNlID0gYWxsb3dlZEVuZ2luZVBvd2VyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRGb3J3YXJkID4gMCkgeyAvLyBGb3J3YXJkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBTdXBwb3J0IFJpZ2h0IEhhbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9yd2FyZFNwZWVkIDwgLTEpIHRoaXMud2hlZWxCcmFraW5nRm9yY2UgPSBhbGxvd2VkQnJha2luZ0ZvcmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0aGlzLmVuZ2luZUZvcmNlID0gYWxsb3dlZEVuZ2luZVBvd2VyO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Rm9yd2FyZCA8IDApIHsgLy8gUmV2ZXJzZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gU3VwcG9ydCBSaWdodCBIYW5kZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcndhcmRTcGVlZCA+IDEpIHRoaXMud2hlZWxCcmFraW5nRm9yY2UgPSBhbGxvd2VkQnJha2luZ0ZvcmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0aGlzLmVuZ2luZUZvcmNlID0gLShhbGxvd2VkRW5naW5lUG93ZXIgKiB0aGlzLm1heFJldmVyc2VQb3dlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gU3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZUZvcmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxCcmFraW5nRm9yY2UgPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFNsb3cgRG93biBCb29zdCBQb3dlclxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEJvb3N0aW5nID09PSBmYWxzZSAmJiB0aGlzLmFtZXJpY2FuU3BlZWQgPiB0aGlzLnRvcEVuZ2luZVNwZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsQnJha2luZ0ZvcmNlID0gKGFsbG93ZWRCcmFraW5nRm9yY2UgKiAxLjApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBWZWhpY2xlIEJyYWtpbmdcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGxldCBlbmdpbmVCcmFrZTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGlmdGluZ1RpbWUgPiAwIHx8IHRoaXMuYW1lcmljYW5TcGVlZCA+IHRocm90dGxlU3BlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5naW5lQnJha2UgPSB0aGlzLnNoaWZ0aW5nQnJha2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBWZWhpY2xlIFN0ZWVyaW5nXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBsZXQgdmlzdWFsU3RlZXJCb29zdDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgYWNrZXJtYW5TdGVlckxlZnQ6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IGFja2VybWFuU3RlZXJSaWdodDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgdHVybmluZ1JhZGl1czogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmFja2VybWFuVHVyblJhZGl1cywgdGhpcy5hY2tlcm1hbk1heFJhZGl1cywgdGhpcy5ncmFkaWVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICBsZXQgc3RlZXJpbmdCb29zdDogYm9vbGVhbiA9IChNYXRoLmFicyh0aGlzLmN1cnJlbnRUdXJuaW5nKSA+PSAwLjAyKTsgLy8gTm90ZTogTWF4IFJhbmdlICgwLjAyIC0gMC4wNClcbiAgICAgICAgICAgICAgICBsZXQgc3RlZXJpbmdSYWRpdXM6IG51bWJlciA9ICh0aGlzLmN1cnJlbnRGb3J3YXJkID4gMCAmJiB0aGlzLndoZWVsQnVybm91dCA9PT0gdHJ1ZSAmJiB0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSA/IHRoaXMuZG9udXRUdXJuaW5nUmFkaXVzIDogKHR1cm5pbmdSYWRpdXMgKiB0aGlzLmFja2VybWFuVHVybkZhY3Rvcik7IC8vIE5vdGU6IFNtYWxsZXIgU3RlZXJpbmcgUmFkaXVzIEVxdWFscyBTaGFycGVyIFR1cm5pbmdcbiAgICAgICAgICAgICAgICBsZXQgc3RlZXJpbmdBbW91bnQ6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5sb3dTcGVlZFN0ZWVyaW5nLCB0aGlzLmhpZ2hTcGVlZFN0ZWVyaW5nLCB0aGlzLmdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZ0dyYWRpZW50OiBudW1iZXIgPSAoc3RlZXJpbmdBbW91bnQgKiBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50U2xpcFJhZGlhbnM6IG51bWJlciA9IHRoaXMuZ2V0Q3VycmVudFNsaXBSYWRpYW5zKHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXNlIEFja2VybWFuIFN0ZWVyaW5nIEZvcm11bGFzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VHVybmluZyA+IDApIHsgLy8gUmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4U3RlZXJCb29zdCA+IDAgJiYgc3RlZXJpbmdCb29zdCA9PT0gdHJ1ZSkgdmlzdWFsU3RlZXJCb29zdCA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMubWF4U3RlZXJCb29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJMZWZ0ID0gTWF0aC5hdGFuKHRoaXMuYWNrZXJtYW5XaGVlbEJhc2UgLyAoc3RlZXJpbmdSYWRpdXMgKyAodGhpcy5hY2tlcm1hblJlYXJUcmFjayAvIDIpKSkgKiB0aGlzLmN1cnJlbnRUdXJuaW5nO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyUmlnaHQgPSBNYXRoLmF0YW4odGhpcy5hY2tlcm1hbldoZWVsQmFzZSAvIChzdGVlcmluZ1JhZGl1cyAtICh0aGlzLmFja2VybWFuUmVhclRyYWNrIC8gMikpKSAqIHRoaXMuY3VycmVudFR1cm5pbmc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRUdXJuaW5nIDwgMCkgeyAvLyBMZWZ0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heFN0ZWVyQm9vc3QgPiAwICYmIHN0ZWVyaW5nQm9vc3QgPT09IHRydWUpIHZpc3VhbFN0ZWVyQm9vc3QgPSAtQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5tYXhTdGVlckJvb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlckxlZnQgPSBNYXRoLmF0YW4odGhpcy5hY2tlcm1hbldoZWVsQmFzZSAvIChzdGVlcmluZ1JhZGl1cyAtICh0aGlzLmFja2VybWFuUmVhclRyYWNrIC8gMikpKSAqIHRoaXMuY3VycmVudFR1cm5pbmc7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJSaWdodCA9IE1hdGguYXRhbih0aGlzLmFja2VybWFuV2hlZWxCYXNlIC8gKHN0ZWVyaW5nUmFkaXVzICsgKHRoaXMuYWNrZXJtYW5SZWFyVHJhY2sgLyAyKSkpICogdGhpcy5jdXJyZW50VHVybmluZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2aXN1YWxTdGVlckJvb3N0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlckxlZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyUmlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUgJiYgdGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyTGVmdCAqPSB0aGlzLm1heEJ1cm5vdXRGYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJSaWdodCAqPSB0aGlzLm1heEJ1cm5vdXRGYWN0b3I7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdXRvcGlsb3QgPT09IGZhbHNlKSB7IC8vIEFzc2lzdGVkXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtb290aFN0ZWVyRmFjdG9yOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKDEuMCwgdGhpcy50b3BTcGVlZERhbXBlbmVyLCB0aGlzLmdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyTGVmdCAqPSBzbW9vdGhTdGVlckZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlclJpZ2h0ICo9IHNtb290aFN0ZWVyRmFjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFNtb290aCBQaHlzaWNzIFN0ZWVyaW5nIEFuZ2xlc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzU3RlZXJBbmdsZUwgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVMLCBhY2tlcm1hblN0ZWVyTGVmdCwgc3RlZXJpbmdHcmFkaWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzU3RlZXJBbmdsZVIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVSLCBhY2tlcm1hblN0ZWVyUmlnaHQsIHN0ZWVyaW5nR3JhZGllbnQpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU21vb3RoIFZpc3VhbCBTdGVlcmluZyBBbmdsZXNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJCb29zdEwgPSAoYWNrZXJtYW5TdGVlckxlZnQgKyB2aXN1YWxTdGVlckJvb3N0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbFN0ZWVyQm9vc3RSID0gKGFja2VybWFuU3RlZXJSaWdodCArIHZpc3VhbFN0ZWVyQm9vc3QpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsQnVybm91dCA9PT0gdHJ1ZSAmJiB0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJCb29zdEwgKj0gMC41O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbFN0ZWVyQm9vc3RSICo9IDAuNTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3ZlclN0ZWVyU3BlZWQgPiAwICYmIHRoaXMuaGFuZEJyYWtpbmcgPT09IHRydWUgJiYgdGhpcy5oYW5kQnJha2luZ1RpbWVyID4gdGhpcy5vdmVyU3RlZXJUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJCb29zdEwgKj0gLTE7IC8vIE5vdGU6IEludmVydCBPdmVyIFN0ZWVyaW5nIEFuZ2xlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJCb29zdFIgKj0gLTE7IC8vIE5vdGU6IEludmVydCBPdmVyIFN0ZWVyaW5nIEFuZ2xlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJBbmdsZUwgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMudmlzdWFsU3RlZXJBbmdsZUwsIHRoaXMudmlzdWFsU3RlZXJCb29zdEwsIHN0ZWVyaW5nR3JhZGllbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJBbmdsZVIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMudmlzdWFsU3RlZXJBbmdsZVIsIHRoaXMudmlzdWFsU3RlZXJCb29zdFIsIHN0ZWVyaW5nR3JhZGllbnQpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU21vb3RoIFN0ZWVyaW5nIFdoZWVsIEFuZ2xlc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgbGV0IHN0ZWVyaW5nQW5nbGVCb29zdDogbnVtYmVyID0gMi4wO1xuICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZ0FuZ2xlRmFjdG9yOiBudW1iZXIgPSBNYXRoLmFicyh0aGlzLmN1cnJlbnRUdXJuaW5nKSAqIHN0ZWVyaW5nQW5nbGVCb29zdDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VHVybmluZyA+IDApIHsgLy8gUmlnaHRcbiAgICAgICAgICAgICAgICAgICAgc3RlZXJpbmdBbmdsZUZhY3RvciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHN0ZWVyaW5nQW5nbGVGYWN0b3IsIDAsIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50VHVybmluZyA8IDApIHsgLy8gTGVmdFxuICAgICAgICAgICAgICAgICAgICBzdGVlcmluZ0FuZ2xlRmFjdG9yID0gLUJBQllMT04uU2NhbGFyLkNsYW1wKHN0ZWVyaW5nQW5nbGVGYWN0b3IsIDAsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZml4ZWRDdXJyZW50VHVybmluZzogbnVtYmVyID0gKHRoaXMub3ZlclN0ZWVyU3BlZWQgPiAwICYmIHRoaXMuaGFuZEJyYWtpbmcgPT09IHRydWUgJiYgdGhpcy5oYW5kQnJha2luZ1RpbWVyID4gdGhpcy5vdmVyU3RlZXJUaW1lb3V0KSA/IHN0ZWVyaW5nQW5nbGVGYWN0b3IgOiAtc3RlZXJpbmdBbmdsZUZhY3RvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdG9yU3RlZXJBbmdsZSA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5hbmltYXRvclN0ZWVyQW5nbGUsIGZpeGVkQ3VycmVudFR1cm5pbmcsICh0aGlzLm1heFN0ZWVyaW5nU3BlZWQgKiBkZWx0YVRpbWUpKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RlZXJpbmdXaGVlbEh1YiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb25RdWF0ZXJuaW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbEh1Yi5yb3RhdGlvblF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyVmVjdG9yKHRoaXMuc3RlZXJpbmdXaGVlbEh1Yi5yb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVncmVlc1N0ZWVyQW5nbGU6IG51bWJlciA9ICh0aGlzLmFuaW1hdG9yU3RlZXJBbmdsZSAqIHRoaXMubWF4U3RlZXJpbmdBbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhZGlhbnNTdGVlckFuZ2xlOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyhkZWdyZWVzU3RlZXJBbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhheGlzOiBudW1iZXIgPSAodGhpcy5zdGVlcmluZ1doZWVsQXhpcyA9PT0gMCkgPyByYWRpYW5zU3RlZXJBbmdsZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHlheGlzOiBudW1iZXIgPSAodGhpcy5zdGVlcmluZ1doZWVsQXhpcyA9PT0gMSkgPyByYWRpYW5zU3RlZXJBbmdsZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHpheGlzOiBudW1iZXIgPSAodGhpcy5zdGVlcmluZ1doZWVsQXhpcyA9PT0gMikgPyByYWRpYW5zU3RlZXJBbmdsZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMuc3RlZXJpbmdXaGVlbEh1Yi5yb3RhdGlvblF1YXRlcm5pb24sIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXMoeGF4aXMsIHlheGlzLCB6YXhpcyksICh0aGlzLm1heFN0ZWVyaW5nU3BlZWQgKiBkZWx0YVRpbWUpLCB0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FuaW1hdG9yICE9IG51bGwpIHRoaXMuX2FuaW1hdG9yLnNldEZsb2F0KFwiVHVybkFuZ2xlXCIsIHRoaXMuYW5pbWF0b3JTdGVlckFuZ2xlKTsgLy8gTm90ZTogRml4ZWQgQW5pbWF0aW9uIFR1cm5pbmcgQW5nbGUgKC0xIFRvICsxKVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIFJheWNhc3QgVmVoaWNsZSBDb250cm9sc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZUZyaWN0aW9uOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYW5kQnJha2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsQnVybm91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsRG9udXRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dFRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9udXRFeHRyYVJvdGF0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgV2hlZWwgU2tpZGRpbmcgTW9kZVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYXljYXN0VmVoaWNsZS5sb2NrZWRXaGVlbEluZGV4ZXMgPT0gbnVsbCkgdGhpcy5yYXljYXN0VmVoaWNsZS5sb2NrZWRXaGVlbEluZGV4ZXMgPSBbdGhpcy5CQUNLX0xFRlQsIHRoaXMuQkFDS19SSUdIVF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFtZXJpY2FuU3BlZWQgPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxTa2lkZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsU2tpZGRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpZGRpbmdUaW1lID0gdGhpcy5icmFrZVJlY292ZXJ5RGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxTa2lkRnJpY3Rpb246IG51bWJlciA9IDA7IC8vIERlZmF1bHQgV2hlZWwgU2tpZGRpbmcgRnJpbnRpb24gRHJvcCBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IHdoZWVsU2tpZEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwpIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gd2hlZWxTa2lkRnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrTGVmdFdoZWVsICE9IG51bGwpIHRoaXMubV9iYWNrTGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IHdoZWVsU2tpZEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmZyaWN0aW9uU2xpcCA9IHdoZWVsU2tpZEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnJpY3Rpb24gPSBmYWxzZTsgLy8gTm90ZTogRGlzYWJsZSBGcmljdGlvbiBMZXJwaW5nIFRoaXMgRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogVXBkYXRlIFZlaGljbGUgV2hlZWwgSW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy51cGRhdGVDdXJyZW50QnJha2VEYW1waW5nKHRoaXMubGluZWFyQnJha2luZ0ZvcmNlLCB0aGlzLmFuZ3VsYXJCcmFraW5nRm9yY2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiAodXBkYXRlRnJpY3Rpb24gPT09IHRydWUpIHRoaXMudXBkYXRlQ3VycmVudEZyaWN0aW9uU2xpcChkZWx0YVRpbWUgKiB0aGlzLnNraWRkaW5nTGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2tpZGRpbmdUaW1lIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGluZWFyQnJha2VEYW1waW5nKHRoaXMubGluZWFyQnJha2luZ0ZvcmNlLCAoZGVsdGFUaW1lICogdGhpcy5icmFrZVJlY292ZXJ5U3BlZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQW5ndWxhckJyYWtlRGFtcGluZyh0aGlzLmFuZ3VsYXJCcmFraW5nRm9yY2UsIChkZWx0YVRpbWUgKiB0aGlzLmJyYWtlUmVjb3ZlcnlTcGVlZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUZyaWN0aW9uID09PSB0cnVlICYmIHRoaXMuYW1lcmljYW5TcGVlZCA8PSAwLjI1KSB0aGlzLnVwZGF0ZUN1cnJlbnRGcmljdGlvblNsaXAoZGVsdGFUaW1lICogdGhpcy5za2lkUmVjb3ZlcnlTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Um90YXRpb25EZWx0YSgwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Um90YXRpb25Cb29zdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRWaXN1YWxTdGVlcmluZ0FuZ2xlKHRoaXMudmlzdWFsU3RlZXJBbmdsZUwsIHRoaXMuRlJPTlRfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0VmlzdWFsU3RlZXJpbmdBbmdsZSh0aGlzLnZpc3VhbFN0ZWVyQW5nbGVSLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRQaHlzaWNzU3RlZXJpbmdBbmdsZSh0aGlzLnBoeXNpY3NTdGVlckFuZ2xlTCwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRQaHlzaWNzU3RlZXJpbmdBbmdsZSh0aGlzLnBoeXNpY3NTdGVlckFuZ2xlUiwgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBBZGRpdGlvbmFsIEFuZ3VsYXIgUm90YXRpb24gRm9yIFNraWRkaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcndhcmRTcGVlZCA+PSAwICYmIHRoaXMuaGFuZEJyYWtpbmdUaW1lciA8IHRoaXMuc2tpZFJvdGF0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV4dHJhU2tpZFJvdGF0aW9uOiBudW1iZXIgPSAoTWF0aC5hYnMoY3VycmVudFNsaXBSYWRpYW5zKSAqIChQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5ERUZBVUxUX1NLSURfRkFDVE9SICsgdGhpcy5leHRyYVJvdGF0aW9uU3BlZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRyYVNraWRSb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhU2tpZFJvdGF0aW9uID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoZXh0cmFTa2lkUm90YXRpb24sIDAsIHRoaXMubWF4Um90YXRpb25TcGVlZCkgKiB0aGlzLmN1cnJlbnRUdXJuaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NraWRFeHRyYVJvdGF0aW9uLnNldCgwLCBleHRyYVNraWRSb3RhdGlvbiwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0QW5ndWxhclZlbG9jaXR5KHRoaXMuX3NraWRFeHRyYVJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1dNLlByaW50VG9TY3JlZW4oXCJFeHRyYSBTa2lkIFJvdGF0aW9uOiBcIiArIHRoaXMuX3NraWRFeHRyYVJvdGF0aW9uLnkudG9GaXhlZCgyKSwgXCJncmVlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEVuZ2luZUZvcmNlKDAsIHRoaXMuRlJPTlRfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0RW5naW5lRm9yY2UoMCwgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0RW5naW5lRm9yY2UoMCwgdGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEVuZ2luZUZvcmNlKDAsIHRoaXMuQkFDS19SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250QnJha2VGb3JjZTogbnVtYmVyID0gKHRoaXMuaGFuZEJyYWtpbmdGb3JjZSAqIDAuMDAwMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKGZyb250QnJha2VGb3JjZSwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UoZnJvbnRCcmFrZUZvcmNlLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0cmFCcmFrZUZvcmNlOiBudW1iZXIgPSAodGhpcy5oYW5kQnJha2luZ0ZvcmNlICogMTAwMDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZShleHRyYUJyYWtlRm9yY2UsIHRoaXMuQkFDS19MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UoZXh0cmFCcmFrZUZvcmNlLCB0aGlzLkJBQ0tfUklHSFQpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmF5Y2FzdFZlaGljbGUubG9ja2VkV2hlZWxJbmRleGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUubG9ja2VkV2hlZWxJbmRleGVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFJvdGF0aW9uRGVsdGEoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRSb3RhdGlvbkJvb3N0KDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxTa2lkZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNraWRkaW5nVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dENvZWZmaWNpZW50ID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5idXJub3V0Q29lZmZpY2llbnQsIDEsIDMwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0VHJpZ2dlck1hcmsgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLmJ1cm5vdXRUcmlnZ2VyTWFyaywgMSwgMjApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0J1cm5vdXRTcGVlZDogYm9vbGVhbiA9ICh0aGlzLmFtZXJpY2FuU3BlZWQgPD0gdGhpcy5idXJub3V0VHJpZ2dlck1hcmspO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0Z1bGxUaHJvdHRsZTogYm9vbGVhbiA9ICh0aGlzLmN1cnJlbnRGb3J3YXJkIDwgLTAuOSB8fCB0aGlzLmN1cnJlbnRGb3J3YXJkID4gMC45KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGdWxsVHVybmluZzogYm9vbGVhbiA9ICh0aGlzLmN1cnJlbnRUdXJuaW5nIDwgLTAuOSB8fCB0aGlzLmN1cnJlbnRUdXJuaW5nID4gMC45KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdoZWVsTGVycFNwZWVkOiBudW1iZXIgPSAoZGVsdGFUaW1lICogdGhpcy5mcmljdGlvbkxlcnBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB3aGVlbEJvb3N0U3BlZWQ6IG51bWJlciA9IDA7IC8vIERlZmF1bHQgWmVybyBXaGVlbCBSb3RhdGlvbiBCb29zdFxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBXaGVlbCBCdXJub3V0IE1vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlQXV0b0J1cm5vdXRzID09PSB0cnVlICYmIHRoaXMuYnVybm91dFRpbWVyIDw9IDAgJiYgaXNGdWxsVGhyb3R0bGUgPT09IHRydWUgJiYgaXNCdXJub3V0U3BlZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dFRpbWVyID0gKHRoaXMuYnVybm91dFRpbWVEZWxheSAqIDAuMjUpOyAvLyBOb3RlOiAyNSBQZXJjZW50IFNsaXBwaW5nIFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxEb251dHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxCdXJub3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbnV0RXh0cmFSb3RhdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgV2hlZWwgQnVybm91dCBUaW1lcnNcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdG9yZVRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlVGltZXIgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdG9yZVRpbWVyIDwgMCkgdGhpcy5yZXN0b3JlVGltZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxMZXJwU3BlZWQgKj0gdGhpcy5idXJub3V0TGVycFNwZWVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvb2xkb3duVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb2xkb3duVGltZXIgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29vbGRvd25UaW1lciA8IDApIHRoaXMuY29vbGRvd25UaW1lciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9udXRTcGluVGltZSArPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdWxsVHVybmluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRUaW1lciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbnV0U3BpblRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIFdoZWVsIERyaXZlIEJ1cm5vdXQgTW9kZVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idXJub3V0VGltZXIgPiAwICYmIGlzRnVsbFRocm90dGxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVlbEJvb3N0U3BlZWQgPSAwLjI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idXJub3V0Q29lZmZpY2llbnQgPj0gMS4wKSB0aGlzLmVuZ2luZUZvcmNlICo9IHRoaXMuYnVybm91dENvZWZmaWNpZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udExlZnRXaGVlbCAhPSBudWxsKSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gKHRoaXMuYnVybm91dEZyaWN0aW9uU2xpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsKSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmZyaWN0aW9uU2xpcCA9ICh0aGlzLmJ1cm5vdXRGcmljdGlvblNsaXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrTGVmdFdoZWVsICE9IG51bGwpIHRoaXMubV9iYWNrTGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IHRoaXMuYnVybm91dEZyaWN0aW9uU2xpcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmZyaWN0aW9uU2xpcCA9IHRoaXMuYnVybm91dEZyaWN0aW9uU2xpcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGcmljdGlvbiA9IGZhbHNlOyAgICAgICAgICAgICAgICAgLy8gTm90ZTogRGlzYWJsZSBGcmljdGlvbiBMZXJwaW5nIFRoaXMgRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRUaW1lciAtPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUgJiYgdGhpcy5idXJub3V0VGltZXIgPD0gMCAmJiBpc0Z1bGxUdXJuaW5nID09PSB0cnVlICYmIHRoaXMuY29vbGRvd25UaW1lciA8PSAwICYmIHRoaXMuY3VycmVudEZvcndhcmQgPiAwICYmIHRoaXMuY3VycmVudERvbnV0cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dFRpbWVyID0gMC4wMTsgICAgICAgICAgIC8vIE5vdGU6IFVzZSBGaXhlZCBEb251dCBCdXJub3V0IFRpbWUgRXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbERvbnV0cyA9IHRydWU7ICAgICAgICAgICAgLy8gTm90ZTogRGlzYWJsZSBXaGVlbCBEb251dHMgRXh0cmEgUG93ZXIgTmVlZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbWVyaWNhblNwZWVkID49IHRoaXMubWluUGVuYWx0eVNwZWVkICYmIHRoaXMuZnJpY3Rpb25XaGVlbFNsaXAgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25MZXJwaW5nID09PSBmYWxzZSAmJiB0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250TGVmdFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udExlZnRGcmljdGlvbjogbnVtYmVyID0gdGhpcy5tX2Zyb250TGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiAqICh0aGlzLmZyaWN0aW9uV2hlZWxTbGlwICogMS4yNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gZnJvbnRMZWZ0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdEZyaWN0aW9uUGVuYWx0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGcmljdGlvbiA9IGZhbHNlOyAgICAgLy8gTm90ZTogRGlzYWJsZSBGcmljdGlvbiBMZXJwaW5nIFRoaXMgRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0RnJpY3Rpb25MZXJwaW5nID09PSBmYWxzZSAmJiB0aGlzLmZyb250UmlnaHRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udFJpZ2h0RnJpY3Rpb246IG51bWJlciA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICogKHRoaXMuZnJpY3Rpb25XaGVlbFNsaXAgKiAxLjI1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gZnJvbnRSaWdodEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZyaWN0aW9uID0gZmFsc2U7ICAgICAvLyBOb3RlOiBEaXNhYmxlIEZyaWN0aW9uIExlcnBpbmcgVGhpcyBGcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0RnJpY3Rpb25MZXJwaW5nID09PSBmYWxzZSAmJiB0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja0xlZnRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9iYWNrTGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWNrTGVmdEZyaWN0aW9uOiBudW1iZXIgPSB0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gKiB0aGlzLmZyaWN0aW9uV2hlZWxTbGlwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gYmFja0xlZnRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRGcmljdGlvblBlbmFsdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnJpY3Rpb24gPSBmYWxzZTsgICAgIC8vIE5vdGU6IERpc2FibGUgRnJpY3Rpb24gTGVycGluZyBUaGlzIEZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0RnJpY3Rpb25MZXJwaW5nID09PSBmYWxzZSAmJiB0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWNrUmlnaHRGcmljdGlvbjogbnVtYmVyID0gdGhpcy5tX2JhY2tSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAqIHRoaXMuZnJpY3Rpb25XaGVlbFNsaXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gYmFja1JpZ2h0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodEZyaWN0aW9uUGVuYWx0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGcmljdGlvbiA9IGZhbHNlOyAgICAgLy8gTm90ZTogRGlzYWJsZSBGcmljdGlvbiBMZXJwaW5nIFRoaXMgRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRUaW1lciA9IDA7ICAgICAgICAgICAgICAgICAgLy8gTm90ZTogQ2xlYXIgQnVybm91dCBUaW1lciBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9udXRTcGluVGltZSA9IDA7ICAgICAgICAgICAgICAgICAvLyBOb3RlOiBDbGVhciBEb251dCBTcGluIFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbERvbnV0cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29vbGRvd25UaW1lciA9ICh0aGlzLmJ1cm5vdXRUaW1lRGVsYXkgKiAyKTsgLy8gTm90ZTogMjAwIFBlcmNlbnQgQ29vbGRvd24gVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbnV0RXh0cmFSb3RhdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsQnVybm91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZVRpbWVyID0gKHRoaXMuYnVybm91dFRpbWVEZWxheSAqIDAuNzUpOyAvLyBOb3RlOiA3NSBQZXJjZW50IFJlc3RvcmluZyBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgV2hlZWwgRHJpdmUgUG93ZXIgRm9yY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxCdXJub3V0ID09PSB0cnVlICYmIHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgKj0gdGhpcy5kb251dEVuZ2luZUZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRXaGVlbFBvd2VyID0gKHRoaXMuZW5naW5lRm9yY2UgKiAwLjEpOyAvLyBOb3RlOiAxMCBQZXJjZW50IEVuZ2luZSBQb3dlciBGb3JjZVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDEgfHwgdGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMikgeyAvLyBGUk9OVCBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRXaGVlbFBvd2VyID0gdGhpcy5lbmdpbmVGb3JjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMCB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIFJFQVIgT1IgQUxMIFdIRUVMIERSSVZFXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tXaGVlbFBvd2VyID0gdGhpcy5lbmdpbmVGb3JjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBLRUVQLUZPUi1SRUZFUk5DRTogVXBkYXRlIFZlaGljbGUgV2hlZWwgSW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuZ2V0Rm9vdEJyYWtpbmcoKSA9PT0gdHJ1ZSkgdGhpcy51cGRhdGVDdXJyZW50QnJha2VEYW1waW5nKCh0aGlzLmxpbmVhckJyYWtpbmdGb3JjZSAqIDAuMiksICh0aGlzLmFuZ3VsYXJCcmFraW5nRm9yY2UgKiAwLjIpKTsgLy8gTm90ZTogMjAgUGVyY2VudCBMaW5lYXIgQnJha2UgRm9yY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSBpZiAodGhpcy50aHJvdHRsZUJyYWtpbmdGb3JjZSA+IDApIHRoaXMudXBkYXRlQ3VycmVudEJyYWtlRGFtcGluZyh0aGlzLnRocm90dGxlQnJha2luZ0ZvcmNlLCB0aGlzLmFuZ3VsYXJEYW1waW5nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSB0aGlzLnVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcodGhpcy5saW5lYXJEYW1waW5nLCB0aGlzLmFuZ3VsYXJEYW1waW5nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHVwZGF0ZUZyaWN0aW9uID09PSB0cnVlKSB0aGlzLnVwZGF0ZUN1cnJlbnRGcmljdGlvblNsaXAod2hlZWxMZXJwU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnVwZGF0ZUN1cnJlbnRSb3RhdGlvbkJvb3N0KHdoZWVsQm9vc3RTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldEZvb3RCcmFraW5nKCkgPT09IHRydWUpIHRoaXMudXBkYXRlQ3VycmVudEJyYWtlRGFtcGluZygodGhpcy5saW5lYXJCcmFraW5nRm9yY2UgKiAwLjA1KSwgKHRoaXMuYW5ndWxhckJyYWtpbmdGb3JjZSAqIDAuMDUpKTsgLy8gTm90ZTogNSBQZXJjZW50IExpbmVhciBCcmFrZSBGb3JjZVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRocm90dGxlQnJha2luZ0ZvcmNlID4gMCkgdGhpcy51cGRhdGVDdXJyZW50QnJha2VEYW1waW5nKHRoaXMudGhyb3R0bGVCcmFraW5nRm9yY2UsIHRoaXMuYW5ndWxhckRhbXBpbmcpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmVuZ2luZUZvcmNlICE9PSAwKSB0aGlzLnVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcoZW5naW5lQnJha2UsIHRoaXMuYW5ndWxhckRhbXBpbmcpOyAvLyBXVEY6IEVuZ2luZSBCcmFrZSBGb3JjZSAtID8/P1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHRoaXMudXBkYXRlQ3VycmVudEJyYWtlRGFtcGluZyh0aGlzLmxpbmVhckRhbXBpbmcsIHRoaXMuYW5ndWxhckRhbXBpbmcpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlRnJpY3Rpb24gPT09IHRydWUpIHRoaXMudXBkYXRlQ3VycmVudEZyaWN0aW9uU2xpcCh3aGVlbExlcnBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFJvdGF0aW9uQm9vc3Qod2hlZWxCb29zdFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRWaXN1YWxTdGVlcmluZ0FuZ2xlKHRoaXMudmlzdWFsU3RlZXJBbmdsZUwsIHRoaXMuRlJPTlRfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0VmlzdWFsU3RlZXJpbmdBbmdsZSh0aGlzLnZpc3VhbFN0ZWVyQW5nbGVSLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRQaHlzaWNzU3RlZXJpbmdBbmdsZSh0aGlzLnBoeXNpY3NTdGVlckFuZ2xlTCwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRQaHlzaWNzU3RlZXJpbmdBbmdsZSh0aGlzLnBoeXNpY3NTdGVlckFuZ2xlUiwgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcndhcmRTcGVlZCA+PSAwICYmIHRoaXMud2hlZWxCdXJub3V0ID09PSB0cnVlICYmIHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhRG9udXRSb3RhdGlvbjogbnVtYmVyID0gKHRoaXMuY3VycmVudFR1cm5pbmcgKiB0aGlzLmRvbnV0Um90YXRlRmFjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRyYURvbnV0Um90YXRpb24gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9vdGhEb251dFNjYWxpbmc6IG51bWJlciA9IDEuNTsgLy8gTm90ZTogSGFyZCBDb2RlZCBEb251dCBTY2FsaW5nIC0gVXNlIERlZmF1bHQgRG9udXQgRmFjdG9yIFRvIFNjYWxlIEdyYWRpZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21vb3RoRG9udXRHcmFkaWVudDogbnVtYmVyID0gKGRlbHRhVGltZSAqIHNtb290aERvbnV0U2NhbGluZyAqIHRoaXMuZG9udXRMZXJwaW5nU3BlZWQgKiBQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5ERUZBVUxUX0RPTlVUX0ZBQ1RPUik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21vb3RoRG9udXRSb3RhdGlvbjogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLl9kb251dEV4dHJhUm90YXRpb24ueSwgZXh0cmFEb251dFJvdGF0aW9uLCBzbW9vdGhEb251dEdyYWRpZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb251dEV4dHJhUm90YXRpb24uc2V0KDAsIHNtb290aERvbnV0Um90YXRpb24sIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldEFuZ3VsYXJWZWxvY2l0eSh0aGlzLl9kb251dEV4dHJhUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vV00uUHJpbnRUb1NjcmVlbihcIkV4dHJhIERvbnV0IFJvdGF0aW9uOiBcIiArIHRoaXMuX2RvbnV0RXh0cmFSb3RhdGlvbi55LnRvRml4ZWQoMiksIFwicmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0RW5naW5lRm9yY2UodGhpcy5mcm9udFdoZWVsUG93ZXIsIHRoaXMuRlJPTlRfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0RW5naW5lRm9yY2UodGhpcy5mcm9udFdoZWVsUG93ZXIsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEVuZ2luZUZvcmNlKHRoaXMuYmFja1doZWVsUG93ZXIsIHRoaXMuQkFDS19MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSh0aGlzLmJhY2tXaGVlbFBvd2VyLCB0aGlzLkJBQ0tfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhGcm9udEJyYWtpbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZSh0aGlzLndoZWVsQnJha2luZ0ZvcmNlICogdGhpcy5tYXhGcm9udEJyYWtpbmcsIHRoaXMuRlJPTlRfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZSh0aGlzLndoZWVsQnJha2luZ0ZvcmNlICogdGhpcy5tYXhGcm9udEJyYWtpbmcsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UodGhpcy53aGVlbEJyYWtpbmdGb3JjZSwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKHRoaXMud2hlZWxCcmFraW5nRm9yY2UsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKHRoaXMud2hlZWxCcmFraW5nRm9yY2UsIHRoaXMuQkFDS19MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UodGhpcy53aGVlbEJyYWtpbmdGb3JjZSwgdGhpcy5CQUNLX1JJR0hUKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIERyaXZpbmcgUHJvcHNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnN5bmNWZWhpY2xlU3RhdGUoZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuc3luY1ZlaGljbGVUaWx0aW5nKGRlbHRhVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzeW5jVmVoaWNsZVN0YXRlKGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBnZWFyQ291bnQ6IG51bWJlciA9IHRoaXMuZ2V0R2VhclNoaWZ0UmF0aW9Db3VudCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2tpZGRpbmdUaW1lID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpZGRpbmdUaW1lIC09IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5za2lkZGluZ1RpbWUgPCAwKSB0aGlzLnNraWRkaW5nVGltZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zaGlmdGluZ1RpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGlmdGluZ1RpbWUgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoaWZ0aW5nVGltZSA8IDApIHRoaXMuc2hpZnRpbmdUaW1lID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRCb29zdGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvb3N0U3BlZWRUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib29zdFNwZWVkVGltZXIgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib29zdFNwZWVkVGltZXIgPCAwKSB0aGlzLmJvb3N0U3BlZWRUaW1lciA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3JpZ2lkYm9keSAhPSBudWxsICYmIHRoaXMucmF5Y2FzdFZlaGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlYWRTcGVlZDogbnVtYmVyID0gMC4yOyAvLyBOb3RlOiBEZWFkIE1vdmVtZW50IFNwZWVkIFRocmVzaG9sZFxuICAgICAgICAgICAgICAgIHRoaXMuZm9yd2FyZFNwZWVkID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRSYXdDdXJyZW50U3BlZWRLcGgoKSAqIFBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyLkRFRkFVTFRfU1BFRURfRkFDVE9SO1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmZvcndhcmRTcGVlZCkgPCBkZWFkU3BlZWQpIHRoaXMuZm9yd2FyZFNwZWVkID0gMDtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHRoaXMuYWJzb2x1dGVTcGVlZCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0QWJzQ3VycmVudFNwZWVkS3BoKCkgKiBQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5ERUZBVUxUX1NQRUVEX0ZBQ1RPUjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hYnNvbHV0ZVNwZWVkIDwgZGVhZFNwZWVkKSB0aGlzLmFic29sdXRlU3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgdGhpcy5hbWVyaWNhblNwZWVkID0gKHRoaXMuYWJzb2x1dGVTcGVlZCAqIEJBQllMT04uVG9vbGtpdC5TeXN0ZW0uS3BoMk1waCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFkaWVudFNwZWVkID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKHRoaXMuYWJzb2x1dGVTcGVlZCAvIHRoaXMuZ2V0VG9wRW5naW5lU3BlZWQoKSkpOyAvLyBOb3RlOiBBYnNvdWx0ZSBTcGVlZCBUbyBEYW1wZW4gTm9ybWFsaXplZCBTcGVlZFxuICAgICAgICAgICAgICAgIC8vIHRoaXMuZ3JhZGllbnRTcGVlZCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKCh0aGlzLmFtZXJpY2FuU3BlZWQgLyB0aGlzLmdldFRvcEVuZ2luZVNwZWVkKCkpKTsgLy8gTm90ZTogQW1lcmljYW4gU3BlZWQgVG8gRGFtcGVuIE5vcm1hbGl6ZWQgU3BlZWRcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdlYXJCb3hTaGlmdFJhdGlvcyAhPSBudWxsICYmIHRoaXMuZ2VhckluZGV4ID49IDAgJiYgdGhpcy5nZWFySW5kZXggPCBnZWFyQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluaW11bURlbHRhID0gTWF0aC5taW4oTWF0aC5tYXgoZGVsdGFUaW1lLCAxIC8gMjAwKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsRGlhbWV0ZXI6IG51bWJlciA9ICh0aGlzLndoZWVsUmFkaXVzICogMiAqIEJBQllMT04uVG9vbGtpdC5TeXN0ZW0uTWV0ZXIySW5jaCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsR2VhclJhdGlvOiBudW1iZXIgPSAodGhpcy5nZWFyQm94U2hpZnRSYXRpb3NbdGhpcy5nZWFySW5kZXhdICogdGhpcy5kaWZmZXJlbnRpYWxSYXRpbyAqIHRoaXMudHJhbnNtaXNzaW9uUmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmdpbmVMZXZlbEZhY3RvcjogbnVtYmVyID0gMzM2O1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgRW5naW5lIFJldm9sdXRpb25zIChUT0RPIC0gTm8gU2hpZnRpbmcgRG9udXQgTW9kZSAtIFJQTSBCb3VuY2UgQm9vc3RpbmcpXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG93blNoaWZ0ID0gKHRoaXMuZ2VhckJveFNoaWZ0UmFuZ2VzICE9IG51bGwgJiYgdGhpcy5nZWFyQm94U2hpZnRSYW5nZXMubGVuZ3RoID09PSB0aGlzLmdlYXJCb3hTaGlmdFJhdGlvcy5sZW5ndGgpID8gdGhpcy5nZWFyQm94U2hpZnRSYW5nZXNbdGhpcy5nZWFySW5kZXhdIDogMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbHV0Y2hTbGlwID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmNsdXRjaFNsaXAsIDAsIDEgLSBNYXRoLnBvdygwLjAxLCBtaW5pbXVtRGVsdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVSUE0gPSAoKHRoaXMuYW1lcmljYW5TcGVlZCAqIGZpbmFsR2VhclJhdGlvICogZW5naW5lTGV2ZWxGYWN0b3IpIC8gd2hlZWxEaWFtZXRlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IExvY2sgSGlnaCBQaXRjaGluZyBSUE0gV2hpbGUgU2tpZGRpbmcgJiBEb251dHNcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogRklYIFRIRSBTSElGVElORyBSUE0gR0xJVENIXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHRoaXMucGl0Y2hSUE0gPSA1MDAwOyAvL3RoaXMubWF4RG9udXRQaXRjaDtcbiAgICAgICAgICAgICAgICAgICAgLy99IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpdGNoUlBNID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLnNoaWZ0UlBNLCB0aGlzLmVuZ2luZVJQTSwgKDEgLSB0aGlzLmNsdXRjaFNsaXApKSArIHRoaXMuTUlOX1JQTTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAgICAgICAgIC8qIFBlbm55IC0gQ2hhbmdlIEdlYXJzXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0IHNwZWVkUGVyY2VudGFnZSA9IE1hdGhmLkFicyhjdXJyZW50U3BlZWQgLyBtYXhTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIGZsb2F0IHVwcGVyR2Vhck1heCA9ICgxIC8gKGZsb2F0KW51bUdlYXJzKSAqIChjdXJyZW50R2VhciArIDEpO1xuICAgICAgICAgICAgICAgICAgICBmbG9hdCBkb3duR2Vhck1heCA9ICgxIC8gKGZsb2F0KW51bUdlYXJzKSAqIGN1cnJlbnRHZWFyO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50R2VhciA+IDAgJiYgc3BlZWRQZXJjZW50YWdlIDwgZG93bkdlYXJNYXgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R2Vhci0tO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGVlZFBlcmNlbnRhZ2UgPiB1cHBlckdlYXJNYXggJiYgKGN1cnJlbnRHZWFyIDwgKG51bUdlYXJzIC0gMSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdlYXIrKztcbiAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBEaXNhYmxlIFNoaWZ0aW5nIEdlYXJzIEZvciBCb29zdGVycyBBbmQgRG9udXRzXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmFibGVTaGlmdGluZzogYm9vbGVhbiA9ICh0aGlzLmN1cnJlbnRCb29zdGluZyA9PT0gZmFsc2UgJiYgdGhpcy5jdXJyZW50RG9udXRzID09PSBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFtZXJpY2FuU3BlZWQgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlYXJJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5nU2lkZSA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0UmFuZG9tUmFuZ2UoLTEwLCAxMCkgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lUlBNID4gdGhpcy5nZWFyQm94U2hpZnRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogTW92ZWQgVG8gSWYgU3RhdGVtZW50IEJlbG93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zaGlmdFJQTSA9IHRoaXMuZW5naW5lUlBNO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2x1dGNoU2xpcCA9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNoaWZ0aW5nVGltZSA9IHRoaXMuZ2VhckJveFNoaWZ0RGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckluZGV4IDwgKGdlYXJDb3VudCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZnRSUE0gPSB0aGlzLmVuZ2luZVJQTTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbHV0Y2hTbGlwID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5nVGltZSA9IChlbmFibGVTaGlmdGluZyA9PT0gdHJ1ZSkgPyB0aGlzLmdlYXJCb3hTaGlmdERlbGF5IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGlmdGluZ1NpZGUgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldFJhbmRvbVJhbmdlKC0xMCwgMTApID4gMCA/IDEgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZWFySW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZW5naW5lUlBNIDwgdGhpcy5kb3duU2hpZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogTW92ZWQgVG8gSWYgU3RhdGVtZW50IEJlbG93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zaGlmdFJQTSA9IHRoaXMuZW5naW5lUlBNO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2x1dGNoU2xpcCA9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNoaWZ0aW5nVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0UlBNID0gdGhpcy5lbmdpbmVSUE07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2x1dGNoU2xpcCA9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGlmdGluZ1RpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5nU2lkZSA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0UmFuZG9tUmFuZ2UoLTEwLCAxMCkgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlYXJJbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gRG91YmxlIENoZWNrIEdlYXIgSW5kZXggLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdlYXJJbmRleCA8IDApIHRoaXMuZ2VhckluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nZWFySW5kZXggPj0gZ2VhckNvdW50KSB0aGlzLmdlYXJJbmRleCA9IChnZWFyQ291bnQgLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBFbmdpbmUgU291bmQgUGl0Y2hcbiAgICAgICAgICAgIHRoaXMuZW5naW5lUGl0Y2hMZXZlbCA9ICh0aGlzLmdldEN1cnJlbnRFbmdpbmVQaXRjaCgpICogUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIuREVGQVVMVF9QSVRDSF9GQUNUT1IgKiB0aGlzLmdlYXJCb3hNdWx0aXBsaWVyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlWZWhpY2xlU291bmRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5naW5lU291bmRDbGlwOiBCQUJZTE9OLlNvdW5kID0gdGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UuZ2V0U291bmRDbGlwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmdpbmVTb3VuZENsaXAgIT0gbnVsbCkgZW5naW5lU291bmRDbGlwLnNldFBsYXliYWNrUmF0ZSh0aGlzLmVuZ2luZVBpdGNoTGV2ZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIEJvb3N0ZXIgU291bmQgUGl0Y2hcbiAgICAgICAgICAgIHRoaXMuUE9XRVJfQk9PU1RfUElUQ0ggPSAodGhpcy5jdXJyZW50Qm9vc3RpbmcgPT09IHRydWUpID8gMSA6IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5VmVoaWNsZVNvdW5kcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ub3NBdWRpb1NvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vc1NvdW5kQ2xpcDogQkFCWUxPTi5Tb3VuZCA9IHRoaXMuX25vc0F1ZGlvU291cmNlLmdldFNvdW5kQ2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9zU291bmRDbGlwICE9IG51bGwpIG5vc1NvdW5kQ2xpcC5zZXRQbGF5YmFja1JhdGUodGhpcy5QT1dFUl9CT09TVF9QSVRDSCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgU21va2UgSW5zdGVuc2l0eVxuICAgICAgICAgICAgdGhpcy5zbW9rZURvbnV0cyA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMuc21va2VEb251dHMsIDEsIDEwKTtcbiAgICAgICAgICAgIHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgPSB0aGlzLnNtb2tlSW50ZW5zaXR5O1xuICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxCdXJub3V0ID09PSB0cnVlICYmIHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKj0gdGhpcy5zbW9rZURvbnV0cztcblxuICAgICAgICAgICAgLyogREVCVUc6IFdIRUVMIENPTExJU0lPTlNcbiAgICAgICAgICAgIGNvbnN0IGZsX3doZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgIGNvbnN0IGZyX3doZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICBjb25zdCBibF93aGVlbCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmZvKHRoaXMuQkFDS19MRUZUKTtcbiAgICAgICAgICAgIGNvbnN0IGJyX3doZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5CQUNLX1JJR0hUKTtcbiAgICAgICAgICAgIGxldCBmbF9jb2xsaWRlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoZmxfd2hlZWwucmF5Y2FzdFJlc3VsdCAhPSBudWxsICYmIGZsX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZmxfY29sbGlkZSA9IGZsX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keS50cmFuc2Zvcm1Ob2RlLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZnJfY29sbGlkZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGZyX3doZWVsLnJheWNhc3RSZXN1bHQgIT0gbnVsbCAmJiBmcl93aGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZyX2NvbGxpZGUgPSBmcl93aGVlbC5yYXljYXN0UmVzdWx0LmJvZHkudHJhbnNmb3JtTm9kZS5uYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmxfY29sbGlkZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGJsX3doZWVsLnJheWNhc3RSZXN1bHQgIT0gbnVsbCAmJiBibF93aGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJsX2NvbGxpZGUgPSBibF93aGVlbC5yYXljYXN0UmVzdWx0LmJvZHkudHJhbnNmb3JtTm9kZS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGJyX2NvbGxpZGU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChicl93aGVlbC5yYXljYXN0UmVzdWx0ICE9IG51bGwgJiYgYnJfd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBicl9jb2xsaWRlID0gYnJfd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5LnRyYW5zZm9ybU5vZGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2hlZWwgQ29sbGlkZXMgLSBGTDogXCIgKyBmbF9jb2xsaWRlICsgXCIgLS0+IEZSOiBcIiArICBmcl9jb2xsaWRlICsgXCIgLS0+IEJMOiBcIiArIGJsX2NvbGxpZGUgKyBcIiAtLT4gQlI6IFwiICsgYnJfY29sbGlkZSk7XG4gICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgV2hlZWwgU2tpZGRpbmcgSW5mb1xuICAgICAgICAgICAgdGhpcy5TS0lEX0ZMID0gMCwgdGhpcy5TS0lEX0ZSID0gMCwgdGhpcy5TS0lEX1JMID0gMCwgdGhpcy5TS0lEX1JSID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsQ29udGFjdEZMOiBib29sZWFuID0gKHRoaXMubV9mcm9udExlZnRXaGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5TS0lEX0ZMID0gdGhpcy51cGRhdGVDdXJyZW50U2tpZEluZm8odGhpcy5tX2Zyb250TGVmdFdoZWVsKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TS0lEX0ZMIDwgdGhpcy5za2lkVGhyZWFzaG9sZCkgdGhpcy5TS0lEX0ZMID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TS0lEX0ZMID4gMCAmJiB3aGVlbENvbnRhY3RGTCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkUG9zRkw6IEJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9mcm9udExlZnRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWROb3JtRkw6IEJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9mcm9udExlZnRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVGTDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMuU0tJRF9GTCwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyYXdWZWxvY2l0eSA+IDApIHNraWRQb3NGTC5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbFNraWQgPSBTa2lkTWFya01hbmFnZXIuQWRkU2tpZE1hcmtTZWdtZW50KHNraWRQb3NGTCwgc2tpZE5vcm1GTCwgc2tpZFNjYWxlRkwsIHRoaXMubV9mcm9udExlZnRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkgdGhpcy5kb251dE1ldGVyICs9IHRoaXMuU0tJRF9GTDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0TWV0ZXIgKz0gdGhpcy5TS0lEX0ZMO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5pc1N0YXJ0ZWQoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUuc3RhcnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfRkw6IG51bWJlciA9IHRoaXMuU0tJRF9GTCAqIHRoaXMuU0tJRF9GTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9GTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5taW5TaXplID0gMC4yICogc21va2VfRkwgKyAwLjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUubWF4U2l6ZSA9IDEuNSAqIHNtb2tlX0ZMICsgMS4yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsQ29udGFjdEZSOiBib29sZWFuID0gKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuU0tJRF9GUiA9IHRoaXMudXBkYXRlQ3VycmVudFNraWRJbmZvKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNLSURfRlIgPCB0aGlzLnNraWRUaHJlYXNob2xkKSB0aGlzLlNLSURfRlIgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNLSURfRlIgPiAwICYmIHdoZWVsQ29udGFjdEZSID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRQb3NGUjogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWROb3JtRlI6IEJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFNjYWxlRlI6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLk5vcm1hbGl6ZSh0aGlzLlNLSURfRlIsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPiAwKSBza2lkUG9zRlIuYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQoc2tpZFBvc0ZSLCBza2lkTm9ybUZSLCBza2lkU2NhbGVGUiwgdGhpcy5tX2Zyb250UmlnaHRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkgdGhpcy5kb251dE1ldGVyICs9IHRoaXMuU0tJRF9GUjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0TWV0ZXIgKz0gdGhpcy5TS0lEX0ZSO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuc3RhcnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfRlI6IG51bWJlciA9IHRoaXMuU0tJRF9GUiAqIHRoaXMuU0tJRF9GUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICogc21va2VfRlI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9GUiArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUubWF4U2l6ZSA9IDEuNSAqIHNtb2tlX0ZSICsgMS4yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5QSVRDSF9GTCA9IHRoaXMuU0tJRF9GTDtcbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRlIgPSB0aGlzLlNLSURfRlI7XG4gICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT0gdHJ1ZSB8fCB0aGlzLnJlc3RvcmVUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLlBJVENIX0ZMICo9IHRoaXMuYnVybm91dFdoZWVsUGl0Y2g7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9GUiAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5QSVRDSF9GTCAqPSAwLjc1OyAvLyA3NSUgU2tpZCBGb3IgRnJvbnQgV2hlZWxzXG4gICAgICAgICAgICB0aGlzLlBJVENIX0ZSICo9IDAuNzU7IC8vIDc1JSBTa2lkIEZvciBGcm9udCBXaGVlbHNcbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja0xlZnRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxDb250YWN0Qkw6IGJvb2xlYW4gPSAodGhpcy5tX2JhY2tMZWZ0V2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuU0tJRF9STCA9IHRoaXMudXBkYXRlQ3VycmVudFNraWRJbmZvKHRoaXMubV9iYWNrTGVmdFdoZWVsKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TS0lEX1JMIDwgdGhpcy5za2lkVGhyZWFzaG9sZCkgdGhpcy5TS0lEX1JMID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TS0lEX1JMID4gMCAmJiB3aGVlbENvbnRhY3RCTCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkUG9zUkw6IEJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9iYWNrTGVmdFdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZE5vcm1STDogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFNjYWxlUkw6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLk5vcm1hbGl6ZSh0aGlzLlNLSURfUkwsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPiAwKSBza2lkUG9zUkwuYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbFNraWQgPSBTa2lkTWFya01hbmFnZXIuQWRkU2tpZE1hcmtTZWdtZW50KHNraWRQb3NSTCwgc2tpZE5vcm1STCwgc2tpZFNjYWxlUkwsIHRoaXMubV9iYWNrTGVmdFdoZWVsU2tpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB0aGlzLmRvbnV0TWV0ZXIgKz0gdGhpcy5TS0lEX1JMO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRNZXRlciArPSB0aGlzLlNLSURfUkw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5pc1N0YXJ0ZWQoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5zdGFydCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9rZV9STDogbnVtYmVyID0gdGhpcy5TS0lEX1JMICogdGhpcy5TS0lEX1JMO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICogc21va2VfUkw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5taW5TaXplID0gMC4yICogc21va2VfUkwgKyAwLjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5tYXhTaXplID0gMS41ICogc21va2VfUkwgKyAxLjI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbFNraWQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3aGVlbENvbnRhY3RCUjogYm9vbGVhbiA9ICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuU0tJRF9SUiA9IHRoaXMudXBkYXRlQ3VycmVudFNraWRJbmZvKHRoaXMubV9iYWNrUmlnaHRXaGVlbCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9SUiA8IHRoaXMuc2tpZFRocmVhc2hvbGQpIHRoaXMuU0tJRF9SUiA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9SUiA+IDAgJiYgd2hlZWxDb250YWN0QlIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFBvc1JSOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkTm9ybVJSOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFNjYWxlUlI6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLk5vcm1hbGl6ZSh0aGlzLlNLSURfUlIsIHRoaXMuc2tpZFRocmVhc2hvbGQsIDEuMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPiAwKSBza2lkUG9zUlIuYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWxTa2lkID0gU2tpZE1hcmtNYW5hZ2VyLkFkZFNraWRNYXJrU2VnbWVudChza2lkUG9zUlIsIHNraWROb3JtUlIsIHNraWRTY2FsZVJSLCB0aGlzLm1fYmFja1JpZ2h0V2hlZWxTa2lkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHRoaXMuZG9udXRNZXRlciArPSB0aGlzLlNLSURfUlI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dE1ldGVyICs9IHRoaXMuU0tJRF9SUjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuaXNTdGFydGVkKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLnN0YXJ0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtb2tlX1JSOiBudW1iZXIgPSB0aGlzLlNLSURfUlIgKiB0aGlzLlNLSURfUlI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICogc21va2VfUlI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUubWluU2l6ZSA9IDAuMiAqIHNtb2tlX1JSICsgMC4yO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9SUiArIDEuMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsU2tpZCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuUElUQ0hfUkwgPSB0aGlzLlNLSURfUkw7XG4gICAgICAgICAgICB0aGlzLlBJVENIX1JSID0gdGhpcy5TS0lEX1JSO1xuICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxCdXJub3V0ID09IHRydWUgfHwgdGhpcy5yZXN0b3JlVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9STCAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfUlIgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gUGxheSBTa2lkIEF1ZGlvIFRyYWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfRkwgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfRkw7XG4gICAgICAgICAgICBpZiAodGhpcy5QSVRDSF9GUiA+IHRoaXMuV0hFRUxfU0tJRF9QSVRDSCkgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gdGhpcy5QSVRDSF9GUjtcbiAgICAgICAgICAgIGlmICh0aGlzLlBJVENIX1JMID4gdGhpcy5XSEVFTF9TS0lEX1BJVENIKSB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSB0aGlzLlBJVENIX1JMO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfUlIgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfUlI7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5VmVoaWNsZVNvdW5kcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9za2lkQXVkaW9Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkU291bmRDbGlwOiBCQUJZTE9OLlNvdW5kID0gdGhpcy5fc2tpZEF1ZGlvU291cmNlLmdldFNvdW5kQ2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpZFNvdW5kQ2xpcCAhPSBudWxsKSBza2lkU291bmRDbGlwLnNldFBsYXliYWNrUmF0ZSh0aGlzLldIRUVMX1NLSURfUElUQ0gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gVmVoaWNsZSBCcmFraW5nIExpZ2h0cyBDaGVja1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgaWYgKHRoaXMuYnJha2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSB0aGlzLmlzQnJha2luZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWZWhpY2xlIFJldmVyc2UgTGlnaHRzIENoZWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICBpZiAodGhpcy5yZXZlcnNlTGlnaHRzTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSB0aGlzLmdldFJldmVyc2VUaHJvdHRsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBSZXNldCBTa2lkIFByb3BlcnRpZXNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLlNLSURfRkwgPT09IDAgJiYgdGhpcy5TS0lEX0ZMID09PSAwICYmIHRoaXMuU0tJRF9GTCA9PT0gMCAmJiB0aGlzLlNLSURfRkwgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gUG9zdCBOZXR3b3JrIEF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyA9PSB0cnVlICYmIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLkhhc05ldHdvcmtFbnRpdHkodGhpcy50cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGl0Y2hfQXR0cmlidXRlOiBudW1iZXIgPSB0aGlzLmdldEVuZ2luZVBpdGNoTGV2ZWwoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBicmFrZV9BdHRyaWJ1dGU6IG51bWJlciA9IHRoaXMuaXNCcmFraW5nKCkgPyAxIDogMDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXZlcnNlX0F0dHJpYnV0ZTogbnVtYmVyID0gdGhpcy5nZXRSZXZlcnNlVGhyb3R0bGUoKSA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1cm5vdXRfQXR0cmlidXRlOiBudW1iZXIgPSAodGhpcy5nZXRDdXJyZW50QnVybm91dCgpIHx8IHRoaXMuZ2V0Q3VycmVudERvbnV0cygpKSA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IFNLSURfRkxfQXR0cmlidXRlOiBudW1iZXIgPSB0aGlzLmdldEZyb250TGVmdFNraWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBTS0lEX0ZSX0F0dHJpYnV0ZTogbnVtYmVyID0gdGhpcy5nZXRGcm9udFJpZ2h0U2tpZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IFNLSURfUkxfQXR0cmlidXRlOiBudW1iZXIgPSB0aGlzLmdldEJhY2tMZWZ0U2tpZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IFNLSURfUlJfQXR0cmlidXRlOiBudW1iZXIgPSB0aGlzLmdldEJhY2tSaWdodFNraWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBTUElOX0ZMX1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5tX2Zyb250TGVmdFdoZWVsLnNwaW5uZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgU1BJTl9GUl9UcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuc3Bpbm5lcjtcbiAgICAgICAgICAgICAgICBjb25zdCBTUElOX1JMX1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwuc3Bpbm5lcjtcbiAgICAgICAgICAgICAgICBjb25zdCBTUElOX1JSX1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5tX2JhY2tSaWdodFdoZWVsLnNwaW5uZXI7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAwLCBwaXRjaF9BdHRyaWJ1dGUpOyAgICAgICAgICAgICAgICAgLy8gUGl0Y2hcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEsIGJyYWtlX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgICAvLyBCcmFrZVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMiwgcmV2ZXJzZV9BdHRyaWJ1dGUpOyAgICAgICAgICAgICAgIC8vIFJldmVyc2VcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDMsIGJ1cm5vdXRfQXR0cmlidXRlKTsgICAgICAgICAgICAgICAvLyBCdXJub3V0XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA0LCBTS0lEX0ZMX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gU0tJRF9GTFxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNSwgU0tJRF9GUl9BdHRyaWJ1dGUpOyAgICAgICAgICAgICAgIC8vIFNLSURfRlJcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDYsIFNLSURfUkxfQXR0cmlidXRlKTsgICAgICAgICAgICAgICAvLyBTS0lEX1JMXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA3LCBTS0lEX1JSX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gU0tJRF9SUlxuICAgICAgICAgICAgICAgIGlmIChTUElOX0ZMX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fRkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFNQSU5fRkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5TUElOX0ZMX1JvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA4LCB0aGlzLlNQSU5fRkxfUm90YXRpb24ueCk7ICAgICAvLyBTUElOX0ZMXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA4LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFNQSU5fRlJfVHJhbnNmb3JtICE9IG51bGwgJiYgU1BJTl9GUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgU1BJTl9GUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLlNQSU5fRlJfUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDksIHRoaXMuU1BJTl9GUl9Sb3RhdGlvbi54KTsgICAgIC8vIFNQSU5fRlJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoU1BJTl9STF9UcmFuc2Zvcm0gIT0gbnVsbCAmJiBTUElOX1JMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBTUElOX1JMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMuU1BJTl9STF9Sb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTAsIHRoaXMuU1BJTl9STF9Sb3RhdGlvbi54KTsgICAgLy8gU1BJTl9STFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoU1BJTl9SUl9UcmFuc2Zvcm0gIT0gbnVsbCAmJiBTUElOX1JSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBTUElOX1JSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMuU1BJTl9SUl9Sb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTEsIHRoaXMuU1BJTl9SUl9Sb3RhdGlvbi54KTsgICAgLy8gU1BJTl9SUlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTEsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEyLCB0aGlzLmFuaW1hdG9yU3RlZXJBbmdsZSk7ICAgICAgICAvLyBTdGVlcmluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBXcml0ZSBUcmFuc2Zvcm0gTWV0YWRhdGFcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIHRoaXMud3JpdGVUcmFuc2Zvcm1NZXRhZGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjdXJyZW50UGl0Y2g6IG51bWJlciA9IDA7ICAgICAgICAgICAvLyBDdXJyZW50IHBpdGNoIGFuZ2xlIGZvciBmb3J3YXJkLWJhY2t3YXJkIHRpbHRcbiAgICAgICAgcHJpdmF0ZSBjdXJyZW50Um9sbDogbnVtYmVyID0gMDsgICAgICAgICAgICAvLyBDdXJyZW50IHJvbGwgYW5nbGUgZm9yIHNpZGUtdG8tc2lkZSB0aWx0XG4gICAgICAgIHByaXZhdGUgcHJldmlvdXNTcGVlZDogbnVtYmVyID0gMDsgICAgICAgICAgLy8gUHJldmlvdXMgZnJhbWUgc3BlZWQgZm9yIGNvbXBhcmlzb25cbiAgICAgICAgcHJpdmF0ZSBhbmd1bGFyVmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7ICAgLy8gQ3VycmVudCBhbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSB2ZWhpY2xlXG4gICAgICAgIHByaXZhdGUgc3luY1ZlaGljbGVUaWx0aW5nKGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCB2ZWhpY2xlOiBhbnkgPSB0aGlzLnJheWNhc3RWZWhpY2xlO1xuICAgICAgICAgICAgaWYgKHZlaGljbGUgPT0gbnVsbCB8fCB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keSA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFRpbHRpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGN1cnJlbnQgYW5kIGNoYW5nZSBpbiBzcGVlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTcGVlZDogbnVtYmVyID0gdmVoaWNsZS5nZXRSYXdDdXJyZW50U3BlZWRLcGgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVlZENoYW5nZTogbnVtYmVyID0gKGN1cnJlbnRTcGVlZCAtIHRoaXMucHJldmlvdXNTcGVlZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHZlaGljbGUncyBsYXRlcmFsIGFjY2VsZXJhdGlvbiBmb3IgY29ybmVyaW5nIGVmZmVjdHNcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRBbmd1bGFyVmVsb2NpdHlUb1JlZih0aGlzLmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF0ZXJhbEdGb3JjZTogbnVtYmVyID0gdGhpcy5hbmd1bGFyVmVsb2NpdHkueTsgLy8gQXNzdW1pbmcgeS1heGlzIGlzIHVwLWRvd24sIGFkanVzdCBiYXNlZCBvbiB5b3VyIGNvb3JkaW5hdGUgc3lzdGVtXG5cbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgcGl0Y2ggYmFzZWQgb24gYWNjZWxlcmF0aW9uIG9yIGJyYWtpbmdcbiAgICAgICAgICAgICAgICBpZiAoc3BlZWRDaGFuZ2UgPiAwKSB7ICAvLyBBY2NlbGVyYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGl0Y2ggLT0gKHRoaXMuZm9yd2FyZFBpdGNoRmFjdG9yICogTWF0aC5taW4oc3BlZWRDaGFuZ2UsIDEwKSAqIGRlbHRhVGltZSk7IC8vIFNjYWxlIGRvd24gY2hhbmdlIGFuZCBsaW1pdCBtYXhpbXVtIGVmZmVjdFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3BlZWRDaGFuZ2UgPCAwKSB7IC8vIEJyYWtpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Rm9vdEJyYWtpbmcoKSA9PT0gdHJ1ZSB8fCB0aGlzLmdldEhhbmRCcmFraW5nKCkgPT09IHRydWUgJiYgdGhpcy5hbWVyaWNhblNwZWVkIDwgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBpdGNoICs9ICh0aGlzLmZvcndhcmRQaXRjaEZhY3RvciAqIE1hdGgubWluKC1zcGVlZENoYW5nZSwgMTApICogZGVsdGFUaW1lKTsgLy8gU2NhbGUgZG93biBjaGFuZ2UgYW5kIGxpbWl0IG1heGltdW0gZWZmZWN0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBZGp1c3Qgcm9sbCBiYXNlZCBvbiBjb3JuZXJpbmdcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb2xsICs9ICh0aGlzLmxhdGVyYWxSb2xsRmFjdG9yICogbGF0ZXJhbEdGb3JjZSAqIGRlbHRhVGltZSk7IC8vIENvcm5lcmluZ1xuXG4gICAgICAgICAgICAgICAgLy8gR3JhZHVhbGx5IHJldHVybiBwaXRjaCBhbmQgcm9sbCB0byBuZXV0cmFsIHdoZW4gbm8gaW5wdXRcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQaXRjaCAqPSAoMS4wIC0gdGhpcy5mb3J3YXJkUmVjb3ZlclJhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvbGwgKj0gKDEuMCAtIHRoaXMubGF0ZXJhbFJlY292ZXJSYXRlKTtcblxuICAgICAgICAgICAgICAgIC8vIENsYW1wIHRoZSBwaXRjaCBhbmQgcm9sbCB0byBhdm9pZCBleGNlc3NpdmUgdGlsdGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heFBpdGNoOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLm1heEZvcndhcmRBbmdsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4Um9sbDogbnVtYmVyID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5tYXhMYXRlcmFsQW5nbGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBpdGNoID0gTWF0aC5tYXgoLW1heFBpdGNoLCBNYXRoLm1pbihtYXhQaXRjaCwgdGhpcy5jdXJyZW50UGl0Y2gpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb2xsID0gTWF0aC5tYXgoLW1heFJvbGwsIE1hdGgubWluKG1heFJvbGwsIHRoaXMuY3VycmVudFJvbGwpKTtcblxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IEdlYXIgU2hpZnRpbmcgVG8gVGlsdCBBbmdsZXNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGlmdGluZ1RpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFNoaWZ0RWZmZWN0OiBudW1iZXIgPSBNYXRoLnNpbih0aGlzLnNoaWZ0aW5nVGltZSAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3J3YXJkU2hpZnRTaWduOiBudW1iZXIgPSAodGhpcy5jdXJyZW50Rm9yd2FyZCA+IDApID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3J3YXJkU2hpZnRFZmZlY3Q6IG51bWJlciA9IChmb3J3YXJkU2hpZnRTaWduICogbWF4U2hpZnRFZmZlY3QgKiB0aGlzLnNoaWZ0Rm9yd2FyZEV4dHJhICogMC4wMTUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXRlcmFsU2hpZnRFZmZlY3Q6IG51bWJlciA9ICh0aGlzLnNoaWZ0aW5nU2lkZSAqIG1heFNoaWZ0RWZmZWN0ICogdGhpcy5zaGlmdExhdGVyYWxFeHRyYSAqIDAuMDE1KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGl0Y2ggKz0gZm9yd2FyZFNoaWZ0RWZmZWN0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb2xsICs9IGxhdGVyYWxTaGlmdEVmZmVjdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBcHBseSBSb2FkIFN1cmZhY2UgTm9pc2UgVG8gVGlsdCBBbmdsZXNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdXJmYWNlRGV0ZWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRsZU5vaXNlRGVsdGEgKz0gKGRlbHRhVGltZSAqIHRoaXMuaWRsZVNoYWtlUmF0ZSkgKiAzLjA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJpdmVOb2lzZURlbHRhICs9IChkZWx0YVRpbWUgKiBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMubG93U3BlZWRTY2FsZSwgdGhpcy5oaWdoU3BlZWRTY2FsZSwgdGhpcy5ncmFkaWVudFNwZWVkKSkgKiAzLjA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdmVtZW50U3BlZWQ6IG51bWJlciA9IE1hdGguYWJzKGN1cnJlbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlbWVudFNwZWVkID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlbWVudFNwZWVkID49IHRoaXMuc3BlZWRUaHJlYXNob2xkICYmIHRoaXMuaGFuZEJyYWtpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG93Rm9yd2FyZE5vaXNlID4gMCB8fCB0aGlzLmhpZ2hGb3J3YXJkTm9pc2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmROb2lzZUludGVuc2l0eTogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmxvd0ZvcndhcmROb2lzZSwgdGhpcy5oaWdoRm9yd2FyZE5vaXNlLCB0aGlzLmdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQaXRjaCArPSAoUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIuU2ltcGxleE5vaXNlMkQodGhpcy5kcml2ZU5vaXNlRGVsdGEsIDApICogZm9yd2FyZE5vaXNlSW50ZW5zaXR5ICogMC4wNjUpICogdGhpcy5yb2FkU3VyZmFjZUZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG93TGF0ZXJhbE5vaXNlID4gMCB8fCB0aGlzLmhpZ2hMYXRlcmFsTm9pc2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVyaWFsTm9pc2VJbnRlbnNpdHk6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5sb3dMYXRlcmFsTm9pc2UsIHRoaXMuaGlnaExhdGVyYWxOb2lzZSwgdGhpcy5ncmFkaWVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Um9sbCArPSAoUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIuU2ltcGxleE5vaXNlMkQodGhpcy5kcml2ZU5vaXNlRGVsdGEsIDEpICogbGF0ZXJpYWxOb2lzZUludGVuc2l0eSAqIDAuMDY1KSAqIHRoaXMucm9hZFN1cmZhY2VGYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaWRsZVNoYWtlTm9pc2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQaXRjaCArPSAoUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIuU2ltcGxleE5vaXNlMkQodGhpcy5pZGxlTm9pc2VEZWx0YSwgMCkgKiB0aGlzLmlkbGVTaGFrZU5vaXNlICogMC4wNjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Um9sbCArPSAoUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIuU2ltcGxleE5vaXNlMkQodGhpcy5pZGxlTm9pc2VEZWx0YSwgMSkgKiB0aGlzLmlkbGVTaGFrZU5vaXNlICogMC4wNjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGNhbGN1bGF0ZWQgcGl0Y2ggYW5kIHJvbGwgdG8gdGhlIHZlaGljbGUncyBtZXNoIGZvciB2aXN1YWwgZWZmZWN0XG4gICAgICAgICAgICAgICAgLy8gV00uUHJpbnRUb1NjcmVlbihcIkNIRUNLIC0gUGl0Y2g6IFwiICsgdGhpcy5jdXJyZW50UGl0Y2gudG9GaXhlZCgyKSArIFwiIFJvbGw6IFwiICsgdGhpcy5jdXJyZW50Um9sbC50b0ZpeGVkKDIpICsgXCIgU3BlZWQgQ2hhbmdlOiBcIiArIHNwZWVkQ2hhbmdlLnRvRml4ZWQoMiksIFwid2hpdGVcIik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhc3Npc1RyYW5zZm9ybSAhPSBudWxsICYmIHRoaXMuY2hhc3Npc1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXNzaXNUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnRpbHRDaGFzc2lzRXVsZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlsdEFuZ2xlWCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy50aWx0Q2hhc3Npc0V1bGVycy54LCB0aGlzLmN1cnJlbnRQaXRjaCwgKHRoaXMubGVycEZvcndhcmRGYWN0b3IgKiBkZWx0YVRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlsdEFuZ2xlWiA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy50aWx0Q2hhc3Npc0V1bGVycy56LCB0aGlzLmN1cnJlbnRSb2xsLCAodGhpcy5sZXJwTGF0ZXJhbEZhY3RvciAqIGRlbHRhVGltZSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKFwiU3luYyBQaXRjaDogXCIgKyB0aWx0QW5nbGVYLnRvRml4ZWQoMikgKyBcIiBSb2xsOiBcIiArIHRpbHRBbmdsZVoudG9GaXhlZCgyKSArIFwiIFNwZWVkIENoYW5nZTogXCIgKyBzcGVlZENoYW5nZS50b0ZpeGVkKDIpLCBcIndoaXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYodGlsdEFuZ2xlWCwgdGhpcy50aWx0Q2hhc3Npc0V1bGVycy55LCB0aWx0QW5nbGVaLCB0aGlzLmNoYXNzaXNUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHByZXZpb3VzIHNwZWVkIGZvciB0aGUgbmV4dCBmcmFtZVxuICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNTcGVlZCA9IGN1cnJlbnRTcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgd3JpdGVUcmFuc2Zvcm1NZXRhZGF0YSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YSA9PSBudWxsKSB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhciA9PSBudWxsKSB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS5jYXIgPSB7fTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgVHJhbnNmb3JtIE5vZGUgTWV0YWRhdGFcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS5jYXIuZm9yd2FyZFNwZWVkID0gdGhpcy5mb3J3YXJkU3BlZWQ7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS5jYXIucmV2ZXJzZVBvd2VyID0gdGhpcy5tYXhSZXZlcnNlUG93ZXI7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS5jYXIuYW1lcmljYW5TcGVlZCA9IHRoaXMuYW1lcmljYW5TcGVlZDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5ncmFkaWVudFNwZWVkID0gdGhpcy5ncmFkaWVudFNwZWVkO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyLmN1cnJlbnRGb3J3YXJkID0gdGhpcy5jdXJyZW50Rm9yd2FyZDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5saW5lYXJWZWxvY2l0eSA9IHRoaXMuZ2V0TGluZWFyVmVsb2NpdHkoKS5sZW5ndGgoKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5ub3JtYWxpemVkU3BlZWQgPSB0aGlzLmdldE5vcm1hbGl6ZWRTcGVlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRWZWhpY2xlRW5naW5lVG9ycXVlKHJwbTogbnVtYmVyLCBwb3dlcjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmdpbmVUb3JxdWVDdXJ2ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuU2FtcGxlQW5pbWF0aW9uRmxvYXQodGhpcy5lbmdpbmVUb3JxdWVDdXJ2ZSwgQkFCWUxPTi5TY2FsYXIuQ2xhbXAocnBtLCB0aGlzLk1JTl9SUE0sIHRoaXMuTUFYX1JQTSksIEJBQllMT04uQW5pbWF0aW9uLkFOSU1BVElPTkxPT1BNT0RFX0NZQ0xFLCBmYWxzZSkgKiBwb3dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVTbW9rZVBhcnRpY2xlU3lzdGVtKG5hbWU6IHN0cmluZywgZW1pdHRlcjogQkFCWUxPTi5BYnN0cmFjdE1lc2gpOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtKG5hbWUsIDEwMDAwLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHJlc3VsdC5ibGVuZE1vZGUgPSBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtLkJMRU5ETU9ERV9TVEFOREFSRDtcbiAgICAgICAgICAgIHJlc3VsdC5yZW5kZXJpbmdHcm91cElkID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5EZWZhdWx0UmVuZGVyR3JvdXAoKTtcbiAgICAgICAgICAgIHJlc3VsdC5wYXJ0aWNsZVRleHR1cmUgPSB0aGlzLnNtb2tlVGV4dHVyZVxuICAgICAgICAgICAgcmVzdWx0LmVtaXR0ZXIgPSBlbWl0dGVyO1xuICAgICAgICAgICAgcmVzdWx0LmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgIHJlc3VsdC51cGRhdGVTcGVlZCA9IDAuMDE7XG5cbiAgICAgICAgICAgIC8vIGNoYW5nZSBzaXplIGFuZCBzcGVlZFxuICAgICAgICAgICAgcmVzdWx0Lm1pblNpemUgPSAwLjI7XG4gICAgICAgICAgICByZXN1bHQubWF4U2l6ZSA9IDEuMztcbiAgICAgICAgICAgIHJlc3VsdC5taW5Bbmd1bGFyU3BlZWQgPSAtMS41O1xuICAgICAgICAgICAgcmVzdWx0Lm1heEFuZ3VsYXJTcGVlZCA9IDEuNTtcblxuICAgICAgICAgICAgLy8gY2hhbmdlZCBsaWZldGltZSB0byBjb250cm9sIHNoYXBlIG9mIHRoZSBjbG91ZCBpbiBjb25qdW5jdGlvbiB3aXRoIHZlbG9jaXR5IGdyYWRpZW50XG4gICAgICAgICAgICByZXN1bHQubWluTGlmZVRpbWUgPSAzLjA7XG4gICAgICAgICAgICByZXN1bHQubWF4TGlmZVRpbWUgPSA1LjA7XG5cbiAgICAgICAgICAgIC8vIGFkZGluZyB2ZWxvY2l0eSBvdmVyIHRpbWUgdG8gcHJldmVudCBsYXJnZSBibG9vbSBvZiBwYXJ0aWNsZXMgYnkgbGF1bmNoaW5nIHRoZW0gZmFzdCBhbmQgdGhlbiBzbG93aW5nIHRoZW0gZG93biBHUFUgcGFydGljbGVzIGRvbid0IHRha2UgYSBncmFkaWVudCBvbiB2ZWxvY2l0eSwgYnV0IHRoZSByZWR1Y3Rpb24gaW4gdmVsb2NpdHkgb3ZlciB0aW1lIGlzIHdvcnRoIHRoZSB0cmFkZSBvZmYgZm9yIGxlc3MgcmFuZG9taXphdGlvblxuICAgICAgICAgICAgcmVzdWx0LmFkZFZlbG9jaXR5R3JhZGllbnQoMCwgMSk7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgwLjEsIDAuNyk7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgwLjcsIDAuMik7XG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgxLjAsIDAuMDUpO1xuXG4gICAgICAgICAgICAvLyByZWR1Y2VkIHRoZSBlbWl0IHJhdGUgdG8gcmVkdWNlIGJsb29tIG9mIHBhcnRpY2xlcyBpbiB0aGUgY2VudGVyIG9mIG1hc3NcbiAgICAgICAgICAgIHJlc3VsdC5ncmF2aXR5ID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMC4xLCAwKTtcbiAgICAgICAgICAgIHJlc3VsdC5taW5FbWl0Qm94ID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMC4yNSwgMCk7XG4gICAgICAgICAgICByZXN1bHQubWF4RW1pdEJveCA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLTAuMjUsIDApO1xuICAgICAgICAgICAgcmVzdWx0LmRpcmVjdGlvbjEgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKC0xLCAtMSwgLTEpO1xuICAgICAgICAgICAgcmVzdWx0LmRpcmVjdGlvbjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDEsIDEpO1xuXG4gICAgICAgICAgICAvLyBUaGUgY29sb3IxLCBjb2xvcjIsIGNvbG9yRGVhZCBwYXR0ZXJuIGlzIG92ZXJyaWRkZW4gYnkgY29sb3IgZ3JhZGllbnQgc28gaXMgdW5uZWNlc3NhcnlcbiAgICAgICAgICAgIHJlc3VsdC5jb2xvcjEgPSBuZXcgQkFCWUxPTi5Db2xvcjQoMC45NSwgMC45NSwgMC45NSwgdGhpcy5zbW9rZU9wYWNpdHkpO1xuICAgICAgICAgICAgcmVzdWx0LmNvbG9yMiA9IG5ldyBCQUJZTE9OLkNvbG9yNCgwLjg1LCAwLjg1LCAwLjg1LCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICByZXN1bHQuY29sb3JEZWFkID0gbmV3IEJBQllMT04uQ29sb3I0KDAuOSwgMC45LCAwLjksICh0aGlzLnNtb2tlT3BhY2l0eSAqIDAuNSkpO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2VkIHRoZSBjb2xvciBncmFkaWVudCB0byBhZGQgYSBzZWNvbmQgdmFsdWUgZm9yIHJhbmRvbWl6YXRpb24gYW5kIHJhbXBlZCB0aGUgY29sb3IgZG93biBmdXJ0aGVyIHRvIGNyZWF0ZSBtb3JlIHRleHR1cmUgd2l0aCBhbHBoYSBibGVuZGluZ1xuICAgICAgICAgICAgLy9yZXN1bHQuYWRkQ29sb3JHcmFkaWVudCgwLjAsIG5ldyBCQUJZTE9OLkNvbG9yNCgxLCAxLCAxLCAwLjApLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC43LCAwLjcsIDAuNywgMC4wKSk7XG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDAuMiwgbmV3IEJBQllMT04uQ29sb3I0KDAuNywgMC43LCAwLjcsIDAuMiksIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjYsIDAuNiwgMC42LCAwLjIpKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMC42LCBuZXcgQkFCWUxPTi5Db2xvcjQoMC42LCAwLjYsIDAuNiwgMC4xKSxuZXcgQkFCWUxPTi5Db2xvcjQoMC40LCAwLjQsIDAuNCwgMC4xKSk7XG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDEuMCwgbmV3IEJBQllMT04uQ29sb3I0KDAuMywgMC4zLCAwLjMsIDAuMCksbmV3IEJBQllMT04uQ29sb3I0KDAuMSwgMC4xLCAwLjEsIDAuMCkpOyAgICAgICAgICAgIFxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50U2tpZEluZm8od2hlZWw6IEJBQllMT04uVG9vbGtpdC5IYXZva1doZWVsSW5mbyk6IG51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKDEgLSB3aGVlbC5za2lkSW5mbykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50QnJha2VEYW1waW5nKGxpbmVhcjogbnVtYmVyLCBhbmd1bGFyOiBudW1iZXIsIGxlcnA6IG51bWJlciA9IDEuMCk6IHZvaWQge1xuICAgICAgICAgICAgbGV0IHRvdGFsV2hlZWxEYW1wZW5lcjogbnVtYmVyID0gMDtcbiAgICAgICAgICAgIGxldCBkZXN0aW5hdGlvbkxpbmVhckRhbXBpbmc6IG51bWJlciA9IChsaW5lYXIgKyB0b3RhbFdoZWVsRGFtcGVuZXIpO1xuICAgICAgICAgICAgbGV0IGRlc3RpbmF0aW9uQW5ndWxhckRhbXBpbmc6IG51bWJlciA9IGFuZ3VsYXI7XG4gICAgICAgICAgICBpZiAodGhpcy5hbWVyaWNhblNwZWVkID49IHRoaXMubWluUGVuYWx0eVNwZWVkICYmIHRoaXMubGluZWFyV2hlZWxEcmFnID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlcnAgPCAxLjApIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudExpbmVhckRhbXBpbmc6IG51bWJlciA9IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LmdldExpbmVhckRhbXBpbmcoKTtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudEFuZ3VsYXJEYW1waW5nOiBudW1iZXIgPSB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRBbmd1bGFyRGFtcGluZygpO1xuICAgICAgICAgICAgICAgIGxldCBzbW9vdGhlZExpbmVhckRhbXBpbmc6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAoY3VycmVudExpbmVhckRhbXBpbmcsIGRlc3RpbmF0aW9uTGluZWFyRGFtcGluZywgbGVycCk7XG4gICAgICAgICAgICAgICAgbGV0IHNtb290aGVkQW5ndWxhckRhbXBpbmc6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAoY3VycmVudEFuZ3VsYXJEYW1waW5nLCBkZXN0aW5hdGlvbkFuZ3VsYXJEYW1waW5nLCBsZXJwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRMaW5lYXJEYW1waW5nKHNtb290aGVkTGluZWFyRGFtcGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0QW5ndWxhckRhbXBpbmcoc21vb3RoZWRBbmd1bGFyRGFtcGluZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldExpbmVhckRhbXBpbmcoZGVzdGluYXRpb25MaW5lYXJEYW1waW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRBbmd1bGFyRGFtcGluZyhkZXN0aW5hdGlvbkFuZ3VsYXJEYW1waW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlTGluZWFyQnJha2VEYW1waW5nKGxpbmVhcjogbnVtYmVyLCBsZXJwOiBudW1iZXIgPSAxLjApOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCB0b3RhbFdoZWVsRGFtcGVuZXI6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBsZXQgZGVzdGluYXRpb25MaW5lYXJEYW1waW5nOiBudW1iZXIgPSAobGluZWFyICsgdG90YWxXaGVlbERhbXBlbmVyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFtZXJpY2FuU3BlZWQgPj0gdGhpcy5taW5QZW5hbHR5U3BlZWQgJiYgdGhpcy5saW5lYXJXaGVlbERyYWcgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVycCA8IDEuMCkge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50TGluZWFyRGFtcGluZzogbnVtYmVyID0gdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0TGluZWFyRGFtcGluZygpO1xuICAgICAgICAgICAgICAgIGxldCBzbW9vdGhlZExpbmVhckRhbXBpbmc6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAoY3VycmVudExpbmVhckRhbXBpbmcsIGRlc3RpbmF0aW9uTGluZWFyRGFtcGluZywgbGVycCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0TGluZWFyRGFtcGluZyhzbW9vdGhlZExpbmVhckRhbXBpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRMaW5lYXJEYW1waW5nKGRlc3RpbmF0aW9uTGluZWFyRGFtcGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVBbmd1bGFyQnJha2VEYW1waW5nKGFuZ3VsYXI6IG51bWJlciwgbGVycDogbnVtYmVyID0gMS4wKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgdG90YWxXaGVlbERhbXBlbmVyOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgbGV0IGRlc3RpbmF0aW9uQW5ndWxhckRhbXBpbmc6IG51bWJlciA9IGFuZ3VsYXI7XG4gICAgICAgICAgICBpZiAodGhpcy5hbWVyaWNhblNwZWVkID49IHRoaXMubWluUGVuYWx0eVNwZWVkICYmIHRoaXMubGluZWFyV2hlZWxEcmFnID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlcnAgPCAxLjApIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudEFuZ3VsYXJEYW1waW5nOiBudW1iZXIgPSB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRBbmd1bGFyRGFtcGluZygpO1xuICAgICAgICAgICAgICAgIGxldCBzbW9vdGhlZEFuZ3VsYXJEYW1waW5nOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKGN1cnJlbnRBbmd1bGFyRGFtcGluZywgZGVzdGluYXRpb25Bbmd1bGFyRGFtcGluZywgbGVycCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0QW5ndWxhckRhbXBpbmcoc21vb3RoZWRBbmd1bGFyRGFtcGluZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldEFuZ3VsYXJEYW1waW5nKGRlc3RpbmF0aW9uQW5ndWxhckRhbXBpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ3VycmVudFJvdGF0aW9uRGVsdGEoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udExlZnRXaGVlbCAhPSBudWxsKSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVsdGFSb3RhdGlvbiA9IGRlbHRhO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5kZWx0YVJvdGF0aW9uID0gZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZGVsdGFSb3RhdGlvbiA9IGRlbHRhO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrUmlnaHRXaGVlbCAhPSBudWxsKSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVsdGFSb3RhdGlvbiA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ3VycmVudFJvdGF0aW9uQm9vc3QoYm9vc3Q6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDEgfHwgdGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMikgeyAvLyBGUk9OVCBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250TGVmdFdoZWVsICE9IG51bGwpIHRoaXMubV9mcm9udExlZnRXaGVlbC5yb3RhdGlvbkJvb3N0ID0gYm9vc3Q7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5yb3RhdGlvbkJvb3N0ID0gYm9vc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMCB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIFJFQVIgT1IgQUxMIFdIRUVMIERSSVZFXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrTGVmdFdoZWVsICE9IG51bGwpIHRoaXMubV9iYWNrTGVmdFdoZWVsLnJvdGF0aW9uQm9vc3QgPSBib29zdDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwpIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5yb3RhdGlvbkJvb3N0ID0gYm9vc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50RnJpY3Rpb25TbGlwKGxlcnBTcGVlZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250TGVmdFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb250TGVmdEZyaWN0aW9uOiBudW1iZXIgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwO1xuICAgICAgICAgICAgICAgIGlmIChmcm9udExlZnRGcmljdGlvbiA8ICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uIC0gMC4xKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdEZyaWN0aW9uTGVycGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZyb250TGVmdEZyaWN0aW9uID0gQkFCWUxPTi5TY2FsYXIuTGVycChmcm9udExlZnRGcmljdGlvbiwgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiwgKHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25QZW5hbHR5ID09PSB0cnVlKSA/IChsZXJwU3BlZWQgKiAzLjApIDogbGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IGZyb250TGVmdEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25MZXJwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbC5mcmljdGlvblNsaXAgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBmcm9udFJpZ2h0RnJpY3Rpb246IG51bWJlciA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwO1xuICAgICAgICAgICAgICAgIGlmIChmcm9udFJpZ2h0RnJpY3Rpb24gPCAodGhpcy5tX2Zyb250UmlnaHRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gLSAwLjEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uTGVycGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZyb250UmlnaHRGcmljdGlvbiA9IEJBQllMT04uU2NhbGFyLkxlcnAoZnJvbnRSaWdodEZyaWN0aW9uLCB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiwgKHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uUGVuYWx0eSA9PT0gdHJ1ZSkgPyAobGVycFNwZWVkICogMy4wKSA6IGxlcnBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gZnJvbnRSaWdodEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRGcmljdGlvbkxlcnBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBiYWNrTGVmdEZyaWN0aW9uOiBudW1iZXIgPSB0aGlzLm1fYmFja0xlZnRXaGVlbC5mcmljdGlvblNsaXA7XG4gICAgICAgICAgICAgICAgaWYgKGJhY2tMZWZ0RnJpY3Rpb24gPCAodGhpcy5tX2JhY2tMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uIC0gMC4xKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0RnJpY3Rpb25MZXJwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYmFja0xlZnRGcmljdGlvbiA9IEJBQllMT04uU2NhbGFyLkxlcnAoYmFja0xlZnRGcmljdGlvbiwgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uLCAodGhpcy5yZWFyTGVmdEZyaWN0aW9uUGVuYWx0eSA9PT0gdHJ1ZSkgPyAobGVycFNwZWVkICogMy4wKSA6IGxlcnBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IGJhY2tMZWZ0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0RnJpY3Rpb25MZXJwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IHRoaXMubV9iYWNrTGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJhY2tSaWdodEZyaWN0aW9uOiBudW1iZXIgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwO1xuICAgICAgICAgICAgICAgIGlmIChiYWNrUmlnaHRGcmljdGlvbiA8ICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uIC0gMC4xKSkge1xuICAgICAgICAgICAgICAgICAgICBiYWNrUmlnaHRGcmljdGlvbiA9IEJBQllMT04uU2NhbGFyLkxlcnAoYmFja1JpZ2h0RnJpY3Rpb24sIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5kZWZhdWx0RnJpY3Rpb24sICh0aGlzLnJlYXJSaWdodEZyaWN0aW9uUGVuYWx0eSA9PT0gdHJ1ZSkgPyAobGVycFNwZWVkICogMy4wKSA6IGxlcnBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSBiYWNrUmlnaHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodEZyaWN0aW9uTGVycGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gdGhpcy5tX2JhY2tSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gV2hlZWwgQ29udGFjdCBSYXljYXN0IFN5c3RlbVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0Q29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0Q29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRDb250YWN0VGFnOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0VGFnOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0Q29udGFjdFRhZzogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRDb250YWN0VGFnOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3RQb2ludDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3RQb2ludDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0Q29udGFjdE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0RnJpY3Rpb25MZXJwaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodEZyaWN0aW9uTGVycGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0RnJpY3Rpb25MZXJwaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0RnJpY3Rpb25MZXJwaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0RnJpY3Rpb25QZW5hbHR5OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodEZyaWN0aW9uUGVuYWx0eTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0RnJpY3Rpb25QZW5hbHR5OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0RnJpY3Rpb25QZW5hbHR5OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc3RhcnRSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZW5kUmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGRvd25EaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLTEsIDApO1xuICAgICAgICBwcml2YXRlIGRvd25EaXN0YW5jZTogbnVtYmVyID0gMi4wO1xuXG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbENvbnRhY3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbENvbnRhY3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyTGVmdFdoZWVsQ29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMucmVhckxlZnRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyUmlnaHRXaGVlbENvbnRhY3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFdoZWVsQ29udGFjdFRhZygpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5mcm9udExlZnRDb250YWN0VGFnOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udFJpZ2h0V2hlZWxDb250YWN0VGFnKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0VGFnOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyTGVmdFdoZWVsQ29udGFjdFRhZygpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5yZWFyTGVmdENvbnRhY3RUYWc7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJSaWdodFdoZWVsQ29udGFjdFRhZygpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5yZWFyUmlnaHRDb250YWN0VGFnOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbENvbnRhY3RQb2ludCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbENvbnRhY3RQb2ludCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5mcm9udFJpZ2h0Q29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyTGVmdFdoZWVsQ29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyUmlnaHRXaGVlbENvbnRhY3RQb2ludCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFdoZWVsQ29udGFjdE5vcm1hbCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5mcm9udExlZnRDb250YWN0Tm9ybWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udFJpZ2h0V2hlZWxDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0Tm9ybWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyTGVmdFdoZWVsQ29udGFjdE5vcm1hbCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5yZWFyTGVmdENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJSaWdodFdoZWVsQ29udGFjdE5vcm1hbCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5yZWFyUmlnaHRDb250YWN0Tm9ybWFsOyB9XG5cbiAgICAgICAgcHJpdmF0ZSB3aGVlbENvbnRhY3RSYXljYXN0UmVzdWx0OiBCQUJZTE9OLlBoeXNpY3NSYXljYXN0UmVzdWx0ID0gbmV3IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQoKTtcbiAgICAgICAgcHJpdmF0ZSBjYXN0V2hlZWxDb250YWN0UmF5cygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keSA9PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgICAgIGxldCByYXljYXN0OiBCQUJZTE9OLlBoeXNpY3NSYXljYXN0UmVzdWx0ID0gdGhpcy53aGVlbENvbnRhY3RSYXljYXN0UmVzdWx0O1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZyA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFBvaW50LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3ROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3ROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBGcm9udCBMZWZ0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gRnJvbnQgTGVmdCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QpO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZyb250IExlZnQgRHJhdyBEZWJ1ZyBMaW5lc1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmZyb250TGVmdFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Gcm9udExlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBGcm9udCBSaWdodCBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gRnJvbnQgUmlnaHQgUGh5c2ljcyBSYXljYXN0XG4gICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbiwgdGhpcy5kb3duRGlzdGFuY2UpO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0KTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5ib2R5ICE9IG51bGwgJiYgcmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRnJvbnQgUmlnaHQgRHJhdyBEZWJ1ZyBMaW5lc1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5mcm9udFJpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkZyb250UmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBSZWFyIExlZnQgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gUmVhciBMZWZ0IFBoeXNpY3MgUmF5Y2FzdFxuICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24sIHRoaXMuZG93bkRpc3RhbmNlKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdCk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWFyIExlZnQgRHJhdyBEZWJ1ZyBMaW5lc1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhckxlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMucmVhckxlZnRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmVhckxlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBSZWFyIFJpZ2h0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gUmVhciBSaWdodCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QpO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlYXIgUmlnaHQgRHJhdyBEZWJ1ZyBMaW5lc1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SZWFyUmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJSaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBWZWhpY2xlQ2FtZXJhTWFuYWdlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFZlaGljbGVDYW1lcmFNYW5hZ2VyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBlbmFibGVDYW1lcmE6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGZvbGxvd1RhcmdldDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZm9sbG93SGVpZ2h0OiBudW1iZXIgPSAxLjI1O1xuICAgICAgICBwdWJsaWMgcGl0Y2hpbmdBbmdsZTogbnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgcm90YXRpb25EYW1waW5nOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBtaW5pbXVtRGlzdGFuY2U6IG51bWJlciA9IDQuMDtcbiAgICAgICAgcHVibGljIG1heGltdW1EaXN0YW5jZTogbnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgYnV0dG9uQ2FtZXJhOiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uWTtcbiAgICAgICAgcHVibGljIGtleWJvYXJkQ2FtZXJhOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlA7XG4gICAgICAgIHB1YmxpYyB0aWNrUmVtb3RlRW50aXRpZXM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwdWJsaWMgZmFzdE1vdGlvbkJsdXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGxvd1NwZWVkQmx1cnJpbmc6IG51bWJlciA9IDAuMDtcbiAgICAgICAgcHVibGljIGhpZ2hTcGVlZEJsdXJyaW5nOiBudW1iZXIgPSAyMC4wO1xuICAgICAgICBwdWJsaWMgbW90aW9uQmx1clNhbXBsZXM6IG51bWJlciA9IDMyO1xuICAgICAgICBwdWJsaWMgaXNPYmplY3RCYXNlZEJsdXI6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgZmFzdENhbWVyYVNoYWtlOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBsb3dTcGVlZFNoYWtpbmc6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIGhpZ2hTcGVlZFNoYWtpbmc6IG51bWJlciA9IDEuMDtcblxuICAgICAgICBwcml2YXRlIGZpcnN0UGVyc29uOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUGl2b3Q6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdGFyZ2V0RXVsZXJzOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVBpdm90T2Zmc2V0OiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIGF1dG9BdHRhY2hDYW1lcmE6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBtb3Rpb25CbHVyQXR0YWNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgbV9mcmVlQ2FtZXJhOiBCQUJZTE9OLkZyZWVDYW1lcmEgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9tb3Rpb25CbHVyOiBCQUJZTE9OLk1vdGlvbkJsdXJQb3N0UHJvY2VzcyA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NhbWVyYVRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1faW5wdXRDb250cm9sbGVyOiBQUk9KRUNULlZlaGljbGVJbnB1dENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zdGFuZGFyZENvbnRyb2xsZXI6IFBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fZmlyc3RQZXJzb25PZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAxLjE1LCAwLjE1KTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7IHRoaXMuYXdha2VDYW1lcmFNYW5hZ2VyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyB0aGlzLmluaXRDYW1lcmFNYW5hZ2VyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7IHRoaXMubGF0ZVVwZGF0ZUNhbWVyYU1hbmFnZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95Q2FtZXJhTWFuYWdlcigpOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlQ2FtZXJhTWFuYWdlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlQ2FtZXJhID0gdGhpcy5nZXRQcm9wZXJ0eShcImVuYWJsZUNhbWVyYVwiLCB0aGlzLmVuYWJsZUNhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLmZvbGxvd1RhcmdldCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmb2xsb3dUYXJnZXRcIiwgdGhpcy5mb2xsb3dUYXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5mb2xsb3dIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwiZm9sbG93SGVpZ2h0XCIsIHRoaXMuZm9sbG93SGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucGl0Y2hpbmdBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwaXRjaGluZ0FuZ2xlXCIsIHRoaXMucGl0Y2hpbmdBbmdsZSk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uRGFtcGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb3RhdGlvbkRhbXBpbmdcIiwgdGhpcy5yb3RhdGlvbkRhbXBpbmcpO1xuICAgICAgICAgICAgdGhpcy5taW5pbXVtRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWluaW11bURpc3RhbmNlXCIsIHRoaXMubWluaW11bURpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMubWF4aW11bURpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heGltdW1EaXN0YW5jZVwiLCB0aGlzLm1heGltdW1EaXN0YW5jZSk7XG4gICAgICAgICAgICB0aGlzLmF1dG9BdHRhY2hDYW1lcmEgPSB0aGlzLmdldFByb3BlcnR5KFwiYXR0YWNoQ2FtZXJhXCIsIHRoaXMuYXV0b0F0dGFjaENhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLnRpY2tSZW1vdGVFbnRpdGllcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0aWNrUmVtb3RlRW50aXRpZXNcIiwgdGhpcy50aWNrUmVtb3RlRW50aXRpZXMpO1xuICAgICAgICAgICAgdGhpcy5mYXN0TW90aW9uQmx1ciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmYXN0TW90aW9uQmx1clwiLCB0aGlzLmZhc3RNb3Rpb25CbHVyKTtcbiAgICAgICAgICAgIHRoaXMubG93U3BlZWRCbHVycmluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsb3dTcGVlZEJsdXJyaW5nXCIsIHRoaXMubG93U3BlZWRCbHVycmluZyk7XG4gICAgICAgICAgICB0aGlzLmhpZ2hTcGVlZEJsdXJyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImhpZ2hTcGVlZEJsdXJyaW5nXCIsIHRoaXMuaGlnaFNwZWVkQmx1cnJpbmcpO1xuICAgICAgICAgICAgdGhpcy5tb3Rpb25CbHVyU2FtcGxlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtb3Rpb25CbHVyU2FtcGxlc1wiLCB0aGlzLm1vdGlvbkJsdXJTYW1wbGVzKTtcbiAgICAgICAgICAgIHRoaXMuaXNPYmplY3RCYXNlZEJsdXIgPSB0aGlzLmdldFByb3BlcnR5KFwiaXNPYmplY3RCYXNlZEJsdXJcIiwgdGhpcy5pc09iamVjdEJhc2VkQmx1cik7XG4gICAgICAgICAgICB0aGlzLmZhc3RDYW1lcmFTaGFrZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmYXN0Q2FtZXJhU2hha2VcIiwgdGhpcy5mYXN0Q2FtZXJhU2hha2UpO1xuICAgICAgICAgICAgdGhpcy5sb3dTcGVlZFNoYWtpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwibG93U3BlZWRTaGFraW5nXCIsIHRoaXMubG93U3BlZWRTaGFraW5nKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaFNwZWVkU2hha2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoU3BlZWRTaGFraW5nXCIsIHRoaXMuaGlnaFNwZWVkU2hha2luZyk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGVyc29uT2Zmc2V0OiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmaXJzdFBlcnNvbk9mZnNldFwiKTtcbiAgICAgICAgICAgIGlmIChmaXJzdFBlcnNvbk9mZnNldCAhPSBudWxsKSB0aGlzLm1fZmlyc3RQZXJzb25PZmZzZXQgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhmaXJzdFBlcnNvbk9mZnNldCk7XG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGlvbkRhbXBpbmcgPD0gMCkgdGhpcy5yb3RhdGlvbkRhbXBpbmcgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGluaXRDYW1lcmFNYW5hZ2VyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ29udHJvbGxlciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICB0aGlzLm1faW5wdXRDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQoXCJQUk9KRUNULlZlaGljbGVJbnB1dENvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2lucHV0Q29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3ModGhpcy5rZXlib2FyZENhbWVyYSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLnBsYXllck51bWJlciA9PT0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVQbGF5ZXJDYW1lcmEoKTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbkdhbWVwYWRCdXR0b25QcmVzcyh0aGlzLmJ1dHRvbkNhbWVyYSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVBsYXllckNhbWVyYSgpO1xuICAgICAgICAgICAgICAgIH0vKiwgdGhpcy5wbGF5ZXJOdW1iZXIqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGxhdGVVcGRhdGVDYW1lcmFNYW5hZ2VyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0gPT0gbnVsbCAmJiB0aGlzLmF1dG9BdHRhY2hDYW1lcmEgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2lucHV0Q29udHJvbGxlciAhPSBudWxsKSB0aGlzLmF0dGFjaFBsYXllckNhbWVyYSh0aGlzLm1faW5wdXRDb250cm9sbGVyLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5maXJzdFBlcnNvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RQZXJzb25DYW1lcmEoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aGlyZFBlcnNvbkNhbWVyYSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBNb3Rpb24gQmx1clxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm1fZnJlZUNhbWVyYSAhPSBudWxsICYmIHRoaXMubV9tb3Rpb25CbHVyICE9IG51bGwgJiYgdGhpcy5tX3N0YW5kYXJkQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9zdGFuZGFyZENvbnRyb2xsZXIuaXNCb29zdGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdGlvbkJsdXJBdHRhY2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcmVlQ2FtZXJhLmF0dGFjaFBvc3RQcm9jZXNzKHRoaXMubV9tb3Rpb25CbHVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW90aW9uQmx1ckF0dGFjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbW90aW9uQmx1ci5tb3Rpb25TdHJlbmd0aCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5sb3dTcGVlZEJsdXJyaW5nLCB0aGlzLmhpZ2hTcGVlZEJsdXJyaW5nLCB0aGlzLm1fc3RhbmRhcmRDb250cm9sbGVyLmdldEdyYWRpZW50U3BlZWQoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX21vdGlvbkJsdXIubW90aW9uU3RyZW5ndGggPSB0aGlzLmxvd1NwZWVkQmx1cnJpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdGlvbkJsdXJBdHRhY2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2ZyZWVDYW1lcmEuZGV0YWNoUG9zdFByb2Nlc3ModGhpcy5tX21vdGlvbkJsdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3Rpb25CbHVyQXR0YWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveUNhbWVyYU1hbmFnZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUGxheWVyIENhbWVyYSBGdW5jdGlvbnMgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwdWJsaWMgYXR0YWNoUGxheWVyQ2FtZXJhKHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckNhbWVyYTogbnVtYmVyID0gKHBsYXllciA8PSAwIHx8IHBsYXllciA+IDQpID8gMSA6IHBsYXllcjtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJlZUNhbWVyYSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRNYWluQ2FtZXJhKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0gPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uR2V0Q2FtZXJhVHJhbnNmb3JtKHRoaXMuc2NlbmUsIHBsYXllckNhbWVyYSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0gIT0gbnVsbCAmJiB0aGlzLmZvbGxvd1RhcmdldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQaXZvdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90ID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQ2FtZXJhUGl2b3RcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IGNvbnN0IHRlc3RQaXZvdDpCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2guQ3JlYXRlQm94KFwiVGVzdFBpdm90XCIsIDAuMjUsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IHRlc3RQaXZvdC5wYXJlbnQgPSB0aGlzLmNhbWVyYVBpdm90O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IHRlc3RQaXZvdC5wb3NpdGlvbi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IHRlc3RQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ucGFyZW50ID0gdGhpcy5jYW1lcmFQaXZvdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9tb3Rpb25CbHVyID09IG51bGwgJiYgdGhpcy5tX2ZyZWVDYW1lcmEgIT0gbnVsbCAmJiB0aGlzLmZhc3RNb3Rpb25CbHVyID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2UgTW90aW9uQmx1clBvc3RQcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgZWZmZWN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHNjZW5lIFRoZSBzY2VuZSBjb250YWluaW5nIHRoZSBvYmplY3RzIHRvIGJsdXIgYWNjb3JkaW5nIHRvIHRoZWlyIHZlbG9jaXR5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIHJlcXVpcmVkIHdpZHRoL2hlaWdodCByYXRpbyB0byBkb3duc2l6ZSB0byBiZWZvcmUgY29tcHV0aW5nIHRoZSByZW5kZXIgcGFzcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSBjYW1lcmEgVGhlIGNhbWVyYSB0byBhcHBseSB0aGUgcmVuZGVyIHBhc3MgdG8uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gc2FtcGxpbmdNb2RlIFRoZSBzYW1wbGluZyBtb2RlIHRvIGJlIHVzZWQgd2hlbiBjb21wdXRpbmcgdGhlIHBhc3MuIChkZWZhdWx0OiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIGVuZ2luZSBUaGUgZW5naW5lIHdoaWNoIHRoZSBwb3N0IHByb2Nlc3Mgd2lsbCBiZSBhcHBsaWVkLiAoZGVmYXVsdDogY3VycmVudCBlbmdpbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gcmV1c2FibGUgSWYgdGhlIHBvc3QgcHJvY2VzcyBjYW4gYmUgcmV1c2VkIG9uIHRoZSBzYW1lIGZyYW1lLiAoZGVmYXVsdDogZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gdGV4dHVyZVR5cGUgVHlwZSBvZiB0ZXh0dXJlcyB1c2VkIHdoZW4gcGVyZm9ybWluZyB0aGUgcG9zdCBwcm9jZXNzLiAoZGVmYXVsdDogMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSBibG9ja0NvbXBpbGF0aW9uIElmIGNvbXBpbGF0aW9uIG9mIHRoZSBzaGFkZXIgc2hvdWxkIG5vdCBiZSBkb25lIGluIHRoZSBjb25zdHJ1Y3Rvci4gVGhlIHVwZGF0ZUVmZmVjdCBtZXRob2QgY2FuIGJlIHVzZWQgdG8gY29tcGlsZSB0aGUgc2hhZGVyIGF0IGEgbGF0ZXIgdGltZS4gKGRlZmF1bHQ6IHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZm9yY2VHZW9tZXRyeUJ1ZmZlciBJZiB0aGlzIHBvc3QgcHJvY2VzcyBzaG91bGQgdXNlIGdlb21ldHJ5IGJ1ZmZlciBpbnN0ZWFkIG9mIHByZXBhc3MgKGRlZmF1bHQ6IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbW90aW9uQmx1ciA9IG5ldyBCQUJZTE9OLk1vdGlvbkJsdXJQb3N0UHJvY2VzcyhcIkZhc3RNb3Rpb25CbHVyXCIsIHRoaXMuc2NlbmUsIDEuMCwgdGhpcy5tX2ZyZWVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fbW90aW9uQmx1ciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2ZyZWVDYW1lcmEuZGV0YWNoUG9zdFByb2Nlc3ModGhpcy5tX21vdGlvbkJsdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9tb3Rpb25CbHVyLmlzT2JqZWN0QmFzZWQgPSB0aGlzLmlzT2JqZWN0QmFzZWRCbHVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9tb3Rpb25CbHVyLm1vdGlvblN0cmVuZ3RoID0gdGhpcy5sb3dTcGVlZEJsdXJyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9tb3Rpb25CbHVyLm1vdGlvbkJsdXJTYW1wbGVzID0gdGhpcy5tb3Rpb25CbHVyU2FtcGxlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdGlvbkJsdXJBdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHRvZ2dsZVBsYXllckNhbWVyYSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZmlyc3RQZXJzb24gPSAhdGhpcy5maXJzdFBlcnNvbjtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZmlyc3RQZXJzb25DYW1lcmEoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVDYW1lcmEgPT09IHRydWUgJiYgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybSAhPSBudWxsICYmIHRoaXMubV9zdGFuZGFyZENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvbGxvd1RhcmdldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBCb29tXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLm1fZmlyc3RQZXJzb25PZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Gcm9tRXVsZXJUb1JlZigwLCAwLCAwLCB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtLmxvb2tBdCh0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHByaXZhdGUgc21vb3RoRGVsdGFUaW1lOm51bWJlciA9IDAuMDtcbiAgICAgICAgcHVibGljIHRoaXJkUGVyc29uQ2FtZXJhKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlQ2FtZXJhID09PSB0cnVlICYmIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0gIT0gbnVsbCAmJiB0aGlzLm1fc3RhbmRhcmRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mb2xsb3dUYXJnZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhUGl2b3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFUaW1lOiBudW1iZXIgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gS0VFUCBGT1IgUkVGRVJFQ05FXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogY29uc3QgZGVsdGFGYWN0b3I6bnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlN5c3RlbS5TbW9vdGhEZWx0YUZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiB0aGlzLnNtb290aERlbHRhVGltZSA9IGRlbHRhRmFjdG9yICogZGVsdGFUaW1lICsgKDEgLSBkZWx0YUZhY3RvcikgKiB0aGlzLnNtb290aERlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiBjb25zdCB0dXJuRGFtcGVuZXI6bnVtYmVyID0gKHRoaXMuc21vb3RoRGVsdGFUaW1lICogdGhpcy5yb3RhdGlvbkRhbXBpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQuc2V0KDAsIHRoaXMuZm9sbG93SGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmNhbWVyYVBpdm90LnBvc2l0aW9uLCB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuRGFtcGVuZXI6IG51bWJlciA9IChkZWx0YVRpbWUgKiB0aGlzLnJvdGF0aW9uRGFtcGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMudGFyZ2V0RXVsZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigodGhpcy50YXJnZXRFdWxlcnMueCArIEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMucGl0Y2hpbmdBbmdsZSkpLCB0aGlzLnRhcmdldEV1bGVycy55LCAwLCB0aGlzLmNhbWVyYVJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uLCB0aGlzLmNhbWVyYVJvdGF0aW9uLCB0dXJuRGFtcGVuZXIsIHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIEJvb21cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW1lcmFCb29tRGlzdGFuY2U6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5taW5pbXVtRGlzdGFuY2UsIHRoaXMubWF4aW11bURpc3RhbmNlLCB0aGlzLm1fc3RhbmRhcmRDb250cm9sbGVyLmdldEdyYWRpZW50U3BlZWQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtLnBvc2l0aW9uLnNldCgwLCAwLCAtY2FtZXJhQm9vbURpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ubG9va0F0KHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICAqIEBjbGFzcyBWZWhpY2xlSW5wdXRDb250cm9sbGVyXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBJU3RlZXJpbmdXaGVlbERldmljZSB7XG4gICAgICAgIGRldmljZU5hbWU6IHN0cmluZztcbiAgICAgICAgZm9yd2FyZEJ1dHRvbjogbnVtYmVyO1xuICAgICAgICBiYWNrd2FyZEJ1dHRvbjogbnVtYmVyO1xuICAgICAgICBsZWZ0SGFuZEJyYWtlOiBudW1iZXI7XG4gICAgICAgIHJpZ2h0SGFuZEJyYWtlOiBudW1iZXI7XG4gICAgICAgIGxlZnREb251dEJvb3N0OiBudW1iZXI7XG4gICAgICAgIHJpZ2h0RG9udXRCb29zdDogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgVmVoaWNsZUlucHV0Q29udHJvbGxlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIHBsYXllckRlbHRhWDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJEZWx0YVk6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTW91c2VYOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdXNlWTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhY2tlcm1hblJhZGl1czogbnVtYmVyID0gMC44NTtcbiAgICAgICAgcHJpdmF0ZSByZWNvdmVyeVJhZGl1czogbnVtYmVyID0gMC4yNTtcbiAgICAgICAgcHJpdmF0ZSB3YXlwb2ludFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHdheXBvaW50Q291bnQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgd2F5cG9pbnRJbmRleDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBub01vdmVtZW50VGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByZXZlcnNlRml4TW9kZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlY292ZXJ5Rml4TW9kZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIG5leHRUYXJnZXRTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwcmV2VGFyZ2V0U3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgdmVoaWNsZVJlc2V0Q2hlY2s6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcmFuZG9tU2tpbGxGYWN0b3I6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc2hvd0NoYXNlUmFiYml0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc2hvd1NlbnNvckxpbmVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc3RlZXJpbmdXaGVlbE1vZGU6IG51bWJlciA9IC0xO1xuICAgICAgICBwcml2YXRlIHJhYmJpdFRyYWNrZXJMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhYmJpdFRyYWNrZXJDb2xvcjogQkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMSwgMSwgMSk7XG4gICAgICAgIHByaXZhdGUgZ3JlZW5UcmFja2luZ0NvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLCAxLCAwKTtcbiAgICAgICAgcHJpdmF0ZSByZWRUcmFja2luZ0NvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsb2NhbFRhcmdldFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGF2b2lkUG9zaXRpb25PZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgYXZvaWRhbmNlTGVycDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhdm9pZGFuY2VUaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhdm9pZGFuY2VWYWx1ZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByYW5kb21UdXJuaW5nOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJhbmRvbUJvb3N0aW5nOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJhbmRvbURpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RDaGVja3BvaW50OiBudW1iZXIgPSAtMTtcblxuICAgICAgICBwcml2YXRlIG1haW5DZW50ZXJTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG1haW5SaWdodFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbWFpbkxlZnRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGFuZ2xlUmlnaHRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGFuZ2xlTGVmdFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc2lkZVJpZ2h0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzaWRlTGVmdFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrTGVmdFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc2lkZXdheXNPZmZzZXRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgYmFja0J1bXBlckVkZ2VWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgc2Vuc29yU3RhcnRQb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgc2Vuc29yUG9pbnRQb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgc2Vuc29yQW5nbGVQb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgcnNpZGVTdGFydFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSByc2lkZVBvaW50UG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIGxzaWRlU3RhcnRQb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgbHNpZGVQb2ludFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSB0ZW1wU2NhbGVWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgcmJhY2tTdGFydFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSByYmFja1BvaW50UG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIGxiYWNrU3RhcnRQb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgbGJhY2tQb2ludFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSB0cmFja1ZlaGljbGVQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSB0cmFja1JhYmJpdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuXG4gICAgICAgIC8vIFB1YmxpYyBQcm9wZXJ0aWVzXG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJEZWx0YVgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMucGxheWVyRGVsdGFYIH07XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJEZWx0YVkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMucGxheWVyRGVsdGFZIH07XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJNb3VzZVgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMucGxheWVyTW91c2VYIH07XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJNb3VzZVkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMucGxheWVyTW91c2VZIH07XG4gICAgICAgIHB1YmxpYyBnZXRXYXlwb2ludEluZGV4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLndheXBvaW50SW5kZXggfTtcbiAgICAgICAgcHVibGljIGdldENoYXNlUmFiYml0TWVzaCgpOiBCQUJZTE9OLk1lc2ggeyByZXR1cm4gdGhpcy5tX2NoYXNlUmFiYml0TWVzaCB9O1xuICAgICAgICBwdWJsaWMgcmVzZXRDaGFzZVJhYmJpdE1lc2goKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2hhc2VQb2ludE1lc2goKTogQkFCWUxPTi5NZXNoIHsgcmV0dXJuIHRoaXMubV9jaGFzZVBvaW50TWVzaCB9O1xuICAgICAgICBwdWJsaWMgcmVzZXRDaGFzZVBvaW50TWVzaCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VQb2ludE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBlbmFibGVJbnB1dDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcmVzZXRUaW1pbmc6IG51bWJlciA9IDMuMDtcbiAgICAgICAgcHVibGljIHBsYXllck51bWJlcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lO1xuXG4gICAgICAgIHB1YmxpYyBwZWRlbEZvcndhcmQ6IG51bWJlciA9IDc7IC8vIEdlbmVyaWMgQnV0dG9uIDcgKEZvb3QgUGVkYWwpXG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyRm9yd2FyZDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0Llhib3gzNjBUcmlnZ2VyLlJpZ2h0O1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRGb3Jhd3JkOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5Llc7XG4gICAgICAgIHB1YmxpYyBhdXhLZXlib2FyZEZvcmF3cmQ6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuVXBBcnJvdztcblxuICAgICAgICBwdWJsaWMgcGVkYWxCYWNrd2FyZDogbnVtYmVyID0gNjsgLy8gR2VuZXJpYyBCdXR0b24gNiAoRm9vdCBQZWRhbClcbiAgICAgICAgcHVibGljIHRyaWdnZXJCYWNrd2FyZHM6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5YYm94MzYwVHJpZ2dlci5MZWZ0O1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRCYWNrd2FyZHM6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuUztcbiAgICAgICAgcHVibGljIGF1eEtleWJvYXJkQmFja3dhcmRzOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LkRvd25BcnJvdztcblxuICAgICAgICBwdWJsaWMgcGVkYWxCb29zdGVyOiBudW1iZXIgPSAxOyAvLyBHZW5lcmljIEJ1dHRvbiAxIChTcGVlZCBCb29zdGVyKVxuICAgICAgICBwdWJsaWMga2V5Ym9hcmRCb29zdGVyOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LkN0cmw7XG4gICAgICAgIHB1YmxpYyBidXR0b25Cb29zdGVyOiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uQjtcblxuICAgICAgICBwdWJsaWMgYnV0dG9uSGFuZGJyYWtlOiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uWDtcbiAgICAgICAgcHVibGljIGtleWJvYXJkSGFuZGJyYWtlOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlNwYWNlQmFyO1xuICAgICAgICBwdWJsaWMgbGVmdFdoZWVsSGFuZGJyYWtlOiBudW1iZXIgPSA0OyAvLyBHZW5lcmljIEJ1dHRvbiA0IChIYW5kIFBhZGRsZSlcbiAgICAgICAgcHVibGljIHJpZ2h0V2hlZWxIYW5kYnJha2U6IG51bWJlciA9IDU7IC8vIEdlbmVyaWMgQnV0dG9uIDUgKEhhbmQgUGFkZGxlKVxuXG4gICAgICAgIHB1YmxpYyBrZXlib2FyZERvbnV0OiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlNoaWZ0O1xuICAgICAgICBwdWJsaWMgbGVmdEJ1dHRvbkRvbnV0OiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uTEI7XG4gICAgICAgIHB1YmxpYyByaWdodEJ1dHRvbkRvbnV0OiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uUkI7XG4gICAgICAgIHB1YmxpYyBsZWZ0V2hlZWxEb251dDogbnVtYmVyID0gMTA7IC8vIEdlbmVyaWMgQnV0dG9uIDEwIChXaGVlbCBCdXR0b24pXG4gICAgICAgIHB1YmxpYyByaWdodFdoZWVsRG9udXQ6IG51bWJlciA9IDExOyAvLyBHZW5lcmljIEJ1dHRvbiAxMSAoV2hlZWwgQnV0dG9uKVxuXG4gICAgICAgIC8vIEF1dG8gUGlsb3QgUHJvcGVydGllc1xuICAgICAgICBwdWJsaWMgcmFjZUxpbmVOb2RlOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbWluTG9va0FoZWFkOiBudW1iZXIgPSA1O1xuICAgICAgICBwdWJsaWMgbWF4TG9va0FoZWFkOiBudW1iZXIgPSA1MDtcbiAgICAgICAgcHVibGljIGRyaXZlclNraWxsTGV2ZWw6IG51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBjaGFzZVJhYmJpdFNwZWVkOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyB0aHJvdHRsZVNlbnNpdGl2aXR5OiBudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgc3RlZXJpbmdTZW5zaXRpdml0eTogbnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGJyYWtpbmdTZW5zaXRpdml0eTogbnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGJyYWtpbmdUdXJuQW5nbGU6IG51bWJlciA9IDE1O1xuICAgICAgICBwdWJsaWMgYnJha2luZ1NwZWVkTGltaXQ6IG51bWJlciA9IDkwO1xuICAgICAgICBwdWJsaWMgc2tpZGRpbmdTcGVlZExpbWl0OiBudW1iZXIgPSAxMDA7XG4gICAgICAgIHB1YmxpYyBsaW5lYXJEYW1wZW5Gb3JjZTogbnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgZHJpdmVTcGVlZE11bHRpcGxpZXI6IG51bWJlciA9IDUuMDtcbiAgICAgICAgcHVibGljIGRyaXZlTGluZURpc3RhbmNlOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyByZXNldE1vdmluZ1RpbWVvdXQ6IG51bWJlciA9IDM7XG4gICAgICAgIHB1YmxpYyByZXZlcnNlVGhyb3R0bGVUaW1lOiBudW1iZXIgPSAzO1xuICAgICAgICBwdWJsaWMgbWF4UmFjZVRyYWNrU3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyB0cmFja01hbmFnZXJJZGVudGl0eTogc3RyaW5nID0gXCJUcmFja01hbmFnZXJcIjtcblxuICAgICAgICAvLyBBdXRvIFBpbG90IEF2b2lkIFNlbnNvcnNcbiAgICAgICAgcHVibGljIHZlaGljbGVUYWc6IHN0cmluZyA9IFwiVmVoaWNsZVwiO1xuICAgICAgICBwdWJsaWMgb2JzdGFjbGVUYWc6IHN0cmluZyA9IFwiT2JzdGFjbGVcIjtcbiAgICAgICAgcHVibGljIHNlbnNvckxlbmd0aDogbnVtYmVyID0gODtcbiAgICAgICAgcHVibGljIHNwYWNlcldpZHRoczogbnVtYmVyID0gMC44NTtcbiAgICAgICAgcHVibGljIGFuZ2xlRmFjdG9yczogbnVtYmVyID0gMS41O1xuICAgICAgICBwdWJsaWMgaW5pdGlhbE9mZnNldFg6IG51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBpbml0aWFsT2Zmc2V0WTogbnVtYmVyID0gMC41O1xuICAgICAgICBwdWJsaWMgaW5pdGlhbE9mZnNldFo6IG51bWJlciA9IDI7XG4gICAgICAgIHB1YmxpYyBzaWRld2F5c0xlbmd0aDogbnVtYmVyID0gMS41O1xuICAgICAgICBwdWJsaWMgc2lkZXdheXNPZmZzZXQ6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIGJhY2tCdW1wZXJFZGdlOiBudW1iZXIgPSAyLjU7XG4gICAgICAgIHB1YmxpYyBwb3dlckJvb3N0aW5nOiBudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyB3b25kZXJEaXN0YW5jZTogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgYXZvaWRhbmNlRmFjdG9yOiBudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBhdm9pZGFuY2VTcGVlZDogbnVtYmVyID0gMy4wO1xuICAgICAgICBwdWJsaWMgYXZvaWRhbmNlVGltZW91dDogbnVtYmVyID0gMy4wO1xuICAgICAgICBwdWJsaWMgYXZvaWRhbmNlRGlzdGFuY2U6IG51bWJlciA9IDIuMDtcblxuICAgICAgICAvLyBBdXRvIFBpbG90IFJldmVyc2UgT3B0aW9uc1xuICAgICAgICBwcml2YXRlIHJldmVyc2luZ0ZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZXZlcnNpbmdUaW1lOiBudW1iZXIgPSAwLjA7XG4gICAgICAgIHByaXZhdGUgcmV2ZXJzaW5nV2FpdDogbnVtYmVyID0gMi4wO1xuICAgICAgICBwcml2YXRlIHJldmVyc2luZ0ZvcjogbnVtYmVyID0gMS41O1xuXG4gICAgICAgIC8vIFZlaGljbGUgRHJpdmUgUHJvcGVydGllc1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaGFzZVBvaW50TWVzaDogQkFCWUxPTi5NZXNoID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fY2hhc2VSYWJiaXRNZXNoOiBCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaXJjdWl0SW50ZXJmYWNlczogUFJPSkVDVC5JVHJhY2tOb2RlW10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaXJjdWl0UmFjZUxpbmVfMTogUFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaXJjdWl0UmFjZUxpbmVfMjogUFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaXJjdWl0UmFjZUxpbmVfMzogUFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaXJjdWl0UmFjZUxpbmVfNDogUFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaXJjdWl0UmFjZUxpbmVfNTogUFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9yaWdpZGJvZHlQaHlzaWNzOiBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcyA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NoZWNrcG9pbnRNYW5hZ2VyOiBQUk9KRUNULkNoZWNrcG9pbnRNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fc3RhbmRhcmRDYXJDb250cm9sbGVyOiBQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlciA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlVmVoaWNsZUNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuaW5pdFZlaGljbGVDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgdGhpcy51cGRhdGVWZWhpY2xlQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lWZWhpY2xlQ29udHJvbGxlcigpOyB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUHJvdGVjdGVkIENoYXJhY3RlciBNb3ZlbWVudCBTdGF0ZSBGdW5jdGlvbnMgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlVmVoaWNsZUNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUlucHV0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImVuYWJsZUlucHV0XCIsIHRoaXMuZW5hYmxlSW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5yZXNldFRpbWluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZXNldFRpbWluZ1wiLCB0aGlzLnJlc2V0VGltaW5nKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyTnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXllck51bWJlclwiLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICB0aGlzLmFja2VybWFuUmFkaXVzID0gdGhpcy5nZXRQcm9wZXJ0eShcImFja2VybWFuUmFkaXVzXCIsIHRoaXMuYWNrZXJtYW5SYWRpdXMpO1xuICAgICAgICAgICAgdGhpcy5yZWNvdmVyeVJhZGl1cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWNvdmVyeVJhZGl1c1wiLCB0aGlzLnJlY292ZXJ5UmFkaXVzKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoYXNlUmFiYml0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNob3dDaGFzZVJhYmJpdFwiLCB0aGlzLnNob3dDaGFzZVJhYmJpdCk7XG4gICAgICAgICAgICB0aGlzLnNob3dTZW5zb3JMaW5lcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaG93U2Vuc29yTGluZXNcIiwgdGhpcy5zaG93U2Vuc29yTGluZXMpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubWluTG9va0FoZWFkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pbkxvb2tBaGVhZFwiLCB0aGlzLm1pbkxvb2tBaGVhZCk7XG4gICAgICAgICAgICB0aGlzLm1heExvb2tBaGVhZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhMb29rQWhlYWRcIiwgdGhpcy5tYXhMb29rQWhlYWQpO1xuICAgICAgICAgICAgdGhpcy5kcml2ZXJTa2lsbExldmVsID0gdGhpcy5nZXRQcm9wZXJ0eShcImRyaXZlclNraWxsTGV2ZWxcIiwgdGhpcy5kcml2ZXJTa2lsbExldmVsKTtcbiAgICAgICAgICAgIHRoaXMudGhyb3R0bGVTZW5zaXRpdml0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0aHJvdHRsZVNlbnNpdGl2aXR5XCIsIHRoaXMudGhyb3R0bGVTZW5zaXRpdml0eSk7XG4gICAgICAgICAgICB0aGlzLnN0ZWVyaW5nU2Vuc2l0aXZpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwic3RlZXJpbmdTZW5zaXRpdml0eVwiLCB0aGlzLnN0ZWVyaW5nU2Vuc2l0aXZpdHkpO1xuICAgICAgICAgICAgdGhpcy5icmFraW5nU2Vuc2l0aXZpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwiYnJha2luZ1NlbnNpdGl2aXR5XCIsIHRoaXMuYnJha2luZ1NlbnNpdGl2aXR5KTtcbiAgICAgICAgICAgIHRoaXMuYnJha2luZ1R1cm5BbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJicmFraW5nVHVybkFuZ2xlXCIsIHRoaXMuYnJha2luZ1R1cm5BbmdsZSk7XG4gICAgICAgICAgICB0aGlzLmJyYWtpbmdTcGVlZExpbWl0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJyYWtpbmdTcGVlZExpbWl0XCIsIHRoaXMuYnJha2luZ1NwZWVkTGltaXQpO1xuICAgICAgICAgICAgdGhpcy5za2lkZGluZ1NwZWVkTGltaXQgPSB0aGlzLmdldFByb3BlcnR5KFwic2tpZGRpbmdTcGVlZExpbWl0XCIsIHRoaXMuc2tpZGRpbmdTcGVlZExpbWl0KTtcbiAgICAgICAgICAgIHRoaXMubGluZWFyRGFtcGVuRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibGluZWFyRGFtcGVuRm9yY2VcIiwgdGhpcy5saW5lYXJEYW1wZW5Gb3JjZSk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0TW92aW5nVGltZW91dCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZXNldE1vdmluZ1RpbWVvdXRcIiwgdGhpcy5yZXNldE1vdmluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5yZXZlcnNlVGhyb3R0bGVUaW1lID0gdGhpcy5nZXRQcm9wZXJ0eShcInJldmVyc2VUaHJvdHRsZVRpbWVcIiwgdGhpcy5yZXZlcnNlVGhyb3R0bGVUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuZHJpdmVTcGVlZE11bHRpcGxpZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiZHJpdmVTcGVlZE11bHRpcGxpZXJcIiwgdGhpcy5kcml2ZVNwZWVkTXVsdGlwbGllcik7XG4gICAgICAgICAgICB0aGlzLmRyaXZlTGluZURpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImRyaXZlTGluZURpc3RhbmNlXCIsIHRoaXMuZHJpdmVMaW5lRGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5tYXhSYWNlVHJhY2tTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhSYWNlVHJhY2tTcGVlZFwiLCB0aGlzLm1heFJhY2VUcmFja1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2tNYW5hZ2VySWRlbnRpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwidHJhY2tNYW5hZ2VySWRlbnRpdHlcIiwgdGhpcy50cmFja01hbmFnZXJJZGVudGl0eSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy52ZWhpY2xlVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcInZlaGljbGVUYWdcIiwgdGhpcy52ZWhpY2xlVGFnKTtcbiAgICAgICAgICAgIHRoaXMub2JzdGFjbGVUYWcgPSB0aGlzLmdldFByb3BlcnR5KFwib2JzdGFjbGVUYWdcIiwgdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICB0aGlzLnNlbnNvckxlbmd0aCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzZW5zb3JMZW5ndGhcIiwgdGhpcy5zZW5zb3JMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zcGFjZXJXaWR0aHMgPSB0aGlzLmdldFByb3BlcnR5KFwic3BhY2VyV2lkdGhzXCIsIHRoaXMuc3BhY2VyV2lkdGhzKTtcbiAgICAgICAgICAgIHRoaXMuYW5nbGVGYWN0b3JzID0gdGhpcy5nZXRQcm9wZXJ0eShcImFuZ2xlRmFjdG9yc1wiLCB0aGlzLmFuZ2xlRmFjdG9ycyk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxPZmZzZXRYID0gdGhpcy5nZXRQcm9wZXJ0eShcImluaXRpYWxPZmZzZXRYXCIsIHRoaXMuaW5pdGlhbE9mZnNldFgpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsT2Zmc2V0WSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpbml0aWFsT2Zmc2V0WVwiLCB0aGlzLmluaXRpYWxPZmZzZXRZKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbE9mZnNldFogPSB0aGlzLmdldFByb3BlcnR5KFwiaW5pdGlhbE9mZnNldFpcIiwgdGhpcy5pbml0aWFsT2Zmc2V0Wik7XG4gICAgICAgICAgICB0aGlzLnNpZGV3YXlzTGVuZ3RoID0gdGhpcy5nZXRQcm9wZXJ0eShcInNpZGV3YXlzTGVuZ3RoXCIsIHRoaXMuc2lkZXdheXNMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zaWRld2F5c09mZnNldCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaWRld2F5c09mZnNldFwiLCB0aGlzLnNpZGV3YXlzT2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuYmFja0J1bXBlckVkZ2UgPSB0aGlzLmdldFByb3BlcnR5KFwiYmFja0J1bXBlckVkZ2VcIiwgdGhpcy5iYWNrQnVtcGVyRWRnZSk7XG4gICAgICAgICAgICB0aGlzLnBvd2VyQm9vc3RpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwicG93ZXJCb29zdGluZ1wiLCB0aGlzLnBvd2VyQm9vc3RpbmcpO1xuICAgICAgICAgICAgdGhpcy53b25kZXJEaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3b25kZXJEaXN0YW5jZVwiLCB0aGlzLndvbmRlckRpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImF2b2lkYW5jZUZhY3RvclwiLCB0aGlzLmF2b2lkYW5jZUZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLmF2b2lkYW5jZVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImF2b2lkYW5jZVNwZWVkXCIsIHRoaXMuYXZvaWRhbmNlU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5hdm9pZGFuY2VUaW1lb3V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImF2b2lkYW5jZVRpbWVvdXRcIiwgdGhpcy5hdm9pZGFuY2VUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZvaWRhbmNlRGlzdGFuY2VcIiwgdGhpcy5hdm9pZGFuY2VEaXN0YW5jZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuYWNrZXJtYW5SYWRpdXMgPD0gMCkgdGhpcy5hY2tlcm1hblJhZGl1cyA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWNvdmVyeVJhZGl1cyA8PSAwKSB0aGlzLnJlY292ZXJ5UmFkaXVzID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2V0TW92aW5nVGltZW91dCA8PSAwKSB0aGlzLnJlc2V0TW92aW5nVGltZW91dCA9IDM7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXZlcnNlVGhyb3R0bGVUaW1lIDw9IDApIHRoaXMucmV2ZXJzZVRocm90dGxlVGltZSA9IDM7XG4gICAgICAgICAgICBpZiAodGhpcy50aHJvdHRsZVNlbnNpdGl2aXR5IDw9IDApIHRoaXMudGhyb3R0bGVTZW5zaXRpdml0eSA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGVlcmluZ1NlbnNpdGl2aXR5IDw9IDApIHRoaXMuc3RlZXJpbmdTZW5zaXRpdml0eSA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5icmFraW5nU2Vuc2l0aXZpdHkgPD0gMCkgdGhpcy5icmFraW5nU2Vuc2l0aXZpdHkgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMubGluZWFyRGFtcGVuRm9yY2UgPD0gMCkgdGhpcy5saW5lYXJEYW1wZW5Gb3JjZSA9IDAuMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuZ2xlRmFjdG9ycyA8PSAwKSB0aGlzLmFuZ2xlRmFjdG9ycyA9IDEuNTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbnNvckxlbmd0aCA8PSAwKSB0aGlzLnNlbnNvckxlbmd0aCA9IDg7XG4gICAgICAgICAgICBpZiAodGhpcy5zaWRld2F5c0xlbmd0aCA8PSAwKSB0aGlzLnNpZGV3YXlzTGVuZ3RoID0gMTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5icmFraW5nU3BlZWRMaW1pdCA8PSAwKSB0aGlzLmJyYWtpbmdTcGVlZExpbWl0ID0gNDA7XG4gICAgICAgICAgICBpZiAodGhpcy5za2lkZGluZ1NwZWVkTGltaXQgPD0gMCkgdGhpcy5za2lkZGluZ1NwZWVkTGltaXQgPSA4MDtcbiAgICAgICAgICAgIGlmICh0aGlzLmRyaXZlU3BlZWRNdWx0aXBsaWVyIDw9IDEpIHRoaXMuZHJpdmVTcGVlZE11bHRpcGxpZXIgPSA1O1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tNYW5hZ2VySWRlbnRpdHkgPT0gbnVsbCB8fCB0aGlzLnRyYWNrTWFuYWdlcklkZW50aXR5ID09PSBcIlwiKSB0aGlzLnRyYWNrTWFuYWdlcklkZW50aXR5ID0gXCJUcmFja01hbmFnZXJcIjtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBpbml0aWFsUmFjZUxpbmVOb2RlOiBudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiaW5pdGlhbFJhY2VMaW5lTm9kZVwiLCAxKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVOb2RlID0gKGluaXRpYWxSYWNlTGluZU5vZGUgLSAxKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCByYW5kb21pemVyOiBudW1iZXIgPSB0aGlzLmdldFJhbmRvbU51bWJlcigxMCwgMTUpICogMTAwMDtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLlNldEludGVydmFsKHJhbmRvbWl6ZXIsICgpID0+IHsgdGhpcy5yYW5kb21Ta2lsbEZhY3RvciA9IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKDEsIDIwKTsgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaW5pdFZlaGljbGVDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3JpZ2lkYm9keVBoeXNpY3MgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzXCIpO1xuICAgICAgICAgICAgdGhpcy5tX2NoZWNrcG9pbnRNYW5hZ2VyID0gdGhpcy5nZXRDb21wb25lbnQoXCJQUk9KRUNULkNoZWNrcG9pbnRNYW5hZ2VyXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9yaWdpZGJvZHlQaHlzaWNzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmlnaWRib2R5UGh5c2ljcy5vbkNvbGxpc2lvbkVudGVyT2JzZXJ2YWJsZS5hZGQoKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhtZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gdGhpcy52ZWhpY2xlVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkNvbnNvbGVXYXJuKHRoaXMudHJhbnNmb3JtLm5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKSArIFwiIENBUiBDT0xMSVNJT04gRU5URVI6IFwiICsgbWVzaC5uYW1lICsgXCIgLS0tPiBUQUc6IFwiICsgdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubV9yaWdpZGJvZHlQaHlzaWNzLm9uQ29sbGlzaW9uU3RheU9ic2VydmFibGUuYWRkKChtZXNoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZzogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcobWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSB0aGlzLnZlaGljbGVUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkNvbnNvbGVMb2codGhpcy50cmFuc2Zvcm0ubmFtZS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgXCIgQ0FSIENPTExJU0lPTiBTVEFZOiBcIiArIG1lc2gubmFtZSArIFwiIC0tLT4gVEFHOiBcIiArIHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmlnaWRib2R5UGh5c2ljcy5vbkNvbGxpc2lvbkV4aXRPYnNlcnZhYmxlLmFkZCgobWVzaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWc6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKG1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gdGhpcy52ZWhpY2xlVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Db25zb2xlV2Fybih0aGlzLnRyYW5zZm9ybS5uYW1lLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBcIiBDQVIgQ09MTElTSU9OIEVYSVQ6IFwiICsgbWVzaC5uYW1lICsgXCIgLS0tPiBUQUc6IFwiICsgdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJOdWxsIHJpZ2lkYm9keSBwaHlzaWNzIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IFN0YW5kYXJkIENhciBDb250cm9sbGVyXG4gICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQoXCJQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlclwiKTtcbiAgICAgICAgICAgIC8vaWYgKHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5wbGF5VmVoaWNsZVNvdW5kcyA9IHRydWU7XG4gICAgICAgICAgICAvL30gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJOdWxsIHN0YW5kYXJkIGNhciBjb250cm9sbGVyIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAvLyBHZXQgUmFjZSBUcmFjayBNYW5hZ2VyIFdheXBvaW50c1xuICAgICAgICAgICAgY29uc3Qgd2F5cG9pbnRzVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybU5vZGUodGhpcy5zY2VuZSwgdGhpcy50cmFja01hbmFnZXJJZGVudGl0eSk7XG4gICAgICAgICAgICBpZiAod2F5cG9pbnRzVHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYWNlVHJhY2tNYW5hZ2VyOiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQod2F5cG9pbnRzVHJhbnNmb3JtLCBcIlBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAocmFjZVRyYWNrTWFuYWdlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlcyA9IHJhY2VUcmFja01hbmFnZXIuZ2V0VHJhY2tOb2RlcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzEgPSByYWNlVHJhY2tNYW5hZ2VyLmdldENvbnRyb2xQb2ludHMoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfMiA9IHJhY2VUcmFja01hbmFnZXIuZ2V0Q29udHJvbFBvaW50cygxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8zID0gcmFjZVRyYWNrTWFuYWdlci5nZXRDb250cm9sUG9pbnRzKDIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzQgPSByYWNlVHJhY2tNYW5hZ2VyLmdldENvbnRyb2xQb2ludHMoMyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfNSA9IHJhY2VUcmFja01hbmFnZXIuZ2V0Q29udHJvbFBvaW50cyg0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlcyAhPSBudWxsICYmIHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndheXBvaW50Q291bnQgPSB0aGlzLm1fY2lyY3VpdEludGVyZmFjZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbCB0byBsb2NhdGUgcmFjZSB0cmFjayBtYW5hZ2VyIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWwgdG8gbG9jYXRlIHJhY2UgdHJhY2sgbWFuYWdlciAnXCIgKyB0aGlzLnRyYWNrTWFuYWdlcklkZW50aXR5ICsgXCInIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlVmVoaWNsZUNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVJbnB1dCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllck51bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUF1dG9QaWxvdERyaXZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYW51YWxJbnB1dERyaXZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gVmFsaWRhdGUgVmVoaWNsZSBGbGlwcGVkIFVwcmlnaHRcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2V0VGltaW5nID4gMCAmJiB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lVGltZTogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRHYW1lVGltZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS51cC55ID4gMC41IHx8IHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIuZ2V0QWJzb2x1dGVTcGVlZCgpID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVSZXNldENoZWNrID0gZ2FtZVRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnYW1lVGltZSA+ICh0aGlzLnZlaGljbGVSZXNldENoZWNrICsgdGhpcy5yZXNldFRpbWluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFJlc2V0IFRvIExhc3QgQ2hlY2sgUG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkSW5QbGFjZShCQUJZTE9OLlZlY3RvcjMuVXAoKS5zY2FsZSgwLjUpKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybS5mb3J3YXJkLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVNYW51YWxJbnB1dERyaXZlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyRGVsdGFYID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuSG9yaXpvbnRhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyRGVsdGFZID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuVmVydGljYWwsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdXNlWCA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRBeGlzLk1vdXNlWCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW91c2VZID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuTW91c2VZLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgLy8gR2V0IEJ1dHRvbiBUcmlnZ2Vyc1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1eEZvcndhcmRLZXlib2FyZDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmF1eEtleWJvYXJkRm9yYXdyZCk7IC8vIFBsYXllciBPbmUgT25seVxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRLZXlib2FyZDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkRm9yYXdyZCk7IC8vIFBsYXllciBPbmUgT25seVxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRUcmlnZ2VyOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRUcmlnZ2VySW5wdXQodGhpcy50cmlnZ2VyRm9yd2FyZCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRQZWRhbDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMucGVkZWxGb3J3YXJkLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV4QmFja3dhcmRLZXlib2FyZDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmF1eEtleWJvYXJkQmFja3dhcmRzKTsgLy8gUGxheWVyIE9uZSBPbmx5XG4gICAgICAgICAgICAgICAgY29uc3QgYmFja3dhcmRLZXlib2FyZDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkQmFja3dhcmRzKTsgLy8gUGxheWVyIE9uZSBPbmx5XG4gICAgICAgICAgICAgICAgY29uc3QgYmFja3dhcmRUcmlnZ2VyOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRUcmlnZ2VySW5wdXQodGhpcy50cmlnZ2VyQmFja3dhcmRzLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFja3dhcmRQZWRhbDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMucGVkYWxCYWNrd2FyZCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvb3N0ZXJQZWRhbDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMucGVkYWxCb29zdGVyLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9vc3RlcktleWJvYXJkOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRCb29zdGVyKTsgLy8gUGxheWVyIE9uZSBPbmx5XG4gICAgICAgICAgICAgICAgY29uc3QgYm9vc3RlckJ1dHRvbjogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMuYnV0dG9uQm9vc3RlciwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRicmFrZUtleWJvYXJkOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRIYW5kYnJha2UpOyAvLyBQbGF5ZXIgT25lIE9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kYnJha2VCdXR0b246IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmJ1dHRvbkhhbmRicmFrZSwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRicmFrZVdoZWVsX0w6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmxlZnRXaGVlbEhhbmRicmFrZSwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRicmFrZVdoZWVsX1I6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLnJpZ2h0V2hlZWxIYW5kYnJha2UsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb251dEtleWJvYXJkOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmREb251dCk7IC8vIFBsYXllciBPbmUgT25seVxuICAgICAgICAgICAgICAgIGNvbnN0IGRvbnV0QnV0dG9uX0w6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmxlZnRCdXR0b25Eb251dCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvbnV0QnV0dG9uX1I6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLnJpZ2h0QnV0dG9uRG9udXQsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb251dFdoZWVsX0w6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmxlZnRXaGVlbERvbnV0LCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9udXRXaGVlbF9SOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5yaWdodFdoZWVsRG9udXQsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBQbGF5ZXIgTW92ZW1lbnRcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyTW92ZW1lbnQ6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHBsYXllclN0ZWVyaW5nOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXJIYW5kYnJha2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyRG9udXRzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHNwZWVkQm9vc3RlcjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCB3aGVlbElucHV0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gUHJpbWFyeSBBY2NlbGVyYXR0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGZvcndhcmRUcmlnZ2VyID4gMC4yKSBwbGF5ZXJNb3ZlbWVudCA9IGZvcndhcmRUcmlnZ2VyO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvcndhcmRQZWRhbCA9PT0gdHJ1ZSkgeyBwbGF5ZXJNb3ZlbWVudCA9IDE7IHdoZWVsSW5wdXQgPSB0cnVlOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wbGF5ZXJOdW1iZXIgPT09IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lICYmIChmb3J3YXJkS2V5Ym9hcmQgPT09IHRydWUgfHwgYXV4Rm9yd2FyZEtleWJvYXJkID09PSB0cnVlKSkgcGxheWVyTW92ZW1lbnQgPSAxO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuQWxsb3dNb2JpbGVDb250cm9scyA9PT0gdHJ1ZSAmJiBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk1vYmlsZUNvbnRyb2xzQWN0aXZlID09PSB0cnVlICYmIHRoaXMucGxheWVyRGVsdGFZID4gMCkgcGxheWVyTW92ZW1lbnQgPSB0aGlzLnBsYXllckRlbHRhWTsgLy8gTW9iaWxlIENvbnRyb2xzXG4gICAgICAgICAgICAgICAgLy8gQnJha2luZyBUYWtlcyBQcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgaWYgKGJhY2t3YXJkVHJpZ2dlciA+IDAuMikgcGxheWVyTW92ZW1lbnQgPSAtYmFja3dhcmRUcmlnZ2VyO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJhY2t3YXJkUGVkYWwgPT09IHRydWUpIHsgcGxheWVyTW92ZW1lbnQgPSAtMTsgd2hlZWxJbnB1dCA9IHRydWU7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllck51bWJlciA9PT0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUgJiYgKGJhY2t3YXJkS2V5Ym9hcmQgPT09IHRydWUgfHwgYXV4QmFja3dhcmRLZXlib2FyZCA9PT0gdHJ1ZSkpIHBsYXllck1vdmVtZW50ID0gLTE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5BbGxvd01vYmlsZUNvbnRyb2xzID09PSB0cnVlICYmIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuTW9iaWxlQ29udHJvbHNBY3RpdmUgPT09IHRydWUgJiYgdGhpcy5wbGF5ZXJEZWx0YVkgPCAwKSBwbGF5ZXJNb3ZlbWVudCA9IHRoaXMucGxheWVyRGVsdGFZOyAvLyBNb2JpbGUgQ29udHJvbHNcbiAgICAgICAgICAgICAgICAvLyBJbmNsdWRlcyBBRCBBbmQgQXJyb3cgS2V5c1xuICAgICAgICAgICAgICAgIHBsYXllclN0ZWVyaW5nID0gdGhpcy5wbGF5ZXJEZWx0YVg7XG4gICAgICAgICAgICAgICAgLy8gUHVsbCBIYXJkIEhhbmQgQnJha2UgTGV2ZXJcbiAgICAgICAgICAgICAgICBwbGF5ZXJIYW5kYnJha2UgPSAoaGFuZGJyYWtlS2V5Ym9hcmQgPT09IHRydWUgfHwgaGFuZGJyYWtlQnV0dG9uID09PSB0cnVlIHx8IGhhbmRicmFrZVdoZWVsX0wgPT09IHRydWUgfHwgaGFuZGJyYWtlV2hlZWxfUiA9PT0gdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBQcmVzcyBCdXJub3V0IERvbnV0IEJ1dHRvblxuICAgICAgICAgICAgICAgIHBsYXllckRvbnV0cyA9IChkb251dEtleWJvYXJkID09PSB0cnVlIHx8IGRvbnV0QnV0dG9uX0wgPT09IHRydWUgfHwgZG9udXRCdXR0b25fUiA9PT0gdHJ1ZSB8fCBkb251dFdoZWVsX0wgPT09IHRydWUgfHwgZG9udXRXaGVlbF9SID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyBQcmVzcyBTcGVlZCBCb29zdGVyIEJ1dHRvblxuICAgICAgICAgICAgICAgIHNwZWVkQm9vc3RlciA9IChib29zdGVyS2V5Ym9hcmQgPT09IHRydWUgfHwgYm9vc3RlckJ1dHRvbiA9PT0gdHJ1ZSB8fCBib29zdGVyUGVkYWwgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIFN0ZWVyaW5nIFdoZWVsIE1vZGVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGVlcmluZ1doZWVsTW9kZSA9PT0gLTEgJiYgQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dE9wdGlvbnMuU3VwcG9ydGVkSW5wdXREZXZpY2VzICE9IG51bGwgJiYgQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dE9wdGlvbnMuU3VwcG9ydGVkSW5wdXREZXZpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FtZXBhZDogQkFCWUxPTi5HYW1lcGFkID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkKHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVwYWQgIT0gbnVsbCAmJiBnYW1lcGFkLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZFN1cHBvcnRlZERldmljZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRPcHRpb25zLlN1cHBvcnRlZElucHV0RGV2aWNlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbDogSVN0ZWVyaW5nV2hlZWxEZXZpY2UgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0T3B0aW9ucy5TdXBwb3J0ZWRJbnB1dERldmljZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lcGFkLmlkLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih3aGVlbC5kZXZpY2VOYW1lLnRvTG93ZXJDYXNlKCkpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsLmZvcndhcmRCdXR0b24gPiAtMSkgdGhpcy5wZWRlbEZvcndhcmQgPSB3aGVlbC5mb3J3YXJkQnV0dG9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwuYmFja3dhcmRCdXR0b24gPiAtMSkgdGhpcy5wZWRhbEJhY2t3YXJkID0gd2hlZWwuYmFja3dhcmRCdXR0b247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbC5sZWZ0SGFuZEJyYWtlID4gLTEpIHRoaXMubGVmdFdoZWVsSGFuZGJyYWtlID0gd2hlZWwubGVmdEhhbmRCcmFrZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsLnJpZ2h0SGFuZEJyYWtlID4gLTEpIHRoaXMucmlnaHRXaGVlbEhhbmRicmFrZSA9IHdoZWVsLnJpZ2h0SGFuZEJyYWtlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwubGVmdERvbnV0Qm9vc3QgPiAtMSkgdGhpcy5sZWZ0V2hlZWxEb251dCA9IHdoZWVsLmxlZnREb251dEJvb3N0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwucmlnaHREb251dEJvb3N0ID4gLTEpIHRoaXMucmlnaHRXaGVlbERvbnV0ID0gd2hlZWwucmlnaHREb251dEJvb3N0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFN1cHBvcnRlZERldmljZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihnYW1lcGFkLmlkICsgXCIgc3RlZXJpbmcgd2hlZWwgY29udHJvbHMgYXR0YWNoZWQgdG86IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbE1vZGUgPSAoZm91bmRTdXBwb3J0ZWREZXZpY2UgPT09IHRydWUpID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRHJpdmUgU3RhbmRhcmQgQ2FyIENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmFja2VybWFuVHVybkZhY3RvciA9ICh3aGVlbElucHV0ID09PSB0cnVlKSA/IHRoaXMuYWNrZXJtYW5SYWRpdXMgOiAxLjA7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci50aHJvdHRsZUVuZ2luZVNwZWVkID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLnRocm90dGxlQnJha2luZ0ZvcmNlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmRyaXZlKHBsYXllck1vdmVtZW50LCBwbGF5ZXJTdGVlcmluZywgcGxheWVySGFuZGJyYWtlLCBwbGF5ZXJEb251dHMsIDAsIGZhbHNlLCBzcGVlZEJvb3N0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBhdXRvRHJpdmVSYXljYXN0UmVzdWx0OiBCQUJZTE9OLlBoeXNpY3NSYXljYXN0UmVzdWx0ID0gbmV3IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQoKTtcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUF1dG9QaWxvdERyaXZlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVUaW1lOiBudW1iZXIgPSB0aGlzLmdldEdhbWVUaW1lKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGFUaW1lOiBudW1iZXIgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLnRyYW5zZm9ybS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWNlTGluZU5vZGUgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLnJhY2VMaW5lTm9kZSwgMCwgNCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVJhYmJpdE1lc2ggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhYmJpdFwiLCB7IHNlZ21lbnRzOiAyNCwgZGlhbWV0ZXI6IDEgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVJhYmJpdE1lc2guY2hlY2tDb2xsaXNpb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVJhYmJpdE1lc2gucmVjZWl2ZVNoYWRvd3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC52aXNpYmlsaXR5ID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Q2hhc2VSYWJiaXRNZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VSYWJiaXRNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVJhYmJpdE1lc2guaXNWaXNpYmxlID09PSB0cnVlICYmIHRoaXMuc2hvd0NoYXNlUmFiYml0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaC5pc1Zpc2libGUgPT09IGZhbHNlICYmIHRoaXMuc2hvd0NoYXNlUmFiYml0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVBvaW50TWVzaCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludFwiLCB7IHNpemU6IDAuOSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VQb2ludE1lc2gucmVjZWl2ZVNoYWRvd3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLnZpc2liaWxpdHkgPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldENoYXNlUG9pbnRNZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VQb2ludE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUG9pbnRNZXNoLmlzVmlzaWJsZSA9PT0gdHJ1ZSAmJiB0aGlzLnNob3dDaGFzZVJhYmJpdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUG9pbnRNZXNoLmlzVmlzaWJsZSA9PT0gZmFsc2UgJiYgdGhpcy5zaG93Q2hhc2VSYWJiaXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIEF2b2lkYW5jZSBUaW1lclxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXZvaWRhbmNlVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlVGltZXIgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hdm9pZGFuY2VUaW1lciA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF2b2lkYW5jZVRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlVmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gU2Vuc29yIFVwZGF0ZSBTeXN0ZW1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCB0YWduYW1lOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGxldCBjb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHJheWNhc3Q6IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQgPSB0aGlzLmF1dG9Ecml2ZVJheWNhc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgbGV0IGF2b2lkYW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnNpZGV3YXlzT2Zmc2V0VmVjdG9yLnNldCgwLCAwLCAtdGhpcy5zaWRld2F5c09mZnNldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrQnVtcGVyRWRnZVZlY3Rvci5zZXQoMCwgMCwgLXRoaXMuYmFja0J1bXBlckVkZ2UpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBNYWluIFNlbnNvciBTdGFydFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvclN0YXJ0UG9zLmNvcHlGcm9tKHRyYW5zZm9ybVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuaW5pdGlhbE9mZnNldFksIHRoaXMuc2Vuc29yU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uZm9yd2FyZC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuaW5pdGlhbE9mZnNldFosIHRoaXMuc2Vuc29yU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgTWFpbiBTZW5zb3IgUG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvclBvaW50UG9zLmNvcHlGcm9tKHRoaXMuc2Vuc29yU3RhcnRQb3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmZvcndhcmQuc2NhbGVBbmRBZGRUb1JlZih0aGlzLnNlbnNvckxlbmd0aCwgdGhpcy5zZW5zb3JQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JBbmdsZVBvcy5jb3B5RnJvbSh0aGlzLnNlbnNvclBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgUmlnaHQgU2lkZSBTZW5zb3IgU3RhcnRcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMucnNpZGVTdGFydFBvcywgdGhpcy5zaWRld2F5c09mZnNldFZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXAuc2NhbGVBbmRBZGRUb1JlZih0aGlzLmluaXRpYWxPZmZzZXRZLCB0aGlzLnJzaWRlU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZih0aGlzLmluaXRpYWxPZmZzZXRYLCB0aGlzLnJzaWRlU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgUmlnaHQgU2lkZSBTZW5zb3IgUG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLnJzaWRlUG9pbnRQb3MuY29weUZyb20odGhpcy5yc2lkZVN0YXJ0UG9zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuc2lkZXdheXNMZW5ndGgsIHRoaXMucnNpZGVQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIFNldHVwIFJpZ2h0IEJhY2sgU2Vuc29yIFN0YXJ0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnJiYWNrU3RhcnRQb3MsIHRoaXMuYmFja0J1bXBlckVkZ2VWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WSwgdGhpcy5yYmFja1N0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WCwgdGhpcy5yYmFja1N0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIC8vIFNldHVwIFJpZ2h0IEJhY2sgU2Vuc29yIFBvaW50XG4gICAgICAgICAgICAgICAgdGhpcy5yYmFja1BvaW50UG9zLmNvcHlGcm9tKHRoaXMucmJhY2tTdGFydFBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZih0aGlzLnNpZGV3YXlzTGVuZ3RoLCB0aGlzLnJiYWNrUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IFNpZGUgU2Vuc29yIFN0YXJ0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmxzaWRlU3RhcnRQb3MsIHRoaXMuc2lkZXdheXNPZmZzZXRWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WSwgdGhpcy5sc2lkZVN0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlQW5kQWRkVG9SZWYoLXRoaXMuaW5pdGlhbE9mZnNldFgsIHRoaXMubHNpZGVTdGFydFBvcylcbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IFNpZGUgU2Vuc29yIFBvaW50XG4gICAgICAgICAgICAgICAgdGhpcy5sc2lkZVBvaW50UG9zLmNvcHlGcm9tKHRoaXMubHNpZGVTdGFydFBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZigtdGhpcy5zaWRld2F5c0xlbmd0aCwgdGhpcy5sc2lkZVBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgTGVmdCBCYWNrIFNlbnNvciBTdGFydFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5sYmFja1N0YXJ0UG9zLCB0aGlzLmJhY2tCdW1wZXJFZGdlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuaW5pdGlhbE9mZnNldFksIHRoaXMubGJhY2tTdGFydFBvcylcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZUFuZEFkZFRvUmVmKC10aGlzLmluaXRpYWxPZmZzZXRYLCB0aGlzLmxiYWNrU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgTGVmdCBCYWNrIFNlbnNvciBQb2ludFxuICAgICAgICAgICAgICAgIHRoaXMubGJhY2tQb2ludFBvcy5jb3B5RnJvbSh0aGlzLmxiYWNrU3RhcnRQb3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlQW5kQWRkVG9SZWYoLXRoaXMuc2lkZXdheXNMZW5ndGgsIHRoaXMubGJhY2tQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgSW5pdGlhbCBTdGFydCBQb2ludFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFNlbnNvclN0YXJ0UG9zOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLnNlbnNvclN0YXJ0UG9zLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RTZW5zb3JQb2ludFBvczogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5zZW5zb3JQb2ludFBvcy5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBNYWluIFJpZ2h0IExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBsZXQgbWFpblJpZ2h0U2Vuc29yQ29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlVG9SZWYodGhpcy5zcGFjZXJXaWR0aHMsIHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvclN0YXJ0UG9zLmFkZEluUGxhY2UodGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yUG9pbnRQb3MuYWRkSW5QbGFjZSh0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGFnbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJheWNhc3QucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0VG9Qb2ludCh0aGlzLnNjZW5lLCB0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvclBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5zZW5zb3JTdGFydFBvcywgdGhpcy5zZW5zb3JQb2ludFBvcywgcmF5Y2FzdCk7XG4gICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW5SaWdodFNlbnNvckNvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlIC09IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFpblJpZ2h0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLm1haW5SaWdodFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5NYWluUmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvclBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gQW5nbGUgUmlnaHQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBhbmdsZVJpZ2h0U2Vuc29yQ29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlVG9SZWYoKHRoaXMuc3BhY2VyV2lkdGhzICogMikgKiB0aGlzLmFuZ2xlRmFjdG9ycywgdGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yQW5nbGVQb3MuYWRkSW5QbGFjZSh0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGFnbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJheWNhc3QucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0VG9Qb2ludCh0aGlzLnNjZW5lLCB0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvckFuZ2xlUG9zKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5zZW5zb3JTdGFydFBvcywgdGhpcy5zZW5zb3JBbmdsZVBvcywgcmF5Y2FzdCk7XG4gICAgICAgICAgICAgICAgaWYgKG1haW5SaWdodFNlbnNvckNvbnRhY3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGVSaWdodFNlbnNvckNvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSAtPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuZ2xlUmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuYW5nbGVSaWdodFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5BbmdsZVJpZ2h0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5nbGVSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvckFuZ2xlUG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gU2lkZSBSaWdodCBMaW5lIFJheWNhc3RcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgbGV0IHNpZGVSaWdodFNlbnNvckNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMucnNpZGVTdGFydFBvcywgdGhpcy5yc2lkZVBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5yc2lkZVN0YXJ0UG9zLCB0aGlzLnJzaWRlUG9pbnRQb3MsIHJheWNhc3QpO1xuICAgICAgICAgICAgICAgIGlmIChtYWluUmlnaHRTZW5zb3JDb250YWN0ID09PSBmYWxzZSAmJiBhbmdsZVJpZ2h0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlUmlnaHRTZW5zb3JDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZGFuY2UgLT0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaWRlUmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuc2lkZVJpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlNpZGVSaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGVSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMucnNpZGVTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZVJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5yc2lkZVN0YXJ0UG9zLCB0aGlzLnJzaWRlUG9pbnRQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBCYWNrIFJpZ2h0IExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMucmJhY2tTdGFydFBvcywgdGhpcy5yYmFja1BvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5yYmFja1N0YXJ0UG9zLCB0aGlzLnJiYWNrUG9pbnRQb3MsIHJheWNhc3QpO1xuICAgICAgICAgICAgICAgIGlmIChtYWluUmlnaHRTZW5zb3JDb250YWN0ID09PSBmYWxzZSAmJiBhbmdsZVJpZ2h0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UgJiYgc2lkZVJpZ2h0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZGFuY2UgLT0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrUmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuYmFja1JpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkJhY2tSaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMucmJhY2tTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5yYmFja1N0YXJ0UG9zLCB0aGlzLnJiYWNrUG9pbnRQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBNYWluIExlZnQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBtYWluTGVmdFNlbnNvckNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZVRvUmVmKC0odGhpcy5zcGFjZXJXaWR0aHMgKiAyKSwgdGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yU3RhcnRQb3MuYWRkSW5QbGFjZSh0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JQb2ludFBvcy5hZGRJblBsYWNlKHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvclBvaW50UG9zLCByYXljYXN0KTtcbiAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5ib2R5ICE9IG51bGwgJiYgcmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkxlZnRTZW5zb3JDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSArPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1haW5MZWZ0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLm1haW5MZWZ0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLk1haW5MZWZ0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbkxlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yUG9pbnRQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBBbmdsZSBMZWZ0IExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBsZXQgYW5nbGVMZWZ0U2Vuc29yQ29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlVG9SZWYoLSh0aGlzLnNwYWNlcldpZHRocyAqIDQpICogdGhpcy5hbmdsZUZhY3RvcnMsIHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvckFuZ2xlUG9zLmFkZEluUGxhY2UodGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByYXljYXN0LnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5zZW5zb3JTdGFydFBvcywgdGhpcy5zZW5zb3JBbmdsZVBvcyk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKHRoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yQW5nbGVQb3MsIHJheWNhc3QpO1xuICAgICAgICAgICAgICAgIGlmIChtYWluTGVmdFNlbnNvckNvbnRhY3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGVMZWZ0U2Vuc29yQ29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5nbGVMZWZ0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmFuZ2xlTGVmdFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5BbmdsZUxlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmdsZUxlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmdsZUxlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvckFuZ2xlUG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gU2lkZSBMZWZ0IExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBsZXQgc2lkZUxlZnRTZW5zb3JDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGFnbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJheWNhc3QucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0VG9Qb2ludCh0aGlzLnNjZW5lLCB0aGlzLmxzaWRlU3RhcnRQb3MsIHRoaXMubHNpZGVQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKHRoaXMubHNpZGVTdGFydFBvcywgdGhpcy5sc2lkZVBvaW50UG9zLCByYXljYXN0KTtcbiAgICAgICAgICAgICAgICBpZiAobWFpbkxlZnRTZW5zb3JDb250YWN0ID09PSBmYWxzZSAmJiBhbmdsZUxlZnRTZW5zb3JDb250YWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5ib2R5ICE9IG51bGwgJiYgcmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVMZWZ0U2Vuc29yQ29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2lkZUxlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuc2lkZUxlZnRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuU2lkZUxlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMubHNpZGVTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZUxlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLmxzaWRlU3RhcnRQb3MsIHRoaXMubHNpZGVQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIEJhY2sgTGVmdCBMaW5lIFJheWNhc3RcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgdGFnbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJheWNhc3QucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0VG9Qb2ludCh0aGlzLnNjZW5lLCB0aGlzLmxiYWNrU3RhcnRQb3MsIHRoaXMubGJhY2tQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKHRoaXMubGJhY2tTdGFydFBvcywgdGhpcy5sYmFja1BvaW50UG9zLCByYXljYXN0KTtcbiAgICAgICAgICAgICAgICBpZiAobWFpbkxlZnRTZW5zb3JDb250YWN0ID09PSBmYWxzZSAmJiBhbmdsZUxlZnRTZW5zb3JDb250YWN0ID09PSBmYWxzZSAmJiBzaWRlTGVmdFNlbnNvckNvbnRhY3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlICs9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuYmFja0xlZnRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQmFja0xlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMubGJhY2tTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLmxiYWNrU3RhcnRQb3MsIHRoaXMubGJhY2tQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIE1haW4gQ2VudGVyIExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIGZpcnN0U2Vuc29yU3RhcnRQb3MsIGZpcnN0U2Vuc29yUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZihmaXJzdFNlbnNvclN0YXJ0UG9zLCBmaXJzdFNlbnNvclBvaW50UG9zLCByYXljYXN0KTtcbiAgICAgICAgICAgICAgICBpZiAoYXZvaWRhbmNlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsLnggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluQ2VudGVyU2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWFpbkNlbnRlclNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lLmRyYXdMaW5lKFtmaXJzdFNlbnNvclN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluQ2VudGVyU2Vuc29yTGluZS5kcmF3TGluZShbZmlyc3RTZW5zb3JTdGFydFBvcywgZmlyc3RTZW5zb3JQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBMb25nIFJhbmdlIEJyYWtlIFRocmVhdCBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgdGFnbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlBoeXNpY3NSYXljYXN0VG9Qb2ludCh0aGlzLnNjZW5lLCBmaXJzdFNlbnNvclN0YXJ0UG9zLCBmaXJzdFNlbnNvclBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoYXZvaWRhbmNlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluQ2VudGVyU2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWFpbkNlbnRlclNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lLmRyYXdMaW5lKFtmaXJzdFNlbnNvclN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluQ2VudGVyU2Vuc29yTGluZS5kcmF3TGluZShbZmlyc3RTZW5zb3JTdGFydFBvcywgZmlyc3RTZW5zb3JQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZTogUFJPSkVDVC5JVHJhY2tOb2RlID0gdGhpcy5nZXRDdXJyZW50VHJhY2tOb2RlKHRoaXMud2F5cG9pbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50OiBQUk9KRUNULklDb250cm9sUG9pbnQgPSB0aGlzLmdldEN1cnJlbnRDb250cm9sUG9pbnQodGhpcy5yYWNlTGluZU5vZGUsIHRoaXMud2F5cG9pbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVJhYmJpdE1lc2ggIT0gbnVsbCAmJiB0aGlzLndheXBvaW50Q291bnQgPiAwICYmIHRyYWNrTm9kZSAhPSBudWxsICYmIGNvbnRyb2xQb2ludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRQb3NpdGlvbi5zZXQoY29udHJvbFBvaW50LnBvc2l0aW9uLngsIGNvbnRyb2xQb2ludC5wb3NpdGlvbi55LCBjb250cm9sUG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRTcGVlZDogbnVtYmVyID0gKGNvbnRyb2xQb2ludC5zcGVlZCA+IDAgPyBjb250cm9sUG9pbnQuc3BlZWQgOiAxMDApICogdGhpcy5nZXREcml2ZXJTa2lsbEZhY3RvcigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRSYWRpdXM6IG51bWJlciA9ICh0cmFja05vZGUucmFkaXVzICogMSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RUb1RhcmdldDogbnVtYmVyID0gQkFCWUxPTi5WZWN0b3IzLkRpc3RhbmNlKHRoaXMud2F5cG9pbnRQb3NpdGlvbiwgdHJhbnNmb3JtUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdFRvVGFyZ2V0IDwgdGFyZ2V0UmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2VGFyZ2V0U3BlZWQgPD0gMCkgdGhpcy5wcmV2VGFyZ2V0U3BlZWQgPSB0YXJnZXRTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFRhcmdldFNwZWVkID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLnByZXZUYXJnZXRTcGVlZCwgdGFyZ2V0U3BlZWQsICgxLjAgLSAoZGlzdFRvVGFyZ2V0IC8gdGFyZ2V0UmFkaXVzKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0NoYXNlUmFiYml0ID09PSB0cnVlKSB0aGlzLnJhYmJpdFRyYWNrZXJDb2xvciA9IHRoaXMucmVkVHJhY2tpbmdDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFRhcmdldFNwZWVkID0gdGFyZ2V0U3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93Q2hhc2VSYWJiaXQgPT09IHRydWUpIHRoaXMucmFiYml0VHJhY2tlckNvbG9yID0gdGhpcy5ncmVlblRyYWNraW5nQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JhZGllbnRTcGVlZDogbnVtYmVyID0gdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5nZXRHcmFkaWVudFNwZWVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtZXJpY2FuU3BlZWQ6IG51bWJlciA9IHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIuZ2V0QW1lcmljYW5TcGVlZCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NraWRkaW5nOiBib29sZWFuID0gdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5nZXRDdXJyZW50U2tpZGRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9va0FoZWFkOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMubWluTG9va0FoZWFkLCB0aGlzLm1heExvb2tBaGVhZCwgZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gVVBEQVRFIENIQVNFIFJBQkJJVCAtIFdhbGsgU3BsaW5lIFdheXBvaW50IFBvc2l0aW9ucyAtIChSYWNlVHJhY2tNYW5hZ2VyLkdldFJvYWRBaGVhZERpcmVjdGlvbikgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8qIEdFVCBST1VUIFBPSU5UIFdJVEggRElTVEFOQ0VcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRUb1BvaW50VGhyZXNob2xkOm51bWJlciA9IDY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldERlbHRhID0gdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5wb3NpdGlvbi5zdWJ0cmFjdCh0cmFuc2Zvcm1Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhTGVuZ3RoOm51bWJlciA9IHRhcmdldERlbHRhLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGFMZW5ndGggPCBwb2ludFRvUG9pbnRUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRJbmRleCA9ICh0aGlzLndheXBvaW50SW5kZXggKyAxKSAlIHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5wb3NpdGlvbiA9IHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlc1t0aGlzLndheXBvaW50SW5kZXhdLmxvY2FsUG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLm1fY2lyY3VpdEludGVyZmFjZXNbdGhpcy53YXlwb2ludEluZGV4XS5sb2NhbFJvdGF0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBvdXIgY3VycmVudCBwcm9ncmVzcyBhbG9uZyB0aGUgcm91dGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NQb2ludCA9IHRoaXMucmFjZVRyYWNrTWFuYWdlci5nZXRSb3V0ZVBvaW50KHRoaXMucHJvZ3Jlc3NEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFoZWFkUG9pbnQgPSB0aGlzLnJhY2VUcmFja01hbmFnZXIuZ2V0Um91dGVQb2ludCh0aGlzLnByb2dyZXNzRGlzdGFuY2UgKyA0MCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5wb3NpdGlvbi5jb3B5RnJvbShhaGVhZFBvaW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZihhaGVhZFBvaW50LmRpcmVjdGlvbiwgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzRGVsdGEgPSBwcm9ncmVzc1BvaW50LnBvc2l0aW9uLnN1YnRyYWN0KHRyYW5zZm9ybVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uVmVjdG9yMy5Eb3QocHJvZ3Jlc3NEZWx0YSwgcHJvZ3Jlc3NQb2ludC5kaXJlY3Rpb24pIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0Rpc3RhbmNlICs9IHByb2dyZXNzRGVsdGEubGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgVVRJTC5QcmludFRvU2NyZWVuKFwiV2F5cG9pbnQ6IFwiICsgdGhpcy53YXlwb2ludEluZGV4ICsgXCIgLS0+IERlbHRhIExlbmd0aDogXCIgKyBkZWx0YUxlbmd0aC50b0ZpeGVkKDIpICsgXCIgLS0+IFByb2dyZXNzIERpc3RhbmNlOiBcIiArIHRoaXMucHJvZ3Jlc3NEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gVVBEQVRFIENIQVNFIFJBQkJJVCAtIFdhbGsgU3BsaW5lIFdheXBvaW50IFBvc2l0aW9ucyAtIChSYWNlVHJhY2tNYW5hZ2VyLkdldFJvYWRBaGVhZERpcmVjdGlvbikgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhYmJpdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmdldEFic29sdXRlUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFiYml0RGlzdGFuY2U6IG51bWJlciA9IEJBQllMT04uVmVjdG9yMy5EaXN0YW5jZSh0cmFuc2Zvcm1Qb3NpdGlvbiwgcmFiYml0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFiYml0RGlzdGFuY2UgPD0gbG9va0FoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXNlUmFiYml0U3BlZWQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKDEuMCwgdGhpcy5kcml2ZVNwZWVkTXVsdGlwbGllciwgZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmxvb2tBdCh0aGlzLndheXBvaW50UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC50cmFuc2xhdGUoQkFCWUxPTi5BeGlzLlosIHRoaXMuY2hhc2VSYWJiaXRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkYW5jZSBNb2RlIFRyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXZvaWRhbmNlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF2b2lkYW5jZVZhbHVlID0gYXZvaWRhbmNlOyAgICAgICAgICAgICAgICAvLyBMYXN0IEF2b2lkYW5jZSBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdm9pZGFuY2VUaW1lciA9IHRoaXMuYXZvaWRhbmNlVGltZW91dDsgICAgLy8gUmVzZXQgQXZvaWRhbmNlIFRpbWVyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGVja3BvaW50TWFuYWdlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hlY2twb2ludDogbnVtYmVyID0gdGhpcy5tX2NoZWNrcG9pbnRNYW5hZ2VyLmdldENoZWNrUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2hlY2twb2ludCAhPSB0aGlzLmxhc3RDaGVja3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5kb21UdXJuaW5nID0gdGhpcy5nZW5lcmF0ZVJhbmRvbk51bWJlcigwLCAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3dlckJvb3N0aW5nID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbUJvb3N0aW5nID0gdGhpcy5nZW5lcmF0ZVJhbmRvbk51bWJlcigwLCB0aGlzLnBvd2VyQm9vc3RpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53b25kZXJEaXN0YW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluaW11bVZhbDogbnVtYmVyID0gdGhpcy5kcml2ZUxpbmVEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tU2lnbjogbnVtYmVyID0gTWF0aC5zaWduKHRoaXMuZ2VuZXJhdGVSYW5kb25OdW1iZXIoLTEsIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5kb21EaXN0YW5jZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb25OdW1iZXIobWluaW11bVZhbCwgKG1pbmltdW1WYWwgKyB0aGlzLndvbmRlckRpc3RhbmNlKSkgKiByYW5kb21TaWduO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RDaGVja3BvaW50ID0gY3VycmVudENoZWNrcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbVR1cm5pbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5kb21Cb29zdGluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbURpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgd2FudGVkQXZvaWREaXN0YW5jZTogbnVtYmVyID0gKHRoaXMuYXZvaWRhbmNlVGltZXIgPiAwICYmIHRoaXMuYXZvaWRhbmNlVmFsdWUgIT09IDApID8gKHRoaXMuYXZvaWRhbmNlRGlzdGFuY2UgKiBNYXRoLnNpZ24odGhpcy5hdm9pZGFuY2VWYWx1ZSkpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgd2FudGVkQXZvaWREaXN0YW5jZSArPSB0aGlzLnJhbmRvbURpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF2b2lkYW5jZUxlcnAgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuYXZvaWRhbmNlTGVycCwgd2FudGVkQXZvaWREaXN0YW5jZSwgKHRoaXMuYXZvaWRhbmNlU3BlZWQgKiBkZWx0YVRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdm9pZFBvc2l0aW9uT2Zmc2V0LnNldCh0aGlzLmF2b2lkYW5jZUxlcnAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5tX2NoYXNlUmFiYml0TWVzaCwgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLnBvc2l0aW9uLCB0aGlzLmF2b2lkUG9zaXRpb25PZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93Q2hhc2VSYWJiaXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tWZWhpY2xlUG9zaXRpb24uc2V0KHRyYW5zZm9ybVBvc2l0aW9uLngsICh0cmFuc2Zvcm1Qb3NpdGlvbi55ICsgMC41KSwgdHJhbnNmb3JtUG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogdGhpcy50cmFja1JhYmJpdFBvc2l0aW9uLnNldChyYWJiaXRQb3NpdGlvbi54LCAocmFiYml0UG9zaXRpb24ueSArIDAuMjUpLCByYWJiaXRQb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tSYWJiaXRQb3NpdGlvbi5zZXQodGhpcy5tX2NoYXNlUG9pbnRNZXNoLnBvc2l0aW9uLngsICh0aGlzLm1fY2hhc2VQb2ludE1lc2gucG9zaXRpb24ueSArIDAuMjUpLCB0aGlzLm1fY2hhc2VQb2ludE1lc2gucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWJiaXRUcmFja2VyTGluZSA9PSBudWxsKSB0aGlzLnJhYmJpdFRyYWNrZXJMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcigodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlRyYWNraW5nTGluZVwiKSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWJiaXRUcmFja2VyTGluZSAhPSBudWxsKSB0aGlzLnJhYmJpdFRyYWNrZXJMaW5lLmRyYXdMaW5lKFt0aGlzLnRyYWNrVmVoaWNsZVBvc2l0aW9uLCB0aGlzLnRyYWNrUmFiYml0UG9zaXRpb25dLCB0aGlzLnJhYmJpdFRyYWNrZXJDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgV2F5cG9pbnQgRGlzdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2F5cG9pbnREaXN0YW5jZTogbnVtYmVyID0gQkFCWUxPTi5WZWN0b3IzLkRpc3RhbmNlKHJhYmJpdFBvc2l0aW9uLCB0aGlzLndheXBvaW50UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2F5cG9pbnREaXN0YW5jZSA8PSA1LjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldlRhcmdldFNwZWVkID0gdGhpcy5uZXh0VGFyZ2V0U3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndheXBvaW50SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndheXBvaW50SW5kZXggPj0gdGhpcy53YXlwb2ludENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YXlwb2ludEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuSW52ZXJzZVRyYW5zZm9ybVBvaW50VG9SZWYodGhpcy50cmFuc2Zvcm0sIHJhYmJpdFBvc2l0aW9uLCB0aGlzLmxvY2FsVGFyZ2V0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkludmVyc2VUcmFuc2Zvcm1Qb2ludFRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLm1fY2hhc2VQb2ludE1lc2gucG9zaXRpb24sIHRoaXMubG9jYWxUYXJnZXRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFRhcmdldEFuZ2xlID0gQkFCWUxPTi5Ub29scy5Ub0RlZ3JlZXMoTWF0aC5hdGFuMih0aGlzLmxvY2FsVGFyZ2V0UG9zaXRpb24ueCwgdGhpcy5sb2NhbFRhcmdldFBvc2l0aW9uLnopKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ybmVyQW5nbGU6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKE1hdGguYWJzKGxvY2FsVGFyZ2V0QW5nbGUpLCAwLCA5MCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcm5lckZhY3RvcjogbnVtYmVyID0gKGNvcm5lckFuZ2xlIC8gOTApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVmVoaWNsZSBEcml2aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGxldCBicmFraW5nOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2xvd2Rvd246IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBib29zdGluZzogbnVtYmVyID0gdGhpcy5yYW5kb21Cb29zdGluZztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvcHNwZWVkOiBudW1iZXIgPSB0aGlzLm1heFJhY2VUcmFja1NwZWVkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGhyb3R0bGU6IG51bWJlciA9ICgxLjAgKiB0aGlzLnRocm90dGxlU2Vuc2l0aXZpdHkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlZXJpbmc6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKCgodGhpcy5sb2NhbFRhcmdldFBvc2l0aW9uLnggLyB0aGlzLmxvY2FsVGFyZ2V0UG9zaXRpb24ubGVuZ3RoKCkpICogdGhpcy5zdGVlcmluZ1NlbnNpdGl2aXR5KSwgLTEsIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hdm9pZGFuY2VGYWN0b3IgPiAwICYmIGF2b2lkYW5jZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93U3BlZWRBdm9pZGFuY2U6IG51bWJlciA9ICgoYXZvaWRhbmNlICogMC4xMTIpICogdGhpcy5hdm9pZGFuY2VGYWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlnaFNwZWVkQXZvaWRhbmNlOiBudW1iZXIgPSAoKGF2b2lkYW5jZSAqIDAuMDYpICogdGhpcy5hdm9pZGFuY2VGYWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlZXJpbmcgKz0gQkFCWUxPTi5TY2FsYXIuTGVycChsb3dTcGVlZEF2b2lkYW5jZSwgaGlnaFNwZWVkQXZvaWRhbmNlLCBncmFkaWVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgaGFuZGJyYWtpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dFRhcmdldFNwZWVkIDw9IDApIHRoaXMubmV4dFRhcmdldFNwZWVkID0gdGFyZ2V0U3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbWVyaWNhblNwZWVkID4gdGhpcy5uZXh0VGFyZ2V0U3BlZWQpIHsgLy8gVGFyZ2V0IFNwZWVkIFRocm90dGxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3dkb3duID0gQkFCWUxPTi5TY2FsYXIuTGVycCgwLjAsIHRoaXMubGluZWFyRGFtcGVuRm9yY2UsIGdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3R0bGUgKj0gMC4yOyAvLyBOb3RlIDogMjAgUGVyY2VudCBUaHJvdHRsZSBJbnB1dFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJyYWtpbmdUdXJuQW5nbGUgPiAwKSB7IC8vIENvcm5lciBBbmdsZSBGb290IEJyYWtpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrQ29ybmVyQW5nbGU6IG51bWJlciA9ICh0aGlzLmJyYWtpbmdUdXJuQW5nbGUgLSB0aGlzLnJhbmRvbVR1cm5pbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcm5lckFuZ2xlID49IGNoZWNrQ29ybmVyQW5nbGUgJiYgYW1lcmljYW5TcGVlZCA+PSB0aGlzLmJyYWtpbmdTcGVlZExpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJha2luZyA9IEJBQllMT04uU2NhbGFyLkxlcnAoMCwgKDEgKyBncmFkaWVudFNwZWVkKSwgY29ybmVyRmFjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG93ZG93biA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYXJkIEhhbmQgQnJha2luZyAoRHJpZnRpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkZGluZ1RyaWdnZXJTcGVlZDogbnVtYmVyID0gKGlzU2tpZGRpbmcgPT09IHRydWUpID8gdGhpcy5icmFraW5nU3BlZWRMaW1pdCA6IHRoaXMuc2tpZGRpbmdTcGVlZExpbWl0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRicmFraW5nID0gKGJyYWtpbmcgPiAwICYmIGFtZXJpY2FuU3BlZWQgPj0gc2tpZGRpbmdUcmlnZ2VyU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kYnJha2luZyA9PT0gdHJ1ZSkgYnJha2luZyA9IDEuMDsgLy8gTm90ZTogVXNlIEhhbmQgQnJha2luZyBab25lIFN0cmVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJyYWtpbmcgPiAwKSBicmFraW5nID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKGJyYWtpbmcgKiB0aGlzLmJyYWtpbmdTZW5zaXRpdml0eSksIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnJha2luZyA+IDApIHRocm90dGxlID0gKC1icmFraW5nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFJldmVyc2UgTW92ZW1lbnQgRml4IE1vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VGaXhNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdHRsZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9vc3RpbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlZXJpbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xvd2Rvd24gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGJyYWtpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgTm8gRm9yd2FyZCBWZWxvY2l0eVxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRocm90dGxlID49IDAuMSAmJiBhbWVyaWNhblNwZWVkIDwgMi4wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vTW92ZW1lbnRUaW1lICs9IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9Nb3ZlbWVudFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vTW92ZW1lbnRUaW1lID49IHRoaXMucmVzZXRNb3ZpbmdUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vTW92ZW1lbnRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZUZpeE1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvdmVyeUZpeE1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2ZXJzZVRpbWU6IG51bWJlciA9ICh0aGlzLnJldmVyc2VUaHJvdHRsZVRpbWUgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY292ZXJ5VGltZTogbnVtYmVyID0gKCh0aGlzLnJldmVyc2VUaHJvdHRsZVRpbWUgKiAxMDAwKSAqIDMuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5TZXRUaW1lb3V0KHJldmVyc2VUaW1lLCAoKSA9PiB7IHRoaXMucmV2ZXJzZUZpeE1vZGUgPSBmYWxzZTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5TZXRUaW1lb3V0KHJlY292ZXJ5VGltZSwgKCkgPT4geyB0aGlzLnJlY292ZXJ5Rml4TW9kZSA9IGZhbHNlOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVlZEJvb3N0ZXI6IGJvb2xlYW4gPSBmYWxzZTsgLy8gVE9ETzogU3VwcG9ydCBBSSBTcGVlZCBCb29zdGluZyAoTk9TKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmFja2VybWFuVHVybkZhY3RvciA9ICh0aGlzLnJlY292ZXJ5Rml4TW9kZSA9PT0gdHJ1ZSkgPyB0aGlzLnJlY292ZXJ5UmFkaXVzIDogMS4wO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLnRocm90dGxlRW5naW5lU3BlZWQgPSB0b3BzcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci50aHJvdHRsZUJyYWtpbmdGb3JjZSA9IHNsb3dkb3duO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmRyaXZlKHRocm90dGxlLCBzdGVlcmluZywgaGFuZGJyYWtpbmcsIGZhbHNlLCBib29zdGluZywgdHJ1ZSwgc3BlZWRCb29zdGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGdldERyaXZlclNraWxsRmFjdG9yKCk6IG51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBudW1iZXIgPSAwLjYwO1xuICAgICAgICAgICAgbGV0IHNraWxsOiBudW1iZXIgPSB0aGlzLmRyaXZlclNraWxsTGV2ZWw7XG4gICAgICAgICAgICBpZiAodGhpcy5yYW5kb21Ta2lsbEZhY3RvciA+PSAxOCkge1xuICAgICAgICAgICAgICAgIHNraWxsICs9IDI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmFuZG9tU2tpbGxGYWN0b3IgPj0gMTIpIHtcbiAgICAgICAgICAgICAgICBza2lsbCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2tpbGwgPSBCQUJZTE9OLlNjYWxhci5DbGFtcChza2lsbCwgMSwgMTApO1xuICAgICAgICAgICAgLy8gV00uUHJpbnRUb1NjcmVlbihcIkRyaXZlciBTa2lsbCBMZXZlbDogXCIgKyBza2lsbCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHNraWxsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMS4wMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjk4O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuOTU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC45MDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjg1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuODA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC43NTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjcwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuNjU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC42MDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBnZXRDdXJyZW50VHJhY2tOb2RlKGluZGV4OiBudW1iZXIpOiBQUk9KRUNULklUcmFja05vZGUge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogUFJPSkVDVC5JVHJhY2tOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy53YXlwb2ludENvdW50KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzW2luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGdldEN1cnJlbnRDb250cm9sUG9pbnQobGFuZTogbnVtYmVyLCBpbmRleDogbnVtYmVyKTogUFJPSkVDVC5JQ29udHJvbFBvaW50IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IFBST0pFQ1QuSUNvbnRyb2xQb2ludCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMud2F5cG9pbnRDb3VudCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobGFuZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzFbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfMltpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8zW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfNVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBnZXRSYW5kb21OdW1iZXIobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGdlbmVyYXRlUmFuZG9uTnVtYmVyKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgZGVjaW1hbHM6IG51bWJlciA9IDIpOiBudW1iZXIge1xuICAgICAgICAgICAgY29uc3QgcmFuZDogc3RyaW5nID0gKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbikudG9GaXhlZChkZWNpbWFscyk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyYW5kKTtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveVZlaGljbGVDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfMSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8zID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfNCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX3JpZ2lkYm9keVBoeXNpY3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUG9pbnRNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VQb2ludE1lc2guZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgVmVoaWNsZU5ldHdvcmtMYWJlbFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFZlaGljbGVOZXR3b3JrTGFiZWwgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIGxhYmVsOiBCQUJZTE9OLkdVSS5UZXh0QmxvY2sgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcmVjdDogQkFCWUxPTi5HVUkuUmVjdGFuZ2xlO1xuXG4gICAgICAgIHB1YmxpYyBhdXRvQ3JlYXRlOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIG9mZnNldFg6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBvZmZzZXRZOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbGFiZWxDb2xvcjogQkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgIHB1YmxpYyBib3JkZXJDb2xvcjogQkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMC4wLCAwLjg0MzEzNzMsIDAuODI3NDUxKTtcbiAgICAgICAgcHVibGljIGJhY2tncm91bmRDb2xvcjogQkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMC4wLCAwLjQ3NDUwOTgsIDAuNDY2NjY2Nyk7XG4gICAgICAgIHB1YmxpYyBsYWJlbENyZWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubGFiZWxDcmVhdGVkID09PSBmYWxzZSAmJiB0aGlzLmF1dG9DcmVhdGUgPT09IHRydWUgJiYgdGhpcy5pc1JlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3duZXJOYW1lOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeU5ldHdvcmtBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIFwib3duZXJOYW1lXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3duZXJOYW1lICE9IG51bGwgJiYgb3duZXJOYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dG9DcmVhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFiZWxDcmVhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTGFiZWwob3duZXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVMYWJlbChuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGFkdmFuY2VkVGV4dHVyZTogQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0RnVsbHNjcmVlblVJKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IG5ldyBCQUJZTE9OLkdVSS5UZXh0QmxvY2soKTtcbiAgICAgICAgICAgIHRoaXMubGFiZWwudGV4dCA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLmxhYmVsLmNvbG9yID0gdGhpcy5sYWJlbENvbG9yLnRvSGV4U3RyaW5nKCk7ICAgICAgICAgICAvLyBcIndoaXRlXCI7XG4gICAgICAgICAgICB0aGlzLmxhYmVsLmZvbnRTaXplID0gMjQ7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5yZWN0ID0gbmV3IEJBQllMT04uR1VJLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgdGhpcy5yZWN0LndpZHRoID0gXCIyMDBweFwiO1xuICAgICAgICAgICAgdGhpcy5yZWN0LmhlaWdodCA9IFwiNDBweFwiO1xuICAgICAgICAgICAgdGhpcy5yZWN0LmNvcm5lclJhZGl1cyA9IDEwO1xuICAgICAgICAgICAgdGhpcy5yZWN0LmNvbG9yID0gdGhpcy5ib3JkZXJDb2xvci50b0hleFN0cmluZygpOyAgICAgICAgICAgLy8gXCIjMDBEN0QzXCI7XG4gICAgICAgICAgICB0aGlzLnJlY3QudGhpY2tuZXNzID0gNDtcbiAgICAgICAgICAgIHRoaXMucmVjdC5iYWNrZ3JvdW5kID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3IudG9IZXhTdHJpbmcoKTsgIC8vIFwiIzAwNzk3N1wiO1xuICAgICAgICAgICAgdGhpcy5yZWN0LmFkZENvbnRyb2wodGhpcy5sYWJlbCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgYWR2YW5jZWRUZXh0dXJlLmFkZENvbnRyb2wodGhpcy5yZWN0KTtcbiAgICAgICAgICAgIHRoaXMucmVjdC5saW5rV2l0aE1lc2godGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgdGhpcy5yZWN0LmxpbmtPZmZzZXRYSW5QaXhlbHMgPSB0aGlzLm9mZnNldFg7XG4gICAgICAgICAgICB0aGlzLnJlY3QubGlua09mZnNldFlJblBpeGVscyA9IHRoaXMub2Zmc2V0WTtcblxuICAgICAgICAgICAgLy8gRklYTUU6IE9uZSBPZiBUaGVtIERvZXMgTm90IEdldCBUaGUgTGFiZWwgQ3JlYXRlZFxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiV1RGOiBPd25lciBOYW1lXCIpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIioqKiBHT1QgREVTVFJPWSBNRVNTQUdFICoqKlwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnJlY3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiB0b29sa2l0IGRlZmF1bHQgY2FtZXJhIHN5c3RlbSBjbGFzc1xuICAgICAqIEBjbGFzcyBEZWZhdWx0Q2FtZXJhU3lzdGVtIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICogaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9kaXZpbmdEZWVwZXIvcG9zdFByb2Nlc3Nlcy9kZWZhdWx0UmVuZGVyaW5nUGlwZWxpbmVcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRGVmYXVsdENhbWVyYVN5c3RlbSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIFBsYXllck9uZUNhbWVyYTogQkFCWUxPTi5GcmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIHN0YXRpYyBQbGF5ZXJUd29DYW1lcmE6IEJBQllMT04uRnJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgUGxheWVyVGhyZWVDYW1lcmE6IEJBQllMT04uRnJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgUGxheWVyRm91ckNhbWVyYTogQkFCWUxPTi5GcmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIHN0YXRpYyBYUkV4cGVyaWVuY2VIZWxwZXI6IEJBQllMT04uV2ViWFJEZWZhdWx0RXhwZXJpZW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgbXVsdGlQbGF5ZXJWaWV3OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIG11bHRpUGxheWVyQ291bnQ6IG51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIG11bHRpUGxheWVyQ2FtZXJhczogQkFCWUxPTi5DYW1lcmFbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIHN0ZXJlb0NhbWVyYXM6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBzdGFydHVwTW9kZTogbnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgY2FtZXJhUmVhZHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgcmVuZGVyaW5nUGlwZWxpbmU6IEJBQllMT04uRGVmYXVsdFJlbmRlcmluZ1BpcGVsaW5lID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc2NyZWVuU3BhY2VQaXBlbGluZTogQkFCWUxPTi5TU0FPUmVuZGVyaW5nUGlwZWxpbmUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFJlbmRlcmluZ1BpcGVsaW5lKCk6IEJBQllMT04uRGVmYXVsdFJlbmRlcmluZ1BpcGVsaW5lIHsgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZTsgfTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRTY3JlZW5TcGFjZVBpcGVsaW5lKCk6IEJBQllMT04uU1NBT1JlbmRlcmluZ1BpcGVsaW5lIHsgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5zY3JlZW5TcGFjZVBpcGVsaW5lOyB9O1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzQ2FtZXJhU3lzdGVtUmVhZHkoKTogYm9vbGVhbiB7IHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uY2FtZXJhUmVhZHk7IH1cbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgd2VieHIgZXhwZXJpZW5jZSBoZWxwZXIgaGFzIGJlZW4gY3JlYXRlZCAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uWFJFeHBlcmllbmNlSGVscGVyT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5XZWJYUkRlZmF1bHRFeHBlcmllbmNlPigpO1xuXG4gICAgICAgIHByaXZhdGUgbWFpbkNhbWVyYTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVR5cGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhSW5lcnRpYTogbnVtYmVyID0gMC41O1xuICAgICAgICBwcml2YXRlIGNhbWVyYUNvbnRyb2xsZXI6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgaW1tZXJzaXZlT3B0aW9uczogYW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhcmNSb3RhdGVDb25maWc6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbXVsdGlQbGF5ZXJTZXR1cDogYW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmdWxsU2NyZWVuVG9nZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNldFBvaW50ZXJMb2NrOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBlZGl0b3JQb3N0UHJvY2Vzc2luZzogUFJPSkVDVC5JRWRpdG9yUG9zdFByb2Nlc3NpbmcgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpc01haW5DYW1lcmEoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLm1haW5DYW1lcmE7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVR5cGUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY2FtZXJhVHlwZTsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX2NhbWVyYVJpZzogQkFCWUxPTi5UYXJnZXRDYW1lcmEgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZUNhbWVyYVN5c3RlbVN0YXRlKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyB0aGlzLnN0YXJ0Q2FtZXJhU3lzdGVtU3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQgeyB0aGlzLnVwZGF0ZUNhbWVyYVN5c3RlbVN0YXRlKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7IHRoaXMuZGVzdHJveUNhbWVyYVN5c3RlbVN0YXRlKCk7IH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBTeXN0ZW0gU3RhdGUgRnVuY3Rpb25zIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZUNhbWVyYVN5c3RlbVN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tYWluQ2FtZXJhID0gKHRoaXMuZ2V0VHJhbnNmb3JtVGFnKCkgPT09IFwiTWFpbkNhbWVyYVwiKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhVHlwZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYWluQ2FtZXJhVHlwZVwiLCB0aGlzLmNhbWVyYVR5cGUpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFJbmVydGlhID0gdGhpcy5nZXRQcm9wZXJ0eShcInNldENhbWVyYUluZXJ0aWFcIiwgdGhpcy5jYW1lcmFJbmVydGlhKTtcbiAgICAgICAgICAgIHRoaXMuZnVsbFNjcmVlblRvZ2dsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmdWxsU2NyZWVuVG9nZ2xlXCIsIHRoaXMuZnVsbFNjcmVlblRvZ2dsZSk7XG4gICAgICAgICAgICB0aGlzLnNldFBvaW50ZXJMb2NrID0gdGhpcy5nZXRQcm9wZXJ0eShcInNldFBvaW50ZXJMb2NrXCIsIHRoaXMuc2V0UG9pbnRlckxvY2spO1xuICAgICAgICAgICAgdGhpcy5pbW1lcnNpdmVPcHRpb25zID0gdGhpcy5nZXRQcm9wZXJ0eShcImltbWVyc2l2ZU9wdGlvbnNcIiwgdGhpcy5pbW1lcnNpdmVPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuYXJjUm90YXRlQ29uZmlnID0gdGhpcy5nZXRQcm9wZXJ0eShcImFyY1JvdGF0ZUNvbmZpZ1wiLCB0aGlzLmFyY1JvdGF0ZUNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLm11bHRpUGxheWVyU2V0dXAgPSB0aGlzLmdldFByb3BlcnR5KFwibXVsdGlQbGF5ZXJTZXR1cFwiLCB0aGlzLm11bHRpUGxheWVyU2V0dXApO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFDb250cm9sbGVyID0gdGhpcy5nZXRQcm9wZXJ0eShcImNhbWVyYUNvbnRyb2xsZXJcIiwgdGhpcy5jYW1lcmFDb250cm9sbGVyKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwicmVuZGVyaW5nUGlwZWxpbmVcIiwgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZyk7XG4gICAgICAgICAgICB0aGlzLmNsZWFuQ2FtZXJhU3lzdGVtU3RhdGUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZ1bGxTY3JlZW5Ub2dnbGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LkYsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnNjZW5lLmdldEVuZ2luZSgpLmVudGVyRnVsbHNjcmVlbih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgU00uRW50ZXJGdWxsc2NyZWVuTW9kZSh0aGlzLnNjZW5lLCB0aGlzLnNldFBvaW50ZXJMb2NrKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhc3luYyBzdGFydENhbWVyYVN5c3RlbVN0YXRlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5WYWxpZGF0ZVRyYW5zZm9ybVF1YXRlcm5pb24odGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgaWYgKHRoaXMubXVsdGlQbGF5ZXJTZXR1cCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnN0YXJ0dXBNb2RlID0gdGhpcy5tdWx0aVBsYXllclNldHVwLnBsYXllclN0YXJ0dXBNb2RlO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5zdGVyZW9DYW1lcmFzID0gdGhpcy5tdWx0aVBsYXllclNldHVwLnN0ZXJlb1NpZGVCeVNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gRGVmYXVsdCBDYW1lcmEgU3lzdGVtIFN1cHBvcnRcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnID0gdGhpcy5nZXRDYW1lcmFSaWcoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuc3BlZWQgPSB0aGlzLmNhbWVyYUNvbnRyb2xsZXIuY2FtZXJhU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuaW52ZXJzZVJvdGF0aW9uU3BlZWQgPSB0aGlzLmNhbWVyYUNvbnRyb2xsZXIuaW52Um90YXRpb25TcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFSaWcgaW5zdGFuY2VvZiBCQUJZTE9OLlVuaXZlcnNhbENhbWVyYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5nYW1lcGFkQW5ndWxhclNlbnNpYmlsaXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLmdhbWVwYWRSb3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuZ2FtZXBhZE1vdmVTZW5zaWJpbGl0eSA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5nYW1lcGFkTW92ZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLnRvdWNoQW5ndWxhclNlbnNpYmlsaXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnRvdWNoUm90YXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLnRvdWNoTW92ZVNlbnNpYmlsaXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnRvdWNoTW92ZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29udHJvbGxlci5rZXlib2FyZFdBU0QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnLmlucHV0cyAhPSBudWxsICYmIHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzLmF0dGFjaGVkICE9IG51bGwgJiYgdGhpcy5tX2NhbWVyYVJpZy5pbnB1dHMuYXR0YWNoZWQua2V5Ym9hcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnLmlucHV0cy5hdHRhY2hlZC5rZXlib2FyZCBpbnN0YW5jZW9mIEJBQllMT04uRnJlZUNhbWVyYUtleWJvYXJkTW92ZUlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpbnB1dDogQkFCWUxPTi5GcmVlQ2FtZXJhS2V5Ym9hcmRNb3ZlSW5wdXQgPSB0aGlzLm1fY2FtZXJhUmlnLmlucHV0cy5hdHRhY2hlZC5rZXlib2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNVcC5wdXNoKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuVyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbnB1dC5rZXlzTGVmdC5wdXNoKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuQSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbnB1dC5rZXlzRG93bi5wdXNoKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuUyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbnB1dC5rZXlzUmlnaHQucHVzaChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LkQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQucm90YXRpb25TcGVlZCA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5yb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb250cm9sbGVyLmFycm93S2V5Um90YXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbnB1dC5rZXlzTGVmdCA9IFtCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LkFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNSaWdodCA9IFtCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LkRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNSb3RhdGVMZWZ0ID0gW0JBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuTGVmdEFycm93XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbnB1dC5rZXlzUm90YXRlUmlnaHQgPSBbQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5SaWdodEFycm93XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVJpZy5pbnB1dHMgIT0gbnVsbCAmJiB0aGlzLm1fY2FtZXJhUmlnLmlucHV0cy5hdHRhY2hlZCAhPSBudWxsICYmIHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzLmF0dGFjaGVkLm1vdXNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2VJbnB1dDogYW55ID0gdGhpcy5tX2NhbWVyYVJpZy5pbnB1dHMuYXR0YWNoZWQubW91c2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IFRvdWNoIEVuYWJsZWQgTW91c2UgSGFja1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5IYXNPd25Qcm9wZXJ0eShtb3VzZUlucHV0LCBcInRvdWNoRW5hYmxlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VJbnB1dC50b3VjaEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDAgfHwgdGhpcy5jYW1lcmFUeXBlID09PSA0KSB7IC8vIFVuaXZlcnNhbCBBbmQgRnJlZSBUYXJnZXQgQ2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhID0gKHRoaXMubV9jYW1lcmFSaWcgYXMgQkFCWUxPTi5GcmVlQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS5pbmVydGlhID0gdGhpcy5jYW1lcmFJbmVydGlhO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKS50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgLy99ICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAxIHx8IHRoaXMuY2FtZXJhVHlwZSA9PT0gMikgeyAvLyBXZWJYUiBDYW1lcmEgVHlwZXNcbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPSAodGhpcy5tX2NhbWVyYVJpZyBhcyBCQUJZTE9OLkZyZWVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAvL30gICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmltbWVyc2l2ZU9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxTdG9yYWdlUmVxdWlyZWQ6IGJvb2xlYW4gPSAodGhpcy5pbW1lcnNpdmVPcHRpb25zLmxvY2FsU3RvcmFnZU9wdGlvbiA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlUmVxdWlyZWQgPT09IGZhbHNlIHx8IChsb2NhbFN0b3JhZ2VSZXF1aXJlZCA9PT0gdHJ1ZSAmJiBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5HZXRWaXJ0dWFsUmVhbGl0eUVuYWJsZWQoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2VidnJGbG9vck1lc2hlczogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdlYnZySGVscGVyT3B0aW9uczogQkFCWUxPTi5XZWJYUkRlZmF1bHRFeHBlcmllbmNlT3B0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdlYnZySW1tZXJzaXZlTW9kZTogWFJTZXNzaW9uTW9kZSA9ICh0aGlzLmNhbWVyYVR5cGUgPT09IDEpID8gXCJpbW1lcnNpdmUtYXJcIiA6IFwiaW1tZXJzaXZlLXZyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdlYnZyUmVmZXJlbmNlVHlwZTogWFJSZWZlcmVuY2VTcGFjZVR5cGUgPSBcImxvY2FsLWZsb29yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmltbWVyc2l2ZU9wdGlvbnMucmVmZXJlbmNlU3BhY2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwidmlld2VyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJSZWZlcmVuY2VUeXBlID0gXCJsb2NhbFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwibG9jYWwtZmxvb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJ2clJlZmVyZW5jZVR5cGUgPSBcInVuYm91bmRlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJ2clJlZmVyZW5jZVR5cGUgPSBcImxvY2FsLWZsb29yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5zZXRGbG9vck1lc2hlc1RhZ3MgPT0gbnVsbCB8fCB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuc2V0Rmxvb3JNZXNoZXNUYWdzID09PSBcIlwiKSB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuc2V0Rmxvb3JNZXNoZXNUYWdzID0gXCJOYXZpZ2F0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kZWZhdWx0VGVsZXBvcnRhdGlvblNldHVwLnVzZVRlbGVwb3J0YXRpb24gPT09IHRydWUpIHdlYnZyRmxvb3JNZXNoZXMgPSB0aGlzLnNjZW5lLmdldE1lc2hlc0J5VGFncyh0aGlzLmltbWVyc2l2ZU9wdGlvbnMuc2V0Rmxvb3JNZXNoZXNUYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAudXNlVGVsZXBvcnRhdGlvbiA9PT0gdHJ1ZSAmJiB3ZWJ2ckZsb29yTWVzaGVzICE9IG51bGwgJiYgd2VidnJGbG9vck1lc2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZySGVscGVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yTWVzaGVzOiB3ZWJ2ckZsb29yTWVzaGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxGZWF0dXJlczogdGhpcy5pbW1lcnNpdmVPcHRpb25zLm9wdGlvbmFsRmVhdHVyZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VTdGFibGVQbHVnaW5zOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMudXNlU3RhYmxlUGx1Z2lucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ0dyb3VwSWQ6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5yZW5kZXJpbmdHcm91cE51bSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kaXNhYmxlVXNlckludGVyZmFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVUZWxlcG9ydGF0aW9uOiAodGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAudXNlVGVsZXBvcnRhdGlvbiA9PT0gZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVBvaW50ZXJTZWxlY3Rpb246IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kaXNhYmxlUG9pbnRlclNlbGVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZU5hdGl2ZUNhbWVyYVRyYW5zZm9ybWF0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuaWdub3JlTmF0aXZlQ2FtZXJhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Ob3RMb2FkQ29udHJvbGxlck1lc2hlczogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZGlzYWJsZU1lc2hMb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlSW5wdXRQcm9maWxlOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5mb3JjZUlucHV0UHJvZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlT25saW5lQ29udHJvbGxlclJlcG9zaXRvcnk6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmRpc2FibGVSZXBvc2l0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUNvbnRyb2xsZXJzUmVwb3NpdG9yeVVSTDogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY3VzdG9tUmVwb3NpdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlQ29udHJvbGxlckFuaW1hdGlvbjogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZGlzYWJsZU1vZGVsQW5pbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlTW90aW9uQ29udHJvbGxlckFuaW1hdGlvbjogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMuZGlzYWJsZUN0cmxBbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb05vdExvYWRDb250cm9sbGVyTWVzaDogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMuZGlzYWJsZUN0cmxNZXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUNvbnRyb2xsZXJQcm9maWxlOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5mb3JjZUN0cmxQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdHcm91cElkOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5yZW5kZXJpbmdHcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uTW9kZTogd2VidnJJbW1lcnNpdmVNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZVNwYWNlVHlwZTogd2VidnJSZWZlcmVuY2VUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJ2ckhlbHBlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEZlYXR1cmVzOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMub3B0aW9uYWxGZWF0dXJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZVN0YWJsZVBsdWdpbnM6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy51c2VTdGFibGVQbHVnaW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nR3JvdXBJZDogdGhpcy5pbW1lcnNpdmVPcHRpb25zLnJlbmRlcmluZ0dyb3VwTnVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRpc2FibGVVc2VySW50ZXJmYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVRlbGVwb3J0YXRpb246ICh0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGVmYXVsdFRlbGVwb3J0YXRpb25TZXR1cC51c2VUZWxlcG9ydGF0aW9uID09PSBmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlUG9pbnRlclNlbGVjdGlvbjogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRpc2FibGVQb2ludGVyU2VsZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlTmF0aXZlQ2FtZXJhVHJhbnNmb3JtYXRpb246IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5pZ25vcmVOYXRpdmVDYW1lcmEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb05vdExvYWRDb250cm9sbGVyTWVzaGVzOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlTWVzaExvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VJbnB1dFByb2ZpbGU6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmZvcmNlSW5wdXRQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVPbmxpbmVDb250cm9sbGVyUmVwb3NpdG9yeTogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZGlzYWJsZVJlcG9zaXRvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ29udHJvbGxlcnNSZXBvc2l0b3J5VVJMOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jdXN0b21SZXBvc2l0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDb250cm9sbGVyQW5pbWF0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlTW9kZWxBbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVNb3Rpb25Db250cm9sbGVyQW5pbWF0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5kaXNhYmxlQ3RybEFuaW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90TG9hZENvbnRyb2xsZXJNZXNoOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5kaXNhYmxlQ3RybE1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlQ29udHJvbGxlclByb2ZpbGU6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmNvbnRyb2xsZXJPcHRpb25zLmZvcmNlQ3RybFByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ0dyb3VwSWQ6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5yZW5kZXJpbmdHcm91cE51bVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uTW9kZTogd2VidnJJbW1lcnNpdmVNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZVNwYWNlVHlwZTogd2VidnJSZWZlcmVuY2VUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlciA9IGF3YWl0IHRoaXMuc2NlbmUuY3JlYXRlRGVmYXVsdFhSRXhwZXJpZW5jZUFzeW5jKHdlYnZySGVscGVyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIgIT0gbnVsbCAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyLmJhc2VFeHBlcmllbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIudGVsZXBvcnRhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyLnRlbGVwb3J0YXRpb24ucm90YXRpb25BbmdsZSA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kZWZhdWx0VGVsZXBvcnRhdGlvblNldHVwLnR1cm5pbmdBeGlzQW5nbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci50ZWxlcG9ydGF0aW9uLnJvdGF0aW9uRW5hYmxlZCA9IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kZWZhdWx0VGVsZXBvcnRhdGlvblNldHVwLnJvdGF0aW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyLnRlbGVwb3J0YXRpb24uYmFja3dhcmRzTW92ZW1lbnRFbmFibGVkID0gdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAuYmFja3dhcmRzRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIudGVsZXBvcnRhdGlvbi5iYWNrd2FyZHNUZWxlcG9ydGF0aW9uRGlzdGFuY2UgPSB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGVmYXVsdFRlbGVwb3J0YXRpb25TZXR1cC5iYWNrd2FyZHNEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIudGVsZXBvcnRhdGlvbi5wYXJhYm9saWNDaGVja1JhZGl1cyA9IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kZWZhdWx0VGVsZXBvcnRhdGlvblNldHVwLnBhcmFib2xpY1JhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLk9uWFJFeHBlcmllbmNlSGVscGVyT2JzZXJ2YWJsZSAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uT25YUkV4cGVyaWVuY2VIZWxwZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uT25YUkV4cGVyaWVuY2VIZWxwZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5IYXNOYXZpZ2F0aW9uRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXZtZXNoOiBCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldE5hdmlnYXRpb25NZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0dXBOYXZpZ2F0aW9uV2ViWFIobmF2bWVzaCwgdGhpcy5pbW1lcnNpdmVPcHRpb25zLnNldEZsb29yTWVzaGVzVGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLk9uTmF2TWVzaFJlYWR5T2JzZXJ2YWJsZS5hZGRPbmNlKChuYXZtZXNoOiBCQUJZTE9OLk1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0dXBOYXZpZ2F0aW9uV2ViWFIobmF2bWVzaCwgdGhpcy5pbW1lcnNpdmVPcHRpb25zLnNldEZsb29yTWVzaGVzVGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIldlYlhSIG5vdCBzdXBwb3J0ZWQgaW4gY3VycmVudCBicm93c2VyLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMykgeyAvLyBNdWx0aSBQbGF5ZXIgQ2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVyYU5hbWUgPSB0aGlzLm1fY2FtZXJhUmlnLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJPbmVUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXIgQ2FtZXJhIDFcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllck9uZVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lVHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyT25lTmFtZTogc3RyaW5nID0gY2FtZXJhTmFtZSArIFwiLjFcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyT25lQ2FtZXJheDogQkFCWUxPTi5GcmVlQ2FtZXJhID0gdGhpcy5tX2NhbWVyYVJpZy5jbG9uZShwbGF5ZXJPbmVOYW1lKSBhcyBCQUJZTE9OLkZyZWVDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllck9uZUNhbWVyYXgubmFtZSA9IHBsYXllck9uZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllck9uZUNhbWVyYXgucGFyZW50ID0gcGxheWVyT25lVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPbmVDYW1lcmF4LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPbmVDYW1lcmF4LnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllck9uZUNhbWVyYXguc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPSBwbGF5ZXJPbmVDYW1lcmF4O1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpLnRyYW5zZm9ybSA9IHBsYXllck9uZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+cGxheWVyT25lVHJhbnNmb3JtKS5jYW1lcmFSaWcgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAvL30gICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUd29UcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXIgQ2FtZXJhIDJcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclR3b1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvVHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyVHdvTmFtZTogc3RyaW5nID0gY2FtZXJhTmFtZSArIFwiLjJcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyVHdvQ2FtZXJheDogQkFCWUxPTi5GcmVlQ2FtZXJhID0gdGhpcy5tX2NhbWVyYVJpZy5jbG9uZShwbGF5ZXJUd29OYW1lKSBhcyBCQUJZTE9OLkZyZWVDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclR3b0NhbWVyYXgubmFtZSA9IHBsYXllclR3b05hbWU7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclR3b0NhbWVyYXgucGFyZW50ID0gcGxheWVyVHdvVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29DYW1lcmF4LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29DYW1lcmF4LnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclR3b0NhbWVyYXguc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgPSBwbGF5ZXJUd29DYW1lcmF4O1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEpLnRyYW5zZm9ybSA9IHBsYXllclR3b1RyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+cGxheWVyVHdvVHJhbnNmb3JtKS5jYW1lcmFSaWcgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyVGhyZWVUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXIgQ2FtZXJhIDNcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZVRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyVGhyZWVOYW1lOiBzdHJpbmcgPSBjYW1lcmFOYW1lICsgXCIuM1wiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUaHJlZUNhbWVyYXg6IEJBQllMT04uRnJlZUNhbWVyYSA9IHRoaXMubV9jYW1lcmFSaWcuY2xvbmUocGxheWVyVGhyZWVOYW1lKSBhcyBCQUJZTE9OLkZyZWVDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlQ2FtZXJheC5uYW1lID0gcGxheWVyVGhyZWVOYW1lO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZUNhbWVyYXgucGFyZW50ID0gcGxheWVyVGhyZWVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlQ2FtZXJheC5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlQ2FtZXJheC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZUNhbWVyYXgudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4LnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEgPSBwbGF5ZXJUaHJlZUNhbWVyYXg7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5pbmVydGlhID0gdGhpcy5jYW1lcmFJbmVydGlhO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEpLnRyYW5zZm9ybSA9IHBsYXllclRocmVlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5wbGF5ZXJUaHJlZVRyYW5zZm9ybSkuY2FtZXJhUmlnID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJGb3VyVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwiUGxheWVyIENhbWVyYSA0XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyVHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91clRyYW5zZm9ybS5wYXJlbnQgPSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckZvdXJOYW1lOiBzdHJpbmcgPSBjYW1lcmFOYW1lICsgXCIuNFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJGb3VyQ2FtZXJheDogQkFCWUxPTi5GcmVlQ2FtZXJhID0gdGhpcy5tX2NhbWVyYVJpZy5jbG9uZShwbGF5ZXJGb3VyTmFtZSkgYXMgQkFCWUxPTi5GcmVlQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC5uYW1lID0gcGxheWVyRm91ck5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJDYW1lcmF4LnBhcmVudCA9IHBsYXllckZvdXJUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJDYW1lcmF4LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXgucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXgudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXguc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhID0gcGxheWVyRm91ckNhbWVyYXg7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhKS50cmFuc2Zvcm0gPSBwbGF5ZXJGb3VyVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5wbGF5ZXJGb3VyVHJhbnNmb3JtKS5jYW1lcmFSaWcgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllclZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0TXVsdGlQbGF5ZXJWaWV3TGF5b3V0KHRoaXMuc2NlbmUsIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5zdGFydHVwTW9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgQ2FtZXJhIEF0dGFjaCBDb250cm9sXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb250cm9sbGVyLmF0dGFjaENvbnRyb2wgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5wYXJlbnQgPSBudWxsOyAvLyBEZXRhY2ggQ2FtZXJhIFBhcmVudCBXaGVuIEF0dGFjaGluZyBDb250cm9sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcucG9zaXRpb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLnJvdGF0aW9uUXVhdGVybmlvbiA9ICh0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkgPyB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSA6IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModGhpcy50cmFuc2Zvcm0ucm90YXRpb24ueCwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24ueSwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuOiBCQUJZTE9OLk5vZGVbXSA9IHRoaXMudHJhbnNmb3JtLmdldENoaWxkcmVuKG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IEJBQllMT04uTm9kZSkgPT4geyBjaGlsZC5wYXJlbnQgPSB0aGlzLm1fY2FtZXJhUmlnOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVJpZyBpbnN0YW5jZW9mIEJBQllMT04uRnJlZUNhbWVyYSkgeyAvLyBOb3RlOiBDaGVjayBCYXNlIENsYXNzIEZvciBVbml2ZXJzYWwgQ2FtZXJhXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLmNoZWNrQ29sbGlzaW9ucyA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5jaGVja0NvbGxpc2lvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLmFwcGx5R3Jhdml0eSA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5zZXRBcHBseUdyYXZpdHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5hdHRhY2hDb250cm9sKHRoaXMuY2FtZXJhQ29udHJvbGxlci5wcmV2ZW50RGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcXVhbGl0eTogQkFCWUxPTi5Ub29sa2l0LlJlbmRlclF1YWxpdHkgPSBCQUJZTE9OLlRvb2xraXQuUmVuZGVyUXVhbGl0eS5IaWdoOyAvLyBGSVhNRTogQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRSZW5kZXJRdWFsaXR5KCk7XG4gICAgICAgICAgICBjb25zdCBhbGxvd1Byb2Nlc3Npbmc6IGJvb2xlYW4gPSAocXVhbGl0eSA9PT0gQkFCWUxPTi5Ub29sa2l0LlJlbmRlclF1YWxpdHkuSGlnaCk7XG4gICAgICAgICAgICAvL2lmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ucmVuZGVyaW5nUGlwZWxpbmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGFsbG93UHJvY2Vzc2luZyA9PT0gdHJ1ZSAmJiB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nICE9IG51bGwgJiYgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy51c2VQb3N0UHJvY2Vzc2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZSA9IG5ldyBCQUJZTE9OLkRlZmF1bHRSZW5kZXJpbmdQaXBlbGluZShcIkRlZmF1bHRDYW1lcmFTeXN0ZW1cIiwgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5oaWdoRHluYW1pY1JhbmdlLCB0aGlzLnNjZW5lLCB0aGlzLnNjZW5lLmNhbWVyYXMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ucmVuZGVyaW5nUGlwZWxpbmUuaXNTdXBwb3J0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFBpcGVsaW5lOiBCQUJZTE9OLkRlZmF1bHRSZW5kZXJpbmdQaXBlbGluZSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLnNhbXBsZXMgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlbkFudGlBbGlhc2luZy5tc2FhU2FtcGxlczsgLy8gMSBieSBkZWZhdWx0IChNU0FBKVxuICAgICAgICAgICAgICAgICAgICAvKiBJbWFnZSBQcm9jZXNzaW5nICovXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmdFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2VQcm9jZXNzaW5nOyAvL3RydWUgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29udHJhc3QgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnZUNvbnRyYXN0OyAvLyAxIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuZXhwb3N1cmUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnZUV4cG9zdXJlOyAvLyAxIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudG9uZU1hcHBpbmdFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudG9uZU1hcHBpbmc7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudG9uZU1hcHBpbmdUeXBlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudG9uZU1hcFR5cGU7IC8vIHN0YW5kYXJkIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy52aWduZXR0ZUJsZW5kTW9kZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlQmxlbmRNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVDYW1lcmFGb3YgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZUNhbWVyYUZvdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnZpZ25ldHRlQ2VudHJlWCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlQ2VudHJlWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnZpZ25ldHRlQ2VudHJlWSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlQ2VudHJlWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnZpZ25ldHRlU3RyZXRjaCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlU3RyZXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnZpZ25ldHRlV2VpZ2h0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVXZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlQ29sb3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2Y29sb3I6IEJBQllMT04uQ29sb3I0ID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZUNvbG9yNCh0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZUNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZjb2xvciAhPSBudWxsKSBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnZpZ25ldHRlQ29sb3IgPSB2Y29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ29sb3IgR3JhZGluZyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudXNlQ29sb3JHcmFkaW5nOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS0VFUCBGT1IgUkVGRVJFTkNFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogdXNpbmcgLjNkbCAoYmVzdCkgOiBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ1RleHR1cmUgPSBuZXcgQkFCWUxPTi5Db2xvckdyYWRpbmdUZXh0dXJlKFwidGV4dHVyZXMvTGF0ZVN1bnNldC4zZGxcIiwgdGhpcy5zY2VuZSk7ICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogdXNpbmcgLnBuZyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yR3JhZGluZ1RleHR1cmUgPSBuZXcgQkFCWUxPTi5UZXh0dXJlKFwidGV4dHVyZXMvY29sb3JHcmFkZS1oaWdoQ29udHJhc3QucG5nXCIsIHRoaXMuc2NlbmUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckdyYWRpbmdUZXh0dXJlLndyYXBVID0gQkFCWUxPTi5UZXh0dXJlLkNMQU1QX0FERFJFU1NNT0RFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yR3JhZGluZ1RleHR1cmUud3JhcFYgPSBCQUJZTE9OLlRleHR1cmUuQ0xBTVBfQUREUkVTU01PREU7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JHcmFkaW5nVGV4dHVyZSA9IGNvbG9yR3JhZGluZ1RleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCA9IGZhbHNlOyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnNldEdyYWRpbmdUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JHcmFkaW5nVGV4dHVyZTogQkFCWUxPTi5UZXh0dXJlID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVRleHR1cmUodGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuc2V0R3JhZGluZ1RleHR1cmUsIHRoaXMuc2NlbmUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JHcmFkaW5nVGV4dHVyZS53cmFwVSA9IEJBQllMT04uVGV4dHVyZS5DTEFNUF9BRERSRVNTTU9ERTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JHcmFkaW5nVGV4dHVyZS53cmFwViA9IEJBQllMT04uVGV4dHVyZS5DTEFNUF9BRERSRVNTTU9ERTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdUZXh0dXJlID0gY29sb3JHcmFkaW5nVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZykuY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBDb2xvciBDdXJ2ZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JDdXJ2ZXNFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmN1cnZlc0VuYWJsZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yQ3VydmVzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2ZSA9IG5ldyBCQUJZTE9OLkNvbG9yQ3VydmVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuZ2xvYmFsRGVuc2l0eSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5nbG9iYWxEZW47IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmdsb2JhbEV4cG9zdXJlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmdsb2JhbEV4cDsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuZ2xvYmFsSHVlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmdsb2JhbEh1ZTsgLy8gMzAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmdsb2JhbFNhdHVyYXRpb24gPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuZ2xvYmFsU2F0OyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5oaWdobGlnaHRzRGVuc2l0eSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5oaWdobGlnaHRzRGVuOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5oaWdobGlnaHRzRXhwb3N1cmUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuaGlnaGxpZ2h0c0V4cDsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuaGlnaGxpZ2h0c0h1ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5oaWdobGlnaHRzSHVlOyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuaGlnaGxpZ2h0c1NhdHVyYXRpb24gPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuaGlnaGxpZ2h0c1NhdDsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUubWlkdG9uZXNEZW5zaXR5ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLm1pZHRvbmVzRGVuOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5taWR0b25lc0V4cG9zdXJlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLm1pZHRvbmVzRXhwOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5taWR0b25lc0h1ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5taWR0b25lc0h1ZTsgLy8gMzAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLm1pZHRvbmVzU2F0dXJhdGlvbiA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5taWR0b25lc1NhdDsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuc2hhZG93c0RlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuc2hhZG93c0RlbjsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuc2hhZG93c0V4cG9zdXJlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLnNoYWRvd3NFeHA7IC8vIDgwMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuc2hhZG93c0h1ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5zaGFkb3dzSHVlOyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuc2hhZG93c1NhdHVyYXRpb24gPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuc2hhZG93c1NhdDsgLy8gMCBieSBkZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JDdXJ2ZXMgPSBjdXJ2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBCbG9vbSAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuYmxvb21FbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ibG9vbUVmZmVjdFByb3BlcnRpZXMuYmxvb21FbmFibGVkOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuYmxvb21FbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuYmxvb21LZXJuZWwgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmJsb29tRWZmZWN0UHJvcGVydGllcy5ibG9vbUtlcm5lbDsgLy8gNjQgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmJsb29tU2NhbGUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmJsb29tRWZmZWN0UHJvcGVydGllcy5ibG9vbVNjYWxlOyAvLyAwLjUgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmJsb29tV2VpZ2h0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ibG9vbUVmZmVjdFByb3BlcnRpZXMuYmxvb21XZWlnaHQ7IC8vIDAuMTUgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmJsb29tVGhyZXNob2xkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ibG9vbUVmZmVjdFByb3BlcnRpZXMuYmxvb21UaHJlc2hvbGQ7IC8vIDAuOSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogQ2hyb21hdGljIEFiYmVyYXRpb24gKi9cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmNocm9tYXRpY0FiZXJyYXRpb25FbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5jaHJvbWF0aWNBYmVycmF0aW9uLmFiZXJyYXRpb25FbmFibGVkOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbkVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmFiZXJyYXRpb25BbW91bnQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24uYWJlcnJhdGlvbkFtb3VudDsgLy8gMzAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmNocm9tYXRpY0FiZXJyYXRpb24uYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5jaHJvbWF0aWNBYmVycmF0aW9uLmFkYXB0U2NhbGVWaWV3cG9ydDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmNocm9tYXRpY0FiZXJyYXRpb24uYWxwaGFNb2RlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5jaHJvbWF0aWNBYmVycmF0aW9uLmFscGhhTW9kZTsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5hbHdheXNGb3JjZVBPVCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5hbHdheXNGb3JjZVBPVDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmNocm9tYXRpY0FiZXJyYXRpb24uZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5waXhlbFBlcmZlY3RNb2RlOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5mdWxsc2NyZWVuVmlld3BvcnQ7IC8vIHRydWUgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIERPRiAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQuZGVwdGhPZkZpZWxkOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkRW5hYmxlZCAmJiBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkLmlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkQmx1ckxldmVsID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5ibHVyTGV2ZWw7IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5mU3RvcCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQuZm9jYWxTdG9wOyAvLyAxLjQgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5mb2NhbExlbmd0aCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQuZm9jYWxMZW5ndGg7IC8vIDUwIGJ5IGRlZmF1bHQsIG1tXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkLmZvY3VzRGlzdGFuY2UgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmZvY2FsRGVwdGhPZkZpZWxkLmZvY3VzRGlzdGFuY2U7IC8vIDIwMDAgYnkgZGVmYXVsdCwgbW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5kZXB0aE9mRmllbGQubGVuc1NpemUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmZvY2FsRGVwdGhPZkZpZWxkLm1heExlbnNTaXplOyAvLyA1MCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogRlhBQSAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZnhhYUVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlbkFudGlBbGlhc2luZy5meGFhRW5hYmxlZDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmZ4YWFFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZnhhYS5zYW1wbGVzID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5BbnRpQWxpYXNpbmcuZnhhYVNhbXBsZXM7IC8vIDEgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmZ4YWEuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5BbnRpQWxpYXNpbmcuZnhhYVNjYWxpbmc7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBHbG93TGF5ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdsb3dMYXllckVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmdsb3dMYXllclByb3BlcnRpZXMuZ2xvd0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuZ2xvd0xheWVyRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdsb3dMYXllci5pbnRlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmdsb3dMYXllclByb3BlcnRpZXMuZ2xvd0ludGVuc2l0eTsgLy8gMSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ2xvd0xheWVyLmJsdXJLZXJuZWxTaXplID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5nbG93TGF5ZXJQcm9wZXJ0aWVzLmJsdXJLZXJuZWxTaXplOyAvLyAxNiBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogR3JhaW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdyYWluRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ3JhaW5FZmZlY3RQcm9wZXJ0aWVzLmdyYWluRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5ncmFpbkVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ncmFpbi5hbmltYXRlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ3JhaW5FZmZlY3RQcm9wZXJ0aWVzLmdyYWluQW5pbWF0ZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ncmFpbi5pbnRlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmdyYWluRWZmZWN0UHJvcGVydGllcy5ncmFpbkludGVuc2l0eTsgLy8gMzAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdyYWluLmFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ3JhaW5FZmZlY3RQcm9wZXJ0aWVzLmFkYXB0U2NhbGVWaWV3cG9ydDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIFNoYXJwZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLnNoYXJwZW5FbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zaGFycEVmZmVjdFByb3BlcnRpZXMuc2hhcnBlbkVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuc2hhcnBlbkVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5zaGFycGVuLmVkZ2VBbW91bnQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNoYXJwRWZmZWN0UHJvcGVydGllcy5zaGFycEVkZ2VBbW91bnQ7IC8vIDAuMyBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuc2hhcnBlbi5jb2xvckFtb3VudCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2hhcnBFZmZlY3RQcm9wZXJ0aWVzLnNoYXJwQ29sb3JBbW91bnQ7IC8vIDEgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLnNoYXJwZW4uYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zaGFycEVmZmVjdFByb3BlcnRpZXMuYWRhcHRTY2FsZVZpZXdwb3J0OyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJCYWJ5bG9uLmpzIGRlZmF1bHQgcmVuZGVyaW5nIHBpcGVsaW5lIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2NyZWVuIFNwYWNlIEFtYmllbnQgT2NjbHVzaW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZyAhPSBudWxsICYmIHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuU3BhY2VSZW5kZXJpbmcuU1NBTyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzc2FvUmF0aW86IGFueSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNzYW9SYXRpbzogdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5TU0FPUmF0aW8sICAgICAvLyBSYXRpbyBvZiB0aGUgU1NBTyBwb3N0LXByb2Nlc3MsIGluIGEgbG93ZXIgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgY29tYmluZVJhdGlvOiB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nLmNvbWJpbmVSYXRpbyAgIC8vIFJhdGlvIG9mIHRoZSBjb21iaW5lIHBvc3QtcHJvY2VzcyAoY29tYmluZXMgdGhlIFNTQU8gYW5kIHRoZSBzY2VuZSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnNjcmVlblNwYWNlUGlwZWxpbmUgPSBuZXcgQkFCWUxPTi5TU0FPUmVuZGVyaW5nUGlwZWxpbmUoXCJEZWZhdWx0Q2FtZXJhU3lzdGVtLVNTQU9cIiwgdGhpcy5zY2VuZSwgc3Nhb1JhdGlvLCB0aGlzLnNjZW5lLmNhbWVyYXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnNjcmVlblNwYWNlUGlwZWxpbmUuaXNTdXBwb3J0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNzYW9QaXBlbGluZTogQkFCWUxPTi5TU0FPUmVuZGVyaW5nUGlwZWxpbmUgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uc2NyZWVuU3BhY2VQaXBlbGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNzYW9QaXBlbGluZS5mYWxsT2ZmID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5mYWxsT2ZmO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Nhb1BpcGVsaW5lLmFyZWEgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nLmFyZWE7XG4gICAgICAgICAgICAgICAgICAgICAgICBzc2FvUGlwZWxpbmUucmFkaXVzID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5yYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBzc2FvUGlwZWxpbmUudG90YWxTdHJlbmd0aCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuU3BhY2VSZW5kZXJpbmcudG90YWxTdHJlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNzYW9QaXBlbGluZS5iYXNlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5iYXNlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJCYWJ5bG9uLmpzIFNTQU8gcmVuZGVyaW5nIHBpcGVsaW5lIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL31cbiAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5jYW1lcmFSZWFkeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUNhbWVyYVN5c3RlbVN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFSaWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDApIHsgICAgICAgIC8vIERlZmF1bHQgVW5pdmVyc2FsIENhbWVyYVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAxKSB7IC8vIEF1Z21lbnRlZCBSZWFsaXR5IENhbWVyYVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAyKSB7IC8vIFZpcnR1YWwgUmVhbGl0eSBDYW1lcmFcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMykgeyAvLyBNdWx0aSBQbGF5ZXIgQ2FtZXJhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBjbGVhbkNhbWVyYVN5c3RlbVN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL1BST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3lDYW1lcmFTeXN0ZW1TdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuaW1tZXJzaXZlT3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBWaXJ0dWFsIFJlYWxpdHkgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBHZXQgdGhlIFdlYlhSIGRlZmF1bHQgZXhwZXJpZW5jZSBoZWxwZXIgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRXZWJYUigpOiBCQUJZTE9OLldlYlhSRGVmYXVsdEV4cGVyaWVuY2UgeyByZXR1cm4gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlcjsgfVxuICAgICAgICAvKiogSXMgdW5pdmVyc2FsIGNhbWVyYSBzeXN0ZW0gaW4gV2ViWFIgbW9kZSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzSW5XZWJYUigpOiBib29sZWFuIHsgcmV0dXJuIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyICE9IG51bGwgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci5iYXNlRXhwZXJpZW5jZSAhPSBudWxsICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIuYmFzZUV4cGVyaWVuY2Uuc3RhdGUgPT09IEJBQllMT04uV2ViWFJTdGF0ZS5JTl9YUik7IH1cbiAgICAgICAgLyoqIFNldHVwIG5hdmlnYXRpb24gbWVzaCBmb3IgV2ViWFIgKi9cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2V0dXBOYXZpZ2F0aW9uV2ViWFIobWVzaDogQkFCWUxPTi5NZXNoLCB0YWc6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3Qgd2VieHI6IEJBQllMT04uV2ViWFJEZWZhdWx0RXhwZXJpZW5jZSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXI7XG4gICAgICAgICAgICBpZiAod2VieHIgIT0gbnVsbCAmJiB3ZWJ4ci50ZWxlcG9ydGF0aW9uICE9IG51bGwgJiYgbWVzaCAhPSBudWxsICYmIHRhZyAhPSBudWxsICYmIHRhZyAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzdGFnOiBib29sZWFuID0gQkFCWUxPTi5UYWdzLk1hdGNoZXNRdWVyeShtZXNoLCB0YWcpO1xuICAgICAgICAgICAgICAgIGlmIChoYXN0YWcgPT09IHRydWUpIHdlYnhyLnRlbGVwb3J0YXRpb24uYWRkRmxvb3JNZXNoKG1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFVuaXZlcnNhbCBDYW1lcmEgU3lzdGVtIFBsYXllciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEdldCBtYWluIGNhbWVyYSByaWcgZm9yIHRoZSBzY2VuZSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldE1haW5DYW1lcmEoc2NlbmU6IEJBQllMT04uU2NlbmUsIGRldGFjaDogYm9vbGVhbiA9IGZhbHNlKTogQkFCWUxPTi5GcmVlQ2FtZXJhIHtcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uR2V0UGxheWVyQ2FtZXJhKHNjZW5lLCBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSwgZGV0YWNoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHVuaXZlcnNhbCBjYW1lcmEgcmlnIGZvciBkZXNpcmVkIHBsYXllciAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFBsYXllckNhbWVyYShzY2VuZTogQkFCWUxPTi5TY2VuZSwgcGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUsIGRldGFjaDogYm9vbGVhbiA9IGZhbHNlKTogQkFCWUxPTi5GcmVlQ2FtZXJhIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IEJBQllMT04uRnJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgdHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uR2V0Q2FtZXJhVHJhbnNmb3JtKHNjZW5lLCBwbGF5ZXIpO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5Jc0NhbWVyYVN5c3RlbVJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyID09PSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhICE9IG51bGwpIHJlc3VsdCA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyID09PSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlR3byAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhICE9IG51bGwpIHJlc3VsdCA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyID09PSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlRocmVlICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSAhPSBudWxsKSByZXN1bHQgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyID09PSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLkZvdXIgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgIT0gbnVsbCkgcmVzdWx0ID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmE7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsICYmIGRldGFjaCA9PT0gdHJ1ZSAmJiBwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucG9zaXRpb24uY29weUZyb20odHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yb3RhdGlvblF1YXRlcm5pb24gPSAodHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSA6IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModHJhbnNmb3JtLnJvdGF0aW9uLngsIHRyYW5zZm9ybS5yb3RhdGlvbi55LCB0cmFuc2Zvcm0ucm90YXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbjogQkFCWUxPTi5Ob2RlW10gPSB0cmFuc2Zvcm0uZ2V0Q2hpbGRyZW4obnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBCQUJZTE9OLk5vZGUpID0+IHsgY2hpbGQucGFyZW50ID0gcmVzdWx0OyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCBjYW1lcmEgdHJhbnNmb3JtIG5vZGUgZm9yIGRlc2lyZWQgcGxheWVyICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q2FtZXJhVHJhbnNmb3JtKHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5Jc0NhbWVyYVN5c3RlbVJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyID09PSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhICE9IG51bGwgJiYgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSkudHJhbnNmb3JtICE9IG51bGwpIHJlc3VsdCA9ICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuVHdvICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgIT0gbnVsbCAmJiAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhKS50cmFuc2Zvcm0gIT0gbnVsbCkgcmVzdWx0ID0gKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSkudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllciA9PT0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5UaHJlZSAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEgIT0gbnVsbCAmJiAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEpLnRyYW5zZm9ybSAhPSBudWxsKSByZXN1bHQgPSAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuRm91ciAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSAhPSBudWxsICYmICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhKS50cmFuc2Zvcm0gIT0gbnVsbCkgcmVzdWx0ID0gKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBTeXN0ZW0gTXVsdGkgUGxheWVyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogQXJlIHN0ZXJlbyBzaWRlIHNpZGUgY2FtZXJhIHNlcnZpY2VzIGF2YWlsYWJsZS4gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc1N0ZXJlb0NhbWVyYXMoKTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnN0ZXJlb0NhbWVyYXM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEFyZSBsb2NhbCBtdWx0aSBwbGF5ZXIgdmlldyBzZXJ2aWNlcyBhdmFpbGFibGUuICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNNdWx0aVBsYXllclZpZXcoKTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyVmlldztcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHRoZSBjdXJyZW50IGxvY2FsIG11bHRpIHBsYXllciBjb3VudCAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldE11bHRpUGxheWVyQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDb3VudDtcbiAgICAgICAgfVxuICAgICAgICAvKiogQWN0aXZhdGVzIGN1cnJlbnQgbG9jYWwgbXVsdGkgcGxheWVyIGNhbWVyYXMuICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQWN0aXZhdGVNdWx0aVBsYXllckNhbWVyYXMoc2NlbmU6IEJBQllMT04uU2NlbmUpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzICE9IG51bGwgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2NlbmUuYWN0aXZlQ2FtZXJhcyA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXM7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIERpc3Bvc2VzIGN1cnJlbnQgbG9jYWwgbXVsdGlwbGF5ZXIgY2FtZXJhcyAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIERpc3Bvc2VNdWx0aVBsYXllckNhbWVyYXMoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgdGhlIG11bHRpIHBsYXllciBjYW1lcmEgdmlldyBsYXlvdXQgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRNdWx0aVBsYXllclZpZXdMYXlvdXQoc2NlbmU6IEJBQllMT04uU2NlbmUsIHRvdGFsTnVtUGxheWVyczogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcGxheWVyczogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodG90YWxOdW1QbGF5ZXJzLCAxLCA0KTtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uSXNNdWx0aVBsYXllclZpZXcoKSkge1xuICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhICE9IG51bGwgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSAhPSBudWxsICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSAhPSBudWxsICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVycyA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXllcnMgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uc3RlcmVvQ2FtZXJhcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLjUsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLjUsIDAsIDAuNSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLjUsIDEsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDEsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF5ZXJzID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMC41LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLjUsIDAuNSwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMC41LCAwLCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXllcnMgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLjUsIDAuNSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLjUsIDAuNSwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAuNSwgMCwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkJhYnlsb24uanMgY2FtZXJhIHJpZyBpbnZhbGlkIHBsYXllciBjb3VudCBzcGVjaWZpZWQ6IFwiICsgcGxheWVycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJCYWJ5bG9uLmpzIGNhbWVyYSByaWcgZmFpbGVkIHRvIGluaXRpYWxpemUgbXVsdGkgcGxheWVyIGNhbWVyYXNcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNvdW50ID0gcGxheWVycztcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uQWN0aXZhdGVNdWx0aVBsYXllckNhbWVyYXMoc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJCYWJ5bG9uLmpzIGNhbWVyYSByaWcgZmFpbGVkIHRvIGluaXRpYWxpemUgbXVsdGkgcGxheWVyIHZpZXdzXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJCYWJ5bG9uLmpzIGNhbWVyYSByaWcgbXVsdGkgcGxheWVyIHZpZXcgb3B0aW9uIG5vdCBlbmFibGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8qKiBDYW1lcmEgRWRpdG9yIFByb3BlcnRpZXMgU3VwcG9ydCBDbGFzc2VzICovXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JBcmNSdG90YXRlIHtcbiAgICAgICAgYWxwaGE6IG51bWJlcjtcbiAgICAgICAgYmV0YTogbnVtYmVyO1xuICAgICAgICByYWRpdXM6IG51bWJlcjtcbiAgICAgICAgdGFyZ2V0OiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMztcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yUG9zdFByb2Nlc3Npbmcge1xuICAgICAgICB1c2VQb3N0UHJvY2Vzc2luZzogYm9vbGVhbjtcbiAgICAgICAgaGlnaER5bmFtaWNSYW5nZTogYm9vbGVhbjtcbiAgICAgICAgc2NyZWVuQW50aUFsaWFzaW5nOiBQUk9KRUNULklFZGl0b3JBbnRpQWxpYXNpbmc7XG4gICAgICAgIGZvY2FsRGVwdGhPZkZpZWxkOiBQUk9KRUNULklFZGl0b3JEZXB0aE9mRmllbGQ7XG4gICAgICAgIGNocm9tYXRpY0FiZXJyYXRpb246IFBST0pFQ1QuSUVkaXRvckNocm9tYXRpY0FiZXJyYXRpb247XG4gICAgICAgIGdsb3dMYXllclByb3BlcnRpZXM6IFBST0pFQ1QuSUVkaXRvckdsb3dMYXllcjtcbiAgICAgICAgZ3JhaW5FZmZlY3RQcm9wZXJ0aWVzOiBQUk9KRUNULklFZGl0b3JHcmFpbkVmZmVjdDtcbiAgICAgICAgc2hhcnBFZmZlY3RQcm9wZXJ0aWVzOiBQUk9KRUNULklFZGl0b3JTaGFycGVuRWZmZWN0O1xuICAgICAgICBibG9vbUVmZmVjdFByb3BlcnRpZXM6IFBST0pFQ1QuSUVkaXRvckJsb29tUHJvY2Vzc2luZztcbiAgICAgICAgaW1hZ2VQcm9jZXNzaW5nQ29uZmlnOiBQUk9KRUNULklFZGl0b3JJbWFnZVByb2Nlc3Npbmc7XG4gICAgICAgIHNjcmVlblNwYWNlUmVuZGVyaW5nOiBQUk9KRUNULklFZGl0b3JTY3JlZW5TcGFjZTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yU2NyZWVuU3BhY2Uge1xuICAgICAgICBTU0FPOiBib29sZWFuO1xuICAgICAgICBTU0FPUmF0aW86IG51bWJlcjtcbiAgICAgICAgY29tYmluZVJhdGlvOiBudW1iZXI7XG4gICAgICAgIHRvdGFsU3RyZW5ndGg6IG51bWJlcjtcbiAgICAgICAgcmFkaXVzOiBudW1iZXI7XG4gICAgICAgIGFyZWE6IG51bWJlcjtcbiAgICAgICAgZmFsbE9mZjogbnVtYmVyO1xuICAgICAgICBiYXNlVmFsdWU6IG51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yQW50aUFsaWFzaW5nIHtcbiAgICAgICAgbXNhYVNhbXBsZXM6IG51bWJlcjtcbiAgICAgICAgZnhhYUVuYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIGZ4YWFTY2FsaW5nOiBib29sZWFuO1xuICAgICAgICBmeGFhU2FtcGxlczogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JEZXB0aE9mRmllbGQge1xuICAgICAgICBkZXB0aE9mRmllbGQ6IGJvb2xlYW47XG4gICAgICAgIGJsdXJMZXZlbDogbnVtYmVyO1xuICAgICAgICBmb2NhbFN0b3A6IG51bWJlcjtcbiAgICAgICAgZm9jYWxMZW5ndGg6IG51bWJlcjtcbiAgICAgICAgZm9jdXNEaXN0YW5jZTogbnVtYmVyO1xuICAgICAgICBtYXhMZW5zU2l6ZTogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JDaHJvbWF0aWNBYmVycmF0aW9uIHtcbiAgICAgICAgYWJlcnJhdGlvbkVuYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIGFiZXJyYXRpb25BbW91bnQ6IG51bWJlcjtcbiAgICAgICAgYWRhcHRTY2FsZVZpZXdwb3J0OiBib29sZWFuO1xuICAgICAgICBhbHBoYU1vZGU6IG51bWJlcjtcbiAgICAgICAgYWx3YXlzRm9yY2VQT1Q6IGJvb2xlYW47XG4gICAgICAgIHBpeGVsUGVyZmVjdE1vZGU6IGJvb2xlYW47XG4gICAgICAgIGZ1bGxzY3JlZW5WaWV3cG9ydDogYm9vbGVhbjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yR2xvd0xheWVyIHtcbiAgICAgICAgZ2xvd0VuYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIGdsb3dJbnRlbnNpdHk6IG51bWJlcjtcbiAgICAgICAgYmx1cktlcm5lbFNpemU6IG51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yR3JhaW5FZmZlY3Qge1xuICAgICAgICBncmFpbkVuYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIGdyYWluQW5pbWF0ZWQ6IGJvb2xlYW47XG4gICAgICAgIGdyYWluSW50ZW5zaXR5OiBudW1iZXI7XG4gICAgICAgIGFkYXB0U2NhbGVWaWV3cG9ydDogYm9vbGVhbjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yU2hhcnBlbkVmZmVjdCB7XG4gICAgICAgIHNoYXJwZW5FbmFibGVkOiBib29sZWFuO1xuICAgICAgICBzaGFycEVkZ2VBbW91bnQ6IG51bWJlcjtcbiAgICAgICAgc2hhcnBDb2xvckFtb3VudDogbnVtYmVyO1xuICAgICAgICBhZGFwdFNjYWxlVmlld3BvcnQ6IGJvb2xlYW47XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckJsb29tUHJvY2Vzc2luZyB7XG4gICAgICAgIGJsb29tRW5hYmxlZDogYm9vbGVhbjtcbiAgICAgICAgYmxvb21LZXJuZWw6IG51bWJlcjtcbiAgICAgICAgYmxvb21TY2FsZTogbnVtYmVyO1xuICAgICAgICBibG9vbVdlaWdodDogbnVtYmVyO1xuICAgICAgICBibG9vbVRocmVzaG9sZDogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JDb2xvckN1cnZlcyB7XG4gICAgICAgIGN1cnZlc0VuYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIGdsb2JhbERlbjogbnVtYmVyO1xuICAgICAgICBnbG9iYWxFeHA6IG51bWJlcjtcbiAgICAgICAgZ2xvYmFsSHVlOiBudW1iZXI7XG4gICAgICAgIGdsb2JhbFNhdDogbnVtYmVyO1xuICAgICAgICBoaWdobGlnaHRzRGVuOiBudW1iZXI7XG4gICAgICAgIGhpZ2hsaWdodHNFeHA6IG51bWJlcjtcbiAgICAgICAgaGlnaGxpZ2h0c0h1ZTogbnVtYmVyO1xuICAgICAgICBoaWdobGlnaHRzU2F0OiBudW1iZXI7XG4gICAgICAgIG1pZHRvbmVzRGVuOiBudW1iZXI7XG4gICAgICAgIG1pZHRvbmVzRXhwOiBudW1iZXI7XG4gICAgICAgIG1pZHRvbmVzSHVlOiBudW1iZXI7XG4gICAgICAgIG1pZHRvbmVzU2F0OiBudW1iZXI7XG4gICAgICAgIHNoYWRvd3NEZW46IG51bWJlcjtcbiAgICAgICAgc2hhZG93c0V4cDogbnVtYmVyO1xuICAgICAgICBzaGFkb3dzSHVlOiBudW1iZXI7XG4gICAgICAgIHNoYWRvd3NTYXQ6IG51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9ySW1hZ2VQcm9jZXNzaW5nIHtcbiAgICAgICAgaW1hZ2VQcm9jZXNzaW5nOiBib29sZWFuO1xuICAgICAgICBpbWFnZUNvbnRyYXN0OiBudW1iZXI7XG4gICAgICAgIGltYWdlRXhwb3N1cmU6IG51bWJlcjtcbiAgICAgICAgdG9uZU1hcHBpbmc6IGJvb2xlYW47XG4gICAgICAgIHRvbmVNYXBUeXBlOiBudW1iZXI7XG4gICAgICAgIHZpZ25ldHRlRW5hYmxlZDogYm9vbGVhbjtcbiAgICAgICAgdmlnbmV0dGVCbGVuZE1vZGU6IG51bWJlcjtcbiAgICAgICAgdmlnbmV0dGVDYW1lcmFGb3Y6IG51bWJlcjtcbiAgICAgICAgdmlnbmV0dGVTdHJldGNoOiBudW1iZXI7XG4gICAgICAgIHZpZ25ldHRlQ2VudHJlWDogbnVtYmVyO1xuICAgICAgICB2aWduZXR0ZUNlbnRyZVk6IG51bWJlcjtcbiAgICAgICAgdmlnbmV0dGVXZWlnaHQ6IG51bWJlcjtcbiAgICAgICAgdmlnbmV0dGVDb2xvcjogQkFCWUxPTi5Ub29sa2l0LklVbml0eUNvbG9yO1xuICAgICAgICB1c2VDb2xvckdyYWRpbmc6IGJvb2xlYW47XG4gICAgICAgIHNldEdyYWRpbmdUZXh0dXJlOiBhbnk7XG4gICAgICAgIGltYWdpbmdDb2xvckN1cnZlczogUFJPSkVDVC5JRWRpdG9yQ29sb3JDdXJ2ZXM7XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAgKiBAY2xhc3MgRGVidWdJbmZvcm1hdGlvblxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBEZWJ1Z0luZm9ybWF0aW9uIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUga2V5czogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgc2hvdzogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgcG9wdXA6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSB2aWV3czogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHhib3g6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjb2xvcjogQkFCWUxPTi5Db2xvcjMgPSBCQUJZTE9OLkNvbG9yMy5HcmVlbigpO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMua2V5cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJlbmFibGVEZWJ1Z0tleXNcIiwgdGhpcy5rZXlzKTtcbiAgICAgICAgICAgIHRoaXMuc2hvdyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaG93RGVidWdMYWJlbHNcIiwgdGhpcy5zaG93KTtcbiAgICAgICAgICAgIHRoaXMucG9wdXAgPSB0aGlzLmdldFByb3BlcnR5KFwicG9wdXBEZWJ1Z1BhbmVsXCIsIHRoaXMucG9wdXApO1xuICAgICAgICAgICAgdGhpcy52aWV3cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b2dnbGVQbGF5ZXJWaWV3c1wiLCB0aGlzLnZpZXdzKTtcbiAgICAgICAgICAgIHRoaXMueGJveCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbGxvd1hib3hMaXZlU2lnbkluXCIsIHRoaXMueGJveCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgZGVidWdMYWJlbENvbG9yOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5Q29sb3IgPSB0aGlzLmdldFByb3BlcnR5KFwiZGVidWdPdXRwdXRUZXh0Q29sb3JcIik7XG4gICAgICAgICAgICBpZiAoZGVidWdMYWJlbENvbG9yICE9IG51bGwpIHRoaXMuY29sb3IgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlQ29sb3IzKGRlYnVnTGFiZWxDb2xvcik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB0aGlzLnBvcHVwID0gZmFsc2U7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoXCJEZWJ1ZyBpbmZvcm1hdGlvbiBvdmVybGF5IGxvYWRlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBmdW5jdGlvbiBvcGVuRnVsbHNjcmVlbigpIHtcbiAgICAgICAgICAgIGlmIChlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7IC8vIFNhZmFyaVxuICAgICAgICAgICAgICAgIGVsZW0ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbS5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7IC8vIElFMTFcbiAgICAgICAgICAgICAgICBlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjbG9zZUZ1bGxzY3JlZW4oKSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikgeyAvLyBTYWZhcmlcbiAgICAgICAgICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7IC8vIElFMTFcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgKi9cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICAvL3RoaXMuc2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JlZW5cIik7XG4gICAgICAgICAgICAvL3RoaXMudG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2dnbGVcIik7XG4gICAgICAgICAgICAvL3RoaXMuc2lnbmluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaWduaW5cIik7XG4gICAgICAgICAgICAvL3RoaXMucmVsb2FkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWxvYWRcIik7XG4gICAgICAgICAgICAvL3RoaXMubW91c2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vdXNlXCIpO1xuICAgICAgICAgICAgLy90aGlzLmRlYnVnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Z1wiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3cgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLklzWGJveE9uZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zY3JlZW4pIHRoaXMuc2NyZWVuLmlubmVySFRNTCA9IFwiRiAtIFNob3cgRnVsbCBTY3JlZW5cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5DYW1lcmFTeXN0ZW0uSXNNdWx0aVBsYXllclZpZXcoKSAmJiB0aGlzLnZpZXdzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50b2dnbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Jc1hib3hPbmUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZS5zdHlsZS50b3AgPSBcIjI5cHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGUuaW5uZXJIVE1MID0gXCIxIC0gNCBUb2dnbGUgUGxheWVyIFZpZXdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Jc1hib3hMaXZlUGx1Z2luRW5hYmxlZCgpICYmIHRoaXMueGJveCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2lnbmluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuSXNYYm94T25lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduaW4uc3R5bGUudG9wID0gXCI0OXB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnbmluLmlubmVySFRNTCA9IFwiWCAtIFhib3ggTGl2ZSBTaWduIEluXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW91c2UpIHRoaXMubW91c2UuaW5uZXJIVE1MID0gKEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuSXNYYm94T25lKCkpID8gXCJNIC0gTW91c2VcIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlbG9hZCkgdGhpcy5yZWxvYWQuaW5uZXJIVE1MID0gXCJSIC0gUmVsb2FkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB0aGlzLmRlYnVnLmlubmVySFRNTCA9IFwiUCAtIERlYnVnXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5rZXlzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dNZXNzYWdlKFwiRW5hYmxlIE11bHRpcGxheWVyIEtleXNcIik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuTnVtMSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlNldE11bHRpUGxheWVyVmlld0xheW91dCh0aGlzLnNjZW5lLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShcIjEgcGxheWVyIHByZXNzZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5Lk51bTIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5TZXRNdWx0aVBsYXllclZpZXdMYXlvdXQodGhpcy5zY2VuZSwgMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoXCIyIHBsYXllcnMgcHJlc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuTnVtMywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlNldE11bHRpUGxheWVyVmlld0xheW91dCh0aGlzLnNjZW5lLCAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShcIjMgcGxheWVycyBwcmVzc2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5OdW00LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0TXVsdGlQbGF5ZXJWaWV3TGF5b3V0KHRoaXMuc2NlbmUsIDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dNZXNzYWdlKFwiNCBwbGF5ZXJzIHByZXNzZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuSSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3B1cCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuUG9wdXBEZWJ1Zyh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLlRvZ2dsZURlYnVnKHRoaXMuc2NlbmUsIHRydWUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5GLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Ub2dnbGVGdWxsc2NyZWVuTW9kZSh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuRnVsbHNjcmVlbih3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLklzWGJveE9uZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuZ2FtZXBhZElucHV0RW11bGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5Lk0sICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5nYW1lcGFkSW5wdXRFbXVsYXRpb24gIT09IFwibW91c2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2FtZXBhZElucHV0RW11bGF0aW9uID0gXCJtb3VzZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nYW1lcGFkSW5wdXRFbXVsYXRpb24gPSBcImdhbWVwYWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuRiwgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5Ub29scy5SZXF1ZXN0RnVsbHNjcmVlbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXRFbmdpbmUoKS5lbnRlckZ1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uSXNYYm94TGl2ZVBsdWdpbkVuYWJsZWQoKSAmJiB0aGlzLnhib3ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5YLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllcjpCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5Jc1hib3hMaXZlVXNlclNpZ25lZEluKG51bGwsIHBsYXllcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoXCI9PT0+IFRyeWluZyBYYm94IExpdmUgU2lnbiBJbiBGb3IgUGxheWVyOiBcIiArIHBsYXllci50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5YYm94TGl2ZVVzZXJTaWduSW4ocGxheWVyLCAocmVzdWx0OiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uU2lnbkluUmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uR2V0WGJveExpdmVVc2VyKHBsYXllcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtc2cgPSBcIihcIiArIHVzZXIueGJveFVzZXJJZCArIFwiKSAtIFwiICsgdXNlci5nYW1lcnRhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5BbGVydE1lc3NhZ2UobXNnLCBcIlhib3ggTGl2ZSBVc2VyIFNpZ25lZCBJblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAoZXJyKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1zZzpzdHJpbmcgPSBcIkVuY291bnRlcmVkIFNpZ24gRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuQWxlcnRNZXNzYWdlKG1zZywgXCJYYm94IExpdmUgV2FybmluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiWGJveCBMaXZlIFVzZXIgQWxyZWFkeSBTaWduZWQgSW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5BbGVydE1lc3NhZ2UoXCJVc2VyIEFscmVhZHkgU2lnbmVkIEluXCIsIFwiWGJveCBMaXZlIFdhcm5pbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGVmYXVsdCBQcmludCBUbyBTY3JlZW4gVGV4dFxuICAgICAgICAgICAgdmFyIHByaW50Q29sb3I6IHN0cmluZyA9IHRoaXMuY29sb3IudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBncmFwaGljc1ZlcnNpb246IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0RW5naW5lVmVyc2lvblN0cmluZyh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLlByaW50VG9TY3JlZW4oZ3JhcGhpY3NWZXJzaW9uLCBwcmludENvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgLy90aGlzLnNjcmVlbiA9IG51bGw7XG4gICAgICAgICAgICAvL3RoaXMudG9nZ2xlID0gbnVsbDtcbiAgICAgICAgICAgIC8vdGhpcy5zaWduaW4gPSBudWxsO1xuICAgICAgICAgICAgLy90aGlzLnJlbG9hZCA9IG51bGw7XG4gICAgICAgICAgICAvL3RoaXMubW91c2UgPSBudWxsO1xuICAgICAgICAgICAgLy90aGlzLmRlYnVnID0gbnVsbDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJvdGVjdGVkIG9wZW5GdWxsc2NyZWVuKGVsZW06IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgLy9pZiAoZWxlbS5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgLy8gICAgZWxlbS5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgLy99IGVsc2UgaWYgKGVsZW0ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHsgLy8gU2FmYXJpXG4gICAgICAgICAgICAvLyAgICBlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAvL30gZWxzZSBpZiAoZWxlbS5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7IC8vIElFMTFcbiAgICAgICAgICAgIC8vICAgIGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICBEZWJ1Z0luZm9ybWF0aW9uLl9SZXF1ZXN0RnVsbHNjcmVlbihlbGVtKTtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgY2xvc2VGdWxsc2NyZWVuKCk6IHZvaWQge1xuICAgICAgICAgICAgLy9pZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIC8vICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAvL30gZWxzZSBpZiAoKDxhbnk+ZG9jdW1lbnQpLndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7IC8vIFNhZmFyaVxuICAgICAgICAgICAgLy8gICAgKDxhbnk+ZG9jdW1lbnQpLndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAvL30gZWxzZSBpZiAoKDxhbnk+ZG9jdW1lbnQpLm1zRXhpdEZ1bGxzY3JlZW4pIHsgLy8gSUUxMVxuICAgICAgICAgICAgLy8gICAgKDxhbnk+ZG9jdW1lbnQpLm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgRGVidWdJbmZvcm1hdGlvbi5fRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQXNrIHRoZSBicm93c2VyIHRvIHByb21vdGUgdGhlIGN1cnJlbnQgZWxlbWVudCB0byBmdWxsc2NyZWVuIHJlbmRlcmluZyBtb2RlXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IGRlZmluZXMgdGhlIERPTSBlbGVtZW50IHRvIHByb21vdGVcbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBfUmVxdWVzdEZ1bGxzY3JlZW4oZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RGdW5jdGlvbiA9IGVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4gfHwgKDxhbnk+ZWxlbWVudCkud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW47XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RGdW5jdGlvbi5jYWxsKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFza3MgdGhlIGJyb3dzZXIgdG8gZXhpdCBmdWxsc2NyZWVuIG1vZGVcbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBfRXhpdEZ1bGxzY3JlZW4oKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBhbnlEb2MgPSBkb2N1bWVudCBhcyBhbnk7XG5cbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFueURvYy53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgYW55RG9jLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEN1c3RvbUh0bWxNYXJrdXBcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21IdG1sTWFya3VwIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgc3R5bGVTaGVldDogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBodG1sTWFya3VwOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgdWlQYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50TmFtZTogc3RyaW5nID0gKHRoaXMucGFyZW50RWxlbWVudCAhPSBudWxsICYmIHRoaXMucGFyZW50RWxlbWVudCAhPT0gXCJcIiAmJiB0aGlzLnBhcmVudEVsZW1lbnQudG9Mb3dlckNhc2UoKSAhPT0gXCJib2R5XCIpID8gdGhpcy5wYXJlbnRFbGVtZW50IDogdGhpcy50cmFuc2Zvcm0ubmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2VBbGwoXCIgXCIsIFwiLVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RFbGVtZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudE5hbWUpO1xuICAgICAgICAgICAgaWYgKHJvb3RFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpUGFyZW50RWxlbWVudCA9IHJvb3RFbGVtZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpUGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgdGhpcy51aVBhcmVudEVsZW1lbnQuaWQgPSBwYXJlbnROYW1lO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy51aVBhcmVudEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5sb2FkU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgdGhpcy5sb2FkSHRtbE1hcmt1cCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBEZXN0cm95IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRTdHlsZVNoZWV0KCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGVTaGVldCAhPSBudWxsICYmIHRoaXMuc3R5bGVTaGVldCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlOiBIVE1MU3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICAgICAgICAgIHN0eWxlLmlkID0gKHRoaXMudHJhbnNmb3JtLm5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlQWxsKFwiIFwiLCBcIi1cIikgKyBcIi5zdHlsZXNoZWV0XCIpO1xuICAgICAgICAgICAgICAgIHN0eWxlLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICAgICAgICAgICAgaWYgKChzdHlsZSBhcyBhbnkpLnN0eWxlU2hlZXQpIHsgLy8gTm90ZTogSW50ZXJuZXQgRXhwbG9yZXIgU3VwcG9ydFxuICAgICAgICAgICAgICAgICAgICAoc3R5bGUgYXMgYW55KS5zdHlsZVNoZWV0LmNzc1RleHQgPSB0aGlzLnN0eWxlU2hlZXQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5zdHlsZVNoZWV0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBNb2JpbGUgU3R5bGUgU2hlZXQgTm90IERlZmluZWQgRm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRIdG1sTWFya3VwKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuaHRtbE1hcmt1cCAhPSBudWxsICYmIHRoaXMuaHRtbE1hcmt1cCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMudWlQYXJlbnRFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuaHRtbE1hcmt1cDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV0FSTklORzogTW9iaWxlIE1hcmt1cCBGaWxlIE5vdCBEZWZpbmVkIEZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBVc2VySW50ZXJmYWNlXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgVXNlckludGVyZmFjZSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzQ2FudmFzUmVhZHkoKTogYm9vbGVhbiB7IHJldHVybiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSAhPSBudWxsKTsgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEdldENhbnZhc0VsZW1lbnQobmFtZTogc3RyaW5nKTogQkFCWUxPTi5HVUkuQ29udHJvbCB7IHJldHVybiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSAhPSBudWxsKSA/IFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUuZ2V0Q29udHJvbEJ5TmFtZShuYW1lKSA6IG51bGw7IH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBTaG93Q2FudmFzRWxlbWVudChlbGVtZW50OiBCQUJZTE9OLkdVSS5Db250cm9sLCBmYWRlU3BlZWRSYXRpbzogbnVtYmVyID0gMC4wLCBvbkFuaW1hdGlvbkNvbXBsZXRlOiAoKSA9PiB2b2lkID0gbnVsbCk6IEJBQllMT04uQW5pbWF0YWJsZSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBCQUJZTE9OLkFuaW1hdGFibGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChmYWRlU3BlZWRSYXRpbyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGFTdGFydDogbnVtYmVyID0gZWxlbWVudC5hbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGFFbmQ6IG51bWJlciA9IDEuMDtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlzRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWxwaGEgPSBhbHBoYUVuZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uQW5pbWF0aW9uQ29tcGxldGUgIT0gbnVsbCkgb25BbmltYXRpb25Db21wbGV0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vcmVzdWx0ID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5TdGFydFR3ZWVuQW5pbWF0aW9uKFBST0pFQ1QuVXNlckludGVyZmFjZS5TY2VuZUNvbnRyb2xsZXIsIChlbGVtZW50Lm5hbWUgKyBcIi1TaG93QWxwaGFUd2VlblwiKSwgZWxlbWVudCwgXCJhbHBoYVwiLCBhbHBoYVN0YXJ0LCBhbHBoYUVuZCwgZmFkZVNwZWVkUmF0aW8sIG51bGwsIG51bGwsIG51bGwsICgpPT57XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGVsZW1lbnQuaXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgaWYgKG9uQW5pbWF0aW9uQ29tcGxldGUgIT0gbnVsbCkgb25BbmltYXRpb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAvL30pO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFscGhhID0gMS4wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBIaWRlQ2FudmFzRWxlbWVudChlbGVtZW50OiBCQUJZTE9OLkdVSS5Db250cm9sLCBmYWRlU3BlZWRSYXRpbzogbnVtYmVyID0gMC4wLCBvbkFuaW1hdGlvbkNvbXBsZXRlOiAoKSA9PiB2b2lkID0gbnVsbCk6IEJBQllMT04uQW5pbWF0YWJsZSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBCQUJZTE9OLkFuaW1hdGFibGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChmYWRlU3BlZWRSYXRpbyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGFTdGFydDogbnVtYmVyID0gZWxlbWVudC5hbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGFFbmQ6IG51bWJlciA9IDAuMDtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFscGhhID0gYWxwaGFFbmQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkFuaW1hdGlvbkNvbXBsZXRlICE9IG51bGwpIG9uQW5pbWF0aW9uQ29tcGxldGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAvL3Jlc3VsdCA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuU3RhcnRUd2VlbkFuaW1hdGlvbihQUk9KRUNULlVzZXJJbnRlcmZhY2UuU2NlbmVDb250cm9sbGVyLCAoZWxlbWVudC5uYW1lICsgXCItSGlkZUFscGhhVHdlZW5cIiksIGVsZW1lbnQsIFwiYWxwaGFcIiwgYWxwaGFTdGFydCwgYWxwaGFFbmQsIGZhZGVTcGVlZFJhdGlvLCBudWxsLCBudWxsLCBudWxsLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAvLyAgICBpZiAob25BbmltYXRpb25Db21wbGV0ZSAhPSBudWxsKSBvbkFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vfSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFscGhhID0gMC4wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRTY2VuZUNvbnRyb2xsZXIoc2NlbmU6IEJBQllMT04uU2NlbmUpOiB2b2lkIHsgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLlNjZW5lQ29udHJvbGxlciA9IHNjZW5lOyB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0QWR2YW5jZWRUZXh0dXJlKCk6IEJBQllMT04uR1VJLkFkdmFuY2VkRHluYW1pY1RleHR1cmUgeyByZXR1cm4gUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZTsgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEdldEJhY2tncm91bmRUZXh0dXJlKCk6IEJBQllMT04uR1VJLkFkdmFuY2VkRHluYW1pY1RleHR1cmUgeyByZXR1cm4gUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlOyB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25Gb250RmFjZXNSZWFkeSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8YW55PigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uRm9udEZhY2VzTG9hZGVkID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxhbnk+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25QYXJzZU5vZGVPYmplY3QgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPGFueT4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkludGVyZmFjZUxvYWRlZCA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZT4oKTtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBTY2VuZUNvbnRyb2xsZXI6IEJBQllMT04uU2NlbmUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBBZHZhbmNlZFRleHR1cmU6IEJBQllMT04uR1VJLkFkdmFuY2VkRHluYW1pY1RleHR1cmUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBCYWNrZ3JvdW5kVGV4dHVyZTogQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEZvbnRGYWNlc0F0dGFjaGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEZvbnRGYWNlc1ByZWxvYWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGV4cG9ydExvd2VyQ2FzZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGJhY2tncm91bmREYXRhOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHRleHR1cmVTYW1wbGVNb2RlOiBudW1iZXIgPSAyO1xuICAgICAgICBwcml2YXRlIGlkZWFsUmVuZGVyaW5nU2l6ZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB2aWV3cG9ydFJlbmRlclNpemU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY3VzdG9tVmlld3BvcnRTaXplOiBCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDE5MjAsIDEwODApO1xuICAgICAgICBwcml2YXRlIGRlZmF1bHRJbWFnZUxvY2F0aW9uOiBzdHJpbmcgPSBcInNjZW5lcy9hc3NldHMvXCI7XG4gICAgICAgIHByaXZhdGUgZGVmYXVsdEltYWdlQ29udHJvbDogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgaXNNYW5hZ2VkVGV4dHVyZTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgc2NhbGVUZXh0dXJlU2l6ZTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgc2V0QWRhcHRpdmVTY2FsZTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgZHJhd0F0SWRlYWxTaXplOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSB1c2VTbWFsbGVzdElkZWFsOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZm9udEZhbWlseUxpc3Q6IHN0cmluZ1tdID0gbnVsbDtcblxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHByb3BlcnRpZXM/OiBhbnkpIHtcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgc2NlbmUsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLlNldFNjZW5lQ29udHJvbGxlcihzY2VuZSk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFdlYkZvbnRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNldHVwUHJvcGVydGllcygpO1xuICAgICAgICAgICAgdGhpcy5wcmVsb2FkV2ViRm9udHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBJbnRlcmZhY2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzUmVhZHkuY2xlYXIoKTtcbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc1JlYWR5ID0gbnVsbDtcbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc0xvYWRlZC5jbGVhcigpO1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzTG9hZGVkID0gbnVsbDtcbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PblBhcnNlTm9kZU9iamVjdC5jbGVhcigpO1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uUGFyc2VOb2RlT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkludGVyZmFjZUxvYWRlZC5jbGVhcigpO1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uSW50ZXJmYWNlTG9hZGVkID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTWFuYWdlZFRleHR1cmUgPT09IGZhbHNlICYmIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBlbmdpbmVSZXNpemUoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmdldEVuZ2luZSgpLnJlc2l6ZSh0cnVlKTsgLy8gTm90ZTogRm9yY2UgSW5pdGlhbCBSZXNpemUgQ29udGVudFxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldHVwUHJvcGVydGllcygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uICE9IG51bGwgJiYgdGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gPSB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uICE9IG51bGwgJiYgdGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbiAhPT0gXCJcIiAmJiB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uLmVuZHNXaXRoKFwiL1wiKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uID0gKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gKyBcIi9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jdXN0b21WaWV3cG9ydFNpemUueCA8PSAwKSB0aGlzLmN1c3RvbVZpZXdwb3J0U2l6ZS54ID0gMTkyMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbVZpZXdwb3J0U2l6ZS55IDw9IDApIHRoaXMuY3VzdG9tVmlld3BvcnRTaXplLnkgPSAxMDgwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldHVwSW50ZXJmYWNlKCk6IHZvaWQge1xuICAgICAgICAgICAgbGV0IGludGVyZmFjZVBhcnNlZDogYW55ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBiYWNrZ3JvdW5kUGFyc2VkOiBhbnkgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJmYWNlVGV4dDogc3RyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImJhc2U2NFVzZXJJbnRlcmZhY2VcIik7XG4gICAgICAgICAgICBpZiAoaW50ZXJmYWNlVGV4dCAhPSBudWxsICYmIGludGVyZmFjZVRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlcmZhY2VKc29uOiBzdHJpbmcgPSB3aW5kb3cuYXRvYihpbnRlcmZhY2VUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJmYWNlSnNvbiAhPSBudWxsICYmIGludGVyZmFjZUpzb24gIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJmYWNlUGFyc2VkID0gSlNPTi5wYXJzZShpbnRlcmZhY2VKc29uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyZmFjZVBhcnNlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJmYWNlUGFyc2VkLnJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VOb2RlT2JqZWN0KGludGVyZmFjZVBhcnNlZC5yb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aDogbnVtYmVyID0gKHRoaXMudmlld3BvcnRSZW5kZXJTaXplID09PSAwICYmIGludGVyZmFjZVBhcnNlZC53aWR0aCAhPT0gbnVsbCAmJiBpbnRlcmZhY2VQYXJzZWQud2lkdGggPj0gMCkgPyBpbnRlcmZhY2VQYXJzZWQud2lkdGggOiB0aGlzLmN1c3RvbVZpZXdwb3J0U2l6ZS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhlaWdodDogbnVtYmVyID0gKHRoaXMudmlld3BvcnRSZW5kZXJTaXplID09PSAwICYmIGludGVyZmFjZVBhcnNlZC5oZWlnaHQgIT09IG51bGwgJiYgaW50ZXJmYWNlUGFyc2VkLmhlaWdodCA+PSAwKSA/IGludGVyZmFjZVBhcnNlZC5oZWlnaHQgOiB0aGlzLmN1c3RvbVZpZXdwb3J0U2l6ZS55O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld3BvcnRSZW5kZXJTaXplID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSB0aGlzLnNjZW5lLmdldEVuZ2luZSgpLmdldFJlbmRlcmluZ0NhbnZhcygpLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuc2NlbmUuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyaW5nQ2FudmFzKCkuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkdmFuY2VkIFRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hbmFnZWRUZXh0dXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PkJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIpLkFkdkR5bmFtaWNUZXh0dXJlID09IG51bGwpICg8YW55PkJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIpLkFkdkR5bmFtaWNUZXh0dXJlID0gQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZS5DcmVhdGVGdWxsc2NyZWVuVUkoXCJEZWZhdWx0LVNjcmVlbi1VSVwiLCB0cnVlLCB0aGlzLnNjZW5lLCB0aGlzLnRleHR1cmVTYW1wbGVNb2RlLCB0aGlzLnNldEFkYXB0aXZlU2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUgPSAoPGFueT5CQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyKS5BZHZEeW5hbWljVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSA9IEJBQllMT04uR1VJLkFkdmFuY2VkRHluYW1pY1RleHR1cmUuQ3JlYXRlRnVsbHNjcmVlblVJKFwiR1VJXCIsIHRydWUsIHRoaXMuc2NlbmUsIHRoaXMudGV4dHVyZVNhbXBsZU1vZGUsIHRoaXMuc2V0QWRhcHRpdmVTY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaWRlYWxSZW5kZXJpbmdTaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pZGVhbFJlbmRlcmluZ1NpemUgPT09IDEgfHwgdGhpcy5pZGVhbFJlbmRlcmluZ1NpemUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUuaWRlYWxXaWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkZWFsUmVuZGVyaW5nU2l6ZSA9PT0gMiB8fCB0aGlzLmlkZWFsUmVuZGVyaW5nU2l6ZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5pZGVhbEhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pZGVhbFJlbmRlcmluZ1NpemUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUudXNlU21hbGxlc3RJZGVhbCA9IHRoaXMudXNlU21hbGxlc3RJZGVhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnJlbmRlckF0SWRlYWxTaXplID0gdGhpcy5kcmF3QXRJZGVhbFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS51c2VTbWFsbGVzdElkZWFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucmVuZGVyQXRJZGVhbFNpemUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NhbGVUZXh0dXJlU2l6ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnBhcnNlU2VyaWFsaXplZE9iamVjdChpbnRlcmZhY2VQYXJzZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5zY2FsZVRvKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucGFyc2VTZXJpYWxpemVkT2JqZWN0KGludGVyZmFjZVBhcnNlZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCYWNrZ3JvdW5kIFRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kRGF0YSAhPSBudWxsICYmIHRoaXMuYmFja2dyb3VuZERhdGEuY3JlYXRlQmFja2dyb3VuZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRUZXh0OiBzdHJpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiYmFzZTY0QmFja2dyb3VuZERhdGFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmRUZXh0ICE9IG51bGwgJiYgYmFja2dyb3VuZFRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEpzb246IHN0cmluZyA9IHdpbmRvdy5hdG9iKGJhY2tncm91bmRUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmRKc29uICE9IG51bGwgJiYgYmFja2dyb3VuZEpzb24gIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQYXJzZWQgPSBKU09OLnBhcnNlKGJhY2tncm91bmRKc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kUGFyc2VkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZFBhcnNlZC5yb290ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZU5vZGVPYmplY3QoYmFja2dyb3VuZFBhcnNlZC5yb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlID0gQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZS5DcmVhdGVGdWxsc2NyZWVuVUkoXCJCQUNLR1JPVU5EXCIsIGZhbHNlLCB0aGlzLnNjZW5lLCB0aGlzLnRleHR1cmVTYW1wbGVNb2RlLCB0aGlzLnNldEFkYXB0aXZlU2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kRGF0YS5zY2FsZVRvRm9yZWdyb3VuZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUuaWRlYWxXaWR0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLmlkZWFsV2lkdGggPSBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLmlkZWFsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5pZGVhbEhlaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLmlkZWFsSGVpZ2h0ID0gUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5pZGVhbEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnVzZVNtYWxsZXN0SWRlYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZS51c2VTbWFsbGVzdElkZWFsID0gUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS51c2VTbWFsbGVzdElkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucmVuZGVyQXRJZGVhbFNpemUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZS5yZW5kZXJBdElkZWFsU2l6ZSA9IFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucmVuZGVyQXRJZGVhbFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUudXNlU21hbGxlc3RJZGVhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLnJlbmRlckF0SWRlYWxTaXplID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmRQYXJzZWQgIT0gbnVsbCkgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLnBhcnNlU2VyaWFsaXplZE9iamVjdChiYWNrZ3JvdW5kUGFyc2VkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmREYXRhLnNjYWxlVG9Gb3JlZ3JvdW5kID09PSB0cnVlKSBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUuc2NhbGVUbyh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uSW50ZXJmYWNlTG9hZGVkICYmIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkludGVyZmFjZUxvYWRlZC5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkludGVyZmFjZUxvYWRlZC5ub3RpZnlPYnNlcnZlcnMoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5naW5lUmVzaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXR0YWNoV2ViRm9udHMoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkZvbnRGYWNlc0F0dGFjaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5Gb250RmFjZXNBdHRhY2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMucmVhZHkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuTG9nKFwiRG9jdW1lbnQgZm9udHMgcmVhZHkuXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzUmVhZHkgJiYgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzUmVhZHkuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzUmVhZHkubm90aWZ5T2JzZXJ2ZXJzKGRvY3VtZW50LmZvbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMub25sb2FkaW5nZG9uZSA9IChmb250RmFjZVNldEV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVSZXNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiQWxsIGRvY3VtZW50IGZvbnRzIGxvYWRlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNMb2FkZWQgJiYgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzTG9hZGVkLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc0xvYWRlZC5ub3RpZnlPYnNlcnZlcnMoZm9udEZhY2VTZXRFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcHJlbG9hZFdlYkZvbnRzKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5Gb250RmFjZXNQcmVsb2FkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkZvbnRGYWNlc1ByZWxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseUxpc3QgIT0gbnVsbCAmJiB0aGlzLmZvbnRGYW1pbHlMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb250RmFtaWx5TGlzdC5mb3JFYWNoKChmYW1pbHk6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHh0OiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4dC5zdHlsZS5mb250RmFtaWx5ID0gZmFtaWx5O1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0eHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcGFyc2VOb2RlT2JqZWN0KG9iamVjdDogYW55KTogdm9pZCB7XG4gICAgICAgICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0SW1hZ2VDb250cm9sID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lm5hbWUgIT0gbnVsbCAmJiBvYmplY3Quc291cmNlICE9IG51bGwgJiYgb2JqZWN0LnNvdXJjZSAhPT0gXCJcIiAmJiBvYmplY3Quc291cmNlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIi4vaW1hZ2VzL1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNvdXJjZSA9ICh0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uLmVuZHNXaXRoKFwiL1wiKSkgPyBvYmplY3Quc291cmNlLnJlcGxhY2UoXCIuL2ltYWdlcy9cIiwgdGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbikgOiBvYmplY3Quc291cmNlLnJlcGxhY2UoXCIuL2ltYWdlc1wiLCB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5leHBvcnRMb3dlckNhc2UgPT09IHRydWUpIG9iamVjdC5zb3VyY2UgPSBvYmplY3Quc291cmNlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogREVQUkVDQVRFRDogS0VFUC1GT1ItUkVGRVJFTkNFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25hbWU6c3RyaW5nID0gb2JqZWN0Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbHBhcnQ6bnVtYmVyID0gb25hbWUuaW5kZXhPZihcIihcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcnBhcnQ6bnVtYmVyID0gb25hbWUuaW5kZXhPZihcIilcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9ybWF0IE5ldyBPYmplY3QgU291cmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobHBhcnQgPj0gMCAmJiBycGFydCA+PSAwICYmIHJwYXJ0ID4gbHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybDpzdHJpbmcgPSBvbmFtZS5zdWJzdHJpbmcoKGxwYXJ0ICsgMSksIHJwYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVybCAhPSBudWxsICYmIHVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsICE9IG51bGwgJiYgdXJsICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc291cmNlID0gKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24uZW5kc1dpdGgoXCIvXCIpKSA/ICh0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uICsgdXJsKSA6ICh0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uICsgXCIvXCIgKyB1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgTmV3IE9iamVjdCBOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZuYW1lMTpzdHJpbmcgPSBvbmFtZS5zdWJzdHJpbmcoMCwgbHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZuYW1lMjpzdHJpbmcgPSBvbmFtZS5zdWJzdHJpbmcoKHJwYXJ0ICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZuYW1lMyA9IChmbmFtZTEgKyBmbmFtZTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuYW1lMyAhPSBudWxsICYmIGZuYW1lMyAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuYW1lMyA9IGZuYW1lMy50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm5hbWUzICE9IG51bGwgJiYgZm5hbWUzICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm5hbWUgPSBmbmFtZTM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uUGFyc2VOb2RlT2JqZWN0ICYmIFBST0pFQ1QuVXNlckludGVyZmFjZS5PblBhcnNlTm9kZU9iamVjdC5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uUGFyc2VOb2RlT2JqZWN0Lm5vdGlmeU9ic2VydmVycyhvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvYmplY3QuY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZU5vZGVPYmplY3QoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQXNzZXRFeHBvcnRlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEFzc2V0RXhwb3J0ZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgLy8gRXhhbXBsZTogcHJpdmF0ZSBoZWxsb1dvcmxkOnN0cmluZyA9IFwiSGVsbG8gV29ybGRcIjtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBJbml0IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgLyogU3RhcnQgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZml4ZWQoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBGaXhlZCB1cGRhdGUgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIFVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBMYXRlIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogQWZ0ZXIgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcmVhZHkoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBFeGVjdXRlIHdoZW4gcmVhZHkgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgLyogRGVzdHJveSBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBBc3NldFByZWxvYWRlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEFzc2V0UHJlbG9hZGVyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCBpbXBsZW1lbnRzIEJBQllMT04uVG9vbGtpdC5JQXNzZXRQcmVsb2FkZXIge1xuICAgICAgICBwcml2YXRlIHBhcmVudE1lc2hlczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGltcG9ydE1lc2hlczogc3RyaW5nW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGFzc2V0Q29udGFpbmVyczogc3RyaW5nW10gPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5pbXBvcnRNZXNoZXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hc3NldENvbnRhaW5lcnMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEFkZCBhc3NldCBwcmVsb2FkZXIgdGFza3MgKGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vZGl2aW5nRGVlcGVyL2ltcG9ydGVycy9hc3NldE1hbmFnZXIpICovXG4gICAgICAgIHB1YmxpYyBhZGRQcmVsb2FkZXJUYXNrcyhhc3NldHNNYW5hZ2VyOiBCQUJZTE9OLlRvb2xraXQuUHJlbG9hZEFzc2V0c01hbmFnZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lUm9vdFVybDogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRSb290VXJsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgbGV0IHJvb3R1cmw6IHN0cmluZyA9IHNjZW5lUm9vdFVybDtcbiAgICAgICAgICAgIGxldCBmaWxlbmFtZTogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLmltcG9ydE1lc2hlcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRNZXNoZXMuZm9yRWFjaCgoaW1wb3JVcmw6IHN0cmluZywgaW1wb3J0SW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByb290dXJsID0gc2NlbmVSb290VXJsO1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9yVXJsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW1wb3JVcmwuaW5kZXhPZihcIjovL1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290dXJsID0gaW1wb3JVcmwuc3Vic3RyaW5nKDAsIGltcG9yVXJsLmxhc3RJbmRleE9mKCcvJykpICsgXCIvXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9yVXJsLnN1YnN0cmluZyhpbXBvclVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0VGFzazogQkFCWUxPTi5NZXNoQXNzZXRUYXNrID0gYXNzZXRzTWFuYWdlci5hZGRNZXNoVGFzaygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLk1lc2hUYXNrLlwiICsgaW1wb3J0SW5kZXgudG9TdHJpbmcoKSksIG51bGwsIHJvb3R1cmwsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0VGFzay5vblN1Y2Nlc3MgPSAodGFzazogQkFCWUxPTi5NZXNoQXNzZXRUYXNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFzay5sb2FkZWRNZXNoZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudE1lc2hlcyA9PT0gdHJ1ZSkgdGFzay5sb2FkZWRNZXNoZXNbMF0ucGFyZW50ID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzaFRhc2tLZXk6IHN0cmluZyA9IHRhc2suc2NlbmVGaWxlbmFtZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5SZWdpc3RlckltcG9ydE1lc2hlcyh0aGlzLnNjZW5lLCBtZXNoVGFza0tleSwgdGFzay5sb2FkZWRNZXNoZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJQcmVsb2FkZWQgbWVzaDogXCIgKyBtZXNoVGFza0tleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydFRhc2sub25FcnJvciA9ICh0YXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2ssIG1lc3NhZ2U/OiBzdHJpbmcsIGV4Y2VwdGlvbj86IGFueSkgPT4geyBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGV4Y2VwdGlvbik7IH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hc3NldENvbnRhaW5lcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXRDb250YWluZXJzLmZvckVhY2goKGFzc2V0VXJsOiBzdHJpbmcsIGFzc2V0SW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcm9vdHVybDogc3RyaW5nID0gc2NlbmVSb290VXJsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZW5hbWU6IHN0cmluZyA9IGFzc2V0VXJsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXRVcmwuaW5kZXhPZihcIjovL1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290dXJsID0gYXNzZXRVcmwuc3Vic3RyaW5nKDAsIGFzc2V0VXJsLmxhc3RJbmRleE9mKCcvJykpICsgXCIvXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGFzc2V0VXJsLnN1YnN0cmluZyhhc3NldFVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzZXRUYXNrOiBCQUJZTE9OLkNvbnRhaW5lckFzc2V0VGFzayA9IGFzc2V0c01hbmFnZXIuYWRkQ29udGFpbmVyVGFzaygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRhaW5lclRhc2suXCIgKyBhc3NldEluZGV4LnRvU3RyaW5nKCkpLCBudWxsLCByb290dXJsLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0VGFzay5vblN1Y2Nlc3MgPSAodGFzazogQkFCWUxPTi5Db250YWluZXJBc3NldFRhc2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLmxvYWRlZENvbnRhaW5lciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzZXRUYXNrS2V5OiBzdHJpbmcgPSB0YXNrLnNjZW5lRmlsZW5hbWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuUmVnaXN0ZXJBc3NldENvbnRhaW5lcih0aGlzLnNjZW5lLCBhc3NldFRhc2tLZXksIHRhc2subG9hZGVkQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUHJlbG9hZGVkIGFzc2V0OiBcIiArIGFzc2V0VGFza0tleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0VGFzay5vbkVycm9yID0gKHRhc2s6IEJBQllMT04uQ29udGFpbmVyQXNzZXRUYXNrLCBtZXNzYWdlPzogc3RyaW5nLCBleGNlcHRpb24/OiBhbnkpID0+IHsgY29uc29sZS5lcnJvcihtZXNzYWdlLCBleGNlcHRpb24pOyB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIE5vZGVNYXRlcmlhbEluc3RhbmNlXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTm9kZU1hdGVyaWFsSW5zdGFuY2UgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBub2RlTWF0ZXJpYWxEYXRhOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNldEN1c3RvbVJvb3RVcmw6IHN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGdldE1hdGVyaWFsSW5zdGFuY2UoKTogQkFCWUxPTi5Ob2RlTWF0ZXJpYWwgeyByZXR1cm4gdGhpcy5tX25vZGVNYXRlcmlhbDsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX25vZGVNYXRlcmlhbDogQkFCWUxPTi5Ob2RlTWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGVNYXRlcmlhbERhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RVcmw6IHN0cmluZyA9ICh0aGlzLnNldEN1c3RvbVJvb3RVcmwgIT0gbnVsbCAmJiB0aGlzLnNldEN1c3RvbVJvb3RVcmwgIT09IFwiXCIpID8gdGhpcy5zZXRDdXN0b21Sb290VXJsLnRyaW0oKSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5tX25vZGVNYXRlcmlhbCA9IEJBQllMT04uTm9kZU1hdGVyaWFsLlBhcnNlKHRoaXMubm9kZU1hdGVyaWFsRGF0YSwgdGhpcy5zY2VuZSwgcm9vdFVybCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX25vZGVNYXRlcmlhbC5uYW1lID0gdGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLk5vZGVNYXRlcmlhbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX25vZGVNYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX25vZGVNYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX25vZGVNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTm9kZU1hdGVyaWFsUGFydGljbGVcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBOb2RlTWF0ZXJpYWxQYXJ0aWNsZSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG5vZGVNYXRlcmlhbEVkaXRvcjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBJbml0IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBubWU6IFBST0pFQ1QuTm9kZU1hdGVyaWFsSW5zdGFuY2UgPSBTTS5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yLCBcIlBST0pFQ1QuTm9kZU1hdGVyaWFsSW5zdGFuY2VcIik7XG4gICAgICAgICAgICAgICAgaWYgKG5tZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsSW5zdGFuY2U6IEJBQllMT04uTm9kZU1hdGVyaWFsID0gbm1lLmdldE1hdGVyaWFsSW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsSW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cE5vZGVNYXRlcmlhbChtYXRlcmlhbEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk51bGwgbm9kZSBtYXRlcmlhbCBpbnN0YW5jZSBvbjogXCIgKyB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBsb2NhdGUgbm9kZSBtYXRlcmlhbCBlZGl0b3Igb246IFwiICsgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHNldHVwTm9kZU1hdGVyaWFsKG1hdGVyaWFsSW5zdGFuY2U6IEJBQllMT04uTm9kZU1hdGVyaWFsKTogdm9pZCB7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBVcGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogTGF0ZSB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEFmdGVyIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGZpeGVkKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogRml4ZWQgdXBkYXRlIHBoeXNpY3Mgc3RlcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlYWR5KCk6IHZvaWQge1xuICAgICAgICAgICAgLyogRXhlY3V0ZSB3aGVuIHNjZW5lIGlzIHJlYWR5IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBOb2RlTWF0ZXJpYWxQcm9jZXNzXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTm9kZU1hdGVyaWFsUHJvY2VzcyBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG5vZGVNYXRlcmlhbEVkaXRvcjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBudW1iZXJPZlNhbXBsZXM6IG51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgc2FtcGxpbmdNb2RlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHRleHR1cmVUeXBlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHRleHR1cmVGb3JtYXQ6IG51bWJlciA9IEJBQllMT04uQ29uc3RhbnRzLlRFWFRVUkVGT1JNQVRfUkdCQTtcbiAgICAgICAgcHJpdmF0ZSBzaXplUmF0aW86IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHJpdmF0ZSByZXN1YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBnZXRQb3N0UHJvY2VzcygpOiBCQUJZTE9OLlBvc3RQcm9jZXNzIHsgcmV0dXJuIHRoaXMubV9wb3N0UHJvY2VzczsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX3Bvc3RQcm9jZXNzOiBCQUJZTE9OLlBvc3RQcm9jZXNzID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5tZTogUFJPSkVDVC5Ob2RlTWF0ZXJpYWxJbnN0YW5jZSA9IFNNLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IsIFwiUFJPSkVDVC5Ob2RlTWF0ZXJpYWxJbnN0YW5jZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAobm1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxJbnN0YW5jZTogQkFCWUxPTi5Ob2RlTWF0ZXJpYWwgPSBubWUuZ2V0TWF0ZXJpYWxJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWxJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwTm9kZU1hdGVyaWFsKG1hdGVyaWFsSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTnVsbCBub2RlIG1hdGVyaWFsIGluc3RhbmNlIG9uOiBcIiArIHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGxvY2F0ZSBub2RlIG1hdGVyaWFsIGVkaXRvciBvbjogXCIgKyB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvci5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0dXBOb2RlTWF0ZXJpYWwobWF0ZXJpYWxJbnN0YW5jZTogQkFCWUxPTi5Ob2RlTWF0ZXJpYWwpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVyYTogQkFCWUxPTi5GcmVlQ2FtZXJhID0gdGhpcy5nZXRDYW1lcmFSaWcoKTtcbiAgICAgICAgICAgIGlmIChjYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9wb3N0UHJvY2VzcyA9IG1hdGVyaWFsSW5zdGFuY2UuY3JlYXRlUG9zdFByb2Nlc3MoY2FtZXJhLCB0aGlzLnNpemVSYXRpbywgdGhpcy5zYW1wbGluZ01vZGUsIHRoaXMuc2NlbmUuZ2V0RW5naW5lKCksIHRoaXMucmVzdWFibGUsIHRoaXMudGV4dHVyZVR5cGUsIHRoaXMudGV4dHVyZUZvcm1hdCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9wb3N0UHJvY2VzcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9wb3N0UHJvY2Vzcy5uYW1lID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qcm9jZXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fcG9zdFByb2Nlc3Muc2FtcGxlcyA9IHRoaXMubnVtYmVyT2ZTYW1wbGVzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBjcmVhdGUgcG9zdCBwcm9jZXNzIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk51bGwgY2FtZXJhIHJpZyBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fcG9zdFByb2Nlc3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9wb3N0UHJvY2Vzcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3Bvc3RQcm9jZXNzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBOb2RlTWF0ZXJpYWxUZXh0dXJlXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTm9kZU1hdGVyaWFsVGV4dHVyZSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG5vZGVNYXRlcmlhbEVkaXRvcjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSB0ZXh0dXJlU2l6ZTogbnVtYmVyID0gMjU2O1xuXG4gICAgICAgIHB1YmxpYyBnZXRQcm9jZWR1cmFsVGV4dHVyZSgpOiBCQUJZTE9OLlByb2NlZHVyYWxUZXh0dXJlIHsgcmV0dXJuIHRoaXMubV9wcm9jZWR1cmFsVGV4dHVyZTsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX3Byb2NlZHVyYWxUZXh0dXJlOiBCQUJZTE9OLlByb2NlZHVyYWxUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5tZTogUFJPSkVDVC5Ob2RlTWF0ZXJpYWxJbnN0YW5jZSA9IFNNLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IsIFwiUFJPSkVDVC5Ob2RlTWF0ZXJpYWxJbnN0YW5jZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAobm1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxJbnN0YW5jZTogQkFCWUxPTi5Ob2RlTWF0ZXJpYWwgPSBubWUuZ2V0TWF0ZXJpYWxJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWxJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwTm9kZU1hdGVyaWFsKG1hdGVyaWFsSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTnVsbCBub2RlIG1hdGVyaWFsIGluc3RhbmNlIG9uOiBcIiArIHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGxvY2F0ZSBub2RlIG1hdGVyaWFsIGVkaXRvciBvbjogXCIgKyB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvci5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0dXBOb2RlTWF0ZXJpYWwobWF0ZXJpYWxJbnN0YW5jZTogQkFCWUxPTi5Ob2RlTWF0ZXJpYWwpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9wcm9jZWR1cmFsVGV4dHVyZSA9IG1hdGVyaWFsSW5zdGFuY2UuY3JlYXRlUHJvY2VkdXJhbFRleHR1cmUodGhpcy50ZXh0dXJlU2l6ZSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3Byb2NlZHVyYWxUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcHJvY2VkdXJhbFRleHR1cmUubmFtZSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuVGV4dHVyZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9wcm9jZWR1cmFsVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3Byb2NlZHVyYWxUZXh0dXJlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcHJvY2VkdXJhbFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIE1vYmlsZUlucHV0Q29udHJvbGxlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE1vYmlsZUlucHV0Q29udHJvbGxlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdldCBJbnN0YW5jZSgpOiBQUk9KRUNULk1vYmlsZUlucHV0Q29udHJvbGxlciB7IHJldHVybiBQUk9KRUNULk1vYmlsZUlucHV0Q29udHJvbGxlci5TdGF0aWNJbnN0YW5jZTsgfVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBTdGF0aWNJbnN0YW5jZTogUFJPSkVDVC5Nb2JpbGVJbnB1dENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0eWxlU2hlZXQ6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIC8vIERFUFJFQ0FURUQ6IHByaXZhdGUgaHRtbE1hcmt1cDogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjb250cm9sVHlwZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBzdHJpbmcgPSBcInJvb3RcIjtcbiAgICAgICAgcHJpdmF0ZSBtYXhSZWFkeVRpbWVvdXQ6IG51bWJlciA9IDIwMDtcbiAgICAgICAgcHJpdmF0ZSBtYXhNb3ZlRGlzdGFuY2U6IG51bWJlciA9IDI4O1xuICAgICAgICBwcml2YXRlIG1heE1vdmVEZWFkem9uZTogbnVtYmVyID0gNDtcbiAgICAgICAgcHJpdmF0ZSB1aVBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0QmFzZUVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByaWdodEJhc2VFbGVtZW50OiBIVE1MRGl2RWxlbWVudCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYnV0dG9uQmFzZUVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0U3RpY2tTdHlsZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByaWdodFN0aWNrU3R5bGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGVmdFN0aWNrRmFjdG9yOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHByaXZhdGUgcmlnaHRTdGlja0ZhY3RvcjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwcml2YXRlIGludmVydExlZnRTdGlja1k6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGNlbnRlckxlZnRKb3lzdGljazogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGVuYWJsZUxlZnRKb3lzdGljazogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgaW52ZXJ0UmlnaHRTdGlja1k6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGNlbnRlclJpZ2h0Sm95c3RpY2s6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBlbmFibGVSaWdodEpveXN0aWNrOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBlbmFibGVNb3VzZUF4ZXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBlbmFibGVWaXJ0dWFsQnV0dG9uczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHZpcnR1YWxCdXR0b25Db250cm9sczogYW55ID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgbV9sZWZ0U3RpY2s6IEJBQllMT04uVG9vbGtpdC5Ub3VjaEpveXN0aWNrSGFuZGxlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3JpZ2h0U3RpY2s6IEJBQllMT04uVG9vbGtpdC5Ub3VjaEpveXN0aWNrSGFuZGxlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX21vYmlsZURldmljZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBnZXRMZWZ0U3RpY2soKTogQkFCWUxPTi5Ub29sa2l0LlRvdWNoSm95c3RpY2tIYW5kbGVyIHsgcmV0dXJuIHRoaXMubV9sZWZ0U3RpY2s7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0U3RpY2soKTogQkFCWUxPTi5Ub29sa2l0LlRvdWNoSm95c3RpY2tIYW5kbGVyIHsgcmV0dXJuIHRoaXMubV9yaWdodFN0aWNrOyB9XG4gICAgICAgIHB1YmxpYyBnZXRMZWZ0U3RpY2tFbmFibGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5lbmFibGVMZWZ0Sm95c3RpY2s7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0U3RpY2tFbmFibGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5lbmFibGVSaWdodEpveXN0aWNrOyB9XG4gICAgICAgIHB1YmxpYyBnZXRMZWZ0U3RpY2tFbGVtZW50KCk6IEhUTUxEaXZFbGVtZW50IHsgcmV0dXJuIHRoaXMubGVmdEJhc2VFbGVtZW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSaWdodFN0aWNrRWxlbWVudCgpOiBIVE1MRGl2RWxlbWVudCB7IHJldHVybiB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQ7IH1cbiAgICAgICAgcHVibGljIHNob3dMZWZ0U3RpY2tFbGVtZW50KHNob3c6IGJvb2xlYW4pIHsgaWYgKHRoaXMubGVmdEJhc2VFbGVtZW50ICE9IG51bGwpIHRoaXMubGVmdEJhc2VFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAoc2hvdyA9PT0gdHJ1ZSkgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjsgfVxuICAgICAgICBwdWJsaWMgc2hvd1JpZ2h0U3RpY2tFbGVtZW50KHNob3c6IGJvb2xlYW4pIHsgaWYgKHRoaXMucmlnaHRCYXNlRWxlbWVudCAhPSBudWxsKSB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IChzaG93ID09PSB0cnVlKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiOyB9XG5cbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwcm9wZXJ0aWVzPzogYW55KSB7XG4gICAgICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIHNjZW5lLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIFBST0pFQ1QuTW9iaWxlSW5wdXRDb250cm9sbGVyLlN0YXRpY0luc3RhbmNlID0gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xUeXBlID09PSAxIHx8IHRoaXMubV9tb2JpbGVEZXZpY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fbW9iaWxlRGV2aWNlID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNNb2JpbGUoKTtcbiAgICAgICAgICAgICAgICAvL3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgKCkgPT4geyB0aGlzLmNoZWNrT3JpZW50YXRpb24oKTsgfSk7XG4gICAgICAgICAgICAgICAgLy90aGlzLmNoZWNrT3JpZW50YXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJvb3RFbGVtZW50OiBIVE1MRWxlbWVudCA9ICh0aGlzLnBhcmVudEVsZW1lbnQgIT0gbnVsbCAmJiB0aGlzLnBhcmVudEVsZW1lbnQgIT09IFwiXCIgJiYgdGhpcy5wYXJlbnRFbGVtZW50LnRvTG93ZXJDYXNlKCkgIT09IFwiYm9keVwiKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucGFyZW50RWxlbWVudCkgOiBudWxsO1xuICAgICAgICAgICAgdGhpcy51aVBhcmVudEVsZW1lbnQgPSAocm9vdEVsZW1lbnQgIT0gbnVsbCkgPyByb290RWxlbWVudCA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sVHlwZSA9PT0gMSB8fCB0aGlzLm1fbW9iaWxlRGV2aWNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZEh0bWxNYXJrdXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZWFkeSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xUeXBlID09PSAxIHx8IHRoaXMubV9tb2JpbGVEZXZpY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlZpcnR1YWxKb3lzdGlja0VuYWJsZWQgPSAhdGhpcy5lbmFibGVNb3VzZUF4ZXM7IC8vIE5vdGU6IERpc2FibGUgTW91c2VYIEFuZCBNb3VzZVkgVXNlciBJbnB1dCBBeGVzXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzcGxheVRpbWVvdXQ6IG51bWJlciA9ICh0aGlzLm1heFJlYWR5VGltZW91dCA+PSAxMCkgPyB0aGlzLm1heFJlYWR5VGltZW91dCA6IDEwO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLlNldFRpbWVvdXQoZGlzcGxheVRpbWVvdXQsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVIdG1sRWxlbWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlTGVmdEpveXN0aWNrID09PSB0cnVlKSB0aGlzLm1fbGVmdFN0aWNrID0gbmV3IEJBQllMT04uVG9vbGtpdC5Ub3VjaEpveXN0aWNrSGFuZGxlcihcInN0aWNrMVwiLCB0aGlzLm1heE1vdmVEaXN0YW5jZSwgdGhpcy5tYXhNb3ZlRGVhZHpvbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVSaWdodEpveXN0aWNrID09PSB0cnVlKSB0aGlzLm1fcmlnaHRTdGljayA9IG5ldyBCQUJZTE9OLlRvb2xraXQuVG91Y2hKb3lzdGlja0hhbmRsZXIoXCJzdGljazJcIiwgdGhpcy5tYXhNb3ZlRGlzdGFuY2UsIHRoaXMubWF4TW92ZURlYWR6b25lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sVHlwZSA9PT0gMSB8fCB0aGlzLm1fbW9iaWxlRGV2aWNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuQWxsb3dNb2JpbGVDb250cm9scyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBWYWxpZGF0ZSBNb2JpbGUgQ29udHJvbCBWaXN1YWxzIEFyZSBFbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUxlZnRKb3lzdGljayA9PT0gdHJ1ZSAmJiB0aGlzLm1fbGVmdFN0aWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuTW9iaWxlQ29udHJvbHNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdFN0aWNrVmFsdWVYOiBudW1iZXIgPSB0aGlzLm1fbGVmdFN0aWNrLmdldFZhbHVlWCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdFN0aWNrVmFsdWVZOiBudW1iZXIgPSB0aGlzLm1fbGVmdFN0aWNrLmdldFZhbHVlWSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdFN0aWNrRml4ZWRYOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgobGVmdFN0aWNrVmFsdWVYICogdGhpcy5sZWZ0U3RpY2tGYWN0b3IpLCAtMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tGaXhlZFk6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKChsZWZ0U3RpY2tWYWx1ZVkgKiB0aGlzLmxlZnRTdGlja0ZhY3RvciksIC0xLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuU2V0TGVmdEpveXN0aWNrQnVmZmVyKGxlZnRTdGlja0ZpeGVkWCwgbGVmdFN0aWNrRml4ZWRZLCB0aGlzLmludmVydExlZnRTdGlja1kpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVJpZ2h0Sm95c3RpY2sgPT09IHRydWUgJiYgdGhpcy5tX3JpZ2h0U3RpY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5Nb2JpbGVDb250cm9sc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByaWdodFN0aWNrVmFsdWVYOiBudW1iZXIgPSB0aGlzLm1fcmlnaHRTdGljay5nZXRWYWx1ZVgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0U3RpY2tWYWx1ZVk6IG51bWJlciA9IHRoaXMubV9yaWdodFN0aWNrLmdldFZhbHVlWSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmlnaHRTdGlja0ZpeGVkWDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKHJpZ2h0U3RpY2tWYWx1ZVggKiB0aGlzLnJpZ2h0U3RpY2tGYWN0b3IpLCAtMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByaWdodFN0aWNrRml4ZWRZOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgocmlnaHRTdGlja1ZhbHVlWSAqIHRoaXMucmlnaHRTdGlja0ZhY3RvciksIC0xLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuU2V0UmlnaHRKb3lzdGlja0J1ZmZlcihyaWdodFN0aWNrRml4ZWRYLCByaWdodFN0aWNrRml4ZWRZLCB0aGlzLmludmVydFJpZ2h0U3RpY2tZKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVWaXJ0dWFsQnV0dG9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5Nb2JpbGVDb250cm9sc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBWYWxpZGF0ZSBNb2JpbGUgQ29udHJvbCBWaXN1YWxzIEFyZSBEaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9sZWZ0U3RpY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9sZWZ0U3RpY2suZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9sZWZ0U3RpY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9yaWdodFN0aWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmlnaHRTdGljay5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JpZ2h0U3RpY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgcHJvdGVjdGVkIGNoZWNrT3JpZW50YXRpb24oKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbjogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0T3JpZW50YXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHBjb3ZlcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcnRyYWl0LXdhcm5pbmctY292ZXJcIik7XG4gICAgICAgICAgICBjb25zdCBsY292ZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYW5kc2NhcGUtd2FybmluZy1jb3ZlclwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2hlY2sgT3JpZW50YXRpb24oKTogXCIgKyBvcmllbnRhdGlvbiArIFwiIC0+IFwiICsgdGhpcy5pbnB1dE9yaWVudGF0aW9uICsgXCIgLT4gU2l6ZTogXCIgKyB3aW5kb3cuaW5uZXJXaWR0aCArIFwiIHggXCIgKyB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcImxhbmRzY2FwZVwiIHx8IG9yaWVudGF0aW9uID09PSBcInBvcnRyYWl0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dE9yaWVudGF0aW9uID09PSAxKSB7IC8vIE5vdGU6IEVuZm9yY2UgUG9ydHJhaXQgT3JpZW50YXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBjb3ZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gIT09IFwicG9ydHJhaXRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2hvdyBSb3RhdGUgVG8gUG9ydHJhaXQgV2FybmluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bjb3Zlci5jbGFzc05hbWUgPSBcIm1vYmlsZS1vcmllbnRhdGlvbi1jb3ZlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc2V0IFJvdGF0ZSBUbyBQb3J0cmFpdCBXYXJuaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcGNvdmVyLmNsYXNzTmFtZSA9IFwibm8tZGlzcGxheVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlucHV0T3JpZW50YXRpb24gPT09IDIpIHsgLy8gTm90ZTogRW5mb3JjZSBMYW5kc2NhcGUgT3JpZW50YXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxjb3ZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gIT09IFwibGFuZHNjYXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNob3cgUm90YXRlIFRvIExhbmRzY2FwZSBXYXJuaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGNvdmVyLmNsYXNzTmFtZSA9IFwibW9iaWxlLW9yaWVudGF0aW9uLWNvdmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xlYXIgUm90YXRlIFRvIExhbmRzY2FwZSBXYXJuaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGNvdmVyLmNsYXNzTmFtZSA9IFwibm8tZGlzcGxheVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBjb3ZlciAhPSBudWxsKSBwY292ZXIuY2xhc3NOYW1lID0gXCJuby1kaXNwbGF5XCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsY292ZXIgIT0gbnVsbCkgbGNvdmVyLmNsYXNzTmFtZSA9IFwibm8tZGlzcGxheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHBjb3ZlciAhPSBudWxsKSBwY292ZXIuY2xhc3NOYW1lID0gXCJuby1kaXNwbGF5XCI7XG4gICAgICAgICAgICAgICAgaWYgKGxjb3ZlciAhPSBudWxsKSBsY292ZXIuY2xhc3NOYW1lID0gXCJuby1kaXNwbGF5XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgKi9cblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZFN0eWxlU2hlZXQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZVNoZWV0ICE9IG51bGwgJiYgdGhpcy5zdHlsZVNoZWV0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGU6IEhUTUxTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgICAgICAgICAgc3R5bGUuaWQgPSBcIk1vYmlsZVN0eWxlU2hlZXRcIjtcbiAgICAgICAgICAgICAgICBzdHlsZS50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgICAgICAgICAgICAgIGlmICgoc3R5bGUgYXMgYW55KS5zdHlsZVNoZWV0KSB7IC8vIE5vdGU6IEludGVybmV0IEV4cGxvcmVyIFN1cHBvcnRcbiAgICAgICAgICAgICAgICAgICAgKHN0eWxlIGFzIGFueSkuc3R5bGVTaGVldC5jc3NUZXh0ID0gdGhpcy5zdHlsZVNoZWV0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuc3R5bGVTaGVldCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV0FSTklORzogTW9iaWxlIFN0eWxlIFNoZWV0IE5vdCBEZWZpbmVkIEZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsb2FkSHRtbE1hcmt1cCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLmh0bWxNYXJrdXAgIT0gbnVsbCAmJiB0aGlzLmh0bWxNYXJrdXAgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBtYXJrdXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgLy8gICAgIG1hcmt1cENvbnRhaW5lci5pZCA9IFwiTW9iaWxlTWFya3VwXCI7XG4gICAgICAgICAgICAvLyAgICAgbWFya3VwQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwibW9iaWxlLW1hcmt1cFwiO1xuICAgICAgICAgICAgLy8gICAgIG1hcmt1cENvbnRhaW5lci5pbm5lckhUTUwgPSB0aGlzLmh0bWxNYXJrdXA7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy51aVBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobWFya3VwQ29udGFpbmVyKTtcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS53YXJuKFwiV0FSTklORzogTW9iaWxlIE1hcmt1cCBGaWxlIE5vdCBEZWZpbmVkIEZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVIdG1sRWxlbWVudHMoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCByb290VXJsOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFJvb3RVcmwodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBjb25zdCBsZWZ0QmFzZUltYWdlRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdFN0aWNrQmFzZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0QmFzZUltYWdlRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRTdGlja0Jhc2VcIik7XG4gICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tJbWFnZURhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUZXh0dXJlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRTdGlja0ltYWdlXCIpO1xuICAgICAgICAgICAgY29uc3QgcmlnaHRTdGlja0ltYWdlRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRTdGlja0ltYWdlXCIpO1xuICAgICAgICAgICAgY29uc3QgbGJhc2VJbWFnZUZpbGVuYW1lOiBzdHJpbmcgPSAobGVmdEJhc2VJbWFnZURhdGEgIT0gbnVsbCkgPyBsZWZ0QmFzZUltYWdlRGF0YS5maWxlbmFtZSA6IFwiYmFzZUltYWdlLnBuZ1wiO1xuICAgICAgICAgICAgY29uc3QgcmJhc2VJbWFnZUZpbGVuYW1lOiBzdHJpbmcgPSAocmlnaHRCYXNlSW1hZ2VEYXRhICE9IG51bGwpID8gcmlnaHRCYXNlSW1hZ2VEYXRhLmZpbGVuYW1lIDogXCJiYXNlSW1hZ2UucG5nXCI7XG4gICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tJbWFnZUZpbGVuYW1lOiBzdHJpbmcgPSAobGVmdFN0aWNrSW1hZ2VEYXRhICE9IG51bGwpID8gbGVmdFN0aWNrSW1hZ2VEYXRhLmZpbGVuYW1lIDogXCJsZWZ0U3RpY2sucG5nXCI7XG4gICAgICAgICAgICBjb25zdCByaWdodFN0aWNrSW1hZ2VGaWxlbmFtZTogc3RyaW5nID0gKHJpZ2h0U3RpY2tJbWFnZURhdGEgIT0gbnVsbCkgPyByaWdodFN0aWNrSW1hZ2VEYXRhLmZpbGVuYW1lIDogXCJyaWdodFN0aWNrLnBuZ1wiO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlTGVmdEpveXN0aWNrID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdEJhc2VFbGVtZW50LmlkID0gXCJiYXNlMVwiO1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdEJhc2VFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAodGhpcy5sZWZ0U3RpY2tTdHlsZSA9PT0gMCkgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudC5jbGFzc05hbWUgPSAodGhpcy5jZW50ZXJMZWZ0Sm95c3RpY2sgPT09IHRydWUpID8gXCJHYW1lcGFkQ2VudGVyU3RpY2tcIiA6IFwiR2FtZXBhZExlZnRTdGlja1wiO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZUltZzE6IEhUTUxJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgIGJhc2VJbWcxLmlkID0gXCJpbWFnZTFcIjtcbiAgICAgICAgICAgICAgICBiYXNlSW1nMS5zcmMgPSAocm9vdFVybCArIGxiYXNlSW1hZ2VGaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgYmFzZUltZzEuY2xhc3NOYW1lID0gXCJHYW1lcGFkTGVmdEJhc2VcIjtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IGJhbGxEaXYxOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgYmFsbERpdjEuaWQgPSBcInN0aWNrMVwiO1xuICAgICAgICAgICAgICAgIGJhbGxEaXYxLmNsYXNzTmFtZSA9IFwiR2FtZXBhZExlZnRDb250ZW50XCI7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCBiYWxsSW1nMTogSFRNTEltYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgYmFsbEltZzEuaWQgPSBcImJhbGwxXCI7XG4gICAgICAgICAgICAgICAgYmFsbEltZzEuc3JjID0gKHJvb3RVcmwgKyBsZWZ0U3RpY2tJbWFnZUZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBiYWxsSW1nMS5jbGFzc05hbWUgPSBcIkdhbWVwYWRMZWZ0Q29udHJvbFwiO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgYmFsbERpdjEuYXBwZW5kQ2hpbGQoYmFsbEltZzEpO1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdEJhc2VFbGVtZW50LmFwcGVuZENoaWxkKGJhc2VJbWcxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudC5hcHBlbmRDaGlsZChiYWxsRGl2MSk7XG4gICAgICAgICAgICAgICAgdGhpcy51aVBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5sZWZ0QmFzZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUmlnaHRKb3lzdGljayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCYXNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodEJhc2VFbGVtZW50LmlkID0gXCJiYXNlMlwiO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCYXNlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gKHRoaXMucmlnaHRTdGlja1N0eWxlID09PSAwKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCYXNlRWxlbWVudC5jbGFzc05hbWUgPSAodGhpcy5jZW50ZXJSaWdodEpveXN0aWNrID09PSB0cnVlKSA/IFwiR2FtZXBhZENlbnRlclN0aWNrXCIgOiBcIkdhbWVwYWRSaWdodFN0aWNrXCI7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlSW1nMjogSFRNTEltYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgYmFzZUltZzIuaWQgPSBcImltYWdlMlwiO1xuICAgICAgICAgICAgICAgIGJhc2VJbWcyLnNyYyA9IChyb290VXJsICsgcmJhc2VJbWFnZUZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBiYXNlSW1nMi5jbGFzc05hbWUgPSBcIkdhbWVwYWRSaWdodEJhc2VcIjtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IGJhbGxEaXYyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgYmFsbERpdjIuaWQgPSBcInN0aWNrMlwiO1xuICAgICAgICAgICAgICAgIGJhbGxEaXYyLmNsYXNzTmFtZSA9IFwiR2FtZXBhZFJpZ2h0Q29udGVudFwiO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgYmFsbEltZzI6IEhUTUxJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgIGJhbGxJbWcyLmlkID0gXCJiYWxsMlwiO1xuICAgICAgICAgICAgICAgIGJhbGxJbWcyLnNyYyA9IChyb290VXJsICsgcmlnaHRTdGlja0ltYWdlRmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgIGJhbGxJbWcyLmNsYXNzTmFtZSA9IFwiR2FtZXBhZFJpZ2h0Q29udHJvbFwiO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgYmFsbERpdjIuYXBwZW5kQ2hpbGQoYmFsbEltZzIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCYXNlRWxlbWVudC5hcHBlbmRDaGlsZChiYXNlSW1nMik7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodEJhc2VFbGVtZW50LmFwcGVuZENoaWxkKGJhbGxEaXYyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpUGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnJpZ2h0QmFzZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlVmlydHVhbEJ1dHRvbnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkJhc2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkJhc2VFbGVtZW50LmlkID0gXCJiYXNlMFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uQmFzZUVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uQmFzZUVsZW1lbnQuY2xhc3NOYW1lID0gXCJHYW1lcGFkQnV0dG9uR3JvdXBcIjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsQnV0dG9uQ29udHJvbHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpcnR1YWxCdXR0b25Db250cm9scy5mb3JFYWNoKChlbGVtZW50OiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbkluZGV4Q291bnQ6IG51bWJlciA9IChpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uSW1hZ2VEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VGV4dHVyZSA9IGVsZW1lbnQuYnV0dG9uSW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aXJ0dWFsQnV0dG9uOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQnV0dG9uLmlkID0gKFwiYnV0dG9uXCIgKyBidXR0b25JbmRleENvdW50LnRvRml4ZWQoMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjsgICAgICAgICAvLyBOb3RlOiBEZWZhdWx0IEN1cnNvciBTdHlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7ICAgICAvLyBOb3RlOiBFbmFibGUgUG9pbnRlciBFdmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCdXR0b24uY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCAoZSkgPT4geyBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLklucHV0S2V5RG93bkhhbmRsZXIoZWxlbWVudC5pbnB1dEtleUNvZGUsIGUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCAoZSkgPT4geyBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLklucHV0S2V5VXBIYW5kbGVyKGVsZW1lbnQuaW5wdXRLZXlDb2RlLCBlKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uSW1hZ2VEYXRhICE9IG51bGwgJiYgYnV0dG9uSW1hZ2VEYXRhLmZpbGVuYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5idXR0b25Db3ZlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidXR0b25JbWc6IEhUTUxJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25JbWcuaWQgPSAodmlydHVhbEJ1dHRvbi5pZCArIFwiLkltYWdlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25JbWcuc3JjID0gKHJvb3RVcmwgKyBidXR0b25JbWFnZURhdGEuZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25JbWcuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uSW1nLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25JbWcuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uSW1nLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25JbWcuc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkltZy5zdHlsZS5tYXJnaW4gPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25JbWcuc3R5bGUucGFkZGluZyA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkltZy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi5hcHBlbmRDaGlsZChidXR0b25JbWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCdXR0b24udGV4dENvbnRlbnQgPSBlbGVtZW50LmJ1dHRvbk5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCdXR0b24uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gKFwidXJsKFwiICsgcm9vdFVybCArIGJ1dHRvbkltYWdlRGF0YS5maWxlbmFtZSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gXCJuby1yZXBlYXRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IChlbGVtZW50LmJ1dHRvbkNvdmVyID09PSAxKSA/IFwiY292ZXJcIiA6IFwiY29udGFpblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi50ZXh0Q29udGVudCA9IGVsZW1lbnQuYnV0dG9uTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uQmFzZUVsZW1lbnQuYXBwZW5kQ2hpbGQodmlydHVhbEJ1dHRvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVpUGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbkJhc2VFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdGhlIGpveXN0aWNrIGlucHV0cyB0byBjb250cm9sIGEgZnJlZSBjYW1lcmEuXG4gICAgICogQHNlZSBodHRwczovL2RvYy5iYWJ5bG9uanMuY29tL2hvd190by9jdXN0b21pemluZ19jYW1lcmFfaW5wdXRzXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXQgaW1wbGVtZW50cyBCQUJZTE9OLklDYW1lcmFJbnB1dDxCQUJZTE9OLkZyZWVDYW1lcmE+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSB0aGUgY2FtZXJhIHRoZSBpbnB1dCBpcyBhdHRhY2hlZCB0by5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjYW1lcmE6IEJBQllMT04uRnJlZUNhbWVyYTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lIHRoZSBqb3lzdGljayBjb250cm9sbGluZyB0aGUgaW5wdXRcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjb250cm9sbGVyOiBCQUJZTE9OLk51bGxhYmxlPFBST0pFQ1QuTW9iaWxlSW5wdXRDb250cm9sbGVyPjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyB0aGUgam95c3RpY2sgcm90YXRpb24gc2Vuc2libGl0eS5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgdGhyZXNob2xkIGZyb20gd2hlbiByb3RhdGlvbiBzdGFydHMgdG8gYmUgYWNjb3VudGVkIGZvciB0byBwcmV2ZW50IGppdHRlcmluZy5cbiAgICAgICAgICovXG4gICAgICAgIEBCQUJZTE9OLnNlcmlhbGl6ZSgpXG4gICAgICAgIHB1YmxpYyBqb3lzdGlja0FuZ3VsYXJTZW5zaWJpbGl0eSA9IDIwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyB0aGUgam95c3RpY2sgbW92ZSBzZW5zaWJsaXR5LlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0aHJlc2hvbGQgZnJvbSB3aGVuIG1vdmluZyBzdGFydHMgdG8gYmUgYWNjb3VudGVkIGZvciBmb3IgdG8gcHJldmVudCBqaXR0ZXJpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBAQkFCWUxPTi5zZXJpYWxpemUoKVxuICAgICAgICBwdWJsaWMgam95c3RpY2tNb3ZlU2Vuc2liaWxpdHkgPSA0MC4wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIHRoZSBtaW5pbXVtIHZhbHVlIGF0IHdoaWNoIGFueSBhbmFsb2cgc3RpY2sgaW5wdXQgaXMgaWdub3JlZC5cbiAgICAgICAgICogTm90ZTogVGhpcyB2YWx1ZSBzaG91bGQgb25seSBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBkZWFkem9uZURlbHRhID0gMC4xO1xuXG5cbiAgICAgICAgcHJpdmF0ZSBfeUF4aXNTY2FsZSA9IDEuMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgb3Igc2V0cyBhIGJvb2xlYW4gaW5kaWNhdGluZyB0aGF0IFlheGlzIChmb3IgcmlnaHQgc3RpY2spIHNob3VsZCBiZSBpbnZlcnRlZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGdldCBpbnZlcnRZQXhpcygpIHsgcmV0dXJuIHRoaXMuX3lBeGlzU2NhbGUgIT09IDEuMDsgfVxuICAgICAgICBwdWJsaWMgc2V0IGludmVydFlBeGlzKHZhbHVlOiBib29sZWFuKSB7IHRoaXMuX3lBeGlzU2NhbGUgPSB2YWx1ZSA/IC0xLjAgOiAxLjA7IH1cblxuICAgICAgICAvLyBwcml2YXRlIG1lbWJlcnNcbiAgICAgICAgcHJpdmF0ZSBMU1ZhbHVlczogQkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBSU1ZhbHVlczogQkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBfY2FtZXJhVHJhbnNmb3JtOiBCQUJZTE9OLk1hdHJpeCA9IEJBQllMT04uTWF0cml4LklkZW50aXR5KCk7XG4gICAgICAgIHByaXZhdGUgX2RlbHRhVHJhbnNmb3JtOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIF92ZWN0b3IzOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIF92ZWN0b3IyOiBCQUJZTE9OLlZlY3RvcjIgPSBCQUJZTE9OLlZlY3RvcjIuWmVybygpO1xuICAgICAgICBwcml2YXRlIF9hdHRhY2hlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdHRhY2ggdGhlIGlucHV0IGNvbnRyb2xzIHRvIGEgc3BlY2lmaWMgZG9tIGVsZW1lbnQgdG8gZ2V0IHRoZSBpbnB1dCBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGF0dGFjaENvbnRyb2woKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0YWNoIHRoZSBjdXJyZW50IGNvbnRyb2xzIGZyb20gdGhlIHNwZWNpZmllZCBkb20gZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBkZXRhY2hDb250cm9sKCk6IHZvaWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGFjaCB0aGUgY3VycmVudCBjb250cm9scyBmcm9tIHRoZSBzcGVjaWZpZWQgZG9tIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSBpZ25vcmVkIGRlZmluZXMgYW4gaWdub3JlZCBwYXJhbWV0ZXIga2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS4gSWYgeW91IHdhbnQgdG8gZGVmaW5lIHRoZSBzb3VyY2UgaW5wdXQgZWxlbWVudCwgeW91IGNhbiBzZXQgZW5naW5lLmlucHV0RWxlbWVudCBiZWZvcmUgY2FsbGluZyBjYW1lcmEuYXR0YWNoQ29udHJvbFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGRldGFjaENvbnRyb2woaWdub3JlZD86IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgdGhlIGN1cnJlbnQgY2FtZXJhIHN0YXRlIGRlcGVuZGluZyBvbiB0aGUgaW5wdXRzIHRoYXQgaGF2ZSBiZWVuIHVzZWQgdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyBpcyBhIGR5bmFtaWNhbGx5IGNyZWF0ZWQgbGFtYmRhIHRvIGF2b2lkIHRoZSBwZXJmb3JtYW5jZSBwZW5hbHR5IG9mIGxvb3BpbmcgZm9yIGlucHV0cyBpbiB0aGUgcmVuZGVyIGxvb3AuXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgY2hlY2tJbnB1dHMoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmEgIT0gbnVsbCAmJiB0aGlzLmNvbnRyb2xsZXIgIT0gbnVsbCAmJiB0aGlzLl9hdHRhY2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IExTdGljayA9IHRoaXMuY29udHJvbGxlci5nZXRMZWZ0U3RpY2soKTtcbiAgICAgICAgICAgICAgICBpZiAoTFN0aWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MU1ZhbHVlcy5zZXQoTFN0aWNrLmdldFZhbHVlWCgpLCBMU3RpY2suZ2V0VmFsdWVZKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5qb3lzdGlja01vdmVTZW5zaWJpbGl0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5MU1ZhbHVlcy54ID0gKE1hdGguYWJzKHRoaXMuTFNWYWx1ZXMueCkgPiB0aGlzLmRlYWR6b25lRGVsdGEpID8gdGhpcy5MU1ZhbHVlcy54IC8gdGhpcy5qb3lzdGlja01vdmVTZW5zaWJpbGl0eSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkxTVmFsdWVzLnkgPSAoTWF0aC5hYnModGhpcy5MU1ZhbHVlcy55KSA+IHRoaXMuZGVhZHpvbmVEZWx0YSkgPyB0aGlzLkxTVmFsdWVzLnkgLyB0aGlzLmpveXN0aWNrTW92ZVNlbnNpYmlsaXR5IDogMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTFNWYWx1ZXMuc2V0KDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IFJTdGljayA9IHRoaXMuY29udHJvbGxlci5nZXRSaWdodFN0aWNrKCk7XG4gICAgICAgICAgICAgICAgaWYgKFJTdGljayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuUlNWYWx1ZXMuc2V0KFJTdGljay5nZXRWYWx1ZVgoKSwgUlN0aWNrLmdldFZhbHVlWSgpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuam95c3RpY2tBbmd1bGFyU2Vuc2liaWxpdHkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUlNWYWx1ZXMueCA9IChNYXRoLmFicyh0aGlzLlJTVmFsdWVzLngpID4gdGhpcy5kZWFkem9uZURlbHRhKSA/IHRoaXMuUlNWYWx1ZXMueCAvIHRoaXMuam95c3RpY2tBbmd1bGFyU2Vuc2liaWxpdHkgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SU1ZhbHVlcy55ID0gKChNYXRoLmFicyh0aGlzLlJTVmFsdWVzLnkpID4gdGhpcy5kZWFkem9uZURlbHRhKSA/IHRoaXMuUlNWYWx1ZXMueSAvIHRoaXMuam95c3RpY2tBbmd1bGFyU2Vuc2liaWxpdHkgOiAwKSAqIHRoaXMuX3lBeGlzU2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLlJTVmFsdWVzLnNldCgwLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FtZXJhLnJvdGF0aW9uUXVhdGVybmlvbikge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk1hdHJpeC5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuY2FtZXJhLnJvdGF0aW9uLnksIHRoaXMuY2FtZXJhLnJvdGF0aW9uLngsIDAsIHRoaXMuX2NhbWVyYVRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgodGhpcy5fY2FtZXJhVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICB2YXIgc3BlZWQgPSB0aGlzLmNhbWVyYS5fY29tcHV0ZUxvY2FsQ2FtZXJhU3BlZWQoKSAqIDUwLjA7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmVjdG9yMy5jb3B5RnJvbUZsb2F0cyh0aGlzLkxTVmFsdWVzLnggKiBzcGVlZCwgMCwgLXRoaXMuTFNWYWx1ZXMueSAqIHNwZWVkKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuX3ZlY3RvcjMsIHRoaXMuX2NhbWVyYVRyYW5zZm9ybSwgdGhpcy5fZGVsdGFUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmNhbWVyYURpcmVjdGlvbi5hZGRJblBsYWNlKHRoaXMuX2RlbHRhVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB0aGlzLl92ZWN0b3IyLmNvcHlGcm9tRmxvYXRzKHRoaXMuUlNWYWx1ZXMueSwgdGhpcy5SU1ZhbHVlcy54KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5jYW1lcmFSb3RhdGlvbi5hZGRJblBsYWNlKHRoaXMuX3ZlY3RvcjIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIGNsYXNzIG5hbWUgb2YgdGhlIGN1cnJlbnQgaW5wdXQuXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBjbGFzcyBuYW1lXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZ2V0Q2xhc3NOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gXCJGcmVlQ2FtZXJhVG91Y2hKb3lzdGlja0lucHV0XCI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBmcmllbmRseSBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5wdXQgY2xhc3MuXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBpbnB1dCBmcmllbmRseSBuYW1lXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZ2V0U2ltcGxlTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICAgICAgcmV0dXJuIFwiam95c3RpY2tcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICg8YW55PkJBQllMT04uQ2FtZXJhSW5wdXRUeXBlcylbXCJGcmVlQ2FtZXJhVG91Y2hKb3lzdGlja0lucHV0XCJdID0gUFJPSkVDVC5GcmVlQ2FtZXJhVG91Y2hKb3lzdGlja0lucHV0O1xufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIE1vYmlsZU9jY2x1ZGVNYXRlcmlhbFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE1vYmlsZU9jY2x1ZGVNYXRlcmlhbCBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIGFwcGx5VG9NYXRlcmlhbDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXBwbHlUb01hdGVyaWFsID09PSB0cnVlICYmIHRoaXMudHJhbnNmb3JtIGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXRlcmlhbC5kaXNhYmxlQ29sb3JXcml0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTW9iaWxlU2hhZG93TWF0ZXJpYWxcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBNb2JpbGVTaGFkb3dNYXRlcmlhbCBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIGNyZWF0ZU5ld01hdGVyaWFsOiBib29sZWFuID0gdHJ1ZTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jcmVhdGVOZXdNYXRlcmlhbCA9PT0gdHJ1ZSAmJiB0aGlzLnRyYW5zZm9ybSBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxOYW1lOiBzdHJpbmcgPSB0aGlzLnRyYW5zZm9ybS5uYW1lLnJlcGxhY2UoXCIgXCIsIFwiXCIpICsgXCIuU2hhZG93TWF0ZXJpYWxcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbChtYXRlcmlhbE5hbWUsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jcmVhdGVOZXdNYXRlcmlhbCA9PT0gdHJ1ZSAmJiB0aGlzLnRyYW5zZm9ybSBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLm1hdGVyaWFsICE9IG51bGwgJiYgdGhpcy50cmFuc2Zvcm0ubWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEJhbGxTb2NrZXRKb2ludFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEJhbGxTb2NrZXRKb2ludCBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYm9keUE6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBib2R5QjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygtMC41LCAwLCAtMC41KTtcbiAgICAgICAgcHVibGljIHBpdm90QjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygtMC41LCAwLCAwLjUpO1xuICAgICAgICBwdWJsaWMgYXhpc0E6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMSwgMCk7XG4gICAgICAgIHB1YmxpYyBheGlzQjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKTtcbiAgICAgICAgcHVibGljIGNvbnN0cmFpbnQ6IEJBQllMT04uQmFsbEFuZFNvY2tldENvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY29sbGlzaW9uc0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBib2R5QUluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUFcIik7XG4gICAgICAgICAgICBjb25zdCBib2R5QkluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUJcIik7XG4gICAgICAgICAgICBpZiAoYm9keUFJbmZvICE9IG51bGwgJiYgYm9keUJJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlBID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgPT09IGJvZHlBSW5mby5uYW1lKSA/IHRoaXMudHJhbnNmb3JtIDogdGhpcy5nZXRDaGlsZE5vZGUoYm9keUFJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUIgPSB0aGlzLmdldENoaWxkTm9kZShib2R5QkluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEgIT0gbnVsbCAmJiB0aGlzLmJvZHlCICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLmJvZHlCLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG5ldyBCQUJZTE9OLkJhbGxBbmRTb2NrZXRDb25zdHJhaW50KHRoaXMucGl2b3RBLCB0aGlzLnBpdm90QiwgdGhpcy5heGlzQSwgdGhpcy5heGlzQiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZHlBLnBoeXNpY3NCb2R5LmFkZENvbnN0cmFpbnQodGhpcy5ib2R5Qi5waHlzaWNzQm9keSwgdGhpcy5jb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludC5pc0NvbGxpc2lvbnNFbmFibGVkID0gdGhpcy5jb2xsaXNpb25zRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ib2R5QSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJvZHlCID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnN0cmFpbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBEaXN0YW5jZUpvaW50XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRGlzdGFuY2VKb2ludCBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYm9keUE6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBib2R5QjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIG1heERpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDogQkFCWUxPTi5EaXN0YW5jZUNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY29sbGlzaW9uc0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBib2R5QUluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUFcIik7XG4gICAgICAgICAgICBjb25zdCBib2R5QkluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUJcIik7XG4gICAgICAgICAgICBpZiAoYm9keUFJbmZvICE9IG51bGwgJiYgYm9keUJJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlBID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgPT09IGJvZHlBSW5mby5uYW1lKSA/IHRoaXMudHJhbnNmb3JtIDogdGhpcy5nZXRDaGlsZE5vZGUoYm9keUFJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUIgPSB0aGlzLmdldENoaWxkTm9kZShib2R5QkluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEgIT0gbnVsbCAmJiB0aGlzLmJvZHlCICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLmJvZHlCLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG5ldyBCQUJZTE9OLkRpc3RhbmNlQ29uc3RyYWludCh0aGlzLm1heERpc3RhbmNlLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEZpeGVkSGluZ2VKb2ludFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEZpeGVkSGluZ2VKb2ludCBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYm9keUE6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBib2R5QjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAtMC41KTtcbiAgICAgICAgcHVibGljIHBpdm90QjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwLjUpO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDogQkFCWUxPTi5IaW5nZUNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY29sbGlzaW9uc0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBib2R5QUluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUFcIik7XG4gICAgICAgICAgICBjb25zdCBib2R5QkluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUJcIik7XG4gICAgICAgICAgICBpZiAoYm9keUFJbmZvICE9IG51bGwgJiYgYm9keUJJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlBID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgPT09IGJvZHlBSW5mby5uYW1lKSA/IHRoaXMudHJhbnNmb3JtIDogdGhpcy5nZXRDaGlsZE5vZGUoYm9keUFJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUIgPSB0aGlzLmdldENoaWxkTm9kZShib2R5QkluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEgIT0gbnVsbCAmJiB0aGlzLmJvZHlCICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLmJvZHlCLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG5ldyBCQUJZTE9OLkhpbmdlQ29uc3RyYWludCh0aGlzLnBpdm90QSwgdGhpcy5waXZvdEIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIExvY2tlZEpvaW50XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTG9ja2VkSm9pbnQgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIGJvZHlBOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwaXZvdEE6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC41LCAwLjUsIC0wLjUpO1xuICAgICAgICBwdWJsaWMgcGl2b3RCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKC0wLjUsIC0wLjUsIDAuNSk7XG4gICAgICAgIHB1YmxpYyBheGlzQTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKTtcbiAgICAgICAgcHVibGljIGF4aXNCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDEsIDApO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDogQkFCWUxPTi5Mb2NrQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QlwiKTtcbiAgICAgICAgICAgIGlmIChib2R5QUluZm8gIT0gbnVsbCAmJiBib2R5QkluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUEgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gYm9keUFJbmZvLm5hbWUpID8gdGhpcy50cmFuc2Zvcm0gOiB0aGlzLmdldENoaWxkTm9kZShib2R5QUluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QiA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlCSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QSAhPSBudWxsICYmIHRoaXMuYm9keUIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuYm9keUIucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbmV3IEJBQllMT04uTG9ja0NvbnN0cmFpbnQodGhpcy5waXZvdEEsIHRoaXMucGl2b3RCLCB0aGlzLmF4aXNBLCB0aGlzLmF4aXNCLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFByaXNtYXRpY0pvaW50XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgUHJpc21hdGljSm9pbnQgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIGJvZHlBOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwaXZvdEE6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgLTAuMik7XG4gICAgICAgIHB1YmxpYyBwaXZvdEI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMC4yNSk7XG4gICAgICAgIHB1YmxpYyBheGlzQTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKTtcbiAgICAgICAgcHVibGljIGF4aXNCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDEsIDApO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDogQkFCWUxPTi5QcmlzbWF0aWNDb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNvbGxpc2lvbnNFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYm9keUFJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlBXCIpO1xuICAgICAgICAgICAgY29uc3QgYm9keUJJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlCXCIpO1xuICAgICAgICAgICAgaWYgKGJvZHlBSW5mbyAhPSBudWxsICYmIGJvZHlCSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lID09PSBib2R5QUluZm8ubmFtZSkgPyB0aGlzLnRyYW5zZm9ybSA6IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlBSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlCID0gdGhpcy5nZXRDaGlsZE5vZGUoYm9keUJJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBICE9IG51bGwgJiYgdGhpcy5ib2R5QiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5ib2R5Qi5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBuZXcgQkFCWUxPTi5QcmlzbWF0aWNDb25zdHJhaW50KHRoaXMucGl2b3RBLCB0aGlzLnBpdm90QiwgdGhpcy5heGlzQSwgdGhpcy5heGlzQiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZHlBLnBoeXNpY3NCb2R5LmFkZENvbnN0cmFpbnQodGhpcy5ib2R5Qi5waHlzaWNzQm9keSwgdGhpcy5jb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludC5pc0NvbGxpc2lvbnNFbmFibGVkID0gdGhpcy5jb2xsaXNpb25zRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ib2R5QSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJvZHlCID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnN0cmFpbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBTaXhkb2ZKb2ludFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNpeGRvZkpvaW50IGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJvZHlCOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcGl2b3RBOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0wLjUsIDApO1xuICAgICAgICBwdWJsaWMgcGl2b3RCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAuNSwgMCk7XG4gICAgICAgIHB1YmxpYyBwZXJwQXhpc0E6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBwZXJwQXhpc0I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBheGlzTGltaXRzOiBCQUJZTE9OLlBoeXNpY3M2RG9GTGltaXRbXSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb25zdHJhaW50OiBCQUJZTE9OLlBoeXNpY3M2RG9GQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QlwiKTtcbiAgICAgICAgICAgIGlmIChib2R5QUluZm8gIT0gbnVsbCAmJiBib2R5QkluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUEgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gYm9keUFJbmZvLm5hbWUpID8gdGhpcy50cmFuc2Zvcm0gOiB0aGlzLmdldENoaWxkTm9kZShib2R5QUluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QiA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlCSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QSAhPSBudWxsICYmIHRoaXMuYm9keUIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuYm9keUIucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbmV3IEJBQllMT04uUGh5c2ljczZEb0ZDb25zdHJhaW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl2b3RBOiB0aGlzLnBpdm90QSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl2b3RCOiB0aGlzLnBpdm90QixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVycEF4aXNBOiB0aGlzLnBlcnBBeGlzQSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVycEF4aXNCOiB0aGlzLnBlcnBBeGlzQlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5heGlzTGltaXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZHlBLnBoeXNpY3NCb2R5LmFkZENvbnN0cmFpbnQodGhpcy5ib2R5Qi5waHlzaWNzQm9keSwgdGhpcy5jb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludC5pc0NvbGxpc2lvbnNFbmFibGVkID0gdGhpcy5jb2xsaXNpb25zRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ib2R5QSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJvZHlCID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnN0cmFpbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBTbGlkZXJKb2ludFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNsaWRlckpvaW50IGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJvZHlCOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcGl2b3RBOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIC0wLjIpO1xuICAgICAgICBwdWJsaWMgcGl2b3RCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDAuMjUpO1xuICAgICAgICBwdWJsaWMgYXhpc0E6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMSwgMCk7XG4gICAgICAgIHB1YmxpYyBheGlzQjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKTtcbiAgICAgICAgcHVibGljIGNvbnN0cmFpbnQ6IEJBQllMT04uU2xpZGVyQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QlwiKTtcbiAgICAgICAgICAgIGlmIChib2R5QUluZm8gIT0gbnVsbCAmJiBib2R5QkluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUEgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gYm9keUFJbmZvLm5hbWUpID8gdGhpcy50cmFuc2Zvcm0gOiB0aGlzLmdldENoaWxkTm9kZShib2R5QUluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QiA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlCSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QSAhPSBudWxsICYmIHRoaXMuYm9keUIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuYm9keUIucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbmV3IEJBQllMT04uU2xpZGVyQ29uc3RyYWludCh0aGlzLnBpdm90QSwgdGhpcy5waXZvdEIsIHRoaXMuYXhpc0EsIHRoaXMuYXhpc0IsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5QS5waHlzaWNzQm9keS5hZGRDb25zdHJhaW50KHRoaXMuYm9keUIucGh5c2ljc0JvZHksIHRoaXMuY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuaXNDb2xsaXNpb25zRW5hYmxlZCA9IHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ib2R5QiA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgUmVtb3RlUGxheWVyQ29udHJvbGxlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFJlbW90ZVBsYXllckNvbnRyb2xsZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIHVwZGF0ZVN0YXRlUGFyYW1zOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHNtb290aE1vdGlvblRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzbW9vdGhJbnB1dFZlY3RvcnM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRpb25TdGF0ZTogQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRpb25TdGF0ZVBhcmFtczogUFJPSkVDVC5BbmltYXRpb25TdGF0ZVBhcmFtcyA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ1cGRhdGVTdGF0ZVBhcmFtc1wiLCB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoTW90aW9uVGltZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhNb3Rpb25UaW1lXCIsIHRoaXMuc21vb3RoTW90aW9uVGltZSk7XG4gICAgICAgICAgICB0aGlzLnNtb290aElucHV0VmVjdG9ycyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhJbnB1dFZlY3RvcnNcIiwgdGhpcy5zbW9vdGhJbnB1dFZlY3RvcnMpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbmltYXRpb25TdGF0ZVBhcmFtc1wiLCB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIC8vY29uc29sZS53YXJuKFwiUmVtb3RlIFBsYXllciBDb250cm9sbGVyOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6IG51bWJlciA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICAvLyBUT0RPIC0gRklYIFRISVMgU0hJVFxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoQW5pbWF0aW9uQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFF1ZXJ5IE5ldHdvcmsgQXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5IYXNOZXR3b3JrRW50aXR5KHRoaXMudHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbjogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMCk7ICAgICAgICAvLyBEaXJlY3Rpb25cbiAgICAgICAgICAgICAgICBjb25zdCBtYWduaXR1ZGU6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEpOyAgICAgICAgLy8gTWFnbml0dWRlXG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRYOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAyKTsgICAgICAgICAgIC8vIEhvcml6b25hbFxuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0WjogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMyk7ICAgICAgICAgICAvLyBWZXJ0aWNhbFxuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlWDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNCk7ICAgICAgICAgICAvLyBNb3VzZVhcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZVk6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDUpOyAgICAgICAgICAgLy8gTW91c2V5XG4gICAgICAgICAgICAgICAgY29uc3QgdnZlbG9jaXR5OiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA2KTsgICAgICAgIC8vIFZlcnRpY2FsIFZlbG9jaXR5XG4gICAgICAgICAgICAgICAgY29uc3QgbW92ZXNwZWVkOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA3KTsgICAgICAgIC8vIE1vdmVtZW50IFNwZWVkXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uc3RhdGU6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDgpOyAgICAgIC8vIEFjdGlvbiBTdGF0ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGp1bXBmcmFtZTogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOSk7ICAgICAgICAvLyBKdW1wIEZyYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgaXNqdW1waW5nOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMCk7ICAgICAgIC8vIElzIEp1bXBpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBpc2ZhbGxpbmc6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDExKTsgICAgICAgLy8gSXMgRmFsbGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzc2xpZGluZzogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTIpOyAgICAgICAvLyBJcyBTbGlkaW5nXG4gICAgICAgICAgICAgICAgY29uc3QgaXNncm91bmRlZDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTMpOyAgICAgIC8vIElzIEdyb3VuZGVkXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQW5pbWF0aW9uIFN0YXRlIFBhcmFtc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCAmJiB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVBbmltYXRpb25TdGF0ZVBhcmFtcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEludGVnZXIodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3ZlRGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaGVpZ2h0SW5wdXQsIHZ2ZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmp1bXBGcmFtZSwgKGp1bXBmcmFtZSAhPT0gMCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5qdW1wU3RhdGUsIChpc2p1bXBpbmcgIT09IDApKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRJbnRlZ2VyKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuYWN0aW9uU3RhdGUsIGFjdGlvbnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuZmFsbGluZ1N0YXRlLCAoaXNmYWxsaW5nICE9PSAwKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNsaWRpbmdTdGF0ZSwgKGlzc2xpZGluZyAhPT0gMCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ncm91bmRlZFN0YXRlLCAoaXNncm91bmRlZCAhPT0gMCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhNb3Rpb25UaW1lID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgaW5wdXRYLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnZlcnRpY2FsSW5wdXQsIGlucHV0WiwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgbW91c2VYLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCBtb3VzZVksIHRoaXMuc21vb3RoTW90aW9uVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgaW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgaW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIG1vdXNlWCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCBtb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmlucHV0TWFnbml0dWRlLCBtYWduaXR1ZGUsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCBtb3Zlc3BlZWQsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIGlucHV0WCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgaW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgbW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgbW91c2VZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5pbnB1dE1hZ25pdHVkZSwgbWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCBtb3Zlc3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIC8vIFRPRE8gLSBVcGRhdGUgU3BlZWQgSW5wdXQgV2l0aCBOYXZpZ2F0aW9uIE1hZ25pdHVkZVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAvLyB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgbWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBhdHRhY2hBbmltYXRpb25Db250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbk5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMuZ2V0Q2hpbGRXaXRoU2NyaXB0KFwiQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KGFuaW1hdGlvbk5vZGUsIFwiQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWxlZCB0byBsb2NhdGUgYW5pbWF0b3Igbm9kZSBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUub25BbmltYXRpb25VcGRhdGVPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlLmlrRnJhbWVFbmFibGVkKCkgPT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFVwZGF0ZSB0YXJnZXQgbWVzaCBwb3NpdGlvbiBXaGVuIEdyb3VuZGVkIC0gVXNlIFJheWNhc3QgLSA/Pz9cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAodGhpcy5faWtMZWZ0Q29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB0aGlzLl9pa0xlZnRDb250cm9sbGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLl9pa1JpZ2h0Q29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHZhbGlkYXRlQW5pbWF0aW9uU3RhdGVQYXJhbXMoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZURpcmVjdGlvbjogXCJEaXJlY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRNYWduaXR1ZGU6IFwiTWFnbml0dWRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxJbnB1dDogXCJIb3Jpem9udGFsXCIsXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsSW5wdXQ6IFwiVmVydGljYWxcIixcbiAgICAgICAgICAgICAgICAgICAgbW91c2VYSW5wdXQ6IFwiTW91c2VYXCIsXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlWUlucHV0OiBcIk1vdXNlWVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRJbnB1dDogXCJIZWlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgc3BlZWRJbnB1dDogXCJTcGVlZFwiLFxuICAgICAgICAgICAgICAgICAgICBqdW1wRnJhbWU6IFwiSnVtcGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1bXBTdGF0ZTogXCJKdW1wXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblN0YXRlOiBcIkFjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBmYWxsaW5nU3RhdGU6IFwiRnJlZUZhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgc2xpZGluZ1N0YXRlOiBcIlNsaWRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgZ3JvdW5kZWRTdGF0ZTogXCJHcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiB0b29sa2l0IHN0YW5kYXJkIHBsYXllciBjb250cm9sbGVyIGNsYXNzXG4gICAgICogQGNsYXNzIFN0YW5kYXJkUGxheWVyQ29udHJvbGxlciAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFN0YW5kYXJkUGxheWVyQ29udHJvbGxlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9WRVJUSUNBTF9WRUxPQ0lUWTogbnVtYmVyID0gMC4wMTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBNSU5fR1JPVU5EX0RJU1RBTkNFOiBudW1iZXIgPSAwLjE1O1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9NT1ZFX0VQU0lMT046IG51bWJlciA9IDAuMDAxO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9USU1FUl9PRkZTRVQ6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1NMT1BFX0xJTUlUOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFBMQVlFUl9IRUlHSFQ6IHN0cmluZyA9IFwicGxheWVySGVpZ2h0XCI7XG5cbiAgICAgICAgcHVibGljIGVuYWJsZUlucHV0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBhdHRhY2hDYW1lcmE6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHJvdGF0ZUNhbWVyYTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBtb3VzZVdoZWVsOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHRvZ2dsZVZpZXc6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgZnJlZUxvb2tpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHJlcXVpcmVTcHJpbnRCdXR0b246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGdyYXZpdGF0aW9uYWxGb3JjZTogbnVtYmVyID0gMy4wO1xuICAgICAgICBwdWJsaWMgbWluRmFsbFZlbG9jaXR5OiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyB2ZXJ0aWNhbFN0ZXBTcGVlZDogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgbWluU3RlcFVwSGVpZ2h0OiBudW1iZXIgPSAwLjE1O1xuICAgICAgICBwdWJsaWMgcmlnaWRCb2R5TWFzczogbnVtYmVyID0gODUuMDtcbiAgICAgICAgcHVibGljIGFpcmJvcm5UaW1lb3V0OiBudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBtYXhBbmdsZTogbnVtYmVyID0gNDU7XG4gICAgICAgIHB1YmxpYyBzcGVlZEZhY3RvcjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgcm9vdE1vdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgbW92ZVNwZWVkOiBudW1iZXIgPSA1LjMzNTtcbiAgICAgICAgcHVibGljIHdhbGtTcGVlZDogbnVtYmVyID0gMi4wO1xuICAgICAgICBwdWJsaWMgbG9va1NwZWVkOiBudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBqdW1wU3BlZWQ6IG51bWJlciA9IDEwLjA7XG4gICAgICAgIHB1YmxpYyBqdW1wRGVsYXk6IG51bWJlciA9IDAuMjU7XG4gICAgICAgIHB1YmxpYyBleWVzSGVpZ2h0OiBudW1iZXIgPSAxLjU1O1xuICAgICAgICBwdWJsaWMgcGl2b3RIZWlnaHQ6IG51bWJlciA9IDEuMzU7XG4gICAgICAgIHB1YmxpYyBtYXhEaXN0YW5jZTogbnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgc2Nyb2xsU3BlZWQ6IG51bWJlciA9IDI1O1xuICAgICAgICBwdWJsaWMgdG9wTG9va0xpbWl0OiBudW1iZXIgPSA2MC4wO1xuICAgICAgICBwdWJsaWMgZG93bkxvb2tMaW1pdDogbnVtYmVyID0gMzAuMDtcbiAgICAgICAgcHVibGljIGxvd1R1cm5TcGVlZDogbnVtYmVyID0gMTUuMDtcbiAgICAgICAgcHVibGljIGhpZ2hUdXJuU3BlZWQ6IG51bWJlciA9IDI1LjA7XG4gICAgICAgIHB1YmxpYyBzbW9vdGhNb3Rpb25UaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc21vb3RoSW5wdXRWZWN0b3JzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBzbW9vdGhBY2NlbGVyYXRpb246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGFjY2VsZXJhdGlvblNwZWVkOiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBkZWNlbGVyYXRpb25TcGVlZDogbnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgYXZhdGFyU2tpblRhZzogc3RyaW5nID0gXCJTa2luXCI7XG4gICAgICAgIHB1YmxpYyBjbGltYlZvbHVtZVRhZzogc3RyaW5nID0gXCJDbGltYlwiO1xuICAgICAgICBwdWJsaWMgdmF1bHRWb2x1bWVUYWc6IHN0cmluZyA9IFwiVmF1bHRcIjtcbiAgICAgICAgcHVibGljIG1heEhlaWdodFJhbmdlczogYW55ID0gbnVsbDtcbiAgICAgICAgcHVibGljIHVzZUNsaW1iU3lzdGVtOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZUZhY3RvcjogbnVtYmVyID0gMC44NTtcbiAgICAgICAgcHVibGljIGNhbWVyYVNtb290aGluZzogbnVtYmVyID0gODtcbiAgICAgICAgcHVibGljIGNhbWVyYUNvbGxpc2lvbnM6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgaW5wdXRNYWduaXR1ZGU6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBsYW5kaW5nRXBzaWxvbjogbnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgbWluaW11bURpc3RhbmNlOiBudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBtb3ZlbWVudEFsbG93ZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgcGxheWVySW5wdXRYOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcGxheWVySW5wdXRaOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcGxheWVyTW91c2VYOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcGxheWVyTW91c2VZOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgcnVuS2V5UmVxdWlyZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgYnV0dG9uUnVuOiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uTGVmdFN0aWNrO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRSdW46IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuU2hpZnQ7XG4gICAgICAgIHB1YmxpYyBidXR0b25KdW1wOiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uQTtcbiAgICAgICAgcHVibGljIGtleWJvYXJkSnVtcDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5TcGFjZUJhcjtcbiAgICAgICAgcHVibGljIGJ1dHRvbkNhbWVyYTogbnVtYmVyID0gQkFCWUxPTi5YYm94MzYwQnV0dG9uLlk7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZENhbWVyYTogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5QO1xuICAgICAgICBwdWJsaWMgcG9zdE5ldHdvcmtBdHRyaWJ1dGVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJOdW1iZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZTtcbiAgICAgICAgcHVibGljIGJvb21Qb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIGFpcmJvcm5WZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIG1vdmVtZW50VmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyB0YXJnZXRDYW1lcmFPZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBpc0FuaW1hdGlvbkVuYWJsZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zOyB9XG4gICAgICAgIHB1YmxpYyBpc1J1bkJ1dHRvblByZXNzZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzUnVuUHJlc3NlZDsgfVxuICAgICAgICBwdWJsaWMgaXNKdW1wQnV0dG9uUHJlc3NlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNKdW1wUHJlc3NlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySnVtcGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySnVtcGluZygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJGYWxsaW5nKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3RlckZhbGxpbmc7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllclNsaWRpbmcoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyR3JvdW5kZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQ7IH1cbiAgICAgICAgcHVibGljIGdldEZhbGxUcmlnZ2VyZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyRmFsbFRyaWdnZXJlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0TW92ZW1lbnRTcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5tb3ZlbWVudFNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFCb29tTm9kZSgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jYW1lcmFOb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFUcmFuc2Zvcm0oKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuY2FtZXJhUGl2b3Q7IH1cbiAgICAgICAgcHVibGljIGdldEFuaW1hdGlvblN0YXRlKCk6IEJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZSB7IHJldHVybiB0aGlzLmFuaW1hdGlvblN0YXRlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRWZXJ0aWNhbFZlbG9jaXR5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmdldENoZWNrZWRWZXJ0aWNhbFZlbG9jaXR5KCk7IH1cbiAgICAgICAgcHVibGljIGdldENoYXJhY3RlckNvbnRyb2xsZXIoKTogQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXIgeyByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJMb29rUm90YXRpb24oKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMucGxheWVyTG9va1JvdGF0aW9uOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJNb3ZlRGlyZWN0aW9uKCk6IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbiB7IHJldHVybiB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb247IH1cbiAgICAgICAgcHVibGljIGdldElucHV0TW92ZW1lbnRWZWN0b3IoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuaW5wdXRNb3ZlbWVudFZlY3RvcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SW5wdXRNYWduaXR1ZGVWYWx1ZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5pbnB1dE1hZ25pdHVkZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhUGl2b3RQb3NpdGlvbigpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gKHRoaXMuY2FtZXJhUGl2b3QgIT0gbnVsbCkgPyB0aGlzLmNhbWVyYVBpdm90LnBvc2l0aW9uIDogbnVsbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhUGl2b3RSb3RhdGlvbigpOiBCQUJZTE9OLlF1YXRlcm5pb24geyByZXR1cm4gKHRoaXMuY2FtZXJhUGl2b3QgIT0gbnVsbCkgPyB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA6IG51bGw7IH1cblxuICAgICAgICBwdWJsaWMgcmF5Q2xpbWJPZmZzZXQ6IG51bWJlciA9IDAuMzU7XG4gICAgICAgIHB1YmxpYyByYXlDbGltYkxlbmd0aDogbnVtYmVyID0gMC44NTtcbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3ROb2RlKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdE5vZGU7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3RBbmdsZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3RBbmdsZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0RGlzdGFuY2UoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2U7IH07XG4gICAgICAgIHB1YmxpYyBjYW5DbGltYk9ic3RhY2xlUHJlZGljYXRlOiAoYWN0aW9uOiBudW1iZXIpID0+IGJvb2xlYW4gPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyByYXlIZWlnaHRPZmZzZXQ6IG51bWJlciA9IDUuMDtcbiAgICAgICAgcHVibGljIHJheUhlaWdodExlbmd0aDogbnVtYmVyID0gNi4wO1xuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdE5vZGUoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdE5vZGU7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3RQb2ludCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3RBbmdsZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0QW5nbGU7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3ROb3JtYWwoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdERpc3RhbmNlKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3REaXN0YW5jZTsgfTtcblxuICAgICAgICBwcml2YXRlIGFic3RyYWN0TWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYURpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGZvcndhcmRDYW1lcmE6IGJvb2xlYW4gPSB0cnVlOyAvLyBOb3RlIEFsd2F5cyBDYW1lcmEgRm9yd2FyZFxuICAgICAgICBwcml2YXRlIGF2YXRhclJhZGl1czogbnVtYmVyID0gMC41O1xuICAgICAgICBwcml2YXRlIGdyb3VuZGluZ09iamVjdDogYW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBncm91bmRpbmdDYWxsYmFjazogYW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkb2xseURpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFFdWxlcnM6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcm90YXRpb25FdWxlcnM6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUGl2b3RPZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRm9yd2FyZFZlY3RvcjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFSaWdodFZlY3RvcjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBkZXNpcmVkRm9yd2FyZFZlY3RvcjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBkZXNpcmVkUmlnaHRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdFJvdGF0aW9uUXVhdGVybmlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgcHJpdmF0ZSBzY2FsZWRDYW1EaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc2NhbGVkTWF4RGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHBhcmVudE5vZGVQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBtYXhpbXVtQ2FtZXJhUG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHRlbXBXb3JsZFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuXG4gICAgICAgIHByaXZhdGUgY2FtZXJhUmF5Y2FzdFNoYXBlOiBCQUJZTE9OLlBoeXNpY3NTaGFwZVNwaGVyZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZGVmYXVsdFJheWNhc3RHcm91cDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkNvbGxpc2lvbkZpbHRlcnMuRGVmYXVsdEZpbHRlcjtcbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0UmF5Y2FzdE1hc2s6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlcjtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFSYXljYXN0TWFzazogbnVtYmVyID0gKEJBQllMT04uVG9vbGtpdC5Db2xsaXNpb25GaWx0ZXJzLkRlZmF1bHRGaWx0ZXIgfCBCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5TdGF0aWNGaWx0ZXIgfCBCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5LaW5lbWF0aWNGaWx0ZXIpOyAvLyBOb3RlOiBFeGNsdWRlIFRoZSBQbGF5ZXIgQ2hhcmFjdGVyIENvbnRyb2xsZXIgRnJvbSBDYW1lcmEgQ29sbGlzaW9uXG5cbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJTa2luczogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhTm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFQaXZvdDogQkFCWUxPTi5NZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBuYXZpZ2F0aW9uQWdlbnQ6IEJBQllMT04uVG9vbGtpdC5OYXZpZ2F0aW9uQWdlbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNoYXJhY3RlckNvbnRyb2xsZXI6IEJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSB2ZXJ0aWNhbFZlbG9jaXR5OiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1vdmVtZW50U3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaXNSdW5QcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNKdW1wUHJlc3NlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyU2xpZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyRmFsbGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyR3JvdW5kZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlckp1bXBGcmFtZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVySnVtcGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyTGFuZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyUmlzaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbmF2aWdhdGlvbkFuZ3VsYXJTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVTdGF0ZVBhcmFtczogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgYW5pbWF0aW9uU3RhdGVQYXJhbXM6IFBST0pFQ1QuQW5pbWF0aW9uU3RhdGVQYXJhbXMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNwaGVyZUNvbGxpc2lvblNoYXBlOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGhhc0dyb3VuZGVkQ29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByaXZhdGUgc2hvd0RlYnVnUmF5Y2FzdHM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzaG93RGVidWdDb2xsaWRlcnM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjb2xsaWRlclZpc2liaWxpdHk6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY29sbGlkZXJSZW5kZXJHcm91cDogbnVtYmVyID0gMDtcblxuICAgICAgICBwcml2YXRlIGRlbHRhVGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtaW5KdW1wVGltZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZGVsYXlKdW1wVGltZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyQ29udHJvbDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjYW5QbGF5ZXJKdW1wOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRpb25TdGF0ZTogQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgLy8gREVQUkVDSUFURUQ6IHByaXZhdGUgcm90YXRpb25WZWxvY2l0eVg6QkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigwLDApO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHJpdmF0ZSByb3RhdGlvblZlbG9jaXR5WTpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdEp1bXBWZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBpbnB1dE1vdmVtZW50VmVjdG9yOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHBsYXllckxvb2tSb3RhdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJSb3RhdGlvblZlY3RvcjogQkFCWUxPTi5WZWN0b3IyID0gQkFCWUxPTi5WZWN0b3IyLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJNb3ZlbWVudFZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uUXVhdGVybmlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJNb3ZlRGlyZWN0aW9uOiBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RhdGlvbmFyeTtcbiAgICAgICAgcHJpdmF0ZSBmb3J3YXJkRGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDEpO1xuICAgICAgICBwcml2YXRlIGRvd25EaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLTEsIDApO1xuXG4gICAgICAgIHByaXZhdGUgY2xpbWJDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY2xpbWJDb250YWN0Tm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3RBbmdsZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3RQb2ludDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgY2xpbWJDb250YWN0RGlzdGFuY2U6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY2xpbWJTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG9mZnNldENsaW1iUmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZW5kQ2xpbWJSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdE5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdEFuZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3RQb2ludDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3REaXN0YW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG9mZnNldEhlaWdodFJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBzdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBlbmRIZWlnaHRSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fdmVsb2NpdHlPZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2FjdHVhbFZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9saW5lYXJWZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fbGFzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9wb3NpdGlvbkNlbnRlcjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fc2NhbGVkVmVsb2NpdHk6IG51bWJlciA9IDA7XG4gICAgICAgIHByb3RlY3RlZCBwbGF5ZXJEcmF3VmVsb2NpdHk6IG51bWJlciA9IDA7XG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllcz86IGFueSkge1xuICAgICAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBzY2VuZSwgcHJvcGVydGllcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7IHRoaXMuYXdha2VQbGF5ZXJDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyB0aGlzLnN0YXJ0UGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHsgdGhpcy5hZnRlclBsYXllckNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQgeyB0aGlzLnVwZGF0ZVBsYXllckNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95UGxheWVyQ29udHJvbGxlcigpOyB9XG5cbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYmVmb3JlIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUHJlVXBkYXRlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgbW92ZW1lbnQgaGFzIGJlZW4gYXBwbGllZCAqL1xuICAgICAgICBwdWJsaWMgb25CZWZvcmVNb3ZlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBhZnRlciB0aGUgY29udHJvbGxlciBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblBvc3RVcGRhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGFmdGVyIHBsYXllciBpbnB1dCBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblBsYXllcklucHV0T2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHBsYXllciBwb3NpdGlvbiBzaG91bGQgYmUgdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25QbGF5ZXJQb3NpdGlvbk9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgcGVyZm9ybWluZyBhY3Rpb24gaGFzIGJlZW4gdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUm9vdCBNb3Rpb24gQW5pbWF0aW9uIFN5c3RlbVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgX2RlbHRhTW90aW9uUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBnZXREZWx0YU1vdGlvblBvc2l0aW9uKCk6IEJBQllMT04uVmVjdG9yMyB7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb290TW90aW9uUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IHRoaXMuYW5pbWF0aW9uU3RhdGUuZ2V0RGVsdGFSb290TW90aW9uUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocm9vdE1vdGlvblBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IENhbGN1bGF0ZSBEZWx0YSBSb290IE1vdGlvbiBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uLmNvcHlGcm9tKHJvb3RNb3Rpb25Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbHRhTW90aW9uUG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZWx0YU1vdGlvblJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDApO1xuICAgICAgICBwdWJsaWMgZ2V0RGVsdGFNb3Rpb25Sb3RhdGlvbigpOiBCQUJZTE9OLlF1YXRlcm5pb24ge1xuICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Sb3RhdGlvbi5zZXQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdE1vdGlvblJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldERlbHRhUm9vdE1vdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RNb3Rpb25Sb3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBDYWxjdWxhdGUgRGVsdGEgUm9vdCBNb3Rpb24gUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Sb3RhdGlvbi5jb3B5RnJvbShyb290TW90aW9uUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWx0YU1vdGlvblJvdGF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQmxvY2tpbmcgQWN0aW9uIEFuaW1hdGlvbiBTeXN0ZW1cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGlzUGVyZm9ybWluZ0FjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzUm9vdE1vdGlvbkFjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQWN0aW9uSW50ZXJydXB0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGFmdGVyQWN0aW9uSGFuZGxlcjogRnVuY3Rpb24gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHBlcmZvcm1BY3Rpb25UaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwZXJmb3JtQWN0aW9uTnVtYmVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uU3BlZWQ6IG51bWJlciA9IDEwO1xuICAgICAgICBwcml2YXRlIHJvdGF0ZVBsYXllclRvd2FyZHM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFN0YXJ0VGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFRhcmdldFRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hUYXJnZXRPZmZzZXQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hUYXJnZXRIZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBsb2NrVGFyZ2V0SGVpZ2h0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbGFzdFN0YXJ0SGVpZ2h0OiBCQUJZTE9OLk51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGxhc3RUYXJnZXRIZWlnaHQ6IEJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbGFzdFRhcmdldE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0VGFyZ2V0Um90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgbGFzdERlbHRhUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdERlbHRhUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHB1YmxpYyBnZXRJc1BlcmZvcm1pbmdBY3Rpb24oKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SXNSb290TW90aW9uQWN0aW9uKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc1Jvb3RNb3Rpb25BY3Rpb247IH1cbiAgICAgICAgcHVibGljIGdldElzQWN0aW9uSW50ZXJydXB0YWJsZSgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNBY3Rpb25JbnRlcnJ1cHRhYmxlOyB9XG4gICAgICAgIHB1YmxpYyBwbGF5QWN0aW9uQW5pbWF0aW9uKGFjdGlvbjogbnVtYmVyLCBpbnRlcnJ1cHRhYmxlQWN0aW9uOiBib29sZWFuID0gdHJ1ZSwgZW5hYmxlUm9vdE1vdGlvbjogYm9vbGVhbiA9IGZhbHNlLCBhZnRlckFjdGlvbkNvbXBsZXRlOiAoKSA9PiB2b2lkID0gbnVsbCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSBmYWxzZSAmJiB0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgYWN0aW9uID49IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybUFjdGlvbk51bWJlciA9IGFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmFmdGVyQWN0aW9uSGFuZGxlciA9IGFmdGVyQWN0aW9uQ29tcGxldGU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPSBpbnRlcnJ1cHRhYmxlQWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID0gZW5hYmxlUm9vdE1vdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uU3BlZWQgPSAxMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24uc2V0KDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZUNoYXJhY3RlckNvbnRyb2xsZXIoZmFsc2UpOyAvLyBOb3RlOiBEaXNhYmxlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgcmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFmdGVyQWN0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHsgdGhpcy5hZnRlckFjdGlvbkhhbmRsZXIoKTsgfSBjYXRjaCB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcih0cnVlKTsgLy8gTm90ZTogRW5hYmxlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJBY3Rpb25IYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25TcGVlZCA9IDEwO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGVQbGF5ZXJUb3dhcmRzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5sb2NrVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmxhc3RTdGFydEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uLnNldCgwLCAwLCAwLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQW5pbWF0aW9uQWN0aW9uU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6IG51bWJlciA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICBjb25zdCBkYW1wVGltZTogbnVtYmVyID0gKHRoaXMubWF0Y2hUYXJnZXRUaW1lIC0gdGhpcy5tYXRjaFN0YXJ0VGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyR2xvYmFsSGVpZ2h0OiBudW1iZXIgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmdldERlbHRhTW90aW9uUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMubGFzdERlbHRhUG9zaXRpb24sIHRoaXMudHJhbnNmb3JtLmdldFdvcmxkTWF0cml4KCksIHRoaXMubGFzdERlbHRhUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTdGFydEhlaWdodCA9PSBudWxsICYmIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyID49IHRoaXMubWF0Y2hTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gcGxheWVyR2xvYmFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IFN0YXJ0IEdsb2JhbCBIZWlnaHQ6IFwiICsgdGhpcy5sYXN0U3RhcnRIZWlnaHQgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTdGFydEhlaWdodCAhPSBudWxsICYmIHRoaXMubGFzdFRhcmdldEhlaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZml4ZWRUYXJnZXRIZWlnaHQ6IG51bWJlciA9ICh0aGlzLmxhc3RUYXJnZXRIZWlnaHQgKyB0aGlzLm1hdGNoVGFyZ2V0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciA8IHRoaXMubWF0Y2hUYXJnZXRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdChQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5QTEFZRVJfSEVJR0hULCBmaXhlZFRhcmdldEhlaWdodCwgZGFtcFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21vb3RoUGxheWVySGVpZ2h0OiBudW1iZXIgPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldEZsb2F0KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSA9IChzbW9vdGhQbGF5ZXJIZWlnaHQgLSBwbGF5ZXJHbG9iYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIj4+PiBMZXJwIFRhcmdldCBEZWx0YTogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubG9ja1RhcmdldEhlaWdodCA9PT0gZmFsc2UgJiYgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPj0gdGhpcy5tYXRjaFRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAoZml4ZWRUYXJnZXRIZWlnaHQgLSBwbGF5ZXJHbG9iYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IExhc3QgR2xvYmFsIERlbHRhOiBcIiArIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciArIFwiIC0tLT4gTWF0Y2ggVGFyZ2V0IFRpbWU6IFwiICsgdGhpcy5tYXRjaFRhcmdldFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgUm9vdCBNb3Rpb24gVG8gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueCA9IDA7IC8vIEZJWE1FOiBBcHBseSBSb3RhdGlvbiBZIERpZmZlcmVuY2UgRmFjdG9yIEZyb20gVW5pdHlcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAwOyAvLyBGSVhNRTogQXBwbHkgUm90YXRpb24gWSBEaWZmZXJlbmNlIEZhY3RvciBGcm9tIFVuaXR5XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmxhc3REZWx0YVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlBsYXllciBBY3Rpb24gSGVpZ2h0OiBcIiArIHBsYXllckdsb2JhbEhlaWdodCArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDdXJyZW50IERlbHRhIEhlaWdodDogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgUm9vdCBNb3Rpb24gVG8gUm90YXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXROb3JtYWwuc2V0KC10aGlzLmNsaW1iQ29udGFjdE5vcm1hbC54LCAtdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwueSwgLXRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZih0aGlzLmxhc3RUYXJnZXROb3JtYWwsIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlcnBBbW91bnQ6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMucGxheWVyUm90YXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZih0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uLCBsZXJwQW1vdW50LCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNsaW1iIFRhcmdldCBSb3RhdGlvbjogXCIgKyB0aGlzLmxhc3RUYXJnZXRSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVJvdGF0aW9uLmNvcHlGcm9tKHRoaXMuZ2V0RGVsdGFNb3Rpb25Sb3RhdGlvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLm11bHRpcGx5SW5QbGFjZSh0aGlzLmxhc3REZWx0YVJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciArPSBkZWx0YVRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBDb250cm9sbGVyIEF0dGFjaG1lbnQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFNldCB0aGUgcGxheWVyIHdvcmxkIHBvc2l0aW9uICovXG4gICAgICAgIHB1YmxpYyBzZXRXb3JsZFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXQoeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHNldFBsYXllckNvbnRyb2wobW9kZTogUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyQ29udHJvbCA9IG1vZGU7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb250cm9sID09PSBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5UaGlyZFBlcnNvblN0cmFmaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QXZhdGFyU2tpbnModHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0F2YXRhclNraW5zKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZENhbWVyYSA9IGZhbHNlOyAvLyBOb3RlTCBBbHdheXMgRmFsc2VcbiAgICAgICAgfVxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgdG9nZ2xlUGxheWVyQ29udHJvbCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvZ2dsZVZpZXcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb250cm9sID09PSBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5GaXJzdFBlcnNvblN0cmFmaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGxheWVyQ29udHJvbChQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5UaGlyZFBlcnNvblN0cmFmaW5nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBsYXllckNvbnRyb2woUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuRmlyc3RQZXJzb25TdHJhZmluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc2hvd0F2YXRhclNraW5zKHNob3c6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF2YXRhclNraW5zICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gTWFrZSBTa2lucyBWaXNpYmxlIE9yIE5vdCBUTyBDYW1lcmEgQnV0IEtlZXAgU2hhZG93cyAtID8/P1xuICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyU2tpbnMuZm9yRWFjaCgoc2tpbjogQkFCWUxPTi5BYnN0cmFjdE1lc2gpID0+IHsgc2tpbi5pc1Zpc2libGUgPSBzaG93OyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBUT0RPICovXG4gICAgICAgIHB1YmxpYyBhdHRhY2hQbGF5ZXJDYW1lcmEocGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJDYW1lcmE6IG51bWJlciA9IChwbGF5ZXIgPD0gMCB8fCBwbGF5ZXIgPiA0KSA/IDEgOiBwbGF5ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLkdldENhbWVyYVRyYW5zZm9ybSh0aGlzLnNjZW5lLCBwbGF5ZXJDYW1lcmEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUucGFyZW50ID0gdGhpcy5jYW1lcmFQaXZvdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuYm9vbVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGFjdHVhbENhbWVyYTpCQUJZTE9OLlVuaXZlcnNhbENhbWVyYSA9IFNNLkZpbmRTY2VuZUNhbWVyYVJpZyh0aGlzLmNhbWVyYU5vZGUpIGFzIEJBQllMT04uVW5pdmVyc2FsQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoYWN0dWFsQ2FtZXJhICE9IG51bGwpIGFjdHVhbENhbWVyYS5yb3RhdGlvblF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzKEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKDMwKSwwLDApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gTW92ZSBzb21ld2hlcmUgYmV0dGVyIC0gPz8/XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBIYW5kbGUgTG9uZyBJbnRpdGlhbCBDYW1lcmEgUGFuIC0gPz8/XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhRGlzdGFuY2UgPSB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ubGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9sbHlEaXJlY3Rpb24uY29weUZyb20odGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGxvY2F0ZSBwbGF5ZXIgY2FtZXJhIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9pa0xlZnRDb250cm9sbGVyOiBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa0xlZnRGb290VGFyZ2V0OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa0xlZnRQb2xlVGFyZ2V0OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0Q29udHJvbGxlcjogQkFCWUxPTi5Cb25lSUtDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaWtSaWdodEZvb3RUYXJnZXQ6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrUmlnaHRQb2xlVGFyZ2V0OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgYWJzdHJhY3RTa2luTWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJvb3RCb25lVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290VHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgbGVmdEZvb3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFBvbGVQb3M6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgbGVmdEZvb3RCZW5kQXhpczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygxLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFBvbGVBbmdsZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdE1heEFuZ2xlOiBudW1iZXIgPSAxODA7XG4gICAgICAgIHByaXZhdGUgcmlnaHRGb290VHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgcmlnaHRGb290UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgcmlnaHRGb290UG9sZVBvczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RCZW5kQXhpczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygxLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RQb2xlQW5nbGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcmlnaHRGb290TWF4QW5nbGU6IG51bWJlciA9IDE4MDtcblxuICAgICAgICBwdWJsaWMgZ2V0TGVmdEZvb3RUYXJnZXQoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQ7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0Rm9vdFRhcmdldCgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5faWtSaWdodEZvb3RUYXJnZXQ7IH1cbiAgICAgICAgcHVibGljIGdldExlZnRGb290Q29udHJvbGxlcigpOiBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgeyByZXR1cm4gdGhpcy5faWtMZWZ0Q29udHJvbGxlcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmlnaHRGb290Q29udHJvbGxlcigpOiBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgeyByZXR1cm4gdGhpcy5faWtSaWdodENvbnRyb2xsZXI7IH1cbiAgICAgICAgcHVibGljIGF0dGFjaEJvbmVDb250cm9sbGVycygpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlIYW5kbGVzOiBib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcImRpc3BsYXlIYW5kbGVzXCIpO1xuICAgICAgICAgICAgY29uc3QgYWJzdHJhY3RTa2luTWVzaERhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYWJzdHJhY3RTa2luTWVzaFwiKTtcbiAgICAgICAgICAgIGlmIChhYnN0cmFjdFNraW5NZXNoRGF0YSAhPSBudWxsKSB0aGlzLmFic3RyYWN0U2tpbk1lc2ggPSB0aGlzLmdldENoaWxkTm9kZShhYnN0cmFjdFNraW5NZXNoRGF0YS5uYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5FeGFjdE1hdGNoLCBmYWxzZSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICBjb25zdCByb290Qm9uZVRyYW5zZm9ybURhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwicm9vdEJvbmVUcmFuc2Zvcm1cIik7XG4gICAgICAgICAgICBpZiAocm9vdEJvbmVUcmFuc2Zvcm1EYXRhICE9IG51bGwpIHRoaXMucm9vdEJvbmVUcmFuc2Zvcm0gPSB0aGlzLmdldENoaWxkTm9kZShyb290Qm9uZVRyYW5zZm9ybURhdGEubmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGxlZnRGb290VHJhbnNmb3JtRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdFRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGlmIChsZWZ0Rm9vdFRyYW5zZm9ybURhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdFRyYW5zZm9ybSA9IHRoaXMuZ2V0Q2hpbGROb2RlKGxlZnRGb290VHJhbnNmb3JtRGF0YS5uYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5FeGFjdE1hdGNoLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vY29uc3QgbGVmdEZvb3RQb3NpdGlvbkRhdGE6QkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RQb3NpdGlvblwiKTtcbiAgICAgICAgICAgIC8vaWYgKGxlZnRGb290UG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMubGVmdEZvb3RQb3NpdGlvbi5jb3B5RnJvbShCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhsZWZ0Rm9vdFBvc2l0aW9uRGF0YSkpO1xuXG4gICAgICAgICAgICBjb25zdCBsZWZ0UG9sZUhhbmRsZURhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290UG9sZVBvc1wiKTtcbiAgICAgICAgICAgIGlmIChsZWZ0UG9sZUhhbmRsZURhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdFBvbGVQb3MuY29weUZyb20oQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMobGVmdFBvbGVIYW5kbGVEYXRhKSk7XG4gICAgICAgICAgICBjb25zdCBsZWZ0QmVuZEF4aXNEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdEJlbmRBeGlzXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRCZW5kQXhpc0RhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdEJlbmRBeGlzLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGxlZnRCZW5kQXhpc0RhdGEpKTtcbiAgICAgICAgICAgIHRoaXMubGVmdEZvb3RQb2xlQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RQb2xlQW5nbGVcIiwgdGhpcy5sZWZ0Rm9vdFBvbGVBbmdsZSk7XG4gICAgICAgICAgICB0aGlzLmxlZnRGb290TWF4QW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RNYXhBbmdsZVwiLCB0aGlzLmxlZnRGb290TWF4QW5nbGUpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0Rm9vdFRyYW5zZm9ybURhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290VHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Rm9vdFRyYW5zZm9ybURhdGEgIT0gbnVsbCkgdGhpcy5yaWdodEZvb3RUcmFuc2Zvcm0gPSB0aGlzLmdldENoaWxkTm9kZShyaWdodEZvb3RUcmFuc2Zvcm1EYXRhLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKTtcblxuICAgICAgICAgICAgLy9jb25zdCByaWdodEZvb3RQb3NpdGlvbkRhdGE6QkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290UG9zaXRpb25cIik7XG4gICAgICAgICAgICAvL2lmIChyaWdodEZvb3RQb3NpdGlvbkRhdGEgIT0gbnVsbCkgdGhpcy5yaWdodEZvb3RQb3NpdGlvbi5jb3B5RnJvbShCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodEZvb3RQb3NpdGlvbkRhdGEpKTtcblxuICAgICAgICAgICAgY29uc3QgcmlnaHRQb2xlSGFuZGxlRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290UG9sZVBvc1wiKTtcbiAgICAgICAgICAgIGlmIChyaWdodFBvbGVIYW5kbGVEYXRhICE9IG51bGwpIHRoaXMucmlnaHRGb290UG9sZVBvcy5jb3B5RnJvbShCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodFBvbGVIYW5kbGVEYXRhKSk7XG4gICAgICAgICAgICBjb25zdCByaWdodEJlbmRBeGlzRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290QmVuZEF4aXNcIik7XG4gICAgICAgICAgICBpZiAocmlnaHRCZW5kQXhpc0RhdGEgIT0gbnVsbCkgdGhpcy5yaWdodEZvb3RCZW5kQXhpcy5jb3B5RnJvbShCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhyaWdodEJlbmRBeGlzRGF0YSkpO1xuICAgICAgICAgICAgdGhpcy5yaWdodEZvb3RQb2xlQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290UG9sZUFuZ2xlXCIsIHRoaXMucmlnaHRGb290UG9sZUFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMucmlnaHRGb290TWF4QW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaHRGb290TWF4QW5nbGVcIiwgdGhpcy5yaWdodEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuYWJzdHJhY3RTa2luTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGVyaWFsTmFtZTogc3RyaW5nID0gXCJNX1RBUkdFVF9NRVNIXCI7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldE1hdGVyaWFsOiBCQUJZTE9OLk1hdGVyaWFsID0gdGhpcy5zY2VuZS5nZXRNYXRlcmlhbEJ5TmFtZShtYXRlcmlhbE5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRNYXRlcmlhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldE1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcIk1fVEFSR0VUX01FU0hcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICg8QkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsPnRhcmdldE1hdGVyaWFsKS5kaWZmdXNlQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMS4wLCAwLjUsIDAuMjUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFNldHVwIExlZnQgRm9vdCBDb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZWZ0Rm9vdFRyYW5zZm9ybSAhPSBudWxsICYmICg8YW55PnRoaXMubGVmdEZvb3RUcmFuc2Zvcm0pLl9saW5rZWRCb25lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0Rm9vdFRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5MZWZ0Rm9vdFRhcmdldFwiLCB7IHdpZHRoOiAwLjEsIGhlaWdodDogMC4xLCBkZXB0aDogMC4xIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRGb290VGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9pa0xlZnRGb290VGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMubGVmdEZvb3RQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa0xlZnRGb290VGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQubWF0ZXJpYWwgPSB0YXJnZXRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQuaXNWaXNpYmxlID0gZGlzcGxheUhhbmRsZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5MZWZ0Rm9vdFBvbGVcIiwgeyBkaWFtZXRlcjogMC4xNSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldC5wYXJlbnQgPSB0aGlzLmFic3RyYWN0U2tpbk1lc2g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQucG9zaXRpb24uY29weUZyb20odGhpcy5sZWZ0Rm9vdFBvbGVQb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtMZWZ0UG9sZVRhcmdldCBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LmlzVmlzaWJsZSA9IGRpc3BsYXlIYW5kbGVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2lrTGVmdENvbnRyb2xsZXIgPSBuZXcgQkFCWUxPTi5Cb25lSUtDb250cm9sbGVyKHRoaXMuYWJzdHJhY3RTa2luTWVzaCwgKDxhbnk+dGhpcy5sZWZ0Rm9vdFRyYW5zZm9ybSkuX2xpbmtlZEJvbmUsIHt0YXJnZXRNZXNoOnRoaXMuX2lrTGVmdEZvb3RUYXJnZXQsIHBvbGVUYXJnZXRNZXNoOnRoaXMuX2lrTGVmdFBvbGVUYXJnZXQsIHBvbGVBbmdsZTpCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLmxlZnRGb290UG9sZUFuZ2xlKSwgYmVuZEF4aXM6dGhpcy5sZWZ0Rm9vdEJlbmRBeGlzfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2lrTGVmdENvbnRyb2xsZXIubWF4QW5nbGUgPSBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLmxlZnRGb290TWF4QW5nbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFNldHVwIFJpZ2h0IEZvb3QgQ29udHJvbGxlclxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmlnaHRGb290VHJhbnNmb3JtICE9IG51bGwgJiYgKDxhbnk+dGhpcy5yaWdodEZvb3RUcmFuc2Zvcm0pLl9saW5rZWRCb25lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodEZvb3RUYXJnZXQgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmlnaHRGb290VGFyZ2V0XCIsIHsgd2lkdGg6IDAuMSwgaGVpZ2h0OiAwLjEsIGRlcHRoOiAwLjEgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnJpZ2h0Rm9vdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0Lm1hdGVyaWFsID0gdGFyZ2V0TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SaWdodEZvb3RQb2xlXCIsIHsgZGlhbWV0ZXI6IDAuMTUgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodFBvbGVUYXJnZXQucG9zaXRpb24uY29weUZyb20odGhpcy5yaWdodEZvb3RQb2xlUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0LmlzVmlzaWJsZSA9IGRpc3BsYXlIYW5kbGVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2lrUmlnaHRDb250cm9sbGVyID0gbmV3IEJBQllMT04uQm9uZUlLQ29udHJvbGxlcih0aGlzLmFic3RyYWN0U2tpbk1lc2gsICg8YW55PnRoaXMucmlnaHRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSwge3RhcmdldE1lc2g6dGhpcy5faWtSaWdodEZvb3RUYXJnZXQsIHBvbGVUYXJnZXRNZXNoOnRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0LCBwb2xlQW5nbGU6QkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5yaWdodEZvb3RQb2xlQW5nbGUpLCBiZW5kQXhpczp0aGlzLnJpZ2h0Rm9vdEJlbmRBeGlzfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2lrUmlnaHRDb250cm9sbGVyLm1heEFuZ2xlID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5yaWdodEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgYXR0YWNoQW5pbWF0aW9uQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGVcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5vbkFuaW1hdGlvbkVuZE9ic2VydmFibGUuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQW5pbWF0aW9uIEVuZDogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5vbkFuaW1hdGlvblVwZGF0ZU9ic2VydmFibGUuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUuaWtGcmFtZUVuYWJsZWQoKSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogVXBkYXRlIHRhcmdldCBtZXNoIHBvc2l0aW9uIFdoZW4gR3JvdW5kZWQgLSBVc2UgUmF5Y2FzdCAtID8/P1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtMZWZ0Q29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0Q29udHJvbGxlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa1JpZ2h0Q29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodENvbnRyb2xsZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBUT0RPICovXG4gICAgICAgIHB1YmxpYyBlbmFibGVDaGFyYWN0ZXJDb250cm9sbGVyKHN0YXRlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50QWxsb3dlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFBsYXllckp1bXBpbmdTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R3Jhdml0eUZhY3Rvcih0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRDb2xsaXNpb25TdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIudXBkYXRlUG9zaXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEFsbG93ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHcmF2aXR5RmFjdG9yKDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0Q29sbGlzaW9uU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBUT0RPICovXG4gICAgICAgIHB1YmxpYyByZXNldFBsYXllclJvdGF0aW9uKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uRXVsZXJzKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCA9IHRoaXMucm90YXRpb25FdWxlcnMueDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSA9IHRoaXMucm90YXRpb25FdWxlcnMueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBUT0RPICovXG4gICAgICAgIHB1YmxpYyByZXNldFBsYXllckp1bXBpbmdTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubWluSnVtcFRpbWVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyTGFuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclJpc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLmp1bXAoMCk7IC8vIE5vdGU6IFplcm8gSnVtcCBTcGVlZFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQ29udHJvbGxlciBXb3JrZXIgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBhd2FrZVBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJncmF2aXR5TXVsdGlwbGllclwiLCB0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsU3RlcFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0ZXBVcFZlbG9jaXR5XCIsIHRoaXMudmVydGljYWxTdGVwU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5taW5TdGVwVXBIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwibWluU3RlcEhlaWdodFwiLCB0aGlzLm1pblN0ZXBVcEhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnJpZ2lkQm9keU1hc3MgPSB0aGlzLmdldFByb3BlcnR5KFwicmlnaWRCb2R5TWFzc1wiLCB0aGlzLnJpZ2lkQm9keU1hc3MpO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGVDYW1lcmEgPSB0aGlzLmdldFByb3BlcnR5KFwicm90YXRlQ2FtZXJhXCIsIHRoaXMucm90YXRlQ2FtZXJhKTtcbiAgICAgICAgICAgIHRoaXMubW91c2VXaGVlbCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtb3VzZVdoZWVsXCIsIHRoaXMubW91c2VXaGVlbCk7XG4gICAgICAgICAgICB0aGlzLnJheUNsaW1iTGVuZ3RoID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUNsaW1iTGVuZ3RoXCIsIHRoaXMucmF5Q2xpbWJMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5yYXlDbGltYk9mZnNldCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYXlDbGltYk9mZnNldFwiLCB0aGlzLnJheUNsaW1iT2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMucmF5SGVpZ2h0TGVuZ3RoID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUhlaWdodExlbmd0aFwiLCB0aGlzLnJheUhlaWdodExlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnJheUhlaWdodE9mZnNldCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYXlIZWlnaHRPZmZzZXRcIiwgdGhpcy5yYXlIZWlnaHRPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5tYXhBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhBbmdsZVwiLCB0aGlzLm1heEFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubGFuZGluZ0Vwc2lsb24gPSB0aGlzLmdldFByb3BlcnR5KFwibGFuZGluZ0Vwc2lsb25cIiwgdGhpcy5sYW5kaW5nRXBzaWxvbik7XG4gICAgICAgICAgICB0aGlzLm1pbkZhbGxWZWxvY2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5GYWxsVmVsb2NpdHlcIiwgdGhpcy5taW5GYWxsVmVsb2NpdHkpO1xuICAgICAgICAgICAgdGhpcy5haXJib3JuVGltZW91dCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhaXJib3JuVGltZW91dFwiLCB0aGlzLmFpcmJvcm5UaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMucm9vdE1vdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb290TW90aW9uXCIsIHRoaXMucm9vdE1vdGlvbik7XG4gICAgICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtb3ZlU3BlZWRcIiwgdGhpcy5tb3ZlU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy53YWxrU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwid2Fsa1NwZWVkXCIsIHRoaXMud2Fsa1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMubG9va1NwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvb2tTcGVlZFwiLCB0aGlzLmxvb2tTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmp1bXBTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJqdW1wU3BlZWRcIiwgdGhpcy5qdW1wU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5qdW1wRGVsYXkgPSB0aGlzLmdldFByb3BlcnR5KFwianVtcERlbGF5XCIsIHRoaXMuanVtcERlbGF5KTtcbiAgICAgICAgICAgIHRoaXMuZXllc0hlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJleWVzSGVpZ2h0XCIsIHRoaXMuZXllc0hlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnBpdm90SGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInBpdm90SGVpZ2h0XCIsIHRoaXMucGl2b3RIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYXhEaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhEaXN0YW5jZVwiLCB0aGlzLm1heERpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwic2Nyb2xsU3BlZWRcIiwgdGhpcy5zY3JvbGxTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLnRvcExvb2tMaW1pdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b3BMb29rTGltaXRcIiwgdGhpcy50b3BMb29rTGltaXQpO1xuICAgICAgICAgICAgdGhpcy5kb3duTG9va0xpbWl0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImRvd25Mb29rTGltaXRcIiwgdGhpcy5kb3duTG9va0xpbWl0KTtcbiAgICAgICAgICAgIHRoaXMubG93VHVyblNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvd1R1cm5TcGVlZFwiLCB0aGlzLmxvd1R1cm5TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmhpZ2hUdXJuU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiaGlnaFR1cm5TcGVlZFwiLCB0aGlzLmhpZ2hUdXJuU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVJbnB1dCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJlbmFibGVJbnB1dFwiLCB0aGlzLmVuYWJsZUlucHV0KTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyTnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXllck51bWJlclwiLCB0aGlzLnBsYXllck51bWJlcilcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoQ2FtZXJhID0gdGhpcy5nZXRQcm9wZXJ0eShcImF0dGFjaENhbWVyYVwiLCB0aGlzLmF0dGFjaENhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLmZyZWVMb29raW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyZWVMb29raW5nXCIsIHRoaXMuZnJlZUxvb2tpbmcpO1xuICAgICAgICAgICAgdGhpcy50b2dnbGVWaWV3ID0gdGhpcy5nZXRQcm9wZXJ0eShcInRvZ2dsZVZpZXdcIiwgdGhpcy50b2dnbGVWaWV3KTtcbiAgICAgICAgICAgIHRoaXMuYXZhdGFyU2tpblRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdmF0YXJTa2luVGFnXCIsIHRoaXMuYXZhdGFyU2tpblRhZylcbiAgICAgICAgICAgIHRoaXMucnVuS2V5UmVxdWlyZWQgPSB0aGlzLmdldFByb3BlcnR5KFwicnVuS2V5UmVxdWlyZWRcIiwgdGhpcy5ydW5LZXlSZXF1aXJlZCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbGxpc2lvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhQ29sbGlzaW9uc1wiLCB0aGlzLmNhbWVyYUNvbGxpc2lvbnMpXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVNtb290aGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjYW1lcmFTbW9vdGhpbmdcIiwgdGhpcy5jYW1lcmFTbW9vdGhpbmcpXG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImRpc3RhbmNlRmFjdG9yXCIsIHRoaXMuZGlzdGFuY2VGYWN0b3IpXG4gICAgICAgICAgICB0aGlzLm1pbmltdW1EaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5pbXVtRGlzdGFuY2VcIiwgdGhpcy5taW5pbXVtRGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhNb3Rpb25UaW1lID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aE1vdGlvblRpbWVcIiwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aElucHV0VmVjdG9yc1wiLCB0aGlzLnNtb290aElucHV0VmVjdG9ycyk7XG4gICAgICAgICAgICB0aGlzLnNtb290aEFjY2VsZXJhdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhBY2NlbGVyYXRpb25cIiwgdGhpcy5zbW9vdGhBY2NlbGVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5hY2NlbGVyYXRpb25TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhY2NlbGVyYXRpb25TcGVlZFwiLCB0aGlzLmFjY2VsZXJhdGlvblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiZGVjZWxlcmF0aW9uU3BlZWRcIiwgdGhpcy5kZWNlbGVyYXRpb25TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iVm9sdW1lVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcImNsaW1iVm9sdW1lVGFnXCIsIHRoaXMuY2xpbWJWb2x1bWVUYWcpO1xuICAgICAgICAgICAgdGhpcy52YXVsdFZvbHVtZVRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ2YXVsdFZvbHVtZVRhZ1wiLCB0aGlzLnZhdWx0Vm9sdW1lVGFnKTtcbiAgICAgICAgICAgIHRoaXMudXNlQ2xpbWJTeXN0ZW0gPSB0aGlzLmdldFByb3BlcnR5KFwidXNlQ2xpbWJTeXN0ZW1cIiwgdGhpcy51c2VDbGltYlN5c3RlbSk7XG4gICAgICAgICAgICB0aGlzLm1heEhlaWdodFJhbmdlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhIZWlnaHRSYW5nZXNcIiwgdGhpcy5tYXhIZWlnaHRSYW5nZXMpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ1cGRhdGVTdGF0ZVBhcmFtc1wiLCB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMgPSB0aGlzLmdldFByb3BlcnR5KFwiYW5pbWF0aW9uU3RhdGVQYXJhbXNcIiwgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyk7XG4gICAgICAgICAgICB0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb3N0TmV0d29ya0F0dHJpYnNcIiwgdGhpcy5wb3N0TmV0d29ya0F0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdGhpcy5zaG93RGVidWdSYXljYXN0cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaG93RGVidWdSYXljYXN0c1wiLCB0aGlzLnNob3dEZWJ1Z1JheWNhc3RzKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBhcnJvd0tleVJvdGF0aW9uOiBib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcImFycm93S2V5Um90YXRpb25cIik7XG4gICAgICAgICAgICBpZiAoYXJyb3dLZXlSb3RhdGlvbiA9PT0gdHJ1ZSkgQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dE9wdGlvbnMuVXNlQXJyb3dLZXlSb3RhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgYm9vbVBvc2l0aW9uRGF0YTogYW55ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvb21Qb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChib29tUG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMuYm9vbVBvc2l0aW9uID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMoYm9vbVBvc2l0aW9uRGF0YSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qgc3BoZXJlUmFkaXVzOiBudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwic3BoZXJlUmFkaXVzXCIsIDAuNjUpXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJheWNhc3RTaGFwZSA9IG5ldyBCQUJZTE9OLlBoeXNpY3NTaGFwZVNwaGVyZShuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApLCBzcGhlcmVSYWRpdXMsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuYWJzdHJhY3RNZXNoID0gdGhpcy5nZXRBYnN0cmFjdE1lc2goKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5TaG93RGVidWdDb2xsaWRlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXJWaXNpYmlsaXR5ID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Db2xsaWRlclZpc2liaWxpdHkoKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXJSZW5kZXJHcm91cCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuQ29sbGlkZXJSZW5kZXJHcm91cCgpO1xuICAgICAgICAgICAgLy8gTm90ZTogR2V0IEF2YXRhciBTa2lucyBGaXJzdCBUaGluZ1xuICAgICAgICAgICAgaWYgKHRoaXMuYXZhdGFyU2tpblRhZyAhPSBudWxsICYmIHRoaXMuYXZhdGFyU2tpblRhZyAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyU2tpbnMgPSB0aGlzLmdldENoaWxkcmVuV2l0aFRhZ3ModGhpcy5hdmF0YXJTa2luVGFnLCBmYWxzZSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2hbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBjb250cm9sOiBudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwicGxheWVyQ29udHJvbFwiLCB0aGlzLnBsYXllckNvbnRyb2wpO1xuICAgICAgICAgICAgdGhpcy5zZXRQbGF5ZXJDb250cm9sKHBjb250cm9sKVxuICAgICAgICAgICAgdGhpcy5yZXNldFBsYXllclJvdGF0aW9uKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdCA9IG5ldyBCQUJZTE9OLk1lc2godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNhbWVyYVBpdm90XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QuaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dEZWJ1Z0NvbGxpZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RQaXZvdDogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJUZXN0UGl2b3RcIiwgeyB3aWR0aDogMC4yNSwgaGVpZ2h0OiAwLjI1LCBkZXB0aDogMC41IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5wYXJlbnQgPSB0aGlzLmNhbWVyYVBpdm90O1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnZpc2liaWxpdHkgPSAwLjU7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnJlbmRlcmluZ0dyb3VwSWQgPSB0aGlzLmNvbGxpZGVyUmVuZGVyR3JvdXA7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgY29uZmlnQ29udHJvbGxlcjogQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldHVwIElLIEJvbmUgQ29udHJvbGxlcnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmF0dGFjaEJvbmVDb250cm9sbGVycygpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKHRoaXMua2V5Ym9hcmRDYW1lcmEsICgpID0+IHsgdGhpcy50b2dnbGVQbGF5ZXJDb250cm9sKCk7IH0pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbkdhbWVwYWRCdXR0b25QcmVzcyh0aGlzLmJ1dHRvbkNhbWVyYSwgKCkgPT4geyB0aGlzLnRvZ2dsZVBsYXllckNvbnRyb2woKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzdGFydFBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gU3VwcG9ydCBEeW5hbWljIFBsYXllck51bWJlciBDaGFuZ2UgLSA/Pz9cbiAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaENhbWVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoUGxheWVyQ2FtZXJhKHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkFnZW50ID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuTmF2aWdhdGlvbkFnZW50XCIpO1xuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlclwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyUmFkaXVzID0gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLmdldEF2YXRhclJhZGl1cygpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zaG93UmF5Y2FzdHMgPSB0aGlzLnNob3dEZWJ1Z1JheWNhc3RzO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRSaWdpZEJvZHlNYXNzKHRoaXMucmlnaWRCb2R5TWFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdyYXZpdHlGYWN0b3IodGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRWZXJ0aWNhbFN0ZXBTcGVlZCh0aGlzLnZlcnRpY2FsU3RlcFNwZWVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0TWluaW11bVN0ZXBIZWlnaHQodGhpcy5taW5TdGVwVXBIZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5vblVwZGF0ZVBvc2l0aW9uT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXllclBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FtZXJhQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIlN0YXJ0aW5nIHBsYXllciBjb250cm9sbGVyIGluIHBoeXNpYyBlbmdpbmUgbW9kZSBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk5vIGNoYXJhY3RlciBjb250cm9sbGVyIGZvdW5kIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCBwbGF5ZXIgd2luZG93IHN0YXRlIHZhcmlhYmxlXG4gICAgICAgICAgICAvLyBTTS5TZXRXaW5kb3dTdGF0ZShcInBsYXllclwiLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlUGxheWVyUG9zaXRpb24oKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5vblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZSAmJiB0aGlzLm9uUGxheWVyUG9zaXRpb25PYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgLy90aGlzLnNtb290aERlbHRhVGltZSA9IEJBQllMT04uVG9vbGtpdC5TeXN0ZW0uU21vb3RoRGVsdGFGYWN0b3IgKiB0aGlzLmRlbHRhVGltZSArICgxIC0gQkFCWUxPTi5Ub29sa2l0LlN5c3RlbS5TbW9vdGhEZWx0YUZhY3RvcikgKiB0aGlzLnNtb290aERlbHRhVGltZTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLm1fYWN0dWFsVmVsb2NpdHkgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnN1YnRyYWN0KHRoaXMubV9sYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LmNvcHlGcm9tKHRoaXMubV9hY3R1YWxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLm1fc2NhbGVkVmVsb2NpdHkgPSAodGhpcy5tX2xpbmVhclZlbG9jaXR5Lmxlbmd0aCgpIC8gdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1fc2NhbGVkVmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyRHJhd1ZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5jb3B5RnJvbSh0aGlzLm1fbGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5zY2FsZUluUGxhY2UodGhpcy5wbGF5ZXJEcmF3VmVsb2NpdHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tX2xhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uKTtcblxuICAgICAgICAgICAgLy8gVE9ETyAtIEZJWCBUSElTIFNISVRcbiAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID09PSB0cnVlICYmIHRoaXMuYW5pbWF0aW9uU3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoQW5pbWF0aW9uQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm1pbkp1bXBUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1pbkp1bXBUaW1lciAtPSB0aGlzLmRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5taW5KdW1wVGltZXIgPCAwKSB0aGlzLm1pbkp1bXBUaW1lciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlICYmIHRoaXMuZGVsYXlKdW1wVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheUp1bXBUaW1lciAtPSB0aGlzLmRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxheUp1bXBUaW1lciA8IDApIHRoaXMuZGVsYXlKdW1wVGltZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuY2FuUGxheWVySnVtcCA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbkFjdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlICYmIHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5wdXQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB1c2VySW5wdXRYOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5Ib3Jpem9udGFsLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB1c2VySW5wdXRaOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5WZXJ0aWNhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdXNlck1vdXNlWDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuTW91c2VYLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB1c2VyTW91c2VZOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5Nb3VzZVksIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNtb290aEFjY2VsZXJhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIFNNT09USCBVU0VSIElOUFVUIFhcbiAgICAgICAgICAgICAgICBpZiAodXNlcklucHV0WCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggKz0gKHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDEpIHRoaXMucGxheWVySW5wdXRYID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJJbnB1dFggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYIC09ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPCAtMSkgdGhpcy5wbGF5ZXJJbnB1dFggPSAtMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCArPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDApIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYIC09ICh0aGlzLmRlY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYIDwgMCkgdGhpcy5wbGF5ZXJJbnB1dFggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNNT09USCBVU0VSIElOUFVUIFpcbiAgICAgICAgICAgICAgICBpZiAodXNlcklucHV0WiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogKz0gKHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDEpIHRoaXMucGxheWVySW5wdXRaID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJJbnB1dFogPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaIC09ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPCAtMSkgdGhpcy5wbGF5ZXJJbnB1dFogPSAtMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiArPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDApIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaIC09ICh0aGlzLmRlY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaIDwgMCkgdGhpcy5wbGF5ZXJJbnB1dFogPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSQVcgVVNFUiBJTlBVVCBYWlxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYID0gdXNlcklucHV0WDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiA9IHVzZXJJbnB1dFo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVggPSB1c2VyTW91c2VYO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVkgPSB1c2VyTW91c2VZO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIEFuaW1hdGlvbiBBY3Rpb25cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUgJiYgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggIT09IDAgfHwgdGhpcy5wbGF5ZXJJbnB1dFogIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkFuaW1hdGlvbiBJbnRlcnJ1cHQ6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuUGxheWVySnVtcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBJbnB1dFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uUGxheWVySW5wdXRPYnNlcnZhYmxlICYmIHRoaXMub25QbGF5ZXJJbnB1dE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVySW5wdXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLy4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgSW5wdXQgTWFnbml0dWRlXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLnNldCh0aGlzLnBsYXllcklucHV0WCwgMCwgdGhpcy5wbGF5ZXJJbnB1dFopO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvci5sZW5ndGgoKSA+IDEuMCkgdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLm5vcm1hbGl6ZSgpOyAvLyBOb3RlOiBOb3JtYWxpemUgSW4gUGxhY2VcbiAgICAgICAgICAgIHRoaXMuaW5wdXRNYWduaXR1ZGUgPSB0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3IubGVuZ3RoKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIE1vdmUgRGlyZWN0aW9uXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgbW92ZUZvcndhcmQ6IGJvb2xlYW4gPSAodGhpcy5wbGF5ZXJJbnB1dFogPiAwKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVCYWNrd2FyZDogYm9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WiA8IDApO1xuICAgICAgICAgICAgY29uc3QgbW92ZVJpZ2h0OiBib29sZWFuID0gKHRoaXMucGxheWVySW5wdXRYID4gMCk7XG4gICAgICAgICAgICBjb25zdCBtb3ZlTGVmdDogYm9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WCA8IDApO1xuICAgICAgICAgICAgaWYgKG1vdmVGb3J3YXJkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmVMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5Gb3J3YXJkTGVmdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uRm9yd2FyZFJpZ2h0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5Gb3J3YXJkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZUJhY2t3YXJkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmVMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5CYWNrd2FyZExlZnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlUmlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkJhY2t3YXJkUmlnaHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkJhY2t3YXJkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZUxlZnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RyYWZpbmdMZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlUmlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RyYWZpbmdSaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLlN0YXRpb25hcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFByZSBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlICYmIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRm9yd2FyZCBDYW1lcmEgVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLmNvcHlGcm9tKHRoaXMuY2FtZXJhUGl2b3QuZm9yd2FyZCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IgPSB0aGlzLnNjZW5lLmFjdGl2ZUNhbWVyYS5nZXRGb3J3YXJkUmF5KCkuZGlyZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLnkgPSAwO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLnNjYWxlVG9SZWYodGhpcy5wbGF5ZXJJbnB1dFosIHRoaXMuZGVzaXJlZEZvcndhcmRWZWN0b3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBSaWdodCBDYW1lcmEgVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5jb3B5RnJvbSh0aGlzLmNhbWVyYVBpdm90LnJpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3IgPSBCQUJZTE9OLlZlY3RvcjMuQ3Jvc3ModGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLCBCQUJZTE9OLlZlY3RvcjMuVXAoKSk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLnkgPSAwO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3Iuc2NhbGVUb1JlZih0aGlzLnBsYXllcklucHV0WCwgdGhpcy5kZXNpcmVkUmlnaHRWZWN0b3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQbGF5ZXIgUm90YXRpb24gVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55ICs9ICh0aGlzLnBsYXllck1vdXNlWCAqIHRoaXMubG9va1NwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ICs9ICgtdGhpcy5wbGF5ZXJNb3VzZVkgKiB0aGlzLmxvb2tTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCwgLUJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMuZG93bkxvb2tMaW1pdCksIEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMudG9wTG9va0xpbWl0KSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudEFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5QbGF5ZXJKdW1wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIEJ1dHRvbiBQcmVzc2VzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5pc1J1blByZXNzZWQgPSAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRSdW4pIHx8IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMuYnV0dG9uUnVuKSk7XG4gICAgICAgICAgICB0aGlzLmlzSnVtcFByZXNzZWQgPSAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRKdW1wKSB8fCBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmJ1dHRvbkp1bXApKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIE1vdmVtZW50IFZlbG9jaXR5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFNwZWVkID0gKHRoaXMuaW5wdXRNYWduaXR1ZGUgKiB0aGlzLm1vdmVTcGVlZCAqIHRoaXMuc3BlZWRGYWN0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMucnVuS2V5UmVxdWlyZWQgPT09IHRydWUgJiYgdGhpcy5pc1J1blByZXNzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBMZXJwIE1heCBTcGVlZCBGcm9tIFdhbGsgVG8gUnVuIEFuZCBWaWNlIFZlcnNhIChTbW9vdGggT3V0IFRyYW5zaXRpb25zKVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFNwZWVkID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5tb3ZlbWVudFNwZWVkLCAwLCB0aGlzLndhbGtTcGVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5kZXNpcmVkRm9yd2FyZFZlY3Rvci5hZGRUb1JlZih0aGlzLmRlc2lyZWRSaWdodFZlY3RvciwgdGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eS5zY2FsZUluUGxhY2UodGhpcy5tb3ZlbWVudFNwZWVkKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5sYXN0Um90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50QWxsb3dlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLkZpcnN0UGVyc29uU3RyYWZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIFJvb3QgTW90aW9uIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIEZyZWUgTG9va2luZyAtIFNuYXAgUGxheWVyIFJvdGF0aW9uIChFdWxlciBBbmdsZSBSb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKDAsIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSwgMCwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuVGhpcmRQZXJzb25TdHJhZmluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBGcmVlIExvb2tpbmcgUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJlZUxvb2tpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0TWFnbml0dWRlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FIC0gTm90ZTogTGFyZ2UgTW92ZW1lbnQgLSBTbGVycCBQbGF5ZXIgUm90YXRpb24gKEV1bGVyIEFuZ2xlIFJvdGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmFmaW5nVHVyblJhdGlvOiBudW1iZXIgPSAodGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5Lmxlbmd0aCgpIC8gdGhpcy5tb3ZlU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmFmaW5nVHVyblNwZWVkOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuaGlnaFR1cm5TcGVlZCwgdGhpcy5sb3dUdXJuU3BlZWQsIHN0cmFmaW5nVHVyblJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoMCwgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55LCAwLCB0aGlzLnBsYXllclJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYodGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCB0aGlzLnBsYXllclJvdGF0aW9uUXVhdGVybmlvbiwgKHN0cmFmaW5nVHVyblNwZWVkICogdGhpcy5kZWx0YVRpbWUpLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIFJvb3QgTW90aW9uIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBGcmVlIExvb2tpbmcgLSBTbmFwIFBsYXllciBSb3RhdGlvbiAoRXVsZXIgQW5nbGUgUm90YXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoMCwgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55LCAwLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoaXMubGFzdFJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5ID0gdGhpcy5nZXRWZXJ0aWNhbFZlbG9jaXR5KCk7XG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50VmVsb2NpdHkuY29weUZyb20odGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgQ2hhcmFjdGVyIENvbnRyb2xsZXJcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckZhbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID0gKHRoaXMubmF2aWdhdGlvbkFnZW50ICE9IG51bGwgJiYgdGhpcy5uYXZpZ2F0aW9uQWdlbnQuaXNOYXZpZ2F0aW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQW5ndWxhclNwZWVkID0gKHRoaXMubmF2aWdhdGlvbkFnZW50ICE9IG51bGwpID8gdGhpcy5uYXZpZ2F0aW9uQWdlbnQuYW5ndWxhclNwZWVkIDogMDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hhcmFjdGVyQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBBbmltYXRpb24gU3RhdGUgUGFyYW1zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCAmJiB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUFuaW1hdGlvblN0YXRlUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRJbnRlZ2VyKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW92ZURpcmVjdGlvbiwgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaGVpZ2h0SW5wdXQsIHRoaXMudmVydGljYWxWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuanVtcEZyYW1lLCB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5qdW1wU3RhdGUsIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEludGVnZXIodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5hY3Rpb25TdGF0ZSwgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5mYWxsaW5nU3RhdGUsIHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zbGlkaW5nU3RhdGUsIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ncm91bmRlZFN0YXRlLCB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNtb290aE1vdGlvblRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNtb290aElucHV0VmVjdG9ycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFgsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnZlcnRpY2FsSW5wdXQsIHRoaXMucGxheWVySW5wdXRaLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVgsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCB0aGlzLnBsYXllck1vdXNlWSwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaG9yaXpvbnRhbElucHV0LCB0aGlzLnBsYXllcklucHV0WCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFopO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWElucHV0LCB0aGlzLnBsYXllck1vdXNlWCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VZSW5wdXQsIHRoaXMucGxheWVyTW91c2VZKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaW5wdXRNYWduaXR1ZGUsIHRoaXMuaW5wdXRNYWduaXR1ZGUsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgdGhpcy5tb3ZlbWVudFNwZWVkLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaG9yaXpvbnRhbElucHV0LCB0aGlzLnBsYXllcklucHV0WCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCB0aGlzLnBsYXllcklucHV0Wik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VZSW5wdXQsIHRoaXMucGxheWVyTW91c2VZKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmlucHV0TWFnbml0dWRlLCB0aGlzLmlucHV0TWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNwZWVkSW5wdXQsIHRoaXMubW92ZW1lbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gVXBkYXRlIFNwZWVkIElucHV0IFdpdGggTmF2aWdhdGlvbiBNYWduaXR1ZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNwZWVkSW5wdXQsIHRoaXMuaW5wdXRNYWduaXR1ZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBQb3N0IE5ldHdvcmsgQXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyA9PSB0cnVlICYmIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLkhhc05ldHdvcmtFbnRpdHkodGhpcy50cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAwLCB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24pOyAgICAgICAgICAgICAgICAgICAgLy8gRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxLCB0aGlzLmlucHV0TWFnbml0dWRlKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFnbml0dWRlXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAyLCB0aGlzLnBsYXllcklucHV0WCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG9yaXpvbmFsXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAzLCB0aGlzLnBsYXllcklucHV0Wik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVydGljYWxcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDQsIHRoaXMucGxheWVyTW91c2VYKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3VzZVhcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDUsIHRoaXMucGxheWVyTW91c2VZKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3VzZVlcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDYsIHRoaXMudmVydGljYWxWZWxvY2l0eSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBWZWxvY2l0eVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNywgdGhpcy5tb3ZlbWVudFNwZWVkKTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmVtZW50IFNwZWVkXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA4LCB0aGlzLnBlcmZvcm1BY3Rpb25OdW1iZXIpOyAgICAgICAgICAgICAgICAgICAgLy8gQWN0aW9uIFN0YXRlXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA5LCAoKHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUpID8gMSA6IDApKTsgICAgICAgLy8gSnVtcCBGcmFtZVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTAsICgodGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcpID8gMSA6IDApKTsgICAgICAgIC8vIElzIEp1bXBpbmdcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDExLCAoKHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nKSA/IDEgOiAwKSk7ICAgICAgICAvLyBJcyBGYWxsaW5nXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMiwgKCh0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgU2xpZGluZ1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTMsICgodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkKSA/IDEgOiAwKSk7ICAgICAgIC8vIElzIEdyb3VuZGVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBvc3QgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUgJiYgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGFmdGVyUGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZJWE1FOiBFeHRyYSBSYXljYXN0IERpc3RhbmNlIFdoZW4gT24gVmFyaW91cyBTbG9wZSBBbmdsZXMgLSA/Pz9cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDaGFyYWN0ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclJpc2luZyA9ICh0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9PSB0cnVlICYmIHRoaXMudmVydGljYWxWZWxvY2l0eSA+IDApO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID09IHRydWUgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IDwgMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9IGZhbHNlOyAgICAvLyBJR05PUkUgQ09OVEFDVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNHcm91bmRlZENvbnRhY3QgPT09IHRydWUgJiYgdGhpcy5taW5KdW1wVGltZXIgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9IGZhbHNlOyAgICAvLyBOT1QgU0xJRElOR1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPSB0cnVlOyAgICAvLyBJUyBHUk9VTkRFRFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlKSB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gZmFsc2UgJiYgdGhpcy5pc0NoYXJhY3RlclNsaWRpbmcgPT0gZmFsc2UgJiYgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPT0gZmFsc2UgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IDwgMCAmJiBNYXRoLmFicyh0aGlzLnZlcnRpY2FsVmVsb2NpdHkpID49IHRoaXMubWluRmFsbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3RlckZhbGxpbmcgPT09IHRydWUgJiYgdGhpcy5pc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcERlbGF5ID4gMCkgdGhpcy5kZWxheUp1bXBUaW1lciA9IHRoaXMuanVtcERlbGF5OyAvLyBEVU5OTzogTUFZQkUgVVNFIFNFUEVSQVRFIEZBTExJTkcgREVMQVkgVElNRVIgLSA/Pz9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gdHJ1ZSkgdGhpcy5pc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKFwiSXMgR3JvdW5kZWQ6IFwiICsgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDbGltYmluZyBTeXN0ZW1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZUNsaW1iU3lzdGVtID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdFBoeXNpY3NDbGltYmluZ1ZvbHVtZVJheSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3RQaHlzaWNzSGVpZ2h0Q2hlY2tWb2x1bWVSYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIENoYXJhY3RlciBNb3ZlbWVudFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy5tb3ZlbWVudEFsbG93ZWQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSBmYWxzZSAmJiB0aGlzLm1vdmVtZW50QWxsb3dlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxheUp1bXBUaW1lciA8PSAwKSB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gKHRoaXMuY2FuUGxheWVySnVtcCA9PT0gdHJ1ZSAmJiB0aGlzLmlzSnVtcFByZXNzZWQgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSBmYWxzZSAmJiB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID09PSB0cnVlICYmIHRoaXMudXNlQ2xpbWJTeXN0ZW0gPT09IHRydWUgJiYgdGhpcy5jbGltYkNvbnRhY3QgPT09IHRydWUgJiYgdGhpcy5oZWlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNsaW1iQWN0aW9uOiBudW1iZXIgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcm90YXRlU3BlZWQ6IG51bWJlciA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvdGF0ZVRvd2FyZHM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hIZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnRUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRPZmZzZXQ6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGl0SGVpZ2h0OiBudW1iZXIgPSBwYXJzZUZsb2F0KHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50LnkudG9GaXhlZCgyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVySGVpZ2h0OiBudW1iZXIgPSBwYXJzZUZsb2F0KHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkudG9GaXhlZCgyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JzdGFjbGVIZWlnaHQ6IG51bWJlciA9IHBhcnNlRmxvYXQoKGhpdEhlaWdodCAtIHBsYXllckhlaWdodCkudG9GaXhlZCgyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNsaW1iIEFjdGlvbiAtLT4gIEhpdCBIZWlnaHQ6IFwiICsgaGl0SGVpZ2h0ICsgXCIgLS0+IFBsYXllciBIZWlnaHQ6IFwiICsgcGxheWVySGVpZ2h0ICsgXCIgLS0+IE9ic3RhY2xlIEhlaWdodDogXCIgKyBvYnN0YWNsZUhlaWdodCArIFwiIC0tPiBSb3RhdGUgVG93YXJkczogXCIgKyByb3RhdGVUb3dhcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JzdGFjbGVIZWlnaHQgPj0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2UubWluaW11bUhlaWdodCAmJiBvYnN0YWNsZUhlaWdodCA8PSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5tYXhpbXVtSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW1iQWN0aW9uID0gUFJPSkVDVC5BY3Rpb25BbmltYXRpb25UeXBlLlN0ZXBVcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlU3BlZWQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5yb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVUb3dhcmRzID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2Uucm90YXRlVG93YXJkcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hIZWlnaHQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5tYXRjaEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2Uuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRUaW1lID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2UudGFyZ2V0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2UudGFyZ2V0T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JzdGFjbGVIZWlnaHQgPj0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2UubWluaW11bUhlaWdodCAmJiBvYnN0YWNsZUhlaWdodCA8PSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5tYXhpbXVtSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW1iQWN0aW9uID0gUFJPSkVDVC5BY3Rpb25BbmltYXRpb25UeXBlLkp1bXBVcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlU3BlZWQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5yb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVUb3dhcmRzID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2Uucm90YXRlVG93YXJkcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hIZWlnaHQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5tYXRjaEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2Uuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRUaW1lID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2UudGFyZ2V0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2UudGFyZ2V0T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JzdGFjbGVIZWlnaHQgPj0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLm1pbmltdW1IZWlnaHQgJiYgb2JzdGFjbGVIZWlnaHQgPD0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLm1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbWJBY3Rpb24gPSBQUk9KRUNULkFjdGlvbkFuaW1hdGlvblR5cGUuQ2xpbWJVcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlU3BlZWQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2Uucm90YXRpb25TcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlVG93YXJkcyA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5yb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5tYXRjaEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS50YXJnZXRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UudGFyZ2V0T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpbWJBY3Rpb24gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5DbGltYk9ic3RhY2xlUHJlZGljYXRlID09IG51bGwgfHwgdGhpcy5jYW5DbGltYk9ic3RhY2xlUHJlZGljYXRlKGNsaW1iQWN0aW9uKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyUmlzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlBY3Rpb25BbmltYXRpb24oY2xpbWJBY3Rpb24sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25TcGVlZCA9IHJvdGF0ZVNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVQbGF5ZXJUb3dhcmRzID0gcm90YXRlVG93YXJkcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRIZWlnaHQgPSBtYXRjaEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hTdGFydFRpbWUgPSAoc3RhcnRUaW1lIC0gUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuTUlOX1RJTUVSX09GRlNFVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0VGltZSA9ICh0YXJnZXRUaW1lIC0gUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuTUlOX1RJTUVSX09GRlNFVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0T2Zmc2V0ID0gdGFyZ2V0T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0SGVpZ2h0ID0gaGl0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0U3RhcnRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NrVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSA9PT0gdHJ1ZSAmJiB0aGlzLmp1bXBTcGVlZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLmp1bXAodGhpcy5qdW1wU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmp1bXBEZWxheSA+IDApIHRoaXMuZGVsYXlKdW1wVGltZXIgPSB0aGlzLmp1bXBEZWxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5haXJib3JuVGltZW91dCA+IDApIHRoaXMubWluSnVtcFRpbWVyID0gKHRoaXMuYWlyYm9yblRpbWVvdXQgKyB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0SnVtcFZlbG9jaXR5LnNldCh0aGlzLm1vdmVtZW50VmVsb2NpdHkueCwgMCwgdGhpcy5tb3ZlbWVudFZlbG9jaXR5LnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBNb3ZlIE5vdGlmaWNhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlICYmIHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIFJvb3QgTW90aW9uIFZlbG9jaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCAmJiB0aGlzLnJvb3RNb3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb290TW90aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLmdldERlbHRhTW90aW9uUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50VmVsb2NpdHkuc2V0KHJvb3RNb3Rpb24ueCwgMCwgcm9vdE1vdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5tb3ZlbWVudFZlbG9jaXR5LCB0aGlzLnRyYW5zZm9ybS5nZXRXb3JsZE1hdHJpeCgpLCB0aGlzLm1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5tb3ZlKHRoaXMubW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5tb3ZlbWVudFZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLm1vdmUodGhpcy5tb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIudXBkYXRlUG9zaXRpb24gPSB0cnVlOyAtIFdoaWNoIElzIEJlc3QgLSA/Pz9cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIudXBkYXRlUG9zaXRpb24gPSBmYWxzZTsgLSBXaGljaCBJcyBCZXN0IC0gPz8/XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBFSVRIRVIgT1IgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdob3N0V29ybGRQb3NpdGlvbih0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zeW5jR2hvc3RUb1RyYW5zZm9ybVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDYW1lcmFDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5wdXQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICAvLyBEVU5OTyBGVVIgU1VSRTogIGlmICh0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9PT0gdHJ1ZSAmJiB0aGlzLm5hdmlnYXRpb25Bbmd1bGFyU3BlZWQgPiAwKSBhbGxvd1JvdGF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gLi4gXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBQaXZvdCBPZmZzZXRcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldENhbWVyYU9mZnNldC54ICE9PSAwIHx8IHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0LnkgIT09IDAgfHwgdGhpcy50YXJnZXRDYW1lcmFPZmZzZXQueiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0LmNvcHlGcm9tKHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb250cm9sID09PSBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5UaGlyZFBlcnNvblN0cmFmaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0LnNldCgwLCB0aGlzLnBpdm90SGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQuc2V0KDAsIHRoaXMuZXllc0hlaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIFBpdm90IFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiwgdGhpcy5jYW1lcmFQaXZvdE9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIFBpdm90IFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVDYW1lcmEgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCwgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55LCAwLCB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQ2FtZXJhID09PSB0cnVlICYmIHRoaXMuY2FtZXJhTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhU21vb3RoaW5nIDw9IDApIHRoaXMuY2FtZXJhU21vb3RoaW5nID0gNS4wOyAvLyBEZWZhdWx0IENhbWVyYSBTbW9vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb250cm9sID09PSBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5UaGlyZFBlcnNvblN0cmFmaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYUNvbGxpc2lvbnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBDYW1lcmEgQ29sbGlzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgbWF4RGlzdGFuY2U6bnVtYmVyID0gTWF0aC5hYnModGhpcy5ib29tUG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSAodGhpcy5jYW1lcmFOb2RlLnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5zY2FsZVRvUmVmKHRoaXMubWF4RGlzdGFuY2UsIHRoaXMuc2NhbGVkTWF4RGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9sbHlEaXJlY3Rpb24uc2NhbGVUb1JlZih0aGlzLmNhbWVyYURpc3RhbmNlLCB0aGlzLnNjYWxlZENhbURpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZihwYXJlbnROb2RlLCB0aGlzLnBhcmVudE5vZGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlRyYW5zZm9ybVBvaW50VG9SZWYocGFyZW50Tm9kZSwgdGhpcy5zY2FsZWRNYXhEaXJlY3Rpb24sIHRoaXMubWF4aW11bUNhbWVyYVBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IFVTRSBTSEFQRUNBU1RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFSYXljYXN0U2hhcGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiB0aGlzLmNhbWVyYVJheWNhc3RTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmNhbWVyYU5vZGUucm90YXRpb25RdWF0ZXJuaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbjogdGhpcy5wYXJlbnROb2RlUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRQb3NpdGlvbjogdGhpcy5tYXhpbXVtQ2FtZXJhUG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlQm9keTogdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRIaXRUcmlnZ2VyczogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5TaGFwZWNhc3QocXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHJlc3VsdCAhPSBudWxsICYmIHJlc3VsdC53b3JsZCAhPSBudWxsICYmIHJlc3VsdC53b3JsZC5oYXNIaXQgPT09IHRydWUgJiYgcmVzdWx0LndvcmxkLmJvZHkgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gKGNvbnRhY3QgPT09IHRydWUpID8gQkFCWUxPTi5WZWN0b3IzLkRpc3RhbmNlKHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uLCByZXN1bHQud29ybGQuaGl0UG9pbnQpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogREVQUkVDQVRFRDogVVNFIFJBWUNBU1RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0ID09IG51bGwpIHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdCA9IG5ldyBCQUJZTE9OLlBoeXNpY3NSYXljYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnBhcmVudE5vZGVQb3NpdGlvbiwgdGhpcy5tYXhpbXVtQ2FtZXJhUG9zLCB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0ICE9IG51bGwgJiYgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsICYmIHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSAodGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0ICE9IG51bGwgJiYgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0Lmhhc0hpdCA9PT0gdHJ1ZSkgPyB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuaGl0RGlzdGFuY2UgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGV0IGNvbnRhY3RCb2R5OnN0cmluZyA9IChjb250YWN0ID09PSB0cnVlKSA/IHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdC5ib2R5LnRyYW5zZm9ybU5vZGUubmFtZSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9XTS5QcmludFRvU2NyZWVuKFwiQ2FtZXJhIENvbGxpc2lvbjogXCIgKyBjb250YWN0ICsgXCIgLS0+IERpc3RhbmNlOiAgXCIgKyBkaXN0YW5jZSArIFwiIC0tPiBUcmFuc2Zvcm06IFwiICsgY29udGFjdEJvZHkpOyovXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhRGlzdGFuY2UgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgoZGlzdGFuY2UgKiB0aGlzLmRpc3RhbmNlRmFjdG9yKSwgdGhpcy5taW5pbXVtRGlzdGFuY2UsIHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlcnAgUGFzdCBDYW1lcmEgQ29sbGlzaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24ueCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24ueSB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24ueikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuTGVycFRvUmVmKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbiwgdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24sICh0aGlzLmRlbHRhVGltZSAqIHRoaXMuY2FtZXJhU21vb3RoaW5nKSwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlV2hlZWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuSXNXaGVlbFNjcm9sbGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuV2hlZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsIDwgMCkgeyAvLyBaT09NIE9VVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHpvb21PdXRTcGVlZDogbnVtYmVyID0gKHRoaXMuc2Nyb2xsU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib29tUG9zaXRpb24ueiA9IEJBQllMT04uU2NhbGFyLk1vdmVUb3dhcmRzKHRoaXMuYm9vbVBvc2l0aW9uLnosIC10aGlzLm1heERpc3RhbmNlLCB6b29tT3V0U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aGVlbCA+IDApIHsgLy8gWk9PTSBJTlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHpvb21JblNwZWVkOiBudW1iZXIgPSAodGhpcy5zY3JvbGxTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb21Qb3NpdGlvbi56ID0gQkFCWUxPTi5TY2FsYXIuTW92ZVRvd2FyZHModGhpcy5ib29tUG9zaXRpb24ueiwgLXRoaXMubWluaW11bURpc3RhbmNlLCB6b29tSW5TcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVycCBUbyBDYW1lcmEgQm9vbSBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gdGhpcy5ib29tUG9zaXRpb24ueCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gdGhpcy5ib29tUG9zaXRpb24ueSB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gdGhpcy5ib29tUG9zaXRpb24ueikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuTGVycFRvUmVmKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbiwgdGhpcy5ib29tUG9zaXRpb24sICh0aGlzLmRlbHRhVGltZSAqIHRoaXMuY2FtZXJhU21vb3RoaW5nKSwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXJwIFRvIENhbWVyYSBCb29tIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnggIT09IHRoaXMuYm9vbVBvc2l0aW9uLnggfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnkgIT09IHRoaXMuYm9vbVBvc2l0aW9uLnkgfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnogIT09IHRoaXMuYm9vbVBvc2l0aW9uLnopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuTGVycFRvUmVmKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbiwgdGhpcy5ib29tUG9zaXRpb24sICh0aGlzLmRlbHRhVGltZSAqIHRoaXMuY2FtZXJhU21vb3RoaW5nKSwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFNuYXAgVG8gWmVybyBDYW1lcmEgUGl2b3QgUG9zaXRpb24gLSBGaXJzdCBQZXJzb24gVmlld1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnggIT09IDAgfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnkgIT09IDAgfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnogIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNtb290aEJvb21Bcm1MZW5ndGgoKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Qm9vbUFybU1heERpc3RhbmNlKCk6IG51bWJlciB7IHJldHVybiB0aGlzLm1heERpc3RhbmNlOyB9XG4gICAgICAgIHB1YmxpYyBzZXRCb29tQXJtTWF4RGlzdGFuY2UoZGlzdGFuY2U6IG51bWJlcik6IHZvaWQgeyB0aGlzLm1heERpc3RhbmNlID0gTWF0aC5hYnMoZGlzdGFuY2UpOyB9XG4gICAgICAgIHB1YmxpYyBzZXRTbW9vdGhCb29tQXJtTGVuZ3RoKGxlbmd0aDogbnVtYmVyLCBzcGVlZDogbnVtYmVyLCB1cGRhdGVNYXhEaXN0YW5jZTogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlTGVuZ3RoOiBudW1iZXIgPSBNYXRoLmFicyhsZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoID0gLWFic29sdXRlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhCb29tQXJtU3BlZWQgPSBzcGVlZDtcbiAgICAgICAgICAgIGlmICh1cGRhdGVNYXhEaXN0YW5jZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFic29sdXRlRGlzdGFuY2U6IG51bWJlciA9IE1hdGguYWJzKHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZUxlbmd0aCA+IGFic29sdXRlRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRCb29tQXJtTWF4RGlzdGFuY2UoYWJzb2x1dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHNtb290aEJvb21Bcm1MZW5ndGg6IEJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc21vb3RoQm9vbUFybVNwZWVkOiBCQUJZTE9OLk51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHVwZGF0ZVNtb290aEJvb21Bcm1MZW5ndGgoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoICE9IG51bGwgJiYgdGhpcy5zbW9vdGhCb29tQXJtU3BlZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvb21Qb3NpdGlvbi56ICE9PSB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib29tUG9zaXRpb24ueiA9IEJBQllMT04uU2NhbGFyLk1vdmVUb3dhcmRzKHRoaXMuYm9vbVBvc2l0aW9uLnosIHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCwgKHRoaXMuc21vb3RoQm9vbUFybVNwZWVkICogdGhpcy5nZXREZWx0YVNlY29uZHMoKSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybVNwZWVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vICBBbW1vIFBoeXNpY3MgUmF5Y2FzdGluZ1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBjYXN0UGh5c2ljc0NsaW1iaW5nVm9sdW1lUmF5KCk6IHZvaWQge1xuICAgICAgICAgICAgbGV0IHJheWNhc3Q6IEJBQllMT04uVG9vbGtpdC5SYXljYXN0SGl0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3RQb2ludC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdEFuZ2xlID0gMDtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIENsaW1iaW5nIFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcGxheWVyVHJhbnNmb3JtRm9yd2FyZERpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gVVRJTC5UcmFuc2Zvcm1EaXJlY3Rpb24odGhpcy50cmFuc2Zvcm0sIHRoaXMuZm9yd2FyZERpcmVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLm9mZnNldENsaW1iUmF5Y2FzdFBvc2l0aW9uLnNldCgwLCB0aGlzLnJheUNsaW1iT2Zmc2V0LCAwKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb24sIHRoaXMub2Zmc2V0Q2xpbWJSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuZW5kQ2xpbWJSYXljYXN0UG9zaXRpb24sIHRoaXMuZm9yd2FyZERpcmVjdGlvbi5zY2FsZSh0aGlzLnJheUNsaW1iTGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLmVuZENsaW1iUmF5Y2FzdFBvc2l0aW9uLnkgKz0gdGhpcy5yYXlDbGltYk9mZnNldDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvL3JheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb24sIHBsYXllclRyYW5zZm9ybUZvcndhcmREaXJlY3Rpb24sIHRoaXMucmF5Q2xpbWJMZW5ndGgsIHRoaXMuZGVmYXVsdFJheWNhc3RHcm91cCwgdGhpcy5kZWZhdWx0UmF5Y2FzdE1hc2spO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja1RhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrVGFnID09PSB0aGlzLmNsaW1iVm9sdW1lVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3ROb2RlID0gcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXRQb2ludCAhPSBudWxsKSB0aGlzLmNsaW1iQ29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXROb3JtYWwgIT0gbnVsbCkgdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdEFuZ2xlID0gKHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsICE9IG51bGwpID8gTWF0aC5hYnMoQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmNsaW1iQ29udGFjdE5vcm1hbCwgQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkpKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2UgPSByYXljYXN0LmhpdERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENsaW1iaW5nIERyYXcgRGVidWcgTGluZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuY2xpbWJTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQ2xpbWJpbmdTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iU2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuUmVkKCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kQ2xpbWJSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5HcmVlbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNhc3RQaHlzaWNzSGVpZ2h0Q2hlY2tWb2x1bWVSYXkoKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgcmF5Y2FzdDogQkFCWUxPTi5Ub29sa2l0LlJheWNhc3RIaXRSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3ROb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3RBbmdsZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3REaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gSGVpZ2h0IENoZWNrIFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcGxheWVyVHJhbnNmb3JtSGVpZ2h0RGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBVVElMLlRyYW5zZm9ybURpcmVjdGlvbih0aGlzLnRyYW5zZm9ybSwgdGhpcy5kb3duRGlyZWN0aW9uKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuY2xpbWJDb250YWN0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24uY29weUZyb20odGhpcy5jbGltYkNvbnRhY3RQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKEJBQllMT04uVmVjdG9yMy5VcFJlYWRPbmx5LnNjYWxlKHRoaXMucmF5SGVpZ2h0TGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgLy9yYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgcGxheWVyVHJhbnNmb3JtSGVpZ2h0RGlyZWN0aW9uLCB0aGlzLnJheUhlaWdodExlbmd0aCwgdGhpcy5kZWZhdWx0UmF5Y2FzdEdyb3VwLCB0aGlzLmRlZmF1bHRSYXljYXN0TWFzayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLnNldCgwLCB0aGlzLnJheUhlaWdodE9mZnNldCwgdGhpcy5yYXlDbGltYkxlbmd0aCk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHRoaXMub2Zmc2V0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEhlaWdodFJheWNhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEhlaWdodFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLnJheUhlaWdodExlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrVGFnID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tUYWcgPT09IHRoaXMuY2xpbWJWb2x1bWVUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0Tm9kZSA9IHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0UG9pbnQgIT0gbnVsbCkgdGhpcy5oZWlnaHRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdE5vcm1hbCAhPSBudWxsKSB0aGlzLmhlaWdodENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3RBbmdsZSA9ICh0aGlzLmhlaWdodENvbnRhY3ROb3JtYWwgIT0gbnVsbCkgPyBNYXRoLmFicyhCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFuZ2xlKHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbCwgQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkpKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdERpc3RhbmNlID0gcmF5Y2FzdC5oaXREaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIZWlnaHQgQ2hlY2sgRHJhdyBEZWJ1ZyBMaW5lXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oZWlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuaGVpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkhlaWdodENoZWNrU2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHRoaXMuaGVpZ2h0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5SZWQoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZEhlaWdodFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkdyZWVuKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vICBQcml2YXRlIFdvcmtlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgZ2V0Q2hlY2tlZFZlcnRpY2FsVmVsb2NpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWZWxvY2l0eTogbnVtYmVyID0gKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSA/IHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5nZXRWZXJ0aWNhbFZlbG9jaXR5KCkgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIChNYXRoLmFicyhjdXJyZW50VmVsb2NpdHkpID49IFBST0pFQ1QuU3RhbmRhcmRQbGF5ZXJDb250cm9sbGVyLk1JTl9WRVJUSUNBTF9WRUxPQ0lUWSkgPyBjdXJyZW50VmVsb2NpdHkgOiAwO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgZGVzdHJveVBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdmFsaWRhdGVBbmltYXRpb25TdGF0ZVBhcmFtcygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uOiBcIkRpcmVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dE1hZ25pdHVkZTogXCJNYWduaXR1ZGVcIixcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbElucHV0OiBcIkhvcml6b250YWxcIixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxJbnB1dDogXCJWZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZVhJbnB1dDogXCJNb3VzZVhcIixcbiAgICAgICAgICAgICAgICAgICAgbW91c2VZSW5wdXQ6IFwiTW91c2VZXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodElucHV0OiBcIkhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZElucHV0OiBcIlNwZWVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1bXBGcmFtZTogXCJKdW1wZWRcIixcbiAgICAgICAgICAgICAgICAgICAganVtcFN0YXRlOiBcIkp1bXBcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU3RhdGU6IFwiQWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGZhbGxpbmdTdGF0ZTogXCJGcmVlRmFsbFwiLFxuICAgICAgICAgICAgICAgICAgICBzbGlkaW5nU3RhdGU6IFwiU2xpZGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBncm91bmRlZFN0YXRlOiBcIkdyb3VuZGVkXCIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gSW50ZXJmYWNlIERlZmluaXRpb25cbiAgICAqIEBpbnRlcmZhY2UgQW5pbWF0aW9uU3RhdGVQYXJhbXNcbiAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0aW9uU3RhdGVQYXJhbXMge1xuICAgICAgICBtb3ZlRGlyZWN0aW9uOiBzdHJpbmc7XG4gICAgICAgIGlucHV0TWFnbml0dWRlOiBzdHJpbmc7XG4gICAgICAgIGhvcml6b250YWxJbnB1dDogc3RyaW5nO1xuICAgICAgICB2ZXJ0aWNhbElucHV0OiBzdHJpbmc7XG4gICAgICAgIG1vdXNlWElucHV0OiBzdHJpbmc7XG4gICAgICAgIG1vdXNlWUlucHV0OiBzdHJpbmc7XG4gICAgICAgIGhlaWdodElucHV0OiBzdHJpbmc7XG4gICAgICAgIHNwZWVkSW5wdXQ6IHN0cmluZztcbiAgICAgICAganVtcEZyYW1lOiBzdHJpbmc7XG4gICAgICAgIGp1bXBTdGF0ZTogc3RyaW5nO1xuICAgICAgICBhY3Rpb25TdGF0ZTogc3RyaW5nO1xuICAgICAgICBmYWxsaW5nU3RhdGU6IHN0cmluZztcbiAgICAgICAgc2xpZGluZ1N0YXRlOiBzdHJpbmc7XG4gICAgICAgIGdyb3VuZGVkU3RhdGU6IHN0cmluZztcbiAgICB9XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIEVudW0gRGVmaW5pdGlvblxuICAgICogQGludGVyZmFjZSBQbGF5ZXJJbnB1dENvbnRyb2xcbiAgICAqL1xuICAgIGV4cG9ydCBlbnVtIFBsYXllcklucHV0Q29udHJvbCB7XG4gICAgICAgIEZpcnN0UGVyc29uU3RyYWZpbmcgPSAwLFxuICAgICAgICBUaGlyZFBlcnNvblN0cmFmaW5nID0gMVxuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gRW51bSBEZWZpbml0aW9uXG4gICAgKiBAaW50ZXJmYWNlIFBsYXllck1vdmVEaXJlY3Rpb25cbiAgICAqL1xuICAgIGV4cG9ydCBlbnVtIFBsYXllck1vdmVEaXJlY3Rpb24ge1xuICAgICAgICBTdGF0aW9uYXJ5ID0gMCxcbiAgICAgICAgRm9yd2FyZCA9IDEsXG4gICAgICAgIEZvcndhcmRMZWZ0ID0gMixcbiAgICAgICAgRm9yd2FyZFJpZ2h0ID0gMyxcbiAgICAgICAgQmFja3dhcmQgPSA0LFxuICAgICAgICBCYWNrd2FyZExlZnQgPSA1LFxuICAgICAgICBCYWNrd2FyZFJpZ2h0ID0gNixcbiAgICAgICAgU3RyYWZpbmdMZWZ0ID0gNyxcbiAgICAgICAgU3RyYWZpbmdSaWdodCA9IDhcbiAgICB9XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIEVudW0gRGVmaW5pdGlvblxuICAgICogQGludGVyZmFjZSBBY3Rpb25BbmltYXRpb25UeXBlXG4gICAgKi9cbiAgICBleHBvcnQgZW51bSBBY3Rpb25BbmltYXRpb25UeXBlIHtcbiAgICAgICAgTmV1dHJhbCA9IDAsXG4gICAgICAgIFN0ZXBVcCA9IDEsXG4gICAgICAgIEp1bXBVcCA9IDIsXG4gICAgICAgIENsaW1iVXAgPSAzLFxuICAgICAgICBWYXVsdE92ZXIgPSA0XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHRvb2xraXQgdGhpcmQgcGVyc29uIHBsYXllciBjb250cm9sbGVyIGNsYXNzXG4gICAgICogQGNsYXNzIFRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlciAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9WRVJUSUNBTF9WRUxPQ0lUWTogbnVtYmVyID0gMC4wMTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBNSU5fR1JPVU5EX0RJU1RBTkNFOiBudW1iZXIgPSAwLjE1O1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9NT1ZFX0VQU0lMT046IG51bWJlciA9IDAuMDAxO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9USU1FUl9PRkZTRVQ6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1NMT1BFX0xJTUlUOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFBMQVlFUl9IRUlHSFQ6IHN0cmluZyA9IFwicGxheWVySGVpZ2h0XCI7XG5cbiAgICAgICAgcHVibGljIGVuYWJsZUlucHV0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBhdHRhY2hDYW1lcmE6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHJvdGF0ZUNhbWVyYTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBtb3VzZVdoZWVsOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGZyZWVDYW1lcmE6IEJBQllMT04uRnJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBmcmVlTG9va2luZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcmVxdWlyZVNwcmludEJ1dHRvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZ3Jhdml0YXRpb25hbEZvcmNlOiBudW1iZXIgPSAzLjA7XG4gICAgICAgIHB1YmxpYyBtaW5GYWxsVmVsb2NpdHk6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIHZlcnRpY2FsU3RlcFNwZWVkOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBtaW5TdGVwVXBIZWlnaHQ6IG51bWJlciA9IDAuMTU7XG4gICAgICAgIHB1YmxpYyByaWdpZEJvZHlNYXNzOiBudW1iZXIgPSA4NS4wO1xuICAgICAgICBwdWJsaWMgYWlyYm9yblRpbWVvdXQ6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIG1heEFuZ2xlOiBudW1iZXIgPSA0NTtcbiAgICAgICAgcHVibGljIHNwZWVkRmFjdG9yOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyByb290TW90aW9uOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBtb3ZlU3BlZWQ6IG51bWJlciA9IDUuMzM1O1xuICAgICAgICBwdWJsaWMgd2Fsa1NwZWVkOiBudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBsb29rU3BlZWQ6IG51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIGp1bXBTcGVlZDogbnVtYmVyID0gMTAuMDtcbiAgICAgICAgcHVibGljIGp1bXBEZWxheTogbnVtYmVyID0gMC4yNTtcbiAgICAgICAgcHVibGljIGV5ZXNIZWlnaHQ6IG51bWJlciA9IDEuNTU7XG4gICAgICAgIHB1YmxpYyBwaXZvdEhlaWdodDogbnVtYmVyID0gMS4zNTtcbiAgICAgICAgcHVibGljIG1heERpc3RhbmNlOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBzY3JvbGxTcGVlZDogbnVtYmVyID0gMjU7XG4gICAgICAgIHB1YmxpYyB0b3BMb29rTGltaXQ6IG51bWJlciA9IDYwLjA7XG4gICAgICAgIHB1YmxpYyBkb3duTG9va0xpbWl0OiBudW1iZXIgPSAzMC4wO1xuICAgICAgICBwdWJsaWMgbG93VHVyblNwZWVkOiBudW1iZXIgPSAxNS4wO1xuICAgICAgICBwdWJsaWMgaGlnaFR1cm5TcGVlZDogbnVtYmVyID0gMjUuMDtcbiAgICAgICAgcHVibGljIHNtb290aElucHV0VGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHNtb290aElucHV0VmVjdG9yczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgc21vb3RoQWNjZWxlcmF0aW9uOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBhY2NlbGVyYXRpb25TcGVlZDogbnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgZGVjZWxlcmF0aW9uU3BlZWQ6IG51bWJlciA9IDAuMTtcbiAgICAgICAgcHVibGljIGNsaW1iVm9sdW1lVGFnOiBzdHJpbmcgPSBcIkNsaW1iXCI7XG4gICAgICAgIHB1YmxpYyB2YXVsdFZvbHVtZVRhZzogc3RyaW5nID0gXCJWYXVsdFwiO1xuICAgICAgICBwdWJsaWMgbWF4SGVpZ2h0UmFuZ2VzOiBhbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdXNlQ2xpbWJTeXN0ZW06IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGRpc3RhbmNlRmFjdG9yOiBudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgY2FtZXJhU21vb3RoaW5nOiBudW1iZXIgPSA4O1xuICAgICAgICBwdWJsaWMgY2FtZXJhQ29sbGlzaW9uczogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBpbnB1dE1hZ25pdHVkZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGxhbmRpbmdFcHNpbG9uOiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBtaW5pbXVtRGlzdGFuY2U6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIG1vdmVtZW50QWxsb3dlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJJbnB1dFg6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJJbnB1dFo6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJNb3VzZVg6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJNb3VzZVk6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBydW5LZXlSZXF1aXJlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBidXR0b25SdW46IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5MZWZ0U3RpY2s7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZFJ1bjogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5TaGlmdDtcbiAgICAgICAgcHVibGljIGJ1dHRvbkp1bXA6IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5BO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRKdW1wOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlNwYWNlQmFyO1xuICAgICAgICBwdWJsaWMgYnV0dG9uQ2FtZXJhOiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uWTtcbiAgICAgICAgcHVibGljIGtleWJvYXJkQ2FtZXJhOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlA7XG4gICAgICAgIHB1YmxpYyBwb3N0TmV0d29ya0F0dHJpYnV0ZXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHBsYXllck51bWJlcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lO1xuICAgICAgICBwdWJsaWMgYm9vbVBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIC01KTtcbiAgICAgICAgcHVibGljIGFpcmJvcm5WZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIG1vdmVtZW50VmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyB0YXJnZXRDYW1lcmFPZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBpc0FuaW1hdGlvbkVuYWJsZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zOyB9XG4gICAgICAgIHB1YmxpYyBpc1J1bkJ1dHRvblByZXNzZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzUnVuUHJlc3NlZDsgfVxuICAgICAgICBwdWJsaWMgaXNKdW1wQnV0dG9uUHJlc3NlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNKdW1wUHJlc3NlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySnVtcGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySnVtcGluZygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJGYWxsaW5nKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3RlckZhbGxpbmc7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllclNsaWRpbmcoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyR3JvdW5kZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQ7IH1cbiAgICAgICAgcHVibGljIGdldEZhbGxUcmlnZ2VyZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyRmFsbFRyaWdnZXJlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0TW92ZW1lbnRTcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5tb3ZlbWVudFNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBbmltYXRpb25TcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5hbmltYXRpb25TcGVlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhQm9vbU5vZGUoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuY2FtZXJhTm9kZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhVHJhbnNmb3JtKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmNhbWVyYVBpdm90OyB9XG4gICAgICAgIHB1YmxpYyBnZXRBbmltYXRpb25TdGF0ZSgpOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgeyByZXR1cm4gdGhpcy5hbmltYXRpb25TdGF0ZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0VmVydGljYWxWZWxvY2l0eSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5nZXRDaGVja2VkVmVydGljYWxWZWxvY2l0eSgpOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDaGFyYWN0ZXJDb250cm9sbGVyKCk6IEJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyIHsgcmV0dXJuIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyTG9va1JvdGF0aW9uKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnBsYXllckxvb2tSb3RhdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyTW92ZURpcmVjdGlvbigpOiBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24geyByZXR1cm4gdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uOyB9XG4gICAgICAgIHB1YmxpYyBnZXRJbnB1dE1vdmVtZW50VmVjdG9yKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3I7IH1cbiAgICAgICAgcHVibGljIGdldElucHV0TWFnbml0dWRlVmFsdWUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaW5wdXRNYWduaXR1ZGU7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVBpdm90UG9zaXRpb24oKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuICh0aGlzLmNhbWVyYVBpdm90ICE9IG51bGwpID8gdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiA6IG51bGw7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVBpdm90Um90YXRpb24oKTogQkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLmNhbWVyYVBpdm90ICE9IG51bGwpID8gdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24gOiBudWxsOyB9XG5cbiAgICAgICAgcHVibGljIHJheUNsaW1iT2Zmc2V0OiBudW1iZXIgPSAwLjM1O1xuICAgICAgICBwdWJsaWMgcmF5Q2xpbWJMZW5ndGg6IG51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0Tm9kZSgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3ROb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3RQb2ludCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0QW5nbGUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0QW5nbGU7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdE5vcm1hbCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdERpc3RhbmNlKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdERpc3RhbmNlOyB9O1xuICAgICAgICBwdWJsaWMgY2FuQ2xpbWJPYnN0YWNsZVByZWRpY2F0ZTogKGFjdGlvbjogbnVtYmVyKSA9PiBib29sZWFuID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgcmF5SGVpZ2h0T2Zmc2V0OiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyByYXlIZWlnaHRMZW5ndGg6IG51bWJlciA9IDYuMDtcbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3ROb2RlKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3ROb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0UG9pbnQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0QW5nbGUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdEFuZ2xlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3REaXN0YW5jZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0RGlzdGFuY2U7IH07XG5cbiAgICAgICAgcHJpdmF0ZSBhYnN0cmFjdE1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFEaXN0YW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBmb3J3YXJkQ2FtZXJhOiBib29sZWFuID0gdHJ1ZTsgLy8gTm90ZSBBbHdheXMgQ2FtZXJhIEZvcndhcmRcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJSYWRpdXM6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHJpdmF0ZSBncm91bmRpbmdPYmplY3Q6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZ3JvdW5kaW5nQ2FsbGJhY2s6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZG9sbHlEaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRXVsZXJzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJvdGF0aW9uRXVsZXJzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVBpdm90T2Zmc2V0OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNhbWVyYUZvcndhcmRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUmlnaHRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZGVzaXJlZEZvcndhcmRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZGVzaXJlZFJpZ2h0VmVjdG9yOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGxhc3RSb3RhdGlvblF1YXRlcm5pb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgc2NhbGVkQ2FtRGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHNjYWxlZE1heERpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnROb2RlUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgbWF4aW11bUNhbWVyYVBvczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSB0ZW1wV29ybGRQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcml2YXRlIGNhbWVyYVJheWNhc3RSZXN1bHQ6IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVJheWNhc3RTaGFwZTogQkFCWUxPTi5QaHlzaWNzU2hhcGVTcGhlcmUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgZGVmYXVsdFJheWNhc3RHcm91cDpudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyO1xuICAgICAgICAvL3ByaXZhdGUgZGVmYXVsdFJheWNhc3RNYXNrOm51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlcjtcbiAgICAgICAgLy9wcml2YXRlIGNhbWVyYVJheWNhc3RNYXNrOm51bWJlciA9IChCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyIHwgQkFCWUxPTi5Ub29sa2l0LkNvbGxpc2lvbkZpbHRlcnMuU3RhdGljRmlsdGVyIHwgQkFCWUxPTi5Ub29sa2l0LkNvbGxpc2lvbkZpbHRlcnMuS2luZW1hdGljRmlsdGVyKTsgLy8gTm90ZTogRXhjbHVkZSBUaGUgUGxheWVyIENoYXJhY3RlciBDb250cm9sbGVyIEZyb20gQ2FtZXJhIENvbGxpc2lvblxuXG4gICAgICAgIHByaXZhdGUgYXZhdGFyU2tpbnM6IEJBQllMT04uQWJzdHJhY3RNZXNoW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYU5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUGl2b3Q6IEJBQllMT04uTWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbmF2aWdhdGlvbkFnZW50OiBCQUJZTE9OLlRvb2xraXQuTmF2aWdhdGlvbkFnZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjaGFyYWN0ZXJDb250cm9sbGVyOiBCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdmVydGljYWxWZWxvY2l0eTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzbW9vdGhNb3Rpb25TcGVlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNtb290aENoYW5nZVJhdGU6IG51bWJlciA9IDI1O1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblNwZWVkOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1vdmVtZW50U3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaXNSdW5QcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNKdW1wUHJlc3NlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyU2xpZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyRmFsbGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyR3JvdW5kZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlckp1bXBGcmFtZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVySnVtcGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyUmlzaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJMYW5kaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbmF2aWdhdGlvbkFuZ3VsYXJTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVTdGF0ZVBhcmFtczogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgYW5pbWF0aW9uU3RhdGVQYXJhbXM6IFBST0pFQ1QuQW5pbWF0aW9uU3RhdGVQYXJhbXMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNwaGVyZUNvbGxpc2lvblNoYXBlOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGhhc0dyb3VuZGVkQ29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNob3dEZWJ1Z0NvbGxpZGVyczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNvbGxpZGVyVmlzaWJpbGl0eTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjb2xsaWRlclJlbmRlckdyb3VwOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNob3dEZWJ1Z1JheWNhc3RzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBkZWx0YVRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWluSnVtcFRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGRlbGF5SnVtcFRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNhblBsYXllckp1bXA6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHJpdmF0ZSByb3RhdGlvblZlbG9jaXR5WDpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwcml2YXRlIHJvdGF0aW9uVmVsb2NpdHlZOkJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0SnVtcFZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGlucHV0TW92ZW1lbnRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTG9va1JvdGF0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uVmVjdG9yOiBCQUJZTE9OLlZlY3RvcjIgPSBCQUJZTE9OLlZlY3RvcjIuWmVybygpO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdmVtZW50VmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyUm90YXRpb25RdWF0ZXJuaW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdmVEaXJlY3Rpb246IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdGF0aW9uYXJ5O1xuICAgICAgICBwcml2YXRlIGZvcndhcmREaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgZG93bkRpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMSwgMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3ROb2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdEFuZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3REaXN0YW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjbGltYlNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb2Zmc2V0Q2xpbWJSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBlbmRDbGltYlJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0Tm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0QW5nbGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdERpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGhlaWdodFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb2Zmc2V0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGVuZEhlaWdodFJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcm90ZWN0ZWQgbV92ZWxvY2l0eU9mZnNldDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fYWN0dWFsVmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2xpbmVhclZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9sYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX3Bvc2l0aW9uQ2VudGVyOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zY2FsZWRWZWxvY2l0eTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJvdGVjdGVkIHBsYXllckRyYXdWZWxvY2l0eTogbnVtYmVyID0gMDtcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwcm9wZXJ0aWVzPzogYW55KSB7XG4gICAgICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIHNjZW5lLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZVBsYXllckNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuc3RhcnRQbGF5ZXJDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyB0aGlzLmFmdGVyUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IHRoaXMudXBkYXRlUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lQbGF5ZXJDb250cm9sbGVyKCk7IH1cblxuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaGFzIGJlZW4gdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25QcmVVcGRhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBtb3ZlbWVudCBoYXMgYmVlbiBhcHBsaWVkICovXG4gICAgICAgIHB1YmxpYyBvbkJlZm9yZU1vdmVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGFmdGVyIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgcGxheWVyIGlucHV0IGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUGxheWVySW5wdXRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gcGxheWVyIHBvc2l0aW9uIHNob3VsZCBiZSB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBhZnRlciBwZXJmb3JtaW5nIGFjdGlvbiBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblVwZGF0ZUFjdGlvbk9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgYW5pbWF0aW9uIHN0YXRlIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uQW5pbWF0aW9uU3RhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUm9vdCBNb3Rpb24gQW5pbWF0aW9uIFN5c3RlbVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgX2RlbHRhTW90aW9uUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBnZXREZWx0YU1vdGlvblBvc2l0aW9uKCk6IEJBQllMT04uVmVjdG9yMyB7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb290TW90aW9uUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IHRoaXMuYW5pbWF0aW9uU3RhdGUuZ2V0RGVsdGFSb290TW90aW9uUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocm9vdE1vdGlvblBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IENhbGN1bGF0ZSBEZWx0YSBSb290IE1vdGlvbiBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uLmNvcHlGcm9tKHJvb3RNb3Rpb25Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbHRhTW90aW9uUG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZWx0YU1vdGlvblJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDApO1xuICAgICAgICBwdWJsaWMgZ2V0RGVsdGFNb3Rpb25Sb3RhdGlvbigpOiBCQUJZTE9OLlF1YXRlcm5pb24ge1xuICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Sb3RhdGlvbi5zZXQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdE1vdGlvblJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldERlbHRhUm9vdE1vdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RNb3Rpb25Sb3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBDYWxjdWxhdGUgRGVsdGEgUm9vdCBNb3Rpb24gUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Sb3RhdGlvbi5jb3B5RnJvbShyb290TW90aW9uUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWx0YU1vdGlvblJvdGF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQmxvY2tpbmcgQWN0aW9uIEFuaW1hdGlvbiBTeXN0ZW1cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGlzUGVyZm9ybWluZ0FjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzUm9vdE1vdGlvbkFjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQWN0aW9uSW50ZXJydXB0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGFmdGVyQWN0aW9uSGFuZGxlcjogRnVuY3Rpb24gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHBlcmZvcm1BY3Rpb25UaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwZXJmb3JtQWN0aW9uTnVtYmVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uU3BlZWQ6IG51bWJlciA9IDEwO1xuICAgICAgICBwcml2YXRlIHJvdGF0ZVBsYXllclRvd2FyZHM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFN0YXJ0VGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFRhcmdldFRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hUYXJnZXRPZmZzZXQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hUYXJnZXRIZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBsb2NrVGFyZ2V0SGVpZ2h0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbGFzdFN0YXJ0SGVpZ2h0OiBCQUJZTE9OLk51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGxhc3RUYXJnZXRIZWlnaHQ6IEJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbGFzdFRhcmdldE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0VGFyZ2V0Um90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgbGFzdERlbHRhUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdERlbHRhUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHB1YmxpYyBnZXRJc1BlcmZvcm1pbmdBY3Rpb24oKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SXNSb290TW90aW9uQWN0aW9uKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc1Jvb3RNb3Rpb25BY3Rpb247IH1cbiAgICAgICAgcHVibGljIGdldElzQWN0aW9uSW50ZXJydXB0YWJsZSgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNBY3Rpb25JbnRlcnJ1cHRhYmxlOyB9XG4gICAgICAgIHB1YmxpYyBwbGF5QWN0aW9uQW5pbWF0aW9uKGFjdGlvbjogbnVtYmVyLCBpbnRlcnJ1cHRhYmxlQWN0aW9uOiBib29sZWFuID0gdHJ1ZSwgZW5hYmxlUm9vdE1vdGlvbjogYm9vbGVhbiA9IGZhbHNlLCBhZnRlckFjdGlvbkNvbXBsZXRlOiAoKSA9PiB2b2lkID0gbnVsbCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSBmYWxzZSAmJiB0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgYWN0aW9uID49IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybUFjdGlvbk51bWJlciA9IGFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmFmdGVyQWN0aW9uSGFuZGxlciA9IGFmdGVyQWN0aW9uQ29tcGxldGU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPSBpbnRlcnJ1cHRhYmxlQWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID0gZW5hYmxlUm9vdE1vdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uU3BlZWQgPSAxMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24uc2V0KDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZUNoYXJhY3RlckNvbnRyb2xsZXIoZmFsc2UpOyAvLyBOb3RlOiBEaXNhYmxlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgcmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFmdGVyQWN0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHsgdGhpcy5hZnRlckFjdGlvbkhhbmRsZXIoKTsgfSBjYXRjaCB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcih0cnVlKTsgLy8gTm90ZTogRW5hYmxlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJBY3Rpb25IYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25TcGVlZCA9IDEwO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGVQbGF5ZXJUb3dhcmRzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5sb2NrVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmxhc3RTdGFydEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uLnNldCgwLCAwLCAwLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQW5pbWF0aW9uQWN0aW9uU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6IG51bWJlciA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICBjb25zdCBkYW1wVGltZTogbnVtYmVyID0gKHRoaXMubWF0Y2hUYXJnZXRUaW1lIC0gdGhpcy5tYXRjaFN0YXJ0VGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyR2xvYmFsSGVpZ2h0OiBudW1iZXIgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmdldERlbHRhTW90aW9uUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMubGFzdERlbHRhUG9zaXRpb24sIHRoaXMudHJhbnNmb3JtLmdldFdvcmxkTWF0cml4KCksIHRoaXMubGFzdERlbHRhUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTdGFydEhlaWdodCA9PSBudWxsICYmIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyID49IHRoaXMubWF0Y2hTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gcGxheWVyR2xvYmFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IFN0YXJ0IEdsb2JhbCBIZWlnaHQ6IFwiICsgdGhpcy5sYXN0U3RhcnRIZWlnaHQgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTdGFydEhlaWdodCAhPSBudWxsICYmIHRoaXMubGFzdFRhcmdldEhlaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZml4ZWRUYXJnZXRIZWlnaHQ6IG51bWJlciA9ICh0aGlzLmxhc3RUYXJnZXRIZWlnaHQgKyB0aGlzLm1hdGNoVGFyZ2V0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciA8IHRoaXMubWF0Y2hUYXJnZXRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdChQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5QTEFZRVJfSEVJR0hULCBmaXhlZFRhcmdldEhlaWdodCwgZGFtcFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21vb3RoUGxheWVySGVpZ2h0OiBudW1iZXIgPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldEZsb2F0KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSA9IChzbW9vdGhQbGF5ZXJIZWlnaHQgLSBwbGF5ZXJHbG9iYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIj4+PiBMZXJwIFRhcmdldCBEZWx0YTogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubG9ja1RhcmdldEhlaWdodCA9PT0gZmFsc2UgJiYgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPj0gdGhpcy5tYXRjaFRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAoZml4ZWRUYXJnZXRIZWlnaHQgLSBwbGF5ZXJHbG9iYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IExhc3QgR2xvYmFsIERlbHRhOiBcIiArIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciArIFwiIC0tLT4gTWF0Y2ggVGFyZ2V0IFRpbWU6IFwiICsgdGhpcy5tYXRjaFRhcmdldFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgUm9vdCBNb3Rpb24gVG8gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueCA9IDA7IC8vIEZJWE1FOiBBcHBseSBSb3RhdGlvbiBZIERpZmZlcmVuY2UgRmFjdG9yIEZyb20gVW5pdHlcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAwOyAvLyBGSVhNRTogQXBwbHkgUm90YXRpb24gWSBEaWZmZXJlbmNlIEZhY3RvciBGcm9tIFVuaXR5XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmxhc3REZWx0YVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlBsYXllciBBY3Rpb24gSGVpZ2h0OiBcIiArIHBsYXllckdsb2JhbEhlaWdodCArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDdXJyZW50IERlbHRhIEhlaWdodDogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgUm9vdCBNb3Rpb24gVG8gUm90YXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXROb3JtYWwuc2V0KC10aGlzLmNsaW1iQ29udGFjdE5vcm1hbC54LCAtdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwueSwgLXRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZih0aGlzLmxhc3RUYXJnZXROb3JtYWwsIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlcnBBbW91bnQ6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMucGxheWVyUm90YXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZih0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uLCBsZXJwQW1vdW50LCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNsaW1iIFRhcmdldCBSb3RhdGlvbjogXCIgKyB0aGlzLmxhc3RUYXJnZXRSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVJvdGF0aW9uLmNvcHlGcm9tKHRoaXMuZ2V0RGVsdGFNb3Rpb25Sb3RhdGlvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLm11bHRpcGx5SW5QbGFjZSh0aGlzLmxhc3REZWx0YVJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciArPSBkZWx0YVRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBDb250cm9sbGVyIEF0dGFjaG1lbnQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFNldCB0aGUgcGxheWVyIHdvcmxkIHBvc2l0aW9uICovXG4gICAgICAgIHB1YmxpYyBzZXRXb3JsZFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXQoeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgYXR0YWNoUGxheWVyQ2FtZXJhKHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyQ2FtZXJhOiBudW1iZXIgPSAocGxheWVyIDw9IDAgfHwgcGxheWVyID4gNCkgPyAxIDogcGxheWVyO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRDYW1lcmFUcmFuc2Zvcm0odGhpcy5zY2VuZSwgcGxheWVyQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyZWVDYW1lcmEgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uR2V0TWFpbkNhbWVyYSh0aGlzLnNjZW5lLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZSAhPSBudWxsICYmIHRoaXMuZnJlZUNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJlZUNhbWVyYS5kZXRhY2hDb250cm9sKCk7IC8vIE5PVEU6IEFMV0FZUyBERVRBQ0ggQ09OVFJPTFxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUucGFyZW50ID0gdGhpcy5jYW1lcmFQaXZvdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuYm9vbVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBNb3ZlIHNvbWV3aGVyZSBiZXR0ZXIgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIEhhbmRsZSBMb25nIEludGl0aWFsIENhbWVyYSBQYW4gLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFEaXN0YW5jZSA9IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFQlVHOiBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsZWQgdG8gbG9jYXRlIHBsYXllciBjYW1lcmEgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lrTGVmdENvbnRyb2xsZXI6IEJBQllMT04uQm9uZUlLQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrTGVmdEZvb3RUYXJnZXQ6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrTGVmdFBvbGVUYXJnZXQ6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrUmlnaHRDb250cm9sbGVyOiBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0Rm9vdFRhcmdldDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaWtSaWdodFBvbGVUYXJnZXQ6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBhYnN0cmFjdFNraW5NZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcm9vdEJvbmVUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbGVmdEZvb3RUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIC8vcHJpdmF0ZSBsZWZ0Rm9vdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290UG9sZVBvczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdEJlbmRBeGlzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290UG9sZUFuZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290TWF4QW5nbGU6IG51bWJlciA9IDE4MDtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIC8vcHJpdmF0ZSByaWdodEZvb3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RQb2xlUG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdEJlbmRBeGlzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdFBvbGVBbmdsZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RNYXhBbmdsZTogbnVtYmVyID0gMTgwO1xuXG4gICAgICAgIHB1YmxpYyBnZXRMZWZ0Rm9vdFRhcmdldCgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5faWtMZWZ0Rm9vdFRhcmdldDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmlnaHRGb290VGFyZ2V0KCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldDsgfVxuICAgICAgICBwdWJsaWMgZ2V0TGVmdEZvb3RDb250cm9sbGVyKCk6IEJBQllMT04uQm9uZUlLQ29udHJvbGxlciB7IHJldHVybiB0aGlzLl9pa0xlZnRDb250cm9sbGVyOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSaWdodEZvb3RDb250cm9sbGVyKCk6IEJBQllMT04uQm9uZUlLQ29udHJvbGxlciB7IHJldHVybiB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlcjsgfVxuICAgICAgICBwdWJsaWMgYXR0YWNoQm9uZUNvbnRyb2xsZXJzKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheUhhbmRsZXM6IGJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwiZGlzcGxheUhhbmRsZXNcIik7XG4gICAgICAgICAgICBjb25zdCBhYnN0cmFjdFNraW5NZXNoRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhYnN0cmFjdFNraW5NZXNoXCIpO1xuICAgICAgICAgICAgaWYgKGFic3RyYWN0U2tpbk1lc2hEYXRhICE9IG51bGwpIHRoaXMuYWJzdHJhY3RTa2luTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGFic3RyYWN0U2tpbk1lc2hEYXRhLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaDtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RCb25lVHJhbnNmb3JtRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb290Qm9uZVRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGlmIChyb290Qm9uZVRyYW5zZm9ybURhdGEgIT0gbnVsbCkgdGhpcy5yb290Qm9uZVRyYW5zZm9ybSA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJvb3RCb25lVHJhbnNmb3JtRGF0YS5uYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5FeGFjdE1hdGNoLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgbGVmdEZvb3RUcmFuc2Zvcm1EYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290VHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRGb290VHJhbnNmb3JtRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290VHJhbnNmb3JtID0gdGhpcy5nZXRDaGlsZE5vZGUobGVmdEZvb3RUcmFuc2Zvcm1EYXRhLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKTtcblxuICAgICAgICAgICAgLy9jb25zdCBsZWZ0Rm9vdFBvc2l0aW9uRGF0YTpCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdFBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgLy9pZiAobGVmdEZvb3RQb3NpdGlvbkRhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdFBvc2l0aW9uLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGxlZnRGb290UG9zaXRpb25EYXRhKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxlZnRQb2xlSGFuZGxlRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RQb2xlUG9zXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRQb2xlSGFuZGxlRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290UG9sZVBvcy5jb3B5RnJvbShCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhsZWZ0UG9sZUhhbmRsZURhdGEpKTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRCZW5kQXhpc0RhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290QmVuZEF4aXNcIik7XG4gICAgICAgICAgICBpZiAobGVmdEJlbmRBeGlzRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290QmVuZEF4aXMuY29weUZyb20oQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMobGVmdEJlbmRBeGlzRGF0YSkpO1xuICAgICAgICAgICAgdGhpcy5sZWZ0Rm9vdFBvbGVBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdFBvbGVBbmdsZVwiLCB0aGlzLmxlZnRGb290UG9sZUFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubGVmdEZvb3RNYXhBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdE1heEFuZ2xlXCIsIHRoaXMubGVmdEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcmlnaHRGb290VHJhbnNmb3JtRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RUcmFuc2Zvcm1cIik7XG4gICAgICAgICAgICBpZiAocmlnaHRGb290VHJhbnNmb3JtRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJpZ2h0Rm9vdFRyYW5zZm9ybURhdGEubmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuXG4gICAgICAgICAgICAvL2NvbnN0IHJpZ2h0Rm9vdFBvc2l0aW9uRGF0YTpCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RQb3NpdGlvblwiKTtcbiAgICAgICAgICAgIC8vaWYgKHJpZ2h0Rm9vdFBvc2l0aW9uRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdFBvc2l0aW9uLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHJpZ2h0Rm9vdFBvc2l0aW9uRGF0YSkpO1xuXG4gICAgICAgICAgICBjb25zdCByaWdodFBvbGVIYW5kbGVEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RQb2xlUG9zXCIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0UG9sZUhhbmRsZURhdGEgIT0gbnVsbCkgdGhpcy5yaWdodEZvb3RQb2xlUG9zLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHJpZ2h0UG9sZUhhbmRsZURhdGEpKTtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0QmVuZEF4aXNEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RCZW5kQXhpc1wiKTtcbiAgICAgICAgICAgIGlmIChyaWdodEJlbmRBeGlzRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdEJlbmRBeGlzLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHJpZ2h0QmVuZEF4aXNEYXRhKSk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0Rm9vdFBvbGVBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RQb2xlQW5nbGVcIiwgdGhpcy5yaWdodEZvb3RQb2xlQW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5yaWdodEZvb3RNYXhBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RNYXhBbmdsZVwiLCB0aGlzLnJpZ2h0Rm9vdE1heEFuZ2xlKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5hYnN0cmFjdFNraW5NZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWF0ZXJpYWxOYW1lOiBzdHJpbmcgPSBcIk1fVEFSR0VUX01FU0hcIjtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TWF0ZXJpYWw6IEJBQllMT04uTWF0ZXJpYWwgPSB0aGlzLnNjZW5lLmdldE1hdGVyaWFsQnlOYW1lKG1hdGVyaWFsTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldE1hdGVyaWFsID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKFwiTV9UQVJHRVRfTUVTSFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgKDxCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWw+dGFyZ2V0TWF0ZXJpYWwpLmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLjAsIDAuNSwgMC4yNSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgTGVmdCBGb290IENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxlZnRGb290VHJhbnNmb3JtICE9IG51bGwgJiYgKDxhbnk+dGhpcy5sZWZ0Rm9vdFRyYW5zZm9ybSkuX2xpbmtlZEJvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRGb290VGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkxlZnRGb290VGFyZ2V0XCIsIHsgd2lkdGg6IDAuMSwgaGVpZ2h0OiAwLjEsIGRlcHRoOiAwLjEgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuX2lrTGVmdEZvb3RUYXJnZXQucG9zaXRpb24uY29weUZyb20odGhpcy5sZWZ0Rm9vdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0Rm9vdFRhcmdldC5tYXRlcmlhbCA9IHRhcmdldE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0Rm9vdFRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkxlZnRGb290UG9sZVwiLCB7IGRpYW1ldGVyOiAwLjE1IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmxlZnRGb290UG9sZVBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQuaXNWaXNpYmxlID0gZGlzcGxheUhhbmRsZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5faWtMZWZ0Q29udHJvbGxlciA9IG5ldyBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIodGhpcy5hYnN0cmFjdFNraW5NZXNoLCAoPGFueT50aGlzLmxlZnRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSwge3RhcmdldE1lc2g6dGhpcy5faWtMZWZ0Rm9vdFRhcmdldCwgcG9sZVRhcmdldE1lc2g6dGhpcy5faWtMZWZ0UG9sZVRhcmdldCwgcG9sZUFuZ2xlOkJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMubGVmdEZvb3RQb2xlQW5nbGUpLCBiZW5kQXhpczp0aGlzLmxlZnRGb290QmVuZEF4aXN9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5faWtMZWZ0Q29udHJvbGxlci5tYXhBbmdsZSA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMubGVmdEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgUmlnaHQgRm9vdCBDb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yaWdodEZvb3RUcmFuc2Zvcm0gIT0gbnVsbCAmJiAoPGFueT50aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSkuX2xpbmtlZEJvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SaWdodEZvb3RUYXJnZXRcIiwgeyB3aWR0aDogMC4xLCBoZWlnaHQ6IDAuMSwgZGVwdGg6IDAuMSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodEZvb3RUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuX2lrUmlnaHRGb290VGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucmlnaHRGb290UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtSaWdodEZvb3RUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodEZvb3RUYXJnZXQubWF0ZXJpYWwgPSB0YXJnZXRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0LmlzVmlzaWJsZSA9IGRpc3BsYXlIYW5kbGVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJpZ2h0Rm9vdFBvbGVcIiwgeyBkaWFtZXRlcjogMC4xNSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodFBvbGVUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnJpZ2h0Rm9vdFBvbGVQb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtSaWdodFBvbGVUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodFBvbGVUYXJnZXQuaXNWaXNpYmxlID0gZGlzcGxheUhhbmRsZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5faWtSaWdodENvbnRyb2xsZXIgPSBuZXcgQkFCWUxPTi5Cb25lSUtDb250cm9sbGVyKHRoaXMuYWJzdHJhY3RTa2luTWVzaCwgKDxhbnk+dGhpcy5yaWdodEZvb3RUcmFuc2Zvcm0pLl9saW5rZWRCb25lLCB7dGFyZ2V0TWVzaDp0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldCwgcG9sZVRhcmdldE1lc2g6dGhpcy5faWtSaWdodFBvbGVUYXJnZXQsIHBvbGVBbmdsZTpCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLnJpZ2h0Rm9vdFBvbGVBbmdsZSksIGJlbmRBeGlzOnRoaXMucmlnaHRGb290QmVuZEF4aXN9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5faWtSaWdodENvbnRyb2xsZXIubWF4QW5nbGUgPSBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLnJpZ2h0Rm9vdE1heEFuZ2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBhdHRhY2hBbmltYXRpb25Db250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLm9uQW5pbWF0aW9uRW5kT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJBbmltYXRpb24gRW5kOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEFjdGlvbkFuaW1hdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLm9uQW5pbWF0aW9uVXBkYXRlT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZS5pa0ZyYW1lRW5hYmxlZCgpID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBVcGRhdGUgdGFyZ2V0IG1lc2ggcG9zaXRpb24gV2hlbiBHcm91bmRlZCAtIFVzZSBSYXljYXN0IC0gPz8/XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa0xlZnRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRDb250cm9sbGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrUmlnaHRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIGVuYWJsZUNoYXJhY3RlckNvbnRyb2xsZXIoc3RhdGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBbGxvd2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHcmF2aXR5RmFjdG9yKHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldENvbGxpc2lvblN0YXRlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50QWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQbGF5ZXJKdW1waW5nU3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdyYXZpdHlGYWN0b3IoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRDb2xsaXNpb25TdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnVwZGF0ZVBvc2l0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHJlc2V0UGxheWVyUm90YXRpb24oKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb25FdWxlcnMpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ID0gdGhpcy5yb3RhdGlvbkV1bGVycy54O1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55ID0gdGhpcy5yb3RhdGlvbkV1bGVycy55O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5taW5KdW1wVGltZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyUmlzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuanVtcCgwKTsgLy8gTm90ZTogWmVybyBKdW1wIFNwZWVkXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBDb250cm9sbGVyIFdvcmtlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGF3YWtlUGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImdyYXZpdHlNdWx0aXBsaWVyXCIsIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMudmVydGljYWxTdGVwU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwic3RlcFVwVmVsb2NpdHlcIiwgdGhpcy52ZXJ0aWNhbFN0ZXBTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLm1pblN0ZXBVcEhlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5TdGVwSGVpZ2h0XCIsIHRoaXMubWluU3RlcFVwSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucmlnaWRCb2R5TWFzcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdpZEJvZHlNYXNzXCIsIHRoaXMucmlnaWRCb2R5TWFzcyk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZUNhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb3RhdGVDYW1lcmFcIiwgdGhpcy5yb3RhdGVDYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZVdoZWVsID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdXNlV2hlZWxcIiwgdGhpcy5tb3VzZVdoZWVsKTtcbiAgICAgICAgICAgIHRoaXMucmF5Q2xpbWJMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5Q2xpbWJMZW5ndGhcIiwgdGhpcy5yYXlDbGltYkxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnJheUNsaW1iT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUNsaW1iT2Zmc2V0XCIsIHRoaXMucmF5Q2xpbWJPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5yYXlIZWlnaHRMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5SGVpZ2h0TGVuZ3RoXCIsIHRoaXMucmF5SGVpZ2h0TGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucmF5SGVpZ2h0T2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUhlaWdodE9mZnNldFwiLCB0aGlzLnJheUhlaWdodE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLm1heEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEFuZ2xlXCIsIHRoaXMubWF4QW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5sYW5kaW5nRXBzaWxvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsYW5kaW5nRXBzaWxvblwiLCB0aGlzLmxhbmRpbmdFcHNpbG9uKTtcbiAgICAgICAgICAgIHRoaXMubWluRmFsbFZlbG9jaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pbkZhbGxWZWxvY2l0eVwiLCB0aGlzLm1pbkZhbGxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLmFpcmJvcm5UaW1lb3V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImFpcmJvcm5UaW1lb3V0XCIsIHRoaXMuYWlyYm9yblRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5yb290TW90aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvb3RNb3Rpb25cIiwgdGhpcy5yb290TW90aW9uKTtcbiAgICAgICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdmVTcGVlZFwiLCB0aGlzLm1vdmVTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLndhbGtTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3YWxrU3BlZWRcIiwgdGhpcy53YWxrU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5sb29rU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG9va1NwZWVkXCIsIHRoaXMubG9va1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuanVtcFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImp1bXBTcGVlZFwiLCB0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmp1bXBEZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJqdW1wRGVsYXlcIiwgdGhpcy5qdW1wRGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5leWVzSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImV5ZXNIZWlnaHRcIiwgdGhpcy5leWVzSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucGl2b3RIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwicGl2b3RIZWlnaHRcIiwgdGhpcy5waXZvdEhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heERpc3RhbmNlXCIsIHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzY3JvbGxTcGVlZFwiLCB0aGlzLnNjcm9sbFNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudG9wTG9va0xpbWl0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInRvcExvb2tMaW1pdFwiLCB0aGlzLnRvcExvb2tMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLmRvd25Mb29rTGltaXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZG93bkxvb2tMaW1pdFwiLCB0aGlzLmRvd25Mb29rTGltaXQpO1xuICAgICAgICAgICAgdGhpcy5sb3dUdXJuU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG93VHVyblNwZWVkXCIsIHRoaXMubG93VHVyblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaFR1cm5TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoVHVyblNwZWVkXCIsIHRoaXMuaGlnaFR1cm5TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUlucHV0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImVuYWJsZUlucHV0XCIsIHRoaXMuZW5hYmxlSW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJOdW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwicGxheWVyTnVtYmVyXCIsIHRoaXMucGxheWVyTnVtYmVyKVxuICAgICAgICAgICAgdGhpcy5hdHRhY2hDYW1lcmEgPSB0aGlzLmdldFByb3BlcnR5KFwiYXR0YWNoQ2FtZXJhXCIsIHRoaXMuYXR0YWNoQ2FtZXJhKTtcbiAgICAgICAgICAgIHRoaXMuZnJlZUxvb2tpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJlZUxvb2tpbmdcIiwgdGhpcy5mcmVlTG9va2luZyk7XG4gICAgICAgICAgICB0aGlzLnJ1bktleVJlcXVpcmVkID0gdGhpcy5nZXRQcm9wZXJ0eShcInJ1bktleVJlcXVpcmVkXCIsIHRoaXMucnVuS2V5UmVxdWlyZWQpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFDb2xsaXNpb25zID0gdGhpcy5nZXRQcm9wZXJ0eShcImNhbWVyYUNvbGxpc2lvbnNcIiwgdGhpcy5jYW1lcmFDb2xsaXNpb25zKVxuICAgICAgICAgICAgdGhpcy5jYW1lcmFTbW9vdGhpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhU21vb3RoaW5nXCIsIHRoaXMuY2FtZXJhU21vb3RoaW5nKVxuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZUZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkaXN0YW5jZUZhY3RvclwiLCB0aGlzLmRpc3RhbmNlRmFjdG9yKVxuICAgICAgICAgICAgdGhpcy5taW5pbXVtRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWluaW11bURpc3RhbmNlXCIsIHRoaXMubWluaW11bURpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoSW5wdXRUaW1lID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aElucHV0VGltZVwiLCB0aGlzLnNtb290aElucHV0VGltZSk7XG4gICAgICAgICAgICB0aGlzLnNtb290aElucHV0VmVjdG9ycyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhJbnB1dFZlY3RvcnNcIiwgdGhpcy5zbW9vdGhJbnB1dFZlY3RvcnMpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhBY2NlbGVyYXRpb24gPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoQWNjZWxlcmF0aW9uXCIsIHRoaXMuc21vb3RoQWNjZWxlcmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNjZWxlcmF0aW9uU3BlZWRcIiwgdGhpcy5hY2NlbGVyYXRpb25TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmRlY2VsZXJhdGlvblNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImRlY2VsZXJhdGlvblNwZWVkXCIsIHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5jbGltYlZvbHVtZVRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjbGltYlZvbHVtZVRhZ1wiLCB0aGlzLmNsaW1iVm9sdW1lVGFnKTtcbiAgICAgICAgICAgIHRoaXMudmF1bHRWb2x1bWVUYWcgPSB0aGlzLmdldFByb3BlcnR5KFwidmF1bHRWb2x1bWVUYWdcIiwgdGhpcy52YXVsdFZvbHVtZVRhZyk7XG4gICAgICAgICAgICB0aGlzLnVzZUNsaW1iU3lzdGVtID0gdGhpcy5nZXRQcm9wZXJ0eShcInVzZUNsaW1iU3lzdGVtXCIsIHRoaXMudXNlQ2xpbWJTeXN0ZW0pO1xuICAgICAgICAgICAgdGhpcy5tYXhIZWlnaHRSYW5nZXMgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4SGVpZ2h0UmFuZ2VzXCIsIHRoaXMubWF4SGVpZ2h0UmFuZ2VzKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoTW90aW9uU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoTW90aW9uU3BlZWRcIiwgdGhpcy5zbW9vdGhNb3Rpb25TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLnNtb290aENoYW5nZVJhdGUgPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoQ2hhbmdlUmF0ZVwiLCB0aGlzLnNtb290aENoYW5nZVJhdGUpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ1cGRhdGVTdGF0ZVBhcmFtc1wiLCB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMgPSB0aGlzLmdldFByb3BlcnR5KFwiYW5pbWF0aW9uU3RhdGVQYXJhbXNcIiwgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyk7XG4gICAgICAgICAgICB0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb3N0TmV0d29ya0F0dHJpYnNcIiwgdGhpcy5wb3N0TmV0d29ya0F0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdGhpcy5zaG93RGVidWdSYXljYXN0cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaG93RGVidWdSYXljYXN0c1wiLCB0aGlzLnNob3dEZWJ1Z1JheWNhc3RzKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBhcnJvd0tleVJvdGF0aW9uOiBib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcImFycm93S2V5Um90YXRpb25cIik7XG4gICAgICAgICAgICBpZiAoYXJyb3dLZXlSb3RhdGlvbiA9PT0gdHJ1ZSkgQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dE9wdGlvbnMuVXNlQXJyb3dLZXlSb3RhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgYm9vbVBvc2l0aW9uRGF0YTogYW55ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvb21Qb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChib29tUG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMuYm9vbVBvc2l0aW9uID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMoYm9vbVBvc2l0aW9uRGF0YSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qgc3BoZXJlUmFkaXVzOiBudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwic3BoZXJlUmFkaXVzXCIsIDAuNjUpXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJheWNhc3RTaGFwZSA9IG5ldyBCQUJZTE9OLlBoeXNpY3NTaGFwZVNwaGVyZShuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApLCBzcGhlcmVSYWRpdXMsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuYWJzdHJhY3RNZXNoID0gdGhpcy5nZXRBYnN0cmFjdE1lc2goKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5TaG93RGVidWdDb2xsaWRlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXJWaXNpYmlsaXR5ID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Db2xsaWRlclZpc2liaWxpdHkoKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXJSZW5kZXJHcm91cCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuQ29sbGlkZXJSZW5kZXJHcm91cCgpO1xuICAgICAgICAgICAgdGhpcy5yZXNldFBsYXllclJvdGF0aW9uKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdCA9IG5ldyBCQUJZTE9OLk1lc2godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNhbWVyYVBpdm90XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QuaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dEZWJ1Z0NvbGxpZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RQaXZvdDogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJUZXN0UGl2b3RcIiwgeyB3aWR0aDogMC4yNSwgaGVpZ2h0OiAwLjI1LCBkZXB0aDogMC43NSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB0ZXN0UGl2b3QucGFyZW50ID0gdGhpcy5jYW1lcmFQaXZvdDtcbiAgICAgICAgICAgICAgICB0ZXN0UGl2b3QucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC52aXNpYmlsaXR5ID0gMS4wO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5yZW5kZXJpbmdHcm91cElkID0gdGhpcy5jb2xsaWRlclJlbmRlckdyb3VwO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0ZXN0UGl2b3QuaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ0NvbnRyb2xsZXI6IEJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlclwiKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBTZXR1cCBJSyBCb25lIENvbnRyb2xsZXJzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5hdHRhY2hCb25lQ29udHJvbGxlcnMoKTtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN0YXJ0UGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBTdXBwb3J0IER5bmFtaWMgUGxheWVyTnVtYmVyIENoYW5nZSAtID8/P1xuICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNoQ2FtZXJhID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hQbGF5ZXJDYW1lcmEodGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQWdlbnQgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5OYXZpZ2F0aW9uQWdlbnRcIik7XG4gICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJSYWRpdXMgPSB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuZ2V0QXZhdGFyUmFkaXVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNob3dSYXljYXN0cyA9IHRoaXMuc2hvd0RlYnVnUmF5Y2FzdHM7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldFJpZ2lkQm9keU1hc3ModGhpcy5yaWdpZEJvZHlNYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R3Jhdml0eUZhY3Rvcih0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldFZlcnRpY2FsU3RlcFNwZWVkKHRoaXMudmVydGljYWxTdGVwU3BlZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRNaW5pbXVtU3RlcEhlaWdodCh0aGlzLm1pblN0ZXBVcEhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLm9uVXBkYXRlUG9zaXRpb25PYnNlcnZhYmxlLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVyUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDYW1lcmFDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiU3RhcnRpbmcgcGxheWVyIGNvbnRyb2xsZXIgaW4gcGh5c2ljIGVuZ2luZSBtb2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiTm8gY2hhcmFjdGVyIGNvbnRyb2xsZXIgZm91bmQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHBsYXllciB3aW5kb3cgc3RhdGUgdmFyaWFibGVcbiAgICAgICAgICAgIC8vIFNNLlNldFdpbmRvd1N0YXRlKFwicGxheWVyXCIsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVQbGF5ZXJQb3NpdGlvbigpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uUGxheWVyUG9zaXRpb25PYnNlcnZhYmxlICYmIHRoaXMub25QbGF5ZXJQb3NpdGlvbk9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVyUG9zaXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZVBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5tX2FjdHVhbFZlbG9jaXR5ID0gdGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLm1fbGFzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5jb3B5RnJvbSh0aGlzLm1fYWN0dWFsVmVsb2NpdHkpO1xuICAgICAgICAgICAgdGhpcy5tX3NjYWxlZFZlbG9jaXR5ID0gKHRoaXMubV9saW5lYXJWZWxvY2l0eS5sZW5ndGgoKSAvIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eS5zY2FsZUluUGxhY2UodGhpcy5tX3NjYWxlZFZlbG9jaXR5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckRyYXdWZWxvY2l0eSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuY29weUZyb20odGhpcy5tX2xpbmVhclZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuc2NhbGVJblBsYWNlKHRoaXMucGxheWVyRHJhd1ZlbG9jaXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubV9sYXN0UG9zaXRpb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbik7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBGSVggVEhJUyBTSElUXG4gICAgICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZVBhcmFtcyA9PT0gdHJ1ZSAmJiB0aGlzLmFuaW1hdGlvblN0YXRlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaEFuaW1hdGlvbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5taW5KdW1wVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5KdW1wVGltZXIgLT0gdGhpcy5kZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWluSnVtcFRpbWVyIDwgMCkgdGhpcy5taW5KdW1wVGltZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gdHJ1ZSAmJiB0aGlzLmRlbGF5SnVtcFRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlKdW1wVGltZXIgLT0gdGhpcy5kZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsYXlKdW1wVGltZXIgPCAwKSB0aGlzLmRlbGF5SnVtcFRpbWVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmNhblBsYXllckp1bXAgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25BY3Rpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uVXBkYXRlQWN0aW9uT2JzZXJ2YWJsZSAmJiB0aGlzLm9uVXBkYXRlQWN0aW9uT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVXBkYXRlQWN0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVJbnB1dCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuZnJlZUNhbWVyYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTm8gcGxheWVyIGZyZWUgY2FtZXJhLCBNb3ZlbWVudCBkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgdXNlcklucHV0WDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuSG9yaXpvbnRhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdXNlcklucHV0WjogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuVmVydGljYWwsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJNb3VzZVg6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRBeGlzLk1vdXNlWCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdXNlck1vdXNlWTogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuTW91c2VZLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhBY2NlbGVyYXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBTTU9PVEggVVNFUiBJTlBVVCBYXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJJbnB1dFggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYICs9ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPiAxKSB0aGlzLnBsYXllcklucHV0WCA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VySW5wdXRYIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCAtPSAodGhpcy5hY2NlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYIDwgLTEpIHRoaXMucGxheWVySW5wdXRYID0gLTE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggKz0gKHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPiAwKSB0aGlzLnBsYXllcklucHV0WCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCAtPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA8IDApIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTTU9PVEggVVNFUiBJTlBVVCBaXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJJbnB1dFogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaICs9ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPiAxKSB0aGlzLnBsYXllcklucHV0WiA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VySW5wdXRaIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiAtPSAodGhpcy5hY2NlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaIDwgLTEpIHRoaXMucGxheWVySW5wdXRaID0gLTE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogKz0gKHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPiAwKSB0aGlzLnBsYXllcklucHV0WiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiAtPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA8IDApIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUkFXIFVTRVIgSU5QVVQgWFpcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCA9IHVzZXJJbnB1dFg7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogPSB1c2VySW5wdXRaO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMucGxheWVyTW91c2VYID0gdXNlck1vdXNlWDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyTW91c2VZID0gdXNlck1vdXNlWTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBBbmltYXRpb24gQWN0aW9uXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSB0cnVlICYmIHRoaXMuaXNBY3Rpb25JbnRlcnJ1cHRhYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYICE9PSAwIHx8IHRoaXMucGxheWVySW5wdXRaICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJBbmltYXRpb24gSW50ZXJydXB0OiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0QWN0aW9uQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhblBsYXllckp1bXAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQbGF5ZXIgSW5wdXRcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5vblBsYXllcklucHV0T2JzZXJ2YWJsZSAmJiB0aGlzLm9uUGxheWVySW5wdXRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBsYXllcklucHV0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8uLlxuICAgICAgICAgICAgLy8gVXBkYXRlIElucHV0IE1hZ25pdHVkZVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvci5zZXQodGhpcy5wbGF5ZXJJbnB1dFgsIDAsIHRoaXMucGxheWVySW5wdXRaKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3IubGVuZ3RoKCkgPiAxLjApIHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvci5ub3JtYWxpemUoKTsgLy8gTm90ZTogTm9ybWFsaXplIEluIFBsYWNlXG4gICAgICAgICAgICB0aGlzLmlucHV0TWFnbml0dWRlID0gdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLmxlbmd0aCgpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBNb3ZlIERpcmVjdGlvblxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IG1vdmVGb3J3YXJkOiBib29sZWFuID0gKHRoaXMucGxheWVySW5wdXRaID4gMCk7XG4gICAgICAgICAgICBjb25zdCBtb3ZlQmFja3dhcmQ6IGJvb2xlYW4gPSAodGhpcy5wbGF5ZXJJbnB1dFogPCAwKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVSaWdodDogYm9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WCA+IDApO1xuICAgICAgICAgICAgY29uc3QgbW92ZUxlZnQ6IGJvb2xlYW4gPSAodGhpcy5wbGF5ZXJJbnB1dFggPCAwKTtcbiAgICAgICAgICAgIGlmIChtb3ZlRm9yd2FyZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlTGVmdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uRm9yd2FyZExlZnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlUmlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkZvcndhcmRSaWdodDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uRm9yd2FyZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVCYWNrd2FyZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlTGVmdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uQmFja3dhcmRMZWZ0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZVJpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5CYWNrd2FyZFJpZ2h0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5CYWNrd2FyZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLlN0cmFmaW5nTGVmdDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZVJpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLlN0cmFmaW5nUmlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdGF0aW9uYXJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQcmUgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZSAmJiB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEZvcndhcmQgQ2FtZXJhIFZlY3RvclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIHRoaXMuY2FtZXJhRm9yd2FyZFZlY3Rvci5jb3B5RnJvbSh0aGlzLmNhbWVyYVBpdm90LmZvcndhcmQpO1xuICAgICAgICAgICAgLy8gdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yID0gdGhpcy5zY2VuZS5hY3RpdmVDYW1lcmEuZ2V0Rm9yd2FyZFJheSgpLmRpcmVjdGlvbjtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRm9yd2FyZFZlY3RvciA9IHRoaXMuZnJlZUNhbWVyYS5nZXRGb3J3YXJkUmF5KCkuZGlyZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLnkgPSAwO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLnNjYWxlVG9SZWYodGhpcy5wbGF5ZXJJbnB1dFosIHRoaXMuZGVzaXJlZEZvcndhcmRWZWN0b3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBSaWdodCBDYW1lcmEgVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5jb3B5RnJvbSh0aGlzLmNhbWVyYVBpdm90LnJpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3IgPSBCQUJZTE9OLlZlY3RvcjMuQ3Jvc3ModGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLCBCQUJZTE9OLlZlY3RvcjMuVXAoKSk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLnkgPSAwO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3Iuc2NhbGVUb1JlZigtdGhpcy5wbGF5ZXJJbnB1dFgsIHRoaXMuZGVzaXJlZFJpZ2h0VmVjdG9yKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIFJvdGF0aW9uIFZlY3RvclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSArPSAodGhpcy5wbGF5ZXJNb3VzZVggKiB0aGlzLmxvb2tTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCArPSAoLXRoaXMucGxheWVyTW91c2VZICogdGhpcy5sb29rU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnggPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLngsIC1CQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLmRvd25Mb29rTGltaXQpLCBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLnRvcExvb2tMaW1pdCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRBbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuUGxheWVySnVtcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBCdXR0b24gUHJlc3Nlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaXNSdW5QcmVzc2VkID0gKEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkUnVuKSB8fCBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmJ1dHRvblJ1bikpO1xuICAgICAgICAgICAgdGhpcy5pc0p1bXBQcmVzc2VkID0gKEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkSnVtcCkgfHwgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5idXR0b25KdW1wKSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBNb3ZlbWVudCBWZWxvY2l0eVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRTcGVlZCA9ICh0aGlzLmlucHV0TWFnbml0dWRlICogdGhpcy5tb3ZlU3BlZWQgKiB0aGlzLnNwZWVkRmFjdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bktleVJlcXVpcmVkID09PSB0cnVlICYmIHRoaXMuaXNSdW5QcmVzc2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRTcGVlZCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMubW92ZW1lbnRTcGVlZCwgMCwgdGhpcy53YWxrU3BlZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNtb290aCBCbGVuZGVkIEFuaW1hdGlvbiBNb3ZlbWVudHNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhNb3Rpb25TcGVlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3BlZWQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuYW5pbWF0aW9uU3BlZWQsIHRoaXMubW92ZW1lbnRTcGVlZCwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5zbW9vdGhDaGFuZ2VSYXRlKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwLjAxKSB0aGlzLmFuaW1hdGlvblNwZWVkID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IHRoaXMubW92ZW1lbnRTcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBGb3J3YXJkIFRoaXJkIFBlcnNvbiBWaWV3IC0gUGxheWVyIExvb2sgUm90YXRpb25cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmRlc2lyZWRGb3J3YXJkVmVjdG9yLmFkZFRvUmVmKHRoaXMuZGVzaXJlZFJpZ2h0VmVjdG9yLCB0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJMb29rUm90YXRpb24uY29weUZyb20odGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eS5zY2FsZUluUGxhY2UodGhpcy5tb3ZlbWVudFNwZWVkKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBBbHdheXMgRnJlZSBMb29raW5nIC0gTGVycCBQbGF5ZXIgUm90YXRpb24gKFR1cm4gQW5kIEJ1cm4pXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMubGFzdFJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudEFsbG93ZWQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0TWFnbml0dWRlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGFyZ2V0IHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBwbGF5ZXIncyBjdXJyZW50IHBvc2l0aW9uIGFuZCB0aGUgY2FtZXJhJ3MgZm9yd2FyZCBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHRhcmdldFBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkKHRoaXMucGxheWVyTG9va1JvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlIHBsYXllciB0byBmYWNlIHRoZSB0YXJnZXQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy50cmFuc2Zvcm0ubG9va0F0KHRhcmdldFBvc2l0aW9uLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gU05BUCBUTzogQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZih0aGlzLnBsYXllckxvb2tSb3RhdGlvbiwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZih0aGlzLnBsYXllckxvb2tSb3RhdGlvbiwgdGhpcy5wbGF5ZXJSb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3J3YXJkVHVyblJhdGlvOiBudW1iZXIgPSAodGhpcy5wbGF5ZXJMb29rUm90YXRpb24ubGVuZ3RoKCkgLyB0aGlzLm1vdmVTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRUdXJuU3BlZWQ6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5oaWdoVHVyblNwZWVkLCB0aGlzLmxvd1R1cm5TcGVlZCwgZm9yd2FyZFR1cm5SYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy5wbGF5ZXJSb3RhdGlvblF1YXRlcm5pb24sIChmb3J3YXJkVHVyblNwZWVkICogdGhpcy5kZWx0YVRpbWUpLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RSb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPSB0aGlzLmdldFZlcnRpY2FsVmVsb2NpdHkoKTtcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRWZWxvY2l0eS5jb3B5RnJvbSh0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBDaGFyYWN0ZXIgQ29udHJvbGxlclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaGFzR3JvdW5kZWRDb250YWN0ID0gKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSA/IHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5pc0dyb3VuZGVkKCkgOiBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclNsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9ICh0aGlzLm5hdmlnYXRpb25BZ2VudCAhPSBudWxsICYmIHRoaXMubmF2aWdhdGlvbkFnZW50LmlzTmF2aWdhdGluZygpKTtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkFuZ3VsYXJTcGVlZCA9ICh0aGlzLm5hdmlnYXRpb25BZ2VudCAhPSBudWxsKSA/IHRoaXMubmF2aWdhdGlvbkFnZW50LmFuZ3VsYXJTcGVlZCA6IDA7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNoYXJhY3RlckNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgQW5pbWF0aW9uIFN0YXRlIFBhcmFtc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgdGhpcy51cGRhdGVTdGF0ZVBhcmFtcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVBbmltYXRpb25TdGF0ZVBhcmFtcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0SW50ZWdlcih0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdmVEaXJlY3Rpb24sIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhlaWdodElucHV0LCB0aGlzLnZlcnRpY2FsVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmp1bXBGcmFtZSwgdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuanVtcFN0YXRlLCB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRJbnRlZ2VyKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuYWN0aW9uU3RhdGUsIHRoaXMucGVyZm9ybUFjdGlvbk51bWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuZmFsbGluZ1N0YXRlLCB0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc2xpZGluZ1N0YXRlLCB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuZ3JvdW5kZWRTdGF0ZSwgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhJbnB1dFRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNtb290aElucHV0VmVjdG9ycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFgsIHRoaXMuc21vb3RoSW5wdXRUaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFosIHRoaXMuc21vb3RoSW5wdXRUaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIHRoaXMucGxheWVyTW91c2VYLCB0aGlzLnNtb290aElucHV0VGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCB0aGlzLnBsYXllck1vdXNlWSwgdGhpcy5zbW9vdGhJbnB1dFRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIHRoaXMucGxheWVySW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCB0aGlzLnBsYXllcklucHV0Wik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIHRoaXMucGxheWVyTW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5pbnB1dE1hZ25pdHVkZSwgdGhpcy5pbnB1dE1hZ25pdHVkZSwgdGhpcy5zbW9vdGhJbnB1dFRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNwZWVkSW5wdXQsIHRoaXMuYW5pbWF0aW9uU3BlZWQsIHRoaXMuc21vb3RoSW5wdXRUaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFopO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIHRoaXMucGxheWVyTW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCB0aGlzLnBsYXllck1vdXNlWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5pbnB1dE1hZ25pdHVkZSwgdGhpcy5pbnB1dE1hZ25pdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCB0aGlzLmFuaW1hdGlvblNwZWVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBVcGRhdGUgU3BlZWQgSW5wdXQgV2l0aCBOYXZpZ2F0aW9uIE1hZ25pdHVkZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgdGhpcy5pbnB1dE1hZ25pdHVkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQW5pbWF0aW9uU3RhdGVPYnNlcnZhYmxlICYmIHRoaXMub25BbmltYXRpb25TdGF0ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvblN0YXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBQb3N0IE5ldHdvcmsgQXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyA9PSB0cnVlICYmIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLkhhc05ldHdvcmtFbnRpdHkodGhpcy50cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAwLCB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24pOyAgICAgICAgICAgICAgICAgICAgLy8gRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxLCB0aGlzLmlucHV0TWFnbml0dWRlKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFnbml0dWRlXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAyLCB0aGlzLnBsYXllcklucHV0WCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG9yaXpvbmFsXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAzLCB0aGlzLnBsYXllcklucHV0Wik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVydGljYWxcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDQsIHRoaXMucGxheWVyTW91c2VYKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3VzZVhcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDUsIHRoaXMucGxheWVyTW91c2VZKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3VzZVlcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDYsIHRoaXMudmVydGljYWxWZWxvY2l0eSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBWZWxvY2l0eVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNywgdGhpcy5hbmltYXRpb25TcGVlZCk7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmVtZW50IFNwZWVkXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA4LCB0aGlzLnBlcmZvcm1BY3Rpb25OdW1iZXIpOyAgICAgICAgICAgICAgICAgICAgLy8gQWN0aW9uIFN0YXRlXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA5LCAoKHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUpID8gMSA6IDApKTsgICAgICAgLy8gSnVtcCBGcmFtZVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTAsICgodGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcpID8gMSA6IDApKTsgICAgICAgIC8vIElzIEp1bXBpbmdcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDExLCAoKHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nKSA/IDEgOiAwKSk7ICAgICAgICAvLyBJcyBGYWxsaW5nXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMiwgKCh0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgU2xpZGluZ1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTMsICgodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkKSA/IDEgOiAwKSk7ICAgICAgIC8vIElzIEdyb3VuZGVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBvc3QgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUgJiYgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGFmdGVyUGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZJWE1FOiBFeHRyYSBSYXljYXN0IERpc3RhbmNlIFdoZW4gT24gVmFyaW91cyBTbG9wZSBBbmdsZXMgLSA/Pz9cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDaGFyYWN0ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclJpc2luZyA9ICh0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9PSB0cnVlICYmIHRoaXMudmVydGljYWxWZWxvY2l0eSA+IDApO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID09IHRydWUgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IDwgMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9IGZhbHNlOyAgICAvLyBJR05PUkUgQ09OVEFDVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNHcm91bmRlZENvbnRhY3QgPT09IHRydWUgJiYgdGhpcy5taW5KdW1wVGltZXIgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9IGZhbHNlOyAgICAvLyBOT1QgU0xJRElOR1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPSB0cnVlOyAgICAvLyBJUyBHUk9VTkRFRFxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gdHJ1ZSkgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZyA9ICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IGZhbHNlICYmIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nID09IGZhbHNlICYmIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID09IGZhbHNlICYmIHRoaXMudmVydGljYWxWZWxvY2l0eSA8IDAgJiYgTWF0aC5hYnModGhpcy52ZXJ0aWNhbFZlbG9jaXR5KSA+PSB0aGlzLm1pbkZhbGxWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nID09PSB0cnVlICYmIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyRmFsbFRyaWdnZXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmp1bXBEZWxheSA+IDApIHRoaXMuZGVsYXlKdW1wVGltZXIgPSB0aGlzLmp1bXBEZWxheTsgLy8gRFVOTk86IE1BWUJFIFVTRSBTRVBFUkFURSBGQUxMSU5HIERFTEFZIFRJTUVSIC0gPz8/XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUpIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gdmFyIG1zZ3ggPSAoXCJHcm91bmRlZDogXCIgKyB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgKyBcIiAtPiBKdW1waW5nOiBcIiArIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nICsgXCIgLT4gUmlzaW5nOiBcIiArIHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgKyBcIiAtPiBMYW5kaW5nOiBcIiArIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nICsgXCIgLT4gVmVsb2NpdHk6IFwiICsgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhtc2d4KTtcbiAgICAgICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKG1zZ3gpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENsaW1iaW5nIFN5c3RlbVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlQ2xpbWJTeXN0ZW0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0UGh5c2ljc0NsaW1iaW5nVm9sdW1lUmF5KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdFBoeXNpY3NIZWlnaHRDaGVja1ZvbHVtZVJheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgQ2hhcmFjdGVyIE1vdmVtZW50XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvL2lmICh0aGlzLm1vdmVtZW50QWxsb3dlZCA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IGZhbHNlICYmIHRoaXMubW92ZW1lbnRBbGxvd2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGF5SnVtcFRpbWVyIDw9IDApIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSAodGhpcy5jYW5QbGF5ZXJKdW1wID09PSB0cnVlICYmIHRoaXMuaXNKdW1wUHJlc3NlZCA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IGZhbHNlICYmIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPT09IHRydWUgJiYgdGhpcy51c2VDbGltYlN5c3RlbSA9PT0gdHJ1ZSAmJiB0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSAmJiB0aGlzLmhlaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xpbWJBY3Rpb246IG51bWJlciA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3RhdGVTcGVlZDogbnVtYmVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcm90YXRlVG93YXJkczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEhlaWdodDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydFRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldFRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldE9mZnNldDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoaXRIZWlnaHQ6IG51bWJlciA9IHBhcnNlRmxvYXQodGhpcy5oZWlnaHRDb250YWN0UG9pbnQueS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJIZWlnaHQ6IG51bWJlciA9IHBhcnNlRmxvYXQodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYnN0YWNsZUhlaWdodDogbnVtYmVyID0gcGFyc2VGbG9hdCgoaGl0SGVpZ2h0IC0gcGxheWVySGVpZ2h0KS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2xpbWIgQWN0aW9uIC0tPiAgSGl0IEhlaWdodDogXCIgKyBoaXRIZWlnaHQgKyBcIiAtLT4gUGxheWVyIEhlaWdodDogXCIgKyBwbGF5ZXJIZWlnaHQgKyBcIiAtLT4gT2JzdGFjbGUgSGVpZ2h0OiBcIiArIG9ic3RhY2xlSGVpZ2h0ICsgXCIgLS0+IFJvdGF0ZSBUb3dhcmRzOiBcIiArIHJvdGF0ZVRvd2FyZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5taW5pbXVtSGVpZ2h0ICYmIG9ic3RhY2xlSGVpZ2h0IDw9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLm1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbWJBY3Rpb24gPSBQUk9KRUNULkFjdGlvbkFuaW1hdGlvblR5cGUuU3RlcFVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvd2FyZHMgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5yb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS50YXJnZXRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5taW5pbXVtSGVpZ2h0ICYmIG9ic3RhY2xlSGVpZ2h0IDw9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLm1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbWJBY3Rpb24gPSBQUk9KRUNULkFjdGlvbkFuaW1hdGlvblR5cGUuSnVtcFVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvd2FyZHMgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5yb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS50YXJnZXRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UubWluaW11bUhlaWdodCAmJiBvYnN0YWNsZUhlaWdodCA8PSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UubWF4aW11bUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGltYkFjdGlvbiA9IFBST0pFQ1QuQWN0aW9uQW5pbWF0aW9uVHlwZS5DbGltYlVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5yb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVUb3dhcmRzID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2Uuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRUaW1lID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnRhcmdldFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGltYkFjdGlvbiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbkNsaW1iT2JzdGFjbGVQcmVkaWNhdGUgPT0gbnVsbCB8fCB0aGlzLmNhbkNsaW1iT2JzdGFjbGVQcmVkaWNhdGUoY2xpbWJBY3Rpb24pID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheUFjdGlvbkFuaW1hdGlvbihjbGltYkFjdGlvbiwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblNwZWVkID0gcm90YXRlU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSByb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IG1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFN0YXJ0VGltZSA9IChzdGFydFRpbWUgLSBQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5NSU5fVElNRVJfT0ZGU0VUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRUaW1lID0gKHRhcmdldFRpbWUgLSBQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5NSU5fVElNRVJfT0ZGU0VUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQgPSB0YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBoaXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RTdGFydEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2tUYXJnZXRIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID09PSB0cnVlICYmIHRoaXMuanVtcFNwZWVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuanVtcCh0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcERlbGF5ID4gMCkgdGhpcy5kZWxheUp1bXBUaW1lciA9IHRoaXMuanVtcERlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFpcmJvcm5UaW1lb3V0ID4gMCkgdGhpcy5taW5KdW1wVGltZXIgPSAodGhpcy5haXJib3JuVGltZW91dCArIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RKdW1wVmVsb2NpdHkuc2V0KHRoaXMubW92ZW1lbnRWZWxvY2l0eS54LCAwLCB0aGlzLm1vdmVtZW50VmVsb2NpdHkueik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIE1vdmUgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUgJiYgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgUm9vdCBNb3Rpb24gVmVsb2NpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMucm9vdE1vdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RNb3Rpb246IEJBQllMT04uVmVjdG9yMyA9IHRoaXMuZ2V0RGVsdGFNb3Rpb25Qb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRWZWxvY2l0eS5zZXQocm9vdE1vdGlvbi54LCAwLCByb290TW90aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLm1vdmVtZW50VmVsb2NpdHksIHRoaXMudHJhbnNmb3JtLmdldFdvcmxkTWF0cml4KCksIHRoaXMubW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLm1vdmUodGhpcy5tb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLm1vdmVtZW50VmVsb2NpdHkuc2NhbGVJblBsYWNlKHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIubW92ZSh0aGlzLm1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IHRydWU7IC0gV2hpY2ggSXMgQmVzdCAtID8/P1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IGZhbHNlOyAtIFdoaWNoIElzIEJlc3QgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IEVJVEhFUiBPUiAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R2hvc3RXb3JsZFBvc2l0aW9uKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc3luY0dob3N0VG9UcmFuc2Zvcm1Qb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ2FtZXJhQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUlucHV0ID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gRFVOTk8gRlVSIFNVUkU6ICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IHRydWUgJiYgdGhpcy5uYXZpZ2F0aW9uQW5ndWxhclNwZWVkID4gMCkgYWxsb3dSb3RhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhUGl2b3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIC4uIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDYW1lcmEgUGl2b3QgT2Zmc2V0XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXRDYW1lcmFPZmZzZXQueCAhPT0gMCB8fCB0aGlzLnRhcmdldENhbWVyYU9mZnNldC55ICE9PSAwIHx8IHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0LnogIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdE9mZnNldC5jb3B5RnJvbSh0aGlzLnRhcmdldENhbWVyYU9mZnNldCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdE9mZnNldC5zZXQoMCwgdGhpcy5waXZvdEhlaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBQaXZvdCBQb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24sIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBQaXZvdCBSb3RhdGlvblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQ2FtZXJhID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZih0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLngsIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSwgMCwgdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUNhbWVyYSA9PT0gdHJ1ZSAmJiB0aGlzLmNhbWVyYU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVNtb290aGluZyA8PSAwKSB0aGlzLmNhbWVyYVNtb290aGluZyA9IDUuMDsgLy8gRGVmYXVsdCBDYW1lcmEgU21vb3RoaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29sbGlzaW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBDYW1lcmEgQ29sbGlzaW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG1heERpc3RhbmNlOm51bWJlciA9IE1hdGguYWJzKHRoaXMuYm9vbVBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSAodGhpcy5jYW1lcmFOb2RlLnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLnNjYWxlVG9SZWYodGhpcy5tYXhEaXN0YW5jZSwgdGhpcy5zY2FsZWRNYXhEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLnNjYWxlVG9SZWYodGhpcy5jYW1lcmFEaXN0YW5jZSwgdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZihwYXJlbnROb2RlLCB0aGlzLnBhcmVudE5vZGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuVHJhbnNmb3JtUG9pbnRUb1JlZihwYXJlbnROb2RlLCB0aGlzLnNjYWxlZE1heERpcmVjdGlvbiwgdGhpcy5tYXhpbXVtQ2FtZXJhUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IFVTRSBTSEFQRUNBU1RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVJheWNhc3RTaGFwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiB0aGlzLmNhbWVyYVJheWNhc3RTaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IHRoaXMuY2FtZXJhTm9kZS5yb3RhdGlvblF1YXRlcm5pb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb246IHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRQb3NpdGlvbjogdGhpcy5tYXhpbXVtQ2FtZXJhUG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVCb2R5OiB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSGl0VHJpZ2dlcnM6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlNoYXBlY2FzdChxdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9IChyZXN1bHQgIT0gbnVsbCAmJiByZXN1bHQud29ybGQgIT0gbnVsbCAmJiByZXN1bHQud29ybGQuaGFzSGl0ID09PSB0cnVlICYmIHJlc3VsdC53b3JsZC5ib2R5ICE9IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gKGNvbnRhY3QgPT09IHRydWUpID8gQkFCWUxPTi5WZWN0b3IzLkRpc3RhbmNlKHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uLCByZXN1bHQud29ybGQuaGl0UG9pbnQpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIERFUFJFQ0FURUQ6IFVTRSBSQVlDQVNUXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0ID09IG51bGwpIHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdCA9IG5ldyBCQUJZTE9OLlBoeXNpY3NSYXljYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MsIHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdCAhPSBudWxsICYmIHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdC5oYXNIaXQgPT09IHRydWUgJiYgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCAmJiB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSAodGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0ICE9IG51bGwgJiYgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0Lmhhc0hpdCA9PT0gdHJ1ZSkgPyB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuaGl0RGlzdGFuY2UgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9sZXQgY29udGFjdEJvZHk6c3RyaW5nID0gKGNvbnRhY3QgPT09IHRydWUpID8gdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0LmJvZHkudHJhbnNmb3JtTm9kZS5uYW1lIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vV00uUHJpbnRUb1NjcmVlbihcIkNhbWVyYSBDb2xsaXNpb246IFwiICsgY29udGFjdCArIFwiIC0tPiBEaXN0YW5jZTogIFwiICsgZGlzdGFuY2UgKyBcIiAtLT4gVHJhbnNmb3JtOiBcIiArIGNvbnRhY3RCb2R5KTsqL1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYURpc3RhbmNlID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKGRpc3RhbmNlICogdGhpcy5kaXN0YW5jZUZhY3RvciksIHRoaXMubWluaW11bURpc3RhbmNlLCB0aGlzLm1heERpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlcnAgUGFzdCBDYW1lcmEgQ29sbGlzaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi54IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi55ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi55IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi56ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLkxlcnBUb1JlZih0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24sIHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uLCAodGhpcy5kZWx0YVRpbWUgKiB0aGlzLmNhbWVyYVNtb290aGluZyksIHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb3VzZVdoZWVsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuSXNXaGVlbFNjcm9sbGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5XaGVlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbCA8IDApIHsgLy8gWk9PTSBPVVRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHpvb21PdXRTcGVlZDogbnVtYmVyID0gKHRoaXMuc2Nyb2xsU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb21Qb3NpdGlvbi56ID0gQkFCWUxPTi5TY2FsYXIuTW92ZVRvd2FyZHModGhpcy5ib29tUG9zaXRpb24ueiwgLXRoaXMubWF4RGlzdGFuY2UsIHpvb21PdXRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2hlZWwgPiAwKSB7IC8vIFpPT00gSU5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHpvb21JblNwZWVkOiBudW1iZXIgPSAodGhpcy5zY3JvbGxTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vbVBvc2l0aW9uLnogPSBCQUJZTE9OLlNjYWxhci5Nb3ZlVG93YXJkcyh0aGlzLmJvb21Qb3NpdGlvbi56LCAtdGhpcy5taW5pbXVtRGlzdGFuY2UsIHpvb21JblNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlcnAgVG8gQ2FtZXJhIEJvb20gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gdGhpcy5ib29tUG9zaXRpb24ueCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gdGhpcy5ib29tUG9zaXRpb24ueSB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gdGhpcy5ib29tUG9zaXRpb24ueikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLmJvb21Qb3NpdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVycCBUbyBDYW1lcmEgQm9vbSBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnggIT09IHRoaXMuYm9vbVBvc2l0aW9uLnggfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnkgIT09IHRoaXMuYm9vbVBvc2l0aW9uLnkgfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnogIT09IHRoaXMuYm9vbVBvc2l0aW9uLnopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLmJvb21Qb3NpdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVTbW9vdGhCb29tQXJtTGVuZ3RoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldEJvb21Bcm1NYXhEaXN0YW5jZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5tYXhEaXN0YW5jZTsgfVxuICAgICAgICBwdWJsaWMgc2V0Qm9vbUFybU1heERpc3RhbmNlKGRpc3RhbmNlOiBudW1iZXIpOiB2b2lkIHsgdGhpcy5tYXhEaXN0YW5jZSA9IE1hdGguYWJzKGRpc3RhbmNlKTsgfVxuICAgICAgICBwdWJsaWMgc2V0U21vb3RoQm9vbUFybUxlbmd0aChsZW5ndGg6IG51bWJlciwgc3BlZWQ6IG51bWJlciwgdXBkYXRlTWF4RGlzdGFuY2U6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBhYnNvbHV0ZUxlbmd0aDogbnVtYmVyID0gTWF0aC5hYnMobGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCA9IC1hYnNvbHV0ZUxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybVNwZWVkID0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAodXBkYXRlTWF4RGlzdGFuY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhYnNvbHV0ZURpc3RhbmNlOiBudW1iZXIgPSBNYXRoLmFicyh0aGlzLm1heERpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGVMZW5ndGggPiBhYnNvbHV0ZURpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Qm9vbUFybU1heERpc3RhbmNlKGFic29sdXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzbW9vdGhCb29tQXJtTGVuZ3RoOiBCQUJZTE9OLk51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNtb290aEJvb21Bcm1TcGVlZDogQkFCWUxPTi5OdWxsYWJsZTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVTbW9vdGhCb29tQXJtTGVuZ3RoKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCAhPSBudWxsICYmIHRoaXMuc21vb3RoQm9vbUFybVNwZWVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib29tUG9zaXRpb24ueiAhPT0gdGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vbVBvc2l0aW9uLnogPSBCQUJZTE9OLlNjYWxhci5Nb3ZlVG93YXJkcyh0aGlzLmJvb21Qb3NpdGlvbi56LCB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGgsICh0aGlzLnNtb290aEJvb21Bcm1TcGVlZCAqIHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtb290aEJvb21Bcm1TcGVlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyAgQW1tbyBQaHlzaWNzIFJheWNhc3RpbmdcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgY2FzdFBoeXNpY3NDbGltYmluZ1ZvbHVtZVJheSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCByYXljYXN0OiBCQUJZTE9OLlRvb2xraXQuUmF5Y2FzdEhpdFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3ROb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3RBbmdsZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdERpc3RhbmNlID0gMDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBDbGltYmluZyBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHBsYXllclRyYW5zZm9ybUZvcndhcmREaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IFVUSUwuVHJhbnNmb3JtRGlyZWN0aW9uKHRoaXMudHJhbnNmb3JtLCB0aGlzLmZvcndhcmREaXJlY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRDbGltYlJheWNhc3RQb3NpdGlvbi5zZXQoMCwgdGhpcy5yYXlDbGltYk9mZnNldCwgMCk7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLm9mZnNldENsaW1iUmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmVuZENsaW1iUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmZvcndhcmREaXJlY3Rpb24uc2NhbGUodGhpcy5yYXlDbGltYkxlbmd0aCkpO1xuICAgICAgICAgICAgdGhpcy5lbmRDbGltYlJheWNhc3RQb3NpdGlvbi55ICs9IHRoaXMucmF5Q2xpbWJPZmZzZXQ7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbiwgcGxheWVyVHJhbnNmb3JtRm9yd2FyZERpcmVjdGlvbiwgdGhpcy5yYXlDbGltYkxlbmd0aCwgdGhpcy5kZWZhdWx0UmF5Y2FzdEdyb3VwLCB0aGlzLmRlZmF1bHRSYXljYXN0TWFzayk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja1RhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrVGFnID09PSB0aGlzLmNsaW1iVm9sdW1lVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3ROb2RlID0gcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXRQb2ludCAhPSBudWxsKSB0aGlzLmNsaW1iQ29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXROb3JtYWwgIT0gbnVsbCkgdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdEFuZ2xlID0gKHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsICE9IG51bGwpID8gTWF0aC5hYnMoQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmNsaW1iQ29udGFjdE5vcm1hbCwgQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkpKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2UgPSByYXljYXN0LmhpdERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENsaW1iaW5nIERyYXcgRGVidWcgTGluZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuY2xpbWJTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQ2xpbWJpbmdTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgdGhpcy5jbGltYkNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYlNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlJlZCgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iU2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZENsaW1iUmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuR3JlZW4oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjYXN0UGh5c2ljc0hlaWdodENoZWNrVm9sdW1lUmF5KCk6IHZvaWQge1xuICAgICAgICAgICAgbGV0IHJheWNhc3Q6IEJBQllMT04uVG9vbGtpdC5SYXljYXN0SGl0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3RQb2ludC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3ROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0QW5nbGUgPSAwO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0RGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEhlaWdodCBDaGVjayBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHBsYXllclRyYW5zZm9ybUhlaWdodERpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gVVRJTC5UcmFuc2Zvcm1EaXJlY3Rpb24odGhpcy50cmFuc2Zvcm0sIHRoaXMuZG93bkRpcmVjdGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy5jbGltYkNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEhlaWdodFJheWNhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmNsaW1iQ29udGFjdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuY2xpbWJDb250YWN0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZShCQUJZTE9OLlZlY3RvcjMuVXBSZWFkT25seS5zY2FsZSh0aGlzLnJheUhlaWdodExlbmd0aCkpO1xuICAgICAgICAgICAgICAgIC8vIHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLCBwbGF5ZXJUcmFuc2Zvcm1IZWlnaHREaXJlY3Rpb24sIHRoaXMucmF5SGVpZ2h0TGVuZ3RoLCB0aGlzLmRlZmF1bHRSYXljYXN0R3JvdXAsIHRoaXMuZGVmYXVsdFJheWNhc3RNYXNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRIZWlnaHRSYXljYXN0UG9zaXRpb24uc2V0KDAsIHRoaXMucmF5SGVpZ2h0T2Zmc2V0LCB0aGlzLnJheUNsaW1iTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgdGhpcy5vZmZzZXRIZWlnaHRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHRoaXMucmF5SGVpZ2h0TGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tUYWcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja1RhZyA9PT0gdGhpcy5jbGltYlZvbHVtZVRhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3ROb2RlID0gcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXRQb2ludCAhPSBudWxsKSB0aGlzLmhlaWdodENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsICE9IG51bGwpIHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdEFuZ2xlID0gKHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbCAhPSBudWxsKSA/IE1hdGguYWJzKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QW5nbGUodGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsLCBCQUJZTE9OLlZlY3RvcjMuVXBSZWFkT25seSkpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0RGlzdGFuY2UgPSByYXljYXN0LmhpdERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhlaWdodCBDaGVjayBEcmF3IERlYnVnIExpbmVcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dEZWJ1Z0NvbGxpZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5oZWlnaHRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuSGVpZ2h0Q2hlY2tTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgdGhpcy5oZWlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlJlZCgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuR3JlZW4oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyAgUHJpdmF0ZSBXb3JrZXIgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGdldENoZWNrZWRWZXJ0aWNhbFZlbG9jaXR5KCk6IG51bWJlciB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmVsb2NpdHk6IG51bWJlciA9ICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkgPyB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuZ2V0VmVydGljYWxWZWxvY2l0eSgpIDogMDtcbiAgICAgICAgICAgIHJldHVybiAoTWF0aC5hYnMoY3VycmVudFZlbG9jaXR5KSA+PSBQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5NSU5fVkVSVElDQUxfVkVMT0NJVFkpID8gY3VycmVudFZlbG9jaXR5IDogMDtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIGRlc3Ryb3lQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHZhbGlkYXRlQW5pbWF0aW9uU3RhdGVQYXJhbXMoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZURpcmVjdGlvbjogXCJEaXJlY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRNYWduaXR1ZGU6IFwiTWFnbml0dWRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxJbnB1dDogXCJIb3Jpem9udGFsXCIsXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsSW5wdXQ6IFwiVmVydGljYWxcIixcbiAgICAgICAgICAgICAgICAgICAgbW91c2VYSW5wdXQ6IFwiTW91c2VYXCIsXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlWUlucHV0OiBcIk1vdXNlWVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRJbnB1dDogXCJIZWlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgc3BlZWRJbnB1dDogXCJTcGVlZFwiLFxuICAgICAgICAgICAgICAgICAgICBqdW1wRnJhbWU6IFwiSnVtcGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1bXBTdGF0ZTogXCJKdW1wXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblN0YXRlOiBcIkFjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBmYWxsaW5nU3RhdGU6IFwiRnJlZUZhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgc2xpZGluZ1N0YXRlOiBcIlNsaWRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgZ3JvdW5kZWRTdGF0ZTogXCJHcm91bmRlZFwiLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIEVudW0gRGVmaW5pdGlvblxuICAgICogQGludGVyZmFjZSBUaGlyZFBlcnNvbkNvbnRyb2xcbiAgICAqL1xuICAgIGV4cG9ydCBlbnVtIFRoaXJkUGVyc29uQ29udHJvbCB7XG4gICAgICAgIFRoaXJkUGVyc29uVHVybmluZyA9IDAsXG4gICAgICAgIFRoaXJkUGVyc29uRm9yd2FyZCA9IDFcbiAgICB9XG59XG4iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBGeFBhcnRpY2xlU3lzdGVtXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRnhQYXJ0aWNsZVN5c3RlbSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgZ2V0UGFydGljbGVFbWl0dGVyKCk6IEJBQllMT04uQWJzdHJhY3RNZXNoIHsgcmV0dXJuIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXI7IH1cbiAgICAgICAgcHVibGljIGdldFBhcnRpY2xlU3lzdGVtKCk6IEJBQllMT04uUGFydGljbGVTeXN0ZW0gfCBCQUJZTE9OLkdQVVBhcnRpY2xlU3lzdGVtIHsgcmV0dXJuIHRoaXMubV9wYXJ0aWNsZVN5c3RlbTsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX3BhcnRpY2xlRW1pdHRlcjogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9wYXJ0aWNsZVN5c3RlbTogQkFCWUxPTi5QYXJ0aWNsZVN5c3RlbSB8IEJBQllMT04uR1BVUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCByb290VXJsOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFJvb3RVcmwodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBjb25zdCBjbGFzc1R5cGU6IG51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjbGFzc1R5cGVcIiwgMCk7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNsZVRleHQ6IHN0cmluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJiYXNlNjRQYXJ0aWNsZVN5c3RlbVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYXlPbkF3YWtlOiBib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXlPbkF3YWtlXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2xlVGV4dHVyZTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwicGFydGljbGVUZXh0dXJlXCIpO1xuICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlciA9IHRoaXMuZ2V0QWJzdHJhY3RNZXNoKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3BhcnRpY2xlRW1pdHRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlciA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5FbWl0dGVyXCIsIHsgc2l6ZTogMC4yNSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlci5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlci5tYXRlcmlhbCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0Q29sbGlkZXJNYXRlcmlhbCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZVRleHQgIT0gbnVsbCAmJiBwYXJ0aWNsZVRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWNsZUpzb246IHN0cmluZyA9IHdpbmRvdy5hdG9iKHBhcnRpY2xlVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpY2xlSnNvbiAhPSBudWxsICYmIHBhcnRpY2xlSnNvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWNsZVBhcnNlZDogYW55ID0gSlNPTi5wYXJzZShwYXJ0aWNsZUpzb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFydGljbGVQYXJzZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRpY2xlUGFyc2VkLnRleHR1cmUgIT0gbnVsbCAmJiBwYXJ0aWNsZVRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlUGFyc2VkLnRleHR1cmUubmFtZSA9IHBhcnRpY2xlVGV4dHVyZS5maWxlbmFtZTsgLy8gTm90ZTogUGFydGljbGUgU3lzdGVtIFBhcnNlciBVc2UgTmFtZSBOb3QgVXJsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljbGVQYXJzZWQudGV4dHVyZS51cmwgPSBwYXJ0aWNsZVRleHR1cmUuZmlsZW5hbWU7ICAvLyBOb3RlOiBQYXJ0aWNsZSBTeXN0ZW0gUGFyc2VyIFVzZSBOYW1lIE5vdCBVcmxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IDEpIHsgIC8vIEdQVSBQYXJ0aWNsZSBTeXN0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVTeXN0ZW0gPSBCQUJZTE9OLkdQVVBhcnRpY2xlU3lzdGVtLlBhcnNlKHBhcnRpY2xlUGFyc2VkLCB0aGlzLnNjZW5lLCByb290VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgIC8vIENQVSBQYXJ0aWNsZSBTeXN0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVTeXN0ZW0gPSBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtLlBhcnNlKHBhcnRpY2xlUGFyc2VkLCB0aGlzLnNjZW5lLCByb290VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fcGFydGljbGVTeXN0ZW0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fcGFydGljbGVFbWl0dGVyICE9IG51bGwpIHRoaXMubV9wYXJ0aWNsZVN5c3RlbS5lbWl0dGVyID0gdGhpcy5tX3BhcnRpY2xlRW1pdHRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxheU9uQXdha2UgPT09IGZhbHNlKSB0aGlzLm1fcGFydGljbGVTeXN0ZW0uc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fcGFydGljbGVTeXN0ZW0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZVN5c3RlbS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiB3YXRlciBtYXRlcmlhbCBzeXN0ZW0gcHJvIGNsYXNzIChCYWJ5bG9uIFdhdGVyIE1hdGVyaWFsKVxuICAgICAqIEBjbGFzcyBTa3lNYXRlcmlhbFN5c3RlbSAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBTa3lNYXRlcmlhbFN5c3RlbSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIHNreWZvZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNreXNpemU6IG51bWJlciA9IDEwMDA7XG4gICAgICAgIHByaXZhdGUgcHJvYmVzaXplOiBudW1iZXIgPSAxMjg7XG4gICAgICAgIHByaXZhdGUgcmVmbGVjdGlvbnM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWZsZWN0bGV2ZWw6IG51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgc2t5dGludGNvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLCAxLCAxKTtcbiAgICAgICAgcHVibGljIGdldFNreWJveE1lc2goKTogQkFCWUxPTi5BYnN0cmFjdE1lc2ggeyByZXR1cm4gdGhpcy5tX3NreWJveE1lc2g7IH1cbiAgICAgICAgcHVibGljIGdldFNreU1hdGVyaWFsKCk6IEJBQllMT04uU2t5TWF0ZXJpYWwgeyByZXR1cm4gdGhpcy5tX3NreU1hdGVyaWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWZsZWN0aW9uUHJvYmUoKTogQkFCWUxPTi5SZWZsZWN0aW9uUHJvYmUgeyByZXR1cm4gdGhpcy5tX3JlZmxlY3RQcm9iZTsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZVNreWJveE1hdGVyaWFsKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyAvKiBTdGFydCByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IC8qIFVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQgeyAvKiBMYXRlIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHsgLyogQWZ0ZXIgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi8gfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95U2t5Ym94TWF0ZXJpYWwoKTsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX3NreWJveE1lc2g6IEJBQllMT04uTWVzaCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3NreU1hdGVyaWFsOiBCQUJZTE9OLlNreU1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fcmVmbGVjdFByb2JlOiBCQUJZTE9OLlJlZmxlY3Rpb25Qcm9iZSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBhd2FrZVNreWJveE1hdGVyaWFsKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5za3lmb2cgPSB0aGlzLmdldFByb3BlcnR5KFwiYXBwbHlNZXNoRm9nXCIsIHRoaXMuc2t5Zm9nKTtcbiAgICAgICAgICAgIHRoaXMuc2t5c2l6ZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib3hTaXplXCIsIHRoaXMuc2t5c2l6ZSk7XG4gICAgICAgICAgICB0aGlzLnByb2Jlc2l6ZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwcm9iZVNpemVcIiwgdGhpcy5wcm9iZXNpemUpO1xuICAgICAgICAgICAgdGhpcy5yZWZsZWN0aW9ucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWZsZWN0aW9uc1wiLCB0aGlzLnJlZmxlY3Rpb25zKTtcbiAgICAgICAgICAgIHRoaXMucmVmbGVjdGxldmVsID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlZmxlY3RMZXZlbFwiLCB0aGlzLnJlZmxlY3RsZXZlbCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgdGludENvbG9yOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5Q29sb3IgPSB0aGlzLmdldFByb3BlcnR5KFwidGludENvbG9yXCIpO1xuICAgICAgICAgICAgaWYgKHRpbnRDb2xvciAhPSBudWxsKSB0aGlzLnNreXRpbnRjb2xvciA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VDb2xvcjModGludENvbG9yKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KFwiQW1iaWVudCBTa3lib3hcIiwgeyBzaXplOiB0aGlzLnNreXNpemUgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaC5pbmZpbml0ZURpc3RhbmNlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLmFwcGx5Rm9nID0gdGhpcy5za3lmb2c7XG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbSA9PT0gdHJ1ZSkgdGhpcy5tX3NreWJveE1lc2guc2NhbGluZy54ICo9IC0xO1xuICAgICAgICAgICAgLy8gU2V0dXAgU2t5IE1hdGVyaWFsIFByb3BlcnRpZXNcbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlNreU1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Ta3lNYXRlcmlhbFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5iYWNrRmFjZUN1bGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2t5Ym94VGludENvbG9yKHRoaXMuc2t5dGludGNvbG9yKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgb3ZlcmFsbCBsdW1pbmFuY2Ugb2Ygc2t5IGluIGludGVydmFsIFswLCAxXS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLmx1bWluYW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsdW1pbmFuY2VcIiwgdGhpcy5tX3NreU1hdGVyaWFsLmx1bWluYW5jZSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICogRGVmaW5lcyB0aGUgYW1vdW50IChzY2F0dGVyaW5nKSBvZiBoYXplIGFzIG9wcG9zZWQgdG8gbW9sZWN1bGVzIGluIGF0bW9zcGhlcmUuXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLnR1cmJpZGl0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0dXJiaWRpdHlcIiwgdGhpcy5tX3NreU1hdGVyaWFsLnR1cmJpZGl0eSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgdGhlIHNreSBhcHBlYXJhbmNlIChsaWdodCBpbnRlbnNpdHkpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwucmF5bGVpZ2ggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5bGVpZ2hcIiwgdGhpcy5tX3NreU1hdGVyaWFsLnJheWxlaWdoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgbWllQ29lZmZpY2llbnQgaW4gaW50ZXJ2YWwgWzAsIDAuMV0gd2hpY2ggYWZmZWN0cyB0aGUgcHJvcGVydHkgLm1pZURpcmVjdGlvbmFsRy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLm1pZUNvZWZmaWNpZW50ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pZUNvZWZmaWNpZW50XCIsIHRoaXMubV9za3lNYXRlcmlhbC5taWVDb2VmZmljaWVudCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgdGhlIGFtb3VudCBvZiBoYXplIHBhcnRpY2xlcyBmb2xsb3dpbmcgdGhlIE1pZSBzY2F0dGVyaW5nIHRoZW9yeS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLm1pZURpcmVjdGlvbmFsRyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaWVEaXJlY3Rpb25hbEdcIiwgdGhpcy5tX3NreU1hdGVyaWFsLm1pZURpcmVjdGlvbmFsRyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgdGhlIGRpc3RhbmNlIG9mIHRoZSBzdW4gYWNjb3JkaW5nIHRvIHRoZSBhY3RpdmUgc2NlbmUgY2FtZXJhLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuZGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwiZGlzdGFuY2VcIiwgdGhpcy5tX3NreU1hdGVyaWFsLmRpc3RhbmNlKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgc3VuIGluY2xpbmF0aW9uLCBpbiBpbnRlcnZhbCBbLTAuNSwgMC41XS4gV2hlbiB0aGUgaW5jbGluYXRpb24gaXMgbm90IDAsIHRoZSBzdW4gaXMgc2FpZFxuICAgICAgICAgICAgICogXCJpbmNsaW5lZFwiLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuaW5jbGluYXRpb24gPSB0aGlzLmdldFByb3BlcnR5KFwiaW5jbGluYXRpb25cIiwgdGhpcy5tX3NreU1hdGVyaWFsLmluY2xpbmF0aW9uKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgc29sYXIgYXppbXV0aCBpbiBpbnRlcnZhbCBbMCwgMV0uIFRoZSBhemltdXRoIGlzIHRoZSBhbmdsZSBpbiB0aGUgaG9yaXpvbnRhbCBwbGFuIGJldHdlZW5cbiAgICAgICAgICAgICAqIGFuIG9iamVjdCBkaXJlY3Rpb24gYW5kIGEgcmVmZXJlbmNlIGRpcmVjdGlvbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLmF6aW11dGggPSB0aGlzLmdldFByb3BlcnR5KFwiYXppbXV0aFwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwuYXppbXV0aCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgYW4gb2Zmc2V0IHZlY3RvciB1c2VkIHRvIGdldCBhIGhvcml6b24gb2Zmc2V0LlxuICAgICAgICAgICAgICogQGV4YW1wbGUgc2t5TWF0ZXJpYWwuY2FtZXJhT2Zmc2V0LnkgPSBjYW1lcmEuZ2xvYmFsUG9zaXRpb24ueSAvLyBTZXQgaG9yaXpvbiByZWxhdGl2ZSB0byAwIG9uIHRoZSBZIGF4aXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgY2FtT2Zmc2V0RGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhT2Zmc2V0XCIpO1xuICAgICAgICAgICAgaWYgKGNhbU9mZnNldERhdGEgIT0gbnVsbCkgdGhpcy5tX3NreU1hdGVyaWFsLmNhbWVyYU9mZnNldCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGNhbU9mZnNldERhdGEpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIGlmIHRoZSBzdW4gcG9zaXRpb24gc2hvdWxkIGJlIGNvbXB1dGVkIChpbmNsaW5hdGlvbiBhbmQgYXppbXV0aCkgYWNjb3JkaW5nIHRvIHRoZSBzY2VuZVxuICAgICAgICAgICAgICogc3VuIHBvc2l0aW9uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwudXNlU3VuUG9zaXRpb24gPSB0aGlzLmdldFByb3BlcnR5KFwidXNlU3VuUG9zaXRpb25cIiwgdGhpcy5tX3NreU1hdGVyaWFsLnVzZVN1blBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5zdW5Qb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgNTAsIDApO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUubWV0YWRhdGEgIT0gbnVsbCAmJiB0aGlzLnNjZW5lLm1ldGFkYXRhLnVuaXR5ICE9IG51bGwgJiYgdGhpcy5zY2VuZS5tZXRhZGF0YS51bml0eSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLm1ldGFkYXRhLnRvb2xraXQuc3VucG9zaXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuc3VuUG9zaXRpb24gPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyh0aGlzLnNjZW5lLm1ldGFkYXRhLnRvb2xraXQuc3VucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFzc2lnbiBTa3kgTWF0ZXJpYWwgVG8gU2t5Ym94IE1lc2hcbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLm1hdGVyaWFsID0gdGhpcy5tX3NreU1hdGVyaWFsO1xuICAgICAgICAgICAgLy8gU2V0dXAgRW52aXJvbm1lbnQgUmVmbGVjdGlvbiBQcm9iZSBUZXh0dXJlXG4gICAgICAgICAgICBpZiAodGhpcy5yZWZsZWN0aW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9yZWZsZWN0UHJvYmUgPSBuZXcgQkFCWUxPTi5SZWZsZWN0aW9uUHJvYmUoXCJTa3lib3gtUmVmbGVjdGlvblByb2JlXCIsIHRoaXMucHJvYmVzaXplLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmVmbGVjdFByb2JlLnJlbmRlckxpc3QucHVzaCh0aGlzLm1fc2t5Ym94TWVzaCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5jdXN0b21SZW5kZXJUYXJnZXRzLnB1c2godGhpcy5tX3JlZmxlY3RQcm9iZS5jdWJlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5lbnZpcm9ubWVudFRleHR1cmUgPSB0aGlzLm1fcmVmbGVjdFByb2JlLmN1YmVUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuZW52aXJvbm1lbnRJbnRlbnNpdHkgPSB0aGlzLnJlZmxlY3RsZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveVNreWJveE1hdGVyaWFsKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9za3lib3hNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2ggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9yZWZsZWN0UHJvYmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9yZWZsZWN0UHJvYmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9yZWZsZWN0UHJvYmUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9za3lNYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXQgU2t5Ym94IE1lc2ggdGludCBjb2xvci4gKEJveCBNZXNoIFZlcnRleCBDb2xvcnMpICovXG4gICAgICAgIHB1YmxpYyBzZXRTa3lib3hUaW50Q29sb3IoY29sb3I6IEJBQllMT04uQ29sb3IzKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IG51bVZlcnRpY2VzID0gdGhpcy5tX3NreWJveE1lc2guZ2V0VG90YWxWZXJ0aWNlcygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WZXJ0aWNlczsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzLnB1c2goY29sb3IuciwgY29sb3IuZywgY29sb3IuYiwgMS4wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLnNldFZlcnRpY2VzRGF0YShcImNvbG9yXCIsIGNvbG9ycyk7XG4gICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaC51c2VWZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqwqBCYWJ5bG9uwqB3YXRlcsKgbWF0ZXJpYWzCoHN5c3RlbcKgcHJvwqBjbGFzc8KgKEJhYnlsb27CoFdhdGVywqBNYXRlcmlhbClcbiAgICAgKsKgQGNsYXNzwqBXYXRlck1hdGVyaWFsU3lzdGVtwqAtwqBBbGzCoHJpZ2h0c8KgcmVzZXJ2ZWTCoChjKcKgMjAyMMKgTWFja2V5wqBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgV2F0ZXJNYXRlcmlhbFN5c3RlbSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIHdhdGVyVGFnOiBzdHJpbmcgPSBcIldhdGVyXCI7XG4gICAgICAgIHByaXZhdGUgdGFyZ2V0U2l6ZTogQkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigxMjgsIDEyOCk7XG4gICAgICAgIHByaXZhdGUgcmVuZGVyU2l6ZTogQkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMig1MTIsIDUxMik7XG4gICAgICAgIHByaXZhdGUgZGVwdGhGYWN0b3I6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHJpdmF0ZSByZWZsZWN0U2t5Ym94OiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBzdWJEaXZpc2lvbnM6IG51bWJlciA9IDMyO1xuICAgICAgICBwcml2YXRlIGhlaWdodE9mZnNldDogbnVtYmVyID0gMS4wO1xuICAgICAgICBwcml2YXRlIHdpbmREaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMCwgMSk7XG4gICAgICAgIHByaXZhdGUgd2luZEZvcmNlOiBudW1iZXIgPSA2O1xuICAgICAgICBwcml2YXRlIHdhdmVTcGVlZDogbnVtYmVyID0gMS4wO1xuICAgICAgICBwcml2YXRlIHdhdmVMZW5ndGg6IG51bWJlciA9IDAuNDtcbiAgICAgICAgcHJpdmF0ZSB3YXZlSGVpZ2h0OiBudW1iZXIgPSAwLjQ7XG4gICAgICAgIHByaXZhdGUgYnVtcEhlaWdodDogbnVtYmVyID0gMC40O1xuICAgICAgICBwcml2YXRlIGJ1bXBTdXBlcmltcG9zZTogYm9vbGVhbjtcbiAgICAgICAgcHJpdmF0ZSBidW1wQWZmZWN0c1JlZmxlY3Rpb246IGJvb2xlYW47XG4gICAgICAgIHByaXZhdGUgd2F0ZXJDb2xvcjogQkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMC4xLCAwLjEsIDAuNik7XG4gICAgICAgIHByaXZhdGUgY29sb3JCbGVuZEZhY3RvcjogbnVtYmVyID0gMC4yO1xuICAgICAgICBwcml2YXRlIHdhdGVyQ29sb3IyOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjEsIDAuMSwgMC42KTtcbiAgICAgICAgcHJpdmF0ZSBjb2xvckJsZW5kRmFjdG9yMjogbnVtYmVyID0gMC4yO1xuICAgICAgICBwcml2YXRlIGRpc2FibGVDbGlwUGxhbmU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcmVzbmVsU2VwYXJhdGU6IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBnZXRXYXRlckdlb21ldHJ5KCk6IEJBQllMT04uQWJzdHJhY3RNZXNoIHsgcmV0dXJuIHRoaXMubV93YXRlckdlb21ldHJ5OyB9XG4gICAgICAgIHB1YmxpYyBnZXRXYXRlck1hdGVyaWFsKCk6IEJBQllMT04uV2F0ZXJNYXRlcmlhbCB7IHJldHVybiB0aGlzLm1fd2F0ZXJNYXRlcmlhbDsgfVxuICAgICAgICBwcm90ZWN0ZWQgbV93YXRlckdlb21ldHJ5OiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3dhdGVyTWF0ZXJpYWw6IEJBQllMT04uV2F0ZXJNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMud2F0ZXJUYWcgPSB0aGlzLmdldFByb3BlcnR5KFwid2F0ZXJUYWdcIiwgdGhpcy53YXRlclRhZyk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImRlcHRoRmFjdG9yXCIsIHRoaXMuZGVwdGhGYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5zdWJEaXZpc2lvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwic3ViRGl2aXNpb25zXCIsIHRoaXMuc3ViRGl2aXNpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0T2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodE9mZnNldFwiLCB0aGlzLmhlaWdodE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLnJlZmxlY3RTa3lib3ggPSB0aGlzLmdldFByb3BlcnR5KFwicmVmbGVjdFNreWJveFwiLCB0aGlzLnJlZmxlY3RTa3lib3gpO1xuICAgICAgICAgICAgdGhpcy53aW5kRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwid2luZEZvcmNlXCIsIHRoaXMud2luZEZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMud2F2ZVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIndhdmVTcGVlZFwiLCB0aGlzLndhdmVTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLndhdmVMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwid2F2ZUxlbmd0aFwiLCB0aGlzLndhdmVMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy53YXZlSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcIndhdmVIZWlnaHRcIiwgdGhpcy53YXZlSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuYnVtcEhlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidW1wSGVpZ2h0XCIsIHRoaXMuYnVtcEhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmJ1bXBTdXBlcmltcG9zZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidW1wU3VwZXJpbXBvc2VcIiwgdGhpcy5idW1wU3VwZXJpbXBvc2UpO1xuICAgICAgICAgICAgdGhpcy5idW1wQWZmZWN0c1JlZmxlY3Rpb24gPSB0aGlzLmdldFByb3BlcnR5KFwiYnVtcEFmZmVjdHNSZWZsZWN0aW9uXCIsIHRoaXMuYnVtcEFmZmVjdHNSZWZsZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JCbGVuZEZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjb2xvckJsZW5kRmFjdG9yXCIsIHRoaXMuY29sb3JCbGVuZEZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLmNvbG9yQmxlbmRGYWN0b3IyID0gdGhpcy5nZXRQcm9wZXJ0eShcImNvbG9yQmxlbmRGYWN0b3IyXCIsIHRoaXMuY29sb3JCbGVuZEZhY3RvcjIpO1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlQ2xpcFBsYW5lID0gdGhpcy5nZXRQcm9wZXJ0eShcImRpc2FibGVDbGlwUGxhbmVcIiwgdGhpcy5kaXNhYmxlQ2xpcFBsYW5lKTtcbiAgICAgICAgICAgIHRoaXMuZnJlc25lbFNlcGFyYXRlID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyZXNuZWxTZXBhcmF0ZVwiLCB0aGlzLmZyZXNuZWxTZXBhcmF0ZSk7XG4gICAgICAgICAgICAvL8KgLi5cbiAgICAgICAgICAgIGNvbnN0IHdjb2xvcjE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3YXRlckNvbG9yXCIpO1xuICAgICAgICAgICAgdGhpcy53YXRlckNvbG9yID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZUNvbG9yMyh3Y29sb3IxKTtcbiAgICAgICAgICAgIC8vwqAuLlxuICAgICAgICAgICAgY29uc3Qgd2NvbG9yMjogQkFCWUxPTi5Ub29sa2l0LklVbml0eUNvbG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcIndhdGVyQ29sb3IyXCIpO1xuICAgICAgICAgICAgdGhpcy53YXRlckNvbG9yMiA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VDb2xvcjMod2NvbG9yMik7XG4gICAgICAgICAgICAvL8KgLi5cbiAgICAgICAgICAgIGNvbnN0IHdkaXJlY3Rpb246IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IyID0gdGhpcy5nZXRQcm9wZXJ0eShcIndpbmREaXJlY3Rpb25cIik7XG4gICAgICAgICAgICB0aGlzLndpbmREaXJlY3Rpb24gPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMih3ZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIC8vwqAuLlxuICAgICAgICAgICAgY29uc3QgaXRhcmdldHNpemU6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IyID0gdGhpcy5nZXRQcm9wZXJ0eShcInRhcmdldFNpemVcIik7XG4gICAgICAgICAgICBpZiAoaXRhcmdldHNpemUgIT0gbnVsbCkgdGhpcy50YXJnZXRTaXplID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjIoaXRhcmdldHNpemUpO1xuICAgICAgICAgICAgLy/CoC4uwqDCoMKgwqDCoMKgwqDCoFxuICAgICAgICAgICAgY29uc3QgaXJlbmRlcnNpemU6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IyID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlbmRlclNpemVcIik7XG4gICAgICAgICAgICBpZiAoaXJlbmRlcnNpemUgIT0gbnVsbCkgdGhpcy5yZW5kZXJTaXplID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjIoaXJlbmRlcnNpemUpO1xuICAgICAgICAgICAgLyrCoEF3YWtlwqBjb21wb25lbnTCoGZ1bmN0aW9uwqAqL1xuICAgICAgICAgICAgbGV0IGJ1bXBUZXh0dXJlOiBCQUJZTE9OLlRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgYnVtcFRleHR1cmVEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VGV4dHVyZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidW1wVGV4dHVyZVwiKTtcbiAgICAgICAgICAgIGlmIChidW1wVGV4dHVyZURhdGEgIT0gbnVsbCkgYnVtcFRleHR1cmUgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShidW1wVGV4dHVyZURhdGEsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgaWYgKGJ1bXBUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLldhdGVyTWF0ZXJpYWwodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLldhdGVyXCIsIHRoaXMuc2NlbmUsIHRoaXMucmVuZGVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuYnVtcFRleHR1cmUgPSBidW1wVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC53aW5kRGlyZWN0aW9uID0gdGhpcy53aW5kRGlyZWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndpbmRGb3JjZSA9IHRoaXMud2luZEZvcmNlO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndhdmVTcGVlZCA9IHRoaXMud2F2ZVNwZWVkO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndhdmVMZW5ndGggPSB0aGlzLndhdmVMZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2F2ZUhlaWdodCA9IHRoaXMud2F2ZUhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5idW1wSGVpZ2h0ID0gdGhpcy5idW1wSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLmJ1bXBTdXBlcmltcG9zZSA9IHRoaXMuYnVtcFN1cGVyaW1wb3NlO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLmJ1bXBBZmZlY3RzUmVmbGVjdGlvbiA9IHRoaXMuYnVtcEFmZmVjdHNSZWZsZWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndhdGVyQ29sb3IgPSB0aGlzLndhdGVyQ29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuY29sb3JCbGVuZEZhY3RvciA9IHRoaXMuY29sb3JCbGVuZEZhY3RvcjtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC53YXRlckNvbG9yMiA9IHRoaXMud2F0ZXJDb2xvcjI7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuY29sb3JCbGVuZEZhY3RvcjIgPSB0aGlzLmNvbG9yQmxlbmRGYWN0b3IyO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLmRpc2FibGVDbGlwUGxhbmUgPSB0aGlzLmRpc2FibGVDbGlwUGxhbmU7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuZnJlc25lbFNlcGFyYXRlID0gdGhpcy5mcmVzbmVsU2VwYXJhdGU7XG4gICAgICAgICAgICAgICAgLy/CoC4uXG4gICAgICAgICAgICAgICAgLy/CoFdhdGVywqBNYXRlcmlhbMKgVGFnc1xuICAgICAgICAgICAgICAgIC8vwqAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlZmxlY3RTa3lib3ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2t5Ym94TWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldERlZmF1bHRTa3lib3godGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChza3lib3hNZXNoICE9IG51bGwpIHRoaXMubV93YXRlck1hdGVyaWFsLmFkZFRvUmVuZGVyTGlzdChza3lib3hNZXNoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2F0ZXJUYWcgIT0gbnVsbCAmJiB0aGlzLndhdGVyVGFnICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhdGVyTWVzaGVzOiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gdGhpcy5zY2VuZS5nZXRNZXNoZXNCeVRhZ3ModGhpcy53YXRlclRhZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXRlck1lc2hlcyAhPSBudWxsICYmIHdhdGVyTWVzaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGVyTWVzaGVzLmZvckVhY2goKG1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuYWRkVG9SZW5kZXJMaXN0KG1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy/CoC4uXG4gICAgICAgICAgICAgICAgLy/CoFdhdGVywqBNYXRlcmlhbMKgTWVzaFxuICAgICAgICAgICAgICAgIC8vwqAuLlxuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlckdlb21ldHJ5ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVHcm91bmQodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLldhdGVyTWVzaFwiLCB7IHdpZHRoOiB0aGlzLnRhcmdldFNpemUueCwgaGVpZ2h0OiB0aGlzLnRhcmdldFNpemUueSwgc3ViZGl2aXNpb25zOiB0aGlzLnN1YkRpdmlzaW9ucywgdXBkYXRhYmxlOiBmYWxzZSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJHZW9tZXRyeS5wYXJlbnQgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJHZW9tZXRyeS5wb3NpdGlvbi5zZXQoMCwgdGhpcy5oZWlnaHRPZmZzZXQsIDApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcHRoRmFjdG9yID4gMCkgdGhpcy5tX3dhdGVyR2VvbWV0cnkuc2NhbGluZy55ICo9IHRoaXMuZGVwdGhGYWN0b3I7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyR2VvbWV0cnkubWF0ZXJpYWwgPSB0aGlzLm1fd2F0ZXJNYXRlcmlhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiTm/CoHN1cHBvcnRlZMKgd2F0ZXLCoGJ1bXDCoHRleHR1cmXCoGZvcjrCoFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge8KgLyrCoFN0YXJ0wqByZW5kZXLCoGxvb3DCoGZ1bmN0aW9uwqAqLyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7wqAvKsKgVXBkYXRlwqByZW5kZXLCoGxvb3DCoGZ1bmN0aW9uwqAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQge8KgLyrCoExhdGXCoHVwZGF0ZcKgcmVuZGVywqBsb29wwqBmdW5jdGlvbsKgKi8gfVxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXIoKTogdm9pZCB7wqAvKsKgQWZ0ZXLCoHJlbmRlcsKgbG9vcMKgZnVuY3Rpb27CoCovIH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7wqAvKsKgRGVzdHJvecKgY29tcG9uZW50wqBmdW5jdGlvbsKgKi8gfVxuICAgIH1cbn1cbiIsIm1vZHVsZSBCQUJZTE9OIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHdpbmRvd3MgcGxhdGZvcm0gcHJvIGNsYXNzXG4gICAgICogQGNsYXNzIFdpbmRvd3NQbGF0Zm9ybSAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBXaW5kb3dzUGxhdGZvcm0ge1xuICAgICAgICAvKiogSXMgeGJveCBsaXZlIHVzZXIgc2lnbmVkIGluIGlmIHBsYXRmb3JtIHNlcnZpY2VzIGVuYWJsZWQuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc1hib3hMaXZlVXNlclNpZ25lZEluKHN5c3RlbVVzZXI6IFdpbmRvd3MuU3lzdGVtLlVzZXIgPSBudWxsLCBwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVzZXI6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5YYm94TGl2ZVVzZXIgPSAoc3lzdGVtVXNlciAhPSBudWxsKSA/IEJBQllMT04uV2luZG93c1BsYXRmb3JtLkdldFhib3hMaXZlU3lzdGVtVXNlcihzeXN0ZW1Vc2VyLCBwbGF5ZXIpIDogQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uR2V0WGJveExpdmVVc2VyKHBsYXllcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh1c2VyICE9IG51bGwgJiYgdXNlci5pc1NpZ25lZEluID09IHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFZhbGlkYXRlZCBzaWduIGluIHhib3ggbGl2ZSB1c2VyIGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFhib3hMaXZlVXNlclNpZ25JbihwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSwgb25jb21wbGV0ZT86IChyZXN1bHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5TaWduSW5SZXN1bHQpID0+IHZvaWQsIG9uZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgb25wcm9ncmVzcz86IChwcm9ncmVzczogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5YYm94TGl2ZVVzZXJTaWxlbnRTaWduSW4ocGxheWVyLCAoZmlyc3Q6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5TaWduSW5SZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0LnN0YXR1cyA9PT0gTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlNpZ25JblN0YXR1cy51c2VySW50ZXJhY3Rpb25SZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uWGJveExpdmVVc2VyRGlhbG9nU2lnbkluKHBsYXllciwgKHNlY29uZDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlNpZ25JblJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmNvbXBsZXRlKSBvbmNvbXBsZXRlKHNlY29uZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBvbmVycm9yLCBvbnByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmNvbXBsZXRlKSBvbmNvbXBsZXRlKGZpcnN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG9uZXJyb3IsIG9ucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBTaWxlbnQgc2lnbiBpbiB4Ym94IGxpdmUgdXNlciBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBYYm94TGl2ZVVzZXJTaWxlbnRTaWduSW4ocGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUsIG9uY29tcGxldGU/OiAocmVzdWx0OiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uU2lnbkluUmVzdWx0KSA9PiB2b2lkLCBvbmVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIG9ucHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IGFueSkgPT4gdm9pZCk6IFdpbmRvd3MuRm91bmRhdGlvbi5Qcm9qZWN0aW9ucy5Qcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgIHJldHVybiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpID8gQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uR2V0WGJveExpdmVVc2VyKHBsYXllcikuc2lnbkluU2lsZW50bHlBc3luYyhudWxsKS50aGVuKG9uY29tcGxldGUsIG9uZXJyb3IsIG9ucHJvZ3Jlc3MpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKiogRGlhbG9nIHNpZ24gaW4geGJveCBsaXZlIHVzZXIgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgWGJveExpdmVVc2VyRGlhbG9nU2lnbkluKHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lLCBvbmNvbXBsZXRlPzogKHJlc3VsdDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlNpZ25JblJlc3VsdCkgPT4gdm9pZCwgb25lcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBvbnByb2dyZXNzPzogKHByb2dyZXNzOiBhbnkpID0+IHZvaWQpOiBXaW5kb3dzLkZvdW5kYXRpb24uUHJvamVjdGlvbnMuUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgICAgICByZXR1cm4gKEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSA/IEJBQllMT04uV2luZG93c1BsYXRmb3JtLkdldFhib3hMaXZlVXNlcihwbGF5ZXIpLnNpZ25JbkFzeW5jKG51bGwpLnRoZW4ob25jb21wbGV0ZSwgb25lcnJvciwgb25wcm9ncmVzcykgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBMb2FkcyBhIHhib3ggbGl2ZSB1c2VyIHByb2ZpbGUgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9hZFhib3hMaXZlVXNlclByb2ZpbGUocGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUsIG9uY29tcGxldGU/OiAocmVzdWx0OiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5Tb2NpYWwuWGJveFVzZXJQcm9maWxlKSA9PiB2b2lkLCBvbmVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIG9ucHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IGFueSkgPT4gdm9pZCk6IFdpbmRvd3MuRm91bmRhdGlvbi5Qcm9qZWN0aW9ucy5Qcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgIHJldHVybiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpID8gQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uR2V0WGJveExpdmVVc2VyQ29udGV4dChwbGF5ZXIpLnByb2ZpbGVTZXJ2aWNlLmdldFVzZXJQcm9maWxlQXN5bmMoQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uR2V0WGJveExpdmVVc2VyKHBsYXllcikueGJveFVzZXJJZCkudGhlbihvbmNvbXBsZXRlLCBvbmVycm9yLCBvbnByb2dyZXNzKSA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuICAgICAgICAvLyAqIEJhYnlsb24gWGJveCBMaXZlIFBsYXllciBGdW5jdGlvbnMgKiAvL1xuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuXG4gICAgICAgIC8qKiBHZXQgeGJveCBsaXZlIHVzZXIgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0WGJveExpdmVVc2VyKHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lKTogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlhib3hMaXZlVXNlciB7XG4gICAgICAgICAgICBsZXQgdXNlcjogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlhib3hMaXZlVXNlciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lOlxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlVXNlck9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5Ud286XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVVc2VyVHdvKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlRocmVlOlxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlVXNlclRocmVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLkZvdXI6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVVc2VyRm91cigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB4Ym94IGxpdmUgdXNlciBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRYYm94TGl2ZVN5c3RlbVVzZXIoc3lzdGVtVXNlcjogV2luZG93cy5TeXN0ZW0uVXNlciwgcGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUpOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uWGJveExpdmVVc2VyIHtcbiAgICAgICAgICAgIGxldCB1c2VyOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uWGJveExpdmVVc2VyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmU6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVTeXN0ZW1Vc2VyT25lKHN5c3RlbVVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5Ud286XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVTeXN0ZW1Vc2VyVHdvKHN5c3RlbVVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5UaHJlZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVN5c3RlbVVzZXJUaHJlZShzeXN0ZW1Vc2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuRm91cjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVN5c3RlbVVzZXJGb3VyKHN5c3RlbVVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB4Ym94IGxpdmUgdXNlciBjb250ZXh0IGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFhib3hMaXZlVXNlckNvbnRleHQocGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUpOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5YYm94TGl2ZUNvbnRleHQge1xuICAgICAgICAgICAgbGV0IGNvbnRleHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlhib3hMaXZlQ29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlQ29udGV4dE9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5Ud286XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVDb250ZXh0VHdvKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlRocmVlOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlQ29udGV4dFRocmVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLkZvdXI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVDb250ZXh0Rm91cigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlc2V0cyB4Ym94IGxpdmUgdXNlciBjb250ZXh0IGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFJlc2V0WGJveExpdmVVc2VyQ29udGV4dChwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLnJlc2V0WGJveExpdmVVc2VyQ29udGV4dE9uZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlR3bzpcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLnJlc2V0WGJveExpdmVVc2VyQ29udGV4dFR3bygpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlRocmVlOlxuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4ucmVzZXRYYm94TGl2ZVVzZXJDb250ZXh0VGhyZWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5Gb3VyOlxuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4ucmVzZXRYYm94TGl2ZVVzZXJDb250ZXh0Rm91cigpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbiAgICAgICAgLy8gKiBCYWJ5bG9uIFhib3ggTGl2ZSBDb250ZXh0IEZ1bmN0aW9ucyAqIC8vXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuXG4gICAgICAgIC8qKiBHZXQgeGJveCBsaXZlIGNvbnRleHQgcHJvcGVydHkgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0WGJveExpdmVDb250ZXh0UHJvcGVydHkobmFtZTogYW55KTogYW55IHtcbiAgICAgICAgICAgIHJldHVybiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpID8gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVDb250ZXh0UHJvcGVydHkobmFtZSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgeGJveCBsaXZlIGNvbnRleHQgcHJvcGVydHkgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0WGJveExpdmVDb250ZXh0UHJvcGVydHkobmFtZTogYW55LCBwcm9wZXJ0eTogYW55KTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5zZXRYYm94TGl2ZUNvbnRleHRQcm9wZXJ0eShuYW1lLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlc2V0cyB4Ym94IGxpdmUgcHJvcGVydHkgY29udGV4dCBiYWcgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVzZXRYYm94TGl2ZVByb3BlcnR5Q29udGV4dHMoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5yZXNldFhib3hMaXZlUHJvcGVydHlDb250ZXh0cygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4gICAgICAgIC8vICogQmFieWxvbiBYYm94IExpdmUgU2lnbiBPdXQgRnVuY3Rpb25zICogLy9cbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuXG4gICAgICAgIC8qKiBTZXRzIHRoZSBYYm94IFVzZXIgU2lnbiBPdXQgQ29tcGxldGUgSGFuZGxlciAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0WGJveExpdmVTaWduT3V0SGFuZGxlcihoYW5kbGVyOiAocmVzdWx0OiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uU2lnbk91dENvbXBsZXRlZEV2ZW50QXJncykgPT4gdm9pZCA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLm9udXNlcnNpZ25vdXQgPSBoYW5kbGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFRlc3RDb250cm9sbGVyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgVGVzdENvbnRyb2xsZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBNT1ZFX1ZFTE9DSVRZOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE15Q2hhcmFjdGVyQ29udHJvbGxlcjogQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXIgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGVzdCBDb250cm9sbGVyIEF3YWtlOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJUcmFuc2Zvcm0gPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwiUGxheWVyVHJhbnNmb3JtXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgcGxheWVyVHJhbnNmb3JtLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLjE1LCAwKTtcbiAgICAgICAgICAgIHBsYXllclRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJDYXBzdWxlID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVDYXBzdWxlKFwiUGxheWVyQ2Fwc3VsZVwiLCB7IGhlaWdodDogMS44LCByYWRpdXM6IDAuMjggfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBwbGF5ZXJDYXBzdWxlLnBhcmVudCA9IHBsYXllclRyYW5zZm9ybTtcbiAgICAgICAgICAgIHBsYXllckNhcHN1bGUucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAuOSwgMCk7XG4gICAgICAgICAgICBwbGF5ZXJDYXBzdWxlLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBsYXllciBDYXBzdWxlOiBcIiArIHBsYXllckNhcHN1bGUubmFtZSwgcGxheWVyQ2Fwc3VsZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHByb3BzOiBhbnkgPSB7XG4gICAgICAgICAgICAgICAgXCJhdmF0YXJSYWRpdXNcIjogMC4yOCxcbiAgICAgICAgICAgICAgICBcImF2YXRhckhlaWdodFwiOiAxLjgsXG4gICAgICAgICAgICAgICAgXCJjZW50ZXJPZmZzZXRcIjoge1xuICAgICAgICAgICAgICAgICAgICBcInhcIjogMC4wLFxuICAgICAgICAgICAgICAgICAgICBcInlcIjogMC45NCxcbiAgICAgICAgICAgICAgICAgICAgXCJ6XCI6IDAuMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJza2luV2lkdGhcIjogMC4wMjUsXG4gICAgICAgICAgICAgICAgXCJzbG9wZUxpbWl0XCI6IDQ1LjAsXG4gICAgICAgICAgICAgICAgXCJzdGVwT2Zmc2V0XCI6IDAuMjUsXG4gICAgICAgICAgICAgICAgXCJtaW5Nb3ZlRGlzdGFuY2VcIjogMC4wLFxuICAgICAgICAgICAgICAgIFwiY2Fwc3VsZVNlZ21lbnRzXCI6IDE2LFxuICAgICAgICAgICAgICAgIFwidXNlR2hvc3RTd2VlcFRlc3RcIjogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFBST0pFQ1QuVGVzdENvbnRyb2xsZXIuTXlDaGFyYWN0ZXJDb250cm9sbGVyID0gbmV3IEJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyKHBsYXllclRyYW5zZm9ybSwgdGhpcy5zY2VuZSwgbnVsbCwgXCJCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlclwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2hhcmFjdGVyIENvbnRyb2xsZXI6IFwiICsgcGxheWVyVHJhbnNmb3JtLm5hbWUsIFBST0pFQ1QuVGVzdENvbnRyb2xsZXIuTXlDaGFyYWN0ZXJDb250cm9sbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5UZXN0Q29udHJvbGxlci5NeUNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVGVzdENvbnRyb2xsZXIuTXlDaGFyYWN0ZXJDb250cm9sbGVyLm1vdmUoUFJPSkVDVC5UZXN0Q29udHJvbGxlci5NT1ZFX1ZFTE9DSVRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBUZXN0TW92ZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBUZXN0TW92ZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgLy8gRXhhbXBsZTogcHJpdmF0ZSBoZWxsb1dvcmxkOnN0cmluZyA9IFwiSGVsbG8gV29ybGRcIjtcblxuICAgICAgICBwcml2YXRlIGNoYXJhY3RlckNvbnRyb2xsZXI6IEJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogSW5pdCBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXJcIik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBTdGFydCBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZWFkeSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEV4ZWN1dGUgd2hlbiByZWFkeSBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIFVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLm1vdmUobmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwLjI1KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIExhdGUgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RlcCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEJlZm9yZSBwaHlzaWNzIHN0ZXAgZnVuY3Rpb24gKHJlbW92ZSBlbXB0eSBmdW5jdGlvbiBmb3IgcGVyZm9ybWFuY2UpICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZml4ZWQoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBBZnRlciBwaHlzaWNzIHN0ZXAgZnVuY3Rpb24gKHJlbW92ZSBlbXB0eSBmdW5jdGlvbiBmb3IgcGVyZm9ybWFuY2UpICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXIoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBBZnRlciB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIFJlc2V0IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBEZXN0cm95IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG4gICAgfVxufSJdfQ==

