// Project Script Bundle
globalThis['default.playground.js']=true;


// default.playground.js
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon network entity (Colyseus Universal Game Room)
     * @class ColyseusGameServer - All rights reserved (c) 2020 Mackey Kinard
    */
    class ColyseusGameServer extends BABYLON.Toolkit.ScriptComponent {
        static get Instance() { return PROJECT.ColyseusGameServer.StaticInstance; }
        isSoloSession() { return this.soloSession; }
        isHostSession() { return (this.hostSessionName != null && this.hostSessionName !== ""); }
        getColyseusClient() { return this.client; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.projectName = "Game Project";
            this.autoJoinRoom = true;
            this.playerUserName = "Player";
            this.defaultRoomName = "default";
            this.roomLogicModule = "DefaultLogic";
            this.maxClientsAllowed = 8;
            this.patchUpdateRateFps = 20;
            this.roomSimulateRateFps = 60;
            this.networkBufferingTime = 0.15;
            this.soloSession = false;
            this.colyseusAvailable = false;
            this.networkRoomConnected = false;
            this.hostSessionName = null;
            this.joinRoomId = null;
            this.client = null;
            PROJECT.ColyseusGameServer.StaticInstance = this;
        }
        awake() {
            if (BABYLON.NetworkManager.IsAvailable()) {
                this.colyseusAvailable = true;
                BABYLON.Tools.Log("Colyseus network library loaded");
            }
            else {
                this.colyseusAvailable = false;
                BABYLON.Tools.Warn("Colyseus network library not available");
            }
            try {
                const playerSoloParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("solo");
                if (playerSoloParam != null && playerSoloParam !== "" && playerSoloParam !== "*") {
                    if (playerSoloParam.toLowerCase() === "true") {
                        this.soloSession = true;
                        this.colyseusAvailable = false;
                        BABYLON.Tools.Warn("Colyseus solo network game play requested");
                    }
                }
            }
            catch (e) {
                console.error(e);
            }
            if (this.colyseusAvailable === true) {
                try {
                    const serverEndpointParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("endpoint");
                    if (serverEndpointParam != null && serverEndpointParam !== "") {
                        const serverEndpoint = decodeURIComponent(serverEndpointParam);
                        if (serverEndpoint != null && serverEndpoint !== "" && serverEndpoint !== "*") {
                            BABYLON.Toolkit.SceneManager.ServerEndPoint = serverEndpoint;
                        }
                    }
                }
                catch (e0) {
                    console.error(e0);
                }
                try {
                    const playerNameParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("player");
                    if (playerNameParam != null && playerNameParam !== "" && playerNameParam !== "*") {
                        this.playerUserName = decodeURIComponent(playerNameParam);
                    }
                }
                catch (e1) {
                    console.error(e1);
                }
                try {
                    const roomNameParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("room");
                    if (roomNameParam != null && roomNameParam !== "" && roomNameParam !== "*") {
                        this.defaultRoomName = decodeURIComponent(roomNameParam);
                    }
                }
                catch (e2) {
                    console.error(e2);
                }
                try {
                    const hostSessionParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("host");
                    if (hostSessionParam != null && hostSessionParam !== "" && hostSessionParam !== "*") {
                        this.hostSessionName = decodeURIComponent(hostSessionParam);
                    }
                }
                catch (e3) {
                    console.error(e3);
                }
                try {
                    const joinSessionParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("join");
                    if (joinSessionParam != null && joinSessionParam !== "" && joinSessionParam !== "*") {
                        this.joinRoomId = decodeURIComponent(joinSessionParam);
                    }
                }
                catch (e4) {
                    console.error(e4);
                }
                BABYLON.NetworkManager.OnJoinRoomObservable.add((user) => { console.warn(user.name + " joined the " + this.defaultRoomName.toLowerCase() + " room."); });
            }
        }
        update() {
            if (this.colyseusAvailable === true && this.networkRoomConnected === false && this.autoJoinRoom === true && this.isReady()) {
                this.autoJoinRoom = false;
                this.joinRoom();
            }
        }
        destroy() {
            this.autoJoinRoom = false;
            this.colyseusAvailable = false;
            this.networkRoomConnected = true;
            this.defaultRoomName = null;
            this.playerUserName = null;
            this.client = null;
        }
        joinRoom() {
            return __awaiter(this, void 0, void 0, function* () {
                if (this.patchUpdateRateFps > PROJECT.ColyseusGameServer.MAX_FRAME_RATE)
                    this.patchUpdateRateFps = PROJECT.ColyseusGameServer.MAX_FRAME_RATE;
                if (this.roomSimulateRateFps > PROJECT.ColyseusGameServer.MAX_FRAME_RATE)
                    this.roomSimulateRateFps = PROJECT.ColyseusGameServer.MAX_FRAME_RATE;
                if (this.colyseusAvailable === true) {
                    try {
                        const websocketUrl = (BABYLON.Toolkit.SceneManager.ServerEndPoint.toLowerCase().startsWith("http")) ? ("ws" + BABYLON.Toolkit.SceneManager.ServerEndPoint.substring(4)) : BABYLON.Toolkit.SceneManager.ServerEndPoint;
                        if (BABYLON.Toolkit.SceneManager.ServerEndPoint.endsWith("/"))
                            BABYLON.Toolkit.SceneManager.ServerEndPoint = BABYLON.Toolkit.SceneManager.ServerEndPoint.substring(0, (BABYLON.Toolkit.SceneManager.ServerEndPoint.length - 1));
                        if (this.projectName == null || this.projectName === "")
                            this.projectName = "Game Project";
                        console.log(">>> Server Endpoint: " + BABYLON.Toolkit.SceneManager.ServerEndPoint);
                        console.log(">>> Web Socket Url: " + websocketUrl);
                        console.log(">>> Max Clients: " + this.maxClientsAllowed);
                        console.log(">>> Room Name: " + this.defaultRoomName);
                        console.log(">>> User Name: " + this.playerUserName);
                        console.log(">>> Host Desc: " + this.hostSessionName);
                        console.log(">>> Join Room: " + this.joinRoomId);
                        let room = null;
                        if (this.client == null)
                            this.client = new Colyseus.Client(websocketUrl);
                        if (this.hostSessionName != null && this.hostSessionName !== "") {
                            const sceneFile = BABYLON.Toolkit.SceneManager.GetSceneFile(this.scene);
                            room = yield this.client.create(this.defaultRoomName, {
                                userName: this.playerUserName,
                                roomLogic: this.roomLogicModule,
                                maxClients: this.maxClientsAllowed,
                                interpolationBuffer: this.networkBufferingTime,
                                patchUpdateRateMs: (1000 / this.patchUpdateRateFps),
                                roomSimulationIntervalMs: (1000 / this.roomSimulateRateFps),
                                userDatagramProtocol: false,
                                compressDataPackets: false,
                                project: this.projectName,
                                type: "client",
                                desc: this.hostSessionName,
                                map: sceneFile,
                                aux: "*"
                            });
                        }
                        else if (this.joinRoomId != null && this.joinRoomId !== "") {
                            room = yield this.client.joinById(this.joinRoomId, {
                                userName: this.playerUserName
                            });
                        }
                        if (room != null) {
                            BABYLON.NetworkManager.AttachDefaultRoom(this.scene, room);
                        }
                        else {
                            console.error("Failed to join room: " + this.transform.name);
                        }
                    }
                    catch (e) {
                        console.error("Failed to connect: ", e);
                    }
                    finally {
                        this.networkRoomConnected = true;
                    }
                }
            });
        }
    }
    ColyseusGameServer.MAX_FRAME_RATE = 200;
    ColyseusGameServer.StaticInstance = null;
    PROJECT.ColyseusGameServer = ColyseusGameServer;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class ColyseusNetworkAvatar
    */
    class ColyseusNetworkAvatar extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.controlMode = 0;
            this.defaultAvatar = null;
            this.maleAnimationRig = null;
            this.femaleAnimationRig = null;
            this.castRealtimeShadow = true;
            this.disposeOfMannequin = true;
            this.pixelOffsetX = 0;
            this.pixelOffsetY = 0;
            this.playerJoined = false;
            this.preloadLocation = null;
            this.ambientMaterial = new BABYLON.Color3(1.0, 1.0, 1.0);
            this.avatarArmature = null;
            this.avatarSkeleton = null;
            this.avatarHandness = "Left";
            this.avatarGender = "Male";
            this.avatarLabel = "Default Player";
            this.avatarLoaded = false;
            this.animator = null;
            this.avatarReady = false;
            this.manageLabelTexture = true;
            this.textureResolution = 512;
            this.maxLabelWidth = 960;
            this.minLabelWidth = 320;
            this.labelOffsetX = 0;
            this.labelOffsetY = 2.0;
            this.labelHeight = 64;
            this.labelColor = new BABYLON.Color3(0.0, 1.0, 0.0);
            this.labelAlpha = 0.85;
            this.rectColor = new BABYLON.Color3(0.0, 0.0, 0.0);
            this.rectAlpha = 0.65;
            this.fontFamily = "Arial";
            this.fontStyle = "Bold";
            this.fontSize = 36;
            this.fillRect = true;
        }
        awake() {
            this.animator = this.getComponent("BABYLON.Toolkit.AnimationState");
            if (this.animator == null)
                BABYLON.Tools.Warn("Failed to locate aniation state component for: " + this.transform.name);
            const defaultAvatarInfo = this.getProperty("defaultAvatar");
            if (defaultAvatarInfo != null)
                this.defaultAvatar = (defaultAvatarInfo.name + ".glb");
            const maleAnimationInfo = this.getProperty("maleAnimationRig");
            if (maleAnimationInfo != null)
                this.maleAnimationRig = (maleAnimationInfo.name + ".glb");
            const femaleAnimationInfo = this.getProperty("femaleAnimationRig");
            if (femaleAnimationInfo != null)
                this.femaleAnimationRig = (femaleAnimationInfo.name + ".glb");
            // ..
            // Setup Browser Platform Options
            // ..
            if (this.isSafariBrowser() === true)
                this.pixelOffsetY = 0;
            else
                this.pixelOffsetY = 2; // Note: Default Two Pixel Offset
        }
        ready() {
            if (this.controlMode === 0) {
                this.setupLocalPlayerAvatar();
            }
            this.avatarReady = true;
        }
        update() {
            if (this.playerJoined === false && this.avatarReady === true) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    this.playerJoined = true;
                    if (this.controlMode === 0) {
                        if (this.manageLabelTexture === true) {
                            this.avatarLabel = BABYLON.NetworkManager.GetCurrentUser().name;
                            this.createAvatarLabel(this.avatarLabel);
                        }
                    }
                    else if (this.controlMode === 1) {
                        this.setupRemotePlayerAvatar();
                        if (this.manageLabelTexture === true) {
                            this.createAvatarLabel(this.avatarLabel);
                        }
                    }
                }
            }
        }
        destroy() {
            this.animator = null;
            this.avatarLabel = null;
            this.avatarGender = null;
            this.avatarHandness = null;
            this.avatarArmature = null;
            this.avatarSkeleton = null;
            this.defaultAvatar = null;
            this.preloadLocation = null;
            this.maleAnimationRig = null;
            this.femaleAnimationRig = null;
        }
        isSafariBrowser() {
            let result = false;
            if (navigator != null && navigator.userAgent != null) {
                result = navigator.vendor.match(/apple/i) &&
                    !navigator.userAgent.match(/crios/i) &&
                    !navigator.userAgent.match(/fxios/i) &&
                    !navigator.userAgent.match(/Opera|OPT\//);
            }
            return result;
        }
        createAvatarLabel(name) {
            if (name != null && name !== "") {
                const plane = BABYLON.MeshBuilder.CreatePlane("TexturePlane", { width: 1, height: 1 }, this.scene);
                const planeMaterial = new BABYLON.StandardMaterial((this.transform.name + ".PlaneMaterial"), this.scene);
                // ..
                // Background Opacity Texture
                // ..
                const opacityTexture = new BABYLON.DynamicTexture("PlayerTexture", { width: this.textureResolution, height: this.textureResolution }, this.scene);
                const opacityCtx = opacityTexture.getContext();
                const fontString = this.getResizedFontString(name, this.maxLabelWidth, this.fontSize, this.fontFamily, this.fontStyle);
                opacityCtx.font = fontString; // Note: Must Be Set Before Measuring
                const fontWidth = opacityCtx.measureText(name).width;
                const fontPadding = PROJECT.ColyseusNetworkAvatar.FONT_PADDING;
                let rectWidth = (fontWidth + fontPadding);
                let rectHeight = this.labelHeight;
                if (rectWidth < this.minLabelWidth)
                    rectWidth = this.minLabelWidth;
                if (rectWidth > this.maxLabelWidth)
                    rectWidth = this.maxLabelWidth;
                if (this.fillRect === true) {
                    opacityCtx.fillStyle = `rgba(0, 0, 0, ${this.rectAlpha.toString()})`;
                    this.createRoundedRect((this.textureResolution * 0.5) - (rectWidth * 0.5), (this.textureResolution * 0.5) - (rectHeight * 0.5), rectWidth, rectHeight, (rectHeight * 0.5), opacityCtx);
                    opacityCtx.fill();
                }
                opacityCtx.textAlign = "center";
                opacityCtx.textBaseline = "middle";
                opacityCtx.fillStyle = `rgba(0, 0, 0, ${this.labelAlpha.toString()})`;
                opacityCtx.fillText(name, (this.textureResolution * 0.5) + this.pixelOffsetX, (this.textureResolution * 0.5) + this.pixelOffsetY);
                opacityTexture.update(true);
                // ..
                // Background & Foreground Colors
                // ..
                const colorTexture = new BABYLON.DynamicTexture("PlayerTextureColor", { width: this.textureResolution, height: this.textureResolution }, this.scene);
                const colorCtx = colorTexture.getContext();
                colorCtx.fillStyle = this.rectColor.toHexString();
                colorCtx.fillRect(0, 0, this.textureResolution, this.textureResolution);
                colorCtx.font = fontString;
                colorCtx.textAlign = "center";
                colorCtx.textBaseline = "middle";
                colorCtx.fillStyle = this.labelColor.toHexString();
                colorCtx.fillText(name, (this.textureResolution * 0.5) + this.pixelOffsetX, (this.textureResolution * 0.5) + this.pixelOffsetY);
                colorTexture.update(true);
                // ..
                // Plane Name Label Material Setup
                // ..
                planeMaterial.disableLighting = true;
                planeMaterial.opacityTexture = opacityTexture;
                planeMaterial.diffuseTexture = colorTexture;
                planeMaterial.emissiveTexture = colorTexture;
                // ..
                // Plane Position & Offset Parenting
                // ..
                plane.material = planeMaterial;
                plane.billboardMode = BABYLON.Mesh.BILLBOARDMODE_ALL;
                plane.position.x = this.labelOffsetX;
                plane.position.y = (this.labelOffsetY + PROJECT.ColyseusNetworkAvatar.HEIGHT_PADDING);
                plane.parent = this.transform.parent; // FIXME: Maybe Parent To Model Head Bone Or Something - ???
                plane.renderingGroupId = BABYLON.Toolkit.Utilities.DefaultRenderGroup();
            }
        }
        createRoundedRect(x, y, w, h, r, ctx) {
            if (w < 2 * r)
                r = w / 2;
            if (h < 2 * r)
                r = h / 2;
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.arcTo(x + w, y, x + w, y + h, r);
            ctx.arcTo(x + w, y + h, x, y + h, r);
            ctx.arcTo(x, y + h, x, y, r);
            ctx.arcTo(x, y, x + w, y, r);
            ctx.closePath();
        }
        getResizedFontString(text, maxWidth, startingFontSize, fontFamily = "Arial", fontStyle = "") {
            const tempCanvas = document.createElement('canvas');
            const measureCtx = tempCanvas.getContext('2d');
            const getFontString = (size) => { return `${fontStyle}${(fontStyle === "") ? "" : " "}${size}px ${fontFamily}`; };
            let currentSize = startingFontSize;
            measureCtx.font = getFontString(currentSize); // Note: Must Be Set Before Measuring
            let currentWidth = measureCtx.measureText(text).width;
            if (currentWidth > maxWidth) {
                let step = 1;
                while (currentWidth > maxWidth) {
                    let newSize = currentSize - step;
                    measureCtx.font = getFontString(newSize); // Note: Must Be Set Before Measuring
                    let newWidth = measureCtx.measureText(text).width;
                    if (newWidth < maxWidth && step === 1) {
                        step = 0.1;
                        newSize += 1;
                    }
                    else {
                        currentWidth = newWidth;
                    }
                    currentSize = newSize;
                }
            }
            return getFontString(currentSize);
        }
        setupLocalPlayerAvatar() {
            try {
                const playerAvatarParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("avatar");
                if (playerAvatarParam != null && playerAvatarParam !== "" && playerAvatarParam !== "*") {
                    this.defaultAvatar = decodeURIComponent(playerAvatarParam);
                }
            }
            catch (e1) {
                console.error(e1);
            }
            try {
                const playerGenderParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("gender");
                if (playerGenderParam != null && playerGenderParam !== "" && playerGenderParam !== "*") {
                    this.avatarGender = decodeURIComponent(playerGenderParam);
                }
            }
            catch (e2) {
                console.error(e2);
            }
            try {
                const playerHandnessParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("hand");
                if (playerHandnessParam != null && playerHandnessParam !== "" && playerHandnessParam !== "*") {
                    this.avatarHandness = decodeURIComponent(playerHandnessParam);
                }
            }
            catch (e3) {
                console.error(e3);
            }
            try {
                const playerHandnessParam = BABYLON.Toolkit.WindowManager.GetUrlParameter("hand");
                if (playerHandnessParam != null && playerHandnessParam !== "" && playerHandnessParam !== "*") {
                    this.avatarHandness = decodeURIComponent(playerHandnessParam);
                }
            }
            catch (e3) {
                console.error(e3);
            }
            // ..
            // Create Network Entity Attributes
            // ..
            const klass = "PROJECT.ColyseusNetworkEntity";
            let colyseus = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.transform, klass);
            if (colyseus == null) {
                if (this.transform.parent != null) {
                    colyseus = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.transform.parent, klass);
                    if (colyseus == null) {
                        if (this.transform.parent.parent != null) {
                            colyseus = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.transform.parent.parent, klass);
                            if (colyseus == null) {
                                if (this.transform.parent.parent.parent != null) {
                                    colyseus = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.transform.parent.parent.parent, klass);
                                }
                            }
                        }
                    }
                }
            }
            if (colyseus != null) {
                if (colyseus.runtimeAttributes == null)
                    colyseus.runtimeAttributes = [];
                colyseus.runtimeAttributes.push({ key: "playerAvatar", value: this.defaultAvatar });
                colyseus.runtimeAttributes.push({ key: "playerGender", value: this.avatarGender });
                colyseus.runtimeAttributes.push({ key: "playerHand", value: this.avatarHandness });
            }
            // ..
            //  Load Runtime Player Avatar Model
            // ..
            if (this.defaultAvatar != null && this.defaultAvatar !== "") {
                if (BABYLON.Toolkit.SceneManager.HasSceneBeenPreLoaded(this.scene)) {
                    this.loadRuntimePlayerAvatar(this.defaultAvatar);
                }
                else {
                    this.preloadLocation = this.defaultAvatar;
                }
            }
            else {
                BABYLON.Tools.Warn("Invalid avatar location specified for: " + this.transform.name);
            }
        }
        setupRemotePlayerAvatar() {
            let remoteEntity = this.transform.networkEntity;
            if (remoteEntity == null) {
                if (this.transform.parent != null) {
                    remoteEntity = this.transform.parent.networkEntity;
                    if (remoteEntity == null) {
                        if (this.transform.parent.parent != null) {
                            remoteEntity = this.transform.parent.parent.networkEntity;
                            if (remoteEntity == null) {
                                if (this.transform.parent.parent.parent != null) {
                                    remoteEntity = this.transform.parent.parent.parent.networkEntity;
                                }
                            }
                        }
                    }
                }
            }
            // ..
            // Query Network Entity Attributes
            // ..
            if (remoteEntity != null && remoteEntity.transformNode != null && remoteEntity.transformNodeType != null && remoteEntity.transformNodeType === 2) {
                const playerAvatar = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerAvatar");
                if (playerAvatar != null && playerAvatar !== "") {
                    this.defaultAvatar = playerAvatar;
                }
                const playerGender = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerGender");
                if (playerGender != null && playerGender !== "") {
                    this.avatarGender = playerGender;
                }
                const playerHand = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "playerHand");
                if (playerHand != null && playerHand !== "") {
                    this.avatarHandness = playerHand;
                }
                const ownerName = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(remoteEntity.transformNode, "ownerName");
                if (ownerName != null && ownerName !== "") {
                    this.avatarLabel = ownerName;
                }
            }
            // ..
            //  Load Runtime Player Avatar Model
            // ..
            if (this.defaultAvatar != null && this.defaultAvatar !== "") {
                this.loadRuntimePlayerAvatar(this.defaultAvatar);
            }
            else {
                BABYLON.Tools.Warn("Invalid avatar location specified for: " + this.transform.name);
            }
        }
        configurePlayerAvatarRig(root) {
            if (root != null) {
                const armatures = root.getChildren((node) => { return (node.name === "Armature"); }, false);
                this.avatarLoaded = true;
                this.avatarArmature = (armatures != null && armatures.length > 0) ? armatures[0] : null;
                let shadowList = null;
                let freezeList = null;
                const meshes = root.getChildMeshes(false);
                if (meshes != null && meshes.length > 0) {
                    meshes.forEach((mesh) => {
                        mesh.renderingGroupId = BABYLON.Toolkit.Utilities.DefaultRenderGroup();
                    });
                }
                const skins = root.getChildMeshes(false, (node) => { return (node.skeleton != null); });
                if (skins != null && skins.length > 0) {
                    skins.forEach((skin) => {
                        if (this.avatarSkeleton == null && skin.skeleton != null) {
                            this.avatarSkeleton = skin.skeleton;
                        }
                        if (this.castRealtimeShadow === true) {
                            if (shadowList == null)
                                shadowList = [];
                            shadowList.push(skin);
                        }
                        skin.isPickable = true;
                        skin.useVertexColors = false;
                        skin.cullingStrategy = BABYLON.AbstractMesh.CULLINGSTRATEGY_STANDARD;
                        skin.alwaysSelectAsActiveMesh = true; // Note: Always Set For Skin Without Updated Bounding Box Info
                    });
                }
                if (shadowList != null && shadowList.length > 0 && this.scene.lights != null && this.scene.lights.length > 0) {
                    this.scene.lights.forEach((light) => {
                        const shadowgenerator = light.getShadowGenerator();
                        if (shadowgenerator != null && light.metadata != null && light.metadata.toolkit != null && light.metadata.toolkit.autorender === true) {
                            const shadowmap = shadowgenerator.getShadowMap();
                            if (shadowmap != null) {
                                if (shadowmap.renderList == null)
                                    shadowmap.renderList = [];
                                shadowList.forEach((mesh) => { shadowmap.renderList.push(mesh); });
                            }
                        }
                    });
                }
                if (freezeList != null && freezeList.length > 0) {
                    freezeList.forEach((mesh) => { mesh.freezeWorldMatrix(); });
                }
                // ..
                // RETARGET ANIMATION GROUPS - (TODO: Blend Shapes)
                // ..
                if (this.avatarSkeleton != null) {
                    const animationRig = (this.avatarGender != null && this.avatarGender.toLowerCase() === "female") ? this.femaleAnimationRig : this.maleAnimationRig;
                    if (animationRig != null && animationRig !== "") {
                        const animationAsset = BABYLON.Toolkit.SceneManager.GetAssetContainer(this.scene, animationRig);
                        if (animationAsset != null && animationAsset.animationGroups != null) {
                            let cgroups = null;
                            let xclips = (this.animator != null) ? this.animator.getDefaultClips() : null;
                            animationAsset.animationGroups.forEach((agroup, index) => {
                                try {
                                    agroup.stop();
                                }
                                catch (_a) { }
                                const newname = (this.transform.name + "." + agroup.name);
                                const cgroup = agroup.clone(newname, null, false);
                                if (cgroup != null) {
                                    cgroup.loopAnimation = true;
                                    BABYLON.Toolkit.Utilities.RetargetAnimationGroupSkeleton(cgroup, this.avatarSkeleton, this.avatarArmature);
                                    if (this.animator != null && xclips != null) {
                                        const xclip = this.animator.fixAnimationGroup(cgroup);
                                        if (xclip != null) {
                                            if (cgroups == null)
                                                cgroups = [];
                                            cgroups.push(cgroup);
                                        }
                                        else {
                                            BABYLON.Tools.Warn("Failed to locate animation group in default clips: " + cgroup.name);
                                        }
                                    }
                                }
                                else {
                                    BABYLON.Tools.Warn("Failed to clone animation group: " + agroup.name);
                                }
                            });
                            if (this.animator != null && cgroups != null && cgroups.length > 0) {
                                this.animator.setAnimationGroups(cgroups);
                            }
                        }
                    }
                }
                // ..
                // TODO: MOVE BONE SOCKET TRANFORMS - ???
                // ..
                // Dispose Mannequinn Skin And Bones For Performance
                // ..
                if (this.avatarLoaded === true && this.disposeOfMannequin === true) {
                    const children = this.transform.getChildren(null, false);
                    children.forEach((child) => {
                        if (child != null) {
                            if (child instanceof BABYLON.AbstractMesh) {
                                try {
                                    if (child.skeleton != null) {
                                        child.skeleton.dispose();
                                        child.skeleton = null;
                                    }
                                }
                                catch (e3) {
                                    console.error(e3);
                                }
                            }
                        }
                    });
                    const childrenx = this.transform.getChildren(null, true);
                    childrenx.forEach((childx) => {
                        if (childx != null) {
                            try {
                                childx.dispose();
                            }
                            catch (e4) {
                                console.error(e4);
                            }
                        }
                    });
                }
            }
        }
        /** Load runtime player avatar from specfied location */
        loadRuntimePlayerAvatar(url) {
            if (url != null && url !== "") {
                //console.warn(">>> Loading player avatar from: " + url);
                const sceneRootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
                let importUrl = url;
                let rooturl = sceneRootUrl;
                let filename = "";
                rooturl = sceneRootUrl;
                filename = importUrl;
                if (importUrl.indexOf("://") >= 0) {
                    rooturl = importUrl.substring(0, importUrl.lastIndexOf('/')) + "/";
                    filename = importUrl.substring(importUrl.lastIndexOf('/') + 1);
                }
                const assetsManager = new BABYLON.AssetsManager(this.scene);
                const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask"), null, rooturl, filename);
                importTask.onSuccess = (task) => {
                    if (task.loadedMeshes != null) {
                        task.loadedMeshes.forEach((mesh) => {
                            if (mesh.material instanceof BABYLON.PBRMaterial) {
                                mesh.material.ambientColor = this.ambientMaterial;
                            }
                        });
                        let rootAvatarMesh = task.loadedMeshes[0];
                        if (rootAvatarMesh != null) {
                            rootAvatarMesh.parent = this.transform.parent;
                            rootAvatarMesh.name = "BlenderAvatar";
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            BABYLON.Toolkit.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            this.configurePlayerAvatarRig(rootAvatarMesh);
                        }
                    }
                };
                importTask.onError = (task, message, exception) => { console.error(message, exception); };
                assetsManager.load();
            }
        }
        /** Add asset preloader tasks (https://doc.babylonjs.com/divingDeeper/importers/assetManager) */
        addPreloaderTasks(assetsManager) {
            if (this.preloadLocation != null && this.preloadLocation !== "") {
                //console.warn(">>> Preloading player avatar from: " + this.preloadLocation);
                const sceneRootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
                let importUrl = this.preloadLocation;
                let rooturl = sceneRootUrl;
                let filename = "";
                rooturl = sceneRootUrl;
                filename = importUrl;
                if (importUrl.indexOf("://") >= 0) {
                    rooturl = importUrl.substring(0, importUrl.lastIndexOf('/')) + "/";
                    filename = importUrl.substring(importUrl.lastIndexOf('/') + 1);
                }
                const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask"), null, rooturl, filename);
                importTask.onSuccess = (task) => {
                    if (task.loadedMeshes != null) {
                        task.loadedMeshes.forEach((mesh) => {
                            if (mesh.material instanceof BABYLON.PBRMaterial) {
                                mesh.material.ambientColor = this.ambientMaterial;
                            }
                        });
                        let rootAvatarMesh = task.loadedMeshes[0];
                        if (rootAvatarMesh != null) {
                            rootAvatarMesh.parent = this.transform.parent;
                            rootAvatarMesh.name = "BlenderAvatar";
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            BABYLON.Toolkit.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            this.configurePlayerAvatarRig(rootAvatarMesh);
                        }
                    }
                };
                importTask.onError = (task, message, exception) => { console.error(message, exception); };
            }
        }
    }
    ColyseusNetworkAvatar.FONT_PADDING = 36;
    ColyseusNetworkAvatar.HEIGHT_PADDING = 0.1;
    PROJECT.ColyseusNetworkAvatar = ColyseusNetworkAvatar;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon network entity (Colyseus Universal Game Room)
     * @class ColyseusNetworkEntity - All rights reserved (c) 2020 Mackey Kinard
     */
    class ColyseusNetworkEntity extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.autoCreate = true;
            this.remotePrefab = null;
            this.assetContainer = null;
            this.movementEpsilon = 0.00001;
            this.movementMethod = BABYLON.EntityMovementType.ClientAuthority;
            this.interpolationMode = BABYLON.EntityInterpolation.Default;
            this.interpolationHandler = null;
            this.syncTransformNode = true;
            this.runtimeAttributes = null;
            this.creationAttributes = null;
            this.bufferedAttributes = null;
            this.networkEntityCreated = false;
        }
        update() {
            if (this.networkEntityCreated === false && this.autoCreate === true && this.isReady()) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    this.autoCreate = false;
                    this.createEntity();
                }
            }
        }
        destroy() {
            this.autoCreate = false;
            this.movementMethod = 0;
            this.remotePrefab = null;
            this.assetContainer = null;
            this.interpolationMode = 0;
            this.interpolationHandler = null;
            this.creationAttributes = null;
            this.runtimeAttributes = null;
            this.syncTransformNode = false;
            this.networkEntityCreated = true;
            const entityId = BABYLON.Toolkit.EntityController.GetNetworkEntityId(this.transform);
            if (entityId != null && entityId !== "")
                BABYLON.NetworkManager.RemoveNetworkEntity(entityId);
        }
        createEntity() {
            const attributesToCreate = {};
            if (this.creationAttributes != null && this.creationAttributes.length > 0) {
                this.creationAttributes.forEach((creationAttribute) => { attributesToCreate[creationAttribute.key] = creationAttribute.value; });
            }
            if (this.runtimeAttributes != null && this.runtimeAttributes.length > 0) {
                this.runtimeAttributes.forEach((runtimeAttribute) => { attributesToCreate[runtimeAttribute.key] = runtimeAttribute.value; });
            }
            const customHandler = (this.interpolationMode === BABYLON.EntityInterpolation.Custom) ? this.interpolationHandler : "";
            BABYLON.NetworkManager.CreateNetworkEntity(this.transform, this.remotePrefab, this.assetContainer, this.movementEpsilon, this.movementMethod, this.interpolationMode, this.syncTransformNode, customHandler, this.bufferedAttributes, attributesToCreate);
            this.networkEntityCreated = true;
        }
    }
    PROJECT.ColyseusNetworkEntity = ColyseusNetworkEntity;
})(PROJECT || (PROJECT = {}));
var BABYLON;
(function (BABYLON) {
    let RemoteFunctionCallTarget;
    (function (RemoteFunctionCallTarget) {
        RemoteFunctionCallTarget[RemoteFunctionCallTarget["All"] = 0] = "All";
        RemoteFunctionCallTarget[RemoteFunctionCallTarget["Others"] = 1] = "Others";
    })(RemoteFunctionCallTarget = BABYLON.RemoteFunctionCallTarget || (BABYLON.RemoteFunctionCallTarget = {}));
    let NetworkEntityType;
    (function (NetworkEntityType) {
        NetworkEntityType[NetworkEntityType["None"] = 0] = "None";
        NetworkEntityType[NetworkEntityType["Local"] = 1] = "Local";
        NetworkEntityType[NetworkEntityType["Remote"] = 2] = "Remote";
    })(NetworkEntityType = BABYLON.NetworkEntityType || (BABYLON.NetworkEntityType = {}));
    let EntityMovementType;
    (function (EntityMovementType) {
        EntityMovementType[EntityMovementType["ClientAuthority"] = 0] = "ClientAuthority";
        EntityMovementType[EntityMovementType["ServerAuthority"] = 1] = "ServerAuthority";
    })(EntityMovementType = BABYLON.EntityMovementType || (BABYLON.EntityMovementType = {}));
    let EntityInterpolation;
    (function (EntityInterpolation) {
        EntityInterpolation[EntityInterpolation["Default"] = 0] = "Default";
        EntityInterpolation[EntityInterpolation["Hermite"] = 1] = "Hermite";
        EntityInterpolation[EntityInterpolation["Custom"] = 2] = "Custom";
    })(EntityInterpolation = BABYLON.EntityInterpolation || (BABYLON.EntityInterpolation = {}));
    class EntityAttribute {
    }
    BABYLON.EntityAttribute = EntityAttribute;
    /**
     * Babylon network management system class (Colyseus Universal Game Room)
     * Supports network users, entities, attributes, remote function calls, custom messages, custom methods and custom room logic modules.
     * @class NetworkManager - All rights reserved (c) 2020 Mackey Kinard
     */
    class NetworkManager {
        static RegisterCustomInterpolationHandler(name, handler) { BABYLON.NetworkManager.CustomHandlerMap.set(name, handler); }
        /** Is the colyseus network library is available */
        static IsAvailable() { return (window.Colyseus !== undefined && window.Colyseus.Client !== undefined); }
        /** Is the default universal game room attached to the scene */
        static IsRoomAttached() { return (BABYLON.NetworkManager.SceneReference != null && BABYLON.NetworkManager.DefaultRoom != null); }
        /** Has client received a join room confirmation message from the default universal game room */
        static HasJoinedRoom() { return (BABYLON.NetworkManager.SceneReference != null && BABYLON.NetworkManager.DefaultRoom != null && BABYLON.NetworkManager.UserReference != null); }
        /** Gets the current user in the default universal game room */
        static GetCurrentUser() { return BABYLON.NetworkManager.UserReference; }
        /** Gets the attached default universal game room */
        static GetDefaultRoom() { return BABYLON.NetworkManager.DefaultRoom; }
        /** Gets the network server time of the attached default universal game room (Seconds) */
        static GetNetworkTime() { return BABYLON.NetworkManager.NetworkServerTime; }
        /** Is local network entity */
        static IsLocalNetworkEntity(entity) { return (BABYLON.NetworkManager.GetNetworkEntityType(entity) === BABYLON.NetworkEntityType.Local); }
        /** Is remote network entity */
        static IsRemoteNetworkEntity(entity) { return (BABYLON.NetworkManager.GetNetworkEntityType(entity) === BABYLON.NetworkEntityType.Remote); }
        /** Gets the network entity type */
        static GetNetworkEntityType(entity) {
            let result = 0;
            const aentity = entity;
            if (aentity.transformNode != null && aentity.transformNodeType != null) {
                result = aentity.transformNodeType;
            }
            return result;
        }
        /** Attaches default universal game room to the specified scene */
        static AttachDefaultRoom(scene, room) {
            BABYLON.NetworkManager.DetachDefaultRoom();
            if (scene != null && room != null) {
                BABYLON.NetworkManager.DefaultRoom = room;
                BABYLON.NetworkManager.SceneReference = scene;
                if (room.state != null && room.state.entities != null) {
                    room.state.entities.onAdd((e, k) => { BABYLON.NetworkManager.AddNetworkEntityHandler(e, k); });
                    room.state.entities.onRemove((e, k) => { BABYLON.NetworkManager.RemoveNetworkEntityHandler(e, k); });
                }
                room.onStateChange.once((state) => { BABYLON.NetworkManager.OnDispatchChatQueueMessages(state); }); // Note: First State Chnage
                room.onStateChange((state) => { BABYLON.NetworkManager.OnDispatchChatQueueMessages(state); }); // Note: State Updated
                room.onMessage("onConnect", (info) => { BABYLON.NetworkManager.OnConnectObservable.notifyObservers(info.user); });
                room.onMessage("onDisconnect", (info) => { BABYLON.NetworkManager.OnDisconnectObservable.notifyObservers(info.user); });
                room.onMessage("onJoin", (info) => { BABYLON.NetworkManager.JoinDefaultRoomHandler(info); BABYLON.NetworkManager.OnJoinRoomObservable.notifyObservers(info.user); });
                room.onMessage("onRFC", (message) => { BABYLON.NetworkManager.OnRemoteProcedureCallObservable.notifyObservers(message); });
                room.onLeave((code) => { BABYLON.NetworkManager.OnLeaveRoomObservable.notifyObservers(code); });
                room.onError((code, message) => { BABYLON.NetworkManager.OnErrorMessageObservable.notifyObservers({ code: code, message: message }); });
                scene.onBeforeRenderObservable.add(BABYLON.NetworkManager.OnSceneBeforeRenderUpdate);
            }
        }
        /** Detaches default universal game room from the scene */
        static DetachDefaultRoom() {
            try {
                try {
                    if (BABYLON.NetworkManager.RootNode != null) {
                        BABYLON.NetworkManager.RootNode.dispose();
                    }
                }
                catch (e0) {
                    console.error(e0);
                }
                try {
                    if (BABYLON.NetworkManager.DefaultRoom != null) {
                        BABYLON.NetworkManager.DefaultRoom.removeAllListeners();
                    }
                }
                catch (e1) {
                    console.error(e1);
                }
                try {
                    if (BABYLON.NetworkManager.NetworkEntityQueue != null) {
                        BABYLON.NetworkManager.NetworkEntityQueue.clear();
                    }
                }
                catch (e2) {
                    console.error(e2);
                }
                try {
                    if (BABYLON.NetworkManager.SceneReference != null) {
                        BABYLON.NetworkManager.SceneReference.onBeforeRenderObservable.removeCallback(BABYLON.NetworkManager.OnSceneBeforeRenderUpdate);
                    }
                }
                catch (e6) {
                    console.error(e6);
                }
            }
            catch (e9) {
                console.error(e9);
            }
            finally {
                BABYLON.NetworkManager.RootNode = null;
                BABYLON.NetworkManager.DefaultRoom = null;
                BABYLON.NetworkManager.UserReference = null;
                BABYLON.NetworkManager.SceneReference = null;
                BABYLON.NetworkManager.NetworkEntityQueue = null;
                BABYLON.NetworkManager.NetworkServerTime = 0;
            }
        }
        /** Gets a network user in the default universal game room */
        static GetNetworkUser(id) {
            let result = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state != null && BABYLON.NetworkManager.DefaultRoom.state.users != null) {
                    result = BABYLON.NetworkManager.DefaultRoom.state.users.get(id);
                }
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
            return result;
        }
        /** Gets a network entity in the default universal game room */
        static GetNetworkEntity(id) {
            let result = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state != null && BABYLON.NetworkManager.DefaultRoom.state.entities != null) {
                    result = BABYLON.NetworkManager.DefaultRoom.state.entities.get(id);
                }
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
            return result;
        }
        /** Creates a network entity in the default universal game room */
        static CreateNetworkEntity(localTransform, remotePrefab = null, assetContainer = null, movementEpsilon = 0.00001, movementType = BABYLON.EntityMovementType.ClientAuthority, interpolationMode = BABYLON.EntityInterpolation.Default, autoSyncTransform = true, customHandlerName = null, bufferedAttributes, createAttributes = null) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.CreateNetworkEntity(BABYLON.NetworkManager.DefaultRoom, BABYLON.NetworkManager.UserReference.name, localTransform, remotePrefab, assetContainer, movementEpsilon, movementType, interpolationMode, autoSyncTransform, customHandlerName, bufferedAttributes, createAttributes);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Removes a network entity from the default universal game room */
        static RemoveNetworkEntity(entityId) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.RemoveNetworkEntity(BABYLON.NetworkManager.DefaultRoom, entityId);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Sets a user attribute on the default universal game room */
        static SetUserAttributes(userId, attributesToSet) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SetUserAttributes(BABYLON.NetworkManager.DefaultRoom, userId, attributesToSet);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Sets a entity attribute on the default universal game room */
        static SetEntityAttributes(entityId, attributesToSet) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SetEntityAttributes(BABYLON.NetworkManager.DefaultRoom, entityId, attributesToSet);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Calls a custom server method on the default universal game room */
        static CallCustomMethod(method, ...args) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.CallCustomMethod(BABYLON.NetworkManager.DefaultRoom, method, args);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        /** Executs a remote function call on the default universal game room */
        static ExecuteRemoteFunctionCall(target, entityId, func, ...args) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.ExecuteRemoteFunctionCall(BABYLON.NetworkManager.DefaultRoom, target, entityId, func, args);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Game Session Chat Messages
        ////////////////////////////////////////////////////////////////////
        /** Gets the current chat message queue items for the default universal game room */
        static GetChatMessages() {
            let messages = null;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                if (BABYLON.NetworkManager.DefaultRoom.state.queue != null) {
                    BABYLON.NetworkManager.DefaultRoom.state.queue.forEach((queue, id) => {
                        if (queue != null && queue.messages != null) {
                            queue.messages.forEach((message, index) => {
                                if (message != null) {
                                    if (messages == null)
                                        messages = [];
                                    messages.push(message);
                                }
                            });
                        }
                    });
                }
            }
            return messages;
        }
        /** Send a chat message to the default universal game room */
        static SendChatMessage(message) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.RoomController.SendChat(BABYLON.NetworkManager.DefaultRoom, message);
            }
            else {
                BABYLON.Tools.Warn("Network manager has not joined the default universal game room.");
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Life Cycle Updates
        ////////////////////////////////////////////////////////////////////
        static OnSceneBeforeRenderUpdate() {
            const deltaTime = BABYLON.Toolkit.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            if (BABYLON.NetworkManager.NetworkServerTime > 0) {
                BABYLON.NetworkManager.NetworkServerTime += deltaTime;
            }
            BABYLON.NetworkManager.ProcessNetworkEntities(deltaTime);
        }
        static OnDispatchChatQueueMessages(state) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                let messages = BABYLON.NetworkManager.GetChatMessages();
                if (messages != null && messages.length > 0) {
                    // ..
                    // Sort In Ascending Order
                    // ..
                    messages.sort((left, right) => {
                        if (left.timestamp < right.timestamp)
                            return -1;
                        if (left.timestamp > right.timestamp)
                            return 1;
                        return 0;
                    });
                    // ..
                    // Dispatch Shallow Copies
                    // ..
                    messages.forEach((mx) => {
                        if (mx != null && (mx.dispatched == null || mx.dispatched == false)) {
                            try {
                                if (BABYLON.NetworkManager.OnChatMessageObservable && BABYLON.NetworkManager.OnChatMessageObservable.hasObservers()) {
                                    BABYLON.NetworkManager.OnChatMessageObservable.notifyObservers(Object.assign({}, mx));
                                }
                            }
                            catch (e) {
                                console.error(e);
                            }
                            finally {
                                mx.dispatched = true;
                            }
                        }
                    });
                }
            }
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Scene View Functions (Scene Delta Time)
        ////////////////////////////////////////////////////////////////////
        static ProcessNetworkEntities(deltaTime) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                let transmitPacketBuffer = null;
                BABYLON.NetworkManager.DefaultRoom.state.entities.forEach((entity, key) => {
                    if (entity.transformNode != null && entity.transformNode.networkEntitySync != null && entity.transformNode.networkEntitySync === true && entity.transformNodeType != null) {
                        if (entity.transformNodeType === BABYLON.NetworkEntityType.Local) { // Note: Local Network Entities Only
                            if (entity.transformNode.networkEntityLastPosition == null)
                                entity.transformNode.networkEntityLastPosition = entity.transformNode.position.clone();
                            if (entity.transformNode.position.equalsWithEpsilon(entity.transformNode.networkEntityLastPosition, entity.transformNode.networkEntityEpsilon) === false) {
                                entity.transformNode.position.subtractToRef(entity.transformNode.networkEntityLastPosition, entity.transformNode.networkEntityLinearVelocity);
                                entity.transformNode.networkEntityLinearVelocity.x /= deltaTime;
                                entity.transformNode.networkEntityLinearVelocity.y /= deltaTime;
                                entity.transformNode.networkEntityLinearVelocity.z /= deltaTime;
                            }
                            else {
                                entity.transformNode.networkEntityLinearVelocity.set(0, 0, 0);
                            }
                            entity.transformNode.networkEntityLastPosition.copyFrom(entity.transformNode.position);
                            // ..
                            const packet = BABYLON.NetworkManager.CreateNetworkPacketData(entity.transformNode, true);
                            if (transmitPacketBuffer == null)
                                transmitPacketBuffer = [];
                            if (packet != null)
                                transmitPacketBuffer.push(packet);
                        }
                        else if (entity.transformNodeType === BABYLON.NetworkEntityType.Remote) { // Note: Remote Network Entities Only
                            const buffer = entity.transformNode.networkEntityInterpBuffer;
                            if (buffer != null) {
                                buffer.update(deltaTime * 1000);
                                if (entity.transformNode.networkEntityActivated != null) {
                                    if (entity.transformNode.networkEntityActivated !== true) {
                                        entity.transformNode.networkEntityActivated = true;
                                        entity.transformNode.position = new BABYLON.Vector3(entity.xPos, entity.yPos, entity.zPos);
                                        entity.transformNode.rotationQuaternion = new BABYLON.Quaternion(entity.xRot, entity.yRot, entity.zRot, entity.wRot);
                                        entity.transformNode.setEnabled(true); // Note: Enable Root Node On Initial Activation
                                        console.warn(">>> Activating Remote Entity: " + entity.transformNode.name);
                                    }
                                    else {
                                        BABYLON.NetworkManager.UpdateRemoteEntity(buffer, entity, entity.transformNode, deltaTime);
                                    }
                                }
                            }
                        }
                    }
                });
                // ..
                // TODO: Limit Packet Send - ???
                // ..
                if (transmitPacketBuffer != null && transmitPacketBuffer.length > 0) {
                    BABYLON.NetworkManager.SendDataPacketToServer(transmitPacketBuffer);
                }
            }
        }
        static SendDataPacketToServer(transmitPacketBuffer) {
            const dataPacket = { entities: transmitPacketBuffer };
            if (BABYLON.NetworkManager.DefaultRoom != null) {
                BABYLON.NetworkManager.DefaultRoom.send("packetUpdate", dataPacket);
            }
        }
        static UpdateRemoteEntity(buffer, entity, transform, deltaTime) {
            if (entity == null || transform == null)
                return;
            // ..
            // Update Network Translation
            // ..
            const interpolationMode = transform.networkEntityInterpolate;
            if (interpolationMode === BABYLON.EntityInterpolation.Custom) {
                if (transform.networkEntityHandler != null) {
                    transform.networkEntityHandler(entity, transform, deltaTime);
                }
            }
            else {
                if (buffer.state === BufferState.PLAYING) {
                    transform.position.copyFrom(buffer.position);
                    transform.rotationQuaternion.copyFrom(buffer.quaternion);
                    transform.scaling.copyFrom(buffer.scale);
                }
            }
            // ..
            // Update Buffered Attributes
            // ..
            if (transform.networkEntityAttributeBuffer == null)
                transform.networkEntityAttributeBuffer = {};
            transform.networkEntityAttributeBuffer["0"] = entity.aux00;
            transform.networkEntityAttributeBuffer["1"] = entity.aux01;
            transform.networkEntityAttributeBuffer["2"] = entity.aux02;
            transform.networkEntityAttributeBuffer["3"] = entity.aux03;
            transform.networkEntityAttributeBuffer["4"] = entity.aux04;
            transform.networkEntityAttributeBuffer["5"] = entity.aux05;
            transform.networkEntityAttributeBuffer["6"] = entity.aux06;
            transform.networkEntityAttributeBuffer["7"] = entity.aux07;
            transform.networkEntityAttributeBuffer["8"] = entity.aux08;
            transform.networkEntityAttributeBuffer["9"] = entity.aux09;
            transform.networkEntityAttributeBuffer["10"] = entity.aux10;
            transform.networkEntityAttributeBuffer["11"] = entity.aux11;
            transform.networkEntityAttributeBuffer["12"] = entity.aux12;
            transform.networkEntityAttributeBuffer["13"] = entity.aux13;
            transform.networkEntityAttributeBuffer["14"] = entity.aux14;
            transform.networkEntityAttributeBuffer["15"] = entity.aux15;
            transform.networkEntityAttributeBuffer["16"] = entity.aux16;
            transform.networkEntityAttributeBuffer["17"] = entity.aux17;
            transform.networkEntityAttributeBuffer["18"] = entity.aux18;
            transform.networkEntityAttributeBuffer["19"] = entity.aux19;
        }
        static CreateNetworkPacketData(localTransform, postAttributes = true) {
            let result = null;
            const networkEntity = localTransform.networkEntity;
            if (networkEntity != null) {
                if (localTransform.networkEntityMovement != null && localTransform.networkEntityMovement === BABYLON.EntityMovementType.ClientAuthority) {
                    BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(localTransform, BABYLON.NetworkManager.SendPositionBuffer);
                    BABYLON.Toolkit.Utilities.GetAbsoluteRotationToRef(localTransform, BABYLON.NetworkManager.SendRotationBuffer);
                    // ..
                    // BABYLON.NetworkManager.SendPositionBuffer.copyFrom(localTransform.absolutePosition);
                    // BABYLON.NetworkManager.SendRotationBuffer.copyFrom(localTransform.absoluteRotationQuaternion);
                    // ..
                    // BABYLON.NetworkManager.SendPositionBuffer.copyFrom(localTransform.position);
                    // BABYLON.NetworkManager.SendRotationBuffer.copyFrom(localTransform.rotationQuaternion);
                    // ..
                    if (localTransform.networkEntityLinearVelocity != null)
                        BABYLON.NetworkManager.SendLinearBuffer.copyFrom(localTransform.networkEntityLinearVelocity);
                    else
                        BABYLON.NetworkManager.SendLinearBuffer.set(0, 0, 0);
                    if (localTransform.networkEntityAngularVelocity != null)
                        BABYLON.NetworkManager.SendAngularBuffer.copyFrom(localTransform.networkEntityAngularVelocity);
                    else
                        BABYLON.NetworkManager.SendAngularBuffer.set(0, 0, 0);
                    // ..
                    let a00 = 0;
                    let a01 = 0;
                    let a02 = 0;
                    let a03 = 0;
                    let a04 = 0;
                    let a05 = 0;
                    let a06 = 0;
                    let a07 = 0;
                    let a08 = 0;
                    let a09 = 0;
                    let a10 = 0;
                    let a11 = 0;
                    let a12 = 0;
                    let a13 = 0;
                    let a14 = 0;
                    let a15 = 0;
                    let a16 = 0;
                    let a17 = 0;
                    let a18 = 0;
                    let a19 = 0;
                    // ..
                    if (postAttributes === true && localTransform.networkEntityBatch != null) {
                        if (localTransform.networkEntityBatch["0"] != null) {
                            a00 = localTransform.networkEntityBatch["0"];
                        }
                        if (localTransform.networkEntityBatch["1"] != null) {
                            a01 = localTransform.networkEntityBatch["1"];
                        }
                        if (localTransform.networkEntityBatch["2"] != null) {
                            a02 = localTransform.networkEntityBatch["2"];
                        }
                        if (localTransform.networkEntityBatch["3"] != null) {
                            a03 = localTransform.networkEntityBatch["3"];
                        }
                        if (localTransform.networkEntityBatch["4"] != null) {
                            a04 = localTransform.networkEntityBatch["4"];
                        }
                        if (localTransform.networkEntityBatch["5"] != null) {
                            a05 = localTransform.networkEntityBatch["5"];
                        }
                        if (localTransform.networkEntityBatch["6"] != null) {
                            a06 = localTransform.networkEntityBatch["6"];
                        }
                        if (localTransform.networkEntityBatch["7"] != null) {
                            a07 = localTransform.networkEntityBatch["7"];
                        }
                        if (localTransform.networkEntityBatch["8"] != null) {
                            a08 = localTransform.networkEntityBatch["8"];
                        }
                        if (localTransform.networkEntityBatch["9"] != null) {
                            a09 = localTransform.networkEntityBatch["9"];
                        }
                        if (localTransform.networkEntityBatch["10"] != null) {
                            a10 = localTransform.networkEntityBatch["10"];
                        }
                        if (localTransform.networkEntityBatch["11"] != null) {
                            a11 = localTransform.networkEntityBatch["11"];
                        }
                        if (localTransform.networkEntityBatch["12"] != null) {
                            a12 = localTransform.networkEntityBatch["12"];
                        }
                        if (localTransform.networkEntityBatch["13"] != null) {
                            a13 = localTransform.networkEntityBatch["13"];
                        }
                        if (localTransform.networkEntityBatch["14"] != null) {
                            a14 = localTransform.networkEntityBatch["14"];
                        }
                        if (localTransform.networkEntityBatch["15"] != null) {
                            a15 = localTransform.networkEntityBatch["15"];
                        }
                        if (localTransform.networkEntityBatch["16"] != null) {
                            a16 = localTransform.networkEntityBatch["16"];
                        }
                        if (localTransform.networkEntityBatch["17"] != null) {
                            a17 = localTransform.networkEntityBatch["17"];
                        }
                        if (localTransform.networkEntityBatch["18"] != null) {
                            a18 = localTransform.networkEntityBatch["18"];
                        }
                        if (localTransform.networkEntityBatch["19"] != null) {
                            a19 = localTransform.networkEntityBatch["19"];
                        }
                    }
                    // ..
                    // Format Network Entity Update Packet
                    // ..
                    const packet = {};
                    packet.id = networkEntity.id;
                    packet.xPos = BABYLON.NetworkManager.SendPositionBuffer.x;
                    packet.yPos = BABYLON.NetworkManager.SendPositionBuffer.y;
                    packet.zPos = BABYLON.NetworkManager.SendPositionBuffer.z;
                    packet.xRot = BABYLON.NetworkManager.SendRotationBuffer.x;
                    packet.yRot = BABYLON.NetworkManager.SendRotationBuffer.y;
                    packet.zRot = BABYLON.NetworkManager.SendRotationBuffer.z;
                    packet.wRot = BABYLON.NetworkManager.SendRotationBuffer.w;
                    packet.xVel = BABYLON.NetworkManager.SendLinearBuffer.x;
                    packet.yVel = BABYLON.NetworkManager.SendLinearBuffer.y;
                    packet.zVel = BABYLON.NetworkManager.SendLinearBuffer.z;
                    packet.xAng = BABYLON.NetworkManager.SendAngularBuffer.x;
                    packet.yAng = BABYLON.NetworkManager.SendAngularBuffer.y;
                    packet.zAng = BABYLON.NetworkManager.SendAngularBuffer.z;
                    packet.a00 = a00;
                    packet.a01 = a01;
                    packet.a02 = a02;
                    packet.a03 = a03;
                    packet.a04 = a04;
                    packet.a05 = a05;
                    packet.a06 = a06;
                    packet.a07 = a07;
                    packet.a08 = a08;
                    packet.a09 = a09;
                    packet.a10 = a10;
                    packet.a11 = a11;
                    packet.a12 = a12;
                    packet.a13 = a13;
                    packet.a14 = a14;
                    packet.a15 = a15;
                    packet.a16 = a16;
                    packet.a17 = a17;
                    packet.a18 = a18;
                    packet.a19 = a19;
                    packet.speed = BABYLON.NetworkManager.SendLinearBuffer.length();
                    result = packet;
                }
            }
            return result;
        }
        ////////////////////////////////////////////////////////////////////
        // Entity Static Event Handlers
        ////////////////////////////////////////////////////////////////////
        static JoinDefaultRoomHandler(info) {
            BABYLON.NetworkManager.UserReference = info.user;
            BABYLON.NetworkManager.NetworkServerTime = info.serverTime;
            BABYLON.NetworkManager.InterpolationBuffer = info.interpolationBuffer;
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                BABYLON.Tools.Warn("TCP: You are connected to the default room channel");
            }
        }
        static AddNetworkEntityHandler(entity, key) {
            if (BABYLON.NetworkManager.HasJoinedRoom()) {
                // PROCESS QUEUED NETWORK ENTITIES
                if (BABYLON.NetworkManager.NetworkEntityQueue != null) {
                    BABYLON.NetworkManager.NetworkEntityQueue.forEach((vx, kx) => {
                        BABYLON.NetworkManager.ProcessNetworkEntityHandler(vx, kx);
                    });
                    BABYLON.NetworkManager.NetworkEntityQueue.clear();
                    BABYLON.NetworkManager.NetworkEntityQueue = null;
                }
                // PROCESS NEW NETWORK ENTITY ITEM
                BABYLON.NetworkManager.ProcessNetworkEntityHandler(entity, key);
            }
            else {
                if (BABYLON.NetworkManager.NetworkEntityQueue == null)
                    BABYLON.NetworkManager.NetworkEntityQueue = new Map();
                BABYLON.NetworkManager.NetworkEntityQueue.set(key, entity);
            }
        }
        static ProcessNetworkEntityHandler(entity, key) {
            //console.warn(">>> Add New Network Entity: " + key);
            const aentity = entity;
            const sceneRef = BABYLON.NetworkManager.SceneReference;
            const remotePrefab = entity.attributes.get("remotePrefab");
            const assetContainer = entity.attributes.get("assetContainer");
            const customHandler = entity.attributes.get("customHandler");
            const movementEpsilon = entity.attributes.get("movementEpsilon");
            const movementType = entity.attributes.get("movementType");
            const interoplation = entity.attributes.get("interoplation");
            const bufferedAttribs = entity.attributes.get("bufferedAttribs");
            const syncTransform = entity.attributes.get("syncTransform");
            const playerAvatar = entity.attributes.get("playerAvatar");
            const isLocalEntity = (entity.ownerId === BABYLON.NetworkManager.UserReference.id);
            if (isLocalEntity === false) { // Note: Local Network Entities Only
                aentity.onChange((changes) => { BABYLON.NetworkManager.ProcessRemoteEntityChanges(entity, changes); });
            }
            let sourceName = entity.attributes.get("sourceName");
            if (sourceName == null || sourceName === "")
                sourceName = "Unknown";
            let transformNode = null;
            let transformNodeName = (sourceName + "." + entity.ownerId);
            let transformNodeType = (isLocalEntity === true) ? BABYLON.NetworkEntityType.Local : BABYLON.NetworkEntityType.Remote;
            if (BABYLON.NetworkManager.RootNode == null) {
                BABYLON.NetworkManager.RootNode = new BABYLON.TransformNode("Network Entities", sceneRef);
                BABYLON.NetworkManager.RootNode.position.set(0, 0, 0);
            }
            if (isLocalEntity === false) {
                const initialPosition = new BABYLON.Vector3(0, 0, 0);
                const initialRotation = new BABYLON.Quaternion(0, 0, 0, 1);
                if (remotePrefab != null && remotePrefab !== "") {
                    if (assetContainer != null && assetContainer !== "") {
                        const contaier = BABYLON.Toolkit.SceneManager.GetAssetContainer(sceneRef, assetContainer);
                        if (contaier != null) {
                            transformNode = BABYLON.Toolkit.SceneManager.InstantiatePrefabFromContainer(contaier, remotePrefab, transformNodeName, BABYLON.NetworkManager.RootNode, initialPosition, initialRotation);
                            if (transformNode == null)
                                BABYLON.Tools.Warn("Failed to instaniate '" + remotePrefab + "' from asset container '" + assetContainer + "'.");
                        }
                        else {
                            BABYLON.Tools.Warn("Asset container '" + assetContainer + "' not registered on the scene.");
                        }
                    }
                    else {
                        transformNode = BABYLON.Toolkit.SceneManager.InstantiatePrefabFromScene(sceneRef, remotePrefab, transformNodeName, BABYLON.NetworkManager.RootNode, initialPosition, initialRotation);
                        if (transformNode == null)
                            BABYLON.Tools.Warn("Failed to instaniate '" + remotePrefab + "' from current scene.");
                    }
                }
                if (transformNode == null) {
                    transformNode = new BABYLON.TransformNode(transformNodeName, sceneRef);
                    transformNode.parent = BABYLON.NetworkManager.RootNode;
                    transformNode.position = initialPosition.clone();
                    transformNode.rotationQuaternion = initialRotation.clone();
                }
                transformNode.name = transformNodeName; // Note: Double Check Transform Node Name Is Set
                transformNode.setEnabled(false); // Note: Disable Root Node Until Initial Activation
                // ..
                // Hide Netowrk Avatar Player Armature
                // ..
                if (transformNode != null) {
                    if (playerAvatar != null && playerAvatar !== "") {
                        const skins = transformNode.getChildMeshes(false, (node) => { return (node.skeleton != null); });
                        if (skins != null && skins.length > 0) {
                            skins.forEach((skin) => {
                                const stag = BABYLON.Toolkit.SceneManager.GetTransformTag(skin);
                                if (stag != null && stag === "Armature" || skin.name.toLowerCase().endsWith(".skin")) {
                                    skin.isVisible = false;
                                }
                            });
                        }
                    }
                }
            }
            else {
                transformNode = BABYLON.Toolkit.SceneManager.GetTransformNodeByID(sceneRef, entity.creationId);
                if (transformNode == null)
                    BABYLON.Tools.Warn("Failed to locate local entity transform '" + entity.creationId + "' in current scene.");
            }
            // ..
            // Validate Custom Interpolation Handler
            // ..
            let customHandlerFunc = null;
            if (customHandler != null && customHandler !== "") {
                customHandlerFunc = BABYLON.NetworkManager.CustomHandlerMap.get(customHandler);
                if (customHandlerFunc == null)
                    BABYLON.Tools.Warn("Custom interoplation handler not found: " + customHandler + ". Default interpolation will be used instead.");
            }
            // ..
            // Link Entity And Transform Node References
            // ..
            if (transformNode != null) {
                aentity.transformNode = transformNode;
                aentity.transformNodeType = transformNodeType;
                aentity.transformNode.networkEntity = entity;
                aentity.transformNode.networkEntityType = transformNodeType;
                aentity.transformNode.networkEntitySync = (syncTransform != null && syncTransform === "true");
                aentity.transformNode.networkEntityBatch = null;
                aentity.transformNode.networkEntityHandler = customHandlerFunc;
                aentity.transformNode.networkEntityEpsilon = (movementEpsilon != null && movementEpsilon !== "") ? parseFloat(movementEpsilon) : 0.00001;
                aentity.transformNode.networkEntityMovement = (movementType != null && movementType !== "") ? parseFloat(movementType) : 0;
                aentity.transformNode.networkEntityInterpolate = (interoplation != null && interoplation !== "") ? parseFloat(interoplation) : 0;
                aentity.transformNode.networkEntityActivated = false;
                aentity.transformNode.networkEntityLastPosition = null;
                aentity.transformNode.networkEntityLinearVelocity = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkPosition = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkRotation = new BABYLON.Quaternion(0, 0, 0, 1);
                aentity.transformNode.networkEntityNetworkVelocity = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityNetworkScaling = new BABYLON.Vector3(0, 0, 0);
                aentity.transformNode.networkEntityAttributeBuffer = null;
                aentity.transformNode.networkEntityInterpBuffer = null;
                aentity.transformNode.networkEntityPlayerAvatar = playerAvatar;
                if (transformNodeType == BABYLON.NetworkEntityType.Remote) {
                    const interpolationMode = aentity.transformNode.networkEntityInterpolate;
                    if (interpolationMode !== BABYLON.EntityInterpolation.Custom) {
                        const bufferAttribs = (bufferedAttribs != null && bufferedAttribs !== "") ? JSON.parse(bufferedAttribs) : null;
                        aentity.transformNode.networkEntityInterpBuffer = new InterpolationBuffer(interpolationMode, BABYLON.NetworkManager.InterpolationBuffer, bufferAttribs);
                    }
                }
                else if (transformNodeType == BABYLON.NetworkEntityType.Local) {
                    // TODO: Local Only Setup
                }
            }
            else {
                aentity.transformNode = null;
                aentity.transformNodeType = BABYLON.NetworkEntityType.None;
            }
            BABYLON.NetworkManager.OnCreateEntityObservable.notifyObservers(entity);
        }
        static ProcessRemoteEntityChanges(entity, changes) {
            if (entity != null && entity.transformNode != null && entity.transformNode.networkEntitySync != null && entity.transformNode.networkEntitySync === true && entity.transformNodeType != null) {
                if (entity.transformNodeType === BABYLON.NetworkEntityType.Remote) { // Note: Remote Network Entities Only
                    //console.log("ProcessRemoteEntityChanges: ", entity, changes);
                    entity.transformNode.networkEntityNetworkPosition.set(entity.xPos, entity.yPos, entity.zPos);
                    entity.transformNode.networkEntityNetworkRotation.set(entity.xRot, entity.yRot, entity.zRot, entity.wRot);
                    entity.transformNode.networkEntityNetworkVelocity.set(entity.xVel, entity.yVel, entity.zVel);
                    entity.transformNode.networkEntityNetworkScaling.set(1.0, 1.0, 1.0);
                    if (entity.transformNode.networkEntityInterpBuffer != null) {
                        const position = entity.transformNode.networkEntityNetworkPosition;
                        const rotation = entity.transformNode.networkEntityNetworkRotation;
                        const velocity = entity.transformNode.networkEntityNetworkVelocity;
                        const scaling = entity.transformNode.networkEntityNetworkScaling;
                        entity.transformNode.networkEntityInterpBuffer.appendBuffer(position, velocity, rotation, scaling);
                    }
                }
            }
        }
        static RemoveNetworkEntityHandler(entity, key) {
            const aentity = entity;
            if (aentity.transformNode != null && aentity.transformNodeType != null && aentity.transformNodeType === BABYLON.NetworkEntityType.Remote) {
                // console.warn(">>> Remove Remote Network Entity: " + key);
                if (aentity.transformNode.dispose)
                    aentity.transformNode.dispose();
                aentity.transformNode = null;
                BABYLON.NetworkManager.OnRemoveEntityObservable.notifyObservers(entity);
            }
        }
    }
    NetworkManager.RootNode = null;
    NetworkManager.DefaultRoom = null;
    NetworkManager.UserReference = null;
    NetworkManager.NetworkServerTime = 0;
    NetworkManager.NetworkEntityQueue = null;
    NetworkManager.CustomHandlerMap = new Map();
    NetworkManager.SendPositionBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SendRotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
    NetworkManager.SendLinearBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SendAngularBuffer = new BABYLON.Vector3(0, 0, 0);
    NetworkManager.SceneReference = null;
    NetworkManager.InterpolationBuffer = 0.15;
    NetworkManager.OnConnectObservable = new BABYLON.Observable();
    NetworkManager.OnDisconnectObservable = new BABYLON.Observable();
    NetworkManager.OnJoinRoomObservable = new BABYLON.Observable();
    NetworkManager.OnLeaveRoomObservable = new BABYLON.Observable();
    NetworkManager.OnCreateEntityObservable = new BABYLON.Observable();
    NetworkManager.OnRemoveEntityObservable = new BABYLON.Observable();
    NetworkManager.OnChatMessageObservable = new BABYLON.Observable();
    NetworkManager.OnPingReceivedObservable = new BABYLON.Observable();
    NetworkManager.OnErrorMessageObservable = new BABYLON.Observable();
    NetworkManager.OnRemoteProcedureCallObservable = new BABYLON.Observable();
    BABYLON.NetworkManager = NetworkManager;
    /**
     * Babylon universal game room controller (Colyseus Universal Game Room)
     * Supports network users, entities, attributes, remote function calls, custom messages, custom methods and custom room logic modules.
     * @class RoomController - All rights reserved (c) 2020 Mackey Kinard
     */
    class RoomController {
        static SendPing(room) {
            room.send("ping");
        }
        static SendChat(room, message) {
            room.send("sendChat", { sessionId: "*", name: "*", message: message, timestamp: -1 });
        }
        static CallCustomMethod(room, method, ...args) {
            room.send("customMethod", { method: method, param: args });
        }
        static SetUserAttributes(room, userId, attributesToSet) {
            room.send("setAttribute", { entityId: null, userId: userId, attributesToSet: attributesToSet });
        }
        static SetEntityAttributes(room, entityId, attributesToSet) {
            room.send("setAttribute", { entityId: entityId, userId: null, attributesToSet: attributesToSet });
        }
        static CreateNetworkEntity(room, ownerName, localTransform, remotePrefab = null, assetContainer = null, movementEpsilon = 0.00001, movementType = BABYLON.EntityMovementType.ClientAuthority, interpolationMode = BABYLON.EntityInterpolation.Default, autoSyncTransform = true, customHandlerName = null, bufferedAttributes, createAttributes = null) {
            const entityAttributes = (createAttributes != null) ? createAttributes : {};
            const entityPosition = localTransform.position;
            const entityRotation = (localTransform.rotationQuaternion != null) ? localTransform.rotationQuaternion : BABYLON.Quaternion.FromEulerVector(localTransform.rotation);
            entityAttributes["ownerName"] = ownerName;
            entityAttributes["sourceName"] = (localTransform.name != null) ? localTransform.name : localTransform.id;
            entityAttributes["creationPos"] = [entityPosition.x, entityPosition.y, entityPosition.z];
            entityAttributes["creationRot"] = [entityRotation.x, entityRotation.y, entityRotation.z, entityRotation.w];
            entityAttributes["remotePrefab"] = remotePrefab;
            entityAttributes["assetContainer"] = assetContainer;
            entityAttributes["customHandler"] = customHandlerName;
            entityAttributes["movementEpsilon"] = movementEpsilon.toString();
            entityAttributes["movementType"] = movementType.toString();
            entityAttributes["interoplation"] = interpolationMode.toString();
            entityAttributes["syncTransform"] = autoSyncTransform.toString().toLowerCase();
            entityAttributes["bufferedAttribs"] = (bufferedAttributes != null) ? JSON.stringify(bufferedAttributes) : null;
            room.send("createEntity", { creationId: localTransform.id, attributes: entityAttributes });
        }
        static RemoveNetworkEntity(room, entityId) {
            room.send("removeEntity", entityId);
        }
        static ExecuteRemoteFunctionCall(room, target, entityId, func, ...args) {
            room.send("remoteFunctionCall", { entityId: entityId, function: func, param: args, target: target });
        }
    }
    BABYLON.RoomController = RoomController;
    /**
     * Network Interpolation Buffer
     * https://github.com/virbela/buffered-interpolation
     */
    let BufferState;
    (function (BufferState) {
        BufferState[BufferState["INITIALIZING"] = 0] = "INITIALIZING";
        BufferState[BufferState["BUFFERING"] = 1] = "BUFFERING";
        BufferState[BufferState["PLAYING"] = 2] = "PLAYING";
    })(BufferState = BABYLON.BufferState || (BABYLON.BufferState = {}));
    let BufferMode;
    (function (BufferMode) {
        BufferMode[BufferMode["MODE_LERP"] = 0] = "MODE_LERP";
        BufferMode[BufferMode["MODE_HERMITE"] = 1] = "MODE_HERMITE";
    })(BufferMode = BABYLON.BufferMode || (BABYLON.BufferMode = {}));
    // const vectorPool: Vector3[] = [];
    // const quatPool: Quaternion[] = [];
    const framePool = [];
    // const getPooledVector: () => Vector3 = () => vectorPool.shift() || new Vector3();
    // const getPooledQuaternion: () => Quaternion = () => quatPool.shift() || new Quaternion();
    const getPooledFrame = () => {
        let frame = framePool.pop();
        if (!frame) {
            frame = { position: new BABYLON.Vector3(), velocity: new BABYLON.Vector3(), scale: new BABYLON.Vector3(1, 1, 1), quaternion: new BABYLON.Quaternion(), aux00: 0, aux01: 0, aux02: 0, aux03: 0, aux04: 0, aux05: 0, aux06: 0, aux07: 0, aux08: 0, aux09: 0, aux10: 0, aux11: 0, aux12: 0, aux13: 0, aux14: 0, aux15: 0, aux16: 0, aux17: 0, aux18: 0, aux19: 0, speed: 0, time: 0 };
        }
        return frame;
    };
    const freeFrame = f => framePool.push(f);
    class InterpolationBuffer {
        getPosition() { return this.position; }
        getQuaternion() { return this.quaternion; }
        getScale() { return this.scale; }
        constructor(mode = BufferMode.MODE_LERP, bufferTime = 0.15, bufferAttribs = null) {
            this.state = BufferState.INITIALIZING;
            this.buffer = [];
            this.bufferTime = bufferTime * 1000;
            this.bufferAttribs = bufferAttribs;
            this.time = 0;
            this.mode = mode;
            this.originFrame = getPooledFrame();
            this.position = new BABYLON.Vector3();
            this.quaternion = new BABYLON.Quaternion();
            this.scale = new BABYLON.Vector3(1, 1, 1);
            this.aux00 = 0;
            this.aux01 = 0;
            this.aux02 = 0;
            this.aux03 = 0;
            this.aux04 = 0;
            this.aux05 = 0;
            this.aux06 = 0;
            this.aux07 = 0;
            this.aux08 = 0;
            this.aux09 = 0;
            this.aux10 = 0;
            this.aux11 = 0;
            this.aux12 = 0;
            this.aux13 = 0;
            this.aux14 = 0;
            this.aux15 = 0;
            this.aux16 = 0;
            this.aux17 = 0;
            this.aux18 = 0;
            this.aux19 = 0;
            this.speed = 0;
        }
        hermiteToolkit(target, t, p1, p2, v1, v2) {
            //const deltaTime:number = BABYLON.Toolkit.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            BABYLON.Toolkit.Utilities.HermiteVector3ToRef(p1, v1, p2, v2, t, target);
        }
        hermiteBabylon(target, t, p1, p2, v1, v2) {
            //const deltaTime:number = BABYLON.Toolkit.SceneManager.GetDeltaSeconds(BABYLON.NetworkManager.SceneReference);
            const pos = BABYLON.Vector3.Hermite(p1, v1, p2, v2, t);
            target.copyFrom(pos);
        }
        hermiteLegacy(target, t, p1, p2, v1, v2) {
            const t2 = t * t;
            const t3 = t * t * t;
            const a = 2 * t3 - 3 * t2 + 1;
            const b = -2 * t3 + 3 * t2;
            const c = t3 - 2 * t2 + t;
            const d = t3 - t2;
            target.copyFrom(p1.scaleInPlace(a));
            target.add(p2.scaleInPlace(b));
            target.add(v1.scaleInPlace(c));
            target.add(v2.scaleInPlace(d));
        }
        /* CUBIC HERMOTE REFERENCE (GDSCRIPT)
        func hermite(t, p1, p2, v1, v2):
            var t2 = pow(t, 2)
            var t3 = pow(t, 3)
            var a = 1 - 3*t2 + 2*t3
            var b = t2 * (3 - 2*t)
            var c = t * pow(t - 1, 2)
            var d = t2 * (t - 1)
            return a * p1 + b * p2 + c * v1 + d * v2
        */
        lerp(target, v1, v2, alpha) {
            BABYLON.Vector3.LerpToRef(v1, v2, alpha, target);
        }
        slerp(target, r1, r2, alpha) {
            BABYLON.Quaternion.SlerpToRef(r1, r2, alpha, target);
        }
        updateOriginFrameToBufferTail() {
            freeFrame(this.originFrame);
            this.originFrame = this.buffer.shift() || getPooledFrame();
        }
        appendBuffer(position, velocity, quaternion, scale, aux00 = 0, aux01 = 0, aux02 = 0, aux03 = 0, aux04 = 0, aux05 = 0, aux06 = 0, aux07 = 0, aux08 = 0, aux09 = 0, aux10 = 0, aux11 = 0, aux12 = 0, aux13 = 0, aux14 = 0, aux15 = 0, aux16 = 0, aux17 = 0, aux18 = 0, aux19 = 0, speed = 0) {
            const tail = this.buffer.length > 0 ? this.buffer[this.buffer.length - 1] : null;
            // Update the last entry in the buffer if this is the same frame
            if (tail && tail.time === this.time) {
                if (position)
                    tail.position.copyFrom(position);
                if (velocity)
                    tail.velocity.copyFrom(velocity);
                if (quaternion)
                    tail.quaternion.copyFrom(quaternion);
                if (scale)
                    tail.scale.copyFrom(scale);
                tail.aux00 = aux00;
                tail.aux01 = aux01;
                tail.aux02 = aux02;
                tail.aux03 = aux03;
                tail.aux04 = aux04;
                tail.aux05 = aux05;
                tail.aux06 = aux06;
                tail.aux07 = aux07;
                tail.aux08 = aux08;
                tail.aux09 = aux09;
                tail.aux10 = aux10;
                tail.aux11 = aux11;
                tail.aux12 = aux12;
                tail.aux13 = aux13;
                tail.aux14 = aux14;
                tail.aux15 = aux15;
                tail.aux16 = aux16;
                tail.aux17 = aux17;
                tail.aux18 = aux18;
                tail.aux19 = aux19;
                tail.speed = speed;
            }
            else {
                const priorFrame = tail || this.originFrame;
                const newFrame = getPooledFrame();
                newFrame.position.copyFrom(position || priorFrame.position);
                newFrame.velocity.copyFrom(velocity || priorFrame.velocity);
                newFrame.quaternion.copyFrom(quaternion || priorFrame.quaternion);
                newFrame.scale.copyFrom(scale || priorFrame.scale);
                newFrame.aux00 = aux00;
                newFrame.aux01 = aux01;
                newFrame.aux02 = aux02;
                newFrame.aux03 = aux03;
                newFrame.aux04 = aux04;
                newFrame.aux05 = aux05;
                newFrame.aux06 = aux06;
                newFrame.aux07 = aux07;
                newFrame.aux08 = aux08;
                newFrame.aux09 = aux09;
                newFrame.aux10 = aux10;
                newFrame.aux11 = aux11;
                newFrame.aux12 = aux12;
                newFrame.aux13 = aux13;
                newFrame.aux14 = aux14;
                newFrame.aux15 = aux15;
                newFrame.aux16 = aux16;
                newFrame.aux17 = aux17;
                newFrame.aux18 = aux18;
                newFrame.aux19 = aux19;
                newFrame.speed = speed;
                newFrame.time = this.time;
                this.buffer.push(newFrame);
            }
        }
        // DEEPRECATED: setTarget(position: Vector3, velocity: Vector3, quaternion: Quaternion, scale: Vector3) { this.appendBuffer(position, velocity, quaternion, scale); }
        // DEEPRECATED: setPosition(position: Vector3, velocity: Vector3) { this.appendBuffer(position, velocity, undefined, undefined); }
        // DEEPRECATED: setQuaternion(quaternion: Quaternion) { this.appendBuffer(undefined, undefined, quaternion, undefined); }
        // DEEPRECATED: setScale(scale: Vector3) { this.appendBuffer(undefined, undefined, undefined, scale); }
        update(delta) {
            if (this.state === BufferState.INITIALIZING) {
                if (this.buffer.length > 0) {
                    this.updateOriginFrameToBufferTail();
                    this.position.copyFrom(this.originFrame.position);
                    this.quaternion.copyFrom(this.originFrame.quaternion);
                    this.scale.copyFrom(this.originFrame.scale);
                    this.aux00 = this.originFrame.aux00;
                    this.aux01 = this.originFrame.aux01;
                    this.aux02 = this.originFrame.aux02;
                    this.aux03 = this.originFrame.aux03;
                    this.aux04 = this.originFrame.aux04;
                    this.aux05 = this.originFrame.aux05;
                    this.aux06 = this.originFrame.aux06;
                    this.aux07 = this.originFrame.aux07;
                    this.aux08 = this.originFrame.aux08;
                    this.aux09 = this.originFrame.aux09;
                    this.aux10 = this.originFrame.aux10;
                    this.aux11 = this.originFrame.aux11;
                    this.aux12 = this.originFrame.aux12;
                    this.aux13 = this.originFrame.aux13;
                    this.aux14 = this.originFrame.aux14;
                    this.aux15 = this.originFrame.aux15;
                    this.aux16 = this.originFrame.aux16;
                    this.aux17 = this.originFrame.aux17;
                    this.aux18 = this.originFrame.aux18;
                    this.aux19 = this.originFrame.aux19;
                    this.speed = this.originFrame.speed;
                    this.state = BufferState.BUFFERING;
                }
            }
            if (this.state === BufferState.BUFFERING) {
                if (this.buffer.length > 0 && this.time > this.bufferTime) {
                    this.state = BufferState.PLAYING;
                }
            }
            if (this.state === BufferState.PLAYING) {
                const mark = this.time - this.bufferTime;
                // Purge this.buffer of expired frames
                while (this.buffer.length > 0 && mark > this.buffer[0].time) {
                    // If this is the last frame in the buffer, just update the time and reuse it
                    if (this.buffer.length > 1) {
                        this.updateOriginFrameToBufferTail();
                    }
                    else {
                        this.originFrame.position.copyFrom(this.buffer[0].position);
                        this.originFrame.velocity.copyFrom(this.buffer[0].velocity);
                        this.originFrame.quaternion.copyFrom(this.buffer[0].quaternion);
                        this.originFrame.scale.copyFrom(this.buffer[0].scale);
                        this.originFrame.aux00 = this.buffer[0].aux00;
                        this.originFrame.aux01 = this.buffer[0].aux01;
                        this.originFrame.aux02 = this.buffer[0].aux02;
                        this.originFrame.aux03 = this.buffer[0].aux03;
                        this.originFrame.aux04 = this.buffer[0].aux04;
                        this.originFrame.aux05 = this.buffer[0].aux05;
                        this.originFrame.aux06 = this.buffer[0].aux06;
                        this.originFrame.aux07 = this.buffer[0].aux07;
                        this.originFrame.aux08 = this.buffer[0].aux08;
                        this.originFrame.aux09 = this.buffer[0].aux09;
                        this.originFrame.aux10 = this.buffer[0].aux10;
                        this.originFrame.aux11 = this.buffer[0].aux11;
                        this.originFrame.aux12 = this.buffer[0].aux12;
                        this.originFrame.aux13 = this.buffer[0].aux13;
                        this.originFrame.aux14 = this.buffer[0].aux14;
                        this.originFrame.aux15 = this.buffer[0].aux15;
                        this.originFrame.aux16 = this.buffer[0].aux16;
                        this.originFrame.aux17 = this.buffer[0].aux17;
                        this.originFrame.aux18 = this.buffer[0].aux18;
                        this.originFrame.aux19 = this.buffer[0].aux19;
                        this.originFrame.speed = this.buffer[0].speed;
                        this.originFrame.time = this.buffer[0].time;
                        this.buffer[0].time = this.time + delta;
                    }
                }
                if (this.buffer.length > 0 && this.buffer[0].time > 0) {
                    const targetFrame = this.buffer[0];
                    const delta_time = targetFrame.time - this.originFrame.time;
                    const alpha = (mark - this.originFrame.time) / delta_time;
                    // ..
                    // Network Translation
                    // ..
                    if (this.mode === BufferMode.MODE_LERP) {
                        this.lerp(this.position, this.originFrame.position, targetFrame.position, alpha);
                    }
                    else if (this.mode === BufferMode.MODE_HERMITE) {
                        this.hermiteLegacy(this.position, alpha, this.originFrame.position, targetFrame.position, this.originFrame.velocity.scaleInPlace(delta_time), targetFrame.velocity.scaleInPlace(delta_time));
                        /* TOOLKIT HERMITE
                        this.hermiteToolkit(
                            this.position,
                            alpha,
                            this.originFrame.position,
                            targetFrame.position,
                            this.originFrame.velocity,
                            targetFrame.velocity
                        );*/
                    }
                    this.slerp(this.quaternion, this.originFrame.quaternion, targetFrame.quaternion, alpha);
                    this.lerp(this.scale, this.originFrame.scale, targetFrame.scale, alpha);
                    // ..
                    // Entity Movement Speed
                    // ..
                    this.speed = BABYLON.Scalar.Lerp(this.originFrame.speed, targetFrame.speed, alpha);
                    // ..
                    // Buffered Target Attribs
                    // ..
                    this.aux00 = targetFrame.aux00;
                    this.aux01 = targetFrame.aux01;
                    this.aux02 = targetFrame.aux02;
                    this.aux03 = targetFrame.aux03;
                    this.aux04 = targetFrame.aux04;
                    this.aux05 = targetFrame.aux05;
                    this.aux06 = targetFrame.aux06;
                    this.aux07 = targetFrame.aux07;
                    this.aux08 = targetFrame.aux08;
                    this.aux09 = targetFrame.aux09;
                    this.aux10 = targetFrame.aux10;
                    this.aux11 = targetFrame.aux11;
                    this.aux12 = targetFrame.aux12;
                    this.aux13 = targetFrame.aux13;
                    this.aux14 = targetFrame.aux14;
                    this.aux15 = targetFrame.aux15;
                    this.aux16 = targetFrame.aux16;
                    this.aux17 = targetFrame.aux17;
                    this.aux18 = targetFrame.aux18;
                    this.aux19 = targetFrame.aux19;
                    if (this.bufferAttribs != null) {
                        if (this.bufferAttribs.interpolateBuffer00 === 1)
                            this.aux00 = BABYLON.Scalar.Lerp(this.originFrame.aux00, targetFrame.aux00, alpha);
                        else if (this.bufferAttribs.interpolateBuffer00 === 2)
                            this.aux00 = BABYLON.Scalar.LerpAngle(this.originFrame.aux00, targetFrame.aux00, alpha);
                        if (this.bufferAttribs.interpolateBuffer01 === 1)
                            this.aux01 = BABYLON.Scalar.Lerp(this.originFrame.aux01, targetFrame.aux01, alpha);
                        else if (this.bufferAttribs.interpolateBuffer01 === 2)
                            this.aux01 = BABYLON.Scalar.LerpAngle(this.originFrame.aux01, targetFrame.aux01, alpha);
                        if (this.bufferAttribs.interpolateBuffer02 === 1)
                            this.aux02 = BABYLON.Scalar.Lerp(this.originFrame.aux02, targetFrame.aux02, alpha);
                        else if (this.bufferAttribs.interpolateBuffer02 === 2)
                            this.aux02 = BABYLON.Scalar.LerpAngle(this.originFrame.aux02, targetFrame.aux02, alpha);
                        if (this.bufferAttribs.interpolateBuffer03 === 1)
                            this.aux03 = BABYLON.Scalar.Lerp(this.originFrame.aux03, targetFrame.aux03, alpha);
                        else if (this.bufferAttribs.interpolateBuffer03 === 2)
                            this.aux03 = BABYLON.Scalar.LerpAngle(this.originFrame.aux03, targetFrame.aux03, alpha);
                        if (this.bufferAttribs.interpolateBuffer04 === 1)
                            this.aux04 = BABYLON.Scalar.Lerp(this.originFrame.aux04, targetFrame.aux04, alpha);
                        else if (this.bufferAttribs.interpolateBuffer04 === 2)
                            this.aux04 = BABYLON.Scalar.LerpAngle(this.originFrame.aux04, targetFrame.aux04, alpha);
                        if (this.bufferAttribs.interpolateBuffer05 === 1)
                            this.aux05 = BABYLON.Scalar.Lerp(this.originFrame.aux05, targetFrame.aux05, alpha);
                        else if (this.bufferAttribs.interpolateBuffer05 === 2)
                            this.aux05 = BABYLON.Scalar.LerpAngle(this.originFrame.aux05, targetFrame.aux05, alpha);
                        if (this.bufferAttribs.interpolateBuffer06 === 1)
                            this.aux06 = BABYLON.Scalar.Lerp(this.originFrame.aux06, targetFrame.aux06, alpha);
                        else if (this.bufferAttribs.interpolateBuffer06 === 2)
                            this.aux06 = BABYLON.Scalar.LerpAngle(this.originFrame.aux06, targetFrame.aux06, alpha);
                        if (this.bufferAttribs.interpolateBuffer07 === 1)
                            this.aux07 = BABYLON.Scalar.Lerp(this.originFrame.aux07, targetFrame.aux07, alpha);
                        else if (this.bufferAttribs.interpolateBuffer07 === 2)
                            this.aux07 = BABYLON.Scalar.LerpAngle(this.originFrame.aux07, targetFrame.aux07, alpha);
                        if (this.bufferAttribs.interpolateBuffer08 === 1)
                            this.aux08 = BABYLON.Scalar.Lerp(this.originFrame.aux08, targetFrame.aux08, alpha);
                        else if (this.bufferAttribs.interpolateBuffer08 === 2)
                            this.aux08 = BABYLON.Scalar.LerpAngle(this.originFrame.aux08, targetFrame.aux08, alpha);
                        if (this.bufferAttribs.interpolateBuffer09 === 1)
                            this.aux09 = BABYLON.Scalar.Lerp(this.originFrame.aux09, targetFrame.aux09, alpha);
                        else if (this.bufferAttribs.interpolateBuffer09 === 2)
                            this.aux09 = BABYLON.Scalar.LerpAngle(this.originFrame.aux09, targetFrame.aux09, alpha);
                        if (this.bufferAttribs.interpolateBuffer10 === 1)
                            this.aux10 = BABYLON.Scalar.Lerp(this.originFrame.aux10, targetFrame.aux10, alpha);
                        else if (this.bufferAttribs.interpolateBuffer10 === 2)
                            this.aux10 = BABYLON.Scalar.LerpAngle(this.originFrame.aux10, targetFrame.aux10, alpha);
                        if (this.bufferAttribs.interpolateBuffer11 === 1)
                            this.aux11 = BABYLON.Scalar.Lerp(this.originFrame.aux11, targetFrame.aux11, alpha);
                        else if (this.bufferAttribs.interpolateBuffer11 === 2)
                            this.aux11 = BABYLON.Scalar.LerpAngle(this.originFrame.aux11, targetFrame.aux11, alpha);
                        if (this.bufferAttribs.interpolateBuffer12 === 1)
                            this.aux12 = BABYLON.Scalar.Lerp(this.originFrame.aux12, targetFrame.aux12, alpha);
                        else if (this.bufferAttribs.interpolateBuffer12 === 2)
                            this.aux12 = BABYLON.Scalar.LerpAngle(this.originFrame.aux12, targetFrame.aux12, alpha);
                        if (this.bufferAttribs.interpolateBuffer13 === 1)
                            this.aux13 = BABYLON.Scalar.Lerp(this.originFrame.aux13, targetFrame.aux13, alpha);
                        else if (this.bufferAttribs.interpolateBuffer13 === 2)
                            this.aux13 = BABYLON.Scalar.LerpAngle(this.originFrame.aux13, targetFrame.aux13, alpha);
                        if (this.bufferAttribs.interpolateBuffer14 === 1)
                            this.aux14 = BABYLON.Scalar.Lerp(this.originFrame.aux14, targetFrame.aux14, alpha);
                        else if (this.bufferAttribs.interpolateBuffer14 === 2)
                            this.aux14 = BABYLON.Scalar.LerpAngle(this.originFrame.aux14, targetFrame.aux14, alpha);
                        if (this.bufferAttribs.interpolateBuffer15 === 1)
                            this.aux15 = BABYLON.Scalar.Lerp(this.originFrame.aux15, targetFrame.aux15, alpha);
                        else if (this.bufferAttribs.interpolateBuffer15 === 2)
                            this.aux15 = BABYLON.Scalar.LerpAngle(this.originFrame.aux15, targetFrame.aux15, alpha);
                        if (this.bufferAttribs.interpolateBuffer16 === 1)
                            this.aux16 = BABYLON.Scalar.Lerp(this.originFrame.aux16, targetFrame.aux16, alpha);
                        else if (this.bufferAttribs.interpolateBuffer16 === 2)
                            this.aux16 = BABYLON.Scalar.LerpAngle(this.originFrame.aux16, targetFrame.aux16, alpha);
                        if (this.bufferAttribs.interpolateBuffer17 === 1)
                            this.aux17 = BABYLON.Scalar.Lerp(this.originFrame.aux17, targetFrame.aux17, alpha);
                        else if (this.bufferAttribs.interpolateBuffer17 === 2)
                            this.aux17 = BABYLON.Scalar.LerpAngle(this.originFrame.aux17, targetFrame.aux17, alpha);
                        if (this.bufferAttribs.interpolateBuffer18 === 1)
                            this.aux18 = BABYLON.Scalar.Lerp(this.originFrame.aux18, targetFrame.aux18, alpha);
                        else if (this.bufferAttribs.interpolateBuffer18 === 2)
                            this.aux18 = BABYLON.Scalar.LerpAngle(this.originFrame.aux18, targetFrame.aux18, alpha);
                        if (this.bufferAttribs.interpolateBuffer19 === 1)
                            this.aux19 = BABYLON.Scalar.Lerp(this.originFrame.aux19, targetFrame.aux19, alpha);
                        else if (this.bufferAttribs.interpolateBuffer19 === 2)
                            this.aux19 = BABYLON.Scalar.LerpAngle(this.originFrame.aux19, targetFrame.aux19, alpha);
                    }
                }
            }
            if (this.state !== BufferState.INITIALIZING) {
                this.time += delta;
            }
        }
    }
    BABYLON.InterpolationBuffer = InterpolationBuffer;
})(BABYLON || (BABYLON = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AutoBodyGarage
    */
    class AutoBodyGarage extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.m_bodyMaterial = null;
            this.m_bodyAbtractMesh = null;
        }
        awake() {
            const mainMaterialIndex = this.getProperty("mainMaterialIndex", 0);
            const mainBodyTransform = this.getProperty("mainBodyTransform");
            const mainBodyUnityColor = this.getProperty("mainBodyPaintColor");
            const mainBodyPaintColor = BABYLON.Toolkit.Utilities.ParseColor3(mainBodyUnityColor, BABYLON.Color3.White());
            if (mainBodyTransform != null) {
                this.m_bodyAbtractMesh = BABYLON.Toolkit.Utilities.ParseChildTransform(this.transform, mainBodyTransform);
                if (this.m_bodyAbtractMesh != null) {
                    if (this.m_bodyAbtractMesh.material instanceof BABYLON.MultiMaterial) {
                        const multiMaterial = this.m_bodyAbtractMesh.material;
                        if (multiMaterial.subMaterials != null && multiMaterial.subMaterials.length > mainMaterialIndex) {
                            const copyMaterial = multiMaterial.clone(multiMaterial.name + "." + this.transform.name);
                            const subMaterial = copyMaterial.subMaterials[mainMaterialIndex];
                            copyMaterial.subMaterials[mainMaterialIndex] = subMaterial.clone(subMaterial.name + "." + this.transform.name);
                            this.m_bodyMaterial = copyMaterial.subMaterials[mainMaterialIndex];
                            this.m_bodyAbtractMesh.material = copyMaterial;
                        }
                    }
                    else {
                        this.m_bodyMaterial = this.m_bodyAbtractMesh.material.clone(this.m_bodyAbtractMesh.material.name + "." + this.transform.name);
                        this.m_bodyAbtractMesh.material = this.m_bodyMaterial;
                    }
                    if (this.m_bodyMaterial != null) {
                        // Set Main Body Base Coloring
                        if (this.m_bodyMaterial.isFrozen)
                            this.m_bodyMaterial.unfreeze();
                        this.m_bodyMaterial.albedoColor.copyFrom(mainBodyPaintColor);
                        this.m_bodyMaterial.freeze();
                    }
                }
                else {
                    BABYLON.Toolkit.SceneManager.LogWarning("Failed to find auto body mesh for: " + this.transform.name);
                }
            }
        }
        //protected start(): void { }
        //protected update(): void { }
        //protected after(): void { }
        //protected destroy(): void { }
        setupVehicleMaterials(bodyColor, wheelColor = null, wheelType = 0, decalIndex = 0) {
            if (this.m_bodyMaterial != null) {
                // Set Main Body Base Coloring
                if (this.m_bodyMaterial.isFrozen)
                    this.m_bodyMaterial.unfreeze();
                this.m_bodyMaterial.albedoColor.copyFrom(bodyColor);
                this.m_bodyMaterial.freeze();
                // TODO - Setup Wheel Type And Color
                // TODO - Setup Decal Body Wrapping
            }
        }
    }
    PROJECT.AutoBodyGarage = AutoBodyGarage;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class CheckpointManager
    */
    class CheckpointManager extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.checkPointList = null;
            this.checkPointCount = 0;
            this.checkPointIndex = 0;
            this.nextCheckPoint = 0;
            this.startRaceTime = 0;
            this.totalRaceTime = 0;
            this.lapNumber = 0;
            this.lapTimer = 0;
            this.lapTimes = null;
            this.playerID = 0;
            this.playerName = "Player";
            this.raceOver = false;
            this.nextCheckPointName = "";
        }
        register(id, name) {
            this.playerID = id;
            this.playerName = name;
            PROJECT.RaceTrackManager.RegisterPlayer(this.playerID, this.playerName);
        }
        getLapTimes() { return this.lapTimes; }
        getLapNumber() { return this.lapNumber; }
        getCheckPoint() { return this.checkPointIndex; }
        getPlayerName() { return this.playerName; }
        getPlayerID() { return this.playerID; }
        getRaceTime() { return this.totalRaceTime; }
        getRaceOver() { return this.raceOver; }
        start() {
            this.lapTimes = [];
            this.lapNumber = 0;
            this.nextCheckPoint = 0;
            this.checkPointList = PROJECT.RaceTrackManager.GetCheckpointList();
            this.checkPointCount = PROJECT.RaceTrackManager.GetCheckpointCount();
        }
        update() {
            if (this.raceOver === false) {
                if (this.checkPointList != null && this.checkPointList.length > 0) {
                    const nextCheckpointMesh = this.checkPointList[this.nextCheckPoint];
                    if (nextCheckpointMesh != null) {
                        this.nextCheckPointName = nextCheckpointMesh.name;
                        if (nextCheckpointMesh.intersectsPoint(this.transform.absolutePosition)) {
                            this.checkPointIndex = this.nextCheckPoint;
                            if (this.checkPointIndex === 0) {
                                if (this.lapNumber > 0 && this.lapTimer > 0) {
                                    const lapTime = (BABYLON.Toolkit.SceneManager.GetGameTime() - this.lapTimer);
                                    if (this.lapTimes == null)
                                        this.lapTimes = [];
                                    this.lapTimes.push(lapTime);
                                }
                                this.lapNumber++;
                                this.lapTimer = BABYLON.Toolkit.SceneManager.GetGameTime();
                                if (this.lapNumber > PROJECT.RaceTrackManager.TotalLapCount) {
                                    this.startRaceTime = 0;
                                    this.lapNumber = PROJECT.RaceTrackManager.TotalLapCount;
                                    this.raceOver = true; // GAME OVER: Crossed Finish Line
                                    PROJECT.RaceTrackManager.EventBus.PostMessage("GameOver");
                                    /////////////////////////////////////////////////////////////////////
                                    // Maybe Remove And Use Leaderboard For Winner - ???
                                    /////////////////////////////////////////////////////////////////////
                                    if (PROJECT.RaceTrackManager.WinnerTransform == null) {
                                        PROJECT.RaceTrackManager.WinnerTransform = this.transform;
                                        // ..
                                        // TODO: Handle Win Conditions - ???
                                        // ..
                                        console.warn("RACE WINNER: " + this.transform.name);
                                    }
                                    /////////////////////////////////////////////////////////////////////
                                }
                            }
                            this.nextCheckPoint++;
                            if (this.nextCheckPoint >= this.checkPointCount) {
                                this.nextCheckPoint = 0;
                            }
                        }
                    }
                }
            }
        }
        late() {
            // DEBUG LOCAL PLAYER CHECKPOINTS
            // if (this.transform.name === "LocalPlayer") {
            //    UTIL.PrintToScreen("Checkpoint Index: " + this.checkPointIndex.toString() + " ---> Next: " + this.nextCheckPointName);
            // }
            if (this.raceOver === false) {
                if (this.startRaceTime > 0) {
                    this.totalRaceTime = (BABYLON.Toolkit.SceneManager.GetGameTime() - this.startRaceTime);
                }
                if (this.playerID > 0) {
                    PROJECT.RaceTrackManager.UpdateLeaderboard(this.playerID, this.lapNumber, this.checkPointIndex, this.transform.absolutePosition);
                }
            }
        }
        startRaceTimer() {
            if (this.startRaceTime === 0) {
                this.lapTimes = [];
                this.raceOver = false;
                this.startRaceTime = BABYLON.Toolkit.SceneManager.GetGameTime();
            }
        }
    }
    PROJECT.CheckpointManager = CheckpointManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NetworkCarPrediction
    */
    class NetworkCarPrediction extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.autoRegister = true;
            this.handlerName = "VehiclePrediction";
            this.extrapolateTimeMs = 200;
        }
        awake() {
            if (this.autoRegister === true)
                this.register();
        }
        register() {
            BABYLON.NetworkManager.RegisterCustomInterpolationHandler(this.handlerName, (networkEntity, remoteTransform, deltaTime) => {
                this.HandleUpdate(networkEntity, remoteTransform, deltaTime);
            });
        }
        HandleUpdate(networkEntity, remoteTransform, deltaTime) {
            // TODO: Handle Remote Network Transform Update
        }
        LegacyHandleUpdate(networkEntity, remoteTransform, deltaTime) {
            const entityDeltaTime = 0; //BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.DeltaTime);
            const entityElaspedTime = 0; //BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.ElapsedTime);
            //const extrapolationOffset:BABYLON.Vector3 = BABYLON.NetworkManager.ReadNetworkEntityBufferData<BABYLON.Vector3>(remoteTransform, BABYLON.EntityBufferData.ExtrapolationOffset);
            const entityDeltaTimeMs = (entityDeltaTime * 1000);
            const entityElaspedTimeMs = (entityElaspedTime * 1000);
            //const latestSnapshot:BABYLON.EntitySnapshot = BABYLON.NetworkManager.ReadNetworkEntityBufferData(remoteTransform, BABYLON.EntityBufferData.LatestSnapshot);
            //const networkPosition:BABYLON.Vector3 = latestSnapshot.position;
            //const networkRotation:BABYLON.Quaternion = latestSnapshot.rotation;
            //const networkLinearVelocity:BABYLON.Vector3 = latestSnapshot.velocity; 
            //const networkAngularVelocity:BABYLON.Vector3 = latestSnapshot.angle; 
            /*
            (<any>remoteTransform).networkEntityCurrPosition.copyFrom(remoteTransform.position);
            (<any>remoteTransform).networkEntityCurrPosition.subtractToRef((<any>remoteTransform).networkEntityPrevPosition, (<any>remoteTransform).networkEntityDeltaPosition);
            (<any>remoteTransform).networkEntityPrevPosition.copyFrom((<any>remoteTransform).networkEntityCurrPosition);
            (<any>remoteTransform).networkEntityDeltaPosition.x = (<any>remoteTransform).networkEntityDeltaPosition.x / deltaTime;
            (<any>remoteTransform).networkEntityDeltaPosition.y = (<any>remoteTransform).networkEntityDeltaPosition.y / deltaTime;
            (<any>remoteTransform).networkEntityDeltaPosition.z = (<any>remoteTransform).networkEntityDeltaPosition.z / deltaTime;
            (<any>remoteTransform).networkEntityCurrRotation.copyFrom(remoteTransform.rotationQuaternion);
            // ..
            BABYLON.Toolkit.Utilities.QuaternionDiffToRef((<any>remoteTransform).networkEntityCurrRotation, (<any>remoteTransform).networkEntityPrevRotation, (<any>remoteTransform).networkEntityDeltaRotation);
            (<any>remoteTransform).networkEntityDeltaRotation.toEulerAnglesToRef((<any>remoteTransform).networkEntityDeltaEulers);
            (<any>remoteTransform).networkEntityDeltaEulers.x = (<any>remoteTransform).networkEntityDeltaEulers.x / deltaTime;
            (<any>remoteTransform).networkEntityDeltaEulers.y = (<any>remoteTransform).networkEntityDeltaEulers.y / deltaTime;
            (<any>remoteTransform).networkEntityDeltaEulers.z = (<any>remoteTransform).networkEntityDeltaEulers.z / deltaTime;
            */
            if (entityDeltaTimeMs <= this.extrapolateTimeMs && entityElaspedTimeMs <= this.extrapolateTimeMs) {
                // Quaternion turnRotation = Quaternion.Euler( 0, m_SynchronizedTurnSpeed * timePassed, 0 );
                // extrapolatePosition = turnRotation * ( m_SynchronizedSpeed * timePassed );                    
                // ..
                // TODO: Extrapolate New Target Position (Client Prediction)
                // ..
                // const quat:BABYLON.Quaternion = BABYLON.Quaternion.FromEulerAngles(angularVelocity.x, angularVelocity.y, angularVelocity.z);
                // const extra = BABYLON.Toolkit.Utilities.MultiplyQuaternionByVector(quat, linearVelocity);
                // ..
                //networkLinearVelocity.scaleToRef(entityDeltaTime, extrapolationOffset);
                //networkPosition.addInPlace(extrapolationOffset);
                // ..
                // Interpolate Smooth Network Position Update (Move Towards)
                // ..
                //const metersPerSecond:number = (networkLinearVelocity.length() * sceneDeltaTime);
                //BABYLON.Toolkit.Utilities.MoveTowardsVector3ToRef(remoteTransform.position, networkPosition, metersPerSecond, remoteTransform.position);
                // ..
                // Interpolate Smooth Network Rotation Update (Legacy Slerp)
                // ..
                // TODO: Create Quaternion Rotate Towards
                // TODO: Get Slerp Speed Attribute
                let rotationSlerpFactor = 10.0;
                let rotationLerpSpeed = (rotationSlerpFactor * deltaTime);
                rotationLerpSpeed = BABYLON.Scalar.Clamp(rotationLerpSpeed, 0, 1);
                //BABYLON.Quaternion.SlerpToRef(remoteTransform.rotationQuaternion, networkRotation, rotationLerpSpeed, remoteTransform.rotationQuaternion);
                // MOVE TO ONCHANGE
                //(<any>remoteTransform).networkEntityPacketPosition.copyFrom(remoteTransform.position);
                //(<any>remoteTransform).networkEntityPacketRotation.copyFrom(remoteTransform.rotationQuaternion);
                //(<any>remoteTransform).networkEntityPacketVelocity.copyFrom((<any>remoteTransform).networkEntityDeltaPosition);
                //(<any>remoteTransform).networkEntityPacketAngular.copyFrom((<any>remoteTransform).networkEntityDeltaEulers); 
                /*
                const controlType:BABYLON.EntityControlType = (<any>remoteTransform).networkEntityControl;
                if (controlType != null) {
                    if (controlType === BABYLON.EntityControlType.Transform) {
                        // TODO: Use Transform Directly
                    } else if (controlType === BABYLON.EntityControlType.RigidbodyPhysics) {
                        const remoteTransformMesh:BABYLON.AbstractMesh = remoteTransform as BABYLON.AbstractMesh;
                        if (remoteTransformMesh.physicsImpostor != null) {

                            //const entityDeltaTime:number = BABYLON.NetworkManager.ReadNetworkEntityBufferData<number>(remoteTransform, BABYLON.EntityBufferData.DeltaTime);
                            //(<any>remoteTransform).networkEntityRealVelocity.scaleInPlace(entityDeltaTime);
                            //remoteTransformMesh.physicsImpostor.setLinearVelocity((<any>remoteTransform).networkEntityRealVelocity);
                            //console.log("SET VELOCITY: " + remoteTransform.name);

                            // r.velocity = Vector3.Lerp(velocityAtLastPacket, latestVelocity, (float)(currentTime / timeToReachGoal));
                            // r.angularVelocity = Vector3.Lerp(angularVelocityAtLastPacket, latestAngularVelocity, (float)(currentTime / timeToReachGoal));
                        }
                    } else if (controlType === BABYLON.EntityControlType.CharacterController) {
                        // TODO: Find And Use Character Controller
                    }
                }
                */
            }
            else {
                //remoteTransform.position.copyFrom(networkPosition);
                //remoteTransform.rotationQuaternion.copyFrom(networkRotation);
            }
        }
    }
    PROJECT.NetworkCarPrediction = NetworkCarPrediction;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    class RoutePoint {
    }
    PROJECT.RoutePoint = RoutePoint;
    class PlayerRaceStats {
    }
    PROJECT.PlayerRaceStats = PlayerRaceStats;
    /**
    * Babylon Script Component
    * @class BT_RaceTrackManager
    */
    class RaceTrackManager extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.trackNodes = null;
            this.raceLineData_1 = null;
            this.raceLineData_2 = null;
            this.raceLineData_3 = null;
            this.raceLineData_4 = null;
            this.raceLineData_5 = null;
            this.raceLineColor_1 = null;
            this.raceLineColor_2 = null;
            this.raceLineColor_3 = null;
            this.raceLineColor_4 = null;
            this.raceLineColor_5 = null;
            this.debugMeshLines_1 = null;
            this.debugMeshLines_2 = null;
            this.debugMeshLines_3 = null;
            this.debugMeshLines_4 = null;
            this.debugMeshLines_5 = null;
            this.p0n = 0;
            this.p1n = 0;
            this.p2n = 0;
            this.p3n = 0;
            this.i = 0;
            this.drawDebugLines = false;
        }
        static get EventBus() {
            if (PROJECT.RaceTrackManager._EventBus == null) {
                PROJECT.RaceTrackManager._EventBus = new BABYLON.Toolkit.LocalMessageBus();
            }
            return PROJECT.RaceTrackManager._EventBus;
        }
        getTrackNodes() { return this.trackNodes; }
        getControlPoints(line) {
            let result = null;
            switch (line) {
                case 0:
                    result = this.raceLineData_1;
                    break;
                case 1:
                    result = this.raceLineData_2;
                    break;
                case 2:
                    result = this.raceLineData_3;
                    break;
                case 3:
                    result = this.raceLineData_4;
                    break;
                case 4:
                    result = this.raceLineData_5;
                    break;
            }
            return result;
        }
        awake() {
            this.trackNodes = this.getProperty("TrackNodes", this.trackNodes);
            this.raceLineData_1 = this.getProperty("RaceLineData_1", this.raceLineData_1);
            this.raceLineData_2 = this.getProperty("RaceLineData_2", this.raceLineData_2);
            this.raceLineData_3 = this.getProperty("RaceLineData_3", this.raceLineData_3);
            this.raceLineData_4 = this.getProperty("RaceLineData_4", this.raceLineData_4);
            this.raceLineData_5 = this.getProperty("RaceLineData_5", this.raceLineData_5);
            this.raceLineColor_1 = this.getProperty("RaceLineColor_1", this.raceLineColor_1);
            this.raceLineColor_2 = this.getProperty("RaceLineColor_2", this.raceLineColor_2);
            this.raceLineColor_3 = this.getProperty("RaceLineColor_3", this.raceLineColor_3);
            this.raceLineColor_4 = this.getProperty("RaceLineColor_4", this.raceLineColor_4);
            this.raceLineColor_5 = this.getProperty("RaceLineColor_5", this.raceLineColor_5);
            this.drawDebugLines = this.getProperty("DrawDebugLines", this.drawDebugLines);
            //
            let index = 0;
            if (this.trackNodes != null) {
                PROJECT.RaceTrackManager.TrackLength = 0;
                for (index = 0; index < this.trackNodes.length; index++) {
                    const element = this.trackNodes[index];
                    const t1 = this.trackNodes[(index) % this.trackNodes.length];
                    const t2 = this.trackNodes[(index + 1) % this.trackNodes.length];
                    if (t1 != null && t2 != null) {
                        const rot = BABYLON.Toolkit.Utilities.ParseVector4(element.rotation);
                        element.localRotation = new BABYLON.Quaternion(rot.x, rot.y, rot.z, rot.w);
                        element.localPosition = BABYLON.Toolkit.Utilities.ParseVector3(element.position);
                        const p1 = BABYLON.Toolkit.Utilities.ParseVector3(t1.position);
                        const p2 = BABYLON.Toolkit.Utilities.ParseVector3(t2.position);
                        element.localDistance = PROJECT.RaceTrackManager.TrackLength;
                        PROJECT.RaceTrackManager.TrackLength += (p1.subtract(p2)).length();
                    }
                }
            }
            console.warn(">>> Race Track Nodes");
            console.log(this.trackNodes);
            // ..
            if (PROJECT.RaceTrackManager.LeaderBoardList == null) {
                PROJECT.RaceTrackManager.LeaderBoardList = [];
            }
            // ..
            if (PROJECT.RaceTrackManager.CheckPointList == null) {
                PROJECT.RaceTrackManager.CheckPointList = this.scene.getMeshesByTags(PROJECT.RaceTrackManager.CheckPointTag);
                if (PROJECT.RaceTrackManager.CheckPointList != null && PROJECT.RaceTrackManager.CheckPointList.length > 0) {
                    for (index = 0; index < PROJECT.RaceTrackManager.CheckPointList.length; index++) {
                        PROJECT.RaceTrackManager.CheckPointList[index].refreshBoundingInfo({});
                    }
                }
            }
        }
        start() {
            if (this.drawDebugLines === true) {
                let index = 0;
                const pointSize = 0.5;
                const debugLines = new BABYLON.TransformNode(this.transform.name + ".DebugLines", this.scene);
                debugLines.position.set(0, 0, 0);
                debugLines.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                // ..
                // Track Nodes
                // ..
                if (this.trackNodes != null && this.trackNodes.length > 0) {
                    const trackNodePos_1 = [];
                    const trackNodeCol_1 = BABYLON.Color3.White();
                    const trackNodeMat_1 = new BABYLON.StandardMaterial(this.transform.name + ".NodeMaterial", this.scene);
                    trackNodeMat_1.diffuseColor = trackNodeCol_1;
                    index = 0;
                    this.trackNodes.forEach((node) => {
                        const trackNodePosition = new BABYLON.Vector3(node.position.x, node.position.y, node.position.z);
                        const trackNodeRotation = new BABYLON.Quaternion(node.rotation.x, node.rotation.y, node.rotation.z, node.rotation.w);
                        trackNodePos_1.push(trackNodePosition);
                        const trackNode = BABYLON.MeshBuilder.CreateCylinder(this.transform.name + ".TrackNode_" + index, { diameterTop: 0, diameterBottom: (pointSize * 2), height: 2.0 }, this.scene);
                        trackNode.parent = debugLines;
                        trackNode.position.copyFrom(trackNodePosition);
                        trackNode.position.y += 0.5;
                        trackNode.rotationQuaternion = trackNodeRotation.multiply(BABYLON.Toolkit.Utilities.FromEuler(90, 0, 0));
                        trackNode.material = trackNodeMat_1;
                        index++;
                    });
                }
                // ..
                // Race Line 5
                // ..
                if (this.raceLineData_5 != null && this.raceLineData_5.length > 0) {
                    const raceLinePos_5 = [];
                    const raceLineCol_5 = (this.raceLineColor_5 != null) ? new BABYLON.Color3(this.raceLineColor_5.r, this.raceLineColor_5.g, this.raceLineColor_5.b) : BABYLON.Color3.White();
                    const raceLineMat_5 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_5", this.scene);
                    raceLineMat_5.diffuseColor = raceLineCol_5;
                    index = 0;
                    this.raceLineData_5.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_5.push(raceLinePoint);
                        const controlPoint_5 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_5_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_5.parent = debugLines;
                        controlPoint_5.position.copyFrom(raceLinePoint);
                        controlPoint_5.position.y += 0.5;
                        controlPoint_5.material = raceLineMat_5;
                        index++;
                    });
                    this.debugMeshLines_5 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_5"), { points: raceLinePos_5 }, this.scene);
                    this.debugMeshLines_5.parent = debugLines;
                    this.debugMeshLines_5.position.y += 0.5;
                    this.debugMeshLines_5.color = raceLineCol_5;
                }
                // ..
                // Race Line 4
                // ..
                if (this.raceLineData_4 != null && this.raceLineData_4.length > 0) {
                    const raceLinePos_4 = [];
                    const raceLineCol_4 = (this.raceLineColor_4 != null) ? new BABYLON.Color3(this.raceLineColor_4.r, this.raceLineColor_4.g, this.raceLineColor_4.b) : BABYLON.Color3.White();
                    const raceLineMat_4 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_4", this.scene);
                    raceLineMat_4.diffuseColor = raceLineCol_4;
                    index = 0;
                    this.raceLineData_4.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_4.push(raceLinePoint);
                        const controlPoint_4 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_4_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_4.parent = debugLines;
                        controlPoint_4.position.copyFrom(raceLinePoint);
                        controlPoint_4.position.y += 0.5;
                        controlPoint_4.material = raceLineMat_4;
                        index++;
                    });
                    this.debugMeshLines_4 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_4"), { points: raceLinePos_4 }, this.scene);
                    this.debugMeshLines_4.parent = debugLines;
                    this.debugMeshLines_4.position.y += 0.5;
                    this.debugMeshLines_4.color = raceLineCol_4;
                }
                // ..
                // Race Line 3
                // ..
                if (this.raceLineData_3 != null && this.raceLineData_3.length > 0) {
                    const raceLinePos_3 = [];
                    const raceLineCol_3 = (this.raceLineColor_3 != null) ? new BABYLON.Color3(this.raceLineColor_3.r, this.raceLineColor_3.g, this.raceLineColor_3.b) : BABYLON.Color3.White();
                    const raceLineMat_3 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_3", this.scene);
                    raceLineMat_3.diffuseColor = raceLineCol_3;
                    index = 0;
                    this.raceLineData_3.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_3.push(raceLinePoint);
                        const controlPoint_3 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_3_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_3.parent = debugLines;
                        controlPoint_3.position.copyFrom(raceLinePoint);
                        controlPoint_3.position.y += 0.5;
                        controlPoint_3.material = raceLineMat_3;
                        index++;
                    });
                    this.debugMeshLines_3 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_3"), { points: raceLinePos_3 }, this.scene);
                    this.debugMeshLines_3.parent = debugLines;
                    this.debugMeshLines_3.position.y += 0.5;
                    this.debugMeshLines_3.color = raceLineCol_3;
                }
                // ..
                // Race Line 2
                // ..
                if (this.raceLineData_2 != null && this.raceLineData_2.length > 0) {
                    const raceLinePos_2 = [];
                    const raceLineCol_2 = (this.raceLineColor_2 != null) ? new BABYLON.Color3(this.raceLineColor_2.r, this.raceLineColor_2.g, this.raceLineColor_2.b) : BABYLON.Color3.White();
                    const raceLineMat_2 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_2", this.scene);
                    raceLineMat_2.diffuseColor = raceLineCol_2;
                    index = 0;
                    this.raceLineData_2.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_2.push(raceLinePoint);
                        const controlPoint_2 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_2_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_2.parent = debugLines;
                        controlPoint_2.position.copyFrom(raceLinePoint);
                        controlPoint_2.position.y += 0.5;
                        controlPoint_2.material = raceLineMat_2;
                        index++;
                    });
                    this.debugMeshLines_2 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_2"), { points: raceLinePos_2 }, this.scene);
                    this.debugMeshLines_2.parent = debugLines;
                    this.debugMeshLines_2.position.y += 0.5;
                    this.debugMeshLines_2.color = raceLineCol_2;
                }
                // ..
                // Race Line 1
                // ..
                if (this.raceLineData_1 != null && this.raceLineData_1.length > 0) {
                    const raceLinePos_1 = [];
                    const raceLineCol_1 = (this.raceLineColor_1 != null) ? new BABYLON.Color3(this.raceLineColor_1.r, this.raceLineColor_1.g, this.raceLineColor_1.b) : BABYLON.Color3.White();
                    const raceLineMat_1 = new BABYLON.StandardMaterial(this.transform.name + ".PointMaterial_1", this.scene);
                    raceLineMat_1.diffuseColor = raceLineCol_1;
                    index = 0;
                    this.raceLineData_1.forEach((point) => {
                        const raceLinePoint = new BABYLON.Vector3(point.position.x, point.position.y, point.position.z);
                        raceLinePos_1.push(raceLinePoint);
                        const controlPoint_1 = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".ControlPoint_1_" + index, { segments: 24, diameter: (pointSize * 2) }, this.scene);
                        controlPoint_1.parent = debugLines;
                        controlPoint_1.position.copyFrom(raceLinePoint);
                        controlPoint_1.position.y += 0.5;
                        controlPoint_1.material = raceLineMat_1;
                        index++;
                    });
                    this.debugMeshLines_1 = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".RaceLine_1"), { points: raceLinePos_1 }, this.scene);
                    this.debugMeshLines_1.parent = debugLines;
                    this.debugMeshLines_1.position.y += 0.5;
                    this.debugMeshLines_1.color = raceLineCol_1;
                }
            }
        }
        after() {
            if (this.isReady()) { // Update After Ready State
                PROJECT.RaceTrackManager.SortLeaderboardPositionList();
            }
        }
        destroy() {
            // TODO - Destroy component function
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Public Route Point Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getRoutePoint(distance) {
            const result = new RoutePoint();
            this.getRoutePointToRef(distance, result);
            return result;
        }
        getRoutePointToRef(distance, result) {
            // TODO: OPTIMIZE THIS FUNCTION
            const p1 = this.getRoutePosition(distance);
            const p2 = this.getRoutePosition(distance + 0.1);
            const delta = p2.subtract(p1);
            result.position = p1.clone();
            result.direction = delta.normalizeToNew();
            //return new RoutePoint(p1, delta.normalized);
        }
        getRoutePosition(distance) {
            const result = new BABYLON.Vector3(0, 0, 0);
            this.getRoutePositionToRef(distance, result);
            return result;
        }
        getRoutePositionToRef(distance, result) {
            let point = 0;
            const dist = BABYLON.Scalar.Repeat(distance, PROJECT.RaceTrackManager.TrackLength);
            const numPoints = this.trackNodes.length;
            while (this.trackNodes[point].localDistance < dist) {
                ++point;
            }
            // get nearest two points, ensuring points wrap-around start & end of circuit
            this.p1n = ((point - 1) + numPoints) % numPoints;
            this.p2n = point;
            // found point numbers, now find interpolation value between the two middle points
            this.i = BABYLON.Scalar.InverseLerp(this.trackNodes[this.p1n].localDistance, this.trackNodes[this.p2n].localDistance, dist);
            // simple linear lerp between the two points
            BABYLON.Vector3.LerpToRef(this.trackNodes[this.p1n].localPosition, this.trackNodes[this.p2n].localPosition, this.i, result);
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Checkpoint Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Gets the checkpoint tag identifier */
        static GetCheckpointTag() {
            return PROJECT.RaceTrackManager.CheckPointTag;
        }
        /** Get the checkpoint position list */
        static GetCheckpointList() {
            return PROJECT.RaceTrackManager.CheckPointList;
        }
        /** Get the total number of checkpoints */
        static GetCheckpointCount() {
            return (PROJECT.RaceTrackManager.CheckPointList != null) ? PROJECT.RaceTrackManager.CheckPointList.length : 0;
        }
        /** Calculates the fraction distance to next checkpoint */
        static GetCheckpointDistance(position, lastPointReached, nextPoint) {
            // TODO: Optimize vectors
            const displacementFromCurrentNode = position.subtract(lastPointReached);
            const currentSegmentVector = nextPoint.subtract(lastPointReached);
            const fraction = BABYLON.Vector3.Dot(displacementFromCurrentNode, currentSegmentVector) / currentSegmentVector.lengthSquared();
            return BABYLON.Scalar.Clamp(fraction);
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Vehicle Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Register vehicle with track manager */
        static RegisterVehicle(vehicle) {
            if (PROJECT.RaceTrackManager.PlayerVehicleList == null)
                PROJECT.RaceTrackManager.PlayerVehicleList = [];
            PROJECT.RaceTrackManager.PlayerVehicleList.push(vehicle);
        }
        /** Gets the registered player vehicles */
        static GetPlayerVehicles() {
            return PROJECT.RaceTrackManager.PlayerVehicleList;
        }
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Static Leaderboard Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Register player with track manager */
        static RegisterPlayer(id, name) {
            const player = new PROJECT.PlayerRaceStats();
            player.id = id,
                player.name = name;
            player.position = 0;
            if (PROJECT.RaceTrackManager.LeaderBoardList == null)
                PROJECT.RaceTrackManager.LeaderBoardList = [];
            PROJECT.RaceTrackManager.LeaderBoardList.push(player);
        }
        /** Update player leaderboard information */
        static UpdateLeaderboard(id, lap, checkpoint, position) {
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                for (let index = 0; index < leaderboard.length; index++) {
                    const element = leaderboard[index];
                    if (element.id === id) {
                        if (PROJECT.RaceTrackManager.CheckPointList != null && PROJECT.RaceTrackManager.CheckPointList.length > 0) {
                            let checkPointCount = PROJECT.RaceTrackManager.CheckPointList.length;
                            let nextCheckPointIndex = (checkpoint + 1);
                            if (nextCheckPointIndex >= checkPointCount)
                                nextCheckPointIndex = 0;
                            const startCheckpointMesh = PROJECT.RaceTrackManager.CheckPointList[checkpoint];
                            const nextCheckpointMesh = PROJECT.RaceTrackManager.CheckPointList[nextCheckPointIndex];
                            const checkPointFraction = PROJECT.RaceTrackManager.GetCheckpointDistance(position, startCheckpointMesh.absolutePosition, nextCheckpointMesh.absolutePosition);
                            element.position = (((lap * 1000) + checkpoint) + checkPointFraction);
                        }
                        break;
                    }
                }
            }
        }
        /** Get player leaderboard position */
        static GetLeaderboardPosition(id) {
            let result = -1;
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                for (let index = 0; index < leaderboard.length; index++) {
                    const element = leaderboard[index];
                    if (element.id === id) {
                        result = (index + 1);
                        break;
                    }
                }
            }
            return result;
        }
        /** Get leaderboard position list */
        static GetLeaderboardPositionList() {
            return PROJECT.RaceTrackManager.LeaderBoardList;
        }
        /** Sort leaderboard position list */
        static SortLeaderboardPositionList() {
            if (PROJECT.RaceTrackManager.LeaderBoardList != null && PROJECT.RaceTrackManager.LeaderBoardList.length > 0) {
                const leaderboard = PROJECT.RaceTrackManager.LeaderBoardList;
                leaderboard.sort((left, right) => {
                    // Note: Sort In Descending Order
                    if (left.position < right.position)
                        return 1;
                    if (left.position > right.position)
                        return -1;
                    return 0;
                });
            }
        }
    }
    RaceTrackManager.TrackLength = 0;
    RaceTrackManager.TotalLapCount = 3;
    RaceTrackManager.WinnerTransform = null;
    RaceTrackManager.CheckPointTag = "Checkpoint";
    RaceTrackManager.CheckPointList = null;
    RaceTrackManager.LeaderBoardList = null;
    RaceTrackManager.PlayerVehicleList = null;
    RaceTrackManager._EventBus = null;
    PROJECT.RaceTrackManager = RaceTrackManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon remote vehicle controller class (Colyseus Universal Game Room)
    * @class RemoteCarController
    */
    class RemoteCarController extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.centerOfMass = 0.4;
            this.burnoutWheelPitch = 0.85;
            this.linkTrackManager = true;
            this.playVehicleSounds = true;
            this.smokeTexture = null;
            this.skidThreashold = 0.65;
            this.smokeIntensity = 150;
            this.wheelDrawVelocity = 0.02;
            this.smokeOpacity = 0.1;
            this.smokeDonuts = 2.0;
            this.steeringWheelHub = null;
            this.steeringWheelAxis = 2;
            this.maxSteeringAngle = 35.0;
            this.maxSteeringSpeed = 10.0;
            this._animator = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            this.brakeLightsMesh = null;
            this.brakeLightsTrans = null;
            this.reverseLightsMesh = null;
            this.reverseLightsTrans = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelEmitter = null;
            this.frontRightWheelEmitter = null;
            this.backLeftWheelEmitter = null;
            this.backRightWheelEmitter = null;
            this.frontLeftWheelParticle = null;
            this.frontRightWheelParticle = null;
            this.backLeftWheelParticle = null;
            this.backRightWheelParticle = null;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftSensorLine = null;
            this.frontRightSensorLine = null;
            this.rearLeftSensorLine = null;
            this.rearRightSensorLine = null;
            this.startRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.smokeIntensityFactor = 0;
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.downDistance = 2.0;
            this.lastPitch = 0;
            this.lastBrake = 0;
            this.lastReverse = 0;
            this.lastBurnout = 0;
            this.lastSteering = 0;
            this.lastSKID_FL = 0;
            this.lastSKID_FR = 0;
            this.lastSKID_RL = 0;
            this.lastSKID_RR = 0;
            this.lastSPIN_FL = 0;
            this.lastSPIN_FR = 0;
            this.lastSPIN_RL = 0;
            this.lastSPIN_RR = 0;
            this.PITCH_FL = 0;
            this.PITCH_FR = 0;
            this.PITCH_RL = 0;
            this.PITCH_RR = 0;
            this.WHEEL_SKID_PITCH = 0;
            this.m_frontLeftWheelSkid = -1;
            this.m_frontRightWheelSkid = -1;
            this.m_backLeftWheelSkid = -1;
            this.m_backRightWheelSkid = -1;
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
        }
        getFrontLeftWheelContact() { return this.frontLeftContact; }
        getFrontRightWheelContact() { return this.frontRightContact; }
        getRearLeftWheelContact() { return this.rearLeftContact; }
        getRearRightWheelContact() { return this.rearRightContact; }
        getFrontLeftWheelContactTag() { return this.frontLeftContactTag; }
        getFrontRightWheelContactTag() { return this.frontRightContactTag; }
        getRearLeftWheelContactTag() { return this.rearLeftContactTag; }
        getRearRightWheelContactTag() { return this.rearRightContactTag; }
        getFrontLeftWheelContactPoint() { return this.frontLeftContactPoint; }
        getFrontRightWheelContactPoint() { return this.frontRightContactPoint; }
        getRearLeftWheelContactPoint() { return this.rearLeftContactPoint; }
        getRearRightWheelContactPoint() { return this.rearRightContactPoint; }
        getFrontLeftWheelContactNormal() { return this.frontLeftContactNormal; }
        getFrontRightWheelContactNormal() { return this.frontRightContactNormal; }
        getRearLeftWheelContactNormal() { return this.rearLeftContactNormal; }
        getRearRightWheelContactNormal() { return this.rearRightContactNormal; }
        awake() {
            this.centerOfMass = this.getProperty("centerOfMass", this.centerOfMass);
            this.burnoutWheelPitch = this.getProperty("burnoutWheelPitch", this.burnoutWheelPitch);
            this.linkTrackManager = this.getProperty("linkTrackManager", this.linkTrackManager);
            this.playVehicleSounds = this.getProperty("playVehicleSounds", this.playVehicleSounds);
            this.wheelDrawVelocity = this.getProperty("wheelDrawVelocity", this.wheelDrawVelocity);
            this.skidThreashold = this.getProperty("skidThreashold", this.skidThreashold);
            this.smokeIntensity = this.getProperty("smokeIntensity", this.smokeIntensity);
            this.smokeOpacity = this.getProperty("smokeOpacity", this.smokeOpacity);
            this.smokeDonuts = this.getProperty("smokeDonuts", this.smokeDonuts);
            this.steeringWheelAxis = this.getProperty("steeringWheelAxis", this.steeringWheelAxis);
            this.maxSteeringAngle = this.getProperty("maxSteeringAngle", this.maxSteeringAngle);
            this.maxSteeringSpeed = this.getProperty("maxSteeringSpeed", this.maxSteeringSpeed);
            this.frontLeftWheelTrans = this.getProperty("frontLeftWheelMesh", this.frontLeftWheelTrans);
            this.frontRightWheelTrans = this.getProperty("frontRightWheelMesh", this.frontRightWheelTrans);
            this.backLeftWheelTrans = this.getProperty("rearLeftWheelMesh", this.backLeftWheelTrans);
            this.backRightWheelTrans = this.getProperty("rearRightWheelMesh", this.backRightWheelTrans);
            this.brakeLightsTrans = this.getProperty("brakeLightsMesh", this.brakeLightsTrans);
            this.reverseLightsTrans = this.getProperty("reverseLightsMesh", this.reverseLightsTrans);
            const smokeTextureInfo = this.getProperty("smokeTexture");
            if (smokeTextureInfo != null) {
                this.smokeTexture = BABYLON.Toolkit.Utilities.ParseTexture(smokeTextureInfo, this.scene);
            }
            if (this.linkTrackManager === true)
                PROJECT.RaceTrackManager.RegisterVehicle(this.transform);
            this._animator = this.getComponent("BABYLON.Toolkit.AnimationState");
            if (this._animator == null) {
                const animationNode = this.getChildWithScript("BABYLON.Toolkit.AnimationState");
                if (animationNode != null) {
                    this._animator = BABYLON.Toolkit.SceneManager.FindScriptComponent(animationNode, "BABYLON.Toolkit.AnimationState");
                }
                else {
                    // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                }
            }
            this._engineAudioSource = this.getComponent("BABYLON.Toolkit.AudioSource");
            if (this._engineAudioSource == null)
                BABYLON.Toolkit.SceneManager.LogWarning("No engine audio source manager found for: " + this.transform.name);
            const steeringWheelNode = this.getProperty("steeringWheelHub");
            if (steeringWheelNode != null && steeringWheelNode.name != null && steeringWheelNode.name !== "") {
                this.steeringWheelHub = this.getChildNode(steeringWheelNode.name, BABYLON.Toolkit.SearchType.IndexOf, false);
            }
            const brakeLightslName = (this.brakeLightsTrans != null && this.brakeLightsTrans.name != null && this.brakeLightsTrans.name !== "") ? this.brakeLightsTrans.name : null;
            const reverseLightslName = (this.reverseLightsTrans != null && this.reverseLightsTrans.name != null && this.reverseLightsTrans.name !== "") ? this.reverseLightsTrans.name : null;
            const frontLeftWheelName = (this.frontLeftWheelTrans != null && this.frontLeftWheelTrans.name != null && this.frontLeftWheelTrans.name !== "") ? this.frontLeftWheelTrans.name : null;
            const frontRightWheelName = (this.frontRightWheelTrans != null && this.frontRightWheelTrans.name != null && this.frontRightWheelTrans.name !== "") ? this.frontRightWheelTrans.name : null;
            const backLeftWheelName = (this.backLeftWheelTrans != null && this.backLeftWheelTrans.name != null && this.backLeftWheelTrans.name !== "") ? this.backLeftWheelTrans.name : null;
            const backRightWheelName = (this.backRightWheelTrans != null && this.backRightWheelTrans.name != null && this.backRightWheelTrans.name !== "") ? this.backRightWheelTrans.name : null;
            if (brakeLightslName != null) {
                this.brakeLightsMesh = this.getChildNode(brakeLightslName, BABYLON.Toolkit.SearchType.IndexOf, false);
                if (this.brakeLightsMesh != null) {
                    this.brakeLightsMesh.isVisible = false;
                }
            }
            if (reverseLightslName != null) {
                this.reverseLightsMesh = this.getChildNode(reverseLightslName, BABYLON.Toolkit.SearchType.IndexOf, false);
                if (this.reverseLightsMesh != null) {
                    this.reverseLightsMesh.isVisible = false;
                }
            }
            this.frontLeftWheelMesh = this.getChildNode(frontLeftWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
            if (this.frontLeftWheelMesh != null) {
                this.frontLeftWheelMesh.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.frontLeftWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                this.frontLeftWheelEmitter = new BABYLON.Mesh("Emitter_FL");
                this.frontLeftWheelEmitter.parent = this.frontLeftWheelMesh.spinner || this.frontLeftWheelMesh;
                this.frontLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.frontLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FL", this.frontLeftWheelEmitter);
            }
            this.frontRightWheelMesh = this.getChildNode(frontRightWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
            if (this.frontRightWheelMesh != null) {
                this.frontRightWheelMesh.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.frontRightWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                this.frontRightWheelEmitter = new BABYLON.Mesh("Emitter_FR");
                this.frontRightWheelEmitter.parent = this.frontRightWheelMesh.spinner || this.frontRightWheelMesh;
                this.frontRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.frontRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FR", this.frontRightWheelEmitter);
            }
            this.backLeftWheelMesh = this.getChildNode(backLeftWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
            if (this.backLeftWheelMesh != null) {
                this.backLeftWheelMesh.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.backLeftWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                this.backLeftWheelEmitter = new BABYLON.Mesh("Emitter_RL");
                this.backLeftWheelEmitter.parent = this.backLeftWheelMesh.spinner || this.backLeftWheelMesh;
                this.backLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.backLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RL", this.backLeftWheelEmitter);
            }
            this.backRightWheelMesh = this.getChildNode(backRightWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
            if (this.backRightWheelMesh != null) {
                this.backRightWheelMesh.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.backRightWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                this.backRightWheelEmitter = new BABYLON.Mesh("Emitter_RR");
                this.backRightWheelEmitter.parent = this.backRightWheelMesh.spinner || this.backRightWheelMesh;
                this.backRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                this.backRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RR", this.backRightWheelEmitter);
            }
            // ..
            // Setup Skid Audio Sources
            // ..
            if (this._skidAudioSource == null && this.backRightWheelMesh != null)
                this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.backRightWheelMesh, "BABYLON.Toolkit.AudioSource");
            if (this._skidAudioSource == null && this.backLeftWheelMesh != null)
                this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.backLeftWheelMesh, "BABYLON.Toolkit.AudioSource");
            if (this._skidAudioSource == null && this.frontRightWheelMesh != null)
                this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.frontRightWheelMesh, "BABYLON.Toolkit.AudioSource");
            if (this._skidAudioSource == null && this.frontLeftWheelMesh != null)
                this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.frontLeftWheelMesh, "BABYLON.Toolkit.AudioSource");
            if (this._skidAudioSource == null)
                BABYLON.Toolkit.SceneManager.LogWarning("No skid audio source manager found for: " + this.transform.name);
        }
        start() {
            this.m_positionCenter.set(0, 0, -this.centerOfMass);
        }
        update() {
            if (BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                this.lastPitch = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 0); // Pitch
                this.lastBrake = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 1); // Brake
                this.lastReverse = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 2); // Reverse
                this.lastBurnout = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 3); // Burnout
                this.lastSKID_FL = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 4); // SKID_FL
                this.lastSKID_FR = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 5); // SKID_FR
                this.lastSKID_RL = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 6); // SKID_RL
                this.lastSKID_RR = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 7); // SKID_RR
                this.lastSPIN_FL = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 8); // SPIN_FL
                this.lastSPIN_FR = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 9); // SPIN_FR
                this.lastSPIN_RL = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 10); // SPIN_RL
                this.lastSPIN_RR = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 11); // SPIN_RR
                this.lastSteering = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 12); // Steering
            }
            this.updateVehicleProperties();
        }
        destroy() {
            /* Destroy component function */
        }
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Private Worker Functions
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        updateVehicleProperties() {
            //BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.transform.position, this.m_positionCenter); // Note: This Correct Center Of Mass Offset
            this.m_linearVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.getDeltaSeconds());
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.wheelDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.wheelDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            this.castWheelContactRays();
            // ..
            // Update Engine Pitching
            // ..
            if (this.playVehicleSounds === true) {
                if (this._engineAudioSource != null) {
                    const engineSoundClip = this._engineAudioSource.getSoundClip();
                    if (engineSoundClip != null)
                        engineSoundClip.setPlaybackRate(this.lastPitch);
                }
            }
            const SPIN_FL_Transform = this.frontLeftWheelMesh.spinner;
            const SPIN_FR_Transform = this.frontRightWheelMesh.spinner;
            const SPIN_RL_Transform = this.backLeftWheelMesh.spinner;
            const SPIN_RR_Transform = this.backRightWheelMesh.spinner;
            if (SPIN_FL_Transform != null && SPIN_FL_Transform.rotationQuaternion != null) {
                const SPIN_FL_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_FL, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_FL_Transform.rotationQuaternion, SPIN_FL_Rotation, 0.5, SPIN_FL_Transform.rotationQuaternion);
            }
            if (SPIN_FR_Transform != null && SPIN_FR_Transform.rotationQuaternion != null) {
                const SPIN_FR_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_FR, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_FR_Transform.rotationQuaternion, SPIN_FR_Rotation, 0.5, SPIN_FR_Transform.rotationQuaternion);
            }
            if (SPIN_RL_Transform != null && SPIN_RL_Transform.rotationQuaternion != null) {
                const SPIN_RL_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_RL, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_RL_Transform.rotationQuaternion, SPIN_RL_Rotation, 0.5, SPIN_RL_Transform.rotationQuaternion);
            }
            if (SPIN_RR_Transform != null && SPIN_RR_Transform.rotationQuaternion != null) {
                const SPIN_RR_Rotation = BABYLON.Quaternion.FromEulerAngles(this.lastSPIN_RR, 0, 0);
                BABYLON.Quaternion.SlerpToRef(SPIN_RR_Transform.rotationQuaternion, SPIN_RR_Rotation, 0.5, SPIN_RR_Transform.rotationQuaternion);
            }
            // ..
            // Update Smoke Instensity
            // ..
            this.smokeDonuts = BABYLON.Scalar.Clamp(this.smokeDonuts, 1, 10);
            this.smokeIntensityFactor = this.smokeIntensity;
            if (this.lastBurnout > 0)
                this.smokeIntensityFactor *= this.smokeDonuts;
            // ..
            // Update Front Left Wheel
            // ..
            if (this.lastSKID_FL > 0 && this.frontLeftContact === true) {
                const skidScaleFL = BABYLON.Scalar.Normalize(this.lastSKID_FL, this.skidThreashold, 1.0);
                this.m_frontLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.frontLeftContactPoint, this.frontLeftContactNormal, skidScaleFL, this.m_frontLeftWheelSkid);
                if (this.frontLeftWheelParticle != null) {
                    if (this.frontLeftWheelParticle.isStarted() === false) {
                        this.frontLeftWheelParticle.start();
                    }
                    const smoke_FL = this.lastSKID_FL * this.lastSKID_FL;
                    this.frontLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FL;
                    this.frontLeftWheelParticle.minSize = 0.2 * smoke_FL + 0.2;
                    this.frontLeftWheelParticle.maxSize = 1.5 * smoke_FL + 1.2;
                }
            }
            else {
                if (this.frontLeftWheelParticle != null)
                    this.frontLeftWheelParticle.emitRate = 0;
                this.m_frontLeftWheelSkid = -1;
            }
            // ..
            // Update Front Right Wheel
            // ..
            if (this.lastSKID_FR > 0 && this.frontRightContact === true) {
                const skidScaleFR = BABYLON.Scalar.Normalize(this.lastSKID_FR, this.skidThreashold, 1.0);
                this.m_frontRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.frontRightContactPoint, this.frontRightContactNormal, skidScaleFR, this.m_frontRightWheelSkid);
                if (this.frontRightWheelParticle != null) {
                    if (this.frontRightWheelParticle.isStarted() === false) {
                        this.frontRightWheelParticle.start();
                    }
                    const smoke_FR = this.lastSKID_FR * this.lastSKID_FR;
                    this.frontRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FR;
                    this.frontRightWheelParticle.minSize = 0.2 * smoke_FR + 0.2;
                    this.frontRightWheelParticle.maxSize = 1.5 * smoke_FR + 1.2;
                }
            }
            else {
                if (this.frontRightWheelParticle != null)
                    this.frontRightWheelParticle.emitRate = 0;
                this.m_frontRightWheelSkid = -1;
            }
            this.PITCH_FL = this.lastSKID_FL;
            this.PITCH_FR = this.lastSKID_FR;
            if (this.lastBurnout > 0) {
                this.PITCH_FL *= this.burnoutWheelPitch;
                this.PITCH_FR *= this.burnoutWheelPitch;
            }
            this.PITCH_FL *= 0.75; // 75% Skid For Front Wheels
            this.PITCH_FR *= 0.75; // 75% Skid For Front Wheels
            // ..
            // Update Rear Left Wheel
            // ..
            if (this.lastSKID_RL > 0 && this.rearLeftContact === true) {
                const skidScaleRL = BABYLON.Scalar.Normalize(this.lastSKID_RL, this.skidThreashold, 1.0);
                this.m_backLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.rearLeftContactPoint, this.rearLeftContactNormal, skidScaleRL, this.m_backLeftWheelSkid);
                if (this.backLeftWheelParticle != null) {
                    if (this.backLeftWheelParticle.isStarted() === false) {
                        this.backLeftWheelParticle.start();
                    }
                    const smoke_RL = this.lastSKID_RL * this.lastSKID_RL;
                    this.backLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RL;
                    this.backLeftWheelParticle.minSize = 0.2 * smoke_RL + 0.2;
                    this.backLeftWheelParticle.maxSize = 1.5 * smoke_RL + 1.2;
                }
            }
            else {
                if (this.backLeftWheelParticle != null)
                    this.backLeftWheelParticle.emitRate = 0;
                this.m_backLeftWheelSkid = -1;
            }
            // ..
            // Update Rear Right Wheel
            // ..
            if (this.lastSKID_RR > 0 && this.rearRightContact === true) {
                const skidScaleRR = BABYLON.Scalar.Normalize(this.lastSKID_RR, this.skidThreashold, 1.0);
                this.m_backRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(this.rearRightContactPoint, this.rearRightContactNormal, skidScaleRR, this.m_backRightWheelSkid);
                if (this.backRightWheelParticle != null) {
                    if (this.backRightWheelParticle.isStarted() === false) {
                        this.backRightWheelParticle.start();
                    }
                    const smoke_RR = this.lastSKID_RR * this.lastSKID_RR;
                    this.backRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RR;
                    this.backRightWheelParticle.minSize = 0.2 * smoke_RR + 0.2;
                    this.backRightWheelParticle.maxSize = 1.5 * smoke_RR + 1.2;
                }
            }
            else {
                if (this.backRightWheelParticle != null)
                    this.backRightWheelParticle.emitRate = 0;
                this.m_backRightWheelSkid = -1;
            }
            this.PITCH_RL = this.lastSKID_RL;
            this.PITCH_RR = this.lastSKID_RR;
            if (this.lastBurnout > 0) {
                this.PITCH_RL *= this.burnoutWheelPitch;
                this.PITCH_RR *= this.burnoutWheelPitch;
            }
            ///////////////////////////////////////////
            // Play Skid Audio Track
            ///////////////////////////////////////////
            this.WHEEL_SKID_PITCH = 0;
            if (this.PITCH_FL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FL;
            if (this.PITCH_FR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FR;
            if (this.PITCH_RL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RL;
            if (this.PITCH_RR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RR;
            if (this.playVehicleSounds === true) {
                if (this._skidAudioSource != null) {
                    const skidSoundClip = this._skidAudioSource.getSoundClip();
                    if (skidSoundClip != null)
                        skidSoundClip.setPlaybackRate(this.WHEEL_SKID_PITCH);
                }
            }
            ///////////////////////////////////////////
            // Vehicle Steering Wheel Sync
            ///////////////////////////////////////////
            if (this.steeringWheelHub != null) {
                if (this.steeringWheelHub.rotationQuaternion == null) {
                    this.steeringWheelHub.rotationQuaternion = BABYLON.Quaternion.FromEulerVector(this.steeringWheelHub.rotation);
                }
                const degreesSteerAngle = (this.lastSteering * this.maxSteeringAngle);
                const radiansSteerAngle = BABYLON.Tools.ToRadians(degreesSteerAngle);
                const xaxis = (this.steeringWheelAxis === 0) ? radiansSteerAngle : 0;
                const yaxis = (this.steeringWheelAxis === 1) ? radiansSteerAngle : 0;
                const zaxis = (this.steeringWheelAxis === 2) ? radiansSteerAngle : 0;
                BABYLON.Quaternion.FromEulerAnglesToRef(xaxis, yaxis, zaxis, this.steeringWheelHub.rotationQuaternion);
            }
            if (this._animator != null)
                this._animator.setFloat("TurnAngle", this.lastSteering);
            ///////////////////////////////////////////
            // Vehicle Braking Lights Check
            ///////////////////////////////////////////
            if (this.brakeLightsMesh != null) {
                this.brakeLightsMesh.isVisible = (this.lastBrake > 0);
            }
            ///////////////////////////////////////////
            // Vehicle Reverse Lights Check
            ///////////////////////////////////////////
            if (this.reverseLightsMesh != null) {
                this.reverseLightsMesh.isVisible = (this.lastReverse > 0);
            }
            ///////////////////////////////////////////
            // Reset Skid Properties
            ///////////////////////////////////////////
            if (this.lastSKID_FL === 0 && this.lastSKID_FL === 0 && this.lastSKID_FL === 0 && this.lastSKID_FL === 0) {
                this.smokeIntensityFactor = 0;
            }
        }
        castWheelContactRays() {
            let raycast = null;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint.set(0, 0, 0);
            this.frontRightContactPoint.set(0, 0, 0);
            this.rearLeftContactPoint.set(0, 0, 0);
            this.rearRightContactPoint.set(0, 0, 0);
            this.frontLeftContactNormal.set(0, 0, 0);
            this.frontRightContactNormal.set(0, 0, 0);
            this.rearLeftContactNormal.set(0, 0, 0);
            this.rearRightContactNormal.set(0, 0, 0);
            // ..
            // Front Left Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Left Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.frontLeftContact = true;
                this.frontLeftContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.frontLeftContactPoint.copyFrom(raycast.hitPoint);
                this.frontLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Left Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.frontLeftSensorLine == null)
                    this.frontLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".FrontLeftSensorLine", this.scene);
                if (this.frontLeftContact === true) {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Front Right Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Right Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.frontRightContact = true;
                this.frontRightContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.frontRightContactPoint.copyFrom(raycast.hitPoint);
                this.frontRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Right Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.frontRightSensorLine == null)
                    this.frontRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".FrontRightSensorLine", this.scene);
                if (this.frontRightContact === true) {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Left Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Left Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.rearLeftContact = true;
                this.rearLeftContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.rearLeftContactPoint.copyFrom(raycast.hitPoint);
                this.rearLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Left Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.rearLeftSensorLine == null)
                    this.rearLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".RearLeftSensorLine", this.scene);
                if (this.rearLeftContact === true) {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Right Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Right Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                this.rearRightContact = true;
                this.rearRightContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                this.rearRightContactPoint.copyFrom(raycast.hitPoint);
                this.rearRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Right Draw Debug Lines
            if (PROJECT.RemoteCarController.ShowSensorLines === true) {
                if (this.rearRightSensorLine == null)
                    this.rearRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".RearRightSensorLine", this.scene);
                if (this.rearRightContact === true) {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
        }
        createSmokeParticleSystem(name, emitter) {
            const result = new BABYLON.ParticleSystem(name, 10000, this.scene);
            result.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD;
            result.particleTexture = this.smokeTexture;
            result.emitter = emitter;
            result.emitRate = 0;
            result.updateSpeed = 0.01;
            // change size and speed
            result.minSize = 0.2;
            result.maxSize = 1.3;
            result.minAngularSpeed = -1.5;
            result.maxAngularSpeed = 1.5;
            // changed lifetime to control shape of the cloud in conjunction with velocity gradient
            result.minLifeTime = 3.0;
            result.maxLifeTime = 5.0;
            // adding velocity over time to prevent large bloom of particles by launching them fast and then slowing them down GPU particles don't take a gradient on velocity, but the reduction in velocity over time is worth the trade off for less randomization
            result.addVelocityGradient(0, 1);
            result.addVelocityGradient(0.1, 0.7);
            result.addVelocityGradient(0.7, 0.2);
            result.addVelocityGradient(1.0, 0.05);
            // reduced the emit rate to reduce bloom of particles in the center of mass
            result.gravity = new BABYLON.Vector3(0, -0.1, 0);
            result.minEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.maxEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.direction1 = new BABYLON.Vector3(-1, -1, -1);
            result.direction2 = new BABYLON.Vector3(1, 1, 1);
            // The color1, color2, colorDead pattern is overridden by color gradient so is unnecessary
            result.color1 = new BABYLON.Color4(0.95, 0.95, 0.95, this.smokeOpacity);
            result.color2 = new BABYLON.Color4(0.85, 0.85, 0.85, this.smokeOpacity);
            result.colorDead = new BABYLON.Color4(0.9, 0.9, 0.9, (this.smokeOpacity * 0.5));
            // Changed the color gradient to add a second value for randomization and ramped the color down further to create more texture with alpha blending
            //result.addColorGradient(0.0, new BABYLON.Color4(1, 1, 1, 0.0), new BABYLON.Color4(0.7, 0.7, 0.7, 0.0));
            //result.addColorGradient(0.2, new BABYLON.Color4(0.7, 0.7, 0.7, 0.2), new BABYLON.Color4(0.6, 0.6, 0.6, 0.2));
            //result.addColorGradient(0.6, new BABYLON.Color4(0.6, 0.6, 0.6, 0.1),new BABYLON.Color4(0.4, 0.4, 0.4, 0.1));
            //result.addColorGradient(1.0, new BABYLON.Color4(0.3, 0.3, 0.3, 0.0),new BABYLON.Color4(0.1, 0.1, 0.1, 0.0));            
            return result;
        }
    }
    RemoteCarController.ShowSensorLines = false; // Note: Disable Debug Mode Sensors
    PROJECT.RemoteCarController = RemoteCarController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon skidmark section class (Havok Physics Engine)
     * @class SkidMarkSection
     */
    class SkidMarkSection {
        constructor() {
            this.Pos = BABYLON.Vector3.Zero();
            this.Normal = BABYLON.Vector3.Zero();
            this.Tangent = BABYLON.Vector4.Zero();
            this.Posl = BABYLON.Vector3.Zero();
            this.Posr = BABYLON.Vector3.Zero();
            this.Intensity = 0.0;
            this.LastIndex = -1;
        }
    }
    PROJECT.SkidMarkSection = SkidMarkSection;
    /**
     * Babylon Script Component
     * @class SkidMarkManager
     */
    class SkidMarkManager extends BABYLON.Toolkit.ScriptComponent {
        constructor(transform, scene, properties = {}) {
            super(transform, scene, properties);
            SkidMarkManager.MAX_MARKS = this.getProperty("maxSections", SkidMarkManager.MAX_MARKS);
            SkidMarkManager.MARK_COLOR = BABYLON.Toolkit.Utilities.ParseColor3(this.getProperty("textureColor"), SkidMarkManager.MARK_COLOR);
            SkidMarkManager.MARK_WIDTH = this.getProperty("textureWidth", SkidMarkManager.MARK_WIDTH);
            SkidMarkManager.GROUND_OFFSET = this.getProperty("groundOffset", SkidMarkManager.GROUND_OFFSET);
            SkidMarkManager.GPU_TRIANGLES = this.getProperty("gpuQuadIndices", SkidMarkManager.GPU_TRIANGLES);
            SkidMarkManager.TEXTURE_MARKS = this.getProperty("textureMarks", SkidMarkManager.TEXTURE_MARKS);
            SkidMarkManager.TEX_INTENSITY = this.getProperty("textureIntensity", SkidMarkManager.TEX_INTENSITY);
            SkidMarkManager.MIN_DISTANCE = this.getProperty("textureDistance", SkidMarkManager.MIN_DISTANCE);
            SkidMarkManager.MIN_SQR_DISTANCE = (SkidMarkManager.MIN_DISTANCE * SkidMarkManager.MIN_DISTANCE);
        }
        start() { SkidMarkManager.CreateSkidMarkManager(this.scene); }
        update() { SkidMarkManager.UpdateSkidMarkManager(); }
        static AddSkidMarkSegment(pos, normal, intensity, lastIndex) {
            if (SkidMarkManager.SkidMarkMesh == null)
                return null;
            SkidMarkManager.TempVector3_POS.set(0, 0, 0);
            SkidMarkManager.TempVector3_DIR.set(0, 0, 0);
            SkidMarkManager.TempVector3_XDIR.set(0, 0, 0);
            SkidMarkManager.TempVector3_SDIR.set(0, 0, 0);
            // ..
            if (intensity > 1.0)
                intensity = 1.0;
            else if (intensity < 0.0)
                return -1.0;
            // ..
            if (lastIndex > 0) {
                pos.subtractToRef(SkidMarkManager.SkidMarkSections[lastIndex].Pos, SkidMarkManager.TempVector3_POS);
                const sqrDistance = SkidMarkManager.TempVector3_POS.lengthSquared();
                if (sqrDistance < SkidMarkManager.MIN_SQR_DISTANCE)
                    return lastIndex;
            }
            // ..
            const curSection = SkidMarkManager.SkidMarkSections[SkidMarkManager.SkidMarkIndex];
            normal.scaleToRef(SkidMarkManager.GROUND_OFFSET, SkidMarkManager.TempVector3_POS);
            pos.addToRef(SkidMarkManager.TempVector3_POS, curSection.Pos);
            curSection.Normal.copyFrom(normal);
            curSection.Intensity = (intensity * SkidMarkManager.TEX_INTENSITY);
            curSection.LastIndex = lastIndex;
            // ..
            if (lastIndex != -1) {
                const lastSection = SkidMarkManager.SkidMarkSections[lastIndex];
                curSection.Pos.subtractToRef(lastSection.Pos, SkidMarkManager.TempVector3_DIR);
                BABYLON.Vector3.CrossToRef(SkidMarkManager.TempVector3_DIR, normal, SkidMarkManager.TempVector3_XDIR);
                SkidMarkManager.TempVector3_XDIR.normalizeToRef(SkidMarkManager.TempVector3_XDIR);
                // ..
                SkidMarkManager.TempVector3_XDIR.scaleToRef(SkidMarkManager.MARK_WIDTH * 0.5, SkidMarkManager.TempVector3_SDIR);
                curSection.Pos.addToRef(SkidMarkManager.TempVector3_SDIR, curSection.Posl);
                curSection.Pos.subtractToRef(SkidMarkManager.TempVector3_SDIR, curSection.Posr);
                curSection.Tangent.set(SkidMarkManager.TempVector3_XDIR.x, SkidMarkManager.TempVector3_XDIR.y, SkidMarkManager.TempVector3_XDIR.z, 1);
                // ..
                if (lastSection.LastIndex === -1) {
                    curSection.Pos.addToRef(SkidMarkManager.TempVector3_SDIR, lastSection.Posl);
                    curSection.Pos.subtractToRef(SkidMarkManager.TempVector3_SDIR, lastSection.Posr);
                    lastSection.Tangent.copyFrom(curSection.Tangent);
                }
            }
            // ..
            SkidMarkManager.AddSkidMarkVertexData();
            const curIndex = SkidMarkManager.SkidMarkIndex;
            SkidMarkManager.SkidMarkIndex = ++SkidMarkManager.SkidMarkIndex % SkidMarkManager.MAX_MARKS;
            return curIndex;
        }
        static CreateSkidMarkManager(scene) {
            if (SkidMarkManager.SkidMarkMesh == null) {
                const skidmarkMaterial = new BABYLON.StandardMaterial("SkidMarkMaterial", scene);
                skidmarkMaterial.backFaceCulling = false;
                skidmarkMaterial.disableLighting = true;
                skidmarkMaterial.emissiveColor = SkidMarkManager.MARK_COLOR;
                skidmarkMaterial.diffuseColor = SkidMarkManager.MARK_COLOR;
                skidmarkMaterial.diffuseTexture = BABYLON.Toolkit.Utilities.ParseTexture(SkidMarkManager.TEXTURE_MARKS, scene);
                if (skidmarkMaterial.diffuseTexture != null) {
                    skidmarkMaterial.diffuseTexture.hasAlpha = true;
                    skidmarkMaterial.useAlphaFromDiffuseTexture = true;
                }
                skidmarkMaterial.freeze();
                SkidMarkManager.SkidMarkMesh = new BABYLON.Mesh("SkidMarkMesh", scene);
                SkidMarkManager.SkidMarkMesh.material = skidmarkMaterial;
                SkidMarkManager.SkidMarkMesh.renderingGroupId = BABYLON.Toolkit.Utilities.DefaultRenderGroup();
                SkidMarkManager.SkidMarkMesh.alwaysSelectAsActiveMesh = true;
                SkidMarkManager.SkidMarkMesh.doNotSyncBoundingInfo = true;
                SkidMarkManager.SkidMarkMesh.receiveShadows = false;
                SkidMarkManager.SkidMarkMesh.checkCollisions = false;
                SkidMarkManager.SkidMarkMesh.useVertexColors = true;
                SkidMarkManager.SkidMarkMesh.hasVertexAlpha = true;
                SkidMarkManager.SkidMarkMesh.isPickable = false;
                // ..
                // Setup SkidMark Section Properties
                // ..
                SkidMarkManager.SkidMarkSections = new Array(SkidMarkManager.MAX_MARKS);
                for (let i = 0; i < SkidMarkManager.SkidMarkSections.length; i++) {
                    SkidMarkManager.SkidMarkSections[i] = new SkidMarkSection();
                }
                // ..
                // Setup Raw Mesh Vertex Buffer Data
                // ..
                SkidMarkManager.SkidBufferPositions = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 3);
                SkidMarkManager.SkidBufferNormals = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 3);
                SkidMarkManager.SkidBufferTangents = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 4);
                SkidMarkManager.SkidBufferColors = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 4);
                SkidMarkManager.SkidBufferUvs = new Float32Array(SkidMarkManager.MAX_MARKS * 4 * 2);
                SkidMarkManager.SkidBufferIndices = new Int32Array(SkidMarkManager.MAX_MARKS * 6);
                // ..
                // Apply Raw Vertex Buffer Data To Mesh
                // ..
                const vertexData = new BABYLON.VertexData();
                vertexData.positions = SkidMarkManager.SkidBufferPositions;
                vertexData.normals = SkidMarkManager.SkidBufferNormals;
                vertexData.tangents = SkidMarkManager.SkidBufferTangents;
                vertexData.colors = SkidMarkManager.SkidBufferColors;
                vertexData.uvs = SkidMarkManager.SkidBufferUvs;
                vertexData.indices = SkidMarkManager.SkidBufferIndices;
                vertexData.applyToMesh(SkidMarkManager.SkidMarkMesh, true);
                SkidMarkManager.SkidMarkMesh.freezeWorldMatrix();
            }
        }
        static AddSkidMarkVertexData() {
            const curr = SkidMarkManager.SkidMarkSections[SkidMarkManager.SkidMarkIndex];
            if (curr.LastIndex === -1)
                return;
            const last = SkidMarkManager.SkidMarkSections[curr.LastIndex];
            SkidMarkManager.SkidMarkUpdated = true;
            // ..
            // Update Position Buffers Directly
            // ..
            let index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferPositions[index * 3] = last.Posl.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = last.Posl.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = last.Posl.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferPositions[index * 3] = last.Posr.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = last.Posr.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = last.Posr.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferPositions[index * 3] = curr.Posl.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = curr.Posl.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = curr.Posl.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferPositions[index * 3] = curr.Posr.x;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 1] = curr.Posr.y;
            SkidMarkManager.SkidBufferPositions[(index * 3) + 2] = curr.Posr.z;
            // ..
            // Update Normal Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferNormals[index * 3] = last.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = last.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = last.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferNormals[index * 3] = last.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = last.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = last.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferNormals[index * 3] = curr.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = curr.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = curr.Normal.z;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferNormals[index * 3] = curr.Normal.x;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 1] = curr.Normal.y;
            SkidMarkManager.SkidBufferNormals[(index * 3) + 2] = curr.Normal.z;
            // ..
            // Update Tangent Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferTangents[index * 4] = last.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = last.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = last.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = last.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferTangents[index * 4] = last.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = last.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = last.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = last.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferTangents[index * 4] = curr.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = curr.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = curr.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = curr.Tangent.w;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferTangents[index * 4] = curr.Tangent.x;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 1] = curr.Tangent.y;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 2] = curr.Tangent.z;
            SkidMarkManager.SkidBufferTangents[(index * 4) + 3] = curr.Tangent.w;
            // ..
            // Update Color Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = last.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = last.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = curr.Intensity;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferColors[index * 4] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 1] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 2] = 1.0;
            SkidMarkManager.SkidBufferColors[(index * 4) + 3] = curr.Intensity;
            // ..
            // Update Coord Buffers Directly
            // ..
            index = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferUvs[index * 2] = 0;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 0;
            index = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferUvs[index * 2] = 1;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 0;
            index = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferUvs[index * 2] = 0;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 1;
            index = SkidMarkManager.SkidMarkIndex * 4 + 3;
            SkidMarkManager.SkidBufferUvs[index * 2] = 1;
            SkidMarkManager.SkidBufferUvs[(index * 2) + 1] = 1;
            // ..
            // Update Triangle 1 Buffers Directly (QUAD)
            //..
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 0] = SkidMarkManager.SkidMarkIndex * 4 + 0;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 2] = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 1] = SkidMarkManager.SkidMarkIndex * 4 + 2;
            // ..
            // Update Triangle 2 Buffers Directly (QUAD)
            // ..
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 3] = SkidMarkManager.SkidMarkIndex * 4 + 2;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 5] = SkidMarkManager.SkidMarkIndex * 4 + 1;
            SkidMarkManager.SkidBufferIndices[SkidMarkManager.SkidMarkIndex * 6 + 4] = SkidMarkManager.SkidMarkIndex * 4 + 3;
        }
        static UpdateSkidMarkManager() {
            if (SkidMarkManager.SkidMarkMesh != null && SkidMarkManager.SkidMarkUpdated === true) {
                SkidMarkManager.SkidMarkUpdated = false;
                if (SkidMarkManager.SkidMarkMesh.geometry != null) {
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.PositionKind, SkidMarkManager.SkidBufferPositions, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.NormalKind, SkidMarkManager.SkidBufferNormals, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.TangentKind, SkidMarkManager.SkidBufferTangents, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.ColorKind, SkidMarkManager.SkidBufferColors, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateVerticesDataDirectly(BABYLON.VertexBuffer.UVKind, SkidMarkManager.SkidBufferUvs, 0, false);
                    SkidMarkManager.SkidMarkMesh.geometry.updateIndices(SkidMarkManager.SkidBufferIndices, 0, SkidMarkManager.GPU_TRIANGLES);
                }
            }
        }
    }
    SkidMarkManager.MAX_MARKS = 1024; // Max number of marks total for everyone together
    SkidMarkManager.GROUND_OFFSET = 0.01; // Distance above surface in metres
    SkidMarkManager.GPU_TRIANGLES = true; // GPU quad triangle indices only
    SkidMarkManager.MARK_COLOR = BABYLON.Color3.Black(); // SkidMark Color
    SkidMarkManager.MARK_WIDTH = 0.3; // Width of the SkidMarks. Should match the width of the wheels
    SkidMarkManager.TEX_INTENSITY = 1.0; // Amount of the skidmark texture intensity coeffecient
    SkidMarkManager.MIN_DISTANCE = 0.1; // Distance between skid texture sections in metres. Bigger = better performance, less smooth
    SkidMarkManager.MIN_SQR_DISTANCE = (SkidMarkManager.MIN_DISTANCE * SkidMarkManager.MIN_DISTANCE);
    SkidMarkManager.TEXTURE_MARKS = null;
    SkidMarkManager.SkidBufferPositions = null;
    SkidMarkManager.SkidBufferNormals = null;
    SkidMarkManager.SkidBufferTangents = null;
    SkidMarkManager.SkidBufferColors = null;
    SkidMarkManager.SkidBufferUvs = null;
    SkidMarkManager.SkidBufferIndices = null;
    SkidMarkManager.SkidMarkSections = null;
    SkidMarkManager.SkidMarkIndex = 0;
    SkidMarkManager.SkidMarkMesh = null;
    SkidMarkManager.SkidMarkUpdated = false;
    SkidMarkManager.TempVector3_POS = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_DIR = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_XDIR = new BABYLON.Vector3(0, 0, 0);
    SkidMarkManager.TempVector3_SDIR = new BABYLON.Vector3(0, 0, 0);
    PROJECT.SkidMarkManager = SkidMarkManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon standard rigidbody vehicle controller class (Havok Physics Engine)
     * @class StandardCarController
     */
    class StandardCarController extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.MIN_RPM = 1000;
            this.MAX_RPM = 6000;
            this._animator = null;
            this._rigidbody = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            this._nosAudioSource = null;
            this._skidExtraRotation = new BABYLON.Vector3(0, 0, 0);
            this._donutExtraRotation = new BABYLON.Vector3(0, 0, 0);
            this.steeringWheelHub = null;
            this.steeringWheelAxis = 2;
            this.maxSteeringAngle = 65.0;
            this.maxSteeringSpeed = 15.0;
            this.gearIndex = 0; // First Gear Ratio
            this.downShift = 1000;
            this.skiddingTime = 0;
            this.shiftingTime = 0;
            this.shiftingSide = 1;
            this.shiftingBrake = 1.0;
            this.engineForce = 0;
            this.handBraking = false;
            this.linearDamping = 0;
            this.angularDamping = 0;
            this.forwardSpeed = 0;
            this.absoluteSpeed = 0;
            this.americanSpeed = 0;
            this.gradientSpeed = 0;
            this.frontWheelPower = 0;
            this.backWheelPower = 0;
            this.wheelBrakingForce = 0;
            this.enginePitchLevel = 0;
            this.smokeIntensityFactor = 0;
            this.raycastVehicle = null;
            this.brakeLightsMesh = null;
            this.brakeLightsTrans = null;
            this.reverseLightsMesh = null;
            this.reverseLightsTrans = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelEmitter = null;
            this.frontRightWheelEmitter = null;
            this.backLeftWheelEmitter = null;
            this.backRightWheelEmitter = null;
            this.frontLeftWheelParticle = null;
            this.frontRightWheelParticle = null;
            this.backLeftWheelParticle = null;
            this.backRightWheelParticle = null;
            this.frontLeftWheelCollider = null;
            this.frontRightWheelCollider = null;
            this.backLeftWheelCollider = null;
            this.backRightWheelCollider = null;
            this.engineTorqueCurve = null;
            this.physicsSteerAngleL = 0;
            this.physicsSteerAngleR = 0;
            this.visualSteerAngleL = 0;
            this.visualSteerAngleR = 0;
            this.visualSteerBoostL = 0;
            this.visualSteerBoostR = 0;
            this.idleNoiseDelta = 0;
            this.driveNoiseDelta = 0;
            this.boostSpeedTimer = 0;
            this.burnoutMeter = 0;
            this.donutMeter = 0;
            this.wheelRadius = 0;
            this.clutchSlip = 0;
            this.engineRPM = 0;
            this.pitchRPM = 0;
            this.shiftRPM = 0;
            this.SKID_FL = 0;
            this.SKID_FR = 0;
            this.SKID_RL = 0;
            this.SKID_RR = 0;
            this.PITCH_FL = 0;
            this.PITCH_FR = 0;
            this.PITCH_RL = 0;
            this.PITCH_RR = 0;
            this.FRONT_LEFT = -1;
            this.FRONT_RIGHT = -1;
            this.BACK_LEFT = -1;
            this.BACK_RIGHT = -1;
            this.WHEEL_SKID_PITCH = 0;
            this.POWER_BOOST_PITCH = 0;
            this.SPIN_FL_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_FR_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_RL_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.SPIN_RR_Rotation = new BABYLON.Vector3(0, 0, 0);
            this.smokeTexture = null;
            this.skidThreashold = 0.65;
            this.wheelDrawVelocity = 0.02;
            this.smokeIntensity = 150;
            this.smokeOpacity = 0.1;
            this.smokeDonuts = 2.0;
            this.noiseTimeScale = 1.0;
            this.noiseTimeFactor = 0;
            this.maxBurnoutFactor = 1.0;
            this.maxSteerBoost = 6;
            this.overSteerSpeed = 1.0;
            this.overSteerTimeout = 0.2;
            this.topEngineSpeed = 100;
            this.topBoosterSpeed = 150;
            this.powerChangeRate = 5.0;
            this.powerCoefficient = 1.0;
            this.boosterCoefficient = 1.0;
            this.frictionLerpSpeed = 0.5;
            this.topSpeedDampener = 0.15;
            this.lowSpeedSteering = 5.0;
            this.highSpeedSteering = 5.0;
            this.donutTurningRadius = 3.0;
            this.donutEngineFactor = 1.5;
            this.donutRotateFactor = 2.5;
            this.donutLerpingSpeed = 1.0;
            // DEPRECIATED: public rayTestingType:number = 0;
            // DEPRECIATED: public testPointCount:number = 32;
            // DEPRECIATED: public sweepPenetration:number = 0.0;
            this.gravitationalForce = 3;
            this.smoothFlyingForce = 250;
            this.transmissionRatio = 0.75;
            this.differentialRatio = 3.55;
            this.minBoosterSpeed = 25.0;
            this.maxBoosterTime = 10.0;
            this.maxPitchControl = 0.1;
            this.maxFrontBraking = 0.0;
            this.maxReversePower = 0.5;
            this.minBrakingForce = 50;
            this.maxBrakingForce = 250;
            this.handBrakingForce = 2500;
            this.handBrakingTimer = 0;
            this.skidRotationTimeout = 1.0;
            this.linearBrakingForce = 15.0;
            this.angularBrakingForce = 1.0;
            this.burnoutFrictionSlip = 1.0;
            this.burnoutTimeDelay = 1;
            this.burnoutWheelPitch = 0.85;
            this.burnoutCoefficient = 15;
            this.burnoutTriggerMark = 10;
            this.enableAutoBurnouts = false;
            this.driftTriggerAngle = 30.0;
            this.driftTriggerSpeed = 30.0;
            this.enableAutoDrifting = false;
            this.penaltyGroundTag = "Offroad";
            this.minPenaltySpeed = 65;
            this.linearWheelDrag = 0.05;
            this.frictionWheelSlip = 0.215;
            this.showSensorLines = false;
            this.powerBooster = false;
            this.linkTrackManager = true;
            this.playVehicleSounds = true;
            this.postNetworkAttributes = false;
            this.wheelDriveType = 0;
            this.gearBoxMultiplier = 1.0;
            this.gearBoxMaxPitching = 6500;
            this.gearBoxShiftChange = 5100;
            this.gearBoxShiftDelay = 0.35;
            this.gearBoxShiftRatios = [4.17, 2.34, 1.82, 1.54, 0.96, 0.68];
            this.gearBoxShiftRanges = [1000, 2400, 2600, 2600, 2800, 2800];
            this.throttleBrakingForce = 0;
            this.throttleEngineSpeed = 0;
            this.brakeRecoveryDelay = 0.05;
            this.brakeRecoverySpeed = 0.35;
            this.skidRecoverySpeed = 0.25;
            this.extraRotationSpeed = 0.1;
            this.maxRotationSpeed = 2.0;
            this.burnoutLerpSpeed = 0.05;
            this.ackermanWheelBase = 2.5;
            this.ackermanRearTrack = 1.5;
            this.ackermanTurnRadius = 9;
            this.ackermanMaxRadius = 18;
            this.ackermanTurnFactor = 1;
            this.roadSurfaceFactor = 1.0;
            this.movementTilting = false;
            this.surfaceDetection = false;
            this.idleShakeRate = 5.0;
            this.idleShakeNoise = 0.01;
            this.maxForwardAngle = 3.0;
            this.maxLateralAngle = 3.0;
            this.lerpForwardFactor = 10.0;
            this.lerpLateralFactor = 10.0;
            this.shiftForwardExtra = 0.2;
            this.shiftLateralExtra = 0.2;
            this.forwardPitchFactor = 0.2;
            this.lateralRollFactor = 0.2;
            this.forwardRecoverRate = 0.2;
            this.lateralRecoverRate = 0.2;
            this.lowSpeedScale = 1.0;
            this.highSpeedScale = 5.0;
            this.lowForwardNoise = 0.05;
            this.highForwardNoise = 0.05;
            this.lowLateralNoise = 0.05;
            this.highLateralNoise = 0.05;
            this.speedThreashold = 5.0;
            this.boosterTransform = null;
            this.chassisTransform = null;
            this.tiltChassisEulers = new BABYLON.Vector3(0, 0, 0);
            //public maxForwardAngle: number = 0.5;
            //public maxLateralAngle: number = 1.15;
            //public moveForwardSpeed: number = 0.5;
            //public moveLateralSpeed: number = 0.5;
            //public tiltForwardTrigger: number = 1.0;
            //public tiltLateralTrigger: number = 1.0;
            this.m_frontLeftWheel = null;
            this.m_frontRightWheel = null;
            this.m_backLeftWheel = null;
            this.m_backRightWheel = null;
            this.m_frontLeftWheelSkid = -1;
            this.m_frontRightWheelSkid = -1;
            this.m_backLeftWheelSkid = -1;
            this.m_backRightWheelSkid = -1;
            this.m_angularDampener = new BABYLON.Vector3(1.0, 1.0, 1.0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            ////////////////////////////////////////////////////
            // Public Vehicle Controller Movement Functions   //
            ////////////////////////////////////////////////////
            this.burnoutTimer = 0;
            this.restoreTimer = 0;
            this.cooldownTimer = 0;
            this.wheelDonuts = false;
            this.wheelBurnout = false;
            this.wheelSkidding = false;
            this.donutSpinTime = 0;
            this.currentForward = 0;
            this.currentTurning = 0;
            this.currentBoosting = false;
            this.currentSkidding = false;
            this.currentDonuts = false;
            this.currentSlipAngle = 0;
            this.currentDrivePower = 0;
            this.targetDrivePower = 0;
            this.animatorSteerAngle = 0;
            this.currentPitch = 0; // Current pitch angle for forward-backward tilt
            this.currentRoll = 0; // Current roll angle for side-to-side tilt
            this.previousSpeed = 0; // Previous frame speed for comparison
            this.angularVelocity = new BABYLON.Vector3(0, 0, 0); // Current angular velocity of the vehicle
            /////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Wheel Contact Raycast System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearLeftContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.rearRightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.frontLeftSensorLine = null;
            this.frontRightSensorLine = null;
            this.rearLeftSensorLine = null;
            this.rearRightSensorLine = null;
            this.frontLeftFrictionLerping = false;
            this.frontRightFrictionLerping = false;
            this.rearLeftFrictionLerping = false;
            this.rearRightFrictionLerping = false;
            this.frontLeftFrictionPenalty = false;
            this.frontRightFrictionPenalty = false;
            this.rearLeftFrictionPenalty = false;
            this.rearRightFrictionPenalty = false;
            this.startRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.downDistance = 2.0;
            this.wheelContactRaycastResult = new BABYLON.PhysicsRaycastResult();
        }
        isBraking() { return (this.getFootBraking() || this.getHandBraking()); }
        isBoosting() { return this.currentBoosting; }
        getFootBraking() { return (this.currentForward < 0 && this.forwardSpeed >= 0); }
        getHandBraking() { return this.handBraking; }
        getLinearVelocity() { return this.m_linearVelocity; }
        getCurrentForward() { return this.currentForward; }
        getCurrentTurning() { return this.currentTurning; }
        getCurrentSkidding() { return this.currentSkidding; }
        getCurrentDonuts() { return this.currentDonuts; }
        getReverseThrottle() { return (this.currentForward < 0 && this.forwardSpeed < 0); }
        getEnginePitchLevel() { return this.enginePitchLevel; }
        // DEPRECIATED: public getFrontLeftSpin():BABYLON.Quaternion { return (this.m_frontLeftWheel != null && this.m_frontLeftWheel.spinner != null && this.m_frontLeftWheel.spinner.rotationQuaternion != null) ? this.m_frontLeftWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getFrontRightSpin():BABYLON.Quaternion { return (this.m_frontRightWheel != null && this.m_frontRightWheel.spinner != null && this.m_frontRightWheel.spinner.rotationQuaternion != null) ? this.m_frontRightWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getBackLeftSpin():BABYLON.Quaternion { return (this.m_backLeftWheel != null && this.m_backLeftWheel.spinner != null && this.m_backLeftWheel.spinner.rotationQuaternion != null) ? this.m_backLeftWheel.spinner.rotationQuaternion : null; }
        // DEPRECIATED: public getBackRightSpin():BABYLON.Quaternion { return (this.m_backRightWheel != null && this.m_backRightWheel.spinner != null && this.m_backRightWheel.spinner.rotationQuaternion != null) ? this.m_backRightWheel.spinner.rotationQuaternion : null; }
        getCurrentBurnout() { return this.wheelBurnout || this.restoreTimer > 0; }
        getFrontLeftSkid() { return this.SKID_FL; }
        getFrontRightSkid() { return this.SKID_FR; }
        getBackLeftSkid() { return this.SKID_RL; }
        getBackRightSkid() { return this.SKID_RR; }
        getWheelSkidPitch() { return this.WHEEL_SKID_PITCH; }
        getRigidbodyPhysics() { return this._rigidbody; }
        getRaycastVehicle() { return this.raycastVehicle; }
        getGradientSpeed() { return this.gradientSpeed; }
        getForwardSpeed() { return this.forwardSpeed; }
        getAbsoluteSpeed() { return this.absoluteSpeed; }
        getAmericanSpeed() { return this.americanSpeed; }
        getTopEngineSpeed() { return (this.currentBoosting === true) ? this.topBoosterSpeed : this.topEngineSpeed; }
        getNormalizedSpeed() { return this.americanSpeed / this.getTopEngineSpeed(); }
        getMaxReversePower() { return this.maxReversePower; }
        getCurrentGearIndex() { return this.gearIndex; }
        getCurrentEngineRPM() { return this.engineRPM; }
        getCurrentEngineForce() { return this.engineForce; }
        getCurrentEnginePitch() { return BABYLON.Scalar.Clamp((this.pitchRPM / this.gearBoxMaxPitching) + 0.1); }
        getGearShiftRatioCount() { return (this.gearBoxShiftRatios != null) ? this.gearBoxShiftRatios.length : 0; }
        getSmokeTextureMask() { return this.smokeTexture; }
        getBrakeLightsMesh() { return this.brakeLightsMesh; }
        getReverseLightsMesh() { return this.reverseLightsMesh; }
        getFrontLeftWheelNode() { return this.frontLeftWheelMesh; }
        getFrontRightWheelNode() { return this.frontRightWheelMesh; }
        getBackLeftWheelNode() { return this.backLeftWheelMesh; }
        getBackRightWheelNode() { return this.backRightWheelMesh; }
        getWheelBurnoutEnabled() { return this.wheelBurnout; }
        getWheelDonutsEnabled() { return this.wheelDonuts; }
        getCurrentDonutSpinTime() { return this.donutSpinTime; }
        getSmokeIntensityFactor() { return this.smokeIntensityFactor; }
        getWheelVelocityOffset() { return this.m_velocityOffset; }
        readBurnoutMeter() { return this.burnoutMeter; }
        resetBurnoutMeter() { this.burnoutMeter = 0; }
        readDonutMeter() { return this.donutMeter; }
        resetDonutMeter() { this.donutMeter = 0; }
        getBoosterTime() { return this.boostSpeedTimer; }
        setBoosterTime(time) { this.boostSpeedTimer = time; }
        resetBoosterTime() { this.setBoosterTime(this.maxBoosterTime); }
        awake() { this.awakeVehicleState(); }
        start() { this.initVehicleState(); }
        update() { this.updateVehicleState(); }
        destroy() { this.destroyVehicleState(); }
        //////////////////////////////////////////////////
        // Protected Vehicle Movement State Functions //
        //////////////////////////////////////////////////
        awakeVehicleState() {
            this.engineForce = 0;
            this.frontWheelPower = 0;
            this.backWheelPower = 0;
            this.wheelBrakingForce = 0;
            // DEPRECIATED: this.rayTestingType = this.getProperty("rayTestingType", this.rayTestingType);
            // DEPRECIATED: this.testPointCount = this.getProperty("testPointCount", this.testPointCount);
            // DEPRECIATED: this.sweepPenetration = this.getProperty("sweepPenetration", this.sweepPenetration);
            this.ackermanWheelBase = this.getProperty("ackermanWheelBase", this.ackermanWheelBase);
            this.ackermanRearTrack = this.getProperty("ackermanRearTrack", this.ackermanRearTrack);
            this.ackermanTurnRadius = this.getProperty("ackermanTurnRadius", this.ackermanTurnRadius);
            this.ackermanMaxRadius = this.getProperty("ackermanMaxRadius", this.ackermanMaxRadius);
            this.wheelDrawVelocity = this.getProperty("wheelDrawVelocity", this.wheelDrawVelocity);
            this.skidThreashold = this.getProperty("skidThreashold", this.skidThreashold);
            this.smokeIntensity = this.getProperty("smokeIntensity", this.smokeIntensity);
            this.smokeOpacity = this.getProperty("smokeOpacity", this.smokeOpacity);
            this.smokeDonuts = this.getProperty("smokeDonuts", this.smokeDonuts);
            this.powerBooster = this.getProperty("powerBooster", this.powerBooster);
            this.movementTilting = this.getProperty("movementTilting", this.movementTilting);
            this.surfaceDetection = this.getProperty("surfaceDetection", this.surfaceDetection);
            this.idleShakeNoise = this.getProperty("idleShakeNoise", this.idleShakeNoise);
            this.idleShakeRate = this.getProperty("idleShakeRate", this.idleShakeRate);
            this.maxForwardAngle = this.getProperty("maxForwardAngle", this.maxForwardAngle);
            this.maxLateralAngle = this.getProperty("maxLateralAngle", this.maxLateralAngle);
            this.forwardPitchFactor = this.getProperty("forwardPitchFactor", this.forwardPitchFactor);
            this.lateralRollFactor = this.getProperty("lateralRollFactor", this.lateralRollFactor);
            this.forwardRecoverRate = this.getProperty("forwardRecoverRate", this.forwardRecoverRate);
            this.lateralRecoverRate = this.getProperty("lateralRecoverRate", this.lateralRecoverRate);
            this.lowSpeedScale = this.getProperty("lowSpeedScale", this.lowSpeedScale);
            this.highSpeedScale = this.getProperty("highSpeedScale", this.highSpeedScale);
            this.lowForwardNoise = this.getProperty("lowForwardNoise", this.lowForwardNoise);
            this.highForwardNoise = this.getProperty("highForwardNoise", this.highForwardNoise);
            this.lowLateralNoise = this.getProperty("lowLateralNoise", this.lowLateralNoise);
            this.highLateralNoise = this.getProperty("highLateralNoise", this.highLateralNoise);
            this.speedThreashold = this.getProperty("speedThreashold", this.speedThreashold);
            this.lerpForwardFactor = this.getProperty("lerpForwardFactor", this.lerpForwardFactor);
            this.lerpLateralFactor = this.getProperty("lerpLateralFactor", this.lerpLateralFactor);
            this.shiftForwardExtra = this.getProperty("shiftForwardExtra", this.shiftForwardExtra);
            this.shiftLateralExtra = this.getProperty("shiftLateralExtra", this.shiftLateralExtra);
            //this.maxForwardAngle = this.getProperty("maxForwardAngle", this.maxForwardAngle);
            //this.maxLateralAngle = this.getProperty("maxLateralAngle", this.maxLateralAngle);
            //this.moveForwardSpeed = this.getProperty("moveForwardSpeed", this.moveForwardSpeed);
            //this.moveLateralSpeed = this.getProperty("moveLateralSpeed", this.moveLateralSpeed);
            //this.tiltForwardTrigger = this.getProperty("tiltForwardTrigger", this.tiltForwardTrigger);
            //this.tiltLateralTrigger = this.getProperty("tiltLateralTrigger", this.tiltLateralTrigger);
            this.topEngineSpeed = this.getProperty("topEngineSpeed", this.topEngineSpeed);
            this.topBoosterSpeed = this.getProperty("topBoosterSpeed", this.topBoosterSpeed);
            this.powerChangeRate = this.getProperty("powerChangeRate", this.powerChangeRate);
            this.powerCoefficient = this.getProperty("powerCoefficient", this.powerCoefficient);
            this.boosterCoefficient = this.getProperty("boosterCoefficient", this.boosterCoefficient);
            this.maxBoosterTime = this.getProperty("maxBoosterTime", this.maxBoosterTime);
            this.minBoosterSpeed = this.getProperty("minBoosterSpeed", this.minBoosterSpeed);
            this.maxPitchControl = this.getProperty("maxPitchControl", this.maxPitchControl);
            this.maxFrontBraking = this.getProperty("maxFrontBraking", this.maxFrontBraking);
            this.maxReversePower = this.getProperty("maxReversePower", this.maxReversePower);
            this.penaltyGroundTag = this.getProperty("penaltyGroundTag", this.penaltyGroundTag);
            this.minPenaltySpeed = this.getProperty("minPenaltySpeed", this.minPenaltySpeed);
            this.linearWheelDrag = this.getProperty("linearWheelDrag", this.linearWheelDrag);
            this.frictionWheelSlip = this.getProperty("frictionWheelSlip", this.frictionWheelSlip);
            this.showSensorLines = this.getProperty("showSensorLines", this.showSensorLines);
            this.gravitationalForce = this.getProperty("gravityMultiplier", this.gravitationalForce);
            this.smoothFlyingForce = this.getProperty("smoothFlyingForce", this.smoothFlyingForce);
            this.frictionLerpSpeed = this.getProperty("frictionLerpSpeed", this.frictionLerpSpeed);
            this.maxBurnoutFactor = this.getProperty("maxBurnoutFactor", this.maxBurnoutFactor);
            this.maxSteerBoost = this.getProperty("maxSteerBoost", this.maxSteerBoost);
            this.overSteerSpeed = this.getProperty("overSteerSpeed", this.overSteerSpeed);
            this.overSteerTimeout = this.getProperty("overSteerTimeout", this.overSteerTimeout);
            this.wheelDriveType = this.getProperty("wheelDriveType", this.wheelDriveType);
            this.minBrakingForce = this.getProperty("minBrakingForce", this.minBrakingForce);
            this.maxBrakingForce = this.getProperty("maxBrakingForce", this.maxBrakingForce);
            this.handBrakingForce = this.getProperty("handBrakingForce", this.handBrakingForce);
            this.brakeRecoveryDelay = this.getProperty("brakeRecoveryDelay", this.brakeRecoveryDelay);
            this.brakeRecoverySpeed = this.getProperty("brakeRecoverySpeed", this.brakeRecoverySpeed);
            this.skidRecoverySpeed = this.getProperty("skidRecoverySpeed", this.skidRecoverySpeed);
            this.maxRotationSpeed = this.getProperty("maxRotationSpeed", this.maxRotationSpeed);
            this.extraRotationSpeed = this.getProperty("extraRotationSpeed", this.extraRotationSpeed);
            this.skidRotationTimeout = this.getProperty("skidRotationTimeout", this.skidRotationTimeout);
            this.linearBrakingForce = this.getProperty("linearBrakingForce", this.linearBrakingForce);
            this.angularBrakingForce = this.getProperty("angularBrakingForce", this.angularBrakingForce);
            this.steeringWheelAxis = this.getProperty("steeringWheelAxis", this.steeringWheelAxis);
            this.maxSteeringAngle = this.getProperty("maxSteeringAngle", this.maxSteeringAngle);
            this.maxSteeringSpeed = this.getProperty("maxSteeringSpeed", this.maxSteeringSpeed);
            this.topSpeedDampener = this.getProperty("topSpeedDampener", this.topSpeedDampener);
            this.lowSpeedSteering = this.getProperty("lowSpeedSteering", this.lowSpeedSteering);
            this.highSpeedSteering = this.getProperty("highSpeedSteering", this.highSpeedSteering);
            this.donutTurningRadius = this.getProperty("donutTurningRadius", this.donutTurningRadius);
            this.donutEngineFactor = this.getProperty("donutEngineFactor", this.donutEngineFactor);
            this.donutRotateFactor = this.getProperty("donutRotateFactor", this.donutRotateFactor);
            this.donutLerpingSpeed = this.getProperty("donutLerpingSpeed", this.donutLerpingSpeed);
            this.brakeLightsTrans = this.getProperty("brakeLightsMesh", this.brakeLightsTrans);
            this.reverseLightsTrans = this.getProperty("reverseLightsMesh", this.reverseLightsTrans);
            this.frontLeftWheelTrans = this.getProperty("frontLeftWheelMesh", this.frontLeftWheelTrans);
            this.frontRightWheelTrans = this.getProperty("frontRightWheelMesh", this.frontRightWheelTrans);
            this.backLeftWheelTrans = this.getProperty("rearLeftWheelMesh", this.backLeftWheelTrans);
            this.backRightWheelTrans = this.getProperty("rearRightWheelMesh", this.backRightWheelTrans);
            this.frontLeftWheelCollider = this.getProperty("frontLeftWheelCollider", this.frontLeftWheelCollider);
            this.frontRightWheelCollider = this.getProperty("frontRightWheelCollider", this.frontRightWheelCollider);
            this.backLeftWheelCollider = this.getProperty("rearLeftWheelCollider", this.backLeftWheelCollider);
            this.backRightWheelCollider = this.getProperty("rearRightWheelCollider", this.backRightWheelCollider);
            this.burnoutFrictionSlip = this.getProperty("burnoutFrictionSlip", this.burnoutFrictionSlip);
            this.burnoutTimeDelay = this.getProperty("burnoutTimeDelay", this.burnoutTimeDelay);
            this.burnoutWheelPitch = this.getProperty("burnoutWheelPitch", this.burnoutWheelPitch);
            this.burnoutCoefficient = this.getProperty("burnoutCoefficient", this.burnoutCoefficient);
            this.burnoutTriggerMark = this.getProperty("burnoutTriggerMark", this.burnoutTriggerMark);
            this.enableAutoBurnouts = this.getProperty("enableAutoBurnouts", this.enableAutoBurnouts);
            this.driftTriggerAngle = this.getProperty("driftTriggerAngle", this.driftTriggerAngle);
            this.driftTriggerSpeed = this.getProperty("driftTriggerSpeed", this.driftTriggerSpeed);
            this.enableAutoDrifting = this.getProperty("enableAutoDrifting", this.enableAutoDrifting);
            this.postNetworkAttributes = this.getProperty("postNetworkAttributes", this.postNetworkAttributes);
            this.linkTrackManager = this.getProperty("linkTrackManager", this.linkTrackManager);
            this.playVehicleSounds = this.getProperty("playVehicleSounds", this.playVehicleSounds);
            this.differentialRatio = this.getProperty("gearBoxDifferential", this.differentialRatio);
            this.transmissionRatio = this.getProperty("gearBoxOverdrive", this.transmissionRatio);
            this.gearBoxMultiplier = this.getProperty("gearBoxMultiplier", this.gearBoxMultiplier);
            this.gearBoxMaxPitching = this.getProperty("gearBoxMaxPitching", this.gearBoxMaxPitching);
            this.gearBoxShiftChange = this.getProperty("gearBoxShiftChange", this.gearBoxShiftChange);
            this.gearBoxShiftDelay = this.getProperty("gearBoxShiftDelay", this.gearBoxShiftDelay);
            this.gearBoxShiftRatios = this.getProperty("gearBoxShiftRatios", this.gearBoxShiftRatios);
            this.gearBoxShiftRanges = this.getProperty("gearBoxShiftRanges", this.gearBoxShiftRanges);
            this.MIN_RPM = this.getProperty("gearBoxMinPower", this.MIN_RPM);
            this.MAX_RPM = this.getProperty("gearBoxMaxPower", this.MAX_RPM);
            if (this.topSpeedDampener <= 0)
                this.topSpeedDampener = 0.15;
            if (this.maxBurnoutFactor <= 0)
                this.maxBurnoutFactor = 1.0;
            if (this.gravitationalForce <= 0)
                this.gravitationalForce = 3;
            if (this.smoothFlyingForce <= 0)
                this.smoothFlyingForce = 0;
            if (this.maxFrontBraking <= 0)
                this.maxFrontBraking = 0;
            if (this.maxReversePower <= 0)
                this.maxReversePower = 0.5;
            if (this.lowSpeedSteering <= 0)
                this.lowSpeedSteering = 5.0;
            if (this.highSpeedSteering <= 0)
                this.highSpeedSteering = 5.0;
            if (this.donutTurningRadius <= 0)
                this.donutTurningRadius = 5.0;
            if (this.powerCoefficient <= 0)
                this.powerCoefficient = 1.0;
            if (this.topEngineSpeed <= 0)
                this.topEngineSpeed = 100;
            if (this.topBoosterSpeed <= 0)
                this.topBoosterSpeed = 150;
            if (this.gearBoxMultiplier <= 0)
                this.gearBoxMultiplier = 1.0;
            if (this.gearBoxMaxPitching <= 0)
                this.gearBoxMaxPitching = 6500;
            if (this.gearBoxShiftChange <= 0)
                this.gearBoxShiftChange = 5100;
            if (this.gearBoxShiftDelay <= 0)
                this.gearBoxShiftDelay = 0.35;
            if (this.transmissionRatio <= 0)
                this.transmissionRatio = 1;
            if (this.differentialRatio <= 0)
                this.differentialRatio = 1;
            if (this.frictionLerpSpeed <= 0)
                this.frictionLerpSpeed = 1;
            if (this.burnoutLerpSpeed <= 0)
                this.burnoutLerpSpeed = 1;
            if (this.burnoutTimeDelay <= 0)
                this.burnoutTimeDelay = 1;
            if (this.burnoutWheelPitch <= 0)
                this.burnoutWheelPitch = 1;
            if (this.maxRotationSpeed <= 0)
                this.maxRotationSpeed = 1;
            if (this.minBoosterSpeed <= 0)
                this.minBoosterSpeed = 0;
            if (this.maxBoosterTime <= 0)
                this.maxBoosterTime = 0;
            this.setBoosterTime(this.maxBoosterTime);
            const vehicleChassisTransform = this.getProperty("chassisTransform");
            if (vehicleChassisTransform != null && vehicleChassisTransform.name != null && vehicleChassisTransform.name !== "") {
                this.chassisTransform = this.getChildNode(vehicleChassisTransform.name, BABYLON.Toolkit.SearchType.IndexOf, false);
            }
            const powerBoosterTransform = this.getProperty("boosterTransform");
            if (powerBoosterTransform != null && powerBoosterTransform.name != null && powerBoosterTransform.name !== "") {
                this.boosterTransform = this.getChildNode(powerBoosterTransform.name, BABYLON.Toolkit.SearchType.IndexOf, false);
                if (this.boosterTransform != null)
                    this._nosAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.boosterTransform, "BABYLON.Toolkit.AudioSource");
            }
            const steeringWheelNode = this.getProperty("steeringWheelHub");
            if (steeringWheelNode != null && steeringWheelNode.name != null && steeringWheelNode.name !== "") {
                this.steeringWheelHub = this.getChildNode(steeringWheelNode.name, BABYLON.Toolkit.SearchType.IndexOf, false);
            }
            const angularDampener = this.getProperty("angularDampener");
            if (angularDampener != null)
                this.m_angularDampener = BABYLON.Toolkit.Utilities.ParseVector3(angularDampener);
            const smokeTextureInfo = this.getProperty("smokeTexture");
            if (smokeTextureInfo != null) {
                this.smokeTexture = BABYLON.Toolkit.Utilities.ParseTexture(smokeTextureInfo, this.scene);
            }
            const engineTorqueInfo = this.getProperty("engineTorque");
            if (engineTorqueInfo != null && engineTorqueInfo.animation != null) {
                this.engineTorqueCurve = BABYLON.Animation.Parse(engineTorqueInfo.animation);
            }
            if (this.engineTorqueCurve == null)
                BABYLON.Toolkit.SceneManager.LogWarning("Failed to parse engine torque curve for: " + this.transform.name);
        }
        initVehicleState() {
            BABYLON.Toolkit.Utilities.ValidateTransformQuaternion(this.transform);
            // Register Vehicle
            if (this.linkTrackManager === true)
                PROJECT.RaceTrackManager.RegisterVehicle(this.transform);
            // Setup Animator
            this._animator = this.getComponent("BABYLON.Toolkit.AnimationState");
            if (this._animator == null) {
                const animationNode = this.getChildWithScript("BABYLON.Toolkit.AnimationState");
                if (animationNode != null) {
                    this._animator = BABYLON.Toolkit.SceneManager.FindScriptComponent(animationNode, "BABYLON.Toolkit.AnimationState");
                }
                else {
                    // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                }
            }
            // Setup Engine Audio
            this._engineAudioSource = this.getComponent("BABYLON.Toolkit.AudioSource");
            if (this._engineAudioSource == null)
                BABYLON.Toolkit.SceneManager.LogWarning("No engine audio source manager found for: " + this.transform.name);
            // Setup Raycast Vehicle
            this._rigidbody = this.getComponent("BABYLON.Toolkit.RigidbodyPhysics");
            if (this.transform.physicsBody != null && this._rigidbody != null) {
                this.raycastVehicle = this._rigidbody.getRaycastVehicle();
                if (this.raycastVehicle != null) {
                    // KEEP-FOR-REFERENCE: this._chassisMesh.physicsBody.setAngularFactor(this.m_angularDampener);
                    const props = this.transform.physicsBody.getMassProperties();
                    props.inertia = new BABYLON.Vector3(this.m_angularDampener.x, this.m_angularDampener.y, this.m_angularDampener.z);
                    this.transform.physicsBody.setMassProperties(props); // Note: Set Angular Factor
                    this.linearDamping = this.transform.physicsBody.getLinearDamping(); // Note: Default Linear Drag
                    this.angularDamping = this.transform.physicsBody.getAngularDamping(); // Note: Default Angular Drag
                    const brakeLightslName = (this.brakeLightsTrans != null && this.brakeLightsTrans.name != null && this.brakeLightsTrans.name !== "") ? this.brakeLightsTrans.name : null;
                    const reverseLightslName = (this.reverseLightsTrans != null && this.reverseLightsTrans.name != null && this.reverseLightsTrans.name !== "") ? this.reverseLightsTrans.name : null;
                    const frontLeftWheelName = (this.frontLeftWheelTrans != null && this.frontLeftWheelTrans.name != null && this.frontLeftWheelTrans.name !== "") ? this.frontLeftWheelTrans.name : null;
                    const frontRightWheelName = (this.frontRightWheelTrans != null && this.frontRightWheelTrans.name != null && this.frontRightWheelTrans.name !== "") ? this.frontRightWheelTrans.name : null;
                    const backLeftWheelName = (this.backLeftWheelTrans != null && this.backLeftWheelTrans.name != null && this.backLeftWheelTrans.name !== "") ? this.backLeftWheelTrans.name : null;
                    const backRightWheelName = (this.backRightWheelTrans != null && this.backRightWheelTrans.name != null && this.backRightWheelTrans.name !== "") ? this.backRightWheelTrans.name : null;
                    const frontLeftWheelLabel = (this.frontLeftWheelCollider != null && this.frontLeftWheelCollider.name != null && this.frontLeftWheelCollider.name !== "") ? this.frontLeftWheelCollider.name : null;
                    const frontRightWheelLabel = (this.frontRightWheelCollider != null && this.frontRightWheelCollider.name != null && this.frontRightWheelCollider.name !== "") ? this.frontRightWheelCollider.name : null;
                    const backLeftWheelLabel = (this.backLeftWheelCollider != null && this.backLeftWheelCollider.name != null && this.backLeftWheelCollider.name !== "") ? this.backLeftWheelCollider.name : null;
                    const backRightWheelLabel = (this.backRightWheelCollider != null && this.backRightWheelCollider.name != null && this.backRightWheelCollider.name !== "") ? this.backRightWheelCollider.name : null;
                    // Get Wheel Indexs From Wheel Names
                    if (frontLeftWheelLabel != null)
                        this.FRONT_LEFT = this.raycastVehicle.getWheelIndexByName(frontLeftWheelLabel);
                    if (frontRightWheelLabel != null)
                        this.FRONT_RIGHT = this.raycastVehicle.getWheelIndexByName(frontRightWheelLabel);
                    if (backLeftWheelLabel != null)
                        this.BACK_LEFT = this.raycastVehicle.getWheelIndexByName(backLeftWheelLabel);
                    if (backRightWheelLabel != null)
                        this.BACK_RIGHT = this.raycastVehicle.getWheelIndexByName(backRightWheelLabel);
                    // Get Brake & Reverse Lights Meshes
                    if (brakeLightslName != null) {
                        this.brakeLightsMesh = this.getChildNode(brakeLightslName, BABYLON.Toolkit.SearchType.IndexOf, false);
                        if (this.brakeLightsMesh != null) {
                            this.brakeLightsMesh.isVisible = false;
                        }
                    }
                    if (reverseLightslName != null) {
                        this.reverseLightsMesh = this.getChildNode(reverseLightslName, BABYLON.Toolkit.SearchType.IndexOf, false);
                        if (this.reverseLightsMesh != null) {
                            this.reverseLightsMesh.isVisible = false;
                        }
                    }
                    // Setup Wheel Info And Transform Meshes
                    if (this.raycastVehicle.getNumWheels() >= 4) {
                        if (this.BACK_LEFT >= 0 && backLeftWheelName != null) {
                            this.m_backLeftWheel = this.raycastVehicle.getWheelInfo(this.BACK_LEFT);
                            this.backLeftWheelMesh = this.getChildNode(backLeftWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
                            if (this.backLeftWheelMesh != null) {
                                this.m_backLeftWheel.hub = this.backLeftWheelMesh;
                                this.m_backLeftWheel.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.backLeftWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                                this.backLeftWheelEmitter = new BABYLON.Mesh("Emitter_RL");
                                this.backLeftWheelEmitter.parent = this.m_backLeftWheel.spinner || this.backLeftWheelMesh;
                                this.backLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.backLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RL", this.backLeftWheelEmitter);
                                if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_backLeftWheel != null) {
                                        this.wheelRadius = this.m_backLeftWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.BACK_RIGHT >= 0 && backRightWheelName != null) {
                            this.m_backRightWheel = this.raycastVehicle.getWheelInfo(this.BACK_RIGHT);
                            this.backRightWheelMesh = this.getChildNode(backRightWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
                            if (this.backRightWheelMesh != null) {
                                this.m_backRightWheel.hub = this.backRightWheelMesh;
                                this.m_backRightWheel.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.backRightWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                                this.backRightWheelEmitter = new BABYLON.Mesh("Emitter_RR");
                                this.backRightWheelEmitter.parent = this.m_backRightWheel.spinner || this.backRightWheelMesh;
                                this.backRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.backRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_RR", this.backRightWheelEmitter);
                                if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_backRightWheel != null) {
                                        this.wheelRadius = this.m_backRightWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.FRONT_LEFT >= 0 && frontLeftWheelName != null) {
                            this.m_frontLeftWheel = this.raycastVehicle.getWheelInfo(this.FRONT_LEFT);
                            this.frontLeftWheelMesh = this.getChildNode(frontLeftWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
                            if (this.frontLeftWheelMesh != null) {
                                this.m_frontLeftWheel.hub = this.frontLeftWheelMesh;
                                this.m_frontLeftWheel.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.frontLeftWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                                this.frontLeftWheelEmitter = new BABYLON.Mesh("Emitter_FL");
                                this.frontLeftWheelEmitter.parent = this.m_frontLeftWheel.spinner || this.frontLeftWheelMesh;
                                this.frontLeftWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.frontLeftWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FL", this.frontLeftWheelEmitter);
                                if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_frontLeftWheel != null) {
                                        this.wheelRadius = this.m_frontLeftWheel.radius;
                                    }
                                }
                            }
                        }
                        if (this.FRONT_RIGHT >= 0 && frontRightWheelName != null) {
                            this.m_frontRightWheel = this.raycastVehicle.getWheelInfo(this.FRONT_RIGHT);
                            this.frontRightWheelMesh = this.getChildNode(frontRightWheelName, BABYLON.Toolkit.SearchType.IndexOf, false);
                            if (this.frontRightWheelMesh != null) {
                                this.m_frontRightWheel.hub = this.frontRightWheelMesh;
                                this.m_frontRightWheel.spinner = BABYLON.Toolkit.SceneManager.FindChildTransformNode(this.frontRightWheelMesh, "Wheel", BABYLON.Toolkit.SearchType.IndexOf, true);
                                this.frontRightWheelEmitter = new BABYLON.Mesh("Emitter_FR");
                                this.frontRightWheelEmitter.parent = this.m_frontRightWheel.spinner || this.frontRightWheelMesh;
                                this.frontRightWheelEmitter.position = new BABYLON.Vector3(0, 0, 0);
                                this.frontRightWheelParticle = this.createSmokeParticleSystem(this.transform.name + "Smoke_FR", this.frontRightWheelEmitter);
                                if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                                    if (this.wheelRadius <= 0 && this.m_frontRightWheel != null) {
                                        this.wheelRadius = this.m_frontRightWheel.radius;
                                    }
                                }
                            }
                        }
                        // ..
                        // Setup Stabilzation
                        // ..
                        this.raycastVehicle.setSmoothFlyingImpulse(this.smoothFlyingForce);
                        this.raycastVehicle.setStabilizingForce(this.gravitationalForce);
                        // ..
                        // Setup Collision Filter
                        // ..
                        // m_collisionFilterGroup → filterMembershipMask
                        // m_collisionFilterMask → filterCollideMask
                        // ..
                        // this.raycastVehicle.setCollisionFilterGroup(BABYLON.Toolkit.CollisionFilters.DefaultFilter);
                        // this.raycastVehicle.setCollisionFilterMask(BABYLON.Toolkit.CollisionFilters.StaticFilter);
                        // ..
                        // Setup Skid Audio Sources
                        // ..
                        if (this._skidAudioSource == null && this.backRightWheelMesh != null)
                            this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.backRightWheelMesh, "BABYLON.Toolkit.AudioSource");
                        if (this._skidAudioSource == null && this.backLeftWheelMesh != null)
                            this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.backLeftWheelMesh, "BABYLON.Toolkit.AudioSource");
                        if (this._skidAudioSource == null && this.frontRightWheelMesh != null)
                            this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.frontRightWheelMesh, "BABYLON.Toolkit.AudioSource");
                        if (this._skidAudioSource == null && this.frontLeftWheelMesh != null)
                            this._skidAudioSource = BABYLON.Toolkit.SceneManager.FindScriptComponent(this.frontLeftWheelMesh, "BABYLON.Toolkit.AudioSource");
                        if (this._skidAudioSource == null)
                            BABYLON.Toolkit.SceneManager.LogWarning("No skid audio source manager found for: " + this.transform.name);
                    }
                    else {
                        BABYLON.Toolkit.SceneManager.LogWarning("Invalid vehicle controller wheel count info for: " + this.transform.name);
                    }
                }
                else {
                    BABYLON.Toolkit.SceneManager.LogWarning("No wheel collider information found for: " + this.transform.name);
                }
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("Failed to get rigidbody component: " + this.transform.name);
            }
        }
        updateVehicleState() {
            this.m_linearVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.getDeltaSeconds());
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.wheelDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.wheelDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            this.castWheelContactRays();
        }
        destroyVehicleState() {
            this._rigidbody = null;
            this._engineAudioSource = null;
            this._skidAudioSource = null;
            if (this.m_frontLeftWheel != null) {
                //havokInstance.destroy(this.m_frontLeftWheel); // ???
                this.m_frontLeftWheel = null;
            }
            if (this.m_frontRightWheel != null) {
                //havokInstance.destroy(this.m_frontRightWheel); // ???
                this.m_frontRightWheel = null;
            }
            if (this.m_backLeftWheel != null) {
                //havokInstance.destroy(this.m_backLeftWheel); // ???
                this.m_backLeftWheel = null;
            }
            if (this.m_backRightWheel != null) {
                //havokInstance.destroy(this.m_backRightWheel); // ???
                this.m_backRightWheel = null;
            }
            this.raycastVehicle = null;
            this.frontLeftWheelMesh = null;
            this.frontRightWheelMesh = null;
            this.backLeftWheelMesh = null;
            this.backRightWheelMesh = null;
            this.frontLeftWheelTrans = null;
            this.frontRightWheelTrans = null;
            this.backLeftWheelTrans = null;
            this.backRightWheelTrans = null;
            this.frontLeftWheelCollider = null;
            this.frontRightWheelCollider = null;
            this.backLeftWheelCollider = null;
            this.backRightWheelCollider = null;
        }
        /** Gets the current vehicle lateral slip angle in degrees. */
        getCurrentSlipAngle(signed) {
            const vehicle = this.raycastVehicle;
            if (vehicle == null)
                return 0;
            // ..
            // Calculate the vehicle's lateral acceleration for cornering effects
            // ..
            this.transform.physicsBody.getAngularVelocityToRef(this.angularVelocity);
            const lateralGForce = this.angularVelocity.y; // Assuming y-axis is up-down, adjust based on your coordinate system
            // ..
            const signedLateralGForce = BABYLON.Tools.ToDegrees(lateralGForce);
            const absoluteLateralGForce = Math.abs(signedLateralGForce);
            // ..
            return (signed === true) ? signedLateralGForce : absoluteLateralGForce;
        }
        /** Gets the current vehicle lateral slip angle in radians. */
        getCurrentSlipRadians(signed) {
            const vehicle = this.raycastVehicle;
            if (vehicle == null)
                return 0;
            // ..
            // Calculate the vehicle's lateral acceleration for cornering effects
            // ..
            this.transform.physicsBody.getAngularVelocityToRef(this.angularVelocity);
            const lateralGForce = this.angularVelocity.y; // Assuming y-axis is up-down, adjust based on your coordinate system
            // ..
            const signedLateralGForce = lateralGForce;
            const absoluteLateralGForce = Math.abs(signedLateralGForce);
            // ..
            return (signed === true) ? signedLateralGForce : absoluteLateralGForce;
        }
        /** Drives the raycast vehicle with the specfied movement properties. */
        drive(throttle, steering, braking, donuts, booster = 0, autopilot = false, nos = false) {
            const deltaTime = this.getDeltaSeconds();
            this.currentForward = BABYLON.Scalar.Clamp(throttle, -1, 1);
            this.currentTurning = BABYLON.Scalar.Clamp(steering, -1, 1);
            this.currentDonuts = donuts;
            this.currentSkidding = braking;
            this.currentBoosting = (nos === true && this.powerBooster === true && this.wheelBurnout === false && this.boostSpeedTimer > 0 && this.americanSpeed >= this.minBoosterSpeed); // TODO: VALIDATE WHEN CAN REALLY GO INTO BOOST MODE
            this.currentSlipAngle = this.getCurrentSlipAngle(true);
            this.targetDrivePower = (this.currentBoosting === true) ? this.boosterCoefficient : (this.powerCoefficient + booster);
            this.currentDrivePower = BABYLON.Scalar.Lerp(this.currentDrivePower, this.targetDrivePower, (this.powerChangeRate * deltaTime));
            WM.PrintToScreen("MPH: " + this.americanSpeed.toFixed(0) + " --> RPM: " + this.engineRPM.toFixed(0) + " --> Gear: " + this.gearIndex.toFixed(0) + " --> Power: " + this.currentDrivePower.toFixed(2) + " --> Boost Time: " + this.boostSpeedTimer.toFixed(2) + " --> Donut Meter: " + this.donutMeter.toFixed(2) + " --> Burnout Meter: " + this.burnoutMeter.toFixed(2));
            // ..
            // Update Driving System
            // ..
            this.handBraking = (this.getCurrentSkidding() === true && this.handBrakingForce > 0);
            if (this.handBraking === true) {
                this.handBrakingTimer += deltaTime;
            }
            else {
                this.handBrakingTimer = 0;
            }
            if (this._rigidbody == null || this.raycastVehicle == null)
                return;
            if (this.FRONT_LEFT >= 0 && this.FRONT_RIGHT >= 0 && this.BACK_LEFT >= 0 && this.BACK_RIGHT >= 0) {
                this.engineForce = 0;
                this.wheelBrakingForce = 0;
                this.frontWheelPower = 0;
                this.backWheelPower = 0;
                // ..
                // Update Engine Forces
                // ..
                const throttleSpeed = (this.throttleEngineSpeed > 0) ? this.throttleEngineSpeed : this.getTopEngineSpeed();
                const gearShiftRatio = (this.gearBoxShiftRatios != null && this.gearBoxShiftRatios.length > this.gearIndex) ? this.gearBoxShiftRatios[this.gearIndex] : 1.0;
                const finalGearRatio = (gearShiftRatio * this.differentialRatio * this.transmissionRatio);
                const engineMotorTorque = this.getVehicleEngineTorque(this.engineRPM, this.currentDrivePower) * Math.abs(this.currentForward);
                const allowedEnginePower = (engineMotorTorque * finalGearRatio);
                let allowedBrakingForce = BABYLON.Scalar.Lerp(this.minBrakingForce, this.maxBrakingForce, this.gradientSpeed) * Math.abs(this.currentForward);
                if (this.currentForward > 0 && this.wheelBurnout === true && this.wheelDonuts === true) {
                    this.engineForce = allowedEnginePower;
                }
                else {
                    if (this.currentForward > 0) { // Forward
                        // TODO - Support Right Handed
                        if (this.forwardSpeed < -1)
                            this.wheelBrakingForce = allowedBrakingForce;
                        else
                            this.engineForce = allowedEnginePower;
                    }
                    else if (this.currentForward < 0) { // Reverse
                        // TODO - Support Right Handed
                        if (this.forwardSpeed > 1)
                            this.wheelBrakingForce = allowedBrakingForce;
                        else
                            this.engineForce = -(allowedEnginePower * this.maxReversePower);
                    }
                    else { // Static
                        this.engineForce = 0;
                        this.wheelBrakingForce = 10;
                    }
                }
                // ..
                // Slow Down Boost Power
                // ..
                if (this.currentBoosting === false && this.americanSpeed > this.topEngineSpeed) {
                    this.engineForce = 0;
                    this.wheelBrakingForce = (allowedBrakingForce * 1.0);
                }
                // ..
                // Update Vehicle Braking
                // ..
                let engineBrake = 0;
                if (this.shiftingTime > 0 || this.americanSpeed > throttleSpeed) {
                    engineBrake = this.shiftingBrake;
                    this.engineForce = 0;
                }
                // ..
                // Update Vehicle Steering
                // ..
                let visualSteerBoost = 0;
                let ackermanSteerLeft = 0;
                let ackermanSteerRight = 0;
                let turningRadius = BABYLON.Scalar.Lerp(this.ackermanTurnRadius, this.ackermanMaxRadius, this.gradientSpeed);
                let steeringBoost = (Math.abs(this.currentTurning) >= 0.02); // Note: Max Range (0.02 - 0.04)
                let steeringRadius = (this.currentForward > 0 && this.wheelBurnout === true && this.wheelDonuts === true) ? this.donutTurningRadius : (turningRadius * this.ackermanTurnFactor); // Note: Smaller Steering Radius Equals Sharper Turning
                let steeringAmount = BABYLON.Scalar.Lerp(this.lowSpeedSteering, this.highSpeedSteering, this.gradientSpeed);
                let steeringGradient = (steeringAmount * deltaTime);
                let currentSlipRadians = this.getCurrentSlipRadians(true);
                // ..
                // Use Ackerman Steering Formulas
                // ..
                if (this.currentTurning > 0) { // Right
                    if (this.maxSteerBoost > 0 && steeringBoost === true)
                        visualSteerBoost = BABYLON.Tools.ToRadians(this.maxSteerBoost);
                    ackermanSteerLeft = Math.atan(this.ackermanWheelBase / (steeringRadius + (this.ackermanRearTrack / 2))) * this.currentTurning;
                    ackermanSteerRight = Math.atan(this.ackermanWheelBase / (steeringRadius - (this.ackermanRearTrack / 2))) * this.currentTurning;
                }
                else if (this.currentTurning < 0) { // Left
                    if (this.maxSteerBoost > 0 && steeringBoost === true)
                        visualSteerBoost = -BABYLON.Tools.ToRadians(this.maxSteerBoost);
                    ackermanSteerLeft = Math.atan(this.ackermanWheelBase / (steeringRadius - (this.ackermanRearTrack / 2))) * this.currentTurning;
                    ackermanSteerRight = Math.atan(this.ackermanWheelBase / (steeringRadius + (this.ackermanRearTrack / 2))) * this.currentTurning;
                }
                else {
                    visualSteerBoost = 0;
                    ackermanSteerLeft = 0;
                    ackermanSteerRight = 0;
                }
                if (this.wheelBurnout === true && this.wheelDonuts === true) {
                    ackermanSteerLeft *= this.maxBurnoutFactor;
                    ackermanSteerRight *= this.maxBurnoutFactor;
                }
                else if (autopilot === false) { // Assisted
                    const smoothSteerFactor = BABYLON.Scalar.Lerp(1.0, this.topSpeedDampener, this.gradientSpeed);
                    ackermanSteerLeft *= smoothSteerFactor;
                    ackermanSteerRight *= smoothSteerFactor;
                }
                // ..
                // Smooth Physics Steering Angles
                // ..
                this.physicsSteerAngleL = BABYLON.Scalar.Lerp(this.physicsSteerAngleL, ackermanSteerLeft, steeringGradient);
                this.physicsSteerAngleR = BABYLON.Scalar.Lerp(this.physicsSteerAngleR, ackermanSteerRight, steeringGradient);
                // ..
                // Smooth Visual Steering Angles
                // ..
                this.visualSteerBoostL = (ackermanSteerLeft + visualSteerBoost);
                this.visualSteerBoostR = (ackermanSteerRight + visualSteerBoost);
                if (this.wheelBurnout === true && this.wheelDonuts === true) {
                    this.visualSteerBoostL *= 0.5;
                    this.visualSteerBoostR *= 0.5;
                }
                if (this.overSteerSpeed > 0 && this.handBraking === true && this.handBrakingTimer > this.overSteerTimeout) {
                    this.visualSteerBoostL *= -1; // Note: Invert Over Steering Angle
                    this.visualSteerBoostR *= -1; // Note: Invert Over Steering Angle
                }
                this.visualSteerAngleL = BABYLON.Scalar.Lerp(this.visualSteerAngleL, this.visualSteerBoostL, steeringGradient);
                this.visualSteerAngleR = BABYLON.Scalar.Lerp(this.visualSteerAngleR, this.visualSteerBoostR, steeringGradient);
                // ..
                // Smooth Steering Wheel Angles
                // ..
                let steeringAngleBoost = 2.0;
                let steeringAngleFactor = Math.abs(this.currentTurning) * steeringAngleBoost;
                if (this.currentTurning > 0) { // Right
                    steeringAngleFactor = BABYLON.Scalar.Clamp(steeringAngleFactor, 0, 1);
                }
                else if (this.currentTurning < 0) { // Left
                    steeringAngleFactor = -BABYLON.Scalar.Clamp(steeringAngleFactor, 0, 1);
                }
                let fixedCurrentTurning = (this.overSteerSpeed > 0 && this.handBraking === true && this.handBrakingTimer > this.overSteerTimeout) ? steeringAngleFactor : -steeringAngleFactor;
                this.animatorSteerAngle = BABYLON.Scalar.Lerp(this.animatorSteerAngle, fixedCurrentTurning, (this.maxSteeringSpeed * deltaTime));
                // ..
                // ..
                if (this.steeringWheelHub != null) {
                    if (this.steeringWheelHub.rotationQuaternion == null) {
                        this.steeringWheelHub.rotationQuaternion = BABYLON.Quaternion.FromEulerVector(this.steeringWheelHub.rotation);
                    }
                    const degreesSteerAngle = (this.animatorSteerAngle * this.maxSteeringAngle);
                    const radiansSteerAngle = BABYLON.Tools.ToRadians(degreesSteerAngle);
                    const xaxis = (this.steeringWheelAxis === 0) ? radiansSteerAngle : 0;
                    const yaxis = (this.steeringWheelAxis === 1) ? radiansSteerAngle : 0;
                    const zaxis = (this.steeringWheelAxis === 2) ? radiansSteerAngle : 0;
                    BABYLON.Quaternion.SlerpToRef(this.steeringWheelHub.rotationQuaternion, BABYLON.Quaternion.FromEulerAngles(xaxis, yaxis, zaxis), (this.maxSteeringSpeed * deltaTime), this.steeringWheelHub.rotationQuaternion);
                }
                if (this._animator != null)
                    this._animator.setFloat("TurnAngle", this.animatorSteerAngle); // Note: Fixed Animation Turning Angle (-1 To +1)
                // ..
                // Update Raycast Vehicle Controls
                // ..
                let updateFriction = true;
                if (this.handBraking === true) {
                    this.wheelBurnout = false;
                    this.wheelDonuts = false;
                    this.burnoutTimer = 0;
                    this._donutExtraRotation.set(0, 0, 0);
                    // ..
                    // Validate Wheel Skidding Mode
                    // ..
                    if (this.raycastVehicle.lockedWheelIndexes == null)
                        this.raycastVehicle.lockedWheelIndexes = [this.BACK_LEFT, this.BACK_RIGHT];
                    if (this.americanSpeed >= 1) {
                        if (this.wheelSkidding === false) {
                            this.wheelSkidding = true;
                            this.skiddingTime = this.brakeRecoveryDelay;
                            const wheelSkidFriction = 0; // Default Wheel Skidding Frintion Drop Value
                            if (this.m_frontLeftWheel != null)
                                this.m_frontLeftWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_frontRightWheel != null)
                                this.m_frontRightWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_backLeftWheel != null)
                                this.m_backLeftWheel.frictionSlip = wheelSkidFriction;
                            if (this.m_backRightWheel != null)
                                this.m_backRightWheel.frictionSlip = wheelSkidFriction;
                            this.frontLeftFrictionPenalty = false;
                            this.frontRightFrictionPenalty = false;
                            this.rearLeftFrictionPenalty = false;
                            this.rearRightFrictionPenalty = false;
                            updateFriction = false; // Note: Disable Friction Lerping This Frame
                        }
                    }
                    // ..
                    // FIXME: Update Vehicle Wheel Information
                    // ..
                    // this.updateCurrentBrakeDamping(this.linearBrakingForce, this.angularBrakingForce);
                    // if (updateFriction === true) this.updateCurrentFrictionSlip(deltaTime * this.skiddingLerpSpeed);
                    if (this.skiddingTime <= 0) {
                        this.updateLinearBrakeDamping(this.linearBrakingForce, (deltaTime * this.brakeRecoverySpeed));
                        this.updateAngularBrakeDamping(this.angularBrakingForce, (deltaTime * this.brakeRecoverySpeed));
                        if (updateFriction === true && this.americanSpeed <= 0.25)
                            this.updateCurrentFrictionSlip(deltaTime * this.skidRecoverySpeed);
                    }
                    // ..
                    this.updateCurrentRotationDelta(0);
                    this.updateCurrentRotationBoost(0);
                    // ..
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleR, this.FRONT_RIGHT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleR, this.FRONT_RIGHT);
                    // ..
                    // Add Additional Angular Rotation For Skidding
                    // ..
                    if (this.forwardSpeed >= 0 && this.handBrakingTimer < this.skidRotationTimeout) {
                        let extraSkidRotation = (Math.abs(currentSlipRadians) * (PROJECT.StandardCarController.DEFAULT_SKID_FACTOR + this.extraRotationSpeed));
                        if (extraSkidRotation !== 0) {
                            extraSkidRotation = BABYLON.Scalar.Clamp(extraSkidRotation, 0, this.maxRotationSpeed) * this.currentTurning;
                            this._skidExtraRotation.set(0, extraSkidRotation, 0);
                            this.transform.physicsBody.setAngularVelocity(this._skidExtraRotation);
                            //WM.PrintToScreen("Extra Skid Rotation: " + this._skidExtraRotation.y.toFixed(2), "green");
                        }
                    }
                    // ..
                    this.raycastVehicle.setEngineForce(0, this.FRONT_LEFT);
                    this.raycastVehicle.setEngineForce(0, this.FRONT_RIGHT);
                    this.raycastVehicle.setEngineForce(0, this.BACK_LEFT);
                    this.raycastVehicle.setEngineForce(0, this.BACK_RIGHT);
                    // ..
                    const frontBrakeForce = (this.handBrakingForce * 0.0001);
                    this.raycastVehicle.setBrakingForce(frontBrakeForce, this.FRONT_LEFT);
                    this.raycastVehicle.setBrakingForce(frontBrakeForce, this.FRONT_RIGHT);
                    // ..
                    const extraBrakeForce = (this.handBrakingForce * 10000);
                    this.raycastVehicle.setBrakingForce(extraBrakeForce, this.BACK_LEFT);
                    this.raycastVehicle.setBrakingForce(extraBrakeForce, this.BACK_RIGHT);
                }
                else {
                    if (this.raycastVehicle.lockedWheelIndexes != null) {
                        this.raycastVehicle.lockedWheelIndexes = null;
                        this.updateCurrentRotationDelta(0);
                        this.updateCurrentRotationBoost(0);
                    }
                    this.wheelSkidding = false;
                    this.skiddingTime = 0;
                    this.burnoutCoefficient = BABYLON.Scalar.Clamp(this.burnoutCoefficient, 1, 30);
                    this.burnoutTriggerMark = BABYLON.Scalar.Clamp(this.burnoutTriggerMark, 1, 20);
                    // ..
                    const isBurnoutSpeed = (this.americanSpeed <= this.burnoutTriggerMark);
                    const isFullThrottle = (this.currentForward < -0.9 || this.currentForward > 0.9);
                    const isFullTurning = (this.currentTurning < -0.9 || this.currentTurning > 0.9);
                    let wheelLerpSpeed = (deltaTime * this.frictionLerpSpeed);
                    let wheelBoostSpeed = 0; // Default Zero Wheel Rotation Boost
                    // ..
                    // Validate Wheel Burnout Mode
                    // ..
                    if (this.enableAutoBurnouts === true && this.burnoutTimer <= 0 && isFullThrottle === true && isBurnoutSpeed === true) {
                        this.burnoutTimer = (this.burnoutTimeDelay * 0.25); // Note: 25 Percent Slipping Time
                        this.wheelDonuts = false;
                        this.wheelBurnout = true;
                        this._donutExtraRotation.set(0, 0, 0);
                    }
                    // ..
                    // Validate Wheel Burnout Timers
                    // ..
                    if (this.restoreTimer > 0) {
                        this.restoreTimer -= deltaTime;
                        if (this.restoreTimer < 0)
                            this.restoreTimer = 0;
                        wheelLerpSpeed *= this.burnoutLerpSpeed;
                    }
                    if (this.cooldownTimer > 0) {
                        this.cooldownTimer -= deltaTime;
                        if (this.cooldownTimer < 0)
                            this.cooldownTimer = 0;
                    }
                    if (this.wheelDonuts === true) {
                        this.donutSpinTime += deltaTime;
                        if (isFullTurning === false) {
                            this.burnoutTimer = 0;
                        }
                    }
                    else {
                        this.donutSpinTime = 0;
                    }
                    // ..
                    // Validate Wheel Drive Burnout Mode
                    // ..
                    if (this.burnoutTimer > 0 && isFullThrottle === true) {
                        wheelBoostSpeed = 0.2;
                        if (this.burnoutCoefficient >= 1.0)
                            this.engineForce *= this.burnoutCoefficient;
                        if (this.m_frontLeftWheel != null)
                            this.m_frontLeftWheel.frictionSlip = (this.burnoutFrictionSlip);
                        if (this.m_frontRightWheel != null)
                            this.m_frontRightWheel.frictionSlip = (this.burnoutFrictionSlip);
                        if (this.m_backLeftWheel != null)
                            this.m_backLeftWheel.frictionSlip = this.burnoutFrictionSlip;
                        if (this.m_backRightWheel != null)
                            this.m_backRightWheel.frictionSlip = this.burnoutFrictionSlip;
                        this.frontLeftFrictionPenalty = false;
                        this.frontRightFrictionPenalty = false;
                        this.rearLeftFrictionPenalty = false;
                        this.rearRightFrictionPenalty = false;
                        updateFriction = false; // Note: Disable Friction Lerping This Frame
                        // ..
                        this.burnoutTimer -= deltaTime;
                        if (this.wheelBurnout === true && this.burnoutTimer <= 0 && isFullTurning === true && this.cooldownTimer <= 0 && this.currentForward > 0 && this.currentDonuts === true) {
                            this.burnoutTimer = 0.01; // Note: Use Fixed Donut Burnout Time Extension
                            this.wheelDonuts = true; // Note: Disable Wheel Donuts Extra Power Needed
                        }
                    }
                    else {
                        if (this.americanSpeed >= this.minPenaltySpeed && this.frictionWheelSlip > 0) {
                            if (this.frontLeftFrictionLerping === false && this.frontLeftContactTag === this.penaltyGroundTag) {
                                if (this.m_frontLeftWheel != null && this.m_frontLeftWheel.defaultFriction != null) {
                                    const frontLeftFriction = this.m_frontLeftWheel.defaultFriction * (this.frictionWheelSlip * 1.25);
                                    this.m_frontLeftWheel.frictionSlip = frontLeftFriction;
                                    this.frontLeftFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.frontRightFrictionLerping === false && this.frontRightContactTag === this.penaltyGroundTag) {
                                if (this.m_frontRightWheel != null && this.m_frontRightWheel.defaultFriction != null) {
                                    const frontRightFriction = this.m_frontRightWheel.defaultFriction * (this.frictionWheelSlip * 1.25);
                                    this.m_frontRightWheel.frictionSlip = frontRightFriction;
                                    this.frontRightFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.rearLeftFrictionLerping === false && this.rearLeftContactTag === this.penaltyGroundTag) {
                                if (this.m_backLeftWheel != null && this.m_backLeftWheel.defaultFriction != null) {
                                    const backLeftFriction = this.m_backLeftWheel.defaultFriction * this.frictionWheelSlip;
                                    this.m_backLeftWheel.frictionSlip = backLeftFriction;
                                    this.rearLeftFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                            if (this.rearRightFrictionLerping === false && this.rearRightContactTag === this.penaltyGroundTag) {
                                if (this.m_backRightWheel != null && this.m_backRightWheel.defaultFriction != null) {
                                    const backRightFriction = this.m_backRightWheel.defaultFriction * this.frictionWheelSlip;
                                    this.m_backRightWheel.frictionSlip = backRightFriction;
                                    this.rearRightFrictionPenalty = true;
                                    updateFriction = false; // Note: Disable Friction Lerping This Frame
                                }
                            }
                        }
                        // ..
                        this.burnoutTimer = 0; // Note: Clear Burnout Timer 
                        this.donutSpinTime = 0; // Note: Clear Donut Spin Time
                        if (this.wheelDonuts === true) {
                            this.wheelDonuts = false;
                            this.cooldownTimer = (this.burnoutTimeDelay * 2); // Note: 200 Percent Cooldown Time
                            this._donutExtraRotation.set(0, 0, 0);
                        }
                        if (this.wheelBurnout === true) {
                            this.wheelBurnout = false;
                            this.restoreTimer = (this.burnoutTimeDelay * 0.75); // Note: 75 Percent Restoring Time
                        }
                    }
                    // ..
                    // Validate Wheel Drive Power Force
                    // ..
                    if (this.wheelBurnout === true && this.wheelDonuts === true) {
                        this.engineForce *= this.donutEngineFactor;
                        this.frontWheelPower = (this.engineForce * 0.1); // Note: 10 Percent Engine Power Force
                    }
                    else if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                        this.frontWheelPower = this.engineForce;
                    }
                    if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                        this.backWheelPower = this.engineForce;
                    }
                    // ..
                    // KEEP-FOR-REFERNCE: Update Vehicle Wheel Information
                    // ..
                    // if (this.getFootBraking() === true) this.updateCurrentBrakeDamping((this.linearBrakingForce * 0.2), (this.angularBrakingForce * 0.2)); // Note: 20 Percent Linear Brake Force
                    // else if (this.throttleBrakingForce > 0) this.updateCurrentBrakeDamping(this.throttleBrakingForce, this.angularDamping);
                    // else this.updateCurrentBrakeDamping(this.linearDamping, this.angularDamping);
                    // if (updateFriction === true) this.updateCurrentFrictionSlip(wheelLerpSpeed);
                    // this.updateCurrentRotationBoost(wheelBoostSpeed);
                    // ..
                    if (this.getFootBraking() === true)
                        this.updateCurrentBrakeDamping((this.linearBrakingForce * 0.05), (this.angularBrakingForce * 0.05)); // Note: 5 Percent Linear Brake Force
                    else if (this.throttleBrakingForce > 0)
                        this.updateCurrentBrakeDamping(this.throttleBrakingForce, this.angularDamping);
                    else if (this.engineForce !== 0)
                        this.updateCurrentBrakeDamping(engineBrake, this.angularDamping); // WTF: Engine Brake Force - ???
                    else
                        this.updateCurrentBrakeDamping(this.linearDamping, this.angularDamping);
                    // ..
                    if (updateFriction === true)
                        this.updateCurrentFrictionSlip(wheelLerpSpeed);
                    this.updateCurrentRotationBoost(wheelBoostSpeed);
                    // ..
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setVisualSteeringAngle(this.visualSteerAngleR, this.FRONT_RIGHT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleL, this.FRONT_LEFT);
                    this.raycastVehicle.setPhysicsSteeringAngle(this.physicsSteerAngleR, this.FRONT_RIGHT);
                    // ..
                    if (this.forwardSpeed >= 0 && this.wheelBurnout === true && this.wheelDonuts === true) {
                        const extraDonutRotation = (this.currentTurning * this.donutRotateFactor);
                        if (extraDonutRotation !== 0) {
                            const smoothDonutScaling = 1.5; // Note: Hard Coded Donut Scaling - Use Default Donut Factor To Scale Gradient
                            const smoothDonutGradient = (deltaTime * smoothDonutScaling * this.donutLerpingSpeed * PROJECT.StandardCarController.DEFAULT_DONUT_FACTOR);
                            const smoothDonutRotation = BABYLON.Scalar.Lerp(this._donutExtraRotation.y, extraDonutRotation, smoothDonutGradient);
                            this._donutExtraRotation.set(0, smoothDonutRotation, 0);
                            this.transform.physicsBody.setAngularVelocity(this._donutExtraRotation);
                            //WM.PrintToScreen("Extra Donut Rotation: " + this._donutExtraRotation.y.toFixed(2), "red");
                        }
                    }
                    // ..
                    this.raycastVehicle.setEngineForce(this.frontWheelPower, this.FRONT_LEFT);
                    this.raycastVehicle.setEngineForce(this.frontWheelPower, this.FRONT_RIGHT);
                    this.raycastVehicle.setEngineForce(this.backWheelPower, this.BACK_LEFT);
                    this.raycastVehicle.setEngineForce(this.backWheelPower, this.BACK_RIGHT);
                    // ..
                    if (this.maxFrontBraking > 0) {
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce * this.maxFrontBraking, this.FRONT_LEFT);
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce * this.maxFrontBraking, this.FRONT_RIGHT);
                    }
                    else {
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.FRONT_LEFT);
                        this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.FRONT_RIGHT);
                    }
                    this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.BACK_LEFT);
                    this.raycastVehicle.setBrakingForce(this.wheelBrakingForce, this.BACK_RIGHT);
                }
            }
            // ..
            // Update Driving Props
            // ..
            this.syncVehicleState(deltaTime);
            this.syncVehicleTilting(deltaTime);
        }
        syncVehicleState(deltaTime) {
            const gearCount = this.getGearShiftRatioCount();
            if (this.skiddingTime > 0) {
                this.skiddingTime -= deltaTime;
                if (this.skiddingTime < 0)
                    this.skiddingTime = 0;
            }
            if (this.shiftingTime > 0) {
                this.shiftingTime -= deltaTime;
                if (this.shiftingTime < 0)
                    this.shiftingTime = 0;
            }
            if (this.currentBoosting === true) {
                if (this.boostSpeedTimer > 0) {
                    this.boostSpeedTimer -= deltaTime;
                    if (this.boostSpeedTimer < 0)
                        this.boostSpeedTimer = 0;
                }
            }
            if (this._rigidbody != null && this.raycastVehicle != null) {
                const deadSpeed = 0.2; // Note: Dead Movement Speed Threshold
                this.forwardSpeed = this.raycastVehicle.getRawCurrentSpeedKph() * PROJECT.StandardCarController.DEFAULT_SPEED_FACTOR;
                if (Math.abs(this.forwardSpeed) < deadSpeed)
                    this.forwardSpeed = 0;
                // ..
                this.absoluteSpeed = this.raycastVehicle.getAbsCurrentSpeedKph() * PROJECT.StandardCarController.DEFAULT_SPEED_FACTOR;
                if (this.absoluteSpeed < deadSpeed)
                    this.absoluteSpeed = 0;
                // ..
                this.americanSpeed = (this.absoluteSpeed * BABYLON.Toolkit.System.Kph2Mph);
                this.gradientSpeed = BABYLON.Scalar.Clamp((this.absoluteSpeed / this.getTopEngineSpeed())); // Note: Absoulte Speed To Dampen Normalized Speed
                // this.gradientSpeed = BABYLON.Scalar.Clamp((this.americanSpeed / this.getTopEngineSpeed())); // Note: American Speed To Dampen Normalized Speed
                // ..
                if (this.gearBoxShiftRatios != null && this.gearIndex >= 0 && this.gearIndex < gearCount) {
                    const minimumDelta = Math.min(Math.max(deltaTime, 1 / 200), 1);
                    const wheelDiameter = (this.wheelRadius * 2 * BABYLON.Toolkit.System.Meter2Inch);
                    const finalGearRatio = (this.gearBoxShiftRatios[this.gearIndex] * this.differentialRatio * this.transmissionRatio);
                    const engineLevelFactor = 336;
                    // ..
                    // Update Engine Revolutions (TODO - No Shifting Donut Mode - RPM Bounce Boosting)
                    // ..
                    this.downShift = (this.gearBoxShiftRanges != null && this.gearBoxShiftRanges.length === this.gearBoxShiftRatios.length) ? this.gearBoxShiftRanges[this.gearIndex] : 1000;
                    this.clutchSlip = BABYLON.Scalar.Lerp(this.clutchSlip, 0, 1 - Math.pow(0.01, minimumDelta));
                    this.engineRPM = ((this.americanSpeed * finalGearRatio * engineLevelFactor) / wheelDiameter);
                    /////////////////////////////////////////////////////////
                    // TODO: Lock High Pitching RPM While Skidding & Donuts
                    // TODO: FIX THE SHIFTING RPM GLITCH
                    /////////////////////////////////////////////////////////
                    //if (this.wheelDonuts === true) {
                    //    this.pitchRPM = 5000; //this.maxDonutPitch;
                    //} else {
                    this.pitchRPM = BABYLON.Scalar.Lerp(this.shiftRPM, this.engineRPM, (1 - this.clutchSlip)) + this.MIN_RPM;
                    //}
                    /////////////////////////////////////////////////////////
                    /* Penny - Change Gears
                    float speedPercentage = Mathf.Abs(currentSpeed / maxSpeed);
                    float upperGearMax = (1 / (float)numGears) * (currentGear + 1);
                    float downGearMax = (1 / (float)numGears) * currentGear;
            
                    if (currentGear > 0 && speedPercentage < downGearMax)
                        currentGear--;
            
                    if (speedPercentage > upperGearMax && (currentGear < (numGears - 1)))
                        currentGear++;
                    */
                    // Note: Disable Shifting Gears For Boosters And Donuts
                    let enableShifting = (this.currentBoosting === false && this.currentDonuts === false);
                    if (this.americanSpeed < 5) {
                        this.gearIndex = 0;
                        this.shiftingSide = BABYLON.Toolkit.Utilities.GetRandomRange(-10, 10) > 0 ? 1 : -1;
                    }
                    else {
                        if (this.engineRPM > this.gearBoxShiftChange) {
                            // DEPRECIATED: Moved To If Statement Below
                            // this.shiftRPM = this.engineRPM;
                            // this.clutchSlip = 1.0;
                            // this.shiftingTime = this.gearBoxShiftDelay;
                            if (this.gearIndex < (gearCount - 1)) {
                                this.shiftRPM = this.engineRPM;
                                this.clutchSlip = 1.0;
                                this.shiftingTime = (enableShifting === true) ? this.gearBoxShiftDelay : 0;
                                this.shiftingSide = BABYLON.Toolkit.Utilities.GetRandomRange(-10, 10) > 0 ? 1 : -1;
                                this.gearIndex++;
                            }
                        }
                        else if (this.engineRPM < this.downShift) {
                            // DEPRECIATED: Moved To If Statement Below
                            // this.shiftRPM = this.engineRPM;
                            // this.clutchSlip = 1.0;
                            // this.shiftingTime = 0;
                            if (this.gearIndex > 0) {
                                this.shiftRPM = this.engineRPM;
                                this.clutchSlip = 1.0;
                                this.shiftingTime = 0;
                                this.shiftingSide = BABYLON.Toolkit.Utilities.GetRandomRange(-10, 10) > 0 ? 1 : -1;
                                this.gearIndex--;
                            }
                        }
                    }
                    ///////////////////////////////////////
                    // Double Check Gear Index - ???
                    ///////////////////////////////////////
                    if (this.gearIndex < 0)
                        this.gearIndex = 0;
                    else if (this.gearIndex >= gearCount)
                        this.gearIndex = (gearCount - 1);
                }
            }
            // Update Engine Sound Pitch
            this.enginePitchLevel = (this.getCurrentEnginePitch() * PROJECT.StandardCarController.DEFAULT_PITCH_FACTOR * this.gearBoxMultiplier);
            if (this.playVehicleSounds === true) {
                if (this._engineAudioSource != null) {
                    const engineSoundClip = this._engineAudioSource.getSoundClip();
                    if (engineSoundClip != null)
                        engineSoundClip.setPlaybackRate(this.enginePitchLevel);
                }
            }
            // Update Booster Sound Pitch
            this.POWER_BOOST_PITCH = (this.currentBoosting === true) ? 1 : 0;
            if (this.playVehicleSounds === true) {
                if (this._nosAudioSource != null) {
                    const nosSoundClip = this._nosAudioSource.getSoundClip();
                    if (nosSoundClip != null)
                        nosSoundClip.setPlaybackRate(this.POWER_BOOST_PITCH);
                }
            }
            // Update Smoke Instensity
            this.smokeDonuts = BABYLON.Scalar.Clamp(this.smokeDonuts, 1, 10);
            this.smokeIntensityFactor = this.smokeIntensity;
            if (this.wheelBurnout === true && this.wheelDonuts === true)
                this.smokeIntensityFactor *= this.smokeDonuts;
            /* DEBUG: WHEEL COLLISIONS
            const fl_wheel = this.raycastVehicle.getWheelInfo(this.FRONT_LEFT);
            const fr_wheel = this.raycastVehicle.getWheelInfo(this.FRONT_RIGHT);
            const bl_wheel = this.raycastVehicle.getWheelInfo(this.BACK_LEFT);
            const br_wheel = this.raycastVehicle.getWheelInfo(this.BACK_RIGHT);
            let fl_collide:string = "";
            if (fl_wheel.raycastResult != null && fl_wheel.raycastResult.body != null) {
                fl_collide = fl_wheel.raycastResult.body.transformNode.name;
            }
            let fr_collide:string = "";
            if (fr_wheel.raycastResult != null && fr_wheel.raycastResult.body != null) {
                fr_collide = fr_wheel.raycastResult.body.transformNode.name;
            }

            let bl_collide:string = "";
            if (bl_wheel.raycastResult != null && bl_wheel.raycastResult.body != null) {
                bl_collide = bl_wheel.raycastResult.body.transformNode.name;
            }
            let br_collide:string = "";
            if (br_wheel.raycastResult != null && br_wheel.raycastResult.body != null) {
                br_collide = br_wheel.raycastResult.body.transformNode.name;
            }
            console.log("Wheel Collides - FL: " + fl_collide + " --> FR: " +  fr_collide + " --> BL: " + bl_collide + " --> BR: " + br_collide);
            */
            // Update Wheel Skidding Info
            this.SKID_FL = 0, this.SKID_FR = 0, this.SKID_RL = 0, this.SKID_RR = 0;
            if (this.m_frontLeftWheel != null) {
                const wheelContactFL = (this.m_frontLeftWheel.raycastResult.body != null);
                this.SKID_FL = this.updateCurrentSkidInfo(this.m_frontLeftWheel);
                if (this.SKID_FL < this.skidThreashold)
                    this.SKID_FL = 0;
                if (this.SKID_FL > 0 && wheelContactFL === true) {
                    const skidPosFL = this.m_frontLeftWheel.raycastResult.hitPointWorld;
                    const skidNormFL = this.m_frontLeftWheel.raycastResult.hitNormalWorld;
                    const skidScaleFL = BABYLON.Scalar.Normalize(this.SKID_FL, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosFL.addInPlace(this.m_velocityOffset);
                    this.m_frontLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosFL, skidNormFL, skidScaleFL, this.m_frontLeftWheelSkid);
                    if (this.wheelDonuts === true)
                        this.donutMeter += this.SKID_FL;
                    this.burnoutMeter += this.SKID_FL;
                    if (this.frontLeftWheelParticle != null) {
                        if (this.frontLeftWheelParticle.isStarted() === false) {
                            this.frontLeftWheelParticle.start();
                        }
                        const smoke_FL = this.SKID_FL * this.SKID_FL;
                        this.frontLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FL;
                        this.frontLeftWheelParticle.minSize = 0.2 * smoke_FL + 0.2;
                        this.frontLeftWheelParticle.maxSize = 1.5 * smoke_FL + 1.2;
                    }
                }
                else {
                    if (this.frontLeftWheelParticle != null)
                        this.frontLeftWheelParticle.emitRate = 0;
                    this.m_frontLeftWheelSkid = -1;
                }
            }
            if (this.m_frontRightWheel != null) {
                const wheelContactFR = (this.m_frontRightWheel.raycastResult.body != null);
                this.SKID_FR = this.updateCurrentSkidInfo(this.m_frontRightWheel);
                if (this.SKID_FR < this.skidThreashold)
                    this.SKID_FR = 0;
                if (this.SKID_FR > 0 && wheelContactFR === true) {
                    const skidPosFR = this.m_frontRightWheel.raycastResult.hitPointWorld;
                    const skidNormFR = this.m_frontRightWheel.raycastResult.hitNormalWorld;
                    const skidScaleFR = BABYLON.Scalar.Normalize(this.SKID_FR, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosFR.addInPlace(this.m_velocityOffset);
                    this.m_frontRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosFR, skidNormFR, skidScaleFR, this.m_frontRightWheelSkid);
                    if (this.wheelDonuts === true)
                        this.donutMeter += this.SKID_FR;
                    this.burnoutMeter += this.SKID_FR;
                    if (this.frontRightWheelParticle != null) {
                        if (this.frontRightWheelParticle.isStarted() === false) {
                            this.frontRightWheelParticle.start();
                        }
                        const smoke_FR = this.SKID_FR * this.SKID_FR;
                        this.frontRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_FR;
                        this.frontRightWheelParticle.minSize = 0.2 * smoke_FR + 0.2;
                        this.frontRightWheelParticle.maxSize = 1.5 * smoke_FR + 1.2;
                    }
                }
                else {
                    if (this.frontRightWheelParticle != null)
                        this.frontRightWheelParticle.emitRate = 0;
                    this.m_frontRightWheelSkid = -1;
                }
            }
            this.PITCH_FL = this.SKID_FL;
            this.PITCH_FR = this.SKID_FR;
            if (this.wheelBurnout == true || this.restoreTimer > 0) {
                this.PITCH_FL *= this.burnoutWheelPitch;
                this.PITCH_FR *= this.burnoutWheelPitch;
            }
            this.PITCH_FL *= 0.75; // 75% Skid For Front Wheels
            this.PITCH_FR *= 0.75; // 75% Skid For Front Wheels
            if (this.m_backLeftWheel != null) {
                const wheelContactBL = (this.m_backLeftWheel.raycastResult.body != null);
                this.SKID_RL = this.updateCurrentSkidInfo(this.m_backLeftWheel);
                if (this.SKID_RL < this.skidThreashold)
                    this.SKID_RL = 0;
                if (this.SKID_RL > 0 && wheelContactBL === true) {
                    const skidPosRL = this.m_backLeftWheel.raycastResult.hitPointWorld;
                    const skidNormRL = this.m_backLeftWheel.raycastResult.hitNormalWorld;
                    const skidScaleRL = BABYLON.Scalar.Normalize(this.SKID_RL, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosRL.addInPlace(this.m_velocityOffset);
                    this.m_backLeftWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosRL, skidNormRL, skidScaleRL, this.m_backLeftWheelSkid);
                    if (this.wheelDonuts === true)
                        this.donutMeter += this.SKID_RL;
                    this.burnoutMeter += this.SKID_RL;
                    if (this.backLeftWheelParticle != null) {
                        if (this.backLeftWheelParticle.isStarted() === false) {
                            this.backLeftWheelParticle.start();
                        }
                        const smoke_RL = this.SKID_RL * this.SKID_RL;
                        this.backLeftWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RL;
                        this.backLeftWheelParticle.minSize = 0.2 * smoke_RL + 0.2;
                        this.backLeftWheelParticle.maxSize = 1.5 * smoke_RL + 1.2;
                    }
                }
                else {
                    if (this.backLeftWheelParticle != null)
                        this.backLeftWheelParticle.emitRate = 0;
                    this.m_backLeftWheelSkid = -1;
                }
            }
            if (this.m_backRightWheel != null) {
                const wheelContactBR = (this.m_backRightWheel.raycastResult.body != null);
                this.SKID_RR = this.updateCurrentSkidInfo(this.m_backRightWheel);
                if (this.SKID_RR < this.skidThreashold)
                    this.SKID_RR = 0;
                if (this.SKID_RR > 0 && wheelContactBR === true) {
                    const skidPosRR = this.m_backRightWheel.raycastResult.hitPointWorld;
                    const skidNormRR = this.m_backRightWheel.raycastResult.hitNormalWorld;
                    const skidScaleRR = BABYLON.Scalar.Normalize(this.SKID_RR, this.skidThreashold, 1.0);
                    if (this.wheelDrawVelocity > 0)
                        skidPosRR.addInPlace(this.m_velocityOffset);
                    this.m_backRightWheelSkid = PROJECT.SkidMarkManager.AddSkidMarkSegment(skidPosRR, skidNormRR, skidScaleRR, this.m_backRightWheelSkid);
                    if (this.wheelDonuts === true)
                        this.donutMeter += this.SKID_RR;
                    this.burnoutMeter += this.SKID_RR;
                    if (this.backRightWheelParticle != null) {
                        if (this.backRightWheelParticle.isStarted() === false) {
                            this.backRightWheelParticle.start();
                        }
                        const smoke_RR = this.SKID_RR * this.SKID_RR;
                        this.backRightWheelParticle.emitRate = this.smokeIntensityFactor * smoke_RR;
                        this.backRightWheelParticle.minSize = 0.2 * smoke_RR + 0.2;
                        this.backRightWheelParticle.maxSize = 1.5 * smoke_RR + 1.2;
                    }
                }
                else {
                    if (this.backRightWheelParticle != null)
                        this.backRightWheelParticle.emitRate = 0;
                    this.m_backRightWheelSkid = -1;
                }
            }
            this.PITCH_RL = this.SKID_RL;
            this.PITCH_RR = this.SKID_RR;
            if (this.wheelBurnout == true || this.restoreTimer > 0) {
                this.PITCH_RL *= this.burnoutWheelPitch;
                this.PITCH_RR *= this.burnoutWheelPitch;
            }
            ///////////////////////////////////////////
            // Play Skid Audio Track
            ///////////////////////////////////////////
            this.WHEEL_SKID_PITCH = 0;
            if (this.PITCH_FL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FL;
            if (this.PITCH_FR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_FR;
            if (this.PITCH_RL > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RL;
            if (this.PITCH_RR > this.WHEEL_SKID_PITCH)
                this.WHEEL_SKID_PITCH = this.PITCH_RR;
            if (this.playVehicleSounds === true) {
                if (this._skidAudioSource != null) {
                    const skidSoundClip = this._skidAudioSource.getSoundClip();
                    if (skidSoundClip != null)
                        skidSoundClip.setPlaybackRate(this.WHEEL_SKID_PITCH);
                }
            }
            ///////////////////////////////////////////
            // Vehicle Braking Lights Check
            ///////////////////////////////////////////
            if (this.brakeLightsMesh != null) {
                this.brakeLightsMesh.isVisible = this.isBraking();
            }
            ///////////////////////////////////////////
            // Vehicle Reverse Lights Check
            ///////////////////////////////////////////
            if (this.reverseLightsMesh != null) {
                this.reverseLightsMesh.isVisible = this.getReverseThrottle();
            }
            ///////////////////////////////////////////
            // Reset Skid Properties
            ///////////////////////////////////////////
            if (this.SKID_FL === 0 && this.SKID_FL === 0 && this.SKID_FL === 0 && this.SKID_FL === 0) {
                this.smokeIntensityFactor = 0;
            }
            ///////////////////////////////////////////
            // Post Network Attributes
            ///////////////////////////////////////////
            if (this.postNetworkAttributes == true && BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                const pitch_Attribute = this.getEnginePitchLevel();
                const brake_Attribute = this.isBraking() ? 1 : 0;
                const reverse_Attribute = this.getReverseThrottle() ? 1 : 0;
                const burnout_Attribute = (this.getCurrentBurnout() || this.getCurrentDonuts()) ? 1 : 0;
                const SKID_FL_Attribute = this.getFrontLeftSkid();
                const SKID_FR_Attribute = this.getFrontRightSkid();
                const SKID_RL_Attribute = this.getBackLeftSkid();
                const SKID_RR_Attribute = this.getBackRightSkid();
                const SPIN_FL_Transform = this.m_frontLeftWheel.spinner;
                const SPIN_FR_Transform = this.m_frontRightWheel.spinner;
                const SPIN_RL_Transform = this.m_backLeftWheel.spinner;
                const SPIN_RR_Transform = this.m_backRightWheel.spinner;
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 0, pitch_Attribute); // Pitch
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 1, brake_Attribute); // Brake
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 2, reverse_Attribute); // Reverse
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 3, burnout_Attribute); // Burnout
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 4, SKID_FL_Attribute); // SKID_FL
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 5, SKID_FR_Attribute); // SKID_FR
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 6, SKID_RL_Attribute); // SKID_RL
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 7, SKID_RR_Attribute); // SKID_RR
                if (SPIN_FL_Transform != null && SPIN_FL_Transform.rotationQuaternion != null) {
                    SPIN_FL_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_FL_Rotation);
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 8, this.SPIN_FL_Rotation.x); // SPIN_FL
                }
                else {
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 8, 0);
                }
                if (SPIN_FR_Transform != null && SPIN_FR_Transform.rotationQuaternion != null) {
                    SPIN_FR_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_FR_Rotation);
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 9, this.SPIN_FR_Rotation.x); // SPIN_FR
                }
                else {
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 9, 0);
                }
                if (SPIN_RL_Transform != null && SPIN_RL_Transform.rotationQuaternion != null) {
                    SPIN_RL_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_RL_Rotation);
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 10, this.SPIN_RL_Rotation.x); // SPIN_RL
                }
                else {
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 10, 0);
                }
                if (SPIN_RR_Transform != null && SPIN_RR_Transform.rotationQuaternion != null) {
                    SPIN_RR_Transform.rotationQuaternion.toEulerAnglesToRef(this.SPIN_RR_Rotation);
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 11, this.SPIN_RR_Rotation.x); // SPIN_RR
                }
                else {
                    BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 11, 0);
                }
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 12, this.animatorSteerAngle); // Steering
            }
            ///////////////////////////////////////////
            // Write Transform Metadata
            ///////////////////////////////////////////
            this.writeTransformMetadata();
        }
        syncVehicleTilting(deltaTime) {
            const vehicle = this.raycastVehicle;
            if (vehicle == null || this.transform.physicsBody == null)
                return;
            if (this.movementTilting === true) {
                // Calculate the current and change in speed
                const currentSpeed = vehicle.getRawCurrentSpeedKph();
                const speedChange = (currentSpeed - this.previousSpeed);
                // Calculate the vehicle's lateral acceleration for cornering effects
                this.transform.physicsBody.getAngularVelocityToRef(this.angularVelocity);
                const lateralGForce = this.angularVelocity.y; // Assuming y-axis is up-down, adjust based on your coordinate system
                // Adjust pitch based on acceleration or braking
                if (speedChange > 0) { // Accelerating
                    this.currentPitch -= (this.forwardPitchFactor * Math.min(speedChange, 10) * deltaTime); // Scale down change and limit maximum effect
                }
                else if (speedChange < 0) { // Braking
                    if (this.getFootBraking() === true || this.getHandBraking() === true && this.americanSpeed < 10) {
                        this.currentPitch += (this.forwardPitchFactor * Math.min(-speedChange, 10) * deltaTime); // Scale down change and limit maximum effect
                    }
                }
                // Adjust roll based on cornering
                this.currentRoll += (this.lateralRollFactor * lateralGForce * deltaTime); // Cornering
                // Gradually return pitch and roll to neutral when no input
                this.currentPitch *= (1.0 - this.forwardRecoverRate);
                this.currentRoll *= (1.0 - this.lateralRecoverRate);
                // Clamp the pitch and roll to avoid excessive tilting
                const maxPitch = BABYLON.Tools.ToRadians(this.maxForwardAngle);
                const maxRoll = BABYLON.Tools.ToRadians(this.maxLateralAngle);
                this.currentPitch = Math.max(-maxPitch, Math.min(maxPitch, this.currentPitch));
                this.currentRoll = Math.max(-maxRoll, Math.min(maxRoll, this.currentRoll));
                // Apply Gear Shifting To Tilt Angles
                if (this.shiftingTime > 0) {
                    const maxShiftEffect = Math.sin(this.shiftingTime * Math.PI);
                    const forwardShiftSign = (this.currentForward > 0) ? 1 : -1;
                    const forwardShiftEffect = (forwardShiftSign * maxShiftEffect * this.shiftForwardExtra * 0.015);
                    const lateralShiftEffect = (this.shiftingSide * maxShiftEffect * this.shiftLateralExtra * 0.015);
                    this.currentPitch += forwardShiftEffect;
                    this.currentRoll += lateralShiftEffect;
                }
                // Apply Road Surface Noise To Tilt Angles
                if (this.surfaceDetection === true) {
                    this.idleNoiseDelta += (deltaTime * this.idleShakeRate) * 3.0;
                    this.driveNoiseDelta += (deltaTime * BABYLON.Scalar.Lerp(this.lowSpeedScale, this.highSpeedScale, this.gradientSpeed)) * 3.0;
                    const movementSpeed = Math.abs(currentSpeed);
                    if (movementSpeed >= 1) {
                        if (movementSpeed >= this.speedThreashold && this.handBraking === false) {
                            if (this.lowForwardNoise > 0 || this.highForwardNoise > 0) {
                                const forwardNoiseIntensity = BABYLON.Scalar.Lerp(this.lowForwardNoise, this.highForwardNoise, this.gradientSpeed);
                                this.currentPitch += (PROJECT.StandardCarController.SimplexNoise2D(this.driveNoiseDelta, 0) * forwardNoiseIntensity * 0.065) * this.roadSurfaceFactor;
                            }
                            if (this.lowLateralNoise > 0 || this.highLateralNoise > 0) {
                                const laterialNoiseIntensity = BABYLON.Scalar.Lerp(this.lowLateralNoise, this.highLateralNoise, this.gradientSpeed);
                                this.currentRoll += (PROJECT.StandardCarController.SimplexNoise2D(this.driveNoiseDelta, 1) * laterialNoiseIntensity * 0.065) * this.roadSurfaceFactor;
                            }
                        }
                    }
                    else if (this.idleShakeNoise > 0) {
                        this.currentPitch += (PROJECT.StandardCarController.SimplexNoise2D(this.idleNoiseDelta, 0) * this.idleShakeNoise * 0.065);
                        this.currentRoll += (PROJECT.StandardCarController.SimplexNoise2D(this.idleNoiseDelta, 1) * this.idleShakeNoise * 0.065);
                    }
                }
                // Apply the calculated pitch and roll to the vehicle's mesh for visual effect
                // WM.PrintToScreen("CHECK - Pitch: " + this.currentPitch.toFixed(2) + " Roll: " + this.currentRoll.toFixed(2) + " Speed Change: " + speedChange.toFixed(2), "white");
                if (this.chassisTransform != null && this.chassisTransform.rotationQuaternion != null) {
                    this.chassisTransform.rotationQuaternion.toEulerAnglesToRef(this.tiltChassisEulers);
                    const tiltAngleX = BABYLON.Scalar.Lerp(this.tiltChassisEulers.x, this.currentPitch, (this.lerpForwardFactor * deltaTime));
                    const tiltAngleZ = BABYLON.Scalar.Lerp(this.tiltChassisEulers.z, this.currentRoll, (this.lerpLateralFactor * deltaTime));
                    // WM.PrintToScreen("Sync Pitch: " + tiltAngleX.toFixed(2) + " Roll: " + tiltAngleZ.toFixed(2) + " Speed Change: " + speedChange.toFixed(2), "white");
                    BABYLON.Quaternion.FromEulerAnglesToRef(tiltAngleX, this.tiltChassisEulers.y, tiltAngleZ, this.chassisTransform.rotationQuaternion);
                }
                // Update the previous speed for the next frame
                this.previousSpeed = currentSpeed;
            }
        }
        writeTransformMetadata() {
            if (this.transform.metadata == null)
                this.transform.metadata = {};
            if (this.transform.metadata.car == null)
                this.transform.metadata.car = {};
            // ..
            // Update Transform Node Metadata
            // ..
            this.transform.metadata.car.forwardSpeed = this.forwardSpeed;
            this.transform.metadata.car.reversePower = this.maxReversePower;
            this.transform.metadata.car.americanSpeed = this.americanSpeed;
            this.transform.metadata.car.gradientSpeed = this.gradientSpeed;
            this.transform.metadata.car.currentForward = this.currentForward;
            this.transform.metadata.car.linearVelocity = this.getLinearVelocity().length();
            this.transform.metadata.car.normalizedSpeed = this.getNormalizedSpeed();
        }
        getVehicleEngineTorque(rpm, power) {
            let result = 0;
            if (this.engineTorqueCurve != null) {
                result = (BABYLON.Toolkit.Utilities.SampleAnimationFloat(this.engineTorqueCurve, BABYLON.Scalar.Clamp(rpm, this.MIN_RPM, this.MAX_RPM), BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE, false) * power);
            }
            return result;
        }
        createSmokeParticleSystem(name, emitter) {
            const result = new BABYLON.ParticleSystem(name, 10000, this.scene);
            result.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD;
            result.renderingGroupId = BABYLON.Toolkit.Utilities.DefaultRenderGroup();
            result.particleTexture = this.smokeTexture;
            result.emitter = emitter;
            result.emitRate = 0;
            result.updateSpeed = 0.01;
            // change size and speed
            result.minSize = 0.2;
            result.maxSize = 1.3;
            result.minAngularSpeed = -1.5;
            result.maxAngularSpeed = 1.5;
            // changed lifetime to control shape of the cloud in conjunction with velocity gradient
            result.minLifeTime = 3.0;
            result.maxLifeTime = 5.0;
            // adding velocity over time to prevent large bloom of particles by launching them fast and then slowing them down GPU particles don't take a gradient on velocity, but the reduction in velocity over time is worth the trade off for less randomization
            result.addVelocityGradient(0, 1);
            result.addVelocityGradient(0.1, 0.7);
            result.addVelocityGradient(0.7, 0.2);
            result.addVelocityGradient(1.0, 0.05);
            // reduced the emit rate to reduce bloom of particles in the center of mass
            result.gravity = new BABYLON.Vector3(0, -0.1, 0);
            result.minEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.maxEmitBox = new BABYLON.Vector3(0, -0.25, 0);
            result.direction1 = new BABYLON.Vector3(-1, -1, -1);
            result.direction2 = new BABYLON.Vector3(1, 1, 1);
            // The color1, color2, colorDead pattern is overridden by color gradient so is unnecessary
            result.color1 = new BABYLON.Color4(0.95, 0.95, 0.95, this.smokeOpacity);
            result.color2 = new BABYLON.Color4(0.85, 0.85, 0.85, this.smokeOpacity);
            result.colorDead = new BABYLON.Color4(0.9, 0.9, 0.9, (this.smokeOpacity * 0.5));
            // Changed the color gradient to add a second value for randomization and ramped the color down further to create more texture with alpha blending
            //result.addColorGradient(0.0, new BABYLON.Color4(1, 1, 1, 0.0), new BABYLON.Color4(0.7, 0.7, 0.7, 0.0));
            //result.addColorGradient(0.2, new BABYLON.Color4(0.7, 0.7, 0.7, 0.2), new BABYLON.Color4(0.6, 0.6, 0.6, 0.2));
            //result.addColorGradient(0.6, new BABYLON.Color4(0.6, 0.6, 0.6, 0.1),new BABYLON.Color4(0.4, 0.4, 0.4, 0.1));
            //result.addColorGradient(1.0, new BABYLON.Color4(0.3, 0.3, 0.3, 0.0),new BABYLON.Color4(0.1, 0.1, 0.1, 0.0));            
            return result;
        }
        updateCurrentSkidInfo(wheel) {
            return BABYLON.Scalar.Clamp((1 - wheel.skidInfo));
        }
        updateCurrentBrakeDamping(linear, angular, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationLinearDamping = (linear + totalWheelDampener);
            let destinationAngularDamping = angular;
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentLinearDamping = this.transform.physicsBody.getLinearDamping();
                let currentAngularDamping = this.transform.physicsBody.getAngularDamping();
                let smoothedLinearDamping = BABYLON.Scalar.Lerp(currentLinearDamping, destinationLinearDamping, lerp);
                let smoothedAngularDamping = BABYLON.Scalar.Lerp(currentAngularDamping, destinationAngularDamping, lerp);
                this.transform.physicsBody.setLinearDamping(smoothedLinearDamping);
                this.transform.physicsBody.setAngularDamping(smoothedAngularDamping);
            }
            else {
                this.transform.physicsBody.setLinearDamping(destinationLinearDamping);
                this.transform.physicsBody.setAngularDamping(destinationAngularDamping);
            }
        }
        updateLinearBrakeDamping(linear, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationLinearDamping = (linear + totalWheelDampener);
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentLinearDamping = this.transform.physicsBody.getLinearDamping();
                let smoothedLinearDamping = BABYLON.Scalar.Lerp(currentLinearDamping, destinationLinearDamping, lerp);
                this.transform.physicsBody.setLinearDamping(smoothedLinearDamping);
            }
            else {
                this.transform.physicsBody.setLinearDamping(destinationLinearDamping);
            }
        }
        updateAngularBrakeDamping(angular, lerp = 1.0) {
            let totalWheelDampener = 0;
            let destinationAngularDamping = angular;
            if (this.americanSpeed >= this.minPenaltySpeed && this.linearWheelDrag > 0) {
                if (this.frontLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.frontRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearLeftContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
                if (this.rearRightContactTag === this.penaltyGroundTag)
                    totalWheelDampener += this.linearWheelDrag;
            }
            if (lerp < 1.0) {
                let currentAngularDamping = this.transform.physicsBody.getAngularDamping();
                let smoothedAngularDamping = BABYLON.Scalar.Lerp(currentAngularDamping, destinationAngularDamping, lerp);
                this.transform.physicsBody.setAngularDamping(smoothedAngularDamping);
            }
            else {
                this.transform.physicsBody.setAngularDamping(destinationAngularDamping);
            }
        }
        updateCurrentRotationDelta(delta) {
            if (this.m_frontLeftWheel != null)
                this.m_frontLeftWheel.deltaRotation = delta;
            if (this.m_frontRightWheel != null)
                this.m_frontRightWheel.deltaRotation = delta;
            if (this.m_backLeftWheel != null)
                this.m_backLeftWheel.deltaRotation = delta;
            if (this.m_backRightWheel != null)
                this.m_backRightWheel.deltaRotation = delta;
        }
        updateCurrentRotationBoost(boost) {
            if (this.wheelDriveType === 1 || this.wheelDriveType === 2) { // FRONT OR ALL WHEEL DRIVE
                if (this.m_frontLeftWheel != null)
                    this.m_frontLeftWheel.rotationBoost = boost;
                if (this.m_frontRightWheel != null)
                    this.m_frontRightWheel.rotationBoost = boost;
            }
            if (this.wheelDriveType === 0 || this.wheelDriveType === 2) { // REAR OR ALL WHEEL DRIVE
                if (this.m_backLeftWheel != null)
                    this.m_backLeftWheel.rotationBoost = boost;
                if (this.m_backRightWheel != null)
                    this.m_backRightWheel.rotationBoost = boost;
            }
        }
        updateCurrentFrictionSlip(lerpSpeed) {
            if (this.m_frontLeftWheel != null && this.m_frontLeftWheel.defaultFriction != null) {
                let frontLeftFriction = this.m_frontLeftWheel.frictionSlip;
                if (frontLeftFriction < (this.m_frontLeftWheel.defaultFriction - 0.1)) {
                    this.frontLeftFrictionLerping = true;
                    frontLeftFriction = BABYLON.Scalar.Lerp(frontLeftFriction, this.m_frontLeftWheel.defaultFriction, (this.frontLeftFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_frontLeftWheel.frictionSlip = frontLeftFriction;
                }
                else {
                    this.frontLeftFrictionPenalty = false;
                    this.frontLeftFrictionLerping = false;
                    this.m_frontLeftWheel.frictionSlip = this.m_frontLeftWheel.defaultFriction;
                }
            }
            if (this.m_frontRightWheel != null && this.m_frontRightWheel.defaultFriction != null) {
                let frontRightFriction = this.m_frontRightWheel.frictionSlip;
                if (frontRightFriction < (this.m_frontRightWheel.defaultFriction - 0.1)) {
                    this.frontRightFrictionLerping = true;
                    frontRightFriction = BABYLON.Scalar.Lerp(frontRightFriction, this.m_frontRightWheel.defaultFriction, (this.frontRightFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_frontRightWheel.frictionSlip = frontRightFriction;
                }
                else {
                    this.frontRightFrictionPenalty = false;
                    this.frontRightFrictionLerping = false;
                    this.m_frontRightWheel.frictionSlip = this.m_frontRightWheel.defaultFriction;
                }
            }
            if (this.m_backLeftWheel != null && this.m_backLeftWheel.defaultFriction != null) {
                let backLeftFriction = this.m_backLeftWheel.frictionSlip;
                if (backLeftFriction < (this.m_backLeftWheel.defaultFriction - 0.1)) {
                    this.rearLeftFrictionLerping = true;
                    backLeftFriction = BABYLON.Scalar.Lerp(backLeftFriction, this.m_backLeftWheel.defaultFriction, (this.rearLeftFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_backLeftWheel.frictionSlip = backLeftFriction;
                }
                else {
                    this.rearLeftFrictionPenalty = false;
                    this.rearLeftFrictionLerping = false;
                    this.m_backLeftWheel.frictionSlip = this.m_backLeftWheel.defaultFriction;
                }
            }
            if (this.m_backRightWheel != null && this.m_backRightWheel.defaultFriction != null) {
                let backRightFriction = this.m_backRightWheel.frictionSlip;
                if (backRightFriction < (this.m_backRightWheel.defaultFriction - 0.1)) {
                    backRightFriction = BABYLON.Scalar.Lerp(backRightFriction, this.m_backRightWheel.defaultFriction, (this.rearRightFrictionPenalty === true) ? (lerpSpeed * 3.0) : lerpSpeed);
                    this.m_backRightWheel.frictionSlip = backRightFriction;
                }
                else {
                    this.rearRightFrictionPenalty = false;
                    this.rearRightFrictionLerping = false;
                    this.m_backRightWheel.frictionSlip = this.m_backRightWheel.defaultFriction;
                }
            }
        }
        getFrontLeftWheelContact() { return this.frontLeftContact; }
        getFrontRightWheelContact() { return this.frontRightContact; }
        getRearLeftWheelContact() { return this.rearLeftContact; }
        getRearRightWheelContact() { return this.rearRightContact; }
        getFrontLeftWheelContactTag() { return this.frontLeftContactTag; }
        getFrontRightWheelContactTag() { return this.frontRightContactTag; }
        getRearLeftWheelContactTag() { return this.rearLeftContactTag; }
        getRearRightWheelContactTag() { return this.rearRightContactTag; }
        getFrontLeftWheelContactPoint() { return this.frontLeftContactPoint; }
        getFrontRightWheelContactPoint() { return this.frontRightContactPoint; }
        getRearLeftWheelContactPoint() { return this.rearLeftContactPoint; }
        getRearRightWheelContactPoint() { return this.rearRightContactPoint; }
        getFrontLeftWheelContactNormal() { return this.frontLeftContactNormal; }
        getFrontRightWheelContactNormal() { return this.frontRightContactNormal; }
        getRearLeftWheelContactNormal() { return this.rearLeftContactNormal; }
        getRearRightWheelContactNormal() { return this.rearRightContactNormal; }
        castWheelContactRays() {
            if (this.transform.physicsBody == null)
                return;
            let raycast = this.wheelContactRaycastResult;
            this.frontLeftContact = false;
            this.frontRightContact = false;
            this.rearLeftContact = false;
            this.rearRightContact = false;
            this.frontLeftContactTag = "";
            this.frontRightContactTag = "";
            this.rearLeftContactTag = "";
            this.rearRightContactTag = "";
            this.frontLeftContactPoint.set(0, 0, 0);
            this.frontRightContactPoint.set(0, 0, 0);
            this.rearLeftContactPoint.set(0, 0, 0);
            this.rearRightContactPoint.set(0, 0, 0);
            this.frontLeftContactNormal.set(0, 0, 0);
            this.frontRightContactNormal.set(0, 0, 0);
            this.rearLeftContactNormal.set(0, 0, 0);
            this.rearRightContactNormal.set(0, 0, 0);
            // ..
            // Front Left Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Left Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.startRaycastPosition, this.endRaycastPosition, raycast);
            if (raycast != null && raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                this.frontLeftContact = true;
                this.frontLeftContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                this.frontLeftContactPoint.copyFrom(raycast.hitPoint);
                this.frontLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Left Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.frontLeftSensorLine == null)
                    this.frontLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".FrontLeftSensorLine", this.scene);
                if (this.frontLeftContact === true) {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Front Right Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.frontRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Front Right Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.startRaycastPosition, this.endRaycastPosition, raycast);
            if (raycast != null && raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                this.frontRightContact = true;
                this.frontRightContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                this.frontRightContactPoint.copyFrom(raycast.hitPoint);
                this.frontRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Front Right Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.frontRightSensorLine == null)
                    this.frontRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".FrontRightSensorLine", this.scene);
                if (this.frontRightContact === true) {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.frontRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Left Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backLeftWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Left Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.startRaycastPosition, this.endRaycastPosition, raycast);
            if (raycast != null && raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                this.rearLeftContact = true;
                this.rearLeftContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                this.rearLeftContactPoint.copyFrom(raycast.hitPoint);
                this.rearLeftContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Left Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.rearLeftSensorLine == null)
                    this.rearLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".RearLeftSensorLine", this.scene);
                if (this.rearLeftContact === true) {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearLeftSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
            // ..
            // Rear Right Raycast Positions
            // ..
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.startRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.backRightWheelMesh, this.endRaycastPosition, this.downDirection.scale(this.downDistance));
            this.startRaycastPosition.addInPlace(this.m_velocityOffset);
            this.endRaycastPosition.addInPlace(this.m_velocityOffset);
            // Rear Right Physics Raycast
            // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startRaycastPosition, this.downDirection, this.downDistance);
            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.startRaycastPosition, this.endRaycastPosition, raycast);
            if (raycast != null && raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                this.rearRightContact = true;
                this.rearRightContactTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                this.rearRightContactPoint.copyFrom(raycast.hitPoint);
                this.rearRightContactNormal.copyFrom(raycast.hitNormal);
            }
            // Rear Right Draw Debug Lines
            if (this.showSensorLines === true) {
                if (this.rearRightSensorLine == null)
                    this.rearRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".RearRightSensorLine", this.scene);
                if (this.rearRightContact === true) {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, raycast.hitPoint], BABYLON.Color3.Yellow());
                }
                else {
                    this.rearRightSensorLine.drawLine([this.startRaycastPosition, this.endRaycastPosition], BABYLON.Color3.Blue());
                }
            }
        }
    }
    StandardCarController.DEFAULT_SKID_FACTOR = 1.0;
    StandardCarController.DEFAULT_PITCH_FACTOR = 1.0;
    StandardCarController.DEFAULT_SPEED_FACTOR = 1.0;
    StandardCarController.DEFAULT_DONUT_FACTOR = 1.0;
    StandardCarController.SimplexNoise2D = SIMPLEX.createNoise2D();
    PROJECT.StandardCarController = StandardCarController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class VehicleCameraManager
    */
    class VehicleCameraManager extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.enableCamera = false;
            this.followTarget = false;
            this.followHeight = 1.25;
            this.pitchingAngle = 0.0;
            this.rotationDamping = 5.0;
            this.minimumDistance = 4.0;
            this.maximumDistance = 5.0;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = BABYLON.Toolkit.UserInputKey.P;
            this.tickRemoteEntities = false;
            this.fastMotionBlur = false;
            this.lowSpeedBlurring = 0.0;
            this.highSpeedBlurring = 20.0;
            this.motionBlurSamples = 32;
            this.isObjectBasedBlur = true;
            this.fastCameraShake = false;
            this.lowSpeedShaking = 1.0;
            this.highSpeedShaking = 1.0;
            this.firstPerson = false;
            this.cameraPivot = null;
            this.targetEulers = BABYLON.Vector3.Zero();
            this.cameraRotation = BABYLON.Quaternion.Zero();
            this.cameraPivotOffset = BABYLON.Vector3.Zero();
            this.autoAttachCamera = false;
            this.motionBlurAttached = false;
            this.m_freeCamera = null;
            this.m_motionBlur = null;
            this.m_cameraTransform = null;
            this.m_inputController = null;
            this.m_standardController = null;
            this.m_firstPersonOffset = new BABYLON.Vector3(0.0, 1.15, 0.15);
        }
        awake() { this.awakeCameraManager(); }
        start() { this.initCameraManager(); }
        late() { this.lateUpdateCameraManager(); }
        destroy() { this.destroyCameraManager(); }
        awakeCameraManager() {
            this.enableCamera = this.getProperty("enableCamera", this.enableCamera);
            this.followTarget = this.getProperty("followTarget", this.followTarget);
            this.followHeight = this.getProperty("followHeight", this.followHeight);
            this.pitchingAngle = this.getProperty("pitchingAngle", this.pitchingAngle);
            this.rotationDamping = this.getProperty("rotationDamping", this.rotationDamping);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.maximumDistance = this.getProperty("maximumDistance", this.maximumDistance);
            this.autoAttachCamera = this.getProperty("attachCamera", this.autoAttachCamera);
            this.tickRemoteEntities = this.getProperty("tickRemoteEntities", this.tickRemoteEntities);
            this.fastMotionBlur = this.getProperty("fastMotionBlur", this.fastMotionBlur);
            this.lowSpeedBlurring = this.getProperty("lowSpeedBlurring", this.lowSpeedBlurring);
            this.highSpeedBlurring = this.getProperty("highSpeedBlurring", this.highSpeedBlurring);
            this.motionBlurSamples = this.getProperty("motionBlurSamples", this.motionBlurSamples);
            this.isObjectBasedBlur = this.getProperty("isObjectBasedBlur", this.isObjectBasedBlur);
            this.fastCameraShake = this.getProperty("fastCameraShake", this.fastCameraShake);
            this.lowSpeedShaking = this.getProperty("lowSpeedShaking", this.lowSpeedShaking);
            this.highSpeedShaking = this.getProperty("highSpeedShaking", this.highSpeedShaking);
            // ..
            // ..
            const firstPersonOffset = this.getProperty("firstPersonOffset");
            if (firstPersonOffset != null)
                this.m_firstPersonOffset = BABYLON.Toolkit.Utilities.ParseVector3(firstPersonOffset);
            if (this.rotationDamping <= 0)
                this.rotationDamping = 1;
        }
        initCameraManager() {
            this.m_standardController = this.getComponent("PROJECT.StandardCarController");
            this.m_inputController = this.getComponent("PROJECT.VehicleInputController");
            if (this.m_inputController != null) {
                BABYLON.Toolkit.InputController.OnKeyboardPress(this.keyboardCamera, () => {
                    //if (this.playerNumber === BABYLON.Toolkit.PlayerNumber.One) {
                    this.togglePlayerCamera();
                    //}
                });
                BABYLON.Toolkit.InputController.OnGamepadButtonPress(this.buttonCamera, () => {
                    this.togglePlayerCamera();
                } /*, this.playerNumber*/);
            }
        }
        lateUpdateCameraManager() {
            if (this.m_cameraTransform == null && this.autoAttachCamera === true) {
                if (this.m_inputController != null)
                    this.attachPlayerCamera(this.m_inputController.playerNumber);
            }
            if (this.firstPerson === true) {
                this.firstPersonCamera();
            }
            else {
                this.thirdPersonCamera();
            }
            // ..
            // Update Motion Blur
            // ..
            if (this.m_freeCamera != null && this.m_motionBlur != null && this.m_standardController != null) {
                if (this.m_standardController.isBoosting()) {
                    if (this.motionBlurAttached === false) {
                        this.m_freeCamera.attachPostProcess(this.m_motionBlur);
                        this.motionBlurAttached = true;
                    }
                    this.m_motionBlur.motionStrength = BABYLON.Scalar.Lerp(this.lowSpeedBlurring, this.highSpeedBlurring, this.m_standardController.getGradientSpeed());
                }
                else {
                    this.m_motionBlur.motionStrength = this.lowSpeedBlurring;
                    if (this.motionBlurAttached === true) {
                        this.m_freeCamera.detachPostProcess(this.m_motionBlur);
                        this.motionBlurAttached = false;
                    }
                }
            }
        }
        destroyCameraManager() {
            this.m_standardController = null;
            this.m_cameraTransform = null;
        }
        //////////////////////////////////////////////////
        // Player Camera Functions //
        //////////////////////////////////////////////////
        attachPlayerCamera(player) {
            if (this.m_cameraTransform == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.m_freeCamera = PROJECT.DefaultCameraSystem.GetMainCamera(this.scene);
                this.m_cameraTransform = PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                if (this.m_cameraTransform != null && this.followTarget === true) {
                    if (this.cameraPivot == null) {
                        this.cameraPivot = new BABYLON.TransformNode(this.transform.name + ".CameraPivot", this.scene);
                        this.cameraPivot.parent = null;
                        this.cameraPivot.position = this.transform.position.clone();
                        this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        // ..
                        // DEBUG: const testPivot:BABYLON.Mesh = BABYLON.Mesh.CreateBox("TestPivot", 0.25, this.scene);
                        // DEBUG: testPivot.parent = this.cameraPivot;
                        // DEBUG: testPivot.position.set(0,0,0);
                        // DEBUG: testPivot.rotationQuaternion = new BABYLON.Quaternion(0,0,0,1);
                    }
                    this.m_cameraTransform.parent = this.cameraPivot;
                    this.m_cameraTransform.position.set(0, 0, 0);
                    this.m_cameraTransform.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                }
                if (this.m_motionBlur == null && this.m_freeCamera != null && this.fastMotionBlur === true) {
                    try {
                        /**
                         * Creates a new instance MotionBlurPostProcess
                         * @param name The name of the effect.
                         * @param scene The scene containing the objects to blur according to their velocity.
                         * @param options The required width/height ratio to downsize to before computing the render pass.
                         * @param camera The camera to apply the render pass to.
                         * @param samplingMode The sampling mode to be used when computing the pass. (default: 0)
                         * @param engine The engine which the post process will be applied. (default: current engine)
                         * @param reusable If the post process can be reused on the same frame. (default: false)
                         * @param textureType Type of textures used when performing the post process. (default: 0)
                         * @param blockCompilation If compilation of the shader should not be done in the constructor. The updateEffect method can be used to compile the shader at a later time. (default: true)
                         * @param forceGeometryBuffer If this post process should use geometry buffer instead of prepass (default: false)
                         */
                        this.m_motionBlur = new BABYLON.MotionBlurPostProcess("FastMotionBlur", this.scene, 1.0, this.m_freeCamera);
                    }
                    catch (e) {
                        console.warn(e);
                    }
                    try {
                        if (this.m_motionBlur != null) {
                            this.m_freeCamera.detachPostProcess(this.m_motionBlur);
                            this.m_motionBlur.isObjectBased = this.isObjectBasedBlur;
                            this.m_motionBlur.motionStrength = this.lowSpeedBlurring;
                            this.m_motionBlur.motionBlurSamples = this.motionBlurSamples;
                            this.motionBlurAttached = false;
                        }
                    }
                    catch (e) {
                        console.warn(e);
                    }
                }
            }
        }
        togglePlayerCamera() {
            this.firstPerson = !this.firstPerson;
        }
        firstPersonCamera() {
            if (this.enableCamera === true && this.m_cameraTransform != null && this.m_standardController != null) {
                if (this.followTarget === true) {
                    if (this.cameraPivot != null) {
                        // ..
                        // Update Position
                        // ..
                        BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position);
                        // ..
                        // Update Rotation
                        // ..
                        this.cameraPivot.rotationQuaternion.copyFrom(this.transform.rotationQuaternion);
                        // ..
                        // Update Camera Boom
                        // ..
                        this.m_cameraTransform.position.copyFrom(this.m_firstPersonOffset);
                        BABYLON.Toolkit.Utilities.FromEulerToRef(0, 0, 0, this.m_cameraTransform.rotationQuaternion);
                    }
                }
                else {
                    this.m_cameraTransform.lookAt(this.transform.position);
                }
            }
        }
        // DEPRECIATED: private smoothDeltaTime:number = 0.0;
        thirdPersonCamera() {
            if (this.enableCamera === true && this.m_cameraTransform != null && this.m_standardController != null) {
                if (this.followTarget === true) {
                    if (this.cameraPivot != null) {
                        const deltaTime = this.getDeltaSeconds();
                        // KEEP FOR REFERECNE
                        // DEPRECIATED: const deltaFactor:number = BABYLON.Toolkit.System.SmoothDeltaFactor;
                        // DEPRECIATED: this.smoothDeltaTime = deltaFactor * deltaTime + (1 - deltaFactor) * this.smoothDeltaTime;
                        // DEPRECIATED: const turnDampener:number = (this.smoothDeltaTime * this.rotationDamping);
                        // ..
                        // Update Position
                        // ..
                        this.cameraPivotOffset.set(0, this.followHeight, 0);
                        BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                        // ..
                        // Update Rotation
                        // ..
                        const turnDampener = (deltaTime * this.rotationDamping);
                        this.transform.rotationQuaternion.toEulerAnglesToRef(this.targetEulers);
                        BABYLON.Quaternion.FromEulerAnglesToRef((this.targetEulers.x + BABYLON.Tools.ToRadians(this.pitchingAngle)), this.targetEulers.y, 0, this.cameraRotation);
                        BABYLON.Quaternion.SlerpToRef(this.cameraPivot.rotationQuaternion, this.cameraRotation, turnDampener, this.cameraPivot.rotationQuaternion);
                        // ..
                        // Update Camera Boom
                        // ..
                        const cameraBoomDistance = BABYLON.Scalar.Lerp(this.minimumDistance, this.maximumDistance, this.m_standardController.getGradientSpeed());
                        this.m_cameraTransform.position.set(0, 0, -cameraBoomDistance);
                    }
                }
                else {
                    this.m_cameraTransform.lookAt(this.transform.position);
                }
            }
        }
    }
    PROJECT.VehicleCameraManager = VehicleCameraManager;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    class VehicleInputController extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.playerDeltaX = 0;
            this.playerDeltaY = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.ackermanRadius = 0.85;
            this.recoveryRadius = 0.25;
            this.waypointPosition = BABYLON.Vector3.Zero();
            this.waypointCount = 0;
            this.waypointIndex = 0;
            this.noMovementTime = 0;
            this.reverseFixMode = false;
            this.recoveryFixMode = false;
            this.nextTargetSpeed = 0;
            this.prevTargetSpeed = 0;
            this.vehicleResetCheck = 0;
            this.randomSkillFactor = 0;
            this.showChaseRabbit = false;
            this.showSensorLines = false;
            this.steeringWheelMode = -1;
            this.rabbitTrackerLine = null;
            this.rabbitTrackerColor = new BABYLON.Color3(1, 1, 1);
            this.greenTrackingColor = new BABYLON.Color3(0, 1, 0);
            this.redTrackingColor = new BABYLON.Color3(1, 0, 0);
            this.localTargetPosition = new BABYLON.Vector3(0, 0, 0);
            this.avoidPositionOffset = new BABYLON.Vector3(0, 0, 0);
            this.avoidanceLerp = 0;
            this.avoidanceTimer = 0;
            this.avoidanceValue = 0;
            this.randomTurning = 0;
            this.randomBoosting = 0;
            this.randomDistance = 0;
            this.lastCheckpoint = -1;
            this.mainCenterSensorLine = null;
            this.mainRightSensorLine = null;
            this.mainLeftSensorLine = null;
            this.angleRightSensorLine = null;
            this.angleLeftSensorLine = null;
            this.sideRightSensorLine = null;
            this.sideLeftSensorLine = null;
            this.backRightSensorLine = null;
            this.backLeftSensorLine = null;
            this.sidewaysOffsetVector = BABYLON.Vector3.Zero();
            this.backBumperEdgeVector = BABYLON.Vector3.Zero();
            this.sensorStartPos = BABYLON.Vector3.Zero();
            this.sensorPointPos = BABYLON.Vector3.Zero();
            this.sensorAnglePos = BABYLON.Vector3.Zero();
            this.rsideStartPos = BABYLON.Vector3.Zero();
            this.rsidePointPos = BABYLON.Vector3.Zero();
            this.lsideStartPos = BABYLON.Vector3.Zero();
            this.lsidePointPos = BABYLON.Vector3.Zero();
            this.tempScaleVector = BABYLON.Vector3.Zero();
            this.rbackStartPos = BABYLON.Vector3.Zero();
            this.rbackPointPos = BABYLON.Vector3.Zero();
            this.lbackStartPos = BABYLON.Vector3.Zero();
            this.lbackPointPos = BABYLON.Vector3.Zero();
            this.trackVehiclePosition = BABYLON.Vector3.Zero();
            this.trackRabbitPosition = BABYLON.Vector3.Zero();
            this.enableInput = false;
            this.resetTiming = 3.0;
            this.playerNumber = BABYLON.Toolkit.PlayerNumber.One;
            this.pedelForward = 7; // Generic Button 7 (Foot Pedal)
            this.triggerForward = BABYLON.Toolkit.Xbox360Trigger.Right;
            this.keyboardForawrd = BABYLON.Toolkit.UserInputKey.W;
            this.auxKeyboardForawrd = BABYLON.Toolkit.UserInputKey.UpArrow;
            this.pedalBackward = 6; // Generic Button 6 (Foot Pedal)
            this.triggerBackwards = BABYLON.Toolkit.Xbox360Trigger.Left;
            this.keyboardBackwards = BABYLON.Toolkit.UserInputKey.S;
            this.auxKeyboardBackwards = BABYLON.Toolkit.UserInputKey.DownArrow;
            this.pedalBooster = 1; // Generic Button 1 (Speed Booster)
            this.keyboardBooster = BABYLON.Toolkit.UserInputKey.Ctrl;
            this.buttonBooster = BABYLON.Xbox360Button.B;
            this.buttonHandbrake = BABYLON.Xbox360Button.X;
            this.keyboardHandbrake = BABYLON.Toolkit.UserInputKey.SpaceBar;
            this.leftWheelHandbrake = 4; // Generic Button 4 (Hand Paddle)
            this.rightWheelHandbrake = 5; // Generic Button 5 (Hand Paddle)
            this.keyboardDonut = BABYLON.Toolkit.UserInputKey.Shift;
            this.leftButtonDonut = BABYLON.Xbox360Button.LB;
            this.rightButtonDonut = BABYLON.Xbox360Button.RB;
            this.leftWheelDonut = 10; // Generic Button 10 (Wheel Button)
            this.rightWheelDonut = 11; // Generic Button 11 (Wheel Button)
            // Auto Pilot Properties
            this.raceLineNode = 0;
            this.minLookAhead = 5;
            this.maxLookAhead = 50;
            this.driverSkillLevel = 1;
            this.chaseRabbitSpeed = 1.0;
            this.throttleSensitivity = 1;
            this.steeringSensitivity = 1;
            this.brakingSensitivity = 1;
            this.brakingTurnAngle = 15;
            this.brakingSpeedLimit = 90;
            this.skiddingSpeedLimit = 100;
            this.linearDampenForce = 0.1;
            this.driveSpeedMultiplier = 5.0;
            this.driveLineDistance = 1.0;
            this.resetMovingTimeout = 3;
            this.reverseThrottleTime = 3;
            this.maxRaceTrackSpeed = 0;
            this.trackManagerIdentity = "TrackManager";
            // Auto Pilot Avoid Sensors
            this.vehicleTag = "Vehicle";
            this.obstacleTag = "Obstacle";
            this.sensorLength = 8;
            this.spacerWidths = 0.85;
            this.angleFactors = 1.5;
            this.initialOffsetX = 1;
            this.initialOffsetY = 0.5;
            this.initialOffsetZ = 2;
            this.sidewaysLength = 1.5;
            this.sidewaysOffset = 0.5;
            this.backBumperEdge = 2.5;
            this.powerBoosting = 0.5;
            this.wonderDistance = 1.0;
            this.avoidanceFactor = 0.5;
            this.avoidanceSpeed = 3.0;
            this.avoidanceTimeout = 3.0;
            this.avoidanceDistance = 2.0;
            // Auto Pilot Reverse Options
            this.reversingFlag = false;
            this.reversingTime = 0.0;
            this.reversingWait = 2.0;
            this.reversingFor = 1.5;
            // Vehicle Drive Properties
            this.m_chasePointMesh = null;
            this.m_chaseRabbitMesh = null;
            this.m_circuitInterfaces = null;
            this.m_circuitRaceLine_1 = null;
            this.m_circuitRaceLine_2 = null;
            this.m_circuitRaceLine_3 = null;
            this.m_circuitRaceLine_4 = null;
            this.m_circuitRaceLine_5 = null;
            this.m_rigidbodyPhysics = null;
            this.m_checkpointManager = null;
            this.m_standardCarController = null;
            this.autoDriveRaycastResult = new BABYLON.PhysicsRaycastResult();
        }
        // Public Properties
        getPlayerDeltaX() { return this.playerDeltaX; }
        ;
        getPlayerDeltaY() { return this.playerDeltaY; }
        ;
        getPlayerMouseX() { return this.playerMouseX; }
        ;
        getPlayerMouseY() { return this.playerMouseY; }
        ;
        getWaypointIndex() { return this.waypointIndex; }
        ;
        getChaseRabbitMesh() { return this.m_chaseRabbitMesh; }
        ;
        resetChaseRabbitMesh() {
            if (this.m_chaseRabbitMesh != null) {
                this.m_chaseRabbitMesh.position = this.transform.position.clone();
                this.m_chaseRabbitMesh.rotationQuaternion = this.transform.rotationQuaternion.clone();
            }
        }
        getChasePointMesh() { return this.m_chasePointMesh; }
        ;
        resetChasePointMesh() {
            if (this.m_chasePointMesh != null) {
                this.m_chasePointMesh.position = this.transform.position.clone();
                this.m_chasePointMesh.rotationQuaternion = this.transform.rotationQuaternion.clone();
            }
        }
        awake() { this.awakeVehicleController(); }
        start() { this.initVehicleController(); }
        update() { this.updateVehicleController(); }
        destroy() { this.destroyVehicleController(); }
        //////////////////////////////////////////////////
        // Protected Character Movement State Functions //
        //////////////////////////////////////////////////
        awakeVehicleController() {
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.resetTiming = this.getProperty("resetTiming", this.resetTiming);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.ackermanRadius = this.getProperty("ackermanRadius", this.ackermanRadius);
            this.recoveryRadius = this.getProperty("recoveryRadius", this.recoveryRadius);
            this.showChaseRabbit = this.getProperty("showChaseRabbit", this.showChaseRabbit);
            this.showSensorLines = this.getProperty("showSensorLines", this.showSensorLines);
            // ..
            this.minLookAhead = this.getProperty("minLookAhead", this.minLookAhead);
            this.maxLookAhead = this.getProperty("maxLookAhead", this.maxLookAhead);
            this.driverSkillLevel = this.getProperty("driverSkillLevel", this.driverSkillLevel);
            this.throttleSensitivity = this.getProperty("throttleSensitivity", this.throttleSensitivity);
            this.steeringSensitivity = this.getProperty("steeringSensitivity", this.steeringSensitivity);
            this.brakingSensitivity = this.getProperty("brakingSensitivity", this.brakingSensitivity);
            this.brakingTurnAngle = this.getProperty("brakingTurnAngle", this.brakingTurnAngle);
            this.brakingSpeedLimit = this.getProperty("brakingSpeedLimit", this.brakingSpeedLimit);
            this.skiddingSpeedLimit = this.getProperty("skiddingSpeedLimit", this.skiddingSpeedLimit);
            this.linearDampenForce = this.getProperty("linearDampenForce", this.linearDampenForce);
            this.resetMovingTimeout = this.getProperty("resetMovingTimeout", this.resetMovingTimeout);
            this.reverseThrottleTime = this.getProperty("reverseThrottleTime", this.reverseThrottleTime);
            this.driveSpeedMultiplier = this.getProperty("driveSpeedMultiplier", this.driveSpeedMultiplier);
            this.driveLineDistance = this.getProperty("driveLineDistance", this.driveLineDistance);
            this.maxRaceTrackSpeed = this.getProperty("maxRaceTrackSpeed", this.maxRaceTrackSpeed);
            this.trackManagerIdentity = this.getProperty("trackManagerIdentity", this.trackManagerIdentity);
            // ..
            this.vehicleTag = this.getProperty("vehicleTag", this.vehicleTag);
            this.obstacleTag = this.getProperty("obstacleTag", this.obstacleTag);
            this.sensorLength = this.getProperty("sensorLength", this.sensorLength);
            this.spacerWidths = this.getProperty("spacerWidths", this.spacerWidths);
            this.angleFactors = this.getProperty("angleFactors", this.angleFactors);
            this.initialOffsetX = this.getProperty("initialOffsetX", this.initialOffsetX);
            this.initialOffsetY = this.getProperty("initialOffsetY", this.initialOffsetY);
            this.initialOffsetZ = this.getProperty("initialOffsetZ", this.initialOffsetZ);
            this.sidewaysLength = this.getProperty("sidewaysLength", this.sidewaysLength);
            this.sidewaysOffset = this.getProperty("sidewaysOffset", this.sidewaysOffset);
            this.backBumperEdge = this.getProperty("backBumperEdge", this.backBumperEdge);
            this.powerBoosting = this.getProperty("powerBoosting", this.powerBoosting);
            this.wonderDistance = this.getProperty("wonderDistance", this.wonderDistance);
            this.avoidanceFactor = this.getProperty("avoidanceFactor", this.avoidanceFactor);
            this.avoidanceSpeed = this.getProperty("avoidanceSpeed", this.avoidanceSpeed);
            this.avoidanceTimeout = this.getProperty("avoidanceTimeout", this.avoidanceTimeout);
            this.avoidanceDistance = this.getProperty("avoidanceDistance", this.avoidanceDistance);
            // ..
            if (this.ackermanRadius <= 0)
                this.ackermanRadius = 1;
            if (this.recoveryRadius <= 0)
                this.recoveryRadius = 1;
            if (this.resetMovingTimeout <= 0)
                this.resetMovingTimeout = 3;
            if (this.reverseThrottleTime <= 0)
                this.reverseThrottleTime = 3;
            if (this.throttleSensitivity <= 0)
                this.throttleSensitivity = 1;
            if (this.steeringSensitivity <= 0)
                this.steeringSensitivity = 1;
            if (this.brakingSensitivity <= 0)
                this.brakingSensitivity = 1;
            if (this.linearDampenForce <= 0)
                this.linearDampenForce = 0.1;
            if (this.angleFactors <= 0)
                this.angleFactors = 1.5;
            if (this.sensorLength <= 0)
                this.sensorLength = 8;
            if (this.sidewaysLength <= 0)
                this.sidewaysLength = 1;
            // ..
            if (this.brakingSpeedLimit <= 0)
                this.brakingSpeedLimit = 40;
            if (this.skiddingSpeedLimit <= 0)
                this.skiddingSpeedLimit = 80;
            if (this.driveSpeedMultiplier <= 1)
                this.driveSpeedMultiplier = 5;
            if (this.trackManagerIdentity == null || this.trackManagerIdentity === "")
                this.trackManagerIdentity = "TrackManager";
            // ..
            const initialRaceLineNode = this.getProperty("initialRaceLineNode", 1);
            this.raceLineNode = (initialRaceLineNode - 1);
            // ..
            const randomizer = this.getRandomNumber(10, 15) * 1000;
            BABYLON.Toolkit.WindowManager.SetInterval(randomizer, () => { this.randomSkillFactor = this.getRandomNumber(1, 20); });
        }
        initVehicleController() {
            this.m_rigidbodyPhysics = this.getComponent("BABYLON.Toolkit.RigidbodyPhysics");
            this.m_checkpointManager = this.getComponent("PROJECT.CheckpointManager");
            if (this.m_rigidbodyPhysics != null) {
                this.m_rigidbodyPhysics.onCollisionEnterObservable.add((mesh) => {
                    const tag = BABYLON.Toolkit.SceneManager.GetTransformTag(mesh);
                    if (tag === this.vehicleTag) {
                        // BABYLON.Toolkit.SceneManager.ConsoleWarn(this.transform.name.toLocaleUpperCase() + " CAR COLLISION ENTER: " + mesh.name + " ---> TAG: " + tag);
                    }
                });
                this.m_rigidbodyPhysics.onCollisionStayObservable.add((mesh) => {
                    if (mesh != null) {
                        const tag = BABYLON.Toolkit.SceneManager.GetTransformTag(mesh);
                        if (tag === this.vehicleTag) {
                            // BABYLON.Toolkit.SceneManager.ConsoleLog(this.transform.name.toLocaleUpperCase() + " CAR COLLISION STAY: " + mesh.name + " ---> TAG: " + tag);
                        }
                    }
                });
                this.m_rigidbodyPhysics.onCollisionExitObservable.add((mesh) => {
                    if (mesh != null) {
                        const tag = BABYLON.Toolkit.SceneManager.GetTransformTag(mesh);
                        if (tag === this.vehicleTag) {
                            // BABYLON.Toolkit.SceneManager.ConsoleWarn(this.transform.name.toLocaleUpperCase() + " CAR COLLISION EXIT: " + mesh.name + " ---> TAG: " + tag);
                        }
                    }
                });
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("Null rigidbody physics for: " + this.transform.name);
            }
            // Get Standard Car Controller
            this.m_standardCarController = this.getComponent("PROJECT.StandardCarController");
            //if (this.m_standardCarController != null) {
            //    this.m_standardCarController.playVehicleSounds = true;
            //} else {
            //    BABYLON.Toolkit.SceneManager.LogWarning("Null standard car controller for: " + this.transform.name);
            //}
            // Get Race Track Manager Waypoints
            const waypointsTransform = BABYLON.Toolkit.SceneManager.GetTransformNode(this.scene, this.trackManagerIdentity);
            if (waypointsTransform != null) {
                const raceTrackManager = BABYLON.Toolkit.SceneManager.FindScriptComponent(waypointsTransform, "PROJECT.RaceTrackManager");
                if (raceTrackManager != null) {
                    this.waypointCount = 0;
                    this.waypointIndex = 0;
                    this.m_circuitInterfaces = raceTrackManager.getTrackNodes();
                    this.m_circuitRaceLine_1 = raceTrackManager.getControlPoints(0);
                    this.m_circuitRaceLine_2 = raceTrackManager.getControlPoints(1);
                    this.m_circuitRaceLine_3 = raceTrackManager.getControlPoints(2);
                    this.m_circuitRaceLine_4 = raceTrackManager.getControlPoints(3);
                    this.m_circuitRaceLine_5 = raceTrackManager.getControlPoints(4);
                    if (this.m_circuitInterfaces != null && this.m_circuitInterfaces.length > 0) {
                        this.waypointCount = this.m_circuitInterfaces.length;
                    }
                }
                else {
                    BABYLON.Toolkit.SceneManager.LogWarning("Fail to locate race track manager for: " + this.transform.name);
                }
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("Fail to locate race track manager '" + this.trackManagerIdentity + "' for: " + this.transform.name);
            }
        }
        updateVehicleController() {
            if (this.enableInput === true) {
                if (this.playerNumber === 0) {
                    this.updateAutoPilotDrive();
                }
                else {
                    this.updateManualInputDrive();
                }
            }
            //////////////////////////////////////////////////////////////////////////////////
            // Validate Vehicle Flipped Upright
            //////////////////////////////////////////////////////////////////////////////////
            if (this.resetTiming > 0 && this.m_standardCarController != null) {
                const gameTime = BABYLON.Toolkit.SceneManager.GetGameTime();
                if (this.transform.up.y > 0.5 || this.m_standardCarController.getAbsoluteSpeed() > 1) {
                    this.vehicleResetCheck = gameTime;
                }
                if (gameTime > (this.vehicleResetCheck + this.resetTiming)) {
                    // FIXME: Reset To Last Check Point
                    this.transform.position.addInPlace(BABYLON.Vector3.Up().scale(0.5));
                    BABYLON.Toolkit.Utilities.LookRotationToRef(this.transform.forward, this.transform.rotationQuaternion);
                }
            }
        }
        updateManualInputDrive() {
            if (this.m_standardCarController != null) {
                this.playerDeltaX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Horizontal, this.playerNumber);
                this.playerDeltaY = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Vertical, this.playerNumber);
                this.playerMouseX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseX, this.playerNumber);
                this.playerMouseY = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseY, this.playerNumber);
                // Get Button Triggers
                const auxForwardKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.auxKeyboardForawrd); // Player One Only
                const forwardKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardForawrd); // Player One Only
                const forwardTrigger = BABYLON.Toolkit.InputController.GetGamepadTriggerInput(this.triggerForward, this.playerNumber);
                const forwardPedal = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.pedelForward, this.playerNumber);
                const auxBackwardKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.auxKeyboardBackwards); // Player One Only
                const backwardKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardBackwards); // Player One Only
                const backwardTrigger = BABYLON.Toolkit.InputController.GetGamepadTriggerInput(this.triggerBackwards, this.playerNumber);
                const backwardPedal = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.pedalBackward, this.playerNumber);
                const boosterPedal = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.pedalBooster, this.playerNumber);
                const boosterKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardBooster); // Player One Only
                const boosterButton = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonBooster, this.playerNumber);
                const handbrakeKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardHandbrake); // Player One Only
                const handbrakeButton = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonHandbrake, this.playerNumber);
                const handbrakeWheel_L = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.leftWheelHandbrake, this.playerNumber);
                const handbrakeWheel_R = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.rightWheelHandbrake, this.playerNumber);
                const donutKeyboard = BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardDonut); // Player One Only
                const donutButton_L = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.leftButtonDonut, this.playerNumber);
                const donutButton_R = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.rightButtonDonut, this.playerNumber);
                const donutWheel_L = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.leftWheelDonut, this.playerNumber);
                const donutWheel_R = BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.rightWheelDonut, this.playerNumber);
                // Reset Player Movement
                let playerMovement = 0;
                let playerSteering = 0;
                let playerHandbrake = false;
                let playerDonuts = false;
                let speedBooster = false;
                let wheelInput = false;
                // Primary Accelerattion
                if (forwardTrigger > 0.2)
                    playerMovement = forwardTrigger;
                else if (forwardPedal === true) {
                    playerMovement = 1;
                    wheelInput = true;
                }
                else if (this.playerNumber === BABYLON.Toolkit.PlayerNumber.One && (forwardKeyboard === true || auxForwardKeyboard === true))
                    playerMovement = 1;
                else if (BABYLON.Toolkit.InputController.AllowMobileControls === true && BABYLON.Toolkit.InputController.MobileControlsActive === true && this.playerDeltaY > 0)
                    playerMovement = this.playerDeltaY; // Mobile Controls
                // Braking Takes Precedence
                if (backwardTrigger > 0.2)
                    playerMovement = -backwardTrigger;
                else if (backwardPedal === true) {
                    playerMovement = -1;
                    wheelInput = true;
                }
                else if (this.playerNumber === BABYLON.Toolkit.PlayerNumber.One && (backwardKeyboard === true || auxBackwardKeyboard === true))
                    playerMovement = -1;
                else if (BABYLON.Toolkit.InputController.AllowMobileControls === true && BABYLON.Toolkit.InputController.MobileControlsActive === true && this.playerDeltaY < 0)
                    playerMovement = this.playerDeltaY; // Mobile Controls
                // Includes AD And Arrow Keys
                playerSteering = this.playerDeltaX;
                // Pull Hard Hand Brake Lever
                playerHandbrake = (handbrakeKeyboard === true || handbrakeButton === true || handbrakeWheel_L === true || handbrakeWheel_R === true);
                // Press Burnout Donut Button
                playerDonuts = (donutKeyboard === true || donutButton_L === true || donutButton_R === true || donutWheel_L === true || donutWheel_R === true);
                // Press Speed Booster Button
                speedBooster = (boosterKeyboard === true || boosterButton === true || boosterPedal === true);
                // Validate Steering Wheel Mode
                if (this.steeringWheelMode === -1 && BABYLON.Toolkit.UserInputOptions.SupportedInputDevices != null && BABYLON.Toolkit.UserInputOptions.SupportedInputDevices.length > 0) {
                    const gamepad = BABYLON.Toolkit.InputController.GetGamepad(this.playerNumber);
                    if (gamepad != null && gamepad.id != null) {
                        let foundSupportedDevice = false;
                        for (let index = 0; index < BABYLON.Toolkit.UserInputOptions.SupportedInputDevices.length; index++) {
                            const wheel = BABYLON.Toolkit.UserInputOptions.SupportedInputDevices[index];
                            if (gamepad.id.toLowerCase().indexOf(wheel.deviceName.toLowerCase()) >= 0) {
                                if (wheel.forwardButton > -1)
                                    this.pedelForward = wheel.forwardButton;
                                if (wheel.backwardButton > -1)
                                    this.pedalBackward = wheel.backwardButton;
                                if (wheel.leftHandBrake > -1)
                                    this.leftWheelHandbrake = wheel.leftHandBrake;
                                if (wheel.rightHandBrake > -1)
                                    this.rightWheelHandbrake = wheel.rightHandBrake;
                                if (wheel.leftDonutBoost > -1)
                                    this.leftWheelDonut = wheel.leftDonutBoost;
                                if (wheel.rightDonutBoost > -1)
                                    this.rightWheelDonut = wheel.rightDonutBoost;
                                foundSupportedDevice = true;
                                console.warn(gamepad.id + " steering wheel controls attached to: " + this.transform.name);
                                break;
                            }
                        }
                        this.steeringWheelMode = (foundSupportedDevice === true) ? 1 : 0;
                    }
                }
                // Drive Standard Car Controller
                this.m_standardCarController.ackermanTurnFactor = (wheelInput === true) ? this.ackermanRadius : 1.0;
                this.m_standardCarController.throttleEngineSpeed = 0;
                this.m_standardCarController.throttleBrakingForce = 0;
                this.m_standardCarController.drive(playerMovement, playerSteering, playerHandbrake, playerDonuts, 0, false, speedBooster);
            }
        }
        updateAutoPilotDrive() {
            if (this.m_standardCarController != null) {
                const gameTime = this.getGameTime();
                const deltaTime = this.getDeltaSeconds();
                const transformPosition = this.transform.getAbsolutePosition();
                this.raceLineNode = BABYLON.Scalar.Clamp(this.raceLineNode, 0, 4);
                if (this.m_chaseRabbitMesh == null) {
                    this.m_chaseRabbitMesh = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".Rabbit", { segments: 24, diameter: 1 }, this.scene);
                    this.m_chaseRabbitMesh.checkCollisions = false;
                    this.m_chaseRabbitMesh.receiveShadows = false;
                    this.m_chaseRabbitMesh.visibility = 1.0;
                    this.m_chaseRabbitMesh.isVisible = false;
                    this.resetChaseRabbitMesh();
                }
                if (this.m_chaseRabbitMesh != null) {
                    if (this.m_chaseRabbitMesh.isVisible === true && this.showChaseRabbit === false) {
                        this.m_chaseRabbitMesh.isVisible = false;
                    }
                    if (this.m_chaseRabbitMesh.isVisible === false && this.showChaseRabbit === true) {
                        this.m_chaseRabbitMesh.isVisible = true;
                    }
                }
                if (this.m_chasePointMesh == null) {
                    this.m_chasePointMesh = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".Point", { size: 0.9 }, this.scene);
                    this.m_chasePointMesh.checkCollisions = false;
                    this.m_chasePointMesh.receiveShadows = false;
                    this.m_chasePointMesh.visibility = 1.0;
                    this.m_chasePointMesh.isVisible = false;
                    this.resetChasePointMesh();
                }
                if (this.m_chasePointMesh != null) {
                    if (this.m_chasePointMesh.isVisible === true && this.showChaseRabbit === false) {
                        this.m_chasePointMesh.isVisible = false;
                    }
                    if (this.m_chasePointMesh.isVisible === false && this.showChaseRabbit === true) {
                        this.m_chasePointMesh.isVisible = true;
                    }
                }
                ////////////////////////////////////////////////////////////////////////////////////////////
                // Update Avoidance Timer
                ////////////////////////////////////////////////////////////////////////////////////////////
                if (this.avoidanceTimer > 0) {
                    this.avoidanceTimer -= deltaTime;
                    if (this.avoidanceTimer <= 0) {
                        this.avoidanceTimer = 0;
                        this.avoidanceValue = 0;
                    }
                }
                ////////////////////////////////////////////////////////////////////////////////////////////
                // Sensor Update System
                ////////////////////////////////////////////////////////////////////////////////////////////
                let tagname = "";
                let contact = false;
                let raycast = this.autoDriveRaycastResult;
                let avoidance = 0;
                this.sidewaysOffsetVector.set(0, 0, -this.sidewaysOffset);
                this.backBumperEdgeVector.set(0, 0, -this.backBumperEdge);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Main Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                this.sensorStartPos.copyFrom(transformPosition);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.sensorStartPos);
                this.transform.forward.scaleAndAddToRef(this.initialOffsetZ, this.sensorStartPos);
                // Setup Main Sensor Point
                this.sensorPointPos.copyFrom(this.sensorStartPos);
                this.transform.forward.scaleAndAddToRef(this.sensorLength, this.sensorPointPos);
                this.sensorAnglePos.copyFrom(this.sensorPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Right Side Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.rsideStartPos, this.sidewaysOffsetVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.rsideStartPos);
                this.transform.right.scaleAndAddToRef(this.initialOffsetX, this.rsideStartPos);
                // Setup Right Side Sensor Point
                this.rsidePointPos.copyFrom(this.rsideStartPos);
                this.transform.right.scaleAndAddToRef(this.sidewaysLength, this.rsidePointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Right Back Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.rbackStartPos, this.backBumperEdgeVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.rbackStartPos);
                this.transform.right.scaleAndAddToRef(this.initialOffsetX, this.rbackStartPos);
                // Setup Right Back Sensor Point
                this.rbackPointPos.copyFrom(this.rbackStartPos);
                this.transform.right.scaleAndAddToRef(this.sidewaysLength, this.rbackPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Left Side Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.lsideStartPos, this.sidewaysOffsetVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.lsideStartPos);
                this.transform.right.scaleAndAddToRef(-this.initialOffsetX, this.lsideStartPos);
                // Setup Left Side Sensor Point
                this.lsidePointPos.copyFrom(this.lsideStartPos);
                this.transform.right.scaleAndAddToRef(-this.sidewaysLength, this.lsidePointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Setup Left Back Sensor Start
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.lbackStartPos, this.backBumperEdgeVector);
                this.transform.up.scaleAndAddToRef(this.initialOffsetY, this.lbackStartPos);
                this.transform.right.scaleAndAddToRef(-this.initialOffsetX, this.lbackStartPos);
                // Setup Left Back Sensor Point
                this.lbackPointPos.copyFrom(this.lbackStartPos);
                this.transform.right.scaleAndAddToRef(-this.sidewaysLength, this.lbackPointPos);
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Save Initial Start Point
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                const firstSensorStartPos = this.sensorStartPos.clone();
                const firstSensorPointPos = this.sensorPointPos.clone();
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let mainRightSensorContact = false;
                this.transform.right.scaleToRef(this.spacerWidths, this.tempScaleVector);
                this.sensorStartPos.addInPlace(this.tempScaleVector);
                this.sensorPointPos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.sensorStartPos, this.sensorPointPos, raycast);
                if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                    tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                    contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                    if (contact === true) {
                        mainRightSensorContact = true;
                        avoidance -= 1.0;
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainRightSensorLine == null)
                        this.mainRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".MainRightSensorLine", this.scene);
                    if (contact === true) {
                        this.mainRightSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainRightSensorLine.drawLine([this.sensorStartPos, this.sensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Angle Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let angleRightSensorContact = false;
                this.transform.right.scaleToRef((this.spacerWidths * 2) * this.angleFactors, this.tempScaleVector);
                this.sensorAnglePos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorAnglePos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.sensorStartPos, this.sensorAnglePos, raycast);
                if (mainRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            angleRightSensorContact = true;
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.angleRightSensorLine == null)
                        this.angleRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".AngleRightSensorLine", this.scene);
                    if (contact === true) {
                        this.angleRightSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.angleRightSensorLine.drawLine([this.sensorStartPos, this.sensorAnglePos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Side Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let sideRightSensorContact = false;
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.rsideStartPos, this.rsidePointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.rsideStartPos, this.rsidePointPos, raycast);
                if (mainRightSensorContact === false && angleRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            sideRightSensorContact = true;
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.sideRightSensorLine == null)
                        this.sideRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".SideRightSensorLine", this.scene);
                    if (contact === true) {
                        this.sideRightSensorLine.drawLine([this.rsideStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.sideRightSensorLine.drawLine([this.rsideStartPos, this.rsidePointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Back Right Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.rbackStartPos, this.rbackPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.rbackStartPos, this.rbackPointPos, raycast);
                if (mainRightSensorContact === false && angleRightSensorContact === false && sideRightSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            avoidance -= 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.backRightSensorLine == null)
                        this.backRightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".BackRightSensorLine", this.scene);
                    if (contact === true) {
                        this.backRightSensorLine.drawLine([this.rbackStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.backRightSensorLine.drawLine([this.rbackStartPos, this.rbackPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let mainLeftSensorContact = false;
                this.transform.right.scaleToRef(-(this.spacerWidths * 2), this.tempScaleVector);
                this.sensorStartPos.addInPlace(this.tempScaleVector);
                this.sensorPointPos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.sensorStartPos, this.sensorPointPos, raycast);
                if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                    tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                    contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                    if (contact === true) {
                        mainLeftSensorContact = true;
                        avoidance += 1.0;
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainLeftSensorLine == null)
                        this.mainLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".MainLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.mainLeftSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainLeftSensorLine.drawLine([this.sensorStartPos, this.sensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Angle Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let angleLeftSensorContact = false;
                this.transform.right.scaleToRef(-(this.spacerWidths * 4) * this.angleFactors, this.tempScaleVector);
                this.sensorAnglePos.addInPlace(this.tempScaleVector);
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.sensorStartPos, this.sensorAnglePos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.sensorStartPos, this.sensorAnglePos, raycast);
                if (mainLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            angleLeftSensorContact = true;
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.angleLeftSensorLine == null)
                        this.angleLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".AngleLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.angleLeftSensorLine.drawLine([this.sensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.angleLeftSensorLine.drawLine([this.sensorStartPos, this.sensorAnglePos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Side Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                let sideLeftSensorContact = false;
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.lsideStartPos, this.lsidePointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.lsideStartPos, this.lsidePointPos, raycast);
                if (mainLeftSensorContact === false && angleLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            sideLeftSensorContact = true;
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.sideLeftSensorLine == null)
                        this.sideLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".SideLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.sideLeftSensorLine.drawLine([this.lsideStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.sideLeftSensorLine.drawLine([this.lsideStartPos, this.lsidePointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Back Left Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, this.lbackStartPos, this.lbackPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.lbackStartPos, this.lbackPointPos, raycast);
                if (mainLeftSensorContact === false && angleLeftSensorContact === false && sideLeftSensorContact === false) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            avoidance += 0.5;
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.backLeftSensorLine == null)
                        this.backLeftSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".BackLeftSensorLine", this.scene);
                    if (contact === true) {
                        this.backLeftSensorLine.drawLine([this.lbackStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.backLeftSensorLine.drawLine([this.lbackStartPos, this.lbackPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // Main Center Line Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                tagname = "";
                contact = false;
                raycast.reset();
                // FIXME: raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycastToPoint(this.scene, firstSensorStartPos, firstSensorPointPos);
                BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(firstSensorStartPos, firstSensorPointPos, raycast);
                if (avoidance === 0) {
                    if (raycast.hasHit === true && raycast.body != null && raycast.body.transformNode != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.body.transformNode);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                            if (raycast.hitNormal.x < 0) {
                                avoidance = -1;
                            }
                            else {
                                avoidance = 1;
                            }
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainCenterSensorLine == null)
                        this.mainCenterSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".MainCenterSensorLine", this.scene);
                    if (contact === true) {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    }
                    else {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, firstSensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                // TODO - Long Range Brake Threat Raycast
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                /*
                tagname = "";
                contact = false;
                raycast = BABYLON.Toolkit.SceneManager.PhysicsRaycastToPoint(this.scene, firstSensorStartPos, firstSensorPointPos);
                if (avoidance === 0) {
                    if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                        tagname = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                        contact = (tagname == this.vehicleTag || tagname === this.obstacleTag);
                        if (contact === true) {
                        }
                    }
                }
                if (this.showSensorLines === true) {
                    if (this.mainCenterSensorLine == null) this.mainCenterSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".MainCenterSensorLine", this.scene);
                    if (contact === true) {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, raycast.hitPoint], BABYLON.Color3.Yellow());
                    } else {
                        this.mainCenterSensorLine.drawLine([firstSensorStartPos, firstSensorPointPos], BABYLON.Color3.Blue());
                    }
                }
                */
                ////////////////////////////////////////////////////////////////////////////////////////////
                const trackNode = this.getCurrentTrackNode(this.waypointIndex);
                const controlPoint = this.getCurrentControlPoint(this.raceLineNode, this.waypointIndex);
                if (this.m_chaseRabbitMesh != null && this.waypointCount > 0 && trackNode != null && controlPoint != null) {
                    this.waypointPosition.set(controlPoint.position.x, controlPoint.position.y, controlPoint.position.z);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const targetSpeed = (controlPoint.speed > 0 ? controlPoint.speed : 100) * this.getDriverSkillFactor();
                    const targetRadius = (trackNode.radius * 1);
                    const distToTarget = BABYLON.Vector3.Distance(this.waypointPosition, transformPosition);
                    if (distToTarget < targetRadius) {
                        if (this.prevTargetSpeed <= 0)
                            this.prevTargetSpeed = targetSpeed;
                        this.nextTargetSpeed = BABYLON.Scalar.Lerp(this.prevTargetSpeed, targetSpeed, (1.0 - (distToTarget / targetRadius)));
                        if (this.showChaseRabbit === true)
                            this.rabbitTrackerColor = this.redTrackingColor;
                    }
                    else {
                        this.nextTargetSpeed = targetSpeed;
                        if (this.showChaseRabbit === true)
                            this.rabbitTrackerColor = this.greenTrackingColor;
                    }
                    const gradientSpeed = this.m_standardCarController.getGradientSpeed();
                    const americanSpeed = this.m_standardCarController.getAmericanSpeed();
                    const isSkidding = this.m_standardCarController.getCurrentSkidding();
                    const lookAhead = BABYLON.Scalar.Lerp(this.minLookAhead, this.maxLookAhead, gradientSpeed);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // TODO - UPDATE CHASE RABBIT - Walk Spline Waypoint Positions - (RaceTrackManager.GetRoadAheadDirection) - ???
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    /* GET ROUT POINT WITH DISTANCE
                    const pointToPointThreshold:number = 6;
                    const targetDelta = this.m_chaseRabbitMesh.position.subtract(transformPosition);
                    const deltaLength:number = targetDelta.length();
                    if (deltaLength < pointToPointThreshold) {
                        this.waypointIndex = (this.waypointIndex + 1) % this.m_circuitInterfaces.length;
                    }
                    // ..
                    this.m_chaseRabbitMesh.position = this.m_circuitInterfaces[this.waypointIndex].localPosition.clone();
                    this.m_chaseRabbitMesh.rotationQuaternion = this.m_circuitInterfaces[this.waypointIndex].localRotation.clone();
                    // ..
                    // get our current progress along the route
                    const progressPoint = this.raceTrackManager.getRoutePoint(this.progressDistance);
                    const aheadPoint = this.raceTrackManager.getRoutePoint(this.progressDistance + 40);
                    // ..
                    this.m_chasePointMesh.position.copyFrom(aheadPoint.position);
                    BABYLON.Toolkit.Utilities.LookRotationToRef(aheadPoint.direction, this.m_chasePointMesh.rotationQuaternion);
                    // ..
                    const progressDelta = progressPoint.position.subtract(transformPosition);
                    if (BABYLON.Vector3.Dot(progressDelta, progressPoint.direction) < 0) {
                        this.progressDistance += progressDelta.length();
                    }
                    UTIL.PrintToScreen("Waypoint: " + this.waypointIndex + " --> Delta Length: " + deltaLength.toFixed(2) + " --> Progress Distance: " + this.progressDistance);
                    */
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // TODO - UPDATE CHASE RABBIT - Walk Spline Waypoint Positions - (RaceTrackManager.GetRoadAheadDirection) - ???
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const rabbitPosition = this.m_chaseRabbitMesh.getAbsolutePosition();
                    const rabbitDistance = BABYLON.Vector3.Distance(transformPosition, rabbitPosition);
                    if (rabbitDistance <= lookAhead) {
                        this.chaseRabbitSpeed = BABYLON.Scalar.Lerp(1.0, this.driveSpeedMultiplier, gradientSpeed);
                        this.m_chaseRabbitMesh.lookAt(this.waypointPosition);
                        this.m_chaseRabbitMesh.translate(BABYLON.Axis.Z, this.chaseRabbitSpeed);
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Avoidance Mode Tracking
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (avoidance !== 0) {
                        this.avoidanceValue = avoidance; // Last Avoidance Value
                        this.avoidanceTimer = this.avoidanceTimeout; // Reset Avoidance Timer
                    }
                    if (this.m_checkpointManager != null) {
                        const currentCheckpoint = this.m_checkpointManager.getCheckPoint();
                        if (currentCheckpoint != this.lastCheckpoint) {
                            this.randomTurning = this.generateRandonNumber(0, 3);
                            if (this.powerBoosting > 0) {
                                this.randomBoosting = this.generateRandonNumber(0, this.powerBoosting);
                            }
                            if (this.wonderDistance > 0) {
                                const minimumVal = this.driveLineDistance;
                                const randomSign = Math.sign(this.generateRandonNumber(-1, 1));
                                this.randomDistance = this.generateRandonNumber(minimumVal, (minimumVal + this.wonderDistance)) * randomSign;
                            }
                            this.lastCheckpoint = currentCheckpoint;
                        }
                    }
                    else {
                        this.randomTurning = 0;
                        this.randomBoosting = 0;
                        this.randomDistance = 0;
                    }
                    let wantedAvoidDistance = (this.avoidanceTimer > 0 && this.avoidanceValue !== 0) ? (this.avoidanceDistance * Math.sign(this.avoidanceValue)) : 0;
                    wantedAvoidDistance += this.randomDistance;
                    this.avoidanceLerp = BABYLON.Scalar.Lerp(this.avoidanceLerp, wantedAvoidDistance, (this.avoidanceSpeed * deltaTime));
                    this.avoidPositionOffset.set(this.avoidanceLerp, 0, 0);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.m_chaseRabbitMesh, this.m_chasePointMesh.position, this.avoidPositionOffset);
                    if (this.showChaseRabbit === true) {
                        this.trackVehiclePosition.set(transformPosition.x, (transformPosition.y + 0.5), transformPosition.z);
                        // DEPRECIATED: this.trackRabbitPosition.set(rabbitPosition.x, (rabbitPosition.y + 0.25), rabbitPosition.z);
                        this.trackRabbitPosition.set(this.m_chasePointMesh.position.x, (this.m_chasePointMesh.position.y + 0.25), this.m_chasePointMesh.position.z);
                        if (this.rabbitTrackerLine == null)
                            this.rabbitTrackerLine = new BABYLON.Toolkit.LinesMeshRenderer((this.transform.name + ".TrackingLine"), this.scene);
                        if (this.rabbitTrackerLine != null)
                            this.rabbitTrackerLine.drawLine([this.trackVehiclePosition, this.trackRabbitPosition], this.rabbitTrackerColor);
                    }
                    // ..
                    // Validate Waypoint Distance
                    // ..
                    const waypointDistance = BABYLON.Vector3.Distance(rabbitPosition, this.waypointPosition);
                    if (waypointDistance <= 5.0) {
                        this.prevTargetSpeed = this.nextTargetSpeed;
                        this.waypointIndex++;
                        if (this.waypointIndex >= this.waypointCount) {
                            this.waypointIndex = 0;
                        }
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // DEPRECIATED: BABYLON.Toolkit.Utilities.InverseTransformPointToRef(this.transform, rabbitPosition, this.localTargetPosition);
                    BABYLON.Toolkit.Utilities.InverseTransformPointToRef(this.transform, this.m_chasePointMesh.position, this.localTargetPosition);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    const localTargetAngle = BABYLON.Tools.ToDegrees(Math.atan2(this.localTargetPosition.x, this.localTargetPosition.z));
                    const cornerAngle = BABYLON.Scalar.Clamp(Math.abs(localTargetAngle), 0, 90);
                    const cornerFactor = (cornerAngle / 90);
                    // ..
                    // Update Vehicle Driving
                    // ..
                    let braking = 0;
                    let slowdown = 0;
                    let boosting = this.randomBoosting;
                    let topspeed = this.maxRaceTrackSpeed;
                    let throttle = (1.0 * this.throttleSensitivity);
                    let steering = BABYLON.Scalar.Clamp(((this.localTargetPosition.x / this.localTargetPosition.length()) * this.steeringSensitivity), -1, 1);
                    if (this.avoidanceFactor > 0 && avoidance !== 0) {
                        const lowSpeedAvoidance = ((avoidance * 0.112) * this.avoidanceFactor);
                        const highSpeedAvoidance = ((avoidance * 0.06) * this.avoidanceFactor);
                        steering += BABYLON.Scalar.Lerp(lowSpeedAvoidance, highSpeedAvoidance, gradientSpeed);
                    }
                    let handbraking = false;
                    if (this.nextTargetSpeed <= 0)
                        this.nextTargetSpeed = targetSpeed;
                    if (americanSpeed > this.nextTargetSpeed) { // Target Speed Throttling
                        slowdown = BABYLON.Scalar.Lerp(0.0, this.linearDampenForce, gradientSpeed);
                        throttle *= 0.2; // Note : 20 Percent Throttle Input
                    }
                    if (this.brakingTurnAngle > 0) { // Corner Angle Foot Braking
                        const checkCornerAngle = (this.brakingTurnAngle - this.randomTurning);
                        if (cornerAngle >= checkCornerAngle && americanSpeed >= this.brakingSpeedLimit) {
                            braking = BABYLON.Scalar.Lerp(0, (1 + gradientSpeed), cornerFactor);
                            slowdown = 0;
                            // ..
                            // Hard Hand Braking (Drifting)
                            // ..
                            const skiddingTriggerSpeed = (isSkidding === true) ? this.brakingSpeedLimit : this.skiddingSpeedLimit;
                            handbraking = (braking > 0 && americanSpeed >= skiddingTriggerSpeed);
                            if (handbraking === true)
                                braking = 1.0; // Note: Use Hand Braking Zone Strength
                        }
                    }
                    if (braking > 0)
                        braking = BABYLON.Scalar.Clamp((braking * this.brakingSensitivity), 0, 1);
                    if (braking > 0)
                        throttle = (-braking);
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Reverse Movement Fix Mode
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (this.reverseFixMode === true) {
                        throttle = -1;
                        boosting = 0;
                        steering = 0;
                        slowdown = 0;
                        handbraking = false;
                    }
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    // Validate No Forward Velocity
                    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (throttle >= 0.1 && americanSpeed < 2.0) {
                        this.noMovementTime += deltaTime;
                    }
                    else {
                        this.noMovementTime = 0;
                    }
                    if (this.noMovementTime >= this.resetMovingTimeout) {
                        this.noMovementTime = 0;
                        this.reverseFixMode = true;
                        this.recoveryFixMode = true;
                        const reverseTime = (this.reverseThrottleTime * 1000);
                        const recoveryTime = ((this.reverseThrottleTime * 1000) * 3.0);
                        BABYLON.Toolkit.WindowManager.SetTimeout(reverseTime, () => { this.reverseFixMode = false; });
                        BABYLON.Toolkit.WindowManager.SetTimeout(recoveryTime, () => { this.recoveryFixMode = false; });
                    }
                    const speedBooster = false; // TODO: Support AI Speed Boosting (NOS)
                    this.m_standardCarController.ackermanTurnFactor = (this.recoveryFixMode === true) ? this.recoveryRadius : 1.0;
                    this.m_standardCarController.throttleEngineSpeed = topspeed;
                    this.m_standardCarController.throttleBrakingForce = slowdown;
                    this.m_standardCarController.drive(throttle, steering, handbraking, false, boosting, true, speedBooster);
                }
            }
        }
        getDriverSkillFactor() {
            let result = 0.60;
            let skill = this.driverSkillLevel;
            if (this.randomSkillFactor >= 18) {
                skill += 2;
            }
            else if (this.randomSkillFactor >= 12) {
                skill += 1;
            }
            skill = BABYLON.Scalar.Clamp(skill, 1, 10);
            // WM.PrintToScreen("Driver Skill Level: " + skill);
            switch (skill) {
                case 10:
                    result = 1.00;
                    break;
                case 9:
                    result = 0.98;
                    break;
                case 8:
                    result = 0.95;
                    break;
                case 7:
                    result = 0.90;
                    break;
                case 6:
                    result = 0.85;
                    break;
                case 5:
                    result = 0.80;
                    break;
                case 4:
                    result = 0.75;
                    break;
                case 3:
                    result = 0.70;
                    break;
                case 2:
                    result = 0.65;
                    break;
                case 1:
                    result = 0.60;
                    break;
            }
            return result;
        }
        getCurrentTrackNode(index) {
            let result = null;
            if (index >= 0 && index < this.waypointCount) {
                result = this.m_circuitInterfaces[index];
            }
            return result;
        }
        getCurrentControlPoint(lane, index) {
            let result = null;
            if (index >= 0 && index < this.waypointCount) {
                switch (lane) {
                    case 0:
                        result = this.m_circuitRaceLine_1[index];
                        break;
                    case 1:
                        result = this.m_circuitRaceLine_2[index];
                        break;
                    case 2:
                        result = this.m_circuitRaceLine_3[index];
                        break;
                    case 3:
                        result = this.m_circuitRaceLine_4[index];
                        break;
                    case 4:
                        result = this.m_circuitRaceLine_5[index];
                        break;
                }
            }
            return result;
        }
        getRandomNumber(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        generateRandonNumber(min, max, decimals = 2) {
            const rand = (Math.random() * (max - min) + min).toFixed(decimals);
            return parseFloat(rand);
        }
        destroyVehicleController() {
            this.m_circuitInterfaces = null;
            this.m_circuitRaceLine_1 = null;
            this.m_circuitRaceLine_2 = null;
            this.m_circuitRaceLine_3 = null;
            this.m_circuitRaceLine_4 = null;
            this.m_circuitRaceLine_5 = null;
            this.m_rigidbodyPhysics = null;
            this.m_standardCarController = null;
            if (this.m_chasePointMesh != null) {
                this.m_chasePointMesh.dispose();
                this.m_chasePointMesh = null;
            }
            if (this.m_chaseRabbitMesh != null) {
                this.m_chaseRabbitMesh.dispose();
                this.m_chaseRabbitMesh = null;
            }
        }
    }
    PROJECT.VehicleInputController = VehicleInputController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class VehicleNetworkLabel
    */
    class VehicleNetworkLabel extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.label = null;
            this.autoCreate = true;
            this.offsetX = 0;
            this.offsetY = 0;
            this.labelColor = new BABYLON.Color3(1.0, 1.0, 1.0);
            this.borderColor = new BABYLON.Color3(0.0, 0.8431373, 0.827451);
            this.backgroundColor = new BABYLON.Color3(0.0, 0.4745098, 0.4666667);
            this.labelCreated = false;
        }
        update() {
            if (this.labelCreated === false && this.autoCreate === true && this.isReady()) {
                if (BABYLON.NetworkManager.HasJoinedRoom()) {
                    const ownerName = BABYLON.Toolkit.EntityController.QueryNetworkAttribute(this.transform, "ownerName");
                    if (ownerName != null && ownerName !== "") {
                        this.autoCreate = false;
                        this.labelCreated = true;
                        this.createLabel(ownerName);
                    }
                }
            }
        }
        createLabel(name) {
            const advancedTexture = BABYLON.Toolkit.SceneManager.GetFullscreenUI(this.scene);
            this.label = new BABYLON.GUI.TextBlock();
            this.label.text = name;
            this.label.color = this.labelColor.toHexString(); // "white";
            this.label.fontSize = 24;
            // ..
            this.rect = new BABYLON.GUI.Rectangle();
            this.rect.width = "200px";
            this.rect.height = "40px";
            this.rect.cornerRadius = 10;
            this.rect.color = this.borderColor.toHexString(); // "#00D7D3";
            this.rect.thickness = 4;
            this.rect.background = this.backgroundColor.toHexString(); // "#007977";
            this.rect.addControl(this.label);
            // ..
            advancedTexture.addControl(this.rect);
            this.rect.linkWithMesh(this.transform);
            this.rect.linkOffsetXInPixels = this.offsetX;
            this.rect.linkOffsetYInPixels = this.offsetY;
            // FIXME: One Of Them Does Not Get The Label Created
            // console.warn("WTF: Owner Name");
            // console.log(name);
        }
        destroy() {
            console.warn("*** GOT DESTROY MESSAGE ***");
            if (this.label != null) {
                this.label.dispose();
                this.label = null;
            }
            if (this.rect != null) {
                this.rect.dispose();
                this.rect = null;
            }
        }
    }
    PROJECT.VehicleNetworkLabel = VehicleNetworkLabel;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit default camera system class
     * @class DefaultCameraSystem - All rights reserved (c) 2020 Mackey Kinard
     * https://doc.babylonjs.com/divingDeeper/postProcesses/defaultRenderingPipeline
     */
    class DefaultCameraSystem extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.mainCamera = false;
            this.cameraType = 0;
            this.cameraInertia = 0.5;
            this.cameraController = null;
            this.immersiveOptions = null;
            this.arcRotateConfig = null;
            this.multiPlayerSetup = null;
            this.fullScreenToggle = 0;
            this.setPointerLock = true;
            this.editorPostProcessing = null;
            this.m_cameraRig = null;
        }
        static GetRenderingPipeline() { return PROJECT.DefaultCameraSystem.renderingPipeline; }
        ;
        static GetScreenSpacePipeline() { return PROJECT.DefaultCameraSystem.screenSpacePipeline; }
        ;
        static IsCameraSystemReady() { return PROJECT.DefaultCameraSystem.cameraReady; }
        isMainCamera() { return this.mainCamera; }
        getCameraType() { return this.cameraType; }
        awake() { this.awakeCameraSystemState(); }
        start() { this.startCameraSystemState(); }
        update() { this.updateCameraSystemState(); }
        destroy() { this.destroyCameraSystemState(); }
        /////////////////////////////////////////////
        // Universal Camera System State Functions //
        /////////////////////////////////////////////
        awakeCameraSystemState() {
            this.mainCamera = (this.getTransformTag() === "MainCamera");
            this.cameraType = this.getProperty("mainCameraType", this.cameraType);
            this.cameraInertia = this.getProperty("setCameraInertia", this.cameraInertia);
            this.fullScreenToggle = this.getProperty("fullScreenToggle", this.fullScreenToggle);
            this.setPointerLock = this.getProperty("setPointerLock", this.setPointerLock);
            this.immersiveOptions = this.getProperty("immersiveOptions", this.immersiveOptions);
            this.arcRotateConfig = this.getProperty("arcRotateConfig", this.arcRotateConfig);
            this.multiPlayerSetup = this.getProperty("multiPlayerSetup", this.multiPlayerSetup);
            this.cameraController = this.getProperty("cameraController", this.cameraController);
            this.editorPostProcessing = this.getProperty("renderingPipeline", this.editorPostProcessing);
            this.cleanCameraSystemState();
            if (this.fullScreenToggle === 0) {
                BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.F, () => {
                    //this.scene.getEngine().enterFullscreen(true);
                    SM.EnterFullscreenMode(this.scene, this.setPointerLock);
                });
            }
        }
        startCameraSystemState() {
            return __awaiter(this, void 0, void 0, function* () {
                BABYLON.Toolkit.Utilities.ValidateTransformQuaternion(this.transform);
                if (this.multiPlayerSetup != null) {
                    PROJECT.DefaultCameraSystem.startupMode = this.multiPlayerSetup.playerStartupMode;
                    PROJECT.DefaultCameraSystem.stereoCameras = this.multiPlayerSetup.stereoSideBySide;
                }
                // ..
                // Default Camera System Support
                // ..
                this.m_cameraRig = this.getCameraRig();
                if (this.m_cameraRig != null) {
                    this.m_cameraRig.inertia = this.cameraInertia;
                    if (this.cameraController != null) {
                        this.m_cameraRig.speed = this.cameraController.cameraSpeed;
                        this.m_cameraRig.inverseRotationSpeed = this.cameraController.invRotationSpeed;
                        if (this.m_cameraRig instanceof BABYLON.UniversalCamera) {
                            this.m_cameraRig.gamepadAngularSensibility = this.cameraController.gamepadRotation;
                            this.m_cameraRig.gamepadMoveSensibility = this.cameraController.gamepadMovement;
                            this.m_cameraRig.touchAngularSensibility = this.cameraController.touchRotation;
                            this.m_cameraRig.touchMoveSensibility = this.cameraController.touchMovement;
                        }
                        if (this.cameraController.keyboardWASD === true) {
                            if (this.m_cameraRig.inputs != null && this.m_cameraRig.inputs.attached != null && this.m_cameraRig.inputs.attached.keyboard != null) {
                                if (this.m_cameraRig.inputs.attached.keyboard instanceof BABYLON.FreeCameraKeyboardMoveInput) {
                                    const cinput = this.m_cameraRig.inputs.attached.keyboard;
                                    cinput.keysUp.push(BABYLON.Toolkit.UserInputKey.W);
                                    cinput.keysLeft.push(BABYLON.Toolkit.UserInputKey.A);
                                    cinput.keysDown.push(BABYLON.Toolkit.UserInputKey.S);
                                    cinput.keysRight.push(BABYLON.Toolkit.UserInputKey.D);
                                    cinput.rotationSpeed = this.cameraController.rotationSpeed;
                                    if (this.cameraController.arrowKeyRotation === true) {
                                        cinput.keysLeft = [BABYLON.Toolkit.UserInputKey.A];
                                        cinput.keysRight = [BABYLON.Toolkit.UserInputKey.D];
                                        cinput.keysRotateLeft = [BABYLON.Toolkit.UserInputKey.LeftArrow];
                                        cinput.keysRotateRight = [BABYLON.Toolkit.UserInputKey.RightArrow];
                                    }
                                }
                            }
                        }
                    }
                    if (this.m_cameraRig.inputs != null && this.m_cameraRig.inputs.attached != null && this.m_cameraRig.inputs.attached.mouse != null) {
                        const mouseInput = this.m_cameraRig.inputs.attached.mouse;
                        // ..
                        // NOTE: Touch Enabled Mouse Hack
                        // ..
                        if (BABYLON.Toolkit.Utilities.HasOwnProperty(mouseInput, "touchEnabled")) {
                            mouseInput.touchEnabled = true;
                        }
                    }
                    if (this.cameraType === 0 || this.cameraType === 4) { // Universal And Free Target Camera
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = this.m_cameraRig;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = this.transform;
                        //}             
                    }
                    else if (this.cameraType === 1 || this.cameraType === 2) { // WebXR Camera Types
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = this.m_cameraRig;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = this.transform;
                        //}             
                        if (this.immersiveOptions != null) {
                            const localStorageRequired = (this.immersiveOptions.localStorageOption === true);
                            if (localStorageRequired === false || (localStorageRequired === true && BABYLON.Toolkit.WindowManager.GetVirtualRealityEnabled())) {
                                let webvrFloorMeshes = null;
                                let webvrHelperOptions = null;
                                let webvrImmersiveMode = (this.cameraType === 1) ? "immersive-ar" : "immersive-vr";
                                let webvrReferenceType = "local-floor";
                                switch (this.immersiveOptions.referenceSpaceType) {
                                    case 0:
                                        webvrReferenceType = "viewer";
                                        break;
                                    case 1:
                                        webvrReferenceType = "local";
                                        break;
                                    case 2:
                                        webvrReferenceType = "local-floor";
                                        break;
                                    case 4:
                                        webvrReferenceType = "unbounded";
                                        break;
                                    default:
                                        webvrReferenceType = "local-floor";
                                        break;
                                }
                                if (this.immersiveOptions.setFloorMeshesTags == null || this.immersiveOptions.setFloorMeshesTags === "")
                                    this.immersiveOptions.setFloorMeshesTags = "Navigation";
                                if (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === true)
                                    webvrFloorMeshes = this.scene.getMeshesByTags(this.immersiveOptions.setFloorMeshesTags);
                                if (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === true && webvrFloorMeshes != null && webvrFloorMeshes.length > 0) {
                                    webvrHelperOptions = {
                                        floorMeshes: webvrFloorMeshes,
                                        optionalFeatures: this.immersiveOptions.optionalFeatures,
                                        useStablePlugins: this.immersiveOptions.useStablePlugins,
                                        renderingGroupId: this.immersiveOptions.renderingGroupNum,
                                        disableDefaultUI: this.immersiveOptions.disableUserInterface,
                                        disableTeleportation: (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === false),
                                        disablePointerSelection: this.immersiveOptions.disablePointerSelect,
                                        ignoreNativeCameraTransformation: this.immersiveOptions.ignoreNativeCamera,
                                        inputOptions: {
                                            doNotLoadControllerMeshes: this.immersiveOptions.experienceInputOptions.disableMeshLoad,
                                            forceInputProfile: this.immersiveOptions.experienceInputOptions.forceInputProfile,
                                            disableOnlineControllerRepository: this.immersiveOptions.experienceInputOptions.disableRepository,
                                            customControllersRepositoryURL: this.immersiveOptions.experienceInputOptions.customRepository,
                                            disableControllerAnimation: this.immersiveOptions.experienceInputOptions.disableModelAnim,
                                            controllerOptions: {
                                                disableMotionControllerAnimation: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlAnim,
                                                doNotLoadControllerMesh: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlMesh,
                                                forceControllerProfile: this.immersiveOptions.experienceInputOptions.controllerOptions.forceCtrlProfile,
                                                renderingGroupId: this.immersiveOptions.experienceInputOptions.controllerOptions.renderingGroup
                                            }
                                        },
                                        uiOptions: {
                                            sessionMode: webvrImmersiveMode,
                                            referenceSpaceType: webvrReferenceType
                                        }
                                    };
                                }
                                else {
                                    webvrHelperOptions = {
                                        optionalFeatures: this.immersiveOptions.optionalFeatures,
                                        useStablePlugins: this.immersiveOptions.useStablePlugins,
                                        renderingGroupId: this.immersiveOptions.renderingGroupNum,
                                        disableDefaultUI: this.immersiveOptions.disableUserInterface,
                                        disableTeleportation: (this.immersiveOptions.defaultTeleportationSetup.useTeleportation === false),
                                        disablePointerSelection: this.immersiveOptions.disablePointerSelect,
                                        ignoreNativeCameraTransformation: this.immersiveOptions.ignoreNativeCamera,
                                        inputOptions: {
                                            doNotLoadControllerMeshes: this.immersiveOptions.experienceInputOptions.disableMeshLoad,
                                            forceInputProfile: this.immersiveOptions.experienceInputOptions.forceInputProfile,
                                            disableOnlineControllerRepository: this.immersiveOptions.experienceInputOptions.disableRepository,
                                            customControllersRepositoryURL: this.immersiveOptions.experienceInputOptions.customRepository,
                                            disableControllerAnimation: this.immersiveOptions.experienceInputOptions.disableModelAnim,
                                            controllerOptions: {
                                                disableMotionControllerAnimation: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlAnim,
                                                doNotLoadControllerMesh: this.immersiveOptions.experienceInputOptions.controllerOptions.disableCtrlMesh,
                                                forceControllerProfile: this.immersiveOptions.experienceInputOptions.controllerOptions.forceCtrlProfile,
                                                renderingGroupId: this.immersiveOptions.renderingGroupNum
                                            }
                                        },
                                        uiOptions: {
                                            sessionMode: webvrImmersiveMode,
                                            referenceSpaceType: webvrReferenceType
                                        }
                                    };
                                }
                                PROJECT.DefaultCameraSystem.XRExperienceHelper = yield this.scene.createDefaultXRExperienceAsync(webvrHelperOptions);
                                if (PROJECT.DefaultCameraSystem.XRExperienceHelper != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience != null) {
                                    if (PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation != null) {
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.rotationAngle = BABYLON.Tools.ToRadians(this.immersiveOptions.defaultTeleportationSetup.turningAxisAngle);
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.rotationEnabled = this.immersiveOptions.defaultTeleportationSetup.rotationsEnabled;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.backwardsMovementEnabled = this.immersiveOptions.defaultTeleportationSetup.backwardsEnabled;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.backwardsTeleportationDistance = this.immersiveOptions.defaultTeleportationSetup.backwardsDistance;
                                        PROJECT.DefaultCameraSystem.XRExperienceHelper.teleportation.parabolicCheckRadius = this.immersiveOptions.defaultTeleportationSetup.parabolicRadius;
                                    }
                                    if (PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable && PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable.hasObservers()) {
                                        PROJECT.DefaultCameraSystem.OnXRExperienceHelperObservable.notifyObservers(PROJECT.DefaultCameraSystem.XRExperienceHelper);
                                    }
                                    if (BABYLON.Toolkit.SceneManager.HasNavigationData()) {
                                        const navmesh = BABYLON.Toolkit.SceneManager.GetNavigationMesh();
                                        PROJECT.DefaultCameraSystem.SetupNavigationWebXR(navmesh, this.immersiveOptions.setFloorMeshesTags);
                                    }
                                    else {
                                        BABYLON.Toolkit.SceneManager.OnNavMeshReadyObservable.addOnce((navmesh) => {
                                            PROJECT.DefaultCameraSystem.SetupNavigationWebXR(navmesh, this.immersiveOptions.setFloorMeshesTags);
                                        });
                                    }
                                }
                                else {
                                    BABYLON.Toolkit.SceneManager.LogWarning("WebXR not supported in current browser.");
                                }
                            }
                        }
                    }
                    else if (this.cameraType === 3) { // Multi Player Camera
                        const cameraName = this.m_cameraRig.name;
                        //if (PROJECT.DefaultCameraSystem.PlayerOneCamera == null) {
                        const playerOneTransform = new BABYLON.TransformNode("Player Camera 1", this.scene);
                        playerOneTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerOneTransform.position = this.transform.position.clone();
                        playerOneTransform.parent = this.transform.parent;
                        // ..
                        const playerOneName = cameraName + ".1";
                        const playerOneCamerax = this.m_cameraRig.clone(playerOneName);
                        playerOneCamerax.name = playerOneName;
                        playerOneCamerax.parent = playerOneTransform;
                        playerOneCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerOneCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerOneCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerOneCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerOneCamera = playerOneCamerax;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.transform = playerOneTransform;
                        playerOneTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerOneCamera;
                        //}             
                        //if (PROJECT.DefaultCameraSystem.PlayerTwoCamera == null) {
                        const playerTwoTransform = new BABYLON.TransformNode("Player Camera 2", this.scene);
                        playerTwoTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerTwoTransform.position = this.transform.position.clone();
                        playerTwoTransform.parent = this.transform.parent;
                        // ..
                        const playerTwoName = cameraName + ".2";
                        const playerTwoCamerax = this.m_cameraRig.clone(playerTwoName);
                        playerTwoCamerax.name = playerTwoName;
                        playerTwoCamerax.parent = playerTwoTransform;
                        playerTwoCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerTwoCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerTwoCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerTwoCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera = playerTwoCamerax;
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform = playerTwoTransform;
                        playerTwoTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerTwoCamera;
                        //}
                        //if (PROJECT.DefaultCameraSystem.PlayerThreeCamera == null) {
                        const playerThreeTransform = new BABYLON.TransformNode("Player Camera 3", this.scene);
                        playerThreeTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerThreeTransform.position = this.transform.position.clone();
                        playerThreeTransform.parent = this.transform.parent;
                        // ..
                        const playerThreeName = cameraName + ".3";
                        const playerThreeCamerax = this.m_cameraRig.clone(playerThreeName);
                        playerThreeCamerax.name = playerThreeName;
                        playerThreeCamerax.parent = playerThreeTransform;
                        playerThreeCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerThreeCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerThreeCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerThreeCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera = playerThreeCamerax;
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform = playerThreeTransform;
                        playerThreeTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerThreeCamera;
                        //}
                        //if (PROJECT.DefaultCameraSystem.PlayerFourCamera == null) {
                        const playerFourTransform = new BABYLON.TransformNode("Player Camera 4", this.scene);
                        playerFourTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                        playerFourTransform.position = this.transform.position.clone();
                        playerFourTransform.parent = this.transform.parent;
                        // ..
                        const playerFourName = cameraName + ".4";
                        const playerFourCamerax = this.m_cameraRig.clone(playerFourName);
                        playerFourCamerax.name = playerFourName;
                        playerFourCamerax.parent = playerFourTransform;
                        playerFourCamerax.position = new BABYLON.Vector3(0, 0, 0);
                        playerFourCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                        playerFourCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        playerFourCamerax.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera = playerFourCamerax;
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.inertia = this.cameraInertia;
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.transform = playerFourTransform;
                        playerFourTransform.cameraRig = PROJECT.DefaultCameraSystem.PlayerFourCamera;
                        //}
                        PROJECT.DefaultCameraSystem.multiPlayerView = true;
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, PROJECT.DefaultCameraSystem.startupMode);
                    }
                    // ..
                    // Validate Camera Attach Control
                    // ..
                    if (this.cameraController.attachControl === true) {
                        this.m_cameraRig.parent = null; // Detach Camera Parent When Attaching Control
                        this.m_cameraRig.position.copyFrom(this.transform.position);
                        this.m_cameraRig.rotationQuaternion = (this.transform.rotationQuaternion != null) ? this.transform.rotationQuaternion.clone() : BABYLON.Quaternion.FromEulerAngles(this.transform.rotation.x, this.transform.rotation.y, this.transform.rotation.z);
                        const children = this.transform.getChildren(null, true);
                        if (children != null) {
                            children.forEach((child) => { child.parent = this.m_cameraRig; });
                        }
                        if (this.m_cameraRig instanceof BABYLON.FreeCamera) { // Note: Check Base Class For Universal Camera
                            this.m_cameraRig.checkCollisions = this.cameraController.checkCollisions;
                            this.m_cameraRig.applyGravity = this.cameraController.setApplyGravity;
                        }
                        this.m_cameraRig.attachControl(this.cameraController.preventDefault);
                    }
                }
                const quality = BABYLON.Toolkit.RenderQuality.High; // FIXME: BABYLON.Toolkit.SceneManager.GetRenderQuality();
                const allowProcessing = (quality === BABYLON.Toolkit.RenderQuality.High);
                //if (PROJECT.DefaultCameraSystem.renderingPipeline == null) {
                if (allowProcessing === true && this.editorPostProcessing != null && this.editorPostProcessing.usePostProcessing === true) {
                    PROJECT.DefaultCameraSystem.renderingPipeline = new BABYLON.DefaultRenderingPipeline("DefaultCameraSystem", this.editorPostProcessing.highDynamicRange, this.scene, this.scene.cameras, true);
                    if (PROJECT.DefaultCameraSystem.renderingPipeline.isSupported === true) {
                        const defaultPipeline = PROJECT.DefaultCameraSystem.renderingPipeline;
                        defaultPipeline.samples = this.editorPostProcessing.screenAntiAliasing.msaaSamples; // 1 by default (MSAA)
                        /* Image Processing */
                        defaultPipeline.imageProcessingEnabled = this.editorPostProcessing.imageProcessingConfig.imageProcessing; //true by default
                        if (defaultPipeline.imageProcessingEnabled) {
                            defaultPipeline.imageProcessing.contrast = this.editorPostProcessing.imageProcessingConfig.imageContrast; // 1 by default
                            defaultPipeline.imageProcessing.exposure = this.editorPostProcessing.imageProcessingConfig.imageExposure; // 1 by default
                            defaultPipeline.imageProcessing.toneMappingEnabled = this.editorPostProcessing.imageProcessingConfig.toneMapping; // false by default
                            defaultPipeline.imageProcessing.toneMappingType = this.editorPostProcessing.imageProcessingConfig.toneMapType; // standard by default
                            defaultPipeline.imageProcessing.vignetteEnabled = this.editorPostProcessing.imageProcessingConfig.vignetteEnabled;
                            if (defaultPipeline.imageProcessing.vignetteEnabled) {
                                defaultPipeline.imageProcessing.vignetteBlendMode = this.editorPostProcessing.imageProcessingConfig.vignetteBlendMode;
                                defaultPipeline.imageProcessing.vignetteCameraFov = this.editorPostProcessing.imageProcessingConfig.vignetteCameraFov;
                                defaultPipeline.imageProcessing.vignetteCentreX = this.editorPostProcessing.imageProcessingConfig.vignetteCentreX;
                                defaultPipeline.imageProcessing.vignetteCentreY = this.editorPostProcessing.imageProcessingConfig.vignetteCentreY;
                                defaultPipeline.imageProcessing.vignetteStretch = this.editorPostProcessing.imageProcessingConfig.vignetteStretch;
                                defaultPipeline.imageProcessing.vignetteWeight = this.editorPostProcessing.imageProcessingConfig.vignetteWeight;
                                if (this.editorPostProcessing.imageProcessingConfig.vignetteColor != null) {
                                    const vcolor = BABYLON.Toolkit.Utilities.ParseColor4(this.editorPostProcessing.imageProcessingConfig.vignetteColor);
                                    if (vcolor != null)
                                        defaultPipeline.imageProcessing.vignetteColor = vcolor;
                                }
                            }
                            /* Color Grading */
                            defaultPipeline.imageProcessing.colorGradingEnabled = this.editorPostProcessing.imageProcessingConfig.useColorGrading; // false by default
                            if (defaultPipeline.imageProcessing.colorGradingEnabled) {
                                // KEEP FOR REFERENCE
                                /* using .3dl (best) : defaultPipeline.imageProcessing.colorGradingTexture = new BABYLON.ColorGradingTexture("textures/LateSunset.3dl", this.scene); */
                                /* using .png :
                                var colorGradingTexture = new BABYLON.Texture("textures/colorGrade-highContrast.png", this.scene, true, false);
                                colorGradingTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                colorGradingTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                defaultPipeline.imageProcessing.colorGradingTexture = colorGradingTexture;
                                defaultPipeline.imageProcessing.colorGradingWithGreenDepth = false; */
                                //////////////////////////////////////////////////////////////////////////
                                if (this.editorPostProcessing.imageProcessingConfig.setGradingTexture != null) {
                                    const colorGradingTexture = BABYLON.Toolkit.Utilities.ParseTexture(this.editorPostProcessing.imageProcessingConfig.setGradingTexture, this.scene, true, false);
                                    colorGradingTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                    colorGradingTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                    defaultPipeline.imageProcessing.colorGradingTexture = colorGradingTexture;
                                    defaultPipeline.imageProcessing.colorGradingWithGreenDepth = false;
                                }
                            }
                            /* Color Curves */
                            defaultPipeline.imageProcessing.colorCurvesEnabled = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.curvesEnabled; // false by default
                            if (defaultPipeline.imageProcessing.colorCurvesEnabled) {
                                var curve = new BABYLON.ColorCurves();
                                curve.globalDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalDen; // 0 by default
                                curve.globalExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalExp; // 0 by default
                                curve.globalHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalHue; // 30 by default
                                curve.globalSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalSat; // 0 by default
                                curve.highlightsDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsDen; // 0 by default
                                curve.highlightsExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsExp; // 0 by default
                                curve.highlightsHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsHue; // 30 by default
                                curve.highlightsSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsSat; // 0 by default
                                curve.midtonesDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesDen; // 0 by default
                                curve.midtonesExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesExp; // 0 by default
                                curve.midtonesHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesHue; // 30 by default
                                curve.midtonesSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesSat; // 0 by default
                                curve.shadowsDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsDen; // 0 by default
                                curve.shadowsExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsExp; // 800 by default
                                curve.shadowsHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsHue; // 30 by default
                                curve.shadowsSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsSat; // 0 by default;
                                defaultPipeline.imageProcessing.colorCurves = curve;
                            }
                        }
                        /* Bloom */
                        defaultPipeline.bloomEnabled = this.editorPostProcessing.bloomEffectProperties.bloomEnabled; // false by default
                        if (defaultPipeline.bloomEnabled) {
                            defaultPipeline.bloomKernel = this.editorPostProcessing.bloomEffectProperties.bloomKernel; // 64 by default
                            defaultPipeline.bloomScale = this.editorPostProcessing.bloomEffectProperties.bloomScale; // 0.5 by default
                            defaultPipeline.bloomWeight = this.editorPostProcessing.bloomEffectProperties.bloomWeight; // 0.15 by default
                            defaultPipeline.bloomThreshold = this.editorPostProcessing.bloomEffectProperties.bloomThreshold; // 0.9 by default
                        }
                        /* Chromatic Abberation */
                        defaultPipeline.chromaticAberrationEnabled = this.editorPostProcessing.chromaticAberration.aberrationEnabled; // false by default
                        if (defaultPipeline.chromaticAberrationEnabled) {
                            defaultPipeline.chromaticAberration.aberrationAmount = this.editorPostProcessing.chromaticAberration.aberrationAmount; // 30 by default
                            defaultPipeline.chromaticAberration.adaptScaleToCurrentViewport = this.editorPostProcessing.chromaticAberration.adaptScaleViewport; // false by default
                            defaultPipeline.chromaticAberration.alphaMode = this.editorPostProcessing.chromaticAberration.alphaMode; // 0 by default
                            defaultPipeline.chromaticAberration.alwaysForcePOT = this.editorPostProcessing.chromaticAberration.alwaysForcePOT; // false by default
                            defaultPipeline.chromaticAberration.enablePixelPerfectMode = this.editorPostProcessing.chromaticAberration.pixelPerfectMode; // false by default
                            defaultPipeline.chromaticAberration.forceFullscreenViewport = this.editorPostProcessing.chromaticAberration.fullscreenViewport; // true by default
                        }
                        /* DOF */
                        defaultPipeline.depthOfFieldEnabled = this.editorPostProcessing.focalDepthOfField.depthOfField; // false by default
                        if (defaultPipeline.depthOfFieldEnabled && defaultPipeline.depthOfField.isSupported) {
                            defaultPipeline.depthOfFieldBlurLevel = this.editorPostProcessing.focalDepthOfField.blurLevel; // 0 by default
                            defaultPipeline.depthOfField.fStop = this.editorPostProcessing.focalDepthOfField.focalStop; // 1.4 by default
                            defaultPipeline.depthOfField.focalLength = this.editorPostProcessing.focalDepthOfField.focalLength; // 50 by default, mm
                            defaultPipeline.depthOfField.focusDistance = this.editorPostProcessing.focalDepthOfField.focusDistance; // 2000 by default, mm
                            defaultPipeline.depthOfField.lensSize = this.editorPostProcessing.focalDepthOfField.maxLensSize; // 50 by default
                        }
                        /* FXAA */
                        defaultPipeline.fxaaEnabled = this.editorPostProcessing.screenAntiAliasing.fxaaEnabled; // false by default
                        if (defaultPipeline.fxaaEnabled) {
                            defaultPipeline.fxaa.samples = this.editorPostProcessing.screenAntiAliasing.fxaaSamples; // 1 by default
                            defaultPipeline.fxaa.adaptScaleToCurrentViewport = this.editorPostProcessing.screenAntiAliasing.fxaaScaling; // false by default
                        }
                        /* GlowLayer */
                        defaultPipeline.glowLayerEnabled = this.editorPostProcessing.glowLayerProperties.glowEnabled;
                        if (defaultPipeline.glowLayerEnabled) {
                            defaultPipeline.glowLayer.intensity = this.editorPostProcessing.glowLayerProperties.glowIntensity; // 1 by default
                            defaultPipeline.glowLayer.blurKernelSize = this.editorPostProcessing.glowLayerProperties.blurKernelSize; // 16 by default
                        }
                        /* Grain */
                        defaultPipeline.grainEnabled = this.editorPostProcessing.grainEffectProperties.grainEnabled;
                        if (defaultPipeline.grainEnabled) {
                            defaultPipeline.grain.animated = this.editorPostProcessing.grainEffectProperties.grainAnimated; // false by default
                            defaultPipeline.grain.intensity = this.editorPostProcessing.grainEffectProperties.grainIntensity; // 30 by default
                            defaultPipeline.grain.adaptScaleToCurrentViewport = this.editorPostProcessing.grainEffectProperties.adaptScaleViewport; // false by default
                        }
                        /* Sharpen */
                        defaultPipeline.sharpenEnabled = this.editorPostProcessing.sharpEffectProperties.sharpenEnabled;
                        if (defaultPipeline.sharpenEnabled) {
                            defaultPipeline.sharpen.edgeAmount = this.editorPostProcessing.sharpEffectProperties.sharpEdgeAmount; // 0.3 by default
                            defaultPipeline.sharpen.colorAmount = this.editorPostProcessing.sharpEffectProperties.sharpColorAmount; // 1 by default
                            defaultPipeline.sharpen.adaptScaleToCurrentViewport = this.editorPostProcessing.sharpEffectProperties.adaptScaleViewport; // false by default
                        }
                    }
                    else {
                        BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js default rendering pipeline not supported");
                    }
                    // ..
                    // Screen Space Ambient Occlusion
                    // ..
                    if (this.editorPostProcessing.screenSpaceRendering != null && this.editorPostProcessing.screenSpaceRendering.SSAO === true) {
                        const ssaoRatio = {
                            ssaoRatio: this.editorPostProcessing.screenSpaceRendering.SSAORatio, // Ratio of the SSAO post-process, in a lower resolution
                            combineRatio: this.editorPostProcessing.screenSpaceRendering.combineRatio // Ratio of the combine post-process (combines the SSAO and the scene)
                        };
                        PROJECT.DefaultCameraSystem.screenSpacePipeline = new BABYLON.SSAORenderingPipeline("DefaultCameraSystem-SSAO", this.scene, ssaoRatio, this.scene.cameras);
                        if (PROJECT.DefaultCameraSystem.screenSpacePipeline.isSupported === true) {
                            const ssaoPipeline = PROJECT.DefaultCameraSystem.screenSpacePipeline;
                            ssaoPipeline.fallOff = this.editorPostProcessing.screenSpaceRendering.fallOff;
                            ssaoPipeline.area = this.editorPostProcessing.screenSpaceRendering.area;
                            ssaoPipeline.radius = this.editorPostProcessing.screenSpaceRendering.radius;
                            ssaoPipeline.totalStrength = this.editorPostProcessing.screenSpaceRendering.totalStrength;
                            ssaoPipeline.base = this.editorPostProcessing.screenSpaceRendering.baseValue;
                        }
                        else {
                            BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js SSAO rendering pipeline not supported");
                        }
                    }
                }
                //}
                PROJECT.DefaultCameraSystem.cameraReady = true;
            });
        }
        updateCameraSystemState() {
            if (this.m_cameraRig != null) {
                if (this.cameraType === 0) { // Default Universal Camera
                }
                else if (this.cameraType === 1) { // Augmented Reality Camera
                }
                else if (this.cameraType === 2) { // Virtual Reality Camera
                }
                else if (this.cameraType === 3) { // Multi Player Camera
                }
            }
        }
        cleanCameraSystemState() {
            if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerOneCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerOneCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerTwoCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerTwoCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerTwoCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerThreeCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerThreeCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerThreeCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                //PROJECT.DefaultCameraSystem.PlayerFourCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerFourCamera = null;
            }
        }
        destroyCameraSystemState() {
            this.immersiveOptions = null;
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera Virtual Reality Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Get the WebXR default experience helper */
        static GetWebXR() { return PROJECT.DefaultCameraSystem.XRExperienceHelper; }
        /** Is universal camera system in WebXR mode */
        static IsInWebXR() { return (PROJECT.DefaultCameraSystem.XRExperienceHelper != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience != null && PROJECT.DefaultCameraSystem.XRExperienceHelper.baseExperience.state === BABYLON.WebXRState.IN_XR); }
        /** Setup navigation mesh for WebXR */
        static SetupNavigationWebXR(mesh, tag) {
            const webxr = PROJECT.DefaultCameraSystem.XRExperienceHelper;
            if (webxr != null && webxr.teleportation != null && mesh != null && tag != null && tag != "") {
                const hastag = BABYLON.Tags.MatchesQuery(mesh, tag);
                if (hastag === true)
                    webxr.teleportation.addFloorMesh(mesh);
            }
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera System Player Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Get main camera rig for the scene */
        static GetMainCamera(scene, detach = false) {
            return PROJECT.DefaultCameraSystem.GetPlayerCamera(scene, BABYLON.Toolkit.PlayerNumber.One, detach);
        }
        /** Get universal camera rig for desired player */
        static GetPlayerCamera(scene, player = BABYLON.Toolkit.PlayerNumber.One, detach = false) {
            let result = null;
            let transform = PROJECT.DefaultCameraSystem.GetCameraTransform(scene, player);
            if (PROJECT.DefaultCameraSystem.IsCameraSystemReady()) {
                if (player === BABYLON.Toolkit.PlayerNumber.One && PROJECT.DefaultCameraSystem.PlayerOneCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerOneCamera;
                else if (player === BABYLON.Toolkit.PlayerNumber.Two && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerTwoCamera;
                else if (player === BABYLON.Toolkit.PlayerNumber.Three && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerThreeCamera;
                else if (player === BABYLON.Toolkit.PlayerNumber.Four && PROJECT.DefaultCameraSystem.PlayerFourCamera != null)
                    result = PROJECT.DefaultCameraSystem.PlayerFourCamera;
                if (result != null && detach === true && parent != null) {
                    result.parent = null;
                    if (transform != null) {
                        result.position.copyFrom(transform.position);
                        result.rotationQuaternion = (transform.rotationQuaternion != null) ? transform.rotationQuaternion.clone() : BABYLON.Quaternion.FromEulerAngles(transform.rotation.x, transform.rotation.y, transform.rotation.z);
                        const children = transform.getChildren(null, true);
                        if (children != null) {
                            children.forEach((child) => { child.parent = result; });
                        }
                    }
                }
            }
            return result;
        }
        /** Get camera transform node for desired player */
        static GetCameraTransform(scene, player = BABYLON.Toolkit.PlayerNumber.One) {
            let result = null;
            if (PROJECT.DefaultCameraSystem.IsCameraSystemReady()) {
                if (player === BABYLON.Toolkit.PlayerNumber.One && PROJECT.DefaultCameraSystem.PlayerOneCamera != null && PROJECT.DefaultCameraSystem.PlayerOneCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerOneCamera.transform;
                else if (player === BABYLON.Toolkit.PlayerNumber.Two && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null && PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerTwoCamera.transform;
                else if (player === BABYLON.Toolkit.PlayerNumber.Three && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null && PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerThreeCamera.transform;
                else if (player === BABYLON.Toolkit.PlayerNumber.Four && PROJECT.DefaultCameraSystem.PlayerFourCamera != null && PROJECT.DefaultCameraSystem.PlayerFourCamera.transform != null)
                    result = PROJECT.DefaultCameraSystem.PlayerFourCamera.transform;
            }
            return result;
        }
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera System Multi Player Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Are stereo side side camera services available. */
        static IsStereoCameras() {
            return PROJECT.DefaultCameraSystem.stereoCameras;
        }
        /** Are local multi player view services available. */
        static IsMultiPlayerView() {
            return PROJECT.DefaultCameraSystem.multiPlayerView;
        }
        /** Get the current local multi player count */
        static GetMultiPlayerCount() {
            return PROJECT.DefaultCameraSystem.multiPlayerCount;
        }
        /** Activates current local multi player cameras. */
        static ActivateMultiPlayerCameras(scene) {
            let result = false;
            if (PROJECT.DefaultCameraSystem.multiPlayerCameras != null && PROJECT.DefaultCameraSystem.multiPlayerCameras.length > 0) {
                scene.activeCameras = PROJECT.DefaultCameraSystem.multiPlayerCameras;
                result = true;
            }
            return result;
        }
        /** Disposes current local multiplayer cameras */
        static DisposeMultiPlayerCameras() {
            if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerOneCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerOneCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerTwoCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerTwoCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerTwoCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerThreeCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerThreeCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerThreeCamera = null;
            }
            if (PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                PROJECT.DefaultCameraSystem.PlayerFourCamera.dispose();
                PROJECT.DefaultCameraSystem.PlayerFourCamera = null;
            }
        }
        /** Sets the multi player camera view layout */
        static SetMultiPlayerViewLayout(scene, totalNumPlayers) {
            let result = false;
            let players = BABYLON.Scalar.Clamp(totalNumPlayers, 1, 4);
            if (PROJECT.DefaultCameraSystem.IsMultiPlayerView()) {
                if (PROJECT.DefaultCameraSystem.PlayerOneCamera != null && PROJECT.DefaultCameraSystem.PlayerTwoCamera != null && PROJECT.DefaultCameraSystem.PlayerThreeCamera != null && PROJECT.DefaultCameraSystem.PlayerFourCamera != null) {
                    PROJECT.DefaultCameraSystem.multiPlayerCameras = [];
                    if (players === 1) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 1, 1);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                    }
                    else if (players === 2) {
                        if (PROJECT.DefaultCameraSystem.stereoCameras === true) {
                            PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 1);
                            PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 1);
                        }
                        else {
                            PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0.5, 1, 0.5);
                            PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 1, 0.5);
                        }
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                    }
                    else if (players === 3) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 1);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0.5, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerThreeCamera);
                    }
                    else if (players === 4) {
                        PROJECT.DefaultCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0.5, 0.5, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerThreeCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 0.5);
                        PROJECT.DefaultCameraSystem.PlayerFourCamera.setEnabled(true);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerOneCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerTwoCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerThreeCamera);
                        PROJECT.DefaultCameraSystem.multiPlayerCameras.push(PROJECT.DefaultCameraSystem.PlayerFourCamera);
                    }
                    else {
                        BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js camera rig invalid player count specified: " + players);
                    }
                }
                else {
                    BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js camera rig failed to initialize multi player cameras");
                }
                PROJECT.DefaultCameraSystem.multiPlayerCount = players;
                result = PROJECT.DefaultCameraSystem.ActivateMultiPlayerCameras(scene);
                if (result === false)
                    BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js camera rig failed to initialize multi player views");
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("Babylon.js camera rig multi player view option not enabled");
            }
            return result;
        }
    }
    DefaultCameraSystem.PlayerOneCamera = null;
    DefaultCameraSystem.PlayerTwoCamera = null;
    DefaultCameraSystem.PlayerThreeCamera = null;
    DefaultCameraSystem.PlayerFourCamera = null;
    DefaultCameraSystem.XRExperienceHelper = null;
    DefaultCameraSystem.multiPlayerView = false;
    DefaultCameraSystem.multiPlayerCount = 1;
    DefaultCameraSystem.multiPlayerCameras = null;
    DefaultCameraSystem.stereoCameras = true;
    DefaultCameraSystem.startupMode = 1;
    DefaultCameraSystem.cameraReady = false;
    DefaultCameraSystem.renderingPipeline = null;
    DefaultCameraSystem.screenSpacePipeline = null;
    /** Register handler that is triggered when the webxr experience helper has been created */
    DefaultCameraSystem.OnXRExperienceHelperObservable = new BABYLON.Observable();
    PROJECT.DefaultCameraSystem = DefaultCameraSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon Script Component
     * @class DebugInformation
     */
    class DebugInformation extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.keys = true;
            this.show = true;
            this.popup = false;
            this.views = false;
            this.xbox = false;
            this.color = BABYLON.Color3.Green();
        }
        awake() {
            this.keys = this.getProperty("enableDebugKeys", this.keys);
            this.show = this.getProperty("showDebugLabels", this.show);
            this.popup = this.getProperty("popupDebugPanel", this.popup);
            this.views = this.getProperty("togglePlayerViews", this.views);
            this.xbox = this.getProperty("allowXboxLiveSignIn", this.xbox);
            // ..
            const debugLabelColor = this.getProperty("debugOutputTextColor");
            if (debugLabelColor != null)
                this.color = BABYLON.Toolkit.Utilities.ParseColor3(debugLabelColor);
            // ..
            if (BABYLON.Toolkit.WindowManager.IsWindows())
                this.popup = false;
            BABYLON.Toolkit.SceneManager.LogMessage("Debug information overlay loaded");
        }
        /*
        var elem = document.documentElement;
        function openFullscreen() {
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            } else if (elem.webkitRequestFullscreen) { // Safari
                elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) { // IE11
                elem.msRequestFullscreen();
            }
        }
        function closeFullscreen() {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) { // Safari
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) { // IE11
                document.msExitFullscreen();
            }
        }
        */
        start() {
            //this.screen = document.getElementById("screen");
            //this.toggle = document.getElementById("toggle");
            //this.signin = document.getElementById("signin");
            //this.reload = document.getElementById("reload");
            //this.mouse = document.getElementById("mouse");
            //this.debug = document.getElementById("debug");
            if (this.show === true) {
                /*
                if (this.keys === true) {
                    if (!BABYLON.Toolkit.SceneManager.IsXboxOne()) {
                        if (this.screen) this.screen.innerHTML = "F - Show Full Screen";
                    }
                    if (BABYLON.CameraSystem.IsMultiPlayerView() && this.views === true) {
                        if (this.toggle) {
                            if (BABYLON.Toolkit.SceneManager.IsXboxOne()) {
                                this.toggle.style.top = "29px";
                            }
                            this.toggle.innerHTML = "1 - 4 Toggle Player View";
                        }
                    }
                    if (BABYLON.Toolkit.SceneManager.IsXboxLivePluginEnabled() && this.xbox === true) {
                        if (this.signin) {
                            if (BABYLON.Toolkit.SceneManager.IsXboxOne()) {
                                this.signin.style.top = "49px";
                            }
                            this.signin.innerHTML = "X - Xbox Live Sign In";
                        }
                    }
                    if (this.mouse) this.mouse.innerHTML = (BABYLON.Toolkit.SceneManager.IsXboxOne()) ? "M - Mouse" : "";
                    if (this.reload) this.reload.innerHTML = "R - Reload";
                    if (this.debug) this.debug.innerHTML = "P - Debug";
                }
                */
            }
            if (this.keys === true) {
                if (this.views === true) {
                    BABYLON.Toolkit.SceneManager.LogMessage("Enable Multiplayer Keys");
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.Num1, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 1);
                        BABYLON.Toolkit.SceneManager.LogMessage("1 player pressed");
                    });
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.Num2, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 2);
                        BABYLON.Toolkit.SceneManager.LogMessage("2 players pressed");
                    });
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.Num3, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 3);
                        BABYLON.Toolkit.SceneManager.LogMessage("3 players pressed");
                    });
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.Num4, () => {
                        PROJECT.DefaultCameraSystem.SetMultiPlayerViewLayout(this.scene, 4);
                        BABYLON.Toolkit.SceneManager.LogMessage("4 players pressed");
                    });
                }
                BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.R, () => {
                    window.location.reload();
                });
                BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.I, () => {
                    if (this.popup === true) {
                        BABYLON.Toolkit.WindowManager.PopupDebug(this.scene);
                    }
                    else {
                        BABYLON.Toolkit.WindowManager.ToggleDebug(this.scene, true, null);
                    }
                });
                BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.F, () => {
                    //BABYLON.Toolkit.SceneManager.ToggleFullscreenMode(this.scene);
                    this.openFullscreen(window.top.document.documentElement);
                });
                /*
                if (BABYLON.Toolkit.SceneManager.IsXboxOne()) {
                    if (navigator.gamepadInputEmulation) {
                        BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.M, ()=>{
                            if (navigator.gamepadInputEmulation !== "mouse") {
                                navigator.gamepadInputEmulation = "mouse";
                            } else {
                                navigator.gamepadInputEmulation = "gamepad";
                            }
                        });
                    }
                } else {
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.F, ()=>{
                        //BABYLON.Tools.RequestFullscreen(document.documentElement);
                        this.scene.getEngine().enterFullscreen(true);
                    });
                }
                if (BABYLON.WindowsPlatform.IsXboxLivePluginEnabled() && this.xbox === true) {
                    BABYLON.Toolkit.InputController.OnKeyboardPress(BABYLON.Toolkit.UserInputKey.X, ()=>{
                        var player:BABYLON.Toolkit.PlayerNumber.One = BABYLON.Toolkit.PlayerNumber.One;
                        if (!BABYLON.WindowsPlatform.IsXboxLiveUserSignedIn(null, player)) {
                            BABYLON.Toolkit.SceneManager.LogMessage("===> Trying Xbox Live Sign In For Player: " + player.toString());
                            BABYLON.WindowsPlatform.XboxLiveUserSignIn(player, (result: Microsoft.Xbox.Services.System.SignInResult) => {
                                var user = BABYLON.WindowsPlatform.GetXboxLiveUser(player);
                                var msg = "(" + user.xboxUserId + ") - " + user.gamertag;
                                BABYLON.Toolkit.SceneManager.AlertMessage(msg, "Xbox Live User Signed In");
                            }, (err)=>{
                                BABYLON.Toolkit.SceneManager.LogMessage(err);
                                var msg:string = "Encountered Sign Error";
                                BABYLON.Toolkit.SceneManager.LogWarning(msg);
                                BABYLON.Toolkit.SceneManager.AlertMessage(msg, "Xbox Live Warning");
                            });
                        } else {
                            BABYLON.Toolkit.SceneManager.LogWarning("Xbox Live User Already Signed In");
                            BABYLON.Toolkit.SceneManager.AlertMessage("User Already Signed In", "Xbox Live Warning");
                        }
                    });
                }
                */
            }
            // Default Print To Screen Text
            var printColor = this.color.toHexString();
            var graphicsVersion = BABYLON.Toolkit.SceneManager.GetEngineVersionString(this.scene);
            BABYLON.Toolkit.WindowManager.PrintToScreen(graphicsVersion, printColor);
        }
        destroy() {
            //this.screen = null;
            //this.toggle = null;
            //this.signin = null;
            //this.reload = null;
            //this.mouse = null;
            //this.debug = null;
        }
        openFullscreen(elem) {
            //if (elem.requestFullscreen) {
            //    elem.requestFullscreen();
            //} else if (elem.webkitRequestFullscreen) { // Safari
            //    elem.webkitRequestFullscreen();
            //} else if (elem.msRequestFullscreen) { // IE11
            //    elem.msRequestFullscreen();
            //}
            DebugInformation._RequestFullscreen(elem);
        }
        closeFullscreen() {
            //if (document.exitFullscreen) {
            //    document.exitFullscreen();
            //} else if ((<any>document).webkitExitFullscreen) { // Safari
            //    (<any>document).webkitExitFullscreen();
            //} else if ((<any>document).msExitFullscreen) { // IE11
            //    (<any>document).msExitFullscreen();
            //}
            DebugInformation._ExitFullscreen();
        }
        /**
         * Ask the browser to promote the current element to fullscreen rendering mode
         * @param element defines the DOM element to promote
         */
        static _RequestFullscreen(element) {
            const requestFunction = element.requestFullscreen || element.webkitRequestFullscreen;
            if (!requestFunction) {
                return;
            }
            requestFunction.call(element);
        }
        /**
         * Asks the browser to exit fullscreen mode
         */
        static _ExitFullscreen() {
            const anyDoc = document;
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
            else if (anyDoc.webkitCancelFullScreen) {
                anyDoc.webkitCancelFullScreen();
            }
        }
    }
    PROJECT.DebugInformation = DebugInformation;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class CustomHtmlMarkup
    */
    class CustomHtmlMarkup extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.styleSheet = null;
            this.htmlMarkup = null;
            this.parentElement = "";
            this.uiParentElement = null;
        }
        awake() {
            const parentName = (this.parentElement != null && this.parentElement !== "" && this.parentElement.toLowerCase() !== "body") ? this.parentElement : this.transform.name.toLowerCase().replaceAll(" ", "-");
            const rootElement = document.getElementById(parentName);
            if (rootElement != null) {
                this.uiParentElement = rootElement;
            }
            else {
                this.uiParentElement = document.createElement("div");
                this.uiParentElement.id = parentName;
                document.body.appendChild(this.uiParentElement);
            }
        }
        start() {
            this.loadStyleSheet();
            this.loadHtmlMarkup();
        }
        destroy() {
            /* Destroy component function */
        }
        loadStyleSheet() {
            if (this.styleSheet != null && this.styleSheet !== "") {
                const style = document.createElement("style");
                style.id = (this.transform.name.toLowerCase().replaceAll(" ", "-") + ".stylesheet");
                style.type = "text/css";
                if (style.styleSheet) { // Note: Internet Explorer Support
                    style.styleSheet.cssText = this.styleSheet;
                }
                else {
                    style.appendChild(document.createTextNode(this.styleSheet));
                }
                document.head.appendChild(style);
            }
            else {
                console.warn("WARNING: Mobile Style Sheet Not Defined For: " + this.transform.name);
            }
        }
        loadHtmlMarkup() {
            if (this.htmlMarkup != null && this.htmlMarkup !== "") {
                this.uiParentElement.innerHTML = this.htmlMarkup;
            }
            else {
                console.warn("WARNING: Mobile Markup File Not Defined For: " + this.transform.name);
            }
        }
    }
    PROJECT.CustomHtmlMarkup = CustomHtmlMarkup;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class UserInterface
    */
    class UserInterface extends BABYLON.Toolkit.ScriptComponent {
        static IsCanvasReady() { return (PROJECT.UserInterface.AdvancedTexture != null); }
        static GetCanvasElement(name) { return (PROJECT.UserInterface.AdvancedTexture != null) ? PROJECT.UserInterface.AdvancedTexture.getControlByName(name) : null; }
        static ShowCanvasElement(element, fadeSpeedRatio = 0.0, onAnimationComplete = null) {
            let result = null;
            if (element != null) {
                if (fadeSpeedRatio > 0) {
                    const alphaStart = element.alpha;
                    const alphaEnd = 1.0;
                    element.isEnabled = true;
                    element.alpha = alphaEnd;
                    if (onAnimationComplete != null)
                        onAnimationComplete();
                    //result = BABYLON.Toolkit.SceneManager.StartTweenAnimation(PROJECT.UserInterface.SceneController, (element.name + "-ShowAlphaTween"), element, "alpha", alphaStart, alphaEnd, fadeSpeedRatio, null, null, null, ()=>{
                    //    element.isEnabled = true;
                    //    if (onAnimationComplete != null) onAnimationComplete();
                    //});
                }
                else {
                    element.isEnabled = true;
                    element.alpha = 1.0;
                }
            }
            return result;
        }
        static HideCanvasElement(element, fadeSpeedRatio = 0.0, onAnimationComplete = null) {
            let result = null;
            if (element != null) {
                if (fadeSpeedRatio > 0) {
                    element.isEnabled = false;
                    const alphaStart = element.alpha;
                    const alphaEnd = 0.0;
                    element.isEnabled = false;
                    element.alpha = alphaEnd;
                    if (onAnimationComplete != null)
                        onAnimationComplete();
                    //result = BABYLON.Toolkit.SceneManager.StartTweenAnimation(PROJECT.UserInterface.SceneController, (element.name + "-HideAlphaTween"), element, "alpha", alphaStart, alphaEnd, fadeSpeedRatio, null, null, null, ()=>{
                    //    if (onAnimationComplete != null) onAnimationComplete();
                    //});
                }
                else {
                    element.isEnabled = false;
                    element.alpha = 0.0;
                }
            }
            return result;
        }
        static SetSceneController(scene) { PROJECT.UserInterface.SceneController = scene; }
        static GetAdvancedTexture() { return PROJECT.UserInterface.AdvancedTexture; }
        static GetBackgroundTexture() { return PROJECT.UserInterface.BackgroundTexture; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.exportLowerCase = false;
            this.backgroundData = null;
            this.textureSampleMode = 2;
            this.idealRenderingSize = 0;
            this.viewportRenderSize = 0;
            this.customViewportSize = new BABYLON.Vector2(1920, 1080);
            this.defaultImageLocation = "scenes/assets/";
            this.defaultImageControl = true;
            this.isManagedTexture = true;
            this.scaleTextureSize = true;
            this.setAdaptiveScale = true;
            this.drawAtIdealSize = true;
            this.useSmallestIdeal = false;
            this.fontFamilyList = null;
            PROJECT.UserInterface.SetSceneController(scene);
            this.attachWebFonts();
        }
        awake() {
            this.setupProperties();
            this.preloadWebFonts();
        }
        start() {
            this.setupInterface();
        }
        destroy() {
            PROJECT.UserInterface.OnFontFacesReady.clear();
            PROJECT.UserInterface.OnFontFacesReady = null;
            PROJECT.UserInterface.OnFontFacesLoaded.clear();
            PROJECT.UserInterface.OnFontFacesLoaded = null;
            PROJECT.UserInterface.OnParseNodeObject.clear();
            PROJECT.UserInterface.OnParseNodeObject = null;
            PROJECT.UserInterface.OnInterfaceLoaded.clear();
            PROJECT.UserInterface.OnInterfaceLoaded = null;
            if (this.isManagedTexture === false && PROJECT.UserInterface.AdvancedTexture != null) {
                PROJECT.UserInterface.AdvancedTexture.dispose();
            }
            PROJECT.UserInterface.AdvancedTexture = null;
            if (PROJECT.UserInterface.BackgroundTexture != null) {
                PROJECT.UserInterface.BackgroundTexture.dispose();
            }
            PROJECT.UserInterface.BackgroundTexture = null;
        }
        engineResize() {
            this.scene.getEngine().resize(true); // Note: Force Initial Resize Content
        }
        setupProperties() {
            if (this.defaultImageLocation != null && this.defaultImageLocation !== "") {
                this.defaultImageLocation = this.defaultImageLocation.trim();
            }
            if (this.defaultImageLocation != null && this.defaultImageLocation !== "" && this.defaultImageLocation.endsWith("/") === false) {
                this.defaultImageLocation = (this.defaultImageLocation + "/");
            }
            if (this.customViewportSize.x <= 0)
                this.customViewportSize.x = 1920;
            if (this.customViewportSize.y <= 0)
                this.customViewportSize.y = 1080;
        }
        setupInterface() {
            let interfaceParsed = null;
            let backgroundParsed = null;
            const interfaceText = this.getProperty("base64UserInterface");
            if (interfaceText != null && interfaceText !== "") {
                const interfaceJson = window.atob(interfaceText);
                if (interfaceJson != null && interfaceJson !== "") {
                    interfaceParsed = JSON.parse(interfaceJson);
                    if (interfaceParsed != null) {
                        if (interfaceParsed.root != null) {
                            this.parseNodeObject(interfaceParsed.root);
                        }
                        let width = (this.viewportRenderSize === 0 && interfaceParsed.width !== null && interfaceParsed.width >= 0) ? interfaceParsed.width : this.customViewportSize.x;
                        let height = (this.viewportRenderSize === 0 && interfaceParsed.height !== null && interfaceParsed.height >= 0) ? interfaceParsed.height : this.customViewportSize.y;
                        if (this.viewportRenderSize === 1) {
                            width = this.scene.getEngine().getRenderingCanvas().width;
                            height = this.scene.getEngine().getRenderingCanvas().height;
                        }
                        // ..
                        // Advanced Texture
                        // ..
                        if (this.isManagedTexture === true) {
                            if (BABYLON.Toolkit.SceneManager.AdvDynamicTexture == null)
                                BABYLON.Toolkit.SceneManager.AdvDynamicTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("Default-Screen-UI", true, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                            PROJECT.UserInterface.AdvancedTexture = BABYLON.Toolkit.SceneManager.AdvDynamicTexture;
                        }
                        else {
                            PROJECT.UserInterface.AdvancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("GUI", true, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                        }
                        if (PROJECT.UserInterface.AdvancedTexture != null) {
                            if (this.idealRenderingSize > 0) {
                                if (this.idealRenderingSize === 1 || this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.idealWidth = width;
                                }
                                if (this.idealRenderingSize === 2 || this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.idealHeight = height;
                                }
                                if (this.idealRenderingSize === 3) {
                                    PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal = this.useSmallestIdeal;
                                }
                                PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize = this.drawAtIdealSize;
                            }
                            else {
                                PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal = false;
                                PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize = false;
                            }
                            if (this.scaleTextureSize === true) {
                                PROJECT.UserInterface.AdvancedTexture.parseSerializedObject(interfaceParsed, false);
                                PROJECT.UserInterface.AdvancedTexture.scaleTo(width, height);
                            }
                            else {
                                PROJECT.UserInterface.AdvancedTexture.parseSerializedObject(interfaceParsed, false);
                            }
                        }
                        // ..
                        // Background Texture
                        // ..
                        if (this.backgroundData != null && this.backgroundData.createBackground === true) {
                            const backgroundText = this.getProperty("base64BackgroundData");
                            if (backgroundText != null && backgroundText !== "") {
                                const backgroundJson = window.atob(backgroundText);
                                if (backgroundJson != null && backgroundJson !== "") {
                                    backgroundParsed = JSON.parse(backgroundJson);
                                    if (backgroundParsed != null) {
                                        if (backgroundParsed.root != null) {
                                            this.parseNodeObject(backgroundParsed.root);
                                        }
                                    }
                                }
                            }
                            PROJECT.UserInterface.BackgroundTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("BACKGROUND", false, this.scene, this.textureSampleMode, this.setAdaptiveScale);
                            if (PROJECT.UserInterface.BackgroundTexture != null) {
                                if (this.backgroundData.scaleToForeground === true) {
                                    if (PROJECT.UserInterface.AdvancedTexture.idealWidth != null) {
                                        PROJECT.UserInterface.BackgroundTexture.idealWidth = PROJECT.UserInterface.AdvancedTexture.idealWidth;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.idealHeight != null) {
                                        PROJECT.UserInterface.BackgroundTexture.idealHeight = PROJECT.UserInterface.AdvancedTexture.idealHeight;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal != null) {
                                        PROJECT.UserInterface.BackgroundTexture.useSmallestIdeal = PROJECT.UserInterface.AdvancedTexture.useSmallestIdeal;
                                    }
                                    if (PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize != null) {
                                        PROJECT.UserInterface.BackgroundTexture.renderAtIdealSize = PROJECT.UserInterface.AdvancedTexture.renderAtIdealSize;
                                    }
                                }
                                else {
                                    PROJECT.UserInterface.BackgroundTexture.useSmallestIdeal = false;
                                    PROJECT.UserInterface.BackgroundTexture.renderAtIdealSize = false;
                                }
                                if (backgroundParsed != null)
                                    PROJECT.UserInterface.BackgroundTexture.parseSerializedObject(backgroundParsed, false);
                                if (this.backgroundData.scaleToForeground === true)
                                    PROJECT.UserInterface.BackgroundTexture.scaleTo(width, height);
                            }
                        }
                    }
                }
            }
            if (PROJECT.UserInterface.OnInterfaceLoaded && PROJECT.UserInterface.OnInterfaceLoaded.hasObservers()) {
                try {
                    PROJECT.UserInterface.OnInterfaceLoaded.notifyObservers(PROJECT.UserInterface.AdvancedTexture);
                }
                catch (error) {
                    console.warn(error.message);
                }
            }
            this.engineResize();
        }
        attachWebFonts() {
            if (PROJECT.UserInterface.FontFacesAttached === false) {
                PROJECT.UserInterface.FontFacesAttached = true;
                document.fonts.ready.then(() => {
                    BABYLON.Tools.Log("Document fonts ready.");
                    if (PROJECT.UserInterface.OnFontFacesReady && PROJECT.UserInterface.OnFontFacesReady.hasObservers()) {
                        try {
                            PROJECT.UserInterface.OnFontFacesReady.notifyObservers(document.fonts);
                        }
                        catch (error) {
                            console.warn(error.message);
                        }
                    }
                });
                document.fonts.onloadingdone = (fontFaceSetEvent) => {
                    this.engineResize();
                    BABYLON.Tools.Warn("All document fonts loaded.");
                    if (PROJECT.UserInterface.OnFontFacesLoaded && PROJECT.UserInterface.OnFontFacesLoaded.hasObservers()) {
                        try {
                            PROJECT.UserInterface.OnFontFacesLoaded.notifyObservers(fontFaceSetEvent);
                        }
                        catch (error) {
                            console.warn(error.message);
                        }
                    }
                };
            }
        }
        preloadWebFonts() {
            if (PROJECT.UserInterface.FontFacesPreloaded === false) {
                PROJECT.UserInterface.FontFacesPreloaded = true;
                if (this.fontFamilyList != null && this.fontFamilyList.length > 0) {
                    this.fontFamilyList.forEach((family) => {
                        const txt = document.createElement("span");
                        txt.style.fontFamily = family;
                        document.body.appendChild(txt);
                    });
                }
            }
        }
        parseNodeObject(object) {
            if (object != null) {
                if (this.defaultImageControl === true) {
                    try {
                        if (object.name != null && object.source != null && object.source !== "" && object.source.toLowerCase().indexOf("./images/") >= 0) {
                            object.source = (this.defaultImageLocation.endsWith("/")) ? object.source.replace("./images/", this.defaultImageLocation) : object.source.replace("./images", this.defaultImageLocation);
                            if (this.exportLowerCase === true)
                                object.source = object.source.toLowerCase();
                            /* DEPRECATED: KEEP-FOR-REFERENCE
                            const oname:string = object.name;
                            const lpart:number = oname.indexOf("(");
                            const rpart:number = oname.indexOf(")");
                            // ..
                            // Format New Object Source
                            // ..
                            if (lpart >= 0 && rpart >= 0 && rpart > lpart) {
                                let url:string = oname.substring((lpart + 1), rpart);
                                if (url != null && url !== "") {
                                    url = url.trim();
                                }
                                if (url != null && url !== "") {
                                    object.source = (this.defaultImageLocation.endsWith("/")) ? (this.defaultImageLocation + url) : (this.defaultImageLocation + "/" + url);
                                    // ..
                                    // Format New Object Name
                                    // ..
                                    let fname1:string = oname.substring(0, lpart);
                                    let fname2:string = oname.substring((rpart + 1));
                                    let fname3 = (fname1 + fname2);
                                    if (fname3 != null && fname3 !== "") {
                                        fname3 = fname3.trim();
                                    }
                                    if (fname3 != null && fname3 !== "") {
                                        object.name = fname3;
                                    }
                                }
                            }*/
                        }
                    }
                    catch (error) {
                        console.warn(error.message);
                    }
                }
                if (PROJECT.UserInterface.OnParseNodeObject && PROJECT.UserInterface.OnParseNodeObject.hasObservers()) {
                    try {
                        PROJECT.UserInterface.OnParseNodeObject.notifyObservers(object);
                    }
                    catch (error) {
                        console.warn(error.message);
                    }
                }
                if (object.children != null) {
                    object.children.forEach((child) => {
                        this.parseNodeObject(child);
                    });
                }
            }
        }
    }
    UserInterface.OnFontFacesReady = new BABYLON.Observable();
    UserInterface.OnFontFacesLoaded = new BABYLON.Observable();
    UserInterface.OnParseNodeObject = new BABYLON.Observable();
    UserInterface.OnInterfaceLoaded = new BABYLON.Observable();
    UserInterface.SceneController = null;
    UserInterface.AdvancedTexture = null;
    UserInterface.BackgroundTexture = null;
    UserInterface.FontFacesAttached = false;
    UserInterface.FontFacesPreloaded = false;
    PROJECT.UserInterface = UserInterface;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AssetExporter
    */
    class AssetExporter extends BABYLON.Toolkit.ScriptComponent {
        // Example: private helloWorld:string = "Hello World";
        awake() {
            /* Init component function */
        }
        start() {
            /* Start component function */
        }
        fixed() {
            /* Fixed update loop function */
        }
        update() {
            /* Update render loop function */
        }
        late() {
            /* Late update render loop function */
        }
        after() {
            /* After update render loop function */
        }
        ready() {
            /* Execute when ready function */
        }
        destroy() {
            /* Destroy component function */
        }
    }
    PROJECT.AssetExporter = AssetExporter;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class AssetPreloader
    */
    class AssetPreloader extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.parentMeshes = false;
            this.importMeshes = null;
            this.assetContainers = null;
        }
        destroy() {
            this.importMeshes = null;
            this.assetContainers = null;
        }
        /** Add asset preloader tasks (https://doc.babylonjs.com/divingDeeper/importers/assetManager) */
        addPreloaderTasks(assetsManager) {
            const sceneRootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
            let rooturl = sceneRootUrl;
            let filename = "";
            if (this.importMeshes != null) {
                this.importMeshes.forEach((imporUrl, importIndex) => {
                    rooturl = sceneRootUrl;
                    filename = imporUrl;
                    if (imporUrl.indexOf("://") >= 0) {
                        rooturl = imporUrl.substring(0, imporUrl.lastIndexOf('/')) + "/";
                        filename = imporUrl.substring(imporUrl.lastIndexOf('/') + 1);
                    }
                    const importTask = assetsManager.addMeshTask((this.transform.name + ".MeshTask." + importIndex.toString()), null, rooturl, filename);
                    importTask.onSuccess = (task) => {
                        if (task.loadedMeshes != null) {
                            if (this.parentMeshes === true)
                                task.loadedMeshes[0].parent = this.transform;
                            const meshTaskKey = task.sceneFilename.toString().toLowerCase();
                            BABYLON.Toolkit.SceneManager.RegisterImportMeshes(this.scene, meshTaskKey, task.loadedMeshes);
                            //console.log("Preloaded mesh: " + meshTaskKey);
                        }
                    };
                    importTask.onError = (task, message, exception) => { console.error(message, exception); };
                });
            }
            if (this.assetContainers != null) {
                this.assetContainers.forEach((assetUrl, assetIndex) => {
                    let rooturl = sceneRootUrl;
                    let filename = assetUrl;
                    if (assetUrl.indexOf("://") >= 0) {
                        rooturl = assetUrl.substring(0, assetUrl.lastIndexOf('/')) + "/";
                        filename = assetUrl.substring(assetUrl.lastIndexOf('/') + 1);
                    }
                    const assetTask = assetsManager.addContainerTask((this.transform.name + ".ContainerTask." + assetIndex.toString()), null, rooturl, filename);
                    assetTask.onSuccess = (task) => {
                        if (task.loadedContainer != null) {
                            const assetTaskKey = task.sceneFilename.toString().toLowerCase();
                            BABYLON.Toolkit.SceneManager.RegisterAssetContainer(this.scene, assetTaskKey, task.loadedContainer);
                            //console.log("Preloaded asset: " + assetTaskKey);
                        }
                    };
                    assetTask.onError = (task, message, exception) => { console.error(message, exception); };
                });
            }
        }
    }
    PROJECT.AssetPreloader = AssetPreloader;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialInstance
    */
    class NodeMaterialInstance extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialData = null;
            this.setCustomRootUrl = null;
            this.m_nodeMaterial = null;
        }
        getMaterialInstance() { return this.m_nodeMaterial; }
        awake() {
            if (this.nodeMaterialData != null) {
                const rootUrl = (this.setCustomRootUrl != null && this.setCustomRootUrl !== "") ? this.setCustomRootUrl.trim() : "";
                this.m_nodeMaterial = BABYLON.NodeMaterial.Parse(this.nodeMaterialData, this.scene, rootUrl);
                this.m_nodeMaterial.name = this.transform.name + ".NodeMaterial";
            }
        }
        destroy() {
            if (this.m_nodeMaterial != null) {
                this.m_nodeMaterial.dispose();
                this.m_nodeMaterial = null;
            }
        }
    }
    PROJECT.NodeMaterialInstance = NodeMaterialInstance;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialParticle
    */
    class NodeMaterialParticle extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
        }
        awake() {
            /* Init component function */
        }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
        }
        update() {
            /* Update render loop function */
        }
        late() {
            /* Late update render loop function */
        }
        after() {
            /* After update render loop function */
        }
        fixed() {
            /* Fixed update physics step function */
        }
        ready() {
            /* Execute when scene is ready function */
        }
        destroy() {
            this.nodeMaterialEditor = null;
        }
    }
    PROJECT.NodeMaterialParticle = NodeMaterialParticle;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialProcess
    */
    class NodeMaterialProcess extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
            this.numberOfSamples = 1;
            this.samplingMode = 0;
            this.textureType = 0;
            this.textureFormat = BABYLON.Constants.TEXTUREFORMAT_RGBA;
            this.sizeRatio = 1.0;
            this.resuable = false;
            this.m_postProcess = null;
        }
        getPostProcess() { return this.m_postProcess; }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
            const camera = this.getCameraRig();
            if (camera != null) {
                this.m_postProcess = materialInstance.createPostProcess(camera, this.sizeRatio, this.samplingMode, this.scene.getEngine(), this.resuable, this.textureType, this.textureFormat);
                if (this.m_postProcess != null) {
                    this.m_postProcess.name = (this.transform.name + ".Process");
                    this.m_postProcess.samples = this.numberOfSamples;
                }
                else {
                    console.warn("Failed to create post process for: " + this.transform.name);
                }
            }
            else {
                console.warn("Null camera rig for: " + this.transform.name);
            }
        }
        destroy() {
            this.nodeMaterialEditor = null;
            if (this.m_postProcess != null) {
                this.m_postProcess.dispose();
                this.m_postProcess = null;
            }
        }
    }
    PROJECT.NodeMaterialProcess = NodeMaterialProcess;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class NodeMaterialTexture
    */
    class NodeMaterialTexture extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.nodeMaterialEditor = null;
            this.textureSize = 256;
            this.m_proceduralTexture = null;
        }
        getProceduralTexture() { return this.m_proceduralTexture; }
        start() {
            if (this.nodeMaterialEditor != null) {
                const nme = SM.FindScriptComponent(this.nodeMaterialEditor, "PROJECT.NodeMaterialInstance");
                if (nme != null) {
                    const materialInstance = nme.getMaterialInstance();
                    if (materialInstance != null) {
                        this.setupNodeMaterial(materialInstance);
                    }
                    else {
                        console.warn("Null node material instance on: " + this.nodeMaterialEditor.name);
                    }
                }
                else {
                    console.warn("Failed to locate node material editor on: " + this.nodeMaterialEditor.name);
                }
            }
        }
        setupNodeMaterial(materialInstance) {
            this.m_proceduralTexture = materialInstance.createProceduralTexture(this.textureSize, this.scene);
            if (this.m_proceduralTexture != null) {
                this.m_proceduralTexture.name = (this.transform.name + ".Texture");
            }
        }
        destroy() {
            this.nodeMaterialEditor = null;
            if (this.m_proceduralTexture != null) {
                this.m_proceduralTexture.dispose();
                this.m_proceduralTexture = null;
            }
        }
    }
    PROJECT.NodeMaterialTexture = NodeMaterialTexture;
})(PROJECT || (PROJECT = {}));
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileInputController
    */
    class MobileInputController extends BABYLON.Toolkit.ScriptComponent {
        static get Instance() { return PROJECT.MobileInputController.StaticInstance; }
        getLeftStick() { return this.m_leftStick; }
        getRightStick() { return this.m_rightStick; }
        getLeftStickEnabled() { return this.enableLeftJoystick; }
        getRightStickEnabled() { return this.enableRightJoystick; }
        getLeftStickElement() { return this.leftBaseElement; }
        getRightStickElement() { return this.rightBaseElement; }
        showLeftStickElement(show) { if (this.leftBaseElement != null)
            this.leftBaseElement.style.display = (show === true) ? "block" : "none"; }
        showRightStickElement(show) { if (this.rightBaseElement != null)
            this.rightBaseElement.style.display = (show === true) ? "block" : "none"; }
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.styleSheet = null;
            // DEPRECATED: private htmlMarkup: string = null;
            this.controlType = 0;
            this.parentElement = "root";
            this.maxReadyTimeout = 200;
            this.maxMoveDistance = 28;
            this.maxMoveDeadzone = 4;
            this.uiParentElement = null;
            this.leftBaseElement = null;
            this.rightBaseElement = null;
            this.buttonBaseElement = null;
            this.leftStickStyle = 0;
            this.rightStickStyle = 0;
            this.leftStickFactor = 1.0;
            this.rightStickFactor = 1.0;
            this.invertLeftStickY = true;
            this.centerLeftJoystick = false;
            this.enableLeftJoystick = true;
            this.invertRightStickY = true;
            this.centerRightJoystick = false;
            this.enableRightJoystick = true;
            this.enableMouseAxes = false;
            this.enableVirtualButtons = false;
            this.virtualButtonControls = null;
            this.m_leftStick = null;
            this.m_rightStick = null;
            this.m_mobileDevice = false;
            PROJECT.MobileInputController.StaticInstance = this;
        }
        awake() {
            if (this.controlType === 1 || this.m_mobileDevice === true) {
                this.m_mobileDevice = BABYLON.Toolkit.WindowManager.IsMobile();
                //window.addEventListener("orientationchange", () => { this.checkOrientation(); });
                //this.checkOrientation();
            }
            const rootElement = (this.parentElement != null && this.parentElement !== "" && this.parentElement.toLowerCase() !== "body") ? document.getElementById(this.parentElement) : null;
            this.uiParentElement = (rootElement != null) ? rootElement : document.body;
        }
        start() {
            if (this.controlType === 1 || this.m_mobileDevice === true) {
                this.loadStyleSheet();
                this.loadHtmlMarkup();
            }
        }
        ready() {
            if (this.controlType === 1 || this.m_mobileDevice === true) {
                BABYLON.Toolkit.SceneManager.VirtualJoystickEnabled = !this.enableMouseAxes; // Note: Disable MouseX And MouseY User Input Axes
                const displayTimeout = (this.maxReadyTimeout >= 10) ? this.maxReadyTimeout : 10;
                BABYLON.Toolkit.WindowManager.SetTimeout(displayTimeout, () => {
                    this.createHtmlElements();
                    if (this.enableLeftJoystick === true)
                        this.m_leftStick = new BABYLON.Toolkit.TouchJoystickHandler("stick1", this.maxMoveDistance, this.maxMoveDeadzone);
                    if (this.enableRightJoystick === true)
                        this.m_rightStick = new BABYLON.Toolkit.TouchJoystickHandler("stick2", this.maxMoveDistance, this.maxMoveDeadzone);
                });
            }
        }
        update() {
            if (this.controlType === 1 || this.m_mobileDevice === true) {
                if (BABYLON.Toolkit.InputController.AllowMobileControls === true) {
                    // ..
                    // TODO: Validate Mobile Control Visuals Are Enabled
                    // ..
                    if (this.enableLeftJoystick === true && this.m_leftStick != null) {
                        BABYLON.Toolkit.InputController.MobileControlsActive = true;
                        const leftStickValueX = this.m_leftStick.getValueX();
                        const leftStickValueY = this.m_leftStick.getValueY();
                        const leftStickFixedX = BABYLON.Scalar.Clamp((leftStickValueX * this.leftStickFactor), -1, 1);
                        const leftStickFixedY = BABYLON.Scalar.Clamp((leftStickValueY * this.leftStickFactor), -1, 1);
                        BABYLON.Toolkit.InputController.SetLeftJoystickBuffer(leftStickFixedX, leftStickFixedY, this.invertLeftStickY);
                    }
                    if (this.enableRightJoystick === true && this.m_rightStick != null) {
                        BABYLON.Toolkit.InputController.MobileControlsActive = true;
                        const rightStickValueX = this.m_rightStick.getValueX();
                        const rightStickValueY = this.m_rightStick.getValueY();
                        const rightStickFixedX = BABYLON.Scalar.Clamp((rightStickValueX * this.rightStickFactor), -1, 1);
                        const rightStickFixedY = BABYLON.Scalar.Clamp((rightStickValueY * this.rightStickFactor), -1, 1);
                        BABYLON.Toolkit.InputController.SetRightJoystickBuffer(rightStickFixedX, rightStickFixedY, this.invertRightStickY);
                    }
                    if (this.enableVirtualButtons === true) {
                        BABYLON.Toolkit.InputController.MobileControlsActive = true;
                    }
                }
                else {
                    // ..
                    // TODO: Validate Mobile Control Visuals Are Disabled
                    // ..
                }
            }
        }
        destroy() {
            if (this.m_leftStick != null) {
                this.m_leftStick.dispose();
                this.m_leftStick = null;
            }
            if (this.m_rightStick != null) {
                this.m_rightStick.dispose();
                this.m_rightStick = null;
            }
        }
        /*
        protected checkOrientation(): void {
            const orientation: string = BABYLON.Toolkit.WindowManager.GetOrientation();
            const pcover: HTMLElement = document.getElementById("portrait-warning-cover");
            const lcover: HTMLElement = document.getElementById("landscape-warning-cover");
            console.log("Check Orientation(): " + orientation + " -> " + this.inputOrientation + " -> Size: " + window.innerWidth + " x " + window.innerHeight);
            if (orientation === "landscape" || orientation === "portrait") {
                if (this.inputOrientation === 1) { // Note: Enforce Portrait Orientation
                    if (pcover != null) {
                        if (orientation !== "portrait") {
                            console.log("Show Rotate To Portrait Warning");
                            //pcover.className = "mobile-orientation-cover";
                        } else {
                            console.log("Reset Rotate To Portrait Warning");
                            //pcover.className = "no-display";
                        }
                    }
                } else if (this.inputOrientation === 2) { // Note: Enforce Landscape Orientation
                    if (lcover != null) {
                        if (orientation !== "landscape") {
                            console.log("Show Rotate To Landscape Warning");
                            //lcover.className = "mobile-orientation-cover";
                        } else {
                            console.log("Clear Rotate To Landscape Warning");
                            //lcover.className = "no-display";
                        }
                    }
                } else {
                    if (pcover != null) pcover.className = "no-display";
                    if (lcover != null) lcover.className = "no-display";
                }
            } else {
                if (pcover != null) pcover.className = "no-display";
                if (lcover != null) lcover.className = "no-display";
            }
        }
        */
        loadStyleSheet() {
            if (this.styleSheet != null && this.styleSheet !== "") {
                const style = document.createElement("style");
                style.id = "MobileStyleSheet";
                style.type = "text/css";
                if (style.styleSheet) { // Note: Internet Explorer Support
                    style.styleSheet.cssText = this.styleSheet;
                }
                else {
                    style.appendChild(document.createTextNode(this.styleSheet));
                }
                document.head.appendChild(style);
            }
            else {
                console.warn("WARNING: Mobile Style Sheet Not Defined For: " + this.transform.name);
            }
        }
        loadHtmlMarkup() {
            // if (this.htmlMarkup != null && this.htmlMarkup !== "") {
            //     const markupContainer = document.createElement("div");
            //     markupContainer.id = "MobileMarkup";
            //     markupContainer.className = "mobile-markup";
            //     markupContainer.innerHTML = this.htmlMarkup;
            //     this.uiParentElement.appendChild(markupContainer);
            // } else {
            //     console.warn("WARNING: Mobile Markup File Not Defined For: " + this.transform.name);
            // }
        }
        createHtmlElements() {
            const rootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
            const leftBaseImageData = this.getProperty("leftStickBase");
            const rightBaseImageData = this.getProperty("rightStickBase");
            const leftStickImageData = this.getProperty("leftStickImage");
            const rightStickImageData = this.getProperty("rightStickImage");
            const lbaseImageFilename = (leftBaseImageData != null) ? leftBaseImageData.filename : "baseImage.png";
            const rbaseImageFilename = (rightBaseImageData != null) ? rightBaseImageData.filename : "baseImage.png";
            const leftStickImageFilename = (leftStickImageData != null) ? leftStickImageData.filename : "leftStick.png";
            const rightStickImageFilename = (rightStickImageData != null) ? rightStickImageData.filename : "rightStick.png";
            if (this.enableLeftJoystick === true) {
                this.leftBaseElement = document.createElement("div");
                this.leftBaseElement.id = "base1";
                this.leftBaseElement.style.display = (this.leftStickStyle === 0) ? "block" : "none";
                this.leftBaseElement.className = (this.centerLeftJoystick === true) ? "GamepadCenterStick" : "GamepadLeftStick";
                // ..
                const baseImg1 = document.createElement("img");
                baseImg1.id = "image1";
                baseImg1.src = (rootUrl + lbaseImageFilename);
                baseImg1.className = "GamepadLeftBase";
                // ..
                const ballDiv1 = document.createElement("div");
                ballDiv1.id = "stick1";
                ballDiv1.className = "GamepadLeftContent";
                // ..
                const ballImg1 = document.createElement("img");
                ballImg1.id = "ball1";
                ballImg1.src = (rootUrl + leftStickImageFilename);
                ballImg1.className = "GamepadLeftControl";
                // ..
                ballDiv1.appendChild(ballImg1);
                this.leftBaseElement.appendChild(baseImg1);
                this.leftBaseElement.appendChild(ballDiv1);
                this.uiParentElement.appendChild(this.leftBaseElement);
            }
            if (this.enableRightJoystick === true) {
                this.rightBaseElement = document.createElement("div");
                this.rightBaseElement.id = "base2";
                this.rightBaseElement.style.display = (this.rightStickStyle === 0) ? "block" : "none";
                this.rightBaseElement.className = (this.centerRightJoystick === true) ? "GamepadCenterStick" : "GamepadRightStick";
                // ..
                const baseImg2 = document.createElement("img");
                baseImg2.id = "image2";
                baseImg2.src = (rootUrl + rbaseImageFilename);
                baseImg2.className = "GamepadRightBase";
                // ..
                const ballDiv2 = document.createElement("div");
                ballDiv2.id = "stick2";
                ballDiv2.className = "GamepadRightContent";
                // ..
                const ballImg2 = document.createElement("img");
                ballImg2.id = "ball2";
                ballImg2.src = (rootUrl + rightStickImageFilename);
                ballImg2.className = "GamepadRightControl";
                // ..
                ballDiv2.appendChild(ballImg2);
                this.rightBaseElement.appendChild(baseImg2);
                this.rightBaseElement.appendChild(ballDiv2);
                this.uiParentElement.appendChild(this.rightBaseElement);
            }
            if (this.enableVirtualButtons === true) {
                this.buttonBaseElement = document.createElement("div");
                this.buttonBaseElement.id = "base0";
                this.buttonBaseElement.style.pointerEvents = "none";
                this.buttonBaseElement.className = "GamepadButtonGroup";
                if (this.virtualButtonControls != null) {
                    this.virtualButtonControls.forEach((element, index) => {
                        const buttonIndexCount = (index + 1);
                        const buttonImageData = element.buttonImage;
                        const virtualButton = document.createElement("div");
                        virtualButton.id = ("button" + buttonIndexCount.toFixed(0));
                        virtualButton.style.cursor = "pointer"; // Note: Default Cursor Style
                        virtualButton.style.pointerEvents = "auto"; // Note: Enable Pointer Events
                        virtualButton.className = element.className;
                        virtualButton.addEventListener("pointerdown", (e) => { BABYLON.Toolkit.InputController.InputKeyDownHandler(element.inputKeyCode, e); });
                        virtualButton.addEventListener("pointerup", (e) => { BABYLON.Toolkit.InputController.InputKeyUpHandler(element.inputKeyCode, e); });
                        if (buttonImageData != null && buttonImageData.filename != null) {
                            if (element.buttonCover === 0) {
                                const buttonImg = document.createElement("img");
                                buttonImg.id = (virtualButton.id + ".Image");
                                buttonImg.src = (rootUrl + buttonImageData.filename);
                                buttonImg.style.top = "0px";
                                buttonImg.style.left = "0px";
                                buttonImg.style.width = "100%";
                                buttonImg.style.height = "100%";
                                buttonImg.style.border = "none";
                                buttonImg.style.margin = "0px";
                                buttonImg.style.padding = "0px";
                                buttonImg.style.position = "absolute";
                                virtualButton.appendChild(buttonImg);
                            }
                            else {
                                virtualButton.textContent = element.buttonName;
                                virtualButton.style.backgroundImage = ("url(" + rootUrl + buttonImageData.filename + ")");
                                virtualButton.style.backgroundRepeat = "no-repeat";
                                virtualButton.style.backgroundSize = (element.buttonCover === 1) ? "cover" : "contain";
                            }
                        }
                        else {
                            virtualButton.textContent = element.buttonName;
                        }
                        this.buttonBaseElement.appendChild(virtualButton);
                    });
                }
                this.uiParentElement.appendChild(this.buttonBaseElement);
            }
        }
    }
    MobileInputController.StaticInstance = null;
    PROJECT.MobileInputController = MobileInputController;
    /**
     * Manage the joystick inputs to control a free camera.
     * @see https://doc.babylonjs.com/how_to/customizing_camera_inputs
     */
    class FreeCameraTouchJoystickInput {
        constructor() {
            /**
             * Defines the joystick rotation sensiblity.
             * This is the threshold from when rotation starts to be accounted for to prevent jittering.
             */
            this.joystickAngularSensibility = 200;
            /**
             * Defines the joystick move sensiblity.
             * This is the threshold from when moving starts to be accounted for for to prevent jittering.
             */
            this.joystickMoveSensibility = 40.0;
            /**
             * Defines the minimum value at which any analog stick input is ignored.
             * Note: This value should only be a value between 0 and 1.
             */
            this.deadzoneDelta = 0.1;
            this._yAxisScale = 1.0;
            // private members
            this.LSValues = new BABYLON.Vector2(0, 0);
            this.RSValues = new BABYLON.Vector2(0, 0);
            this._cameraTransform = BABYLON.Matrix.Identity();
            this._deltaTransform = BABYLON.Vector3.Zero();
            this._vector3 = BABYLON.Vector3.Zero();
            this._vector2 = BABYLON.Vector2.Zero();
            this._attached = false;
        }
        /**
         * Gets or sets a boolean indicating that Yaxis (for right stick) should be inverted
         */
        get invertYAxis() { return this._yAxisScale !== 1.0; }
        set invertYAxis(value) { this._yAxisScale = value ? -1.0 : 1.0; }
        /**
         * Attach the input controls to a specific dom element to get the input from.
         */
        attachControl() {
            this._attached = true;
        }
        /**
         * Detach the current controls from the specified dom element.
         * @param ignored defines an ignored parameter kept for backward compatibility. If you want to define the source input element, you can set engine.inputElement before calling camera.attachControl
         */
        detachControl(ignored) {
            this._attached = false;
        }
        /**
         * Update the current camera state depending on the inputs that have been used this frame.
         * This is a dynamically created lambda to avoid the performance penalty of looping for inputs in the render loop.
         */
        checkInputs() {
            if (this.camera != null && this.controller != null && this._attached === true) {
                const LStick = this.controller.getLeftStick();
                if (LStick != null) {
                    this.LSValues.set(LStick.getValueX(), LStick.getValueY());
                    if (this.joystickMoveSensibility !== 0) {
                        this.LSValues.x = (Math.abs(this.LSValues.x) > this.deadzoneDelta) ? this.LSValues.x / this.joystickMoveSensibility : 0;
                        this.LSValues.y = (Math.abs(this.LSValues.y) > this.deadzoneDelta) ? this.LSValues.y / this.joystickMoveSensibility : 0;
                    }
                }
                else {
                    this.LSValues.set(0, 0);
                }
                // ..
                const RStick = this.controller.getRightStick();
                if (RStick != null) {
                    this.RSValues.set(RStick.getValueX(), RStick.getValueY());
                    if (this.joystickAngularSensibility !== 0) {
                        this.RSValues.x = (Math.abs(this.RSValues.x) > this.deadzoneDelta) ? this.RSValues.x / this.joystickAngularSensibility : 0;
                        this.RSValues.y = ((Math.abs(this.RSValues.y) > this.deadzoneDelta) ? this.RSValues.y / this.joystickAngularSensibility : 0) * this._yAxisScale;
                    }
                }
                else {
                    this.RSValues.set(0, 0);
                }
                // ..
                if (!this.camera.rotationQuaternion) {
                    BABYLON.Matrix.RotationYawPitchRollToRef(this.camera.rotation.y, this.camera.rotation.x, 0, this._cameraTransform);
                }
                else {
                    this.camera.rotationQuaternion.toRotationMatrix(this._cameraTransform);
                }
                // ..
                var speed = this.camera._computeLocalCameraSpeed() * 50.0;
                this._vector3.copyFromFloats(this.LSValues.x * speed, 0, -this.LSValues.y * speed);
                // ..
                BABYLON.Vector3.TransformCoordinatesToRef(this._vector3, this._cameraTransform, this._deltaTransform);
                this.camera.cameraDirection.addInPlace(this._deltaTransform);
                this._vector2.copyFromFloats(this.RSValues.y, this.RSValues.x);
                this.camera.cameraRotation.addInPlace(this._vector2);
            }
        }
        /**
         * Gets the class name of the current input.
         * @returns the class name
         */
        getClassName() {
            return "FreeCameraTouchJoystickInput";
        }
        /**
         * Get the friendly name associated with the input class.
         * @returns the input friendly name
         */
        getSimpleName() {
            return "joystick";
        }
    }
    __decorate([
        BABYLON.serialize()
    ], FreeCameraTouchJoystickInput.prototype, "joystickAngularSensibility", void 0);
    __decorate([
        BABYLON.serialize()
    ], FreeCameraTouchJoystickInput.prototype, "joystickMoveSensibility", void 0);
    PROJECT.FreeCameraTouchJoystickInput = FreeCameraTouchJoystickInput;
    BABYLON.CameraInputTypes["FreeCameraTouchJoystickInput"] = PROJECT.FreeCameraTouchJoystickInput;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileOccludeMaterial
    */
    class MobileOccludeMaterial extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.applyToMaterial = true;
        }
        awake() {
            if (this.applyToMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                this.transform.material.disableColorWrite = true;
            }
        }
    }
    PROJECT.MobileOccludeMaterial = MobileOccludeMaterial;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class MobileShadowMaterial
    */
    class MobileShadowMaterial extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.createNewMaterial = true;
        }
        awake() {
            if (this.createNewMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                const materialName = this.transform.name.replace(" ", "") + ".ShadowMaterial";
                this.transform.material = new BABYLON.ShadowOnlyMaterial(materialName, this.scene);
            }
        }
        destroy() {
            if (this.createNewMaterial === true && this.transform instanceof BABYLON.AbstractMesh) {
                if (this.transform.material != null && this.transform.material instanceof BABYLON.ShadowOnlyMaterial) {
                    this.transform.material.dispose();
                }
            }
        }
    }
    PROJECT.MobileShadowMaterial = MobileShadowMaterial;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class BallSocketJoint
    */
    class BallSocketJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(-0.5, 0, -0.5);
            this.pivotB = new BABYLON.Vector3(-0.5, 0, 0.5);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.BallAndSocketConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.BallSocketJoint = BallSocketJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class DistanceJoint
    */
    class DistanceJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.maxDistance = 0;
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.DistanceConstraint(this.maxDistance, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.DistanceJoint = DistanceJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class FixedHingeJoint
    */
    class FixedHingeJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.5);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.5);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.HingeConstraint(this.pivotA, this.pivotB, undefined, undefined, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.FixedHingeJoint = FixedHingeJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class LockedJoint
    */
    class LockedJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0.5, 0.5, -0.5);
            this.pivotB = new BABYLON.Vector3(-0.5, -0.5, 0.5);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.LockConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.LockedJoint = LockedJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class PrismaticJoint
    */
    class PrismaticJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.2);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.25);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.PrismaticConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.PrismaticJoint = PrismaticJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SixdofJoint
    */
    class SixdofJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, -0.5, 0);
            this.pivotB = new BABYLON.Vector3(0, 0.5, 0);
            this.perpAxisA = new BABYLON.Vector3(1, 0, 0);
            this.perpAxisB = new BABYLON.Vector3(1, 0, 0);
            this.axisLimits = null;
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.Physics6DoFConstraint({
                            pivotA: this.pivotA,
                            pivotB: this.pivotB,
                            perpAxisA: this.perpAxisA,
                            perpAxisB: this.perpAxisB
                        }, this.axisLimits, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.SixdofJoint = SixdofJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SliderJoint
    */
    class SliderJoint extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.bodyA = null;
            this.bodyB = null;
            this.pivotA = new BABYLON.Vector3(0, 0, -0.2);
            this.pivotB = new BABYLON.Vector3(0, 0, 0.25);
            this.axisA = new BABYLON.Vector3(0, 1, 0);
            this.axisB = new BABYLON.Vector3(0, 1, 0);
            this.constraint = null;
            this.collisionsEnabled = false;
        }
        awake() {
            const bodyAInfo = this.getProperty("bodyA");
            const bodyBInfo = this.getProperty("bodyB");
            if (bodyAInfo != null && bodyBInfo != null) {
                this.bodyA = (this.transform.name === bodyAInfo.name) ? this.transform : this.getChildNode(bodyAInfo.name);
                this.bodyB = this.getChildNode(bodyBInfo.name);
                if (this.bodyA != null && this.bodyB != null) {
                    if (this.bodyA.physicsBody != null && this.bodyB.physicsBody != null) {
                        this.constraint = new BABYLON.SliderConstraint(this.pivotA, this.pivotB, this.axisA, this.axisB, this.scene);
                        this.bodyA.physicsBody.addConstraint(this.bodyB.physicsBody, this.constraint);
                        this.constraint.isCollisionsEnabled = this.collisionsEnabled;
                    }
                }
            }
        }
        destroy() {
            this.bodyA = null;
            this.bodyB = null;
            if (this.constraint != null) {
                this.constraint.dispose();
                this.constraint = null;
            }
        }
    }
    PROJECT.SliderJoint = SliderJoint;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class RemotePlayerController
    */
    class RemotePlayerController extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.updateStateParams = true;
            this.smoothMotionTime = 0;
            this.smoothInputVectors = false;
            this.animationState = null;
            this.animationStateParams = null;
        }
        awake() {
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.smoothMotionTime = this.getProperty("smoothMotionTime", this.smoothMotionTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            //console.warn("Remote Player Controller: " + this.transform.name);
            //console.log(this);
        }
        update() {
            const deltaTime = this.getDeltaSeconds();
            // TODO - FIX THIS SHIT
            if (this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            // Query Network Attributes
            // ..
            if (BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                const direction = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 0); // Direction
                const magnitude = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 1); // Magnitude
                const inputX = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 2); // Horizonal
                const inputZ = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 3); // Vertical
                const mouseX = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 4); // MouseX
                const mouseY = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 5); // Mousey
                const vvelocity = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 6); // Vertical Velocity
                const movespeed = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 7); // Movement Speed
                const actionstate = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 8); // Action State
                const jumpframe = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 9); // Jump Frame
                const isjumping = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 10); // Is Jumping
                const isfalling = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 11); // Is Falling
                const issliding = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 12); // Is Sliding
                const isgrounded = BABYLON.Toolkit.EntityController.QueryBufferedAttribute(this.transform, 13); // Is Grounded
                // ..
                // Update Animation State Params
                // ..
                if (this.animationState != null && this.updateStateParams === true) {
                    this.validateAnimationStateParams();
                    this.animationState.setInteger(this.animationStateParams.moveDirection, direction);
                    this.animationState.setFloat(this.animationStateParams.heightInput, vvelocity);
                    this.animationState.setBool(this.animationStateParams.jumpFrame, (jumpframe !== 0));
                    this.animationState.setBool(this.animationStateParams.jumpState, (isjumping !== 0));
                    this.animationState.setInteger(this.animationStateParams.actionState, actionstate);
                    this.animationState.setBool(this.animationStateParams.fallingState, (isfalling !== 0));
                    this.animationState.setBool(this.animationStateParams.slidingState, (issliding !== 0));
                    this.animationState.setBool(this.animationStateParams.groundedState, (isgrounded !== 0));
                    if (this.smoothMotionTime > 0) {
                        if (this.smoothInputVectors === true) {
                            this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, inputX, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, inputZ, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, mouseX, this.smoothMotionTime, deltaTime);
                            this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, mouseY, this.smoothMotionTime, deltaTime);
                        }
                        else {
                            this.animationState.setFloat(this.animationStateParams.horizontalInput, inputX);
                            this.animationState.setFloat(this.animationStateParams.verticalInput, inputZ);
                            this.animationState.setFloat(this.animationStateParams.mouseXInput, mouseX);
                            this.animationState.setFloat(this.animationStateParams.mouseYInput, mouseY);
                        }
                        this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, magnitude, this.smoothMotionTime, deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.speedInput, movespeed, this.smoothMotionTime, deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, inputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, inputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, mouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, mouseY);
                        this.animationState.setFloat(this.animationStateParams.inputMagnitude, magnitude);
                        this.animationState.setFloat(this.animationStateParams.speedInput, movespeed);
                    }
                    //if (this.isCharacterNavigating === true) {
                    //    // TODO - Update Speed Input With Navigation Magnitude
                    //    // this.animationState.setFloat(this.animationStateParams.speedInput, magnitude);
                    //}
                }
            }
        }
        destroy() {
            this.animationState = null;
            this.animationStateParams = null;
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("BABYLON.Toolkit.AnimationState");
                if (this.animationState == null) {
                    const animationNode = this.getChildWithScript("BABYLON.Toolkit.AnimationState");
                    if (animationNode != null) {
                        this.animationState = BABYLON.Toolkit.SceneManager.FindScriptComponent(animationNode, "BABYLON.Toolkit.AnimationState");
                    }
                    else {
                        // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate animator node for: " + this.transform);
                    }
                }
            }
            if (this.animationState != null) {
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        //if (this._ikLeftController != null) {
                        //    this._ikLeftController.update();
                        //}
                        //if (this._ikRightController != null) {
                        //    this._ikRightController.update();
                        //}
                    }
                });
            }
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded"
                };
            }
        }
    }
    PROJECT.RemotePlayerController = RemotePlayerController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit standard player controller class
     * @class StandardPlayerController - All rights reserved (c) 2020 Mackey Kinard
    */
    class StandardPlayerController extends BABYLON.Toolkit.ScriptComponent {
        isAnimationEnabled() { return this.updateStateParams; }
        isRunButtonPressed() { return this.isRunPressed; }
        isJumpButtonPressed() { return this.isJumpPressed; }
        getPlayerJumped() { return this.isCharacterJumpFrame; }
        getPlayerJumping() { return this.isCharacterJumping; }
        getPlayerFalling() { return this.isCharacterFalling; }
        getPlayerSliding() { return this.isCharacterSliding; }
        getPlayerGrounded() { return this.isCharacterGrounded; }
        getFallTriggered() { return this.isCharacterFallTriggered; }
        getMovementSpeed() { return this.movementSpeed; }
        getCameraBoomNode() { return this.cameraNode; }
        getCameraTransform() { return this.cameraPivot; }
        getAnimationState() { return this.animationState; }
        getVerticalVelocity() { return this.getCheckedVerticalVelocity(); }
        getCharacterController() { return this.characterController; }
        getPlayerLookRotation() { return this.playerLookRotation; }
        getPlayerMoveDirection() { return this.playerMoveDirection; }
        getInputMovementVector() { return this.inputMovementVector; }
        getInputMagnitudeValue() { return this.inputMagnitude; }
        getCameraPivotPosition() { return (this.cameraPivot != null) ? this.cameraPivot.position : null; }
        getCameraPivotRotation() { return (this.cameraPivot != null) ? this.cameraPivot.rotationQuaternion : null; }
        getClimbContact() { return this.climbContact; }
        getClimbContactNode() { return this.climbContactNode; }
        getClimbContactPoint() { return this.climbContactPoint; }
        getClimbContactAngle() { return this.climbContactAngle; }
        getClimbContactNormal() { return this.climbContactNormal; }
        getClimbContactDistance() { return this.climbContactDistance; }
        ;
        getHeightContact() { return this.heightContact; }
        getHeightContactNode() { return this.heightContactNode; }
        getHeightContactPoint() { return this.heightContactPoint; }
        getHeightContactAngle() { return this.heightContactAngle; }
        getHeightContactNormal() { return this.heightContactNormal; }
        getHeightContactDistance() { return this.heightContactDistance; }
        ;
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.enableInput = false;
            this.attachCamera = false;
            this.rotateCamera = true;
            this.mouseWheel = true;
            this.toggleView = true;
            this.freeLooking = false;
            this.requireSprintButton = false;
            this.gravitationalForce = 3.0;
            this.minFallVelocity = 1.0;
            this.verticalStepSpeed = 1.0;
            this.minStepUpHeight = 0.15;
            this.rigidBodyMass = 85.0;
            this.airbornTimeout = 0.5;
            this.maxAngle = 45;
            this.speedFactor = 1.0;
            this.rootMotion = false;
            this.moveSpeed = 5.335;
            this.walkSpeed = 2.0;
            this.lookSpeed = 2.0;
            this.jumpSpeed = 10.0;
            this.jumpDelay = 0.25;
            this.eyesHeight = 1.55;
            this.pivotHeight = 1.35;
            this.maxDistance = 5.0;
            this.scrollSpeed = 25;
            this.topLookLimit = 60.0;
            this.downLookLimit = 30.0;
            this.lowTurnSpeed = 15.0;
            this.highTurnSpeed = 25.0;
            this.smoothMotionTime = 0;
            this.smoothInputVectors = false;
            this.smoothAcceleration = false;
            this.accelerationSpeed = 0.1;
            this.decelerationSpeed = 0.1;
            this.avatarSkinTag = "Skin";
            this.climbVolumeTag = "Climb";
            this.vaultVolumeTag = "Vault";
            this.maxHeightRanges = null;
            this.useClimbSystem = false;
            this.distanceFactor = 0.85;
            this.cameraSmoothing = 8;
            this.cameraCollisions = true;
            this.inputMagnitude = 0;
            this.landingEpsilon = 0.1;
            this.minimumDistance = 0.5;
            this.movementAllowed = true;
            this.playerInputX = 0;
            this.playerInputZ = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.runKeyRequired = true;
            this.buttonRun = BABYLON.Xbox360Button.LeftStick;
            this.keyboardRun = BABYLON.Toolkit.UserInputKey.Shift;
            this.buttonJump = BABYLON.Xbox360Button.A;
            this.keyboardJump = BABYLON.Toolkit.UserInputKey.SpaceBar;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = BABYLON.Toolkit.UserInputKey.P;
            this.postNetworkAttributes = false;
            this.playerNumber = BABYLON.Toolkit.PlayerNumber.One;
            this.boomPosition = new BABYLON.Vector3(0, 0, 0);
            this.airbornVelocity = new BABYLON.Vector3(0, 0, 0);
            this.movementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.targetCameraOffset = new BABYLON.Vector3(0, 0, 0);
            this.rayClimbOffset = 0.35;
            this.rayClimbLength = 0.85;
            this.canClimbObstaclePredicate = null;
            this.rayHeightOffset = 5.0;
            this.rayHeightLength = 6.0;
            this.abstractMesh = null;
            this.cameraDistance = 0;
            this.forwardCamera = true; // Note Always Camera Forward
            this.avatarRadius = 0.5;
            this.groundingObject = null;
            this.groundingCallback = null;
            this.dollyDirection = new BABYLON.Vector3(0, 0, 0);
            this.cameraEulers = new BABYLON.Vector3(0, 0, 0);
            this.rotationEulers = new BABYLON.Vector3(0, 0, 0);
            this.cameraPivotOffset = new BABYLON.Vector3(0, 0, 0);
            this.cameraForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.cameraRightVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredRightVector = new BABYLON.Vector3(0, 0, 0);
            this.lastRotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
            this.scaledCamDirection = new BABYLON.Vector3(0, 0, 0);
            this.scaledMaxDirection = new BABYLON.Vector3(0, 0, 0);
            this.parentNodePosition = new BABYLON.Vector3(0, 0, 0);
            this.maximumCameraPos = new BABYLON.Vector3(0, 0, 0);
            this.tempWorldPosition = new BABYLON.Vector3(0, 0, 0);
            this.cameraRaycastShape = null;
            this.defaultRaycastGroup = BABYLON.Toolkit.CollisionFilters.DefaultFilter;
            this.defaultRaycastMask = BABYLON.Toolkit.CollisionFilters.StaticFilter;
            this.cameraRaycastMask = (BABYLON.Toolkit.CollisionFilters.DefaultFilter | BABYLON.Toolkit.CollisionFilters.StaticFilter | BABYLON.Toolkit.CollisionFilters.KinematicFilter); // Note: Exclude The Player Character Controller From Camera Collision
            this.avatarSkins = null;
            this.cameraNode = null;
            this.cameraPivot = null;
            this.navigationAgent = null;
            this.characterController = null;
            this.verticalVelocity = 0;
            this.movementSpeed = 0;
            this.isRunPressed = false;
            this.isJumpPressed = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterGrounded = false;
            this.isCharacterFallTriggered = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterNavigating = false;
            this.navigationAngularSpeed = 0;
            this.updateStateParams = true;
            this.animationStateParams = null;
            this.sphereCollisionShape = null;
            this.hasGroundedContact = false;
            this.showDebugRaycasts = false;
            this.showDebugColliders = false;
            this.colliderVisibility = 0;
            this.colliderRenderGroup = 0;
            this.deltaTime = 0;
            this.minJumpTimer = 0;
            this.delayJumpTimer = 0;
            this.playerControl = 0;
            this.canPlayerJump = true;
            this.animationState = null;
            // DEPRECIATED: private rotationVelocityX:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            // DEPRECIATED: private rotationVelocityY:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            this.lastJumpVelocity = new BABYLON.Vector3(0, 0, 0);
            this.inputMovementVector = new BABYLON.Vector3(0, 0, 0);
            this.playerLookRotation = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationVector = BABYLON.Vector2.Zero();
            this.playerMovementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationQuaternion = BABYLON.Quaternion.Zero();
            this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            this.forwardDirection = new BABYLON.Vector3(0, 0, 1);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactAngle = 0;
            this.climbContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.climbContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.climbContactDistance = 0;
            this.climbSensorLine = null;
            this.offsetClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactAngle = 0;
            this.heightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.heightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.heightContactDistance = 0;
            this.heightSensorLine = null;
            this.offsetHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_actualVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            this.playerDrawVelocity = 0;
            /** Register handler that is triggered before the controller has been updated */
            this.onPreUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered before the controller movement has been applied */
            this.onBeforeMoveObservable = new BABYLON.Observable();
            /** Register handler that is triggered after the controller has been updated */
            this.onPostUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered after player input has been updated */
            this.onPlayerInputObservable = new BABYLON.Observable();
            /** Register handler that is triggered when player position should be updated */
            this.onPlayerPositionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after performing action has been updated */
            this.onUpdateActionObservable = new BABYLON.Observable();
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Root Motion Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this._deltaMotionPosition = new BABYLON.Vector3(0, 0, 0);
            this._deltaMotionRotation = new BABYLON.Quaternion(0, 0, 0, 0);
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Blocking Action Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal = new BABYLON.Vector3(0, 0, 0);
            this.lastTargetRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this.lastDeltaPosition = new BABYLON.Vector3(0, 0, 0);
            this.lastDeltaRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this._ikLeftController = null;
            this._ikLeftFootTarget = null;
            this._ikLeftPoleTarget = null;
            this._ikRightController = null;
            this._ikRightFootTarget = null;
            this._ikRightPoleTarget = null;
            this.abstractSkinMesh = null;
            this.rootBoneTransform = null;
            this.leftFootTransform = null;
            //private leftFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.leftFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.leftFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.leftFootPoleAngle = 0;
            this.leftFootMaxAngle = 180;
            this.rightFootTransform = null;
            //private rightFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.rightFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.rightFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.rightFootPoleAngle = 0;
            this.rightFootMaxAngle = 180;
            this.smoothBoomArmLength = null;
            this.smoothBoomArmSpeed = null;
        }
        awake() { this.awakePlayerController(); }
        start() { this.startPlayerController(); }
        after() { this.afterPlayerController(); }
        update() { this.updatePlayerController(); }
        destroy() { this.destroyPlayerController(); }
        getDeltaMotionPosition() {
            this._deltaMotionPosition.set(0, 0, 0);
            if (this.animationState != null) {
                const rootMotionPosition = this.animationState.getDeltaRootMotionPosition();
                if (rootMotionPosition != null) {
                    // FIXME: Calculate Delta Root Motion Position
                    this._deltaMotionPosition.copyFrom(rootMotionPosition);
                }
            }
            return this._deltaMotionPosition;
        }
        getDeltaMotionRotation() {
            this._deltaMotionRotation.set(0, 0, 0, 0);
            if (this.animationState != null) {
                const rootMotionRotation = this.animationState.getDeltaRootMotionRotation();
                if (rootMotionRotation != null) {
                    // FIXME: Calculate Delta Root Motion Rotation
                    this._deltaMotionRotation.copyFrom(rootMotionRotation);
                }
            }
            return this._deltaMotionRotation;
        }
        getIsPerformingAction() { return this.isPerformingAction; }
        getIsRootMotionAction() { return this.isRootMotionAction; }
        getIsActionInterruptable() { return this.isActionInterruptable; }
        playActionAnimation(action, interruptableAction = true, enableRootMotion = false, afterActionComplete = null) {
            if (this.isPerformingAction === false && this.animationState != null && action >= 0) {
                this.isPerformingAction = true;
                this.performActionTimer = 0;
                this.performActionNumber = action;
                this.afterActionHandler = afterActionComplete;
                this.isActionInterruptable = interruptableAction;
                this.isRootMotionAction = enableRootMotion;
                this.playerRotationSpeed = 10;
                this.rotatePlayerTowards = false;
                this.matchStartTime = 0;
                this.matchTargetTime = 0;
                this.matchTargetOffset = 0;
                this.matchTargetHeight = false;
                this.lockTargetHeight = false;
                this.lastStartHeight = null;
                this.lastTargetHeight = null;
                this.lastTargetNormal.set(0, 0, 0);
                this.lastTargetRotation.set(0, 0, 0, 1);
                if (this.isRootMotionAction === true) {
                    this.enableCharacterController(false); // Note: Disable Character Controller
                }
                if (this.animationState != null) {
                    this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                }
            }
        }
        resetActionAnimationState() {
            if (this.afterActionHandler != null) {
                try {
                    this.afterActionHandler();
                }
                catch (_a) { }
            }
            if (this.isRootMotionAction === true) {
                this.enableCharacterController(true); // Note: Enable Character Controller
            }
            if (this.animationState != null) {
                this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
            }
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal.set(0, 0, 0);
            this.lastTargetRotation.set(0, 0, 0, 1);
        }
        updateAnimationActionState() {
            const deltaTime = this.getDeltaSeconds();
            const dampTime = (this.matchTargetTime - this.matchStartTime);
            if (this.animationState != null && this.isRootMotionAction === true) {
                const playerGlobalHeight = this.transform.absolutePosition.y;
                this.lastDeltaPosition.copyFrom(this.getDeltaMotionPosition());
                BABYLON.Vector3.TransformNormalToRef(this.lastDeltaPosition, this.transform.getWorldMatrix(), this.lastDeltaPosition);
                if (this.matchTargetHeight === true) {
                    if (this.lastStartHeight == null && this.performActionTimer >= this.matchStartTime) {
                        this.lastStartHeight = playerGlobalHeight;
                        this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                        // console.warn(">>> Start Global Height: " + this.lastStartHeight + " --> Perform Action Timer: " + this.performActionTimer);
                    }
                    if (this.lastStartHeight != null && this.lastTargetHeight != null) {
                        this.lastDeltaPosition.y = 0;
                        const fixedTargetHeight = (this.lastTargetHeight + this.matchTargetOffset);
                        if (this.performActionTimer < this.matchTargetTime) {
                            this.animationState.setSmoothFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT, fixedTargetHeight, dampTime, deltaTime);
                            const smoothPlayerHeight = this.animationState.getFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                            this.lastDeltaPosition.y = (smoothPlayerHeight - playerGlobalHeight);
                            // console.warn(">>> Lerp Target Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                        }
                        else if (this.lockTargetHeight === false && this.performActionTimer >= this.matchTargetTime) {
                            this.lastDeltaPosition.y = (fixedTargetHeight - playerGlobalHeight);
                            this.lockTargetHeight = true;
                            // console.warn(">>> Last Global Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer + " ---> Match Target Time: " + this.matchTargetTime);
                        }
                    }
                }
                // ..
                // Apply Root Motion To Position
                // ..
                // this.lastDeltaPosition.x = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                // this.lastDeltaPosition.y = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                this.transform.position.addInPlace(this.lastDeltaPosition);
                // console.log("Player Action Height: " + playerGlobalHeight + " --> Perform Action Timer: " + this.performActionTimer);
                // console.log("Current Delta Height: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                // ..
                // Apply Root Motion To Rotation
                // ..
                if (this.rotatePlayerTowards === true) {
                    if (this.climbContact === true) {
                        this.lastTargetNormal.set(-this.climbContactNormal.x, -this.climbContactNormal.y, -this.climbContactNormal.z);
                        BABYLON.Toolkit.Utilities.LookRotationToRef(this.lastTargetNormal, this.lastTargetRotation);
                        const lerpAmount = BABYLON.Scalar.Clamp(this.playerRotationSpeed * deltaTime);
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.lastTargetRotation, lerpAmount, this.transform.rotationQuaternion);
                        //console.log("Climb Target Rotation: " + this.lastTargetRotation);
                    }
                }
                else {
                    this.lastDeltaRotation.copyFrom(this.getDeltaMotionRotation());
                    this.transform.rotationQuaternion.multiplyInPlace(this.lastDeltaRotation);
                }
            }
            this.performActionTimer += deltaTime;
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Attachment Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Set the player world position */
        setWorldPosition(x, y, z) {
            if (this.characterController != null) {
                this.characterController.set(x, y, z);
            }
        }
        /** TODO */
        setPlayerControl(mode) {
            this.playerControl = mode;
            if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                this.showAvatarSkins(true);
            }
            else {
                this.showAvatarSkins(false);
            }
            this.forwardCamera = false; // NoteL Always False
        }
        /** TODO */
        togglePlayerControl() {
            if (this.toggleView === true) {
                if (this.playerControl === PROJECT.PlayerInputControl.FirstPersonStrafing) {
                    this.setPlayerControl(PROJECT.PlayerInputControl.ThirdPersonStrafing);
                }
                else {
                    this.setPlayerControl(PROJECT.PlayerInputControl.FirstPersonStrafing);
                }
            }
        }
        showAvatarSkins(show) {
            if (this.avatarSkins != null) {
                // TODO - Make Skins Visible Or Not TO Camera But Keep Shadows - ???
                this.avatarSkins.forEach((skin) => { skin.isVisible = show; });
            }
        }
        /** TODO */
        attachPlayerCamera(player) {
            if (this.cameraNode == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.cameraNode = PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                if (this.cameraNode != null) {
                    this.cameraNode.parent = this.cameraPivot;
                    this.cameraNode.position.copyFrom(this.boomPosition);
                    this.cameraNode.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                    // ..
                    // const actualCamera:BABYLON.UniversalCamera = SM.FindSceneCameraRig(this.cameraNode) as BABYLON.UniversalCamera;
                    // if (actualCamera != null) actualCamera.rotationQuaternion = BABYLON.Quaternion.FromEulerAngles(BABYLON.Tools.ToRadians(30),0,0);
                    // ..
                    // TODO - Move somewhere better - ???
                    // TODO - Handle Long Intitial Camera Pan - ???
                    // ..
                    this.cameraDistance = this.cameraNode.position.length();
                    this.dollyDirection.copyFrom(this.cameraNode.position);
                    this.dollyDirection.normalize();
                }
                else {
                    // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate player camera for: " + this.transform.name);
                }
            }
        }
        getLeftFootTarget() { return this._ikLeftFootTarget; }
        getRightFootTarget() { return this._ikRightFootTarget; }
        getLeftFootController() { return this._ikLeftController; }
        getRightFootController() { return this._ikRightController; }
        attachBoneControllers() {
            const displayHandles = this.getProperty("displayHandles");
            const abstractSkinMeshData = this.getProperty("abstractSkinMesh");
            if (abstractSkinMeshData != null)
                this.abstractSkinMesh = this.getChildNode(abstractSkinMeshData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            const rootBoneTransformData = this.getProperty("rootBoneTransform");
            if (rootBoneTransformData != null)
                this.rootBoneTransform = this.getChildNode(rootBoneTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            // ..
            const leftFootTransformData = this.getProperty("leftFootTransform");
            if (leftFootTransformData != null)
                this.leftFootTransform = this.getChildNode(leftFootTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            //const leftFootPositionData:BABYLON.Toolkit.IUnityVector3 = this.getProperty("leftFootPosition");
            //if (leftFootPositionData != null) this.leftFootPosition.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftFootPositionData));
            const leftPoleHandleData = this.getProperty("leftFootPolePos");
            if (leftPoleHandleData != null)
                this.leftFootPolePos.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftPoleHandleData));
            const leftBendAxisData = this.getProperty("leftFootBendAxis");
            if (leftBendAxisData != null)
                this.leftFootBendAxis.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftBendAxisData));
            this.leftFootPoleAngle = this.getProperty("leftFootPoleAngle", this.leftFootPoleAngle);
            this.leftFootMaxAngle = this.getProperty("leftFootMaxAngle", this.leftFootMaxAngle);
            // ..
            const rightFootTransformData = this.getProperty("rightFootTransform");
            if (rightFootTransformData != null)
                this.rightFootTransform = this.getChildNode(rightFootTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            //const rightFootPositionData:BABYLON.Toolkit.IUnityVector3 = this.getProperty("rightFootPosition");
            //if (rightFootPositionData != null) this.rightFootPosition.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightFootPositionData));
            const rightPoleHandleData = this.getProperty("rightFootPolePos");
            if (rightPoleHandleData != null)
                this.rightFootPolePos.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightPoleHandleData));
            const rightBendAxisData = this.getProperty("rightFootBendAxis");
            if (rightBendAxisData != null)
                this.rightFootBendAxis.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightBendAxisData));
            this.rightFootPoleAngle = this.getProperty("rightFootPoleAngle", this.rightFootPoleAngle);
            this.rightFootMaxAngle = this.getProperty("rightFootMaxAngle", this.rightFootMaxAngle);
            // ..
            if (this.abstractSkinMesh != null) {
                let materialName = "M_TARGET_MESH";
                let targetMaterial = this.scene.getMaterialByName(materialName);
                if (targetMaterial == null) {
                    targetMaterial = new BABYLON.StandardMaterial("M_TARGET_MESH", this.scene);
                    targetMaterial.diffuseColor = new BABYLON.Color3(1.0, 0.5, 0.25);
                }
                // ..
                // Setup Left Foot Controller
                // ..
                if (this.leftFootTransform != null && this.leftFootTransform._linkedBone != null) {
                    this._ikLeftFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".LeftFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikLeftFootTarget.parent = this.abstractSkinMesh;
                    //this._ikLeftFootTarget.position.copyFrom(this.leftFootPosition);
                    if (this._ikLeftFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftFootTarget.material = targetMaterial;
                        this._ikLeftFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikLeftPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".LeftFootPole", { diameter: 0.15 }, this.scene);
                    this._ikLeftPoleTarget.parent = this.abstractSkinMesh;
                    this._ikLeftPoleTarget.position.copyFrom(this.leftFootPolePos);
                    if (this._ikLeftPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikLeftController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.leftFootTransform)._linkedBone, {targetMesh:this._ikLeftFootTarget, poleTargetMesh:this._ikLeftPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.leftFootPoleAngle), bendAxis:this.leftFootBendAxis});
                    // this._ikLeftController.maxAngle = BABYLON.Tools.ToRadians(this.leftFootMaxAngle);
                }
                // ..
                // Setup Right Foot Controller
                // ..
                if (this.rightFootTransform != null && this.rightFootTransform._linkedBone != null) {
                    this._ikRightFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".RightFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikRightFootTarget.parent = this.abstractSkinMesh;
                    //this._ikRightFootTarget.position.copyFrom(this.rightFootPosition);
                    if (this._ikRightFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightFootTarget.material = targetMaterial;
                        this._ikRightFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikRightPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".RightFootPole", { diameter: 0.15 }, this.scene);
                    this._ikRightPoleTarget.parent = this.abstractSkinMesh;
                    this._ikRightPoleTarget.position.copyFrom(this.rightFootPolePos);
                    if (this._ikRightPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikRightController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.rightFootTransform)._linkedBone, {targetMesh:this._ikRightFootTarget, poleTargetMesh:this._ikRightPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.rightFootPoleAngle), bendAxis:this.rightFootBendAxis});
                    // this._ikRightController.maxAngle = BABYLON.Tools.ToRadians(this.rightFootMaxAngle);
                }
            }
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("BABYLON.Toolkit.AnimationState", true);
            }
            if (this.animationState != null) {
                this.animationState.onAnimationEndObservable.add(() => {
                    if (this.isPerformingAction === true) {
                        //console.log("Animation End: " + this.transform.name);
                        this.resetActionAnimationState();
                    }
                });
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        if (this._ikLeftController != null) {
                            this._ikLeftController.update();
                        }
                        if (this._ikRightController != null) {
                            this._ikRightController.update();
                        }
                    }
                });
            }
        }
        /** TODO */
        enableCharacterController(state) {
            if (state === true) {
                this.movementAllowed = true;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravityFactor(this.gravitationalForce);
                    this.characterController.setCollisionState(true);
                    //this.characterController.updatePosition = true;
                }
            }
            else {
                this.movementAllowed = false;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravityFactor(0);
                    this.characterController.setCollisionState(false);
                    //this.characterController.updatePosition = false;
                }
            }
        }
        /** TODO */
        resetPlayerRotation() {
            this.transform.rotationQuaternion.toEulerAnglesToRef(this.rotationEulers);
            this.playerRotationVector.x = this.rotationEulers.x;
            this.playerRotationVector.y = this.rotationEulers.y;
        }
        /** TODO */
        resetPlayerJumpingState() {
            this.minJumpTimer = 0;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterJumpFrame = false;
            if (this.characterController != null) {
                this.characterController.jump(0); // Note: Zero Jump Speed
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        awakePlayerController() {
            this.gravitationalForce = this.getProperty("gravityMultiplier", this.gravitationalForce);
            this.verticalStepSpeed = this.getProperty("stepUpVelocity", this.verticalStepSpeed);
            this.minStepUpHeight = this.getProperty("minStepHeight", this.minStepUpHeight);
            this.rigidBodyMass = this.getProperty("rigidBodyMass", this.rigidBodyMass);
            this.rotateCamera = this.getProperty("rotateCamera", this.rotateCamera);
            this.mouseWheel = this.getProperty("mouseWheel", this.mouseWheel);
            this.rayClimbLength = this.getProperty("rayClimbLength", this.rayClimbLength);
            this.rayClimbOffset = this.getProperty("rayClimbOffset", this.rayClimbOffset);
            this.rayHeightLength = this.getProperty("rayHeightLength", this.rayHeightLength);
            this.rayHeightOffset = this.getProperty("rayHeightOffset", this.rayHeightOffset);
            this.maxAngle = this.getProperty("maxAngle", this.maxAngle);
            this.landingEpsilon = this.getProperty("landingEpsilon", this.landingEpsilon);
            this.minFallVelocity = this.getProperty("minFallVelocity", this.minFallVelocity);
            this.airbornTimeout = this.getProperty("airbornTimeout", this.airbornTimeout);
            this.rootMotion = this.getProperty("rootMotion", this.rootMotion);
            this.moveSpeed = this.getProperty("moveSpeed", this.moveSpeed);
            this.walkSpeed = this.getProperty("walkSpeed", this.walkSpeed);
            this.lookSpeed = this.getProperty("lookSpeed", this.lookSpeed);
            this.jumpSpeed = this.getProperty("jumpSpeed", this.jumpSpeed);
            this.jumpDelay = this.getProperty("jumpDelay", this.jumpDelay);
            this.eyesHeight = this.getProperty("eyesHeight", this.eyesHeight);
            this.pivotHeight = this.getProperty("pivotHeight", this.pivotHeight);
            this.maxDistance = this.getProperty("maxDistance", this.maxDistance);
            this.scrollSpeed = this.getProperty("scrollSpeed", this.scrollSpeed);
            this.topLookLimit = this.getProperty("topLookLimit", this.topLookLimit);
            this.downLookLimit = this.getProperty("downLookLimit", this.downLookLimit);
            this.lowTurnSpeed = this.getProperty("lowTurnSpeed", this.lowTurnSpeed);
            this.highTurnSpeed = this.getProperty("highTurnSpeed", this.highTurnSpeed);
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.attachCamera = this.getProperty("attachCamera", this.attachCamera);
            this.freeLooking = this.getProperty("freeLooking", this.freeLooking);
            this.toggleView = this.getProperty("toggleView", this.toggleView);
            this.avatarSkinTag = this.getProperty("avatarSkinTag", this.avatarSkinTag);
            this.runKeyRequired = this.getProperty("runKeyRequired", this.runKeyRequired);
            this.cameraCollisions = this.getProperty("cameraCollisions", this.cameraCollisions);
            this.cameraSmoothing = this.getProperty("cameraSmoothing", this.cameraSmoothing);
            this.distanceFactor = this.getProperty("distanceFactor", this.distanceFactor);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.smoothMotionTime = this.getProperty("smoothMotionTime", this.smoothMotionTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.smoothAcceleration = this.getProperty("smoothAcceleration", this.smoothAcceleration);
            this.accelerationSpeed = this.getProperty("accelerationSpeed", this.accelerationSpeed);
            this.decelerationSpeed = this.getProperty("decelerationSpeed", this.decelerationSpeed);
            this.climbVolumeTag = this.getProperty("climbVolumeTag", this.climbVolumeTag);
            this.vaultVolumeTag = this.getProperty("vaultVolumeTag", this.vaultVolumeTag);
            this.useClimbSystem = this.getProperty("useClimbSystem", this.useClimbSystem);
            this.maxHeightRanges = this.getProperty("maxHeightRanges", this.maxHeightRanges);
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            this.postNetworkAttributes = this.getProperty("postNetworkAttribs", this.postNetworkAttributes);
            this.showDebugRaycasts = this.getProperty("showDebugRaycasts", this.showDebugRaycasts);
            // ..
            const arrowKeyRotation = this.getProperty("arrowKeyRotation");
            if (arrowKeyRotation === true)
                BABYLON.Toolkit.UserInputOptions.UseArrowKeyRotation = true;
            // ..
            const boomPositionData = this.getProperty("boomPosition");
            if (boomPositionData != null)
                this.boomPosition = BABYLON.Toolkit.Utilities.ParseVector3(boomPositionData);
            // ..
            const sphereRadius = this.getProperty("sphereRadius", 0.65);
            this.cameraRaycastShape = new BABYLON.PhysicsShapeSphere(new BABYLON.Vector3(0, 0, 0), sphereRadius, this.scene);
            // ..
            this.abstractMesh = this.getAbstractMesh();
            this.showDebugColliders = BABYLON.Toolkit.Utilities.ShowDebugColliders();
            this.colliderVisibility = BABYLON.Toolkit.Utilities.ColliderVisibility();
            this.colliderRenderGroup = BABYLON.Toolkit.Utilities.ColliderRenderGroup();
            // Note: Get Avatar Skins First Thing
            if (this.avatarSkinTag != null && this.avatarSkinTag !== "") {
                this.avatarSkins = this.getChildrenWithTags(this.avatarSkinTag, false);
            }
            const pcontrol = this.getProperty("playerControl", this.playerControl);
            this.setPlayerControl(pcontrol);
            this.resetPlayerRotation();
            // ..
            this.cameraPivot = new BABYLON.Mesh(this.transform.name + ".CameraPivot", this.scene);
            this.cameraPivot.parent = null;
            this.cameraPivot.position = this.transform.position.clone();
            this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
            this.cameraPivot.checkCollisions = false;
            this.cameraPivot.isPickable = false;
            // ..
            if (this.showDebugColliders === true) {
                const testPivot = BABYLON.MeshBuilder.CreateBox("TestPivot", { width: 0.25, height: 0.25, depth: 0.5 }, this.scene);
                testPivot.parent = this.cameraPivot;
                testPivot.position.set(0, 0, 0);
                testPivot.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                testPivot.visibility = 0.5;
                testPivot.renderingGroupId = this.colliderRenderGroup;
                testPivot.checkCollisions = false;
                testPivot.isPickable = false;
            }
            // ..
            const configController = this.getComponent("BABYLON.Toolkit.CharacterController");
            // ..
            // Setup IK Bone Controllers
            // ..
            this.attachBoneControllers();
            // ..
            BABYLON.Toolkit.InputController.OnKeyboardPress(this.keyboardCamera, () => { this.togglePlayerControl(); });
            BABYLON.Toolkit.InputController.OnGamepadButtonPress(this.buttonCamera, () => { this.togglePlayerControl(); });
        }
        startPlayerController() {
            // TODO - Support Dynamic PlayerNumber Change - ???
            if (this.attachCamera === true) {
                this.attachPlayerCamera(this.playerNumber);
            }
            this.navigationAgent = this.getComponent("BABYLON.Toolkit.NavigationAgent");
            this.characterController = this.getComponent("BABYLON.Toolkit.CharacterController");
            if (this.characterController != null) {
                this.avatarRadius = this.characterController.getAvatarRadius();
                this.characterController.showRaycasts = this.showDebugRaycasts;
                this.characterController.setRigidBodyMass(this.rigidBodyMass);
                this.characterController.setGravityFactor(this.gravitationalForce);
                this.characterController.setVerticalStepSpeed(this.verticalStepSpeed);
                this.characterController.setMinimumStepHeight(this.minStepUpHeight);
                this.characterController.onUpdatePositionObservable.add(() => {
                    this.updatePlayerPosition();
                    this.updateCameraController();
                });
                BABYLON.Toolkit.SceneManager.LogWarning("Starting player controller in physic engine mode for: " + this.transform.name);
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("No character controller found for: " + this.transform.name);
            }
            // Set player window state variable
            // SM.SetWindowState("player", this);
        }
        updatePlayerPosition() {
            if (this.onPlayerPositionObservable && this.onPlayerPositionObservable.hasObservers()) {
                this.onPlayerPositionObservable.notifyObservers(this.transform);
            }
        }
        updatePlayerController() {
            this.deltaTime = this.getDeltaSeconds();
            //this.smoothDeltaTime = BABYLON.Toolkit.System.SmoothDeltaFactor * this.deltaTime + (1 - BABYLON.Toolkit.System.SmoothDeltaFactor) * this.smoothDeltaTime;
            // ..
            this.m_actualVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_linearVelocity.copyFrom(this.m_actualVelocity);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.deltaTime);
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.playerDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.playerDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            // TODO - FIX THIS SHIT
            if (this.updateStateParams === true && this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            if (this.minJumpTimer > 0) {
                this.minJumpTimer -= this.deltaTime;
                if (this.minJumpTimer < 0)
                    this.minJumpTimer = 0;
            }
            if (this.isCharacterGrounded === true && this.delayJumpTimer > 0) {
                this.delayJumpTimer -= this.deltaTime;
                if (this.delayJumpTimer < 0)
                    this.delayJumpTimer = 0;
            }
            // ..
            this.canPlayerJump = true;
            if (this.isPerformingAction === true) {
                this.updateAnimationActionState();
                if (this.onUpdateActionObservable && this.onUpdateActionObservable.hasObservers()) {
                    this.onUpdateActionObservable.notifyObservers(this.transform);
                }
            }
            if (this.enableInput === false)
                return;
            const userInputX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Horizontal, this.playerNumber);
            const userInputZ = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Vertical, this.playerNumber);
            const userMouseX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseX, this.playerNumber);
            const userMouseY = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseY, this.playerNumber);
            if (this.smoothAcceleration === true) {
                // SMOOTH USER INPUT X
                if (userInputX > 0) {
                    this.playerInputX += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX > 1)
                        this.playerInputX = 1;
                }
                else if (userInputX < 0) {
                    this.playerInputX -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX < -1)
                        this.playerInputX = -1;
                }
                else {
                    if (this.playerInputX < 0) {
                        this.playerInputX += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX > 0)
                            this.playerInputX = 0;
                    }
                    else if (this.playerInputX > 0) {
                        this.playerInputX -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX < 0)
                            this.playerInputX = 0;
                    }
                }
                // SMOOTH USER INPUT Z
                if (userInputZ > 0) {
                    this.playerInputZ += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ > 1)
                        this.playerInputZ = 1;
                }
                else if (userInputZ < 0) {
                    this.playerInputZ -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ < -1)
                        this.playerInputZ = -1;
                }
                else {
                    if (this.playerInputZ < 0) {
                        this.playerInputZ += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ > 0)
                            this.playerInputZ = 0;
                    }
                    else if (this.playerInputZ > 0) {
                        this.playerInputZ -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ < 0)
                            this.playerInputZ = 0;
                    }
                }
            }
            else {
                // RAW USER INPUT XZ
                this.playerInputX = userInputX;
                this.playerInputZ = userInputZ;
            }
            // ..
            this.playerMouseX = userMouseX;
            this.playerMouseY = userMouseY;
            // ..
            // Validate Animation Action
            // ..
            if (this.isPerformingAction === true && this.isActionInterruptable === true) {
                if (this.playerInputX !== 0 || this.playerInputZ !== 0) {
                    //console.log("Animation Interrupt: " + this.transform.name);
                    this.resetActionAnimationState();
                }
            }
            if (this.isPerformingAction === true) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Input
            // ..
            if (this.onPlayerInputObservable && this.onPlayerInputObservable.hasObservers()) {
                this.onPlayerInputObservable.notifyObservers(this.transform);
            }
            //..
            // Update Input Magnitude
            // ..
            this.inputMovementVector.set(this.playerInputX, 0, this.playerInputZ);
            if (this.inputMovementVector.length() > 1.0)
                this.inputMovementVector.normalize(); // Note: Normalize In Place
            this.inputMagnitude = this.inputMovementVector.length();
            // ..
            // Update Move Direction
            // ..
            const moveForward = (this.playerInputZ > 0);
            const moveBackward = (this.playerInputZ < 0);
            const moveRight = (this.playerInputX > 0);
            const moveLeft = (this.playerInputX < 0);
            if (moveForward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Forward;
                }
            }
            else if (moveBackward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Backward;
                }
            }
            else if (moveLeft === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingLeft;
            }
            else if (moveRight === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingRight;
            }
            else {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            }
            // ..
            // Update Pre Notifications
            // ..
            if (this.onPreUpdateObservable && this.onPreUpdateObservable.hasObservers()) {
                this.onPreUpdateObservable.notifyObservers(this.transform);
            }
            // ..
            // Update Forward Camera Vector
            // ..
            // this.cameraForwardVector.copyFrom(this.cameraPivot.forward);
            this.cameraForwardVector = this.scene.activeCamera.getForwardRay().direction;
            this.cameraForwardVector.y = 0;
            this.cameraForwardVector.normalize();
            this.cameraForwardVector.scaleToRef(this.playerInputZ, this.desiredForwardVector);
            // ..
            // Update Right Camera Vector
            // ..
            // this.cameraRightVector.copyFrom(this.cameraPivot.right);
            this.cameraRightVector = BABYLON.Vector3.Cross(this.cameraForwardVector, BABYLON.Vector3.Up());
            this.cameraRightVector.y = 0;
            this.cameraRightVector.normalize();
            this.cameraRightVector.scaleToRef(this.playerInputX, this.desiredRightVector);
            // ..
            // Update Player Rotation Vector
            // ..
            this.playerRotationVector.y += (this.playerMouseX * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x += (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x = BABYLON.Scalar.Clamp(this.playerRotationVector.x, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            if (this.movementAllowed === false) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Button Presses
            // ..
            this.isRunPressed = (BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardRun) || BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonRun));
            this.isJumpPressed = (BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardJump) || BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonJump));
            // ..
            // Update Player Movement Velocity
            // ..
            this.movementSpeed = (this.inputMagnitude * this.moveSpeed * this.speedFactor);
            if (this.runKeyRequired === true && this.isRunPressed === false) {
                // ..
                // TODO: Lerp Max Speed From Walk To Run And Vice Versa (Smooth Out Transitions)
                // ..
                this.movementSpeed = BABYLON.Scalar.Clamp(this.movementSpeed, 0, this.walkSpeed);
            }
            // ..
            this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerMovementVelocity);
            this.playerMovementVelocity.scaleInPlace(this.movementSpeed);
            // ..
            // this.transform.rotationQuaternion.copyFrom(this.lastRotationQuaternion);
            if (this.movementAllowed === true) {
                if (this.playerControl === PROJECT.PlayerInputControl.FirstPersonStrafing) {
                    // TODO: Handle Root Motion Rotation
                    // No Free Looking - Snap Player Rotation (Euler Angle Rotation)
                    BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.transform.rotationQuaternion);
                }
                else if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                    // Validate Free Looking Rotation
                    if (this.freeLooking === true) {
                        if (this.inputMagnitude > 0) {
                            // FIXME - Note: Large Movement - Slerp Player Rotation (Euler Angle Rotation)
                            const strafingTurnRatio = (this.playerMovementVelocity.length() / this.moveSpeed);
                            const strafingTurnSpeed = BABYLON.Scalar.Lerp(this.highTurnSpeed, this.lowTurnSpeed, strafingTurnRatio);
                            BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.playerRotationQuaternion);
                            BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.playerRotationQuaternion, (strafingTurnSpeed * this.deltaTime), this.transform.rotationQuaternion);
                        }
                    }
                    else {
                        // TODO: Handle Root Motion Rotation
                        // No Free Looking - Snap Player Rotation (Euler Angle Rotation)
                        BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.transform.rotationQuaternion);
                    }
                }
                // this.lastRotationQuaternion.copyFrom(this.transform.rotationQuaternion);
            }
            this.verticalVelocity = this.getVerticalVelocity();
            this.movementVelocity.copyFrom(this.playerMovementVelocity);
            // ..
            // Update Character Controller
            // ..
            this.hasGroundedContact = false;
            this.isCharacterGrounded = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterNavigating = (this.navigationAgent != null && this.navigationAgent.isNavigating());
            this.navigationAngularSpeed = (this.navigationAgent != null) ? this.navigationAgent.angularSpeed : 0;
            this.updateCharacterController();
            // ..
            // Update Animation State Params
            // ..
            if (this.animationState != null && this.updateStateParams === true) {
                this.validateAnimationStateParams();
                this.animationState.setInteger(this.animationStateParams.moveDirection, this.playerMoveDirection);
                this.animationState.setFloat(this.animationStateParams.heightInput, this.verticalVelocity);
                this.animationState.setBool(this.animationStateParams.jumpFrame, this.isCharacterJumpFrame);
                this.animationState.setBool(this.animationStateParams.jumpState, this.isCharacterJumping);
                this.animationState.setInteger(this.animationStateParams.actionState, this.performActionNumber);
                this.animationState.setBool(this.animationStateParams.fallingState, this.isCharacterFalling);
                this.animationState.setBool(this.animationStateParams.slidingState, this.isCharacterSliding);
                this.animationState.setBool(this.animationStateParams.groundedState, this.isCharacterGrounded);
                if (this.smoothMotionTime > 0) {
                    if (this.smoothInputVectors === true) {
                        this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, this.playerInputX, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, this.playerInputZ, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, this.playerMouseX, this.smoothMotionTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, this.playerMouseY, this.smoothMotionTime, this.deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    }
                    this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude, this.smoothMotionTime, this.deltaTime);
                    this.animationState.setSmoothFloat(this.animationStateParams.speedInput, this.movementSpeed, this.smoothMotionTime, this.deltaTime);
                }
                else {
                    this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                    this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                    this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                    this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    this.animationState.setFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude);
                    this.animationState.setFloat(this.animationStateParams.speedInput, this.movementSpeed);
                }
                if (this.isCharacterNavigating === true) {
                    // TODO - Update Speed Input With Navigation Magnitude
                    // this.animationState.setFloat(this.animationStateParams.speedInput, this.inputMagnitude);
                }
            }
            // ..
            // Post Network Attributes
            // ..
            if (this.postNetworkAttributes == true && BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 0, this.playerMoveDirection); // Direction
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 1, this.inputMagnitude); // Magnitude
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 2, this.playerInputX); // Horizonal
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 3, this.playerInputZ); // Vertical
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 4, this.playerMouseX); // MouseX
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 5, this.playerMouseY); // MouseY
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 6, this.verticalVelocity); // Vertical Velocity
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 7, this.movementSpeed); // Movement Speed
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 8, this.performActionNumber); // Action State
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 9, ((this.isCharacterJumpFrame) ? 1 : 0)); // Jump Frame
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 10, ((this.isCharacterJumping) ? 1 : 0)); // Is Jumping
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 11, ((this.isCharacterFalling) ? 1 : 0)); // Is Falling
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 12, ((this.isCharacterSliding) ? 1 : 0)); // Is Sliding
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 13, ((this.isCharacterGrounded) ? 1 : 0)); // Is Grounded
            }
            // ..
            // Update Post Notifications
            // ..
            if (this.onPostUpdateObservable && this.onPostUpdateObservable.hasObservers()) {
                this.onPostUpdateObservable.notifyObservers(this.transform);
            }
        }
        afterPlayerController() {
        }
        // FIXME: Extra Raycast Distance When On Various Slope Angles - ???
        updateCharacterController() {
            if (this.characterController != null) {
                this.isCharacterRising = (this.isCharacterJumping == true && this.verticalVelocity > 0);
                this.isCharacterLanding = (this.isCharacterJumping == true && this.verticalVelocity < 0);
                if (this.isCharacterRising == true) {
                    this.hasGroundedContact = false; // IGNORE CONTACT
                }
                if (this.hasGroundedContact === true && this.minJumpTimer <= 0) {
                    this.isCharacterSliding = false; // NOT SLIDING
                    this.isCharacterGrounded = true; // IS GROUNDED
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterJumping = false;
                this.isCharacterFalling = (this.isCharacterGrounded === false && this.isCharacterSliding == false && this.isCharacterJumping == false && this.verticalVelocity < 0 && Math.abs(this.verticalVelocity) >= this.minFallVelocity);
                if (this.isCharacterFalling === true && this.isCharacterFallTriggered === false) {
                    this.isCharacterFallTriggered = true;
                    if (this.jumpDelay > 0)
                        this.delayJumpTimer = this.jumpDelay; // DUNNO: MAYBE USE SEPERATE FALLING DELAY TIMER - ???
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterFallTriggered = false;
                // WM.PrintToScreen("Is Grounded: " + this.isCharacterGrounded);
                // ..
                // Update Climbing System
                // ..
                if (this.useClimbSystem === true) {
                    this.castPhysicsClimbingVolumeRay();
                    this.castPhysicsHeightCheckVolumeRay();
                }
                // ..
                // Process Character Movement
                // ..
                //if (this.movementAllowed === false) return;
                if (this.isCharacterNavigating === false && this.movementAllowed === true) {
                    if (this.isCharacterGrounded === true) {
                        if (this.delayJumpTimer <= 0)
                            this.isCharacterJumpFrame = (this.canPlayerJump === true && this.isJumpPressed === true);
                        if (this.isPerformingAction === false && this.isCharacterJumpFrame === true && this.useClimbSystem === true && this.climbContact === true && this.heightContact === true) {
                            let climbAction = -1;
                            let rotateSpeed = 1;
                            let rotateTowards = false;
                            let matchHeight = false;
                            let startTime = 0;
                            let targetTime = 0;
                            let targetOffset = 0;
                            const hitHeight = parseFloat(this.heightContactPoint.y.toFixed(2));
                            const playerHeight = parseFloat(this.transform.position.y.toFixed(2));
                            const obstacleHeight = parseFloat((hitHeight - playerHeight).toFixed(2));
                            //console.log("Climb Action -->  Hit Height: " + hitHeight + " --> Player Height: " + playerHeight + " --> Obstacle Height: " + obstacleHeight + " --> Rotate Towards: " + rotateTowards);
                            if (obstacleHeight >= this.maxHeightRanges.stepUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.stepUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.StepUp;
                                rotateSpeed = this.maxHeightRanges.stepUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.stepUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.stepUpRange.matchHeight;
                                startTime = this.maxHeightRanges.stepUpRange.startTime;
                                targetTime = this.maxHeightRanges.stepUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.stepUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.jumpUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.jumpUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.JumpUp;
                                rotateSpeed = this.maxHeightRanges.jumpUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.jumpUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.jumpUpRange.matchHeight;
                                startTime = this.maxHeightRanges.jumpUpRange.startTime;
                                targetTime = this.maxHeightRanges.jumpUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.jumpUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.climbUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.climbUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.ClimbUp;
                                rotateSpeed = this.maxHeightRanges.climbUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.climbUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.climbUpRange.matchHeight;
                                startTime = this.maxHeightRanges.climbUpRange.startTime;
                                targetTime = this.maxHeightRanges.climbUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.climbUpRange.targetOffset;
                            }
                            if (climbAction >= 0) {
                                if (this.canClimbObstaclePredicate == null || this.canClimbObstaclePredicate(climbAction) === true) {
                                    this.isCharacterJumpFrame = false;
                                    this.isCharacterJumping = false;
                                    this.isCharacterLanding = false;
                                    this.isCharacterRising = false;
                                    this.playActionAnimation(climbAction, false, true);
                                    this.playerRotationSpeed = rotateSpeed;
                                    this.rotatePlayerTowards = rotateTowards;
                                    this.matchTargetHeight = matchHeight;
                                    this.matchStartTime = (startTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetTime = (targetTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetOffset = targetOffset;
                                    this.lastTargetHeight = hitHeight;
                                    this.lastStartHeight = null;
                                    this.lockTargetHeight = false;
                                }
                            }
                        }
                        if (this.isCharacterJumpFrame === true && this.jumpSpeed > 0) {
                            this.isCharacterJumping = true;
                            this.characterController.jump(this.jumpSpeed);
                            if (this.jumpDelay > 0)
                                this.delayJumpTimer = this.jumpDelay;
                            if (this.airbornTimeout > 0)
                                this.minJumpTimer = (this.airbornTimeout + this.deltaTime);
                            this.lastJumpVelocity.set(this.movementVelocity.x, 0, this.movementVelocity.z);
                        }
                        // ..
                        // Update Move Notifications
                        // ..
                        if (this.onBeforeMoveObservable && this.onBeforeMoveObservable.hasObservers()) {
                            this.onBeforeMoveObservable.notifyObservers(this.transform);
                        }
                        // ..
                        // Validate Root Motion Velocity
                        // ..
                        if (this.animationState != null && this.rootMotion === true) {
                            const rootMotion = this.getDeltaMotionPosition();
                            this.movementVelocity.set(rootMotion.x, 0, rootMotion.z);
                            BABYLON.Vector3.TransformNormalToRef(this.movementVelocity, this.transform.getWorldMatrix(), this.movementVelocity);
                            this.characterController.move(this.movementVelocity);
                        }
                        else {
                            //this.movementVelocity.scaleInPlace(this.deltaTime);
                            this.characterController.move(this.movementVelocity);
                        }
                    }
                    // this.characterController.updatePosition = true; - Which Is Best - ???
                }
                else {
                    // this.characterController.updatePosition = false; - Which Is Best - ???
                    // FIXME: EITHER OR - ???
                    // this.characterController.setGhostWorldPosition(this.transform.position);
                    // this.characterController.syncGhostToTransformPosition();
                }
            }
        }
        updateCameraController() {
            if (this.enableInput === false)
                return;
            // DUNNO FUR SURE:  if (this.isCharacterNavigating === true && this.navigationAngularSpeed > 0) allowRotation = false;
            if (this.cameraPivot != null) {
                // .. 
                // Update Camera Pivot Offset
                // ..
                if (this.targetCameraOffset.x !== 0 || this.targetCameraOffset.y !== 0 || this.targetCameraOffset.z !== 0) {
                    this.cameraPivotOffset.copyFrom(this.targetCameraOffset);
                }
                else {
                    if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                        this.cameraPivotOffset.set(0, this.pivotHeight, 0);
                    }
                    else {
                        this.cameraPivotOffset.set(0, this.eyesHeight, 0);
                    }
                }
                // ..
                // Update Camera Pivot Position
                // ..
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                // ..
                // Update Camera Pivot Rotation
                // ..
                if (this.rotateCamera === true) {
                    BABYLON.Quaternion.FromEulerAnglesToRef(this.playerRotationVector.x, this.playerRotationVector.y, 0, this.cameraPivot.rotationQuaternion);
                }
            }
            if (this.rotateCamera === true && this.cameraNode != null) {
                if (this.cameraSmoothing <= 0)
                    this.cameraSmoothing = 5.0; // Default Camera Smoothing
                if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                    if (this.cameraCollisions === true) {
                        // ..
                        // Check Camera Collision
                        // ..
                        // const maxDistance:number = Math.abs(this.boomPosition.z);
                        const parentNode = this.cameraNode.parent;
                        this.dollyDirection.scaleToRef(this.maxDistance, this.scaledMaxDirection);
                        this.dollyDirection.scaleToRef(this.cameraDistance, this.scaledCamDirection);
                        BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(parentNode, this.parentNodePosition);
                        BABYLON.Toolkit.Utilities.TransformPointToRef(parentNode, this.scaledMaxDirection, this.maximumCameraPos);
                        // ..
                        let contact = false;
                        let distance = 0;
                        if (this.characterController != null) {
                            // NOTE: USE SHAPECAST
                            if (this.cameraRaycastShape != null) {
                                const query = {
                                    shape: this.cameraRaycastShape,
                                    rotation: this.cameraNode.rotationQuaternion,
                                    startPosition: this.parentNodePosition,
                                    endPosition: this.maximumCameraPos,
                                    ignoreBody: this.transform.physicsBody,
                                    shouldHitTriggers: false
                                };
                                const result = BABYLON.Toolkit.RigidbodyPhysics.Shapecast(query);
                                contact = (result != null && result.world != null && result.world.hasHit === true && result.world.body != null);
                                distance = (contact === true) ? BABYLON.Vector3.Distance(this.parentNodePosition, result.world.hitPoint) : 0;
                            }
                            /* DEPRECATED: USE RAYCAST
                            if (this.cameraRaycastResult == null) this.cameraRaycastResult = new BABYLON.PhysicsRaycastResult;
                            BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.parentNodePosition, this.maximumCameraPos, this.cameraRaycastResult);
                            contact = (this.cameraRaycastResult != null && this.cameraRaycastResult.hasHit === true && this.cameraRaycastResult.body != null && this.cameraRaycastResult.body.transformNode != null);
                            distance = (this.cameraRaycastResult != null && this.cameraRaycastResult.hasHit === true) ? this.cameraRaycastResult.hitDistance : 0;
                            //let contactBody:string = (contact === true) ? this.cameraRaycastResult.body.transformNode.name : "";
                            //WM.PrintToScreen("Camera Collision: " + contact + " --> Distance:  " + distance + " --> Transform: " + contactBody);*/
                        }
                        if (contact === true) {
                            this.cameraDistance = BABYLON.Scalar.Clamp((distance * this.distanceFactor), this.minimumDistance, this.maxDistance);
                            // Lerp Past Camera Collisions
                            if (this.cameraNode.position.x !== this.scaledCamDirection.x || this.cameraNode.position.y !== this.scaledCamDirection.y || this.cameraNode.position.z !== this.scaledCamDirection.z) {
                                BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.scaledCamDirection, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                            }
                        }
                        else {
                            if (this.mouseWheel === true) {
                                if (BABYLON.Toolkit.InputController.IsWheelScrolling()) {
                                    const wheel = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Wheel);
                                    if (wheel < 0) { // ZOOM OUT
                                        const zoomOutSpeed = (this.scrollSpeed * this.deltaTime);
                                        this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.maxDistance, zoomOutSpeed);
                                    }
                                    else if (wheel > 0) { // ZOOM IN
                                        const zoomInSpeed = (this.scrollSpeed * this.deltaTime);
                                        this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.minimumDistance, zoomInSpeed);
                                    }
                                }
                            }
                            // Lerp To Camera Boom Position
                            if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                                BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                            }
                        }
                    }
                    else {
                        // Lerp To Camera Boom Position
                        if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                }
                else {
                    // Note: Snap To Zero Camera Pivot Position - First Person View
                    if (this.cameraNode.position.x !== 0 || this.cameraNode.position.y !== 0 || this.cameraNode.position.z !== 0) {
                        this.cameraNode.position.set(0, 0, 0);
                    }
                }
            }
            this.updateSmoothBoomArmLength();
        }
        getBoomArmMaxDistance() { return this.maxDistance; }
        setBoomArmMaxDistance(distance) { this.maxDistance = Math.abs(distance); }
        setSmoothBoomArmLength(length, speed, updateMaxDistance = true) {
            const absoluteLength = Math.abs(length);
            this.smoothBoomArmLength = -absoluteLength;
            this.smoothBoomArmSpeed = speed;
            if (updateMaxDistance === true) {
                const absoluteDistance = Math.abs(this.maxDistance);
                if (absoluteLength > absoluteDistance) {
                    this.setBoomArmMaxDistance(absoluteLength);
                }
            }
        }
        updateSmoothBoomArmLength() {
            if (this.smoothBoomArmLength != null && this.smoothBoomArmSpeed != null) {
                if (this.boomPosition.z !== this.smoothBoomArmLength) {
                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, this.smoothBoomArmLength, (this.smoothBoomArmSpeed * this.getDeltaSeconds()));
                }
                else {
                    this.smoothBoomArmLength = null;
                    this.smoothBoomArmSpeed = null;
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Ammo Physics Raycasting
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        castPhysicsClimbingVolumeRay() {
            let raycast = null;
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactPoint.set(0, 0, 0);
            this.climbContactNormal.set(0, 0, 0);
            this.climbContactAngle = 0;
            this.climbContactDistance = 0;
            // ..
            // Climbing Raycast Positions
            // ..
            const playerTransformForwardDirection = UTIL.TransformDirection(this.transform, this.forwardDirection);
            this.offsetClimbRaycastPosition.set(0, this.rayClimbOffset, 0);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.startClimbRaycastPosition, this.offsetClimbRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.endClimbRaycastPosition, this.forwardDirection.scale(this.rayClimbLength));
            this.endClimbRaycastPosition.y += this.rayClimbOffset;
            // ..
            //raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startClimbRaycastPosition, playerTransformForwardDirection, this.rayClimbLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            if (raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.climbContact = true;
                    this.climbContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.climbContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.climbContactNormal.copyFrom(raycast.hitNormal);
                    this.climbContactAngle = (this.climbContactNormal != null) ? Math.abs(BABYLON.Toolkit.Utilities.GetAngle(this.climbContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.climbContactDistance = raycast.hitDistance;
                }
            }
            // Climbing Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.climbSensorLine == null)
                    this.climbSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".ClimbingSensorLine", this.scene);
                if (this.climbContact === true) {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, this.endClimbRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        castPhysicsHeightCheckVolumeRay() {
            let raycast = null;
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactPoint.set(0, 0, 0);
            this.heightContactNormal.set(0, 0, 0);
            this.heightContactAngle = 0;
            this.heightContactDistance = 0;
            // ..
            // Height Check Raycast Positions
            // ..
            const playerTransformHeightDirection = UTIL.TransformDirection(this.transform, this.downDirection);
            if (this.climbContact === true) {
                this.endHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.addInPlace(BABYLON.Vector3.UpReadOnly.scale(this.rayHeightLength));
                //raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startHeightRaycastPosition, playerTransformHeightDirection, this.rayHeightLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            }
            else {
                this.offsetHeightRaycastPosition.set(0, this.rayHeightOffset, this.rayClimbLength);
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.startHeightRaycastPosition, this.offsetHeightRaycastPosition);
                this.endHeightRaycastPosition.copyFrom(this.startHeightRaycastPosition);
                this.endHeightRaycastPosition.addInPlace(this.downDirection.scale(this.rayHeightLength));
            }
            // ..
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.heightContact = true;
                    this.heightContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.heightContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.heightContactNormal.copyFrom(raycast.hitNormal);
                    this.heightContactAngle = (this.heightContactNormal != null) ? Math.abs(BABYLON.Toolkit.Utilities.GetAngle(this.heightContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.heightContactDistance = raycast.hitDistance;
                }
            }
            // Height Check Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.heightSensorLine == null)
                    this.heightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".HeightCheckSensorLine", this.scene);
                if (raycast != null && this.heightContact === true) {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, this.endHeightRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Private Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getCheckedVerticalVelocity() {
            const currentVelocity = (this.characterController != null) ? this.characterController.getVerticalVelocity() : 0;
            return (Math.abs(currentVelocity) >= PROJECT.StandardPlayerController.MIN_VERTICAL_VELOCITY) ? currentVelocity : 0;
        }
        destroyPlayerController() {
            this.cameraPivot = null;
            this.cameraNode = null;
            this.animationState = null;
            this.characterController = null;
            this.onPreUpdateObservable.clear();
            this.onPreUpdateObservable = null;
            this.onBeforeMoveObservable.clear();
            this.onBeforeMoveObservable = null;
            this.onPostUpdateObservable.clear();
            this.onPostUpdateObservable = null;
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded",
                };
            }
        }
    }
    StandardPlayerController.MIN_VERTICAL_VELOCITY = 0.01;
    StandardPlayerController.MIN_GROUND_DISTANCE = 0.15;
    StandardPlayerController.MIN_MOVE_EPSILON = 0.001;
    StandardPlayerController.MIN_TIMER_OFFSET = 0;
    StandardPlayerController.MIN_SLOPE_LIMIT = 0;
    StandardPlayerController.PLAYER_HEIGHT = "playerHeight";
    PROJECT.StandardPlayerController = StandardPlayerController;
    /**
    * Babylon Enum Definition
    * @interface PlayerInputControl
    */
    let PlayerInputControl;
    (function (PlayerInputControl) {
        PlayerInputControl[PlayerInputControl["FirstPersonStrafing"] = 0] = "FirstPersonStrafing";
        PlayerInputControl[PlayerInputControl["ThirdPersonStrafing"] = 1] = "ThirdPersonStrafing";
    })(PlayerInputControl = PROJECT.PlayerInputControl || (PROJECT.PlayerInputControl = {}));
    /**
    * Babylon Enum Definition
    * @interface PlayerMoveDirection
    */
    let PlayerMoveDirection;
    (function (PlayerMoveDirection) {
        PlayerMoveDirection[PlayerMoveDirection["Stationary"] = 0] = "Stationary";
        PlayerMoveDirection[PlayerMoveDirection["Forward"] = 1] = "Forward";
        PlayerMoveDirection[PlayerMoveDirection["ForwardLeft"] = 2] = "ForwardLeft";
        PlayerMoveDirection[PlayerMoveDirection["ForwardRight"] = 3] = "ForwardRight";
        PlayerMoveDirection[PlayerMoveDirection["Backward"] = 4] = "Backward";
        PlayerMoveDirection[PlayerMoveDirection["BackwardLeft"] = 5] = "BackwardLeft";
        PlayerMoveDirection[PlayerMoveDirection["BackwardRight"] = 6] = "BackwardRight";
        PlayerMoveDirection[PlayerMoveDirection["StrafingLeft"] = 7] = "StrafingLeft";
        PlayerMoveDirection[PlayerMoveDirection["StrafingRight"] = 8] = "StrafingRight";
    })(PlayerMoveDirection = PROJECT.PlayerMoveDirection || (PROJECT.PlayerMoveDirection = {}));
    /**
    * Babylon Enum Definition
    * @interface ActionAnimationType
    */
    let ActionAnimationType;
    (function (ActionAnimationType) {
        ActionAnimationType[ActionAnimationType["Neutral"] = 0] = "Neutral";
        ActionAnimationType[ActionAnimationType["StepUp"] = 1] = "StepUp";
        ActionAnimationType[ActionAnimationType["JumpUp"] = 2] = "JumpUp";
        ActionAnimationType[ActionAnimationType["ClimbUp"] = 3] = "ClimbUp";
        ActionAnimationType[ActionAnimationType["VaultOver"] = 4] = "VaultOver";
    })(ActionAnimationType = PROJECT.ActionAnimationType || (PROJECT.ActionAnimationType = {}));
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon toolkit third person player controller class
     * @class ThirdPersonPlayerController - All rights reserved (c) 2020 Mackey Kinard
    */
    class ThirdPersonPlayerController extends BABYLON.Toolkit.ScriptComponent {
        isAnimationEnabled() { return this.updateStateParams; }
        isRunButtonPressed() { return this.isRunPressed; }
        isJumpButtonPressed() { return this.isJumpPressed; }
        getPlayerJumped() { return this.isCharacterJumpFrame; }
        getPlayerJumping() { return this.isCharacterJumping; }
        getPlayerFalling() { return this.isCharacterFalling; }
        getPlayerSliding() { return this.isCharacterSliding; }
        getPlayerGrounded() { return this.isCharacterGrounded; }
        getFallTriggered() { return this.isCharacterFallTriggered; }
        getMovementSpeed() { return this.movementSpeed; }
        getAnimationSpeed() { return this.animationSpeed; }
        getCameraBoomNode() { return this.cameraNode; }
        getCameraTransform() { return this.cameraPivot; }
        getAnimationState() { return this.animationState; }
        getVerticalVelocity() { return this.getCheckedVerticalVelocity(); }
        getCharacterController() { return this.characterController; }
        getPlayerLookRotation() { return this.playerLookRotation; }
        getPlayerMoveDirection() { return this.playerMoveDirection; }
        getInputMovementVector() { return this.inputMovementVector; }
        getInputMagnitudeValue() { return this.inputMagnitude; }
        getCameraPivotPosition() { return (this.cameraPivot != null) ? this.cameraPivot.position : null; }
        getCameraPivotRotation() { return (this.cameraPivot != null) ? this.cameraPivot.rotationQuaternion : null; }
        getClimbContact() { return this.climbContact; }
        getClimbContactNode() { return this.climbContactNode; }
        getClimbContactPoint() { return this.climbContactPoint; }
        getClimbContactAngle() { return this.climbContactAngle; }
        getClimbContactNormal() { return this.climbContactNormal; }
        getClimbContactDistance() { return this.climbContactDistance; }
        ;
        getHeightContact() { return this.heightContact; }
        getHeightContactNode() { return this.heightContactNode; }
        getHeightContactPoint() { return this.heightContactPoint; }
        getHeightContactAngle() { return this.heightContactAngle; }
        getHeightContactNormal() { return this.heightContactNormal; }
        getHeightContactDistance() { return this.heightContactDistance; }
        ;
        constructor(transform, scene, properties) {
            super(transform, scene, properties);
            this.enableInput = false;
            this.attachCamera = false;
            this.rotateCamera = true;
            this.mouseWheel = true;
            this.freeCamera = null;
            this.freeLooking = false;
            this.requireSprintButton = false;
            this.gravitationalForce = 3.0;
            this.minFallVelocity = 1.0;
            this.verticalStepSpeed = 1.0;
            this.minStepUpHeight = 0.15;
            this.rigidBodyMass = 85.0;
            this.airbornTimeout = 0.5;
            this.maxAngle = 45;
            this.speedFactor = 1.0;
            this.rootMotion = false;
            this.moveSpeed = 5.335;
            this.walkSpeed = 2.0;
            this.lookSpeed = 2.0;
            this.jumpSpeed = 10.0;
            this.jumpDelay = 0.25;
            this.eyesHeight = 1.55;
            this.pivotHeight = 1.35;
            this.maxDistance = 5.0;
            this.scrollSpeed = 25;
            this.topLookLimit = 60.0;
            this.downLookLimit = 30.0;
            this.lowTurnSpeed = 15.0;
            this.highTurnSpeed = 25.0;
            this.smoothInputTime = 0;
            this.smoothInputVectors = false;
            this.smoothAcceleration = false;
            this.accelerationSpeed = 0.1;
            this.decelerationSpeed = 0.1;
            this.climbVolumeTag = "Climb";
            this.vaultVolumeTag = "Vault";
            this.maxHeightRanges = null;
            this.useClimbSystem = false;
            this.distanceFactor = 0.85;
            this.cameraSmoothing = 8;
            this.cameraCollisions = true;
            this.inputMagnitude = 0;
            this.landingEpsilon = 0.1;
            this.minimumDistance = 0.5;
            this.movementAllowed = true;
            this.playerInputX = 0;
            this.playerInputZ = 0;
            this.playerMouseX = 0;
            this.playerMouseY = 0;
            this.runKeyRequired = true;
            this.buttonRun = BABYLON.Xbox360Button.LeftStick;
            this.keyboardRun = BABYLON.Toolkit.UserInputKey.Shift;
            this.buttonJump = BABYLON.Xbox360Button.A;
            this.keyboardJump = BABYLON.Toolkit.UserInputKey.SpaceBar;
            this.buttonCamera = BABYLON.Xbox360Button.Y;
            this.keyboardCamera = BABYLON.Toolkit.UserInputKey.P;
            this.postNetworkAttributes = false;
            this.playerNumber = BABYLON.Toolkit.PlayerNumber.One;
            this.boomPosition = new BABYLON.Vector3(0, 0, -5);
            this.airbornVelocity = new BABYLON.Vector3(0, 0, 0);
            this.movementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.targetCameraOffset = new BABYLON.Vector3(0, 0, 0);
            this.defaultFreeCamera = null;
            this.defaultCameraNode = null;
            this.rayClimbOffset = 0.35;
            this.rayClimbLength = 0.85;
            this.canClimbObstaclePredicate = null;
            this.rayHeightOffset = 5.0;
            this.rayHeightLength = 6.0;
            this.abstractMesh = null;
            this.cameraDistance = 0;
            this.forwardCamera = true; // Note Always Camera Forward
            this.avatarRadius = 0.5;
            this.groundingObject = null;
            this.groundingCallback = null;
            this.dollyDirection = new BABYLON.Vector3(0, 0, 0);
            this.cameraEulers = new BABYLON.Vector3(0, 0, 0);
            this.rotationEulers = new BABYLON.Vector3(0, 0, 0);
            this.cameraPivotOffset = new BABYLON.Vector3(0, 0, 0);
            this.cameraForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.cameraRightVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredForwardVector = new BABYLON.Vector3(0, 0, 0);
            this.desiredRightVector = new BABYLON.Vector3(0, 0, 0);
            this.lastRotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
            this.scaledCamDirection = new BABYLON.Vector3(0, 0, 0);
            this.scaledMaxDirection = new BABYLON.Vector3(0, 0, 0);
            this.parentNodePosition = new BABYLON.Vector3(0, 0, 0);
            this.maximumCameraPos = new BABYLON.Vector3(0, 0, 0);
            this.tempWorldPosition = new BABYLON.Vector3(0, 0, 0);
            this.cameraRaycastResult = null;
            this.cameraRaycastShape = null;
            //private defaultRaycastGroup:number = BABYLON.Toolkit.CollisionFilters.DefaultFilter;
            //private defaultRaycastMask:number = BABYLON.Toolkit.CollisionFilters.StaticFilter;
            //private cameraRaycastMask:number = (BABYLON.Toolkit.CollisionFilters.DefaultFilter | BABYLON.Toolkit.CollisionFilters.StaticFilter | BABYLON.Toolkit.CollisionFilters.KinematicFilter); // Note: Exclude The Player Character Controller From Camera Collision
            this.avatarSkins = null;
            this.cameraNode = null;
            this.cameraPivot = null;
            this.navigationAgent = null;
            this.characterController = null;
            this.verticalVelocity = 0;
            this.smoothMotionSpeed = false;
            this.smoothChangeRate = 25;
            this.animationSpeed = 0;
            this.movementSpeed = 0;
            this.isRunPressed = false;
            this.isJumpPressed = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterGrounded = false;
            this.isCharacterFallTriggered = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterJumping = false;
            this.isCharacterRising = false;
            this.isCharacterLanding = false;
            this.isCharacterNavigating = false;
            this.navigationAngularSpeed = 0;
            this.updateStateParams = true;
            this.animationStateParams = null;
            this.sphereCollisionShape = null;
            this.hasGroundedContact = false;
            this.showDebugColliders = false;
            this.colliderVisibility = 0;
            this.colliderRenderGroup = 0;
            this.showDebugRaycasts = false;
            this.deltaTime = 0;
            this.minJumpTimer = 0;
            this.delayJumpTimer = 0;
            this.canPlayerJump = true;
            this.animationState = null;
            // DEPRECIATED: private rotationVelocityX:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            // DEPRECIATED: private rotationVelocityY:BABYLON.Vector2 = new BABYLON.Vector2(0,0);
            this.lastJumpVelocity = new BABYLON.Vector3(0, 0, 0);
            this.inputMovementVector = new BABYLON.Vector3(0, 0, 0);
            this.playerLookRotation = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationVector = BABYLON.Vector2.Zero();
            this.playerMovementVelocity = new BABYLON.Vector3(0, 0, 0);
            this.playerRotationQuaternion = BABYLON.Quaternion.Zero();
            this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            this.forwardDirection = new BABYLON.Vector3(0, 0, 1);
            this.downDirection = new BABYLON.Vector3(0, -1, 0);
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactAngle = 0;
            this.climbContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.climbContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.climbContactDistance = 0;
            this.climbSensorLine = null;
            this.offsetClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endClimbRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactAngle = 0;
            this.heightContactPoint = new BABYLON.Vector3(0, 0, 0);
            this.heightContactNormal = new BABYLON.Vector3(0, 0, 0);
            this.heightContactDistance = 0;
            this.heightSensorLine = null;
            this.offsetHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.startHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.endHeightRaycastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_velocityOffset = new BABYLON.Vector3(0, 0, 0);
            this.m_actualVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_linearVelocity = new BABYLON.Vector3(0, 0, 0);
            this.m_lastPosition = new BABYLON.Vector3(0, 0, 0);
            this.m_positionCenter = new BABYLON.Vector3(0, 0, 0);
            this.m_scaledVelocity = 0;
            this.playerDrawVelocity = 0;
            /** Register handler that is triggered before the controller has been updated */
            this.onPreUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered before the controller movement has been applied */
            this.onBeforeMoveObservable = new BABYLON.Observable();
            /** Register handler that is triggered after the controller has been updated */
            this.onPostUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered after player input has been updated */
            this.onPlayerInputObservable = new BABYLON.Observable();
            /** Register handler that is triggered when player position should be updated */
            this.onPlayerPositionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after performing action has been updated */
            this.onUpdateActionObservable = new BABYLON.Observable();
            /** Register handler that is triggered after animation state has been updated */
            this.onAnimationStateObservable = new BABYLON.Observable();
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Root Motion Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this._deltaMotionPosition = new BABYLON.Vector3(0, 0, 0);
            this._deltaMotionRotation = new BABYLON.Quaternion(0, 0, 0, 0);
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            // Blocking Action Animation System
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal = new BABYLON.Vector3(0, 0, 0);
            this.lastTargetRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this.lastDeltaPosition = new BABYLON.Vector3(0, 0, 0);
            this.lastDeltaRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            this._ikLeftController = null;
            this._ikLeftFootTarget = null;
            this._ikLeftPoleTarget = null;
            this._ikRightController = null;
            this._ikRightFootTarget = null;
            this._ikRightPoleTarget = null;
            this.abstractSkinMesh = null;
            this.rootBoneTransform = null;
            this.leftFootTransform = null;
            //private leftFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.leftFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.leftFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.leftFootPoleAngle = 0;
            this.leftFootMaxAngle = 180;
            this.rightFootTransform = null;
            //private rightFootPosition:BABYLON.Vector3 = new BABYLON.Vector3(0,0,0);
            this.rightFootPolePos = new BABYLON.Vector3(0, 0, 0);
            this.rightFootBendAxis = new BABYLON.Vector3(1, 0, 0);
            this.rightFootPoleAngle = 0;
            this.rightFootMaxAngle = 180;
            this.smoothBoomArmLength = null;
            this.smoothBoomArmSpeed = null;
        }
        awake() { this.awakePlayerController(); }
        start() { this.startPlayerController(); }
        after() { this.afterPlayerController(); }
        update() { this.updatePlayerController(); }
        destroy() { this.destroyPlayerController(); }
        getDeltaMotionPosition() {
            this._deltaMotionPosition.set(0, 0, 0);
            if (this.animationState != null) {
                const rootMotionPosition = this.animationState.getDeltaRootMotionPosition();
                if (rootMotionPosition != null) {
                    // FIXME: Calculate Delta Root Motion Position
                    this._deltaMotionPosition.copyFrom(rootMotionPosition);
                }
            }
            return this._deltaMotionPosition;
        }
        getDeltaMotionRotation() {
            this._deltaMotionRotation.set(0, 0, 0, 0);
            if (this.animationState != null) {
                const rootMotionRotation = this.animationState.getDeltaRootMotionRotation();
                if (rootMotionRotation != null) {
                    // FIXME: Calculate Delta Root Motion Rotation
                    this._deltaMotionRotation.copyFrom(rootMotionRotation);
                }
            }
            return this._deltaMotionRotation;
        }
        getIsPerformingAction() { return this.isPerformingAction; }
        getIsRootMotionAction() { return this.isRootMotionAction; }
        getIsActionInterruptable() { return this.isActionInterruptable; }
        playActionAnimation(action, interruptableAction = true, enableRootMotion = false, afterActionComplete = null) {
            if (this.isPerformingAction === false && this.animationState != null && action >= 0) {
                this.isPerformingAction = true;
                this.performActionTimer = 0;
                this.performActionNumber = action;
                this.afterActionHandler = afterActionComplete;
                this.isActionInterruptable = interruptableAction;
                this.isRootMotionAction = enableRootMotion;
                this.playerRotationSpeed = 10;
                this.rotatePlayerTowards = false;
                this.matchStartTime = 0;
                this.matchTargetTime = 0;
                this.matchTargetOffset = 0;
                this.matchTargetHeight = false;
                this.lockTargetHeight = false;
                this.lastStartHeight = null;
                this.lastTargetHeight = null;
                this.lastTargetNormal.set(0, 0, 0);
                this.lastTargetRotation.set(0, 0, 0, 1);
                if (this.isRootMotionAction === true) {
                    this.enableCharacterController(false); // Note: Disable Character Controller
                }
                if (this.animationState != null) {
                    this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                }
            }
        }
        resetActionAnimationState() {
            if (this.afterActionHandler != null) {
                try {
                    this.afterActionHandler();
                }
                catch (_a) { }
            }
            if (this.isRootMotionAction === true) {
                this.enableCharacterController(true); // Note: Enable Character Controller
            }
            if (this.animationState != null) {
                this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
            }
            this.performActionTimer = 0;
            this.performActionNumber = 0;
            this.isPerformingAction = false;
            this.isRootMotionAction = false;
            this.isActionInterruptable = false;
            this.afterActionHandler = null;
            this.playerRotationSpeed = 10;
            this.rotatePlayerTowards = false;
            this.matchStartTime = 0;
            this.matchTargetTime = 0;
            this.matchTargetOffset = 0;
            this.matchTargetHeight = false;
            this.lockTargetHeight = false;
            this.lastStartHeight = null;
            this.lastTargetHeight = null;
            this.lastTargetNormal.set(0, 0, 0);
            this.lastTargetRotation.set(0, 0, 0, 1);
        }
        updateAnimationActionState() {
            const deltaTime = this.getDeltaSeconds();
            const dampTime = (this.matchTargetTime - this.matchStartTime);
            if (this.animationState != null && this.isRootMotionAction === true) {
                const playerGlobalHeight = this.transform.absolutePosition.y;
                this.lastDeltaPosition.copyFrom(this.getDeltaMotionPosition());
                BABYLON.Vector3.TransformNormalToRef(this.lastDeltaPosition, this.transform.getWorldMatrix(), this.lastDeltaPosition);
                if (this.matchTargetHeight === true) {
                    if (this.lastStartHeight == null && this.performActionTimer >= this.matchStartTime) {
                        this.lastStartHeight = playerGlobalHeight;
                        this.animationState.resetSmoothProperty(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                        // console.warn(">>> Start Global Height: " + this.lastStartHeight + " --> Perform Action Timer: " + this.performActionTimer);
                    }
                    if (this.lastStartHeight != null && this.lastTargetHeight != null) {
                        this.lastDeltaPosition.y = 0;
                        const fixedTargetHeight = (this.lastTargetHeight + this.matchTargetOffset);
                        if (this.performActionTimer < this.matchTargetTime) {
                            this.animationState.setSmoothFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT, fixedTargetHeight, dampTime, deltaTime);
                            const smoothPlayerHeight = this.animationState.getFloat(PROJECT.ThirdPersonPlayerController.PLAYER_HEIGHT);
                            this.lastDeltaPosition.y = (smoothPlayerHeight - playerGlobalHeight);
                            // console.warn(">>> Lerp Target Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                        }
                        else if (this.lockTargetHeight === false && this.performActionTimer >= this.matchTargetTime) {
                            this.lastDeltaPosition.y = (fixedTargetHeight - playerGlobalHeight);
                            this.lockTargetHeight = true;
                            // console.warn(">>> Last Global Delta: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer + " ---> Match Target Time: " + this.matchTargetTime);
                        }
                    }
                }
                // ..
                // Apply Root Motion To Position
                // ..
                // this.lastDeltaPosition.x = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                // this.lastDeltaPosition.y = 0; // FIXME: Apply Rotation Y Difference Factor From Unity
                this.transform.position.addInPlace(this.lastDeltaPosition);
                // console.log("Player Action Height: " + playerGlobalHeight + " --> Perform Action Timer: " + this.performActionTimer);
                // console.log("Current Delta Height: " + this.lastDeltaPosition.y + " --> Perform Action Timer: " + this.performActionTimer);
                // ..
                // Apply Root Motion To Rotation
                // ..
                if (this.rotatePlayerTowards === true) {
                    if (this.climbContact === true) {
                        this.lastTargetNormal.set(-this.climbContactNormal.x, -this.climbContactNormal.y, -this.climbContactNormal.z);
                        BABYLON.Toolkit.Utilities.LookRotationToRef(this.lastTargetNormal, this.lastTargetRotation);
                        const lerpAmount = BABYLON.Scalar.Clamp(this.playerRotationSpeed * deltaTime);
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.lastTargetRotation, lerpAmount, this.transform.rotationQuaternion);
                        //console.log("Climb Target Rotation: " + this.lastTargetRotation);
                    }
                }
                else {
                    this.lastDeltaRotation.copyFrom(this.getDeltaMotionRotation());
                    this.transform.rotationQuaternion.multiplyInPlace(this.lastDeltaRotation);
                }
            }
            this.performActionTimer += deltaTime;
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Attachment Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** Set the player world position */
        setWorldPosition(x, y, z) {
            if (this.characterController != null) {
                this.characterController.set(x, y, z);
            }
        }
        /** TODO */
        attachPlayerCamera(player) {
            if (this.cameraNode == null) {
                const playerCamera = (player <= 0 || player > 4) ? 1 : player;
                const playerCameraNode = this.defaultCameraNode || PROJECT.DefaultCameraSystem.GetCameraTransform(this.scene, playerCamera);
                const playerFreeCamera = this.defaultFreeCamera || PROJECT.DefaultCameraSystem.GetMainCamera(this.scene, false);
                if (playerCameraNode != null && playerFreeCamera != null) {
                    this.cameraNode = playerCameraNode;
                    this.freeCamera = playerFreeCamera;
                    this.freeCamera.detachControl(); // NOTE: ALWAYS DETACH CONTROL
                    // ..
                    this.cameraNode.parent = this.cameraPivot;
                    this.cameraNode.position.copyFrom(this.boomPosition);
                    this.cameraNode.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                    // ..
                    // TODO - Move somewhere better - ???
                    // TODO - Handle Long Intitial Camera Pan - ???
                    // ..
                    this.cameraDistance = this.cameraNode.position.length();
                    this.dollyDirection.copyFrom(this.cameraNode.position);
                    this.dollyDirection.normalize();
                }
                else {
                    // DEBUG: BABYLON.Toolkit.SceneManager.LogWarning("Failed to locate player camera for: " + this.transform.name);
                }
            }
        }
        getLeftFootTarget() { return this._ikLeftFootTarget; }
        getRightFootTarget() { return this._ikRightFootTarget; }
        getLeftFootController() { return this._ikLeftController; }
        getRightFootController() { return this._ikRightController; }
        attachBoneControllers() {
            const displayHandles = this.getProperty("displayHandles");
            const abstractSkinMeshData = this.getProperty("abstractSkinMesh");
            if (abstractSkinMeshData != null)
                this.abstractSkinMesh = this.getChildNode(abstractSkinMeshData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            const rootBoneTransformData = this.getProperty("rootBoneTransform");
            if (rootBoneTransformData != null)
                this.rootBoneTransform = this.getChildNode(rootBoneTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            // ..
            const leftFootTransformData = this.getProperty("leftFootTransform");
            if (leftFootTransformData != null)
                this.leftFootTransform = this.getChildNode(leftFootTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            //const leftFootPositionData:BABYLON.Toolkit.IUnityVector3 = this.getProperty("leftFootPosition");
            //if (leftFootPositionData != null) this.leftFootPosition.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftFootPositionData));
            const leftPoleHandleData = this.getProperty("leftFootPolePos");
            if (leftPoleHandleData != null)
                this.leftFootPolePos.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftPoleHandleData));
            const leftBendAxisData = this.getProperty("leftFootBendAxis");
            if (leftBendAxisData != null)
                this.leftFootBendAxis.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(leftBendAxisData));
            this.leftFootPoleAngle = this.getProperty("leftFootPoleAngle", this.leftFootPoleAngle);
            this.leftFootMaxAngle = this.getProperty("leftFootMaxAngle", this.leftFootMaxAngle);
            // ..
            const rightFootTransformData = this.getProperty("rightFootTransform");
            if (rightFootTransformData != null)
                this.rightFootTransform = this.getChildNode(rightFootTransformData.name, BABYLON.Toolkit.SearchType.ExactMatch, false);
            //const rightFootPositionData:BABYLON.Toolkit.IUnityVector3 = this.getProperty("rightFootPosition");
            //if (rightFootPositionData != null) this.rightFootPosition.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightFootPositionData));
            const rightPoleHandleData = this.getProperty("rightFootPolePos");
            if (rightPoleHandleData != null)
                this.rightFootPolePos.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightPoleHandleData));
            const rightBendAxisData = this.getProperty("rightFootBendAxis");
            if (rightBendAxisData != null)
                this.rightFootBendAxis.copyFrom(BABYLON.Toolkit.Utilities.ParseVector3(rightBendAxisData));
            this.rightFootPoleAngle = this.getProperty("rightFootPoleAngle", this.rightFootPoleAngle);
            this.rightFootMaxAngle = this.getProperty("rightFootMaxAngle", this.rightFootMaxAngle);
            // ..
            if (this.abstractSkinMesh != null) {
                let materialName = "M_TARGET_MESH";
                let targetMaterial = this.scene.getMaterialByName(materialName);
                if (targetMaterial == null) {
                    targetMaterial = new BABYLON.StandardMaterial("M_TARGET_MESH", this.scene);
                    targetMaterial.diffuseColor = new BABYLON.Color3(1.0, 0.5, 0.25);
                }
                // ..
                // Setup Left Foot Controller
                // ..
                if (this.leftFootTransform != null && this.leftFootTransform._linkedBone != null) {
                    this._ikLeftFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".LeftFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikLeftFootTarget.parent = this.abstractSkinMesh;
                    //this._ikLeftFootTarget.position.copyFrom(this.leftFootPosition);
                    if (this._ikLeftFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftFootTarget.material = targetMaterial;
                        this._ikLeftFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikLeftPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".LeftFootPole", { diameter: 0.15 }, this.scene);
                    this._ikLeftPoleTarget.parent = this.abstractSkinMesh;
                    this._ikLeftPoleTarget.position.copyFrom(this.leftFootPolePos);
                    if (this._ikLeftPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikLeftPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikLeftController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.leftFootTransform)._linkedBone, {targetMesh:this._ikLeftFootTarget, poleTargetMesh:this._ikLeftPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.leftFootPoleAngle), bendAxis:this.leftFootBendAxis});
                    // this._ikLeftController.maxAngle = BABYLON.Tools.ToRadians(this.leftFootMaxAngle);
                }
                // ..
                // Setup Right Foot Controller
                // ..
                if (this.rightFootTransform != null && this.rightFootTransform._linkedBone != null) {
                    this._ikRightFootTarget = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".RightFootTarget", { width: 0.1, height: 0.1, depth: 0.1 }, this.scene);
                    this._ikRightFootTarget.parent = this.abstractSkinMesh;
                    //this._ikRightFootTarget.position.copyFrom(this.rightFootPosition);
                    if (this._ikRightFootTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightFootTarget.material = targetMaterial;
                        this._ikRightFootTarget.isVisible = displayHandles;
                    }
                    // ..
                    this._ikRightPoleTarget = BABYLON.MeshBuilder.CreateSphere(this.transform.name + ".RightFootPole", { diameter: 0.15 }, this.scene);
                    this._ikRightPoleTarget.parent = this.abstractSkinMesh;
                    this._ikRightPoleTarget.position.copyFrom(this.rightFootPolePos);
                    if (this._ikRightPoleTarget instanceof BABYLON.AbstractMesh) {
                        this._ikRightPoleTarget.isVisible = displayHandles;
                    }
                    // ..
                    // this._ikRightController = new BABYLON.BoneIKController(this.abstractSkinMesh, (<any>this.rightFootTransform)._linkedBone, {targetMesh:this._ikRightFootTarget, poleTargetMesh:this._ikRightPoleTarget, poleAngle:BABYLON.Tools.ToRadians(this.rightFootPoleAngle), bendAxis:this.rightFootBendAxis});
                    // this._ikRightController.maxAngle = BABYLON.Tools.ToRadians(this.rightFootMaxAngle);
                }
            }
        }
        attachAnimationController() {
            if (this.animationState == null) {
                this.animationState = this.getComponent("BABYLON.Toolkit.AnimationState", true);
            }
            if (this.animationState != null) {
                this.animationState.onAnimationEndObservable.add(() => {
                    if (this.isPerformingAction === true) {
                        //console.log("Animation End: " + this.transform.name);
                        this.resetActionAnimationState();
                    }
                });
                this.animationState.onAnimationUpdateObservable.add(() => {
                    if (this.animationState.ikFrameEnabled() === true) {
                        // FIXME: Update target mesh position When Grounded - Use Raycast - ???
                        if (this._ikLeftController != null) {
                            this._ikLeftController.update();
                        }
                        if (this._ikRightController != null) {
                            this._ikRightController.update();
                        }
                    }
                });
            }
        }
        /** TODO */
        enableCharacterController(state) {
            if (state === true) {
                this.movementAllowed = true;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravityFactor(this.gravitationalForce);
                    this.characterController.setCollisionState(true);
                    //this.characterController.updatePosition = true;
                }
            }
            else {
                this.movementAllowed = false;
                this.resetPlayerJumpingState();
                if (this.characterController != null) {
                    this.characterController.setGravityFactor(0);
                    this.characterController.setCollisionState(false);
                    //this.characterController.updatePosition = false;
                }
            }
        }
        /** TODO */
        resetPlayerRotation() {
            this.transform.rotationQuaternion.toEulerAnglesToRef(this.rotationEulers);
            this.playerRotationVector.x = this.rotationEulers.x;
            this.playerRotationVector.y = this.rotationEulers.y;
        }
        /** TODO */
        resetPlayerJumpingState() {
            this.minJumpTimer = 0;
            this.isCharacterJumping = false;
            this.isCharacterLanding = false;
            this.isCharacterRising = false;
            this.isCharacterJumpFrame = false;
            if (this.characterController != null) {
                this.characterController.jump(0); // Note: Zero Jump Speed
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        awakePlayerController() {
            this.gravitationalForce = this.getProperty("gravityMultiplier", this.gravitationalForce);
            this.verticalStepSpeed = this.getProperty("stepUpVelocity", this.verticalStepSpeed);
            this.minStepUpHeight = this.getProperty("minStepHeight", this.minStepUpHeight);
            this.rigidBodyMass = this.getProperty("rigidBodyMass", this.rigidBodyMass);
            this.rotateCamera = this.getProperty("rotateCamera", this.rotateCamera);
            this.mouseWheel = this.getProperty("mouseWheel", this.mouseWheel);
            this.rayClimbLength = this.getProperty("rayClimbLength", this.rayClimbLength);
            this.rayClimbOffset = this.getProperty("rayClimbOffset", this.rayClimbOffset);
            this.rayHeightLength = this.getProperty("rayHeightLength", this.rayHeightLength);
            this.rayHeightOffset = this.getProperty("rayHeightOffset", this.rayHeightOffset);
            this.maxAngle = this.getProperty("maxAngle", this.maxAngle);
            this.landingEpsilon = this.getProperty("landingEpsilon", this.landingEpsilon);
            this.minFallVelocity = this.getProperty("minFallVelocity", this.minFallVelocity);
            this.airbornTimeout = this.getProperty("airbornTimeout", this.airbornTimeout);
            this.rootMotion = this.getProperty("rootMotion", this.rootMotion);
            this.moveSpeed = this.getProperty("moveSpeed", this.moveSpeed);
            this.walkSpeed = this.getProperty("walkSpeed", this.walkSpeed);
            this.lookSpeed = this.getProperty("lookSpeed", this.lookSpeed);
            this.jumpSpeed = this.getProperty("jumpSpeed", this.jumpSpeed);
            this.jumpDelay = this.getProperty("jumpDelay", this.jumpDelay);
            this.eyesHeight = this.getProperty("eyesHeight", this.eyesHeight);
            this.pivotHeight = this.getProperty("pivotHeight", this.pivotHeight);
            this.maxDistance = this.getProperty("maxDistance", this.maxDistance);
            this.scrollSpeed = this.getProperty("scrollSpeed", this.scrollSpeed);
            this.topLookLimit = this.getProperty("topLookLimit", this.topLookLimit);
            this.downLookLimit = this.getProperty("downLookLimit", this.downLookLimit);
            this.lowTurnSpeed = this.getProperty("lowTurnSpeed", this.lowTurnSpeed);
            this.highTurnSpeed = this.getProperty("highTurnSpeed", this.highTurnSpeed);
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.attachCamera = this.getProperty("attachCamera", this.attachCamera);
            this.freeLooking = this.getProperty("freeLooking", this.freeLooking);
            this.runKeyRequired = this.getProperty("runKeyRequired", this.runKeyRequired);
            this.cameraCollisions = this.getProperty("cameraCollisions", this.cameraCollisions);
            this.cameraSmoothing = this.getProperty("cameraSmoothing", this.cameraSmoothing);
            this.distanceFactor = this.getProperty("distanceFactor", this.distanceFactor);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.smoothInputTime = this.getProperty("smoothInputTime", this.smoothInputTime);
            this.smoothInputVectors = this.getProperty("smoothInputVectors", this.smoothInputVectors);
            this.smoothAcceleration = this.getProperty("smoothAcceleration", this.smoothAcceleration);
            this.accelerationSpeed = this.getProperty("accelerationSpeed", this.accelerationSpeed);
            this.decelerationSpeed = this.getProperty("decelerationSpeed", this.decelerationSpeed);
            this.climbVolumeTag = this.getProperty("climbVolumeTag", this.climbVolumeTag);
            this.vaultVolumeTag = this.getProperty("vaultVolumeTag", this.vaultVolumeTag);
            this.useClimbSystem = this.getProperty("useClimbSystem", this.useClimbSystem);
            this.maxHeightRanges = this.getProperty("maxHeightRanges", this.maxHeightRanges);
            this.smoothMotionSpeed = this.getProperty("smoothMotionSpeed", this.smoothMotionSpeed);
            this.smoothChangeRate = this.getProperty("smoothChangeRate", this.smoothChangeRate);
            this.updateStateParams = this.getProperty("updateStateParams", this.updateStateParams);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            this.postNetworkAttributes = this.getProperty("postNetworkAttribs", this.postNetworkAttributes);
            this.showDebugRaycasts = this.getProperty("showDebugRaycasts", this.showDebugRaycasts);
            // ..
            const arrowKeyRotation = this.getProperty("arrowKeyRotation");
            if (arrowKeyRotation === true)
                BABYLON.Toolkit.UserInputOptions.UseArrowKeyRotation = true;
            // ..
            const boomPositionData = this.getProperty("boomPosition");
            if (boomPositionData != null)
                this.boomPosition = BABYLON.Toolkit.Utilities.ParseVector3(boomPositionData);
            // ..
            const sphereRadius = this.getProperty("sphereRadius", 0.65);
            this.cameraRaycastShape = new BABYLON.PhysicsShapeSphere(new BABYLON.Vector3(0, 0, 0), sphereRadius, this.scene);
            // ..
            this.abstractMesh = this.getAbstractMesh();
            this.showDebugColliders = BABYLON.Toolkit.Utilities.ShowDebugColliders();
            this.colliderVisibility = BABYLON.Toolkit.Utilities.ColliderVisibility();
            this.colliderRenderGroup = BABYLON.Toolkit.Utilities.ColliderRenderGroup();
            this.resetPlayerRotation();
            // ..
            this.cameraPivot = new BABYLON.Mesh(this.transform.name + ".CameraPivot", this.scene);
            this.cameraPivot.parent = null;
            this.cameraPivot.position = this.transform.position.clone();
            this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
            this.cameraPivot.checkCollisions = false;
            this.cameraPivot.isPickable = false;
            // ..
            if (this.showDebugColliders === true) {
                const testPivot = BABYLON.MeshBuilder.CreateBox("TestPivot", { width: 0.25, height: 0.25, depth: 0.75 }, this.scene);
                testPivot.parent = this.cameraPivot;
                testPivot.position.set(0, 0, 0);
                testPivot.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                testPivot.visibility = 1.0;
                testPivot.renderingGroupId = this.colliderRenderGroup;
                testPivot.checkCollisions = false;
                testPivot.isPickable = false;
            }
            // ..
            const configController = this.getComponent("BABYLON.Toolkit.CharacterController");
            // ..
            // Setup IK Bone Controllers
            // ..
            this.attachBoneControllers();
        }
        startPlayerController() {
            // TODO - Support Dynamic PlayerNumber Change - ???
            if (this.attachCamera === true) {
                this.attachPlayerCamera(this.playerNumber);
            }
            this.navigationAgent = this.getComponent("BABYLON.Toolkit.NavigationAgent");
            this.characterController = this.getComponent("BABYLON.Toolkit.CharacterController");
            if (this.characterController != null) {
                this.avatarRadius = this.characterController.getAvatarRadius();
                this.characterController.showRaycasts = this.showDebugRaycasts;
                this.characterController.setRigidBodyMass(this.rigidBodyMass);
                this.characterController.setGravityFactor(this.gravitationalForce);
                this.characterController.setVerticalStepSpeed(this.verticalStepSpeed);
                this.characterController.setMinimumStepHeight(this.minStepUpHeight);
                this.characterController.onUpdatePositionObservable.add(() => {
                    this.updatePlayerPosition();
                    this.updateCameraController();
                });
                BABYLON.Toolkit.SceneManager.LogWarning("Starting player controller in physic engine mode for: " + this.transform.name);
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("No character controller found for: " + this.transform.name);
            }
            // Set player window state variable
            // SM.SetWindowState("player", this);
        }
        updatePlayerPosition() {
            if (this.onPlayerPositionObservable && this.onPlayerPositionObservable.hasObservers()) {
                this.onPlayerPositionObservable.notifyObservers(this.transform);
            }
        }
        updatePlayerController() {
            this.deltaTime = this.getDeltaSeconds();
            // ..
            this.m_actualVelocity = this.transform.absolutePosition.subtract(this.m_lastPosition);
            this.m_linearVelocity.copyFrom(this.m_actualVelocity);
            this.m_scaledVelocity = (this.m_linearVelocity.length() / this.deltaTime);
            this.m_linearVelocity.normalize();
            this.m_linearVelocity.scaleInPlace(this.m_scaledVelocity);
            if (this.playerDrawVelocity > 0) {
                this.m_velocityOffset.copyFrom(this.m_linearVelocity);
                this.m_velocityOffset.scaleInPlace(this.playerDrawVelocity);
            }
            else {
                this.m_velocityOffset.set(0, 0, 0);
            }
            this.m_lastPosition.copyFrom(this.transform.absolutePosition);
            // TODO - FIX THIS SHIT
            if (this.updateStateParams === true && this.animationState == null) {
                this.attachAnimationController();
            }
            // ..
            if (this.minJumpTimer > 0) {
                this.minJumpTimer -= this.deltaTime;
                if (this.minJumpTimer < 0)
                    this.minJumpTimer = 0;
            }
            if (this.isCharacterGrounded === true && this.delayJumpTimer > 0) {
                this.delayJumpTimer -= this.deltaTime;
                if (this.delayJumpTimer < 0)
                    this.delayJumpTimer = 0;
            }
            // ..
            this.canPlayerJump = true;
            if (this.isPerformingAction === true) {
                this.updateAnimationActionState();
                if (this.onUpdateActionObservable && this.onUpdateActionObservable.hasObservers()) {
                    this.onUpdateActionObservable.notifyObservers(this.transform);
                }
            }
            // ..
            if (this.enableInput === false) {
                return;
            }
            // ..
            if (this.freeCamera == null) {
                console.warn("No player free camera, Movement disabled");
                return;
            }
            // ..
            const userInputX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Horizontal, this.playerNumber);
            const userInputZ = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Vertical, this.playerNumber);
            const userMouseX = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseX, this.playerNumber);
            const userMouseY = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.MouseY, this.playerNumber);
            if (this.smoothAcceleration === true) {
                // SMOOTH USER INPUT X
                if (userInputX > 0) {
                    this.playerInputX += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX > 1)
                        this.playerInputX = 1;
                }
                else if (userInputX < 0) {
                    this.playerInputX -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputX < -1)
                        this.playerInputX = -1;
                }
                else {
                    if (this.playerInputX < 0) {
                        this.playerInputX += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX > 0)
                            this.playerInputX = 0;
                    }
                    else if (this.playerInputX > 0) {
                        this.playerInputX -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputX < 0)
                            this.playerInputX = 0;
                    }
                }
                // SMOOTH USER INPUT Z
                if (userInputZ > 0) {
                    this.playerInputZ += (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ > 1)
                        this.playerInputZ = 1;
                }
                else if (userInputZ < 0) {
                    this.playerInputZ -= (this.accelerationSpeed * this.deltaTime);
                    if (this.playerInputZ < -1)
                        this.playerInputZ = -1;
                }
                else {
                    if (this.playerInputZ < 0) {
                        this.playerInputZ += (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ > 0)
                            this.playerInputZ = 0;
                    }
                    else if (this.playerInputZ > 0) {
                        this.playerInputZ -= (this.decelerationSpeed * this.deltaTime);
                        if (this.playerInputZ < 0)
                            this.playerInputZ = 0;
                    }
                }
            }
            else {
                // RAW USER INPUT XZ
                this.playerInputX = userInputX;
                this.playerInputZ = userInputZ;
            }
            // ..
            this.playerMouseX = userMouseX;
            this.playerMouseY = userMouseY;
            // ..
            // Validate Animation Action
            // ..
            if (this.isPerformingAction === true && this.isActionInterruptable === true) {
                if (this.playerInputX !== 0 || this.playerInputZ !== 0) {
                    //console.log("Animation Interrupt: " + this.transform.name);
                    this.resetActionAnimationState();
                }
            }
            if (this.isPerformingAction === true) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Input
            // ..
            if (this.onPlayerInputObservable && this.onPlayerInputObservable.hasObservers()) {
                this.onPlayerInputObservable.notifyObservers(this.transform);
            }
            //..
            // Update Input Magnitude
            // ..
            this.inputMovementVector.set(this.playerInputX, 0, this.playerInputZ);
            if (this.inputMovementVector.length() > 1.0)
                this.inputMovementVector.normalize(); // Note: Normalize In Place
            this.inputMagnitude = this.inputMovementVector.length();
            // ..
            // Update Move Direction
            // ..
            const moveForward = (this.playerInputZ > 0);
            const moveBackward = (this.playerInputZ < 0);
            const moveRight = (this.playerInputX > 0);
            const moveLeft = (this.playerInputX < 0);
            if (moveForward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.ForwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Forward;
                }
            }
            else if (moveBackward === true) {
                if (moveLeft === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardLeft;
                }
                else if (moveRight === true) {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.BackwardRight;
                }
                else {
                    this.playerMoveDirection = PROJECT.PlayerMoveDirection.Backward;
                }
            }
            else if (moveLeft === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingLeft;
            }
            else if (moveRight === true) {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.StrafingRight;
            }
            else {
                this.playerMoveDirection = PROJECT.PlayerMoveDirection.Stationary;
            }
            // ..
            // Update Pre Notifications
            // ..
            if (this.onPreUpdateObservable && this.onPreUpdateObservable.hasObservers()) {
                this.onPreUpdateObservable.notifyObservers(this.transform);
            }
            // ..
            // Update Forward Camera Vector
            // ..
            // this.cameraForwardVector.copyFrom(this.cameraPivot.forward);
            // this.cameraForwardVector = this.scene.activeCamera.getForwardRay().direction;
            this.cameraForwardVector = this.freeCamera.getForwardRay().direction;
            this.cameraForwardVector.y = 0;
            this.cameraForwardVector.normalize();
            this.cameraForwardVector.scaleToRef(this.playerInputZ, this.desiredForwardVector);
            // ..
            // Update Right Camera Vector
            // ..
            // this.cameraRightVector.copyFrom(this.cameraPivot.right);
            this.cameraRightVector = BABYLON.Vector3.Cross(this.cameraForwardVector, BABYLON.Vector3.Up());
            this.cameraRightVector.y = 0;
            this.cameraRightVector.normalize();
            this.cameraRightVector.scaleToRef(-this.playerInputX, this.desiredRightVector);
            // ..
            // Update Player Rotation Vector
            // ..
            this.playerRotationVector.y += (this.playerMouseX * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x += (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x = BABYLON.Scalar.Clamp(this.playerRotationVector.x, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            if (this.movementAllowed === false) {
                this.canPlayerJump = false;
                this.playerInputX = 0;
                this.playerInputZ = 0;
            }
            // ..
            // Update Player Button Presses
            // ..
            this.isRunPressed = (BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardRun) || BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonRun));
            this.isJumpPressed = (BABYLON.Toolkit.InputController.GetKeyboardInput(this.keyboardJump) || BABYLON.Toolkit.InputController.GetGamepadButtonInput(this.buttonJump));
            // ..
            // Update Player Movement Velocity
            // ..
            this.movementSpeed = (this.inputMagnitude * this.moveSpeed * this.speedFactor);
            if (this.runKeyRequired === true && this.isRunPressed === false) {
                this.movementSpeed = BABYLON.Scalar.Clamp(this.movementSpeed, 0, this.walkSpeed);
            }
            // ..
            // Smooth Blended Animation Movements
            // ..
            if (this.smoothMotionSpeed === true) {
                this.animationSpeed = BABYLON.Scalar.Lerp(this.animationSpeed, this.movementSpeed, (this.deltaTime * this.smoothChangeRate));
                if (this.animationSpeed < 0.01)
                    this.animationSpeed = 0;
            }
            else {
                this.animationSpeed = this.movementSpeed;
            }
            // ..
            // Forward Third Person View - Player Look Rotation
            // ..
            this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerMovementVelocity);
            this.playerLookRotation.copyFrom(this.playerMovementVelocity);
            this.playerMovementVelocity.scaleInPlace(this.movementSpeed);
            // ..
            // Always Free Looking - Lerp Player Rotation (Turn And Burn)
            // ..
            this.transform.rotationQuaternion.copyFrom(this.lastRotationQuaternion);
            if (this.movementAllowed == true) {
                if (this.inputMagnitude > 0) {
                    // Calculate target position based on the player's current position and the camera's forward direction
                    // let targetPosition = this.transform.position.add(this.playerLookRotation);
                    // Rotate player to face the target position
                    // this.transform.lookAt(targetPosition, 0, 0, 0);
                    // ..
                    // SNAP TO: BABYLON.Toolkit.Utilities.LookRotationToRef(this.playerLookRotation, this.transform.rotationQuaternion);
                    // ..
                    BABYLON.Toolkit.Utilities.LookRotationToRef(this.playerLookRotation, this.playerRotationQuaternion);
                    const forwardTurnRatio = (this.playerLookRotation.length() / this.moveSpeed);
                    const forwardTurnSpeed = BABYLON.Scalar.Lerp(this.highTurnSpeed, this.lowTurnSpeed, forwardTurnRatio);
                    BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.playerRotationQuaternion, (forwardTurnSpeed * this.deltaTime), this.transform.rotationQuaternion);
                    this.lastRotationQuaternion.copyFrom(this.transform.rotationQuaternion);
                }
            }
            this.verticalVelocity = this.getVerticalVelocity();
            this.movementVelocity.copyFrom(this.playerMovementVelocity);
            // ..
            // Update Character Controller
            // ..
            this.hasGroundedContact = (this.characterController != null) ? this.characterController.isGrounded() : false;
            this.isCharacterGrounded = false;
            this.isCharacterSliding = false;
            this.isCharacterFalling = false;
            this.isCharacterJumpFrame = false;
            this.isCharacterNavigating = (this.navigationAgent != null && this.navigationAgent.isNavigating());
            this.navigationAngularSpeed = (this.navigationAgent != null) ? this.navigationAgent.angularSpeed : 0;
            this.updateCharacterController();
            // ..
            // Update Animation State Params
            // ..
            if (this.animationState != null && this.updateStateParams === true) {
                this.validateAnimationStateParams();
                this.animationState.setInteger(this.animationStateParams.moveDirection, this.playerMoveDirection);
                this.animationState.setFloat(this.animationStateParams.heightInput, this.verticalVelocity);
                this.animationState.setBool(this.animationStateParams.jumpFrame, this.isCharacterJumpFrame);
                this.animationState.setBool(this.animationStateParams.jumpState, this.isCharacterJumping);
                this.animationState.setInteger(this.animationStateParams.actionState, this.performActionNumber);
                this.animationState.setBool(this.animationStateParams.fallingState, this.isCharacterFalling);
                this.animationState.setBool(this.animationStateParams.slidingState, this.isCharacterSliding);
                this.animationState.setBool(this.animationStateParams.groundedState, this.isCharacterGrounded);
                if (this.smoothInputTime > 0) {
                    if (this.smoothInputVectors === true) {
                        this.animationState.setSmoothFloat(this.animationStateParams.horizontalInput, this.playerInputX, this.smoothInputTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.verticalInput, this.playerInputZ, this.smoothInputTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseXInput, this.playerMouseX, this.smoothInputTime, this.deltaTime);
                        this.animationState.setSmoothFloat(this.animationStateParams.mouseYInput, this.playerMouseY, this.smoothInputTime, this.deltaTime);
                    }
                    else {
                        this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                        this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                        this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                        this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    }
                    this.animationState.setSmoothFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude, this.smoothInputTime, this.deltaTime);
                    this.animationState.setSmoothFloat(this.animationStateParams.speedInput, this.animationSpeed, this.smoothInputTime, this.deltaTime);
                }
                else {
                    this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                    this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                    this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                    this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    this.animationState.setFloat(this.animationStateParams.inputMagnitude, this.inputMagnitude);
                    this.animationState.setFloat(this.animationStateParams.speedInput, this.animationSpeed);
                }
                if (this.isCharacterNavigating === true) {
                    // TODO - Update Speed Input With Navigation Magnitude
                    // this.animationState.setFloat(this.animationStateParams.speedInput, this.inputMagnitude);
                }
                if (this.onAnimationStateObservable && this.onAnimationStateObservable.hasObservers()) {
                    this.onAnimationStateObservable.notifyObservers(this.transform);
                }
            }
            // ..
            // Post Network Attributes
            // ..
            if (this.postNetworkAttributes == true && BABYLON.Toolkit.EntityController.HasNetworkEntity(this.transform)) {
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 0, this.playerMoveDirection); // Direction
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 1, this.inputMagnitude); // Magnitude
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 2, this.playerInputX); // Horizonal
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 3, this.playerInputZ); // Vertical
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 4, this.playerMouseX); // MouseX
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 5, this.playerMouseY); // MouseY
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 6, this.verticalVelocity); // Vertical Velocity
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 7, this.animationSpeed); // Movement Speed
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 8, this.performActionNumber); // Action State
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 9, ((this.isCharacterJumpFrame) ? 1 : 0)); // Jump Frame
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 10, ((this.isCharacterJumping) ? 1 : 0)); // Is Jumping
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 11, ((this.isCharacterFalling) ? 1 : 0)); // Is Falling
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 12, ((this.isCharacterSliding) ? 1 : 0)); // Is Sliding
                BABYLON.Toolkit.EntityController.PostBufferedAttribute(this.transform, 13, ((this.isCharacterGrounded) ? 1 : 0)); // Is Grounded
            }
            // ..
            // Update Post Notifications
            // ..
            if (this.onPostUpdateObservable && this.onPostUpdateObservable.hasObservers()) {
                this.onPostUpdateObservable.notifyObservers(this.transform);
            }
        }
        afterPlayerController() {
        }
        // FIXME: Extra Raycast Distance When On Various Slope Angles - ???
        updateCharacterController() {
            if (this.characterController != null) {
                this.isCharacterRising = (this.isCharacterJumping == true && this.verticalVelocity > 0);
                this.isCharacterLanding = (this.isCharacterJumping == true && this.verticalVelocity < 0);
                if (this.isCharacterRising == true) {
                    this.hasGroundedContact = false; // IGNORE CONTACT
                }
                if (this.hasGroundedContact === true && this.minJumpTimer <= 0) {
                    this.isCharacterSliding = false; // NOT SLIDING
                    this.isCharacterGrounded = true; // IS GROUNDED
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterJumping = false;
                this.isCharacterFalling = (this.isCharacterGrounded === false && this.isCharacterSliding == false && this.isCharacterJumping == false && this.verticalVelocity < 0 && Math.abs(this.verticalVelocity) >= this.minFallVelocity);
                if (this.isCharacterFalling === true && this.isCharacterFallTriggered === false) {
                    this.isCharacterFallTriggered = true;
                    if (this.jumpDelay > 0)
                        this.delayJumpTimer = this.jumpDelay; // DUNNO: MAYBE USE SEPERATE FALLING DELAY TIMER - ???
                }
                if (this.isCharacterGrounded === true)
                    this.isCharacterFallTriggered = false;
                // var msgx = ("Grounded: " + this.isCharacterGrounded + " -> Jumping: " + this.isCharacterJumping + " -> Rising: " + this.isCharacterRising + " -> Landing: " + this.isCharacterLanding + " -> Velocity: " + this.verticalVelocity);
                // console.log(msgx);
                // WM.PrintToScreen(msgx);
                // ..
                // Update Climbing System
                // ..
                if (this.useClimbSystem === true) {
                    this.castPhysicsClimbingVolumeRay();
                    this.castPhysicsHeightCheckVolumeRay();
                }
                // ..
                // Process Character Movement
                // ..
                //if (this.movementAllowed === false) return;
                if (this.isCharacterNavigating === false && this.movementAllowed === true) {
                    if (this.isCharacterGrounded === true) {
                        if (this.delayJumpTimer <= 0)
                            this.isCharacterJumpFrame = (this.canPlayerJump === true && this.isJumpPressed === true);
                        if (this.isPerformingAction === false && this.isCharacterJumpFrame === true && this.useClimbSystem === true && this.climbContact === true && this.heightContact === true) {
                            let climbAction = -1;
                            let rotateSpeed = 1;
                            let rotateTowards = false;
                            let matchHeight = false;
                            let startTime = 0;
                            let targetTime = 0;
                            let targetOffset = 0;
                            const hitHeight = parseFloat(this.heightContactPoint.y.toFixed(2));
                            const playerHeight = parseFloat(this.transform.position.y.toFixed(2));
                            const obstacleHeight = parseFloat((hitHeight - playerHeight).toFixed(2));
                            //console.log("Climb Action -->  Hit Height: " + hitHeight + " --> Player Height: " + playerHeight + " --> Obstacle Height: " + obstacleHeight + " --> Rotate Towards: " + rotateTowards);
                            if (obstacleHeight >= this.maxHeightRanges.stepUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.stepUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.StepUp;
                                rotateSpeed = this.maxHeightRanges.stepUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.stepUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.stepUpRange.matchHeight;
                                startTime = this.maxHeightRanges.stepUpRange.startTime;
                                targetTime = this.maxHeightRanges.stepUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.stepUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.jumpUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.jumpUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.JumpUp;
                                rotateSpeed = this.maxHeightRanges.jumpUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.jumpUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.jumpUpRange.matchHeight;
                                startTime = this.maxHeightRanges.jumpUpRange.startTime;
                                targetTime = this.maxHeightRanges.jumpUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.jumpUpRange.targetOffset;
                            }
                            else if (obstacleHeight >= this.maxHeightRanges.climbUpRange.minimumHeight && obstacleHeight <= this.maxHeightRanges.climbUpRange.maximumHeight) {
                                climbAction = PROJECT.ActionAnimationType.ClimbUp;
                                rotateSpeed = this.maxHeightRanges.climbUpRange.rotationSpeed;
                                rotateTowards = this.maxHeightRanges.climbUpRange.rotateTowards;
                                matchHeight = this.maxHeightRanges.climbUpRange.matchHeight;
                                startTime = this.maxHeightRanges.climbUpRange.startTime;
                                targetTime = this.maxHeightRanges.climbUpRange.targetTime;
                                targetOffset = this.maxHeightRanges.climbUpRange.targetOffset;
                            }
                            if (climbAction >= 0) {
                                if (this.canClimbObstaclePredicate == null || this.canClimbObstaclePredicate(climbAction) === true) {
                                    this.isCharacterJumpFrame = false;
                                    this.isCharacterJumping = false;
                                    this.isCharacterLanding = false;
                                    this.isCharacterRising = false;
                                    this.playActionAnimation(climbAction, false, true);
                                    this.playerRotationSpeed = rotateSpeed;
                                    this.rotatePlayerTowards = rotateTowards;
                                    this.matchTargetHeight = matchHeight;
                                    this.matchStartTime = (startTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetTime = (targetTime - PROJECT.ThirdPersonPlayerController.MIN_TIMER_OFFSET);
                                    this.matchTargetOffset = targetOffset;
                                    this.lastTargetHeight = hitHeight;
                                    this.lastStartHeight = null;
                                    this.lockTargetHeight = false;
                                }
                            }
                        }
                        if (this.isCharacterJumpFrame === true && this.jumpSpeed > 0) {
                            this.isCharacterJumping = true;
                            this.characterController.jump(this.jumpSpeed);
                            if (this.jumpDelay > 0)
                                this.delayJumpTimer = this.jumpDelay;
                            if (this.airbornTimeout > 0)
                                this.minJumpTimer = (this.airbornTimeout + this.deltaTime);
                            this.lastJumpVelocity.set(this.movementVelocity.x, 0, this.movementVelocity.z);
                        }
                        // ..
                        // Update Move Notifications
                        // ..
                        if (this.onBeforeMoveObservable && this.onBeforeMoveObservable.hasObservers()) {
                            this.onBeforeMoveObservable.notifyObservers(this.transform);
                        }
                        // ..
                        // Validate Root Motion Velocity
                        // ..
                        if (this.animationState != null && this.rootMotion === true) {
                            const rootMotion = this.getDeltaMotionPosition();
                            this.movementVelocity.set(rootMotion.x, 0, rootMotion.z);
                            BABYLON.Vector3.TransformNormalToRef(this.movementVelocity, this.transform.getWorldMatrix(), this.movementVelocity);
                            this.characterController.move(this.movementVelocity);
                        }
                        else {
                            //this.movementVelocity.scaleInPlace(this.deltaTime);
                            this.characterController.move(this.movementVelocity);
                        }
                    }
                    // this.characterController.updatePosition = true; - Which Is Best - ???
                }
                else {
                    // this.characterController.updatePosition = false; - Which Is Best - ???
                    // FIXME: EITHER OR - ???
                    // this.characterController.setGhostWorldPosition(this.transform.position);
                    //this.characterController.syncGhostToTransformPosition();
                }
            }
        }
        updateCameraController() {
            if (this.enableInput === false)
                return;
            // DUNNO FUR SURE:  if (this.isCharacterNavigating === true && this.navigationAngularSpeed > 0) allowRotation = false;
            if (this.cameraPivot != null) {
                // .. 
                // Update Camera Pivot Offset
                // ..
                if (this.targetCameraOffset.x !== 0 || this.targetCameraOffset.y !== 0 || this.targetCameraOffset.z !== 0) {
                    this.cameraPivotOffset.copyFrom(this.targetCameraOffset);
                }
                else {
                    this.cameraPivotOffset.set(0, this.pivotHeight, 0);
                }
                // ..
                // Update Camera Pivot Position
                // ..
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                // ..
                // Update Camera Pivot Rotation
                // ..
                if (this.rotateCamera === true) {
                    BABYLON.Quaternion.FromEulerAnglesToRef(this.playerRotationVector.x, this.playerRotationVector.y, 0, this.cameraPivot.rotationQuaternion);
                }
            }
            if (this.rotateCamera === true && this.cameraNode != null) {
                if (this.cameraSmoothing <= 0)
                    this.cameraSmoothing = 5.0; // Default Camera Smoothing
                if (this.cameraCollisions === true) {
                    // ..
                    // Check Camera Collision
                    // ..
                    // const maxDistance:number = Math.abs(this.boomPosition.z);
                    const parentNode = this.cameraNode.parent;
                    this.dollyDirection.scaleToRef(this.maxDistance, this.scaledMaxDirection);
                    this.dollyDirection.scaleToRef(this.cameraDistance, this.scaledCamDirection);
                    BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(parentNode, this.parentNodePosition);
                    BABYLON.Toolkit.Utilities.TransformPointToRef(parentNode, this.scaledMaxDirection, this.maximumCameraPos);
                    // ..
                    let contact = false;
                    let distance = 0;
                    if (this.characterController != null) {
                        // NOTE: USE SHAPECAST
                        if (this.cameraRaycastShape != null) {
                            const query = {
                                shape: this.cameraRaycastShape,
                                rotation: this.cameraNode.rotationQuaternion,
                                startPosition: this.parentNodePosition,
                                endPosition: this.maximumCameraPos,
                                ignoreBody: this.transform.physicsBody,
                                shouldHitTriggers: false
                            };
                            const result = BABYLON.Toolkit.RigidbodyPhysics.Shapecast(query);
                            contact = (result != null && result.world != null && result.world.hasHit === true && result.world.body != null);
                            distance = (contact === true) ? BABYLON.Vector3.Distance(this.parentNodePosition, result.world.hitPoint) : 0;
                        }
                        /* DEPRECATED: USE RAYCAST
                        if (this.cameraRaycastResult == null) this.cameraRaycastResult = new BABYLON.PhysicsRaycastResult;
                        BABYLON.Toolkit.RigidbodyPhysics.RaycastToRef(this.parentNodePosition, this.maximumCameraPos, this.cameraRaycastResult);
                        contact = (this.cameraRaycastResult != null && this.cameraRaycastResult.hasHit === true && this.cameraRaycastResult.body != null && this.cameraRaycastResult.body.transformNode != null);
                        distance = (this.cameraRaycastResult != null && this.cameraRaycastResult.hasHit === true) ? this.cameraRaycastResult.hitDistance : 0;
                        //let contactBody:string = (contact === true) ? this.cameraRaycastResult.body.transformNode.name : "";
                        //WM.PrintToScreen("Camera Collision: " + contact + " --> Distance:  " + distance + " --> Transform: " + contactBody);*/
                    }
                    if (contact === true) {
                        this.cameraDistance = BABYLON.Scalar.Clamp((distance * this.distanceFactor), this.minimumDistance, this.maxDistance);
                        // Lerp Past Camera Collisions
                        if (this.cameraNode.position.x !== this.scaledCamDirection.x || this.cameraNode.position.y !== this.scaledCamDirection.y || this.cameraNode.position.z !== this.scaledCamDirection.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.scaledCamDirection, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                    else {
                        if (this.mouseWheel === true) {
                            if (BABYLON.Toolkit.InputController.IsWheelScrolling()) {
                                const wheel = BABYLON.Toolkit.InputController.GetUserInput(BABYLON.Toolkit.UserInputAxis.Wheel);
                                if (wheel < 0) { // ZOOM OUT
                                    const zoomOutSpeed = (this.scrollSpeed * this.deltaTime);
                                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.maxDistance, zoomOutSpeed);
                                }
                                else if (wheel > 0) { // ZOOM IN
                                    const zoomInSpeed = (this.scrollSpeed * this.deltaTime);
                                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, -this.minimumDistance, zoomInSpeed);
                                }
                            }
                        }
                        // Lerp To Camera Boom Position
                        if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                }
                else {
                    // Lerp To Camera Boom Position
                    if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                        BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                    }
                }
            }
            this.updateSmoothBoomArmLength();
        }
        getBoomArmMaxDistance() { return this.maxDistance; }
        setBoomArmMaxDistance(distance) { this.maxDistance = Math.abs(distance); }
        setSmoothBoomArmLength(length, speed, updateMaxDistance = true) {
            const absoluteLength = Math.abs(length);
            this.smoothBoomArmLength = -absoluteLength;
            this.smoothBoomArmSpeed = speed;
            if (updateMaxDistance === true) {
                const absoluteDistance = Math.abs(this.maxDistance);
                if (absoluteLength > absoluteDistance) {
                    this.setBoomArmMaxDistance(absoluteLength);
                }
            }
        }
        updateSmoothBoomArmLength() {
            if (this.smoothBoomArmLength != null && this.smoothBoomArmSpeed != null) {
                if (this.boomPosition.z !== this.smoothBoomArmLength) {
                    this.boomPosition.z = BABYLON.Scalar.MoveTowards(this.boomPosition.z, this.smoothBoomArmLength, (this.smoothBoomArmSpeed * this.getDeltaSeconds()));
                }
                else {
                    this.smoothBoomArmLength = null;
                    this.smoothBoomArmSpeed = null;
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Ammo Physics Raycasting
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        castPhysicsClimbingVolumeRay() {
            let raycast = null;
            this.climbContact = false;
            this.climbContactNode = null;
            this.climbContactPoint.set(0, 0, 0);
            this.climbContactNormal.set(0, 0, 0);
            this.climbContactAngle = 0;
            this.climbContactDistance = 0;
            // ..
            // Climbing Raycast Positions
            // ..
            const playerTransformForwardDirection = UTIL.TransformDirection(this.transform, this.forwardDirection);
            this.offsetClimbRaycastPosition.set(0, this.rayClimbOffset, 0);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.startClimbRaycastPosition, this.offsetClimbRaycastPosition);
            BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.endClimbRaycastPosition, this.forwardDirection.scale(this.rayClimbLength));
            this.endClimbRaycastPosition.y += this.rayClimbOffset;
            // ..
            // raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startClimbRaycastPosition, playerTransformForwardDirection, this.rayClimbLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.climbContact = true;
                    this.climbContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.climbContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.climbContactNormal.copyFrom(raycast.hitNormal);
                    this.climbContactAngle = (this.climbContactNormal != null) ? Math.abs(BABYLON.Toolkit.Utilities.GetAngle(this.climbContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.climbContactDistance = raycast.hitDistance;
                }
            }
            // Climbing Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.climbSensorLine == null)
                    this.climbSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".ClimbingSensorLine", this.scene);
                if (raycast != null && this.climbContact === true) {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.climbSensorLine.drawLine([this.startClimbRaycastPosition, this.endClimbRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        castPhysicsHeightCheckVolumeRay() {
            let raycast = null;
            this.heightContact = false;
            this.heightContactNode = null;
            this.heightContactPoint.set(0, 0, 0);
            this.heightContactNormal.set(0, 0, 0);
            this.heightContactAngle = 0;
            this.heightContactDistance = 0;
            // ..
            // Height Check Raycast Positions
            // ..
            const playerTransformHeightDirection = UTIL.TransformDirection(this.transform, this.downDirection);
            if (this.climbContact === true) {
                this.endHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.copyFrom(this.climbContactPoint);
                this.startHeightRaycastPosition.addInPlace(BABYLON.Vector3.UpReadOnly.scale(this.rayHeightLength));
                // raycast = BABYLON.Toolkit.RigidbodyPhysics.PhysicsRaycast(this.scene, this.startHeightRaycastPosition, playerTransformHeightDirection, this.rayHeightLength, this.defaultRaycastGroup, this.defaultRaycastMask);
            }
            else {
                this.offsetHeightRaycastPosition.set(0, this.rayHeightOffset, this.rayClimbLength);
                BABYLON.Toolkit.Utilities.GetAbsolutePositionToRef(this.transform, this.startHeightRaycastPosition, this.offsetHeightRaycastPosition);
                this.endHeightRaycastPosition.copyFrom(this.startHeightRaycastPosition);
                this.endHeightRaycastPosition.addInPlace(this.downDirection.scale(this.rayHeightLength));
            }
            // ..
            if (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null) {
                const checkTag = BABYLON.Toolkit.SceneManager.GetTransformTag(raycast.collisionObject.entity);
                if (checkTag === this.climbVolumeTag) {
                    this.heightContact = true;
                    this.heightContactNode = raycast.collisionObject.entity;
                    if (raycast.hitPoint != null)
                        this.heightContactPoint.copyFrom(raycast.hitPoint);
                    if (raycast.hitNormal != null)
                        this.heightContactNormal.copyFrom(raycast.hitNormal);
                    this.heightContactAngle = (this.heightContactNormal != null) ? Math.abs(BABYLON.Toolkit.Utilities.GetAngle(this.heightContactNormal, BABYLON.Vector3.UpReadOnly)) : 0;
                    this.heightContactDistance = raycast.hitDistance;
                }
            }
            // Height Check Draw Debug Line
            if (this.showDebugColliders === true) {
                if (this.heightSensorLine == null)
                    this.heightSensorLine = new BABYLON.Toolkit.LinesMeshRenderer(this.transform.name + ".HeightCheckSensorLine", this.scene);
                if (raycast != null && this.heightContact === true) {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, raycast.hitPoint], BABYLON.Color3.Red());
                }
                else {
                    this.heightSensorLine.drawLine([this.startHeightRaycastPosition, this.endHeightRaycastPosition], BABYLON.Color3.Green());
                }
            }
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //  Private Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        getCheckedVerticalVelocity() {
            const currentVelocity = (this.characterController != null) ? this.characterController.getVerticalVelocity() : 0;
            return (Math.abs(currentVelocity) >= PROJECT.ThirdPersonPlayerController.MIN_VERTICAL_VELOCITY) ? currentVelocity : 0;
        }
        destroyPlayerController() {
            this.cameraPivot = null;
            this.cameraNode = null;
            this.animationState = null;
            this.characterController = null;
            this.onPreUpdateObservable.clear();
            this.onPreUpdateObservable = null;
            this.onBeforeMoveObservable.clear();
            this.onBeforeMoveObservable = null;
            this.onPostUpdateObservable.clear();
            this.onPostUpdateObservable = null;
        }
        validateAnimationStateParams() {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    moveDirection: "Direction",
                    inputMagnitude: "Magnitude",
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    heightInput: "Height",
                    speedInput: "Speed",
                    jumpFrame: "Jumped",
                    jumpState: "Jump",
                    actionState: "Action",
                    fallingState: "FreeFall",
                    slidingState: "Sliding",
                    groundedState: "Grounded",
                };
            }
        }
    }
    ThirdPersonPlayerController.MIN_VERTICAL_VELOCITY = 0.01;
    ThirdPersonPlayerController.MIN_GROUND_DISTANCE = 0.15;
    ThirdPersonPlayerController.MIN_MOVE_EPSILON = 0.001;
    ThirdPersonPlayerController.MIN_TIMER_OFFSET = 0;
    ThirdPersonPlayerController.MIN_SLOPE_LIMIT = 0;
    ThirdPersonPlayerController.PLAYER_HEIGHT = "playerHeight";
    PROJECT.ThirdPersonPlayerController = ThirdPersonPlayerController;
    /**
    * Babylon Enum Definition
    * @interface ThirdPersonControl
    */
    let ThirdPersonControl;
    (function (ThirdPersonControl) {
        ThirdPersonControl[ThirdPersonControl["ThirdPersonTurning"] = 0] = "ThirdPersonTurning";
        ThirdPersonControl[ThirdPersonControl["ThirdPersonForward"] = 1] = "ThirdPersonForward";
    })(ThirdPersonControl = PROJECT.ThirdPersonControl || (PROJECT.ThirdPersonControl = {}));
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class FxParticleSystem
    */
    class FxParticleSystem extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.m_particleEmitter = null;
            this.m_particleSystem = null;
        }
        getParticleEmitter() { return this.m_particleEmitter; }
        getParticleSystem() { return this.m_particleSystem; }
        awake() {
            const rootUrl = BABYLON.Toolkit.SceneManager.GetRootUrl(this.scene);
            const classType = this.getProperty("classType", 0);
            const particleText = this.getProperty("base64ParticleSystem");
            const playOnAwake = this.getProperty("playOnAwake", false);
            const particleTexture = this.getProperty("particleTexture");
            this.m_particleEmitter = this.getAbstractMesh();
            if (this.m_particleEmitter == null) {
                this.m_particleEmitter = BABYLON.MeshBuilder.CreateBox(this.transform.name + ".Emitter", { size: 0.25 }, this.scene);
                this.m_particleEmitter.parent = this.transform;
                this.m_particleEmitter.position.set(0, 0, 0);
                this.m_particleEmitter.isVisible = false;
                this.m_particleEmitter.isPickable = false;
                this.m_particleEmitter.material = BABYLON.Toolkit.Utilities.GetColliderMaterial(this.scene);
            }
            if (particleText != null && particleText !== "") {
                const particleJson = window.atob(particleText);
                if (particleJson != null && particleJson !== "") {
                    const particleParsed = JSON.parse(particleJson);
                    if (particleParsed != null) {
                        if (particleParsed.texture != null && particleTexture != null) {
                            particleParsed.texture.name = particleTexture.filename; // Note: Particle System Parser Use Name Not Url
                            particleParsed.texture.url = particleTexture.filename; // Note: Particle System Parser Use Name Not Url
                        }
                        if (classType === 1) { // GPU Particle System
                            this.m_particleSystem = BABYLON.GPUParticleSystem.Parse(particleParsed, this.scene, rootUrl);
                        }
                        else { // CPU Particle System
                            this.m_particleSystem = BABYLON.ParticleSystem.Parse(particleParsed, this.scene, rootUrl);
                        }
                        if (this.m_particleSystem != null) {
                            if (this.m_particleEmitter != null)
                                this.m_particleSystem.emitter = this.m_particleEmitter;
                            if (playOnAwake === false)
                                this.m_particleSystem.stop();
                        }
                    }
                }
            }
        }
        destroy() {
            this.m_particleEmitter = null;
            if (this.m_particleSystem != null) {
                this.m_particleSystem.dispose();
                this.m_particleSystem = null;
            }
        }
    }
    PROJECT.FxParticleSystem = FxParticleSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon water material system pro class (Babylon Water Material)
     * @class SkyMaterialSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    class SkyMaterialSystem extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.skyfog = false;
            this.skysize = 1000;
            this.probesize = 128;
            this.reflections = false;
            this.reflectlevel = 1;
            this.skytintcolor = new BABYLON.Color3(1, 1, 1);
            this.m_skyboxMesh = null;
            this.m_skyMaterial = null;
            this.m_reflectProbe = null;
        }
        getSkyboxMesh() { return this.m_skyboxMesh; }
        getSkyMaterial() { return this.m_skyMaterial; }
        getReflectionProbe() { return this.m_reflectProbe; }
        awake() { this.awakeSkyboxMaterial(); }
        start() { }
        update() { }
        late() { }
        after() { }
        destroy() { this.destroySkyboxMaterial(); }
        awakeSkyboxMaterial() {
            this.skyfog = this.getProperty("applyMeshFog", this.skyfog);
            this.skysize = this.getProperty("boxSize", this.skysize);
            this.probesize = this.getProperty("probeSize", this.probesize);
            this.reflections = this.getProperty("reflections", this.reflections);
            this.reflectlevel = this.getProperty("reflectLevel", this.reflectlevel);
            // ..
            const tintColor = this.getProperty("tintColor");
            if (tintColor != null)
                this.skytintcolor = BABYLON.Toolkit.Utilities.ParseColor3(tintColor);
            // ..
            this.m_skyboxMesh = BABYLON.MeshBuilder.CreateBox("Ambient Skybox", { size: this.skysize }, this.scene);
            this.m_skyboxMesh.position.set(0, 0, 0);
            this.m_skyboxMesh.infiniteDistance = true;
            this.m_skyboxMesh.applyFog = this.skyfog;
            if (this.scene.useRightHandedSystem === true)
                this.m_skyboxMesh.scaling.x *= -1;
            // Setup Sky Material Properties
            this.m_skyMaterial = new BABYLON.SkyMaterial(this.transform.name + ".SkyMaterial", this.scene);
            this.m_skyMaterial.backFaceCulling = false;
            this.setSkyboxTintColor(this.skytintcolor);
            /**
             * Defines the overall luminance of sky in interval [0, 1].
             */
            this.m_skyMaterial.luminance = this.getProperty("luminance", this.m_skyMaterial.luminance);
            /**
            * Defines the amount (scattering) of haze as opposed to molecules in atmosphere.
            */
            this.m_skyMaterial.turbidity = this.getProperty("turbidity", this.m_skyMaterial.turbidity);
            /**
             * Defines the sky appearance (light intensity).
             */
            this.m_skyMaterial.rayleigh = this.getProperty("rayleigh", this.m_skyMaterial.rayleigh);
            /**
             * Defines the mieCoefficient in interval [0, 0.1] which affects the property .mieDirectionalG.
             */
            this.m_skyMaterial.mieCoefficient = this.getProperty("mieCoefficient", this.m_skyMaterial.mieCoefficient);
            /**
             * Defines the amount of haze particles following the Mie scattering theory.
             */
            this.m_skyMaterial.mieDirectionalG = this.getProperty("mieDirectionalG", this.m_skyMaterial.mieDirectionalG);
            /**
             * Defines the distance of the sun according to the active scene camera.
             */
            this.m_skyMaterial.distance = this.getProperty("distance", this.m_skyMaterial.distance);
            /**
             * Defines the sun inclination, in interval [-0.5, 0.5]. When the inclination is not 0, the sun is said
             * "inclined".
             */
            this.m_skyMaterial.inclination = this.getProperty("inclination", this.m_skyMaterial.inclination);
            /**
             * Defines the solar azimuth in interval [0, 1]. The azimuth is the angle in the horizontal plan between
             * an object direction and a reference direction.
             */
            this.m_skyMaterial.azimuth = this.getProperty("azimuth", this.m_skyMaterial.azimuth);
            /**
             * Defines an offset vector used to get a horizon offset.
             * @example skyMaterial.cameraOffset.y = camera.globalPosition.y // Set horizon relative to 0 on the Y axis
             */
            const camOffsetData = this.getProperty("cameraOffset");
            if (camOffsetData != null)
                this.m_skyMaterial.cameraOffset = BABYLON.Toolkit.Utilities.ParseVector3(camOffsetData);
            /**
             * Defines if the sun position should be computed (inclination and azimuth) according to the scene
             * sun position.
             */
            this.m_skyMaterial.useSunPosition = this.getProperty("useSunPosition", this.m_skyMaterial.useSunPosition);
            this.m_skyMaterial.sunPosition = new BABYLON.Vector3(0, 50, 0);
            if (this.scene.metadata != null && this.scene.metadata.unity != null && this.scene.metadata.unity) {
                if (this.scene.metadata.toolkit.sunposition != null) {
                    this.m_skyMaterial.sunPosition = BABYLON.Toolkit.Utilities.ParseVector3(this.scene.metadata.toolkit.sunposition);
                }
            }
            // Assign Sky Material To Skybox Mesh
            this.m_skyboxMesh.material = this.m_skyMaterial;
            // Setup Environment Reflection Probe Texture
            if (this.reflections === true) {
                this.m_reflectProbe = new BABYLON.ReflectionProbe("Skybox-ReflectionProbe", this.probesize, this.scene);
                this.m_reflectProbe.renderList.push(this.m_skyboxMesh);
                this.scene.customRenderTargets.push(this.m_reflectProbe.cubeTexture);
                this.scene.environmentTexture = this.m_reflectProbe.cubeTexture;
                this.scene.environmentIntensity = this.reflectlevel;
            }
        }
        destroySkyboxMaterial() {
            if (this.m_skyboxMesh != null) {
                this.m_skyboxMesh.dispose();
                this.m_skyboxMesh = null;
            }
            if (this.m_reflectProbe != null) {
                this.m_reflectProbe.dispose();
                this.m_reflectProbe = null;
            }
            if (this.m_skyMaterial != null) {
                this.m_skyMaterial.dispose();
                this.m_skyMaterial = null;
            }
        }
        /** Set Skybox Mesh tint color. (Box Mesh Vertex Colors) */
        setSkyboxTintColor(color) {
            const colors = [];
            const numVertices = this.m_skyboxMesh.getTotalVertices();
            for (let i = 0; i < numVertices; ++i) {
                colors.push(color.r, color.g, color.b, 1.0);
            }
            this.m_skyboxMesh.setVerticesData("color", colors);
            this.m_skyboxMesh.useVertexColors = true;
        }
    }
    PROJECT.SkyMaterialSystem = SkyMaterialSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon water material system pro class (Babylon Water Material)
     * @class WaterMaterialSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    class WaterMaterialSystem extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            super(...arguments);
            this.waterTag = "Water";
            this.targetSize = new BABYLON.Vector2(128, 128);
            this.renderSize = new BABYLON.Vector2(512, 512);
            this.depthFactor = 1.0;
            this.reflectSkybox = true;
            this.subDivisions = 32;
            this.heightOffset = 1.0;
            this.windDirection = new BABYLON.Vector2(0, 1);
            this.windForce = 6;
            this.waveSpeed = 1.0;
            this.waveLength = 0.4;
            this.waveHeight = 0.4;
            this.bumpHeight = 0.4;
            this.waterColor = new BABYLON.Color3(0.1, 0.1, 0.6);
            this.colorBlendFactor = 0.2;
            this.waterColor2 = new BABYLON.Color3(0.1, 0.1, 0.6);
            this.colorBlendFactor2 = 0.2;
            this.disableClipPlane = false;
            this.m_waterGeometry = null;
            this.m_waterMaterial = null;
        }
        getWaterGeometry() { return this.m_waterGeometry; }
        getWaterMaterial() { return this.m_waterMaterial; }
        awake() {
            this.waterTag = this.getProperty("waterTag", this.waterTag);
            this.depthFactor = this.getProperty("depthFactor", this.depthFactor);
            this.subDivisions = this.getProperty("subDivisions", this.subDivisions);
            this.heightOffset = this.getProperty("heightOffset", this.heightOffset);
            this.reflectSkybox = this.getProperty("reflectSkybox", this.reflectSkybox);
            this.windForce = this.getProperty("windForce", this.windForce);
            this.waveSpeed = this.getProperty("waveSpeed", this.waveSpeed);
            this.waveLength = this.getProperty("waveLength", this.waveLength);
            this.waveHeight = this.getProperty("waveHeight", this.waveHeight);
            this.bumpHeight = this.getProperty("bumpHeight", this.bumpHeight);
            this.bumpSuperimpose = this.getProperty("bumpSuperimpose", this.bumpSuperimpose);
            this.bumpAffectsReflection = this.getProperty("bumpAffectsReflection", this.bumpAffectsReflection);
            this.colorBlendFactor = this.getProperty("colorBlendFactor", this.colorBlendFactor);
            this.colorBlendFactor2 = this.getProperty("colorBlendFactor2", this.colorBlendFactor2);
            this.disableClipPlane = this.getProperty("disableClipPlane", this.disableClipPlane);
            this.fresnelSeparate = this.getProperty("fresnelSeparate", this.fresnelSeparate);
            // ..
            const wcolor1 = this.getProperty("waterColor");
            this.waterColor = BABYLON.Toolkit.Utilities.ParseColor3(wcolor1);
            // ..
            const wcolor2 = this.getProperty("waterColor2");
            this.waterColor2 = BABYLON.Toolkit.Utilities.ParseColor3(wcolor2);
            // ..
            const wdirection = this.getProperty("windDirection");
            this.windDirection = BABYLON.Toolkit.Utilities.ParseVector2(wdirection);
            // ..
            const itargetsize = this.getProperty("targetSize");
            if (itargetsize != null)
                this.targetSize = BABYLON.Toolkit.Utilities.ParseVector2(itargetsize);
            // ..        
            const irendersize = this.getProperty("renderSize");
            if (irendersize != null)
                this.renderSize = BABYLON.Toolkit.Utilities.ParseVector2(irendersize);
            /* Awake component function */
            let bumpTexture = null;
            const bumpTextureData = this.getProperty("bumpTexture");
            if (bumpTextureData != null)
                bumpTexture = BABYLON.Toolkit.Utilities.ParseTexture(bumpTextureData, this.scene);
            if (bumpTexture != null) {
                this.m_waterMaterial = new BABYLON.WaterMaterial(this.transform.name + ".Water", this.scene, this.renderSize);
                this.m_waterMaterial.bumpTexture = bumpTexture;
                this.m_waterMaterial.windDirection = this.windDirection;
                this.m_waterMaterial.windForce = this.windForce;
                this.m_waterMaterial.waveSpeed = this.waveSpeed;
                this.m_waterMaterial.waveLength = this.waveLength;
                this.m_waterMaterial.waveHeight = this.waveHeight;
                this.m_waterMaterial.bumpHeight = this.bumpHeight;
                this.m_waterMaterial.bumpSuperimpose = this.bumpSuperimpose;
                this.m_waterMaterial.bumpAffectsReflection = this.bumpAffectsReflection;
                this.m_waterMaterial.waterColor = this.waterColor;
                this.m_waterMaterial.colorBlendFactor = this.colorBlendFactor;
                this.m_waterMaterial.waterColor2 = this.waterColor2;
                this.m_waterMaterial.colorBlendFactor2 = this.colorBlendFactor2;
                this.m_waterMaterial.disableClipPlane = this.disableClipPlane;
                this.m_waterMaterial.fresnelSeparate = this.fresnelSeparate;
                // ..
                // Water Material Tags
                // ..
                if (this.reflectSkybox === true) {
                    const skyboxMesh = BABYLON.Toolkit.SceneManager.GetDefaultSkybox(this.scene);
                    if (skyboxMesh != null)
                        this.m_waterMaterial.addToRenderList(skyboxMesh);
                }
                if (this.waterTag != null && this.waterTag !== "") {
                    const waterMeshes = this.scene.getMeshesByTags(this.waterTag);
                    if (waterMeshes != null && waterMeshes.length > 0) {
                        waterMeshes.forEach((mesh) => {
                            this.m_waterMaterial.addToRenderList(mesh);
                        });
                    }
                }
                // ..
                // Water Material Mesh
                // ..
                this.m_waterGeometry = BABYLON.MeshBuilder.CreateGround(this.transform.name + ".WaterMesh", { width: this.targetSize.x, height: this.targetSize.y, subdivisions: this.subDivisions, updatable: false }, this.scene);
                this.m_waterGeometry.parent = this.transform;
                this.m_waterGeometry.position.set(0, this.heightOffset, 0);
                if (this.depthFactor > 0)
                    this.m_waterGeometry.scaling.y *= this.depthFactor;
                this.m_waterGeometry.material = this.m_waterMaterial;
            }
            else {
                BABYLON.Toolkit.SceneManager.LogWarning("No supported water bump texture for: " + this.transform.name);
            }
        }
        start() { }
        update() { }
        late() { }
        after() { }
        destroy() { }
    }
    PROJECT.WaterMaterialSystem = WaterMaterialSystem;
})(PROJECT || (PROJECT = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon windows platform pro class
     * @class WindowsPlatform - All rights reserved (c) 2020 Mackey Kinard
     */
    class WindowsPlatform {
        /** Is xbox live user signed in if platform services enabled. (WinRT) */
        static IsXboxLiveUserSignedIn(systemUser = null, player = BABYLON.Toolkit.PlayerNumber.One) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                let user = (systemUser != null) ? BABYLON.WindowsPlatform.GetXboxLiveSystemUser(systemUser, player) : BABYLON.WindowsPlatform.GetXboxLiveUser(player);
                return (user != null && user.isSignedIn == true);
            }
            else {
                return false;
            }
        }
        /** Validated sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserSignIn(player = BABYLON.Toolkit.PlayerNumber.One, oncomplete, onerror, onprogress) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                BABYLON.WindowsPlatform.XboxLiveUserSilentSignIn(player, (first) => {
                    if (first.status === Microsoft.Xbox.Services.System.SignInStatus.userInteractionRequired) {
                        BABYLON.WindowsPlatform.XboxLiveUserDialogSignIn(player, (second) => {
                            if (oncomplete)
                                oncomplete(second);
                        }, onerror, onprogress);
                    }
                    else {
                        if (oncomplete)
                            oncomplete(first);
                    }
                }, onerror, onprogress);
            }
        }
        /** Silent sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserSilentSignIn(player = BABYLON.Toolkit.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (BABYLON.Toolkit.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUser(player).signInSilentlyAsync(null).then(oncomplete, onerror, onprogress) : null;
        }
        /** Dialog sign in xbox live user if platform services available. (WinRT) */
        static XboxLiveUserDialogSignIn(player = BABYLON.Toolkit.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (BABYLON.Toolkit.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUser(player).signInAsync(null).then(oncomplete, onerror, onprogress) : null;
        }
        /** Loads a xbox live user profile if platform services available. (WinRT) */
        static LoadXboxLiveUserProfile(player = BABYLON.Toolkit.PlayerNumber.One, oncomplete, onerror, onprogress) {
            return (BABYLON.Toolkit.WindowManager.IsWindows()) ? BABYLON.WindowsPlatform.GetXboxLiveUserContext(player).profileService.getUserProfileAsync(BABYLON.WindowsPlatform.GetXboxLiveUser(player).xboxUserId).then(oncomplete, onerror, onprogress) : null;
        }
        // ************************************** //
        // * Babylon Xbox Live Player Functions * //
        // ************************************** //
        /** Get xbox live user if platform services available. (WinRT) */
        static GetXboxLiveUser(player = BABYLON.Toolkit.PlayerNumber.One) {
            let user = null;
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                switch (player) {
                    case BABYLON.Toolkit.PlayerNumber.One:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserOne();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Two:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserTwo();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Three:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserThree();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Four:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveUserFour();
                        break;
                }
            }
            return user;
        }
        /** Get xbox live user if platform services available. (WinRT) */
        static GetXboxLiveSystemUser(systemUser, player = BABYLON.Toolkit.PlayerNumber.One) {
            let user = null;
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                switch (player) {
                    case BABYLON.Toolkit.PlayerNumber.One:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserOne(systemUser);
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Two:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserTwo(systemUser);
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Three:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserThree(systemUser);
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Four:
                        user = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveSystemUserFour(systemUser);
                        break;
                }
            }
            return user;
        }
        /** Get xbox live user context if platform services available. (WinRT) */
        static GetXboxLiveUserContext(player = BABYLON.Toolkit.PlayerNumber.One) {
            let context = null;
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                switch (player) {
                    case BABYLON.Toolkit.PlayerNumber.One:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextOne();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Two:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextTwo();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Three:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextThree();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Four:
                        context = window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextFour();
                        break;
                }
            }
            return context;
        }
        /** Resets xbox live user context if platform services available. (WinRT) */
        static ResetXboxLiveUserContext(player = BABYLON.Toolkit.PlayerNumber.One) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                switch (player) {
                    case BABYLON.Toolkit.PlayerNumber.One:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextOne();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Two:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextTwo();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Three:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextThree();
                        break;
                    case BABYLON.Toolkit.PlayerNumber.Four:
                        window.BabylonToolkit.XboxLive.Plugin.resetXboxLiveUserContextFour();
                        break;
                }
            }
        }
        // *************************************** //
        // * Babylon Xbox Live Context Functions * //
        // *************************************** //
        /** Get xbox live context property if platform services available. (WinRT) */
        static GetXboxLiveContextProperty(name) {
            return (BABYLON.Toolkit.WindowManager.IsWindows()) ? window.BabylonToolkit.XboxLive.Plugin.getXboxLiveContextProperty(name) : null;
        }
        /** Get xbox live context property if platform services available. (WinRT) */
        static SetXboxLiveContextProperty(name, property) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.setXboxLiveContextProperty(name, property);
            }
        }
        /** Resets xbox live property context bag if platform services available. (WinRT) */
        static ResetXboxLivePropertyContexts() {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.resetXboxLivePropertyContexts();
            }
        }
        // **************************************** //
        // * Babylon Xbox Live Sign Out Functions * //
        // **************************************** //
        /** Sets the Xbox User Sign Out Complete Handler (WinRT) */
        static SetXboxLiveSignOutHandler(handler = null) {
            if (BABYLON.Toolkit.WindowManager.IsWindows()) {
                window.BabylonToolkit.XboxLive.Plugin.onusersignout = handler;
            }
        }
    }
    BABYLON.WindowsPlatform = WindowsPlatform;
})(BABYLON || (BABYLON = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class TestController
    */
    class TestController extends BABYLON.Toolkit.ScriptComponent {
        awake() {
            console.log("Test Controller Awake: " + this.transform.name);
            const playerTransform = new BABYLON.TransformNode("PlayerTransform", this.scene);
            playerTransform.position = new BABYLON.Vector3(0, 0.15, 0);
            playerTransform.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
            const playerCapsule = BABYLON.MeshBuilder.CreateCapsule("PlayerCapsule", { height: 1.8, radius: 0.28 }, this.scene);
            playerCapsule.parent = playerTransform;
            playerCapsule.position = new BABYLON.Vector3(0, 0.9, 0);
            playerCapsule.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
            console.log("Player Capsule: " + playerCapsule.name, playerCapsule);
            const props = {
                "avatarRadius": 0.28,
                "avatarHeight": 1.8,
                "centerOffset": {
                    "x": 0.0,
                    "y": 0.94,
                    "z": 0.0
                },
                "skinWidth": 0.025,
                "slopeLimit": 45.0,
                "stepOffset": 0.25,
                "minMoveDistance": 0.0,
                "capsuleSegments": 16,
                "useGhostSweepTest": false
            };
            PROJECT.TestController.MyCharacterController = new BABYLON.Toolkit.CharacterController(playerTransform, this.scene, null, "BABYLON.Toolkit.CharacterController");
            console.log("Character Controller: " + playerTransform.name, PROJECT.TestController.MyCharacterController);
        }
        update() {
            if (PROJECT.TestController.MyCharacterController != null) {
                PROJECT.TestController.MyCharacterController.move(PROJECT.TestController.MOVE_VELOCITY);
            }
        }
    }
    TestController.MOVE_VELOCITY = new BABYLON.Vector3(0, 0, 0);
    TestController.MyCharacterController = null;
    PROJECT.TestController = TestController;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class TestMover
    */
    class TestMover extends BABYLON.Toolkit.ScriptComponent {
        constructor() {
            // Example: private helloWorld:string = "Hello World";
            super(...arguments);
            this.characterController = null;
        }
        awake() {
            /* Init component function */
            this.characterController = this.getComponent("BABYLON.Toolkit.CharacterController");
        }
        start() {
            /* Start component function */
        }
        ready() {
            /* Execute when ready function */
        }
        update() {
            /* Update render loop function */
            if (this.characterController != null) {
                this.characterController.move(new BABYLON.Vector3(0, 0, 0.25));
            }
        }
        late() {
            /* Late update render loop function */
        }
        step() {
            /* Before physics step function (remove empty function for performance) */
        }
        fixed() {
            /* After physics step function (remove empty function for performance) */
        }
        after() {
            /* After update render loop function */
        }
        reset() {
            /* Reset component function */
        }
        destroy() {
            /* Destroy component function */
        }
    }
    PROJECT.TestMover = TestMover;
})(PROJECT || (PROJECT = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdC5wbGF5Z3JvdW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vQXNzZXRzL0FkZG9ucy9OZXR3b3JrL0NvbHlzZXVzR2FtZVNlcnZlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvTmV0d29yay9Db2x5c2V1c05ldHdvcmtBdmF0YXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL05ldHdvcmsvQ29seXNldXNOZXR3b3JrRW50aXR5LnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9OZXR3b3JrL0NvbHlzZXVzTmV0d29ya01hbmFnZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL0F1dG9Cb2R5R2FyYWdlLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9SYWNpbmcvU2NyaXB0cy9DaGVja3BvaW50TWFuYWdlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvTmV0d29ya0NhclByZWRpY3Rpb24udHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1JhY2VUcmFja01hbmFnZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1JlbW90ZUNhckNvbnRyb2xsZXIudHMiLCIuLi9Bc3NldHMvQWRkb25zL1JhY2luZy9TY3JpcHRzL1NraWRNYXJrTWFuYWdlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvU3RhbmRhcmRDYXJDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL0FkZG9ucy9SYWNpbmcvU2NyaXB0cy9WZWhpY2xlQ2FtZXJhTWFuYWdlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvVmVoaWNsZUlucHV0Q29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9BZGRvbnMvUmFjaW5nL1NjcmlwdHMvVmVoaWNsZU5ldHdvcmtMYWJlbC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L0NhbWVyYS9EZWZhdWx0Q2FtZXJhU3lzdGVtLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvSW5zcGVjdG9yL0RlYnVnSW5mb3JtYXRpb24udHMiLCIuLi9Bc3NldHMvQ29udGVudC9JbnRlcmZhY2UvQ3VzdG9tSHRtbE1hcmt1cC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L0ludGVyZmFjZS9Vc2VySW50ZXJmYWNlTWFuYWdlci50cyIsIi4uL0Fzc2V0cy9Db250ZW50L0xvYWRlci9Bc3NldEV4cG9ydGVyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTG9hZGVyL0Fzc2V0UHJlbG9hZGVyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTWF0ZXJpYWwvTm9kZU1hdGVyaWFsSW5zdGFuY2UudHMiLCIuLi9Bc3NldHMvQ29udGVudC9NYXRlcmlhbC9Ob2RlTWF0ZXJpYWxQYXJ0aWNsZS50cyIsIi4uL0Fzc2V0cy9Db250ZW50L01hdGVyaWFsL05vZGVNYXRlcmlhbFByb2Nlc3MudHMiLCIuLi9Bc3NldHMvQ29udGVudC9NYXRlcmlhbC9Ob2RlTWF0ZXJpYWxUZXh0dXJlLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvTW9iaWxlL01vYmlsZUlucHV0Q29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9Db250ZW50L01vYmlsZS9Nb2JpbGVPY2NsdWRlTWF0ZXJpYWwudHMiLCIuLi9Bc3NldHMvQ29udGVudC9Nb2JpbGUvTW9iaWxlU2hhZG93TWF0ZXJpYWwudHMiLCIuLi9Bc3NldHMvQ29udGVudC9QaHlzaWNzL0JhbGxTb2NrZXRKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BoeXNpY3MvRGlzdGFuY2VKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BoeXNpY3MvRml4ZWRIaW5nZUpvaW50LnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGh5c2ljcy9Mb2NrZWRKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BoeXNpY3MvUHJpc21hdGljSm9pbnQudHMiLCIuLi9Bc3NldHMvQ29udGVudC9QaHlzaWNzL1NpeGRvZkpvaW50LnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGh5c2ljcy9TbGlkZXJKb2ludC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BsYXllci9SZW1vdGVQbGF5ZXJDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvUGxheWVyL1N0YW5kYXJkUGxheWVyQ29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1BsYXllci9UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIudHMiLCIuLi9Bc3NldHMvQ29udGVudC9TaGFkZXIvRnhQYXJ0aWNsZVN5c3RlbS50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1NoYWRlci9Ta3lNYXRlcmlhbFN5c3RlbS50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1NoYWRlci9XYXRlck1hdGVyaWFsU3lzdGVtLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvV2luZG93cy9XaW5kb3dzUGxhdGZvcm0udHMiLCIuLi9Bc3NldHMvUHJvamVjdC9TY3JpcHRzL1Rlc3RDb250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL1Byb2plY3QvU2NyaXB0cy9UZXN0TW92ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBTyxPQUFPLENBMktiO0FBM0tELFdBQU8sT0FBTztJQUNWOzs7TUFHRTtJQUNGLE1BQWEsa0JBQW1CLFNBQVEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxlQUFlO1FBbUI1RCxNQUFNLEtBQUssUUFBUSxLQUFpQyxPQUFPLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBQ3ZHLGFBQWEsS0FBYyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ3JELGFBQWEsS0FBYyxPQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEcsaUJBQWlCLEtBQXNCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDbkUsWUFBWSxTQUFnQyxFQUFFLEtBQW9CLEVBQUUs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LGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDeEQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFDRCxJQUFVLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQzs0QkFDekQsR0FBRyxHQUFTLGNBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekQsQ0FBQzt3QkFD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QUFDO2dCQUMvQyxJQUFJLFVBQVU7b0JBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3JELElBQUksS0FBSztvQkFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsS0FB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QUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUNwQyxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUM7Z0JBQ3ZDLENBQUM7WUFDTCxDQUFDO1lBRUQsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDdkMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ3hELElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQztnQkFDckMsQ0FBQztZQUNMLENBQUM7WUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNyQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQ3pDLHNDQUFzQztnQkFDdEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBQzFELDZFQUE2RTtvQkFDN0UsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQzt3QkFDekIsSUFBSSxDQUFDLDZCQUE2QixFQUFFLENBQUM7b0JBQ3pDLENBQUM7eUJBQU0sQ0FBQzt3QkFDSixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7d0JBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO3dCQUNoRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDdEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7d0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3dCQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO29CQUM1QyxDQUFDO2dCQUNMLENBQUM7Z0JBQ0QsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ3BELE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ25DLE1BQU0sVUFBVSxHQUFHLFdBQVcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUM7b0JBQzVELE1BQU0sS0FBSyxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDO29CQUMxRCxLQUFLO29CQUNMLHNCQUFzQjtvQkFDdEIsS0FBSztvQkFDTCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLFNBQVMsRUFBRSxDQUFDO3dCQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDckYsQ0FBQzt5QkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLFlBQVksRUFBRSxDQUFDO3dCQUMvQyxJQUFJLENBQUMsYUFBYSxDQUNkLElBQUksQ0FBQyxRQUFRLEVBQ2IsS0FBSyxFQUNMLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUN6QixXQUFXLENBQUMsUUFBUSxFQUNwQixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEVBQ2xELFdBQVcsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUNoRCxDQUFDO3dCQUNGOzs7Ozs7Ozs0QkFRSTtvQkFDUixDQUFDO29CQUNELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUN4RixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDeEUsS0FBSztvQkFDTCx3QkFBd0I7b0JBQ3hCLEtBQUs7b0JBQ0wsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUNuRixLQUFLO29CQUNMLDBCQUEwQjtvQkFDMUIsS0FBSztvQkFDTCxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO29CQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztv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ZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUs7WUFDTCxpQ0FBaUM7WUFDakMsS0FBSztZQUNMLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3RCxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssR0FBRyxlQUFlLENBQUMsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMs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QixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4RCxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNuRSxLQUFLLEdBQUcsZUFBZSxDQUFDLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ2xELGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDeEQsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4RCxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNuRSxLQUFLLEdBQUcsZUFBZSxDQUFDLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ2xELGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDeEQsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4RCxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFD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QUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDbkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDekYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDNUYsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDL0YsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDekYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDNUYsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDdEcsSUFBSSxDQUFDLHVCQUF1QixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFDekcsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDbkcsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDdEcsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDbkcsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDekYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdEYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsb0JB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Q0FBQztZQUM3RixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMxRixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMxRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMxRixJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUM3RixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztZQUNoRyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsb0JBQW9CLEdB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QVksRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDL0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDeEUsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxJ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QUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3hFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzNFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxD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QkEwQzFCLENBQUE7QUFDTCxDQUFDLEVBaERNLE9BQU8sS0FBUCxPQUFPLFFBZ0RiO0FDaERELElBQU8sT0FBTyxDQXFEYjtBQXJERCxXQUFPLE9BQU87SUFDVjs7O01BR0U7SUFDRixNQUFhLFNBQVUsU0FBUSxPQUFPLENBQUMsT0FBTyxDQUFDLGVBQWU7UUFBOUQ7WUFDSSxzREFBc0Q7O1lBRTlDLHdCQUFtQixHQUF3QyxJQUFJLENBQUM7UUE0QzVFLENBQUM7UUEzQ2EsS0FBSztZQUNYLDZCQUE2QjtZQUM3QixJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO1FBQ3hGLENBQUM7UUFFUyxLQUFLO1lBQ1gsOEJBQThCO1FBQ2xDLENBQUM7UUFFUyxLQUFLO1lBQ1gsaUNBQWlDO1FBQ3JDLENBQUM7UUFFUyxNQUFNO1lBQ1osaUNBQWlDO1lBQ2pDLElBQUksSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUksRUFBRSxDQUFDO2dCQUNuQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsQ0FBQztRQUNMLENBQUM7UUFFUyxJQUFJO1lBQ1Ysc0NBQXNDO1FBQzFDLENBQUM7UUFFUyxJQUFJO1lBQ1YsMEVBQTBFO1FBQzlFLENBQUM7UUFFUyxLQUFLO1lBQ1gseUVBQXlFO1FBQzdFLENBQUM7UUFFUyxLQUFLO1lBQ1gsdUNBQXVDO1FBQzNDLENBQUM7UUFFUyxLQUFLO1lBQ1gsOEJBQThCO1FBQ2xDLENBQUM7UUFFUyxPQUFPO1lBQ2IsZ0NBQWdDO1FBQ3BDLENBQUM7S0FDSjtJQS9DWSxpQkFBUyxZQStDckIsQ0FBQTtBQUNMLENBQUMsRUFyRE0sT0FBTyxLQUFQLE9BQU8sUUFxRGIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBuZXR3b3JrIGVudGl0eSAoQ29seXNldXMgVW5pdmVyc2FsIEdhbWUgUm9vbSlcbiAgICAgKiBAY2xhc3MgQ29seXNldXNHYW1lU2VydmVyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQ29seXNldXNHYW1lU2VydmVyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUFYX0ZSQU1FX1JBVEU6IG51bWJlciA9IDIwMDtcbiAgICAgICAgcHVibGljIHByb2plY3ROYW1lOiBzdHJpbmcgPSBcIkdhbWUgUHJvamVjdFwiO1xuICAgICAgICBwdWJsaWMgYXV0b0pvaW5Sb29tOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBsYXllclVzZXJOYW1lOiBzdHJpbmcgPSBcIlBsYXllclwiO1xuICAgICAgICBwdWJsaWMgZGVmYXVsdFJvb21OYW1lOiBzdHJpbmcgPSBcImRlZmF1bHRcIjtcbiAgICAgICAgcHVibGljIHJvb21Mb2dpY01vZHVsZTogc3RyaW5nID0gXCJEZWZhdWx0TG9naWNcIjtcbiAgICAgICAgcHVibGljIG1heENsaWVudHNBbGxvd2VkOiBudW1iZXIgPSA4O1xuICAgICAgICBwdWJsaWMgcGF0Y2hVcGRhdGVSYXRlRnBzOiBudW1iZXIgPSAyMDtcbiAgICAgICAgcHVibGljIHJvb21TaW11bGF0ZVJhdGVGcHM6IG51bWJlciA9IDYwO1xuICAgICAgICBwdWJsaWMgbmV0d29ya0J1ZmZlcmluZ1RpbWU6IG51bWJlciA9IDAuMTU7XG5cbiAgICAgICAgcHJpdmF0ZSBzb2xvU2Vzc2lvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNvbHlzZXVzQXZhaWxhYmxlOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbmV0d29ya1Jvb21Db25uZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBob3N0U2Vzc2lvbk5hbWU6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgam9pblJvb21JZDogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjbGllbnQ6IENvbHlzZXVzLkNsaWVudCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFN0YXRpY0luc3RhbmNlOiBQUk9KRUNULkNvbHlzZXVzR2FtZVNlcnZlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEluc3RhbmNlKCk6IFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyIHsgcmV0dXJuIFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLlN0YXRpY0luc3RhbmNlOyB9XG4gICAgICAgIHB1YmxpYyBpc1NvbG9TZXNzaW9uKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5zb2xvU2Vzc2lvbjsgfVxuICAgICAgICBwdWJsaWMgaXNIb3N0U2Vzc2lvbigpOiBib29sZWFuIHsgcmV0dXJuICh0aGlzLmhvc3RTZXNzaW9uTmFtZSAhPSBudWxsICYmIHRoaXMuaG9zdFNlc3Npb25OYW1lICE9PSBcIlwiKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q29seXNldXNDbGllbnQoKTogQ29seXNldXMuQ2xpZW50IHsgcmV0dXJuIHRoaXMuY2xpZW50OyB9XG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllcz86IGFueSkge1xuICAgICAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBzY2VuZSwgcHJvcGVydGllcyk7XG4gICAgICAgICAgICBQUk9KRUNULkNvbHlzZXVzR2FtZVNlcnZlci5TdGF0aWNJbnN0YW5jZSA9IHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Jc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2x5c2V1c0F2YWlsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5Mb2coXCJDb2x5c2V1cyBuZXR3b3JrIGxpYnJhcnkgbG9hZGVkXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiQ29seXNldXMgbmV0d29yayBsaWJyYXJ5IG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclNvbG9QYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwic29sb1wiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyU29sb1BhcmFtICE9IG51bGwgJiYgcGxheWVyU29sb1BhcmFtICE9PSBcIlwiICYmIHBsYXllclNvbG9QYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllclNvbG9QYXJhbS50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xvU2Vzc2lvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJDb2x5c2V1cyBzb2xvIG5ldHdvcmsgZ2FtZSBwbGF5IHJlcXVlc3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29seXNldXNBdmFpbGFibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJFbmRwb2ludFBhcmFtOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJlbmRwb2ludFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckVuZHBvaW50UGFyYW0gIT0gbnVsbCAmJiBzZXJ2ZXJFbmRwb2ludFBhcmFtICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJFbmRwb2ludDogc3RyaW5nID0gZGVjb2RlVVJJQ29tcG9uZW50KHNlcnZlckVuZHBvaW50UGFyYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckVuZHBvaW50ICE9IG51bGwgJiYgc2VydmVyRW5kcG9pbnQgIT09IFwiXCIgJiYgc2VydmVyRW5kcG9pbnQgIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5TZXJ2ZXJFbmRQb2ludCA9IHNlcnZlckVuZHBvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZTApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllck5hbWVQYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwicGxheWVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyTmFtZVBhcmFtICE9IG51bGwgJiYgcGxheWVyTmFtZVBhcmFtICE9PSBcIlwiICYmIHBsYXllck5hbWVQYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyVXNlck5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQocGxheWVyTmFtZVBhcmFtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByb29tTmFtZVBhcmFtOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJyb29tXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vbU5hbWVQYXJhbSAhPSBudWxsICYmIHJvb21OYW1lUGFyYW0gIT09IFwiXCIgJiYgcm9vbU5hbWVQYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFJvb21OYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KHJvb21OYW1lUGFyYW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RTZXNzaW9uUGFyYW06IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLkdldFVybFBhcmFtZXRlcihcImhvc3RcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChob3N0U2Vzc2lvblBhcmFtICE9IG51bGwgJiYgaG9zdFNlc3Npb25QYXJhbSAhPT0gXCJcIiAmJiBob3N0U2Vzc2lvblBhcmFtICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3N0U2Vzc2lvbk5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoaG9zdFNlc3Npb25QYXJhbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlMykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9pblNlc3Npb25QYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwiam9pblwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvaW5TZXNzaW9uUGFyYW0gIT0gbnVsbCAmJiBqb2luU2Vzc2lvblBhcmFtICE9PSBcIlwiICYmIGpvaW5TZXNzaW9uUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5Sb29tSWQgPSBkZWNvZGVVUklDb21wb25lbnQoam9pblNlc3Npb25QYXJhbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlNCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGU0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkpvaW5Sb29tT2JzZXJ2YWJsZS5hZGQoKHVzZXI6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya1VzZXIpID0+IHsgY29uc29sZS53YXJuKHVzZXIubmFtZSArIFwiIGpvaW5lZCB0aGUgXCIgKyB0aGlzLmRlZmF1bHRSb29tTmFtZS50b0xvd2VyQ2FzZSgpICsgXCIgcm9vbS5cIik7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID09PSB0cnVlICYmIHRoaXMubmV0d29ya1Jvb21Db25uZWN0ZWQgPT09IGZhbHNlICYmIHRoaXMuYXV0b0pvaW5Sb29tID09PSB0cnVlICYmIHRoaXMuaXNSZWFkeSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvSm9pblJvb20gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmpvaW5Sb29tKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b0pvaW5Sb29tID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvbHlzZXVzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmtSb29tQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFJvb21OYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyVXNlck5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFzeW5jIGpvaW5Sb29tKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucGF0Y2hVcGRhdGVSYXRlRnBzID4gUFJPSkVDVC5Db2x5c2V1c0dhbWVTZXJ2ZXIuTUFYX0ZSQU1FX1JBVEUpIHRoaXMucGF0Y2hVcGRhdGVSYXRlRnBzID0gUFJPSkVDVC5Db2x5c2V1c0dhbWVTZXJ2ZXIuTUFYX0ZSQU1FX1JBVEU7XG4gICAgICAgICAgICBpZiAodGhpcy5yb29tU2ltdWxhdGVSYXRlRnBzID4gUFJPSkVDVC5Db2x5c2V1c0dhbWVTZXJ2ZXIuTUFYX0ZSQU1FX1JBVEUpIHRoaXMucm9vbVNpbXVsYXRlUmF0ZUZwcyA9IFBST0pFQ1QuQ29seXNldXNHYW1lU2VydmVyLk1BWF9GUkFNRV9SQVRFO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29seXNldXNBdmFpbGFibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWJzb2NrZXRVcmw6IHN0cmluZyA9IChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlNlcnZlckVuZFBvaW50LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChcImh0dHBcIikpID8gKFwid3NcIiArIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQuc3Vic3RyaW5nKDQpKSA6IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlNlcnZlckVuZFBvaW50LmVuZHNXaXRoKFwiL1wiKSkgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5TZXJ2ZXJFbmRQb2ludCA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuU2VydmVyRW5kUG9pbnQuc3Vic3RyaW5nKDAsIChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlNlcnZlckVuZFBvaW50Lmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvamVjdE5hbWUgPT0gbnVsbCB8fCB0aGlzLnByb2plY3ROYW1lID09PSBcIlwiKSB0aGlzLnByb2plY3ROYW1lID0gXCJHYW1lIFByb2plY3RcIjtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj4+PiBTZXJ2ZXIgRW5kcG9pbnQ6IFwiICsgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5TZXJ2ZXJFbmRQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPj4+IFdlYiBTb2NrZXQgVXJsOiBcIiArIHdlYnNvY2tldFVybCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPj4+IE1heCBDbGllbnRzOiBcIiArIHRoaXMubWF4Q2xpZW50c0FsbG93ZWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj4+PiBSb29tIE5hbWU6IFwiICsgdGhpcy5kZWZhdWx0Um9vbU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj4+PiBVc2VyIE5hbWU6IFwiICsgdGhpcy5wbGF5ZXJVc2VyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPj4+IEhvc3QgRGVzYzogXCIgKyB0aGlzLmhvc3RTZXNzaW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPj4+IEpvaW4gUm9vbTogXCIgKyB0aGlzLmpvaW5Sb29tSWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCByb29tOiBCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50ID09IG51bGwpIHRoaXMuY2xpZW50ID0gbmV3IENvbHlzZXVzLkNsaWVudCh3ZWJzb2NrZXRVcmwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ob3N0U2Vzc2lvbk5hbWUgIT0gbnVsbCAmJiB0aGlzLmhvc3RTZXNzaW9uTmFtZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NlbmVGaWxlOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFNjZW5lRmlsZSh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb20gPSBhd2FpdCB0aGlzLmNsaWVudC5jcmVhdGU8QkFCWUxPTi5JQ29seXNldXNSb29tU3RhdGU+KHRoaXMuZGVmYXVsdFJvb21OYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMucGxheWVyVXNlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbUxvZ2ljOiB0aGlzLnJvb21Mb2dpY01vZHVsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDbGllbnRzOiB0aGlzLm1heENsaWVudHNBbGxvd2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25CdWZmZXI6IHRoaXMubmV0d29ya0J1ZmZlcmluZ1RpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hVcGRhdGVSYXRlTXM6ICgxMDAwIC8gdGhpcy5wYXRjaFVwZGF0ZVJhdGVGcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21TaW11bGF0aW9uSW50ZXJ2YWxNczogKDEwMDAgLyB0aGlzLnJvb21TaW11bGF0ZVJhdGVGcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhZ3JhbVByb3RvY29sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc0RhdGFQYWNrZXRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiB0aGlzLnByb2plY3ROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogdGhpcy5ob3N0U2Vzc2lvbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwOiBzY2VuZUZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4OiBcIipcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5qb2luUm9vbUlkICE9IG51bGwgJiYgdGhpcy5qb2luUm9vbUlkICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb29tID0gYXdhaXQgdGhpcy5jbGllbnQuam9pbkJ5SWQ8QkFCWUxPTi5JQ29seXNldXNSb29tU3RhdGU+KHRoaXMuam9pblJvb21JZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLnBsYXllclVzZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocm9vbSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkF0dGFjaERlZmF1bHRSb29tKHRoaXMuc2NlbmUsIHJvb20pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBqb2luIHJvb206IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29ubmVjdDogXCIsIGUpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV0d29ya1Jvb21Db25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBDb2x5c2V1c05ldHdvcmtBdmF0YXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBDb2x5c2V1c05ldHdvcmtBdmF0YXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IGltcGxlbWVudHMgQkFCWUxPTi5Ub29sa2l0LklBc3NldFByZWxvYWRlciB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRk9OVF9QQURESU5HOiBudW1iZXIgPSAzNjtcbiAgICAgICAgcHVibGljIHN0YXRpYyBIRUlHSFRfUEFERElORzogbnVtYmVyID0gMC4xO1xuXG4gICAgICAgIHByaXZhdGUgY29udHJvbE1vZGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZGVmYXVsdEF2YXRhcjogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBtYWxlQW5pbWF0aW9uUmlnOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZlbWFsZUFuaW1hdGlvblJpZzogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYXN0UmVhbHRpbWVTaGFkb3c6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGRpc3Bvc2VPZk1hbm5lcXVpbjogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgcHJpdmF0ZSBwaXhlbE9mZnNldFg6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGl4ZWxPZmZzZXRZOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBsYXllckpvaW5lZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHByZWxvYWRMb2NhdGlvbjogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhbWJpZW50TWF0ZXJpYWw6IEJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDEuMCwgMS4wLCAxLjApO1xuICAgICAgICBwcml2YXRlIGF2YXRhckFybWF0dXJlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGF2YXRhclNrZWxldG9uOiBCQUJZTE9OLlNrZWxldG9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJIYW5kbmVzczogc3RyaW5nID0gXCJMZWZ0XCI7XG4gICAgICAgIHByaXZhdGUgYXZhdGFyR2VuZGVyOiBzdHJpbmcgPSBcIk1hbGVcIjtcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJMYWJlbDogc3RyaW5nID0gXCJEZWZhdWx0IFBsYXllclwiO1xuICAgICAgICBwcml2YXRlIGF2YXRhckxvYWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGFuaW1hdG9yOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGF2YXRhclJlYWR5OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIG1hbmFnZUxhYmVsVGV4dHVyZTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyB0ZXh0dXJlUmVzb2x1dGlvbjogbnVtYmVyID0gNTEyO1xuICAgICAgICBwdWJsaWMgbWF4TGFiZWxXaWR0aDogbnVtYmVyID0gOTYwO1xuICAgICAgICBwdWJsaWMgbWluTGFiZWxXaWR0aDogbnVtYmVyID0gMzIwO1xuICAgICAgICBwdWJsaWMgbGFiZWxPZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbGFiZWxPZmZzZXRZOiBudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBsYWJlbEhlaWdodDogbnVtYmVyID0gNjQ7XG4gICAgICAgIHB1YmxpYyBsYWJlbENvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjAsIDEuMCwgMC4wKTtcbiAgICAgICAgcHVibGljIGxhYmVsQWxwaGE6IG51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyByZWN0Q29sb3I6IEJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBwdWJsaWMgcmVjdEFscGhhOiBudW1iZXIgPSAwLjY1O1xuICAgICAgICBwdWJsaWMgZm9udEZhbWlseTogc3RyaW5nID0gXCJBcmlhbFwiO1xuICAgICAgICBwdWJsaWMgZm9udFN0eWxlOiBzdHJpbmcgPSBcIkJvbGRcIjtcbiAgICAgICAgcHVibGljIGZvbnRTaXplOiBudW1iZXIgPSAzNjtcbiAgICAgICAgcHVibGljIGZpbGxSZWN0OiBib29sZWFuID0gdHJ1ZTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRvciA9PSBudWxsKSBCQUJZTE9OLlRvb2xzLldhcm4oXCJGYWlsZWQgdG8gbG9jYXRlIGFuaWF0aW9uIHN0YXRlIGNvbXBvbmVudCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0QXZhdGFySW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkZWZhdWx0QXZhdGFyXCIpO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRBdmF0YXJJbmZvICE9IG51bGwpIHRoaXMuZGVmYXVsdEF2YXRhciA9IChkZWZhdWx0QXZhdGFySW5mby5uYW1lICsgXCIuZ2xiXCIpO1xuICAgICAgICAgICAgY29uc3QgbWFsZUFuaW1hdGlvbkluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwibWFsZUFuaW1hdGlvblJpZ1wiKTtcbiAgICAgICAgICAgIGlmIChtYWxlQW5pbWF0aW9uSW5mbyAhPSBudWxsKSB0aGlzLm1hbGVBbmltYXRpb25SaWcgPSAobWFsZUFuaW1hdGlvbkluZm8ubmFtZSArIFwiLmdsYlwiKTtcbiAgICAgICAgICAgIGNvbnN0IGZlbWFsZUFuaW1hdGlvbkluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiZmVtYWxlQW5pbWF0aW9uUmlnXCIpO1xuICAgICAgICAgICAgaWYgKGZlbWFsZUFuaW1hdGlvbkluZm8gIT0gbnVsbCkgdGhpcy5mZW1hbGVBbmltYXRpb25SaWcgPSAoZmVtYWxlQW5pbWF0aW9uSW5mby5uYW1lICsgXCIuZ2xiXCIpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldHVwIEJyb3dzZXIgUGxhdGZvcm0gT3B0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2FmYXJpQnJvd3NlcigpID09PSB0cnVlKSB0aGlzLnBpeGVsT2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICBlbHNlIHRoaXMucGl4ZWxPZmZzZXRZID0gMjsgLy8gTm90ZTogRGVmYXVsdCBUd28gUGl4ZWwgT2Zmc2V0XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcmVhZHkoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sTW9kZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBMb2NhbFBsYXllckF2YXRhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdmF0YXJSZWFkeSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySm9pbmVkID09PSBmYWxzZSAmJiB0aGlzLmF2YXRhclJlYWR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySm9pbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbE1vZGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hbmFnZUxhYmVsVGV4dHVyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyTGFiZWwgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkdldEN1cnJlbnRVc2VyKCkubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUF2YXRhckxhYmVsKHRoaXMuYXZhdGFyTGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJvbE1vZGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBSZW1vdGVQbGF5ZXJBdmF0YXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hbmFnZUxhYmVsVGV4dHVyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQXZhdGFyTGFiZWwodGhpcy5hdmF0YXJMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hdmF0YXJMYWJlbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmF2YXRhckdlbmRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmF2YXRhckhhbmRuZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYXZhdGFyQXJtYXR1cmUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hdmF0YXJTa2VsZXRvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRBdmF0YXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wcmVsb2FkTG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tYWxlQW5pbWF0aW9uUmlnID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZmVtYWxlQW5pbWF0aW9uUmlnID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaXNTYWZhcmlCcm93c2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5hdmlnYXRvciAhPSBudWxsICYmIG5hdmlnYXRvci51c2VyQWdlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5hdmlnYXRvci52ZW5kb3IubWF0Y2goL2FwcGxlL2kpICYmXG4gICAgICAgICAgICAgICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9jcmlvcy9pKSAmJlxuICAgICAgICAgICAgICAgICAgICAhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvZnhpb3MvaSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09wZXJhfE9QVFxcLy8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY3JlYXRlQXZhdGFyTGFiZWwobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAobmFtZSAhPSBudWxsICYmIG5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFuZTogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVQbGFuZShcIlRleHR1cmVQbGFuZVwiLCB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhbmVNYXRlcmlhbDogQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCgodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlBsYW5lTWF0ZXJpYWxcIiksIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQmFja2dyb3VuZCBPcGFjaXR5IFRleHR1cmVcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHlUZXh0dXJlOiBCQUJZTE9OLkR5bmFtaWNUZXh0dXJlID0gbmV3IEJBQllMT04uRHluYW1pY1RleHR1cmUoXCJQbGF5ZXJUZXh0dXJlXCIsIHsgd2lkdGg6IHRoaXMudGV4dHVyZVJlc29sdXRpb24sIGhlaWdodDogdGhpcy50ZXh0dXJlUmVzb2x1dGlvbiB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcGFjaXR5Q3R4OiBhbnkgPSBvcGFjaXR5VGV4dHVyZS5nZXRDb250ZXh0KCkgYXMgYW55O1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRTdHJpbmc6IHN0cmluZyA9IHRoaXMuZ2V0UmVzaXplZEZvbnRTdHJpbmcobmFtZSwgdGhpcy5tYXhMYWJlbFdpZHRoLCB0aGlzLmZvbnRTaXplLCB0aGlzLmZvbnRGYW1pbHksIHRoaXMuZm9udFN0eWxlKTtcbiAgICAgICAgICAgICAgICBvcGFjaXR5Q3R4LmZvbnQgPSBmb250U3RyaW5nOyAvLyBOb3RlOiBNdXN0IEJlIFNldCBCZWZvcmUgTWVhc3VyaW5nXG4gICAgICAgICAgICAgICAgY29uc3QgZm9udFdpZHRoOiBudW1iZXIgPSBvcGFjaXR5Q3R4Lm1lYXN1cmVUZXh0KG5hbWUpLndpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRQYWRkaW5nOiBudW1iZXIgPSBQUk9KRUNULkNvbHlzZXVzTmV0d29ya0F2YXRhci5GT05UX1BBRERJTkc7XG4gICAgICAgICAgICAgICAgbGV0IHJlY3RXaWR0aDogbnVtYmVyID0gKGZvbnRXaWR0aCArIGZvbnRQYWRkaW5nKTtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdEhlaWdodDogbnVtYmVyID0gdGhpcy5sYWJlbEhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAocmVjdFdpZHRoIDwgdGhpcy5taW5MYWJlbFdpZHRoKSByZWN0V2lkdGggPSB0aGlzLm1pbkxhYmVsV2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3RXaWR0aCA+IHRoaXMubWF4TGFiZWxXaWR0aCkgcmVjdFdpZHRoID0gdGhpcy5tYXhMYWJlbFdpZHRoO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGxSZWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHlDdHguZmlsbFN0eWxlID0gYHJnYmEoMCwgMCwgMCwgJHt0aGlzLnJlY3RBbHBoYS50b1N0cmluZygpfSlgO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJvdW5kZWRSZWN0KCh0aGlzLnRleHR1cmVSZXNvbHV0aW9uICogMC41KSAtIChyZWN0V2lkdGggKiAwLjUpLCAodGhpcy50ZXh0dXJlUmVzb2x1dGlvbiAqIDAuNSkgLSAocmVjdEhlaWdodCAqIDAuNSksIHJlY3RXaWR0aCwgcmVjdEhlaWdodCwgKHJlY3RIZWlnaHQgKiAwLjUpLCBvcGFjaXR5Q3R4KTtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wYWNpdHlDdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICBvcGFjaXR5Q3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG4gICAgICAgICAgICAgICAgb3BhY2l0eUN0eC5maWxsU3R5bGUgPSBgcmdiYSgwLCAwLCAwLCAke3RoaXMubGFiZWxBbHBoYS50b1N0cmluZygpfSlgO1xuICAgICAgICAgICAgICAgIG9wYWNpdHlDdHguZmlsbFRleHQobmFtZSwgKHRoaXMudGV4dHVyZVJlc29sdXRpb24gKiAwLjUpICsgdGhpcy5waXhlbE9mZnNldFgsICh0aGlzLnRleHR1cmVSZXNvbHV0aW9uICogMC41KSArIHRoaXMucGl4ZWxPZmZzZXRZKTtcbiAgICAgICAgICAgICAgICBvcGFjaXR5VGV4dHVyZS51cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBCYWNrZ3JvdW5kICYgRm9yZWdyb3VuZCBDb2xvcnNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yVGV4dHVyZTogQkFCWUxPTi5EeW5hbWljVGV4dHVyZSA9IG5ldyBCQUJZTE9OLkR5bmFtaWNUZXh0dXJlKFwiUGxheWVyVGV4dHVyZUNvbG9yXCIsIHsgd2lkdGg6IHRoaXMudGV4dHVyZVJlc29sdXRpb24sIGhlaWdodDogdGhpcy50ZXh0dXJlUmVzb2x1dGlvbiB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvckN0eDogYW55ID0gY29sb3JUZXh0dXJlLmdldENvbnRleHQoKSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgY29sb3JDdHguZmlsbFN0eWxlID0gdGhpcy5yZWN0Q29sb3IudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb2xvckN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLnRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLnRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICBjb2xvckN0eC5mb250ID0gZm9udFN0cmluZztcbiAgICAgICAgICAgICAgICBjb2xvckN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICAgICAgICAgIGNvbG9yQ3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG4gICAgICAgICAgICAgICAgY29sb3JDdHguZmlsbFN0eWxlID0gdGhpcy5sYWJlbENvbG9yLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29sb3JDdHguZmlsbFRleHQobmFtZSwgKHRoaXMudGV4dHVyZVJlc29sdXRpb24gKiAwLjUpICsgdGhpcy5waXhlbE9mZnNldFgsICh0aGlzLnRleHR1cmVSZXNvbHV0aW9uICogMC41KSArIHRoaXMucGl4ZWxPZmZzZXRZKTtcbiAgICAgICAgICAgICAgICBjb2xvclRleHR1cmUudXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gUGxhbmUgTmFtZSBMYWJlbCBNYXRlcmlhbCBTZXR1cFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgcGxhbmVNYXRlcmlhbC5kaXNhYmxlTGlnaHRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBsYW5lTWF0ZXJpYWwub3BhY2l0eVRleHR1cmUgPSBvcGFjaXR5VGV4dHVyZTtcbiAgICAgICAgICAgICAgICBwbGFuZU1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gY29sb3JUZXh0dXJlXG4gICAgICAgICAgICAgICAgcGxhbmVNYXRlcmlhbC5lbWlzc2l2ZVRleHR1cmUgPSBjb2xvclRleHR1cmU7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBQbGFuZSBQb3NpdGlvbiAmIE9mZnNldCBQYXJlbnRpbmdcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHBsYW5lLm1hdGVyaWFsID0gcGxhbmVNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICBwbGFuZS5iaWxsYm9hcmRNb2RlID0gQkFCWUxPTi5NZXNoLkJJTExCT0FSRE1PREVfQUxMO1xuICAgICAgICAgICAgICAgIHBsYW5lLnBvc2l0aW9uLnggPSB0aGlzLmxhYmVsT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICBwbGFuZS5wb3NpdGlvbi55ID0gKHRoaXMubGFiZWxPZmZzZXRZICsgUFJPSkVDVC5Db2x5c2V1c05ldHdvcmtBdmF0YXIuSEVJR0hUX1BBRERJTkcpO1xuICAgICAgICAgICAgICAgIHBsYW5lLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDsgLy8gRklYTUU6IE1heWJlIFBhcmVudCBUbyBNb2RlbCBIZWFkIEJvbmUgT3IgU29tZXRoaW5nIC0gPz8/XG4gICAgICAgICAgICAgICAgcGxhbmUucmVuZGVyaW5nR3JvdXBJZCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuRGVmYXVsdFJlbmRlckdyb3VwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNyZWF0ZVJvdW5kZWRSZWN0KHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlciwgcjogbnVtYmVyLCBjdHg6IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHcgPCAyICogcikgciA9IHcgLyAyO1xuICAgICAgICAgICAgaWYgKGggPCAyICogcikgciA9IGggLyAyO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4ICsgciwgeSk7XG4gICAgICAgICAgICBjdHguYXJjVG8oeCArIHcsIHksIHggKyB3LCB5ICsgaCwgcik7XG4gICAgICAgICAgICBjdHguYXJjVG8oeCArIHcsIHkgKyBoLCB4LCB5ICsgaCwgcik7XG4gICAgICAgICAgICBjdHguYXJjVG8oeCwgeSArIGgsIHgsIHksIHIpO1xuICAgICAgICAgICAgY3R4LmFyY1RvKHgsIHksIHggKyB3LCB5LCByKTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZ2V0UmVzaXplZEZvbnRTdHJpbmcodGV4dDogc3RyaW5nLCBtYXhXaWR0aDogbnVtYmVyLCBzdGFydGluZ0ZvbnRTaXplOiBudW1iZXIsIGZvbnRGYW1pbHk6IHN0cmluZyA9IFwiQXJpYWxcIiwgZm9udFN0eWxlOiBzdHJpbmcgPSBcIlwiKTogc3RyaW5nIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjb25zdCBtZWFzdXJlQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBjb25zdCBnZXRGb250U3RyaW5nOiBGdW5jdGlvbiA9IChzaXplOiBzdHJpbmcpID0+IHsgcmV0dXJuIGAke2ZvbnRTdHlsZX0keyhmb250U3R5bGUgPT09IFwiXCIpID8gXCJcIiA6IFwiIFwifSR7c2l6ZX1weCAke2ZvbnRGYW1pbHl9YDsgfVxuICAgICAgICAgICAgbGV0IGN1cnJlbnRTaXplID0gc3RhcnRpbmdGb250U2l6ZTtcbiAgICAgICAgICAgIG1lYXN1cmVDdHguZm9udCA9IGdldEZvbnRTdHJpbmcoY3VycmVudFNpemUpOyAvLyBOb3RlOiBNdXN0IEJlIFNldCBCZWZvcmUgTWVhc3VyaW5nXG4gICAgICAgICAgICBsZXQgY3VycmVudFdpZHRoID0gbWVhc3VyZUN0eC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50V2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIGxldCBzdGVwOiBudW1iZXIgPSAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50V2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3U2l6ZSA9IGN1cnJlbnRTaXplIC0gc3RlcDtcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUN0eC5mb250ID0gZ2V0Rm9udFN0cmluZyhuZXdTaXplKTsgLy8gTm90ZTogTXVzdCBCZSBTZXQgQmVmb3JlIE1lYXN1cmluZ1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3V2lkdGg6IG51bWJlciA9IG1lYXN1cmVDdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdXaWR0aCA8IG1heFdpZHRoICYmIHN0ZXAgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXAgPSAwLjE7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTaXplICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2lkdGggPSBuZXdXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2l6ZSA9IG5ld1NpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldEZvbnRTdHJpbmcoY3VycmVudFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXR1cExvY2FsUGxheWVyQXZhdGFyKCk6IHZvaWQge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJBdmF0YXJQYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwiYXZhdGFyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJBdmF0YXJQYXJhbSAhPSBudWxsICYmIHBsYXllckF2YXRhclBhcmFtICE9PSBcIlwiICYmIHBsYXllckF2YXRhclBhcmFtICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRBdmF0YXIgPSBkZWNvZGVVUklDb21wb25lbnQocGxheWVyQXZhdGFyUGFyYW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUxKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckdlbmRlclBhcmFtOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJnZW5kZXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckdlbmRlclBhcmFtICE9IG51bGwgJiYgcGxheWVyR2VuZGVyUGFyYW0gIT09IFwiXCIgJiYgcGxheWVyR2VuZGVyUGFyYW0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyR2VuZGVyID0gZGVjb2RlVVJJQ29tcG9uZW50KHBsYXllckdlbmRlclBhcmFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlMikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJIYW5kbmVzc1BhcmFtOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5HZXRVcmxQYXJhbWV0ZXIoXCJoYW5kXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJIYW5kbmVzc1BhcmFtICE9IG51bGwgJiYgcGxheWVySGFuZG5lc3NQYXJhbSAhPT0gXCJcIiAmJiBwbGF5ZXJIYW5kbmVzc1BhcmFtICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF2YXRhckhhbmRuZXNzID0gZGVjb2RlVVJJQ29tcG9uZW50KHBsYXllckhhbmRuZXNzUGFyYW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlMyk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVySGFuZG5lc3NQYXJhbTogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuR2V0VXJsUGFyYW1ldGVyKFwiaGFuZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVySGFuZG5lc3NQYXJhbSAhPSBudWxsICYmIHBsYXllckhhbmRuZXNzUGFyYW0gIT09IFwiXCIgJiYgcGxheWVySGFuZG5lc3NQYXJhbSAhPT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJIYW5kbmVzcyA9IGRlY29kZVVSSUNvbXBvbmVudChwbGF5ZXJIYW5kbmVzc1BhcmFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlMykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTMpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gQ3JlYXRlIE5ldHdvcmsgRW50aXR5IEF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBrbGFzczogc3RyaW5nID0gXCJQUk9KRUNULkNvbHlzZXVzTmV0d29ya0VudGl0eVwiO1xuICAgICAgICAgICAgbGV0IGNvbHlzZXVzOiBQUk9KRUNULkNvbHlzZXVzTmV0d29ya0VudGl0eSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLnRyYW5zZm9ybSwga2xhc3MpO1xuICAgICAgICAgICAgaWYgKGNvbHlzZXVzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29seXNldXMgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy50cmFuc2Zvcm0ucGFyZW50IGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZSwga2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29seXNldXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHlzZXVzID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMudHJhbnNmb3JtLnBhcmVudC5wYXJlbnQgYXMgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBrbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHlzZXVzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5wYXJlbnQucGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHlzZXVzID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMudHJhbnNmb3JtLnBhcmVudC5wYXJlbnQucGFyZW50IGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZSwga2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbHlzZXVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29seXNldXMucnVudGltZUF0dHJpYnV0ZXMgPT0gbnVsbCkgY29seXNldXMucnVudGltZUF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb2x5c2V1cy5ydW50aW1lQXR0cmlidXRlcy5wdXNoKHsga2V5OiBcInBsYXllckF2YXRhclwiLCB2YWx1ZTogdGhpcy5kZWZhdWx0QXZhdGFyIH0pO1xuICAgICAgICAgICAgICAgIGNvbHlzZXVzLnJ1bnRpbWVBdHRyaWJ1dGVzLnB1c2goeyBrZXk6IFwicGxheWVyR2VuZGVyXCIsIHZhbHVlOiB0aGlzLmF2YXRhckdlbmRlciB9KTtcbiAgICAgICAgICAgICAgICBjb2x5c2V1cy5ydW50aW1lQXR0cmlidXRlcy5wdXNoKHsga2V5OiBcInBsYXllckhhbmRcIiwgdmFsdWU6IHRoaXMuYXZhdGFySGFuZG5lc3MgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gIExvYWQgUnVudGltZSBQbGF5ZXIgQXZhdGFyIE1vZGVsXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEF2YXRhciAhPSBudWxsICYmIHRoaXMuZGVmYXVsdEF2YXRhciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkhhc1NjZW5lQmVlblByZUxvYWRlZCh0aGlzLnNjZW5lKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRSdW50aW1lUGxheWVyQXZhdGFyKHRoaXMuZGVmYXVsdEF2YXRhcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkTG9jYXRpb24gPSB0aGlzLmRlZmF1bHRBdmF0YXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJJbnZhbGlkIGF2YXRhciBsb2NhdGlvbiBzcGVjaWZpZWQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXR1cFJlbW90ZVBsYXllckF2YXRhcigpOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCByZW1vdGVFbnRpdHk6IGFueSA9ICg8YW55PnRoaXMudHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5O1xuICAgICAgICAgICAgaWYgKHJlbW90ZUVudGl0eSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUVudGl0eSA9ICg8YW55PnRoaXMudHJhbnNmb3JtKS5wYXJlbnQubmV0d29ya0VudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW90ZUVudGl0eSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50LnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlRW50aXR5ID0gKDxhbnk+dGhpcy50cmFuc2Zvcm0pLnBhcmVudC5wYXJlbnQubmV0d29ya0VudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3RlRW50aXR5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5wYXJlbnQucGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUVudGl0eSA9ICg8YW55PnRoaXMudHJhbnNmb3JtKS5wYXJlbnQucGFyZW50LnBhcmVudC5uZXR3b3JrRW50aXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gUXVlcnkgTmV0d29yayBFbnRpdHkgQXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChyZW1vdGVFbnRpdHkgIT0gbnVsbCAmJiByZW1vdGVFbnRpdHkudHJhbnNmb3JtTm9kZSAhPSBudWxsICYmIHJlbW90ZUVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZSAhPSBudWxsICYmIHJlbW90ZUVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZSA9PT0gMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckF2YXRhcjogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlOZXR3b3JrQXR0cmlidXRlKHJlbW90ZUVudGl0eS50cmFuc2Zvcm1Ob2RlLCBcInBsYXllckF2YXRhclwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyQXZhdGFyICE9IG51bGwgJiYgcGxheWVyQXZhdGFyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdEF2YXRhciA9IHBsYXllckF2YXRhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyR2VuZGVyOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeU5ldHdvcmtBdHRyaWJ1dGUocmVtb3RlRW50aXR5LnRyYW5zZm9ybU5vZGUsIFwicGxheWVyR2VuZGVyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJHZW5kZXIgIT0gbnVsbCAmJiBwbGF5ZXJHZW5kZXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJHZW5kZXIgPSBwbGF5ZXJHZW5kZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckhhbmQ6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5TmV0d29ya0F0dHJpYnV0ZShyZW1vdGVFbnRpdHkudHJhbnNmb3JtTm9kZSwgXCJwbGF5ZXJIYW5kXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJIYW5kICE9IG51bGwgJiYgcGxheWVySGFuZCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF2YXRhckhhbmRuZXNzID0gcGxheWVySGFuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgb3duZXJOYW1lOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeU5ldHdvcmtBdHRyaWJ1dGUocmVtb3RlRW50aXR5LnRyYW5zZm9ybU5vZGUsIFwib3duZXJOYW1lXCIpO1xuICAgICAgICAgICAgICAgIGlmIChvd25lck5hbWUgIT0gbnVsbCAmJiBvd25lck5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJMYWJlbCA9IG93bmVyTmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gIExvYWQgUnVudGltZSBQbGF5ZXIgQXZhdGFyIE1vZGVsXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEF2YXRhciAhPSBudWxsICYmIHRoaXMuZGVmYXVsdEF2YXRhciAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZFJ1bnRpbWVQbGF5ZXJBdmF0YXIodGhpcy5kZWZhdWx0QXZhdGFyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiSW52YWxpZCBhdmF0YXIgbG9jYXRpb24gc3BlY2lmaWVkIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY29uZmlndXJlUGxheWVyQXZhdGFyUmlnKHJvb3Q6IEJBQllMT04uVHJhbnNmb3JtTm9kZSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFybWF0dXJlcyA9IHJvb3QuZ2V0Q2hpbGRyZW4oKG5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSkgPT4geyByZXR1cm4gKG5vZGUubmFtZSA9PT0gXCJBcm1hdHVyZVwiKTsgfSwgZmFsc2UpIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZVtdO1xuICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFyTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmF2YXRhckFybWF0dXJlID0gKGFybWF0dXJlcyAhPSBudWxsICYmIGFybWF0dXJlcy5sZW5ndGggPiAwKSA/IGFybWF0dXJlc1swXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IHNoYWRvd0xpc3Q6IEJBQllMT04uQWJzdHJhY3RNZXNoW10gPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBmcmVlemVMaXN0OiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNoZXM6IEJBQllMT04uQWJzdHJhY3RNZXNoW10gPSByb290LmdldENoaWxkTWVzaGVzKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAobWVzaGVzICE9IG51bGwgJiYgbWVzaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2gucmVuZGVyaW5nR3JvdXBJZCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuRGVmYXVsdFJlbmRlckdyb3VwKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBza2luczogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IHJvb3QuZ2V0Q2hpbGRNZXNoZXMoZmFsc2UsIChub2RlOiBCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyByZXR1cm4gKG5vZGUuc2tlbGV0b24gIT0gbnVsbCk7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChza2lucyAhPSBudWxsICYmIHNraW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpbnMuZm9yRWFjaCgoc2tpbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXZhdGFyU2tlbGV0b24gPT0gbnVsbCAmJiBza2luLnNrZWxldG9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF2YXRhclNrZWxldG9uID0gc2tpbi5za2VsZXRvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhc3RSZWFsdGltZVNoYWRvdyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3dMaXN0ID09IG51bGwpIHNoYWRvd0xpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dMaXN0LnB1c2goc2tpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBza2luLmlzUGlja2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbi51c2VWZXJ0ZXhDb2xvcnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraW4uY3VsbGluZ1N0cmF0ZWd5ID0gQkFCWUxPTi5BYnN0cmFjdE1lc2guQ1VMTElOR1NUUkFURUdZX1NUQU5EQVJEO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbi5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2ggPSB0cnVlOyAvLyBOb3RlOiBBbHdheXMgU2V0IEZvciBTa2luIFdpdGhvdXQgVXBkYXRlZCBCb3VuZGluZyBCb3ggSW5mb1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd0xpc3QgIT0gbnVsbCAmJiBzaGFkb3dMaXN0Lmxlbmd0aCA+IDAgJiYgdGhpcy5zY2VuZS5saWdodHMgIT0gbnVsbCAmJiB0aGlzLnNjZW5lLmxpZ2h0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGlnaHRzLmZvckVhY2goKGxpZ2h0OiBCQUJZTE9OLkxpZ2h0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3dnZW5lcmF0b3I6IEJBQllMT04uSVNoYWRvd0dlbmVyYXRvciA9IGxpZ2h0LmdldFNoYWRvd0dlbmVyYXRvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYWRvd2dlbmVyYXRvciAhPSBudWxsICYmIGxpZ2h0Lm1ldGFkYXRhICE9IG51bGwgJiYgbGlnaHQubWV0YWRhdGEudG9vbGtpdCAhPSBudWxsICYmIGxpZ2h0Lm1ldGFkYXRhLnRvb2xraXQuYXV0b3JlbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRvd21hcDogQkFCWUxPTi5SZW5kZXJUYXJnZXRUZXh0dXJlID0gc2hhZG93Z2VuZXJhdG9yLmdldFNoYWRvd01hcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3dtYXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93bWFwLnJlbmRlckxpc3QgPT0gbnVsbCkgc2hhZG93bWFwLnJlbmRlckxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93TGlzdC5mb3JFYWNoKChtZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyBzaGFkb3dtYXAucmVuZGVyTGlzdC5wdXNoKG1lc2gpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnJlZXplTGlzdCAhPSBudWxsICYmIGZyZWV6ZUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmcmVlemVMaXN0LmZvckVhY2goKG1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoKSA9PiB7IG1lc2guZnJlZXplV29ybGRNYXRyaXgoKTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gUkVUQVJHRVQgQU5JTUFUSU9OIEdST1VQUyAtIChUT0RPOiBCbGVuZCBTaGFwZXMpXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdmF0YXJTa2VsZXRvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvblJpZzogc3RyaW5nID0gKHRoaXMuYXZhdGFyR2VuZGVyICE9IG51bGwgJiYgdGhpcy5hdmF0YXJHZW5kZXIudG9Mb3dlckNhc2UoKSA9PT0gXCJmZW1hbGVcIikgPyB0aGlzLmZlbWFsZUFuaW1hdGlvblJpZyA6IHRoaXMubWFsZUFuaW1hdGlvblJpZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvblJpZyAhPSBudWxsICYmIGFuaW1hdGlvblJpZyAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uQXNzZXQ6IEJBQllMT04uQXNzZXRDb250YWluZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldEFzc2V0Q29udGFpbmVyKHRoaXMuc2NlbmUsIGFuaW1hdGlvblJpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uQXNzZXQgIT0gbnVsbCAmJiBhbmltYXRpb25Bc3NldC5hbmltYXRpb25Hcm91cHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjZ3JvdXBzOiBCQUJZTE9OLkFuaW1hdGlvbkdyb3VwW10gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4Y2xpcHM6IGFueVtdID0gKHRoaXMuYW5pbWF0b3IgIT0gbnVsbCkgPyB0aGlzLmFuaW1hdG9yLmdldERlZmF1bHRDbGlwcygpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25Bc3NldC5hbmltYXRpb25Hcm91cHMuZm9yRWFjaCgoYWdyb3VwLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyBhZ3JvdXAuc3RvcCgpOyB9IGNhdGNoIHsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXduYW1lID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5cIiArIGFncm91cC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2dyb3VwID0gYWdyb3VwLmNsb25lKG5ld25hbWUsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNncm91cCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZ3JvdXAubG9vcEFuaW1hdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlJldGFyZ2V0QW5pbWF0aW9uR3JvdXBTa2VsZXRvbihjZ3JvdXAsIHRoaXMuYXZhdGFyU2tlbGV0b24sIHRoaXMuYXZhdGFyQXJtYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0b3IgIT0gbnVsbCAmJiB4Y2xpcHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHhjbGlwID0gdGhpcy5hbmltYXRvci5maXhBbmltYXRpb25Hcm91cChjZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4Y2xpcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZ3JvdXBzID09IG51bGwpIGNncm91cHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2dyb3Vwcy5wdXNoKGNncm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiRmFpbGVkIHRvIGxvY2F0ZSBhbmltYXRpb24gZ3JvdXAgaW4gZGVmYXVsdCBjbGlwczogXCIgKyBjZ3JvdXAubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiRmFpbGVkIHRvIGNsb25lIGFuaW1hdGlvbiBncm91cDogXCIgKyBhZ3JvdXAubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRvciAhPSBudWxsICYmIGNncm91cHMgIT0gbnVsbCAmJiBjZ3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRvci5zZXRBbmltYXRpb25Hcm91cHMoY2dyb3Vwcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogTU9WRSBCT05FIFNPQ0tFVCBUUkFORk9STVMgLSA/Pz9cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIERpc3Bvc2UgTWFubmVxdWlubiBTa2luIEFuZCBCb25lcyBGb3IgUGVyZm9ybWFuY2VcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF2YXRhckxvYWRlZCA9PT0gdHJ1ZSAmJiB0aGlzLmRpc3Bvc2VPZk1hbm5lcXVpbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlW10gPSB0aGlzLnRyYW5zZm9ybS5nZXRDaGlsZHJlbihudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5za2VsZXRvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2tlbGV0b24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnNrZWxldG9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW54OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IHRoaXMudHJhbnNmb3JtLmdldENoaWxkcmVuKG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbnguZm9yRWFjaCgoY2hpbGR4OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkeC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogTG9hZCBydW50aW1lIHBsYXllciBhdmF0YXIgZnJvbSBzcGVjZmllZCBsb2NhdGlvbiAqL1xuICAgICAgICBwcml2YXRlIGxvYWRSdW50aW1lUGxheWVyQXZhdGFyKHVybDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodXJsICE9IG51bGwgJiYgdXJsICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLndhcm4oXCI+Pj4gTG9hZGluZyBwbGF5ZXIgYXZhdGFyIGZyb206IFwiICsgdXJsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2VuZVJvb3RVcmw6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0Um9vdFVybCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBsZXQgaW1wb3J0VXJsOiBzdHJpbmcgPSB1cmw7XG4gICAgICAgICAgICAgICAgbGV0IHJvb3R1cmw6IHN0cmluZyA9IHNjZW5lUm9vdFVybDtcbiAgICAgICAgICAgICAgICBsZXQgZmlsZW5hbWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICByb290dXJsID0gc2NlbmVSb290VXJsO1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gaW1wb3J0VXJsO1xuICAgICAgICAgICAgICAgIGlmIChpbXBvcnRVcmwuaW5kZXhPZihcIjovL1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3R1cmwgPSBpbXBvcnRVcmwuc3Vic3RyaW5nKDAsIGltcG9ydFVybC5sYXN0SW5kZXhPZignLycpKSArIFwiL1wiO1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9ydFVybC5zdWJzdHJpbmcoaW1wb3J0VXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhc3NldHNNYW5hZ2VyOiBCQUJZTE9OLkFzc2V0c01hbmFnZXIgPSBuZXcgQkFCWUxPTi5Bc3NldHNNYW5hZ2VyKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltcG9ydFRhc2s6IEJBQllMT04uTWVzaEFzc2V0VGFzayA9IGFzc2V0c01hbmFnZXIuYWRkTWVzaFRhc2soKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5NZXNoVGFza1wiKSwgbnVsbCwgcm9vdHVybCwgZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgIGltcG9ydFRhc2sub25TdWNjZXNzID0gKHRhc2s6IEJBQllMT04uTWVzaEFzc2V0VGFzaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFzay5sb2FkZWRNZXNoZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5sb2FkZWRNZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNoLm1hdGVyaWFsIGluc3RhbmNlb2YgQkFCWUxPTi5QQlJNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNoLm1hdGVyaWFsLmFtYmllbnRDb2xvciA9IHRoaXMuYW1iaWVudE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvb3RBdmF0YXJNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IHRhc2subG9hZGVkTWVzaGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3RBdmF0YXJNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290QXZhdGFyTWVzaC5wYXJlbnQgPSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEF2YXRhck1lc2gubmFtZSA9IFwiQmxlbmRlckF2YXRhclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc2hUYXNrS2V5OiBzdHJpbmcgPSB0YXNrLnNjZW5lRmlsZW5hbWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuUmVnaXN0ZXJJbXBvcnRNZXNoZXModGhpcy5zY2VuZSwgbWVzaFRhc2tLZXksIHRhc2subG9hZGVkTWVzaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZVBsYXllckF2YXRhclJpZyhyb290QXZhdGFyTWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltcG9ydFRhc2sub25FcnJvciA9ICh0YXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2ssIG1lc3NhZ2U/OiBzdHJpbmcsIGV4Y2VwdGlvbj86IGFueSkgPT4geyBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGV4Y2VwdGlvbik7IH07XG4gICAgICAgICAgICAgICAgYXNzZXRzTWFuYWdlci5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQWRkIGFzc2V0IHByZWxvYWRlciB0YXNrcyAoaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9kaXZpbmdEZWVwZXIvaW1wb3J0ZXJzL2Fzc2V0TWFuYWdlcikgKi9cbiAgICAgICAgcHVibGljIGFkZFByZWxvYWRlclRhc2tzKGFzc2V0c01hbmFnZXI6IEJBQllMT04uVG9vbGtpdC5QcmVsb2FkQXNzZXRzTWFuYWdlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJlbG9hZExvY2F0aW9uICE9IG51bGwgJiYgdGhpcy5wcmVsb2FkTG9jYXRpb24gIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUud2FybihcIj4+PiBQcmVsb2FkaW5nIHBsYXllciBhdmF0YXIgZnJvbTogXCIgKyB0aGlzLnByZWxvYWRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NlbmVSb290VXJsOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFJvb3RVcmwodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgbGV0IGltcG9ydFVybDogc3RyaW5nID0gdGhpcy5wcmVsb2FkTG9jYXRpb247XG4gICAgICAgICAgICAgICAgbGV0IHJvb3R1cmw6IHN0cmluZyA9IHNjZW5lUm9vdFVybDtcbiAgICAgICAgICAgICAgICBsZXQgZmlsZW5hbWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICByb290dXJsID0gc2NlbmVSb290VXJsO1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gaW1wb3J0VXJsO1xuICAgICAgICAgICAgICAgIGlmIChpbXBvcnRVcmwuaW5kZXhPZihcIjovL1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3R1cmwgPSBpbXBvcnRVcmwuc3Vic3RyaW5nKDAsIGltcG9ydFVybC5sYXN0SW5kZXhPZignLycpKSArIFwiL1wiO1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGltcG9ydFVybC5zdWJzdHJpbmcoaW1wb3J0VXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpbXBvcnRUYXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2sgPSBhc3NldHNNYW5hZ2VyLmFkZE1lc2hUYXNrKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWVzaFRhc2tcIiksIG51bGwsIHJvb3R1cmwsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpbXBvcnRUYXNrLm9uU3VjY2VzcyA9ICh0YXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2subG9hZGVkTWVzaGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2subG9hZGVkTWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzaC5tYXRlcmlhbCBpbnN0YW5jZW9mIEJBQllMT04uUEJSTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5tYXRlcmlhbC5hbWJpZW50Q29sb3IgPSB0aGlzLmFtYmllbnRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb290QXZhdGFyTWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSB0YXNrLmxvYWRlZE1lc2hlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb290QXZhdGFyTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEF2YXRhck1lc2gucGFyZW50ID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RBdmF0YXJNZXNoLm5hbWUgPSBcIkJsZW5kZXJBdmF0YXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNoVGFza0tleTogc3RyaW5nID0gdGFzay5zY2VuZUZpbGVuYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlJlZ2lzdGVySW1wb3J0TWVzaGVzKHRoaXMuc2NlbmUsIG1lc2hUYXNrS2V5LCB0YXNrLmxvYWRlZE1lc2hlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmVQbGF5ZXJBdmF0YXJSaWcocm9vdEF2YXRhck1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbXBvcnRUYXNrLm9uRXJyb3IgPSAodGFzazogQkFCWUxPTi5NZXNoQXNzZXRUYXNrLCBtZXNzYWdlPzogc3RyaW5nLCBleGNlcHRpb24/OiBhbnkpID0+IHsgY29uc29sZS5lcnJvcihtZXNzYWdlLCBleGNlcHRpb24pOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIG5ldHdvcmsgZW50aXR5IChDb2x5c2V1cyBVbml2ZXJzYWwgR2FtZSBSb29tKVxuICAgICAqIEBjbGFzcyBDb2x5c2V1c05ldHdvcmtFbnRpdHkgLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQ29seXNldXNOZXR3b3JrRW50aXR5IGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBhdXRvQ3JlYXRlOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHJlbW90ZVByZWZhYjogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHVibGljIGFzc2V0Q29udGFpbmVyOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRFcHNpbG9uOiBudW1iZXIgPSAwLjAwMDAxO1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRNZXRob2Q6IEJBQllMT04uRW50aXR5TW92ZW1lbnRUeXBlID0gQkFCWUxPTi5FbnRpdHlNb3ZlbWVudFR5cGUuQ2xpZW50QXV0aG9yaXR5O1xuICAgICAgICBwdWJsaWMgaW50ZXJwb2xhdGlvbk1vZGU6IEJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbiA9IEJBQllMT04uRW50aXR5SW50ZXJwb2xhdGlvbi5EZWZhdWx0O1xuICAgICAgICBwdWJsaWMgaW50ZXJwb2xhdGlvbkhhbmRsZXI6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzeW5jVHJhbnNmb3JtTm9kZTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBydW50aW1lQXR0cmlidXRlczogQkFCWUxPTi5FbnRpdHlBdHRyaWJ1dGVbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY3JlYXRpb25BdHRyaWJ1dGVzOiBCQUJZTE9OLkVudGl0eUF0dHJpYnV0ZVtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBidWZmZXJlZEF0dHJpYnV0ZXM6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbmV0d29ya0VudGl0eUNyZWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubmV0d29ya0VudGl0eUNyZWF0ZWQgPT09IGZhbHNlICYmIHRoaXMuYXV0b0NyZWF0ZSA9PT0gdHJ1ZSAmJiB0aGlzLmlzUmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dG9DcmVhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVFbnRpdHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b0NyZWF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudE1ldGhvZCA9IDA7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZVByZWZhYiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFzc2V0Q29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbk1vZGUgPSAwO1xuICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0aW9uSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNyZWF0aW9uQXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJ1bnRpbWVBdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc3luY1RyYW5zZm9ybU5vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubmV0d29ya0VudGl0eUNyZWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgZW50aXR5SWQ6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLkdldE5ldHdvcmtFbnRpdHlJZCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICBpZiAoZW50aXR5SWQgIT0gbnVsbCAmJiBlbnRpdHlJZCAhPT0gXCJcIikgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZW1vdmVOZXR3b3JrRW50aXR5KGVudGl0eUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjcmVhdGVFbnRpdHkoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzVG9DcmVhdGU6IGFueSA9IHt9O1xuICAgICAgICAgICAgaWYgKHRoaXMuY3JlYXRpb25BdHRyaWJ1dGVzICE9IG51bGwgJiYgdGhpcy5jcmVhdGlvbkF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRpb25BdHRyaWJ1dGVzLmZvckVhY2goKGNyZWF0aW9uQXR0cmlidXRlOiBCQUJZTE9OLkVudGl0eUF0dHJpYnV0ZSkgPT4geyBhdHRyaWJ1dGVzVG9DcmVhdGVbY3JlYXRpb25BdHRyaWJ1dGUua2V5XSA9IGNyZWF0aW9uQXR0cmlidXRlLnZhbHVlOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bnRpbWVBdHRyaWJ1dGVzICE9IG51bGwgJiYgdGhpcy5ydW50aW1lQXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW50aW1lQXR0cmlidXRlcy5mb3JFYWNoKChydW50aW1lQXR0cmlidXRlOiBCQUJZTE9OLkVudGl0eUF0dHJpYnV0ZSkgPT4geyBhdHRyaWJ1dGVzVG9DcmVhdGVbcnVudGltZUF0dHJpYnV0ZS5rZXldID0gcnVudGltZUF0dHJpYnV0ZS52YWx1ZTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXN0b21IYW5kbGVyOiBzdHJpbmcgPSAodGhpcy5pbnRlcnBvbGF0aW9uTW9kZSA9PT0gQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uLkN1c3RvbSkgPyB0aGlzLmludGVycG9sYXRpb25IYW5kbGVyIDogXCJcIjtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuQ3JlYXRlTmV0d29ya0VudGl0eSh0aGlzLnRyYW5zZm9ybSwgdGhpcy5yZW1vdGVQcmVmYWIsIHRoaXMuYXNzZXRDb250YWluZXIsIHRoaXMubW92ZW1lbnRFcHNpbG9uLCB0aGlzLm1vdmVtZW50TWV0aG9kLCB0aGlzLmludGVycG9sYXRpb25Nb2RlLCB0aGlzLnN5bmNUcmFuc2Zvcm1Ob2RlLCBjdXN0b21IYW5kbGVyLCB0aGlzLmJ1ZmZlcmVkQXR0cmlidXRlcywgYXR0cmlidXRlc1RvQ3JlYXRlKTtcbiAgICAgICAgICAgIHRoaXMubmV0d29ya0VudGl0eUNyZWF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBCQUJZTE9OIHtcbiAgICBleHBvcnQgdHlwZSBVbml2ZXJzYWxHYW1lUm9vbSA9IENvbHlzZXVzLlJvb208QkFCWUxPTi5JQ29seXNldXNSb29tU3RhdGU+O1xuICAgIGV4cG9ydCBlbnVtIFJlbW90ZUZ1bmN0aW9uQ2FsbFRhcmdldCB7IEFsbCA9IDAsIE90aGVycyA9IDEgfVxuICAgIGV4cG9ydCBlbnVtIE5ldHdvcmtFbnRpdHlUeXBlIHsgTm9uZSA9IDAsIExvY2FsID0gMSwgUmVtb3RlID0gMiB9XG4gICAgZXhwb3J0IGVudW0gRW50aXR5TW92ZW1lbnRUeXBlIHsgQ2xpZW50QXV0aG9yaXR5ID0gMCwgU2VydmVyQXV0aG9yaXR5ID0gMSB9XG4gICAgZXhwb3J0IGVudW0gRW50aXR5SW50ZXJwb2xhdGlvbiB7IERlZmF1bHQgPSAwLCBIZXJtaXRlID0gMSwgQ3VzdG9tID0gMiB9XG4gICAgZXhwb3J0IGNsYXNzIEVudGl0eUF0dHJpYnV0ZSB7IHB1YmxpYyBrZXk6IHN0cmluZzsgcHVibGljIHZhbHVlOiBzdHJpbmc7IH1cbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIG5ldHdvcmsgbWFuYWdlbWVudCBzeXN0ZW0gY2xhc3MgKENvbHlzZXVzIFVuaXZlcnNhbCBHYW1lIFJvb20pXG4gICAgICogU3VwcG9ydHMgbmV0d29yayB1c2VycywgZW50aXRpZXMsIGF0dHJpYnV0ZXMsIHJlbW90ZSBmdW5jdGlvbiBjYWxscywgY3VzdG9tIG1lc3NhZ2VzLCBjdXN0b20gbWV0aG9kcyBhbmQgY3VzdG9tIHJvb20gbG9naWMgbW9kdWxlcy5cbiAgICAgKiBAY2xhc3MgTmV0d29ya01hbmFnZXIgLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTmV0d29ya01hbmFnZXIge1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBSb290Tm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgRGVmYXVsdFJvb206IEJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBVc2VyUmVmZXJlbmNlOiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTmV0d29ya1NlcnZlclRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIE5ldHdvcmtFbnRpdHlRdWV1ZTogTWFwPHN0cmluZywgQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5PiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEN1c3RvbUhhbmRsZXJNYXA6IE1hcDxzdHJpbmcsIChlbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgdHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZTogbnVtYmVyKSA9PiB2b2lkPiA9IG5ldyBNYXA8c3RyaW5nLCAoZW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6IG51bWJlcikgPT4gdm9pZD4oKTtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBTZW5kUG9zaXRpb25CdWZmZXI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNlbmRSb3RhdGlvbkJ1ZmZlcjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2VuZExpbmVhckJ1ZmZlcjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2VuZEFuZ3VsYXJCdWZmZXI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBTY2VuZVJlZmVyZW5jZTogQkFCWUxPTi5TY2VuZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSW50ZXJwb2xhdGlvbkJ1ZmZlcjogbnVtYmVyID0gMC4xNTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkNvbm5lY3RPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyPigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uRGlzY29ubmVjdE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uSUNvbHlzZXVzTmV0d29ya1VzZXI+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25Kb2luUm9vbU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uSUNvbHlzZXVzTmV0d29ya1VzZXI+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25MZWF2ZVJvb21PYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxudW1iZXI+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25DcmVhdGVFbnRpdHlPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHk+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25SZW1vdmVFbnRpdHlPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHk+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25DaGF0TWVzc2FnZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uSUNvbHlzZXVzQ2hhdE1lc3NhZ2U+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25QaW5nUmVjZWl2ZWRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxhbnk+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25FcnJvck1lc3NhZ2VPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRvb2xraXQuUm9vbUVycm9yTWVzc2FnZT4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPblJlbW90ZVByb2NlZHVyZUNhbGxPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxhbnk+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVnaXN0ZXJDdXN0b21JbnRlcnBvbGF0aW9uSGFuZGxlcihuYW1lOiBzdHJpbmcsIGhhbmRsZXI6IChlbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgdHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZTogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuQ3VzdG9tSGFuZGxlck1hcC5zZXQobmFtZSwgaGFuZGxlcik7IH1cblxuICAgICAgICAvKiogSXMgdGhlIGNvbHlzZXVzIG5ldHdvcmsgbGlicmFyeSBpcyBhdmFpbGFibGUgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc0F2YWlsYWJsZSgpOiBib29sZWFuIHsgcmV0dXJuICgoPGFueT53aW5kb3cpLkNvbHlzZXVzICE9PSB1bmRlZmluZWQgJiYgKDxhbnk+d2luZG93KS5Db2x5c2V1cy5DbGllbnQgIT09IHVuZGVmaW5lZCk7IH1cbiAgICAgICAgLyoqIElzIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gYXR0YWNoZWQgdG8gdGhlIHNjZW5lICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNSb29tQXR0YWNoZWQoKTogYm9vbGVhbiB7IHJldHVybiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSAhPSBudWxsICYmIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gIT0gbnVsbCk7IH1cbiAgICAgICAgLyoqIEhhcyBjbGllbnQgcmVjZWl2ZWQgYSBqb2luIHJvb20gY29uZmlybWF0aW9uIG1lc3NhZ2UgZnJvbSB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSGFzSm9pbmVkUm9vbSgpOiBib29sZWFuIHsgcmV0dXJuIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNjZW5lUmVmZXJlbmNlICE9IG51bGwgJiYgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSAhPSBudWxsICYmIEJBQllMT04uTmV0d29ya01hbmFnZXIuVXNlclJlZmVyZW5jZSAhPSBudWxsKTsgfVxuICAgICAgICAvKiogR2V0cyB0aGUgY3VycmVudCB1c2VyIGluIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRDdXJyZW50VXNlcigpOiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyIHsgcmV0dXJuIEJBQllMT04uTmV0d29ya01hbmFnZXIuVXNlclJlZmVyZW5jZTsgfVxuICAgICAgICAvKiogR2V0cyB0aGUgYXR0YWNoZWQgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0RGVmYXVsdFJvb20oKTogQkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSB7IHJldHVybiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tOyB9XG4gICAgICAgIC8qKiBHZXRzIHRoZSBuZXR3b3JrIHNlcnZlciB0aW1lIG9mIHRoZSBhdHRhY2hlZCBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKFNlY29uZHMpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TmV0d29ya1RpbWUoKTogbnVtYmVyIHsgcmV0dXJuIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya1NlcnZlclRpbWU7IH1cbiAgICAgICAgLyoqIElzIGxvY2FsIG5ldHdvcmsgZW50aXR5ICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNMb2NhbE5ldHdvcmtFbnRpdHkoZW50aXR5OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpOiBib29sZWFuIHsgcmV0dXJuIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkdldE5ldHdvcmtFbnRpdHlUeXBlKGVudGl0eSkgPT09IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuTG9jYWwpOyB9XG4gICAgICAgIC8qKiBJcyByZW1vdGUgbmV0d29yayBlbnRpdHkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc1JlbW90ZU5ldHdvcmtFbnRpdHkoZW50aXR5OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpOiBib29sZWFuIHsgcmV0dXJuIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkdldE5ldHdvcmtFbnRpdHlUeXBlKGVudGl0eSkgPT09IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuUmVtb3RlKTsgfVxuICAgICAgICAvKiogR2V0cyB0aGUgbmV0d29yayBlbnRpdHkgdHlwZSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldE5ldHdvcmtFbnRpdHlUeXBlKGVudGl0eTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTogbnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBjb25zdCBhZW50aXR5OiBhbnkgPSBlbnRpdHk7XG4gICAgICAgICAgICBpZiAoYWVudGl0eS50cmFuc2Zvcm1Ob2RlICE9IG51bGwgJiYgYWVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYWVudGl0eS50cmFuc2Zvcm1Ob2RlVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEF0dGFjaGVzIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSB0byB0aGUgc3BlY2lmaWVkIHNjZW5lICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQXR0YWNoRGVmYXVsdFJvb20oc2NlbmU6IEJBQllMT04uU2NlbmUsIHJvb206IEJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20pOiB2b2lkIHtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGV0YWNoRGVmYXVsdFJvb20oKTtcbiAgICAgICAgICAgIGlmIChzY2VuZSAhPSBudWxsICYmIHJvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gPSByb29tO1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2NlbmVSZWZlcmVuY2UgPSBzY2VuZTtcbiAgICAgICAgICAgICAgICBpZiAocm9vbS5zdGF0ZSAhPSBudWxsICYmIHJvb20uc3RhdGUuZW50aXRpZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5yb29tLnN0YXRlLmVudGl0aWVzKS5vbkFkZCgoZSwgaykgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkFkZE5ldHdvcmtFbnRpdHlIYW5kbGVyKGUsIGspOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+cm9vbS5zdGF0ZS5lbnRpdGllcykub25SZW1vdmUoKGUsIGspID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZW1vdmVOZXR3b3JrRW50aXR5SGFuZGxlcihlLCBrKTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvb20ub25TdGF0ZUNoYW5nZS5vbmNlKChzdGF0ZSkgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uRGlzcGF0Y2hDaGF0UXVldWVNZXNzYWdlcyhzdGF0ZSk7IH0pOyAvLyBOb3RlOiBGaXJzdCBTdGF0ZSBDaG5hZ2VcbiAgICAgICAgICAgICAgICByb29tLm9uU3RhdGVDaGFuZ2UoKHN0YXRlKSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuT25EaXNwYXRjaENoYXRRdWV1ZU1lc3NhZ2VzKHN0YXRlKTsgfSk7ICAgICAgLy8gTm90ZTogU3RhdGUgVXBkYXRlZFxuICAgICAgICAgICAgICAgIHJvb20ub25NZXNzYWdlKFwib25Db25uZWN0XCIsIChpbmZvOiBhbnkpID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkNvbm5lY3RPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpbmZvLnVzZXIpOyB9KTtcbiAgICAgICAgICAgICAgICByb29tLm9uTWVzc2FnZShcIm9uRGlzY29ubmVjdFwiLCAoaW5mbzogYW55KSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuT25EaXNjb25uZWN0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaW5mby51c2VyKTsgfSk7XG4gICAgICAgICAgICAgICAgcm9vbS5vbk1lc3NhZ2UoXCJvbkpvaW5cIiwgKGluZm86IGFueSkgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkpvaW5EZWZhdWx0Um9vbUhhbmRsZXIoaW5mbyk7IEJBQllMT04uTmV0d29ya01hbmFnZXIuT25Kb2luUm9vbU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGluZm8udXNlcik7IH0pO1xuICAgICAgICAgICAgICAgIHJvb20ub25NZXNzYWdlKFwib25SRkNcIiwgKG1lc3NhZ2U6IGFueSkgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uUmVtb3RlUHJvY2VkdXJlQ2FsbE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG1lc3NhZ2UpOyB9KTtcbiAgICAgICAgICAgICAgICByb29tLm9uTGVhdmUoKGNvZGU6IG51bWJlcikgPT4geyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uTGVhdmVSb29tT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoY29kZSk7IH0pO1xuICAgICAgICAgICAgICAgIHJvb20ub25FcnJvcigoY29kZTogbnVtYmVyLCBtZXNzYWdlOiBzdHJpbmcpID0+IHsgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkVycm9yTWVzc2FnZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHsgY29kZTogY29kZSwgbWVzc2FnZTogbWVzc2FnZSB9KTsgfSk7XG4gICAgICAgICAgICAgICAgc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uU2NlbmVCZWZvcmVSZW5kZXJVcGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBEZXRhY2hlcyBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gZnJvbSB0aGUgc2NlbmUgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBEZXRhY2hEZWZhdWx0Um9vbSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNjZW5lUmVmZXJlbmNlLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uU2NlbmVCZWZvcmVSZW5kZXJVcGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZTYpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlNik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZTkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGU5KTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Vc2VyUmVmZXJlbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNjZW5lUmVmZXJlbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrU2VydmVyVGltZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgYSBuZXR3b3JrIHVzZXIgaW4gdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldE5ldHdvcmtVc2VyKGlkOiBzdHJpbmcpOiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya1VzZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUgIT0gbnVsbCAmJiBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnN0YXRlLnVzZXJzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZS51c2Vycy5nZXQoaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTmV0d29yayBtYW5hZ2VyIGhhcyBub3Qgam9pbmVkIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyBhIG5ldHdvcmsgZW50aXR5IGluIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXROZXR3b3JrRW50aXR5KGlkOiBzdHJpbmcpOiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLnN0YXRlICE9IG51bGwgJiYgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZS5lbnRpdGllcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUuZW50aXRpZXMuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIk5ldHdvcmsgbWFuYWdlciBoYXMgbm90IGpvaW5lZCB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIENyZWF0ZXMgYSBuZXR3b3JrIGVudGl0eSBpbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXRlTmV0d29ya0VudGl0eShsb2NhbFRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCByZW1vdGVQcmVmYWI6IHN0cmluZyA9IG51bGwsIGFzc2V0Q29udGFpbmVyOiBzdHJpbmcgPSBudWxsLCBtb3ZlbWVudEVwc2lsb246IG51bWJlciA9IDAuMDAwMDEsIG1vdmVtZW50VHlwZTogQkFCWUxPTi5FbnRpdHlNb3ZlbWVudFR5cGUgPSBCQUJZTE9OLkVudGl0eU1vdmVtZW50VHlwZS5DbGllbnRBdXRob3JpdHksIGludGVycG9sYXRpb25Nb2RlOiBCQUJZTE9OLkVudGl0eUludGVycG9sYXRpb24gPSBCQUJZTE9OLkVudGl0eUludGVycG9sYXRpb24uRGVmYXVsdCwgYXV0b1N5bmNUcmFuc2Zvcm06IGJvb2xlYW4gPSB0cnVlLCBjdXN0b21IYW5kbGVyTmFtZTogc3RyaW5nID0gbnVsbCwgYnVmZmVyZWRBdHRyaWJ1dGVzOiBhbnksIGNyZWF0ZUF0dHJpYnV0ZXM6IGFueSA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uUm9vbUNvbnRyb2xsZXIuQ3JlYXRlTmV0d29ya0VudGl0eShCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlVzZXJSZWZlcmVuY2UubmFtZSwgbG9jYWxUcmFuc2Zvcm0sIHJlbW90ZVByZWZhYiwgYXNzZXRDb250YWluZXIsIG1vdmVtZW50RXBzaWxvbiwgbW92ZW1lbnRUeXBlLCBpbnRlcnBvbGF0aW9uTW9kZSwgYXV0b1N5bmNUcmFuc2Zvcm0sIGN1c3RvbUhhbmRsZXJOYW1lLCBidWZmZXJlZEF0dHJpYnV0ZXMsIGNyZWF0ZUF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlbW92ZXMgYSBuZXR3b3JrIGVudGl0eSBmcm9tIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBSZW1vdmVOZXR3b3JrRW50aXR5KGVudGl0eUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uUm9vbUNvbnRyb2xsZXIuUmVtb3ZlTmV0d29ya0VudGl0eShCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLCBlbnRpdHlJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIk5ldHdvcmsgbWFuYWdlciBoYXMgbm90IGpvaW5lZCB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyBhIHVzZXIgYXR0cmlidXRlIG9uIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRVc2VyQXR0cmlidXRlcyh1c2VySWQ6IHN0cmluZywgYXR0cmlidXRlc1RvU2V0OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uUm9vbUNvbnRyb2xsZXIuU2V0VXNlckF0dHJpYnV0ZXMoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSwgdXNlcklkLCBhdHRyaWJ1dGVzVG9TZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgYSBlbnRpdHkgYXR0cmlidXRlIG9uIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRFbnRpdHlBdHRyaWJ1dGVzKGVudGl0eUlkOiBzdHJpbmcsIGF0dHJpYnV0ZXNUb1NldDogYW55KTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLlNldEVudGl0eUF0dHJpYnV0ZXMoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSwgZW50aXR5SWQsIGF0dHJpYnV0ZXNUb1NldCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIk5ldHdvcmsgbWFuYWdlciBoYXMgbm90IGpvaW5lZCB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogQ2FsbHMgYSBjdXN0b20gc2VydmVyIG1ldGhvZCBvbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ2FsbEN1c3RvbU1ldGhvZChtZXRob2Q6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uUm9vbUNvbnRyb2xsZXIuQ2FsbEN1c3RvbU1ldGhvZChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkRlZmF1bHRSb29tLCBtZXRob2QsIGFyZ3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEV4ZWN1dHMgYSByZW1vdGUgZnVuY3Rpb24gY2FsbCBvbiB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRXhlY3V0ZVJlbW90ZUZ1bmN0aW9uQ2FsbCh0YXJnZXQ6IEJBQllMT04uUmVtb3RlRnVuY3Rpb25DYWxsVGFyZ2V0LCBlbnRpdHlJZDogc3RyaW5nLCBmdW5jOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLkV4ZWN1dGVSZW1vdGVGdW5jdGlvbkNhbGwoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbSwgdGFyZ2V0LCBlbnRpdHlJZCwgZnVuYywgYXJncyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIk5ldHdvcmsgbWFuYWdlciBoYXMgbm90IGpvaW5lZCB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIEdhbWUgU2Vzc2lvbiBDaGF0IE1lc3NhZ2VzXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEdldHMgdGhlIGN1cnJlbnQgY2hhdCBtZXNzYWdlIHF1ZXVlIGl0ZW1zIGZvciB0aGUgZGVmYXVsdCB1bml2ZXJzYWwgZ2FtZSByb29tICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q2hhdE1lc3NhZ2VzKCk6IEJBQllMT04uSUNvbHlzZXVzQ2hhdE1lc3NhZ2VbXSB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZXM6IEJBQllMT04uSUNvbHlzZXVzQ2hhdE1lc3NhZ2VbXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZS5xdWV1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc3RhdGUucXVldWUuZm9yRWFjaCgocXVldWUsIGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVldWUgIT0gbnVsbCAmJiBxdWV1ZS5tZXNzYWdlcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUubWVzc2FnZXMuZm9yRWFjaCgobWVzc2FnZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VzID09IG51bGwpIG1lc3NhZ2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBTZW5kIGEgY2hhdCBtZXNzYWdlIHRvIHRoZSBkZWZhdWx0IHVuaXZlcnNhbCBnYW1lIHJvb20gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZW5kQ2hhdE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJvb21Db250cm9sbGVyLlNlbmRDaGF0KEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20sIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOZXR3b3JrIG1hbmFnZXIgaGFzIG5vdCBqb2luZWQgdGhlIGRlZmF1bHQgdW5pdmVyc2FsIGdhbWUgcm9vbS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBFbnRpdHkgTGlmZSBDeWNsZSBVcGRhdGVzXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgT25TY2VuZUJlZm9yZVJlbmRlclVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXREZWx0YVNlY29uZHMoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSk7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrU2VydmVyVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtTZXJ2ZXJUaW1lICs9IGRlbHRhVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUHJvY2Vzc05ldHdvcmtFbnRpdGllcyhkZWx0YVRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgT25EaXNwYXRjaENoYXRRdWV1ZU1lc3NhZ2VzKHN0YXRlOiBCQUJZTE9OLklDb2x5c2V1c1Jvb21TdGF0ZSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2VzOiBCQUJZTE9OLklDb2x5c2V1c0NoYXRNZXNzYWdlW10gPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkdldENoYXRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlcyAhPSBudWxsICYmIG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gU29ydCBJbiBBc2NlbmRpbmcgT3JkZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMuc29ydCgobGVmdCwgcmlnaHQpOiBudW1iZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQudGltZXN0YW1wIDwgcmlnaHQudGltZXN0YW1wKSByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVmdC50aW1lc3RhbXAgPiByaWdodC50aW1lc3RhbXApIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBTaGFsbG93IENvcGllc1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5mb3JFYWNoKChteCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG14ICE9IG51bGwgJiYgKCg8YW55Pm14KS5kaXNwYXRjaGVkID09IG51bGwgfHwgKDxhbnk+bXgpLmRpc3BhdGNoZWQgPT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuT25DaGF0TWVzc2FnZU9ic2VydmFibGUgJiYgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkNoYXRNZXNzYWdlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PbkNoYXRNZXNzYWdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyAuLi5teCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5teCkuZGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBFbnRpdHkgU2NlbmUgVmlldyBGdW5jdGlvbnMgKFNjZW5lIERlbHRhIFRpbWUpXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgUHJvY2Vzc05ldHdvcmtFbnRpdGllcyhkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuSGFzSm9pbmVkUm9vbSgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRyYW5zbWl0UGFja2V0QnVmZmVyOiBhbnlbXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5EZWZhdWx0Um9vbS5zdGF0ZS5lbnRpdGllcy5mb3JFYWNoKChlbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwga2V5OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZSAhPSBudWxsICYmICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5U3luYyAhPSBudWxsICYmICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5U3luYyA9PT0gdHJ1ZSAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGVUeXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGVUeXBlID09PSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLkxvY2FsKSB7IC8vIE5vdGU6IExvY2FsIE5ldHdvcmsgRW50aXRpZXMgT25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxhc3RQb3NpdGlvbiA9PSBudWxsKSAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxhc3RQb3NpdGlvbiA9ICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUucG9zaXRpb24uZXF1YWxzV2l0aEVwc2lsb24oKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMYXN0UG9zaXRpb24sICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5RXBzaWxvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5wb3NpdGlvbi5zdWJ0cmFjdFRvUmVmKCg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TGFzdFBvc2l0aW9uLCAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxpbmVhclZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eS54IC89IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eS55IC89IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eS56IC89IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxpbmVhclZlbG9jaXR5LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMYXN0UG9zaXRpb24uY29weUZyb20oKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhY2tldDogYW55ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5DcmVhdGVOZXR3b3JrUGFja2V0RGF0YSgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc21pdFBhY2tldEJ1ZmZlciA9PSBudWxsKSB0cmFuc21pdFBhY2tldEJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWNrZXQgIT0gbnVsbCkgdHJhbnNtaXRQYWNrZXRCdWZmZXIucHVzaChwYWNrZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGVUeXBlID09PSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLlJlbW90ZSkgeyAvLyBOb3RlOiBSZW1vdGUgTmV0d29yayBFbnRpdGllcyBPbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyOiBJbnRlcnBvbGF0aW9uQnVmZmVyID0gKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlJbnRlcnBCdWZmZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlci51cGRhdGUoZGVsdGFUaW1lICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUFjdGl2YXRlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlBY3RpdmF0ZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUFjdGl2YXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMyhlbnRpdHkueFBvcywgZW50aXR5LnlQb3MsIGVudGl0eS56UG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbihlbnRpdHkueFJvdCwgZW50aXR5LnlSb3QsIGVudGl0eS56Um90LCBlbnRpdHkud1JvdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLnNldEVuYWJsZWQodHJ1ZSk7IC8vIE5vdGU6IEVuYWJsZSBSb290IE5vZGUgT24gSW5pdGlhbCBBY3RpdmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiPj4+IEFjdGl2YXRpbmcgUmVtb3RlIEVudGl0eTogXCIgKyAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuVXBkYXRlUmVtb3RlRW50aXR5KGJ1ZmZlciwgZW50aXR5LCAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IExpbWl0IFBhY2tldCBTZW5kIC0gPz8/XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodHJhbnNtaXRQYWNrZXRCdWZmZXIgIT0gbnVsbCAmJiB0cmFuc21pdFBhY2tldEJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZERhdGFQYWNrZXRUb1NlcnZlcih0cmFuc21pdFBhY2tldEJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2VuZERhdGFQYWNrZXRUb1NlcnZlcih0cmFuc21pdFBhY2tldEJ1ZmZlcjogYW55W10pOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFQYWNrZXQgPSB7IGVudGl0aWVzOiB0cmFuc21pdFBhY2tldEJ1ZmZlciB9O1xuICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuRGVmYXVsdFJvb20uc2VuZChcInBhY2tldFVwZGF0ZVwiLCBkYXRhUGFja2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFVwZGF0ZVJlbW90ZUVudGl0eShidWZmZXI6IEludGVycG9sYXRpb25CdWZmZXIsIGVudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCB0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChlbnRpdHkgPT0gbnVsbCB8fCB0cmFuc2Zvcm0gPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBOZXR3b3JrIFRyYW5zbGF0aW9uXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGlvbk1vZGU6IG51bWJlciA9ICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUludGVycG9sYXRlO1xuICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb25Nb2RlID09PSBCQUJZTE9OLkVudGl0eUludGVycG9sYXRpb24uQ3VzdG9tKSB7XG4gICAgICAgICAgICAgICAgaWYgKCg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlIYW5kbGVyKGVudGl0eSwgdHJhbnNmb3JtLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5zdGF0ZSA9PT0gQnVmZmVyU3RhdGUuUExBWUlORykge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20oYnVmZmVyLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShidWZmZXIucXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5zY2FsaW5nLmNvcHlGcm9tKGJ1ZmZlci5zY2FsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBCdWZmZXJlZCBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKCg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlciA9PSBudWxsKSAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXIgPSB7fTtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjBcIl0gPSBlbnRpdHkuYXV4MDA7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxXCJdID0gZW50aXR5LmF1eDAxO1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMlwiXSA9IGVudGl0eS5hdXgwMjtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjNcIl0gPSBlbnRpdHkuYXV4MDM7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCI0XCJdID0gZW50aXR5LmF1eDA0O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiNVwiXSA9IGVudGl0eS5hdXgwNTtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjZcIl0gPSBlbnRpdHkuYXV4MDY7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCI3XCJdID0gZW50aXR5LmF1eDA3O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiOFwiXSA9IGVudGl0eS5hdXgwODtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjlcIl0gPSBlbnRpdHkuYXV4MDk7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxMFwiXSA9IGVudGl0eS5hdXgxMDtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjExXCJdID0gZW50aXR5LmF1eDExO1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTJcIl0gPSBlbnRpdHkuYXV4MTI7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxM1wiXSA9IGVudGl0eS5hdXgxMztcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjE0XCJdID0gZW50aXR5LmF1eDE0O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMTVcIl0gPSBlbnRpdHkuYXV4MTU7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxNlwiXSA9IGVudGl0eS5hdXgxNjtcbiAgICAgICAgICAgICg8YW55PnRyYW5zZm9ybSkubmV0d29ya0VudGl0eUF0dHJpYnV0ZUJ1ZmZlcltcIjE3XCJdID0gZW50aXR5LmF1eDE3O1xuICAgICAgICAgICAgKDxhbnk+dHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QXR0cmlidXRlQnVmZmVyW1wiMThcIl0gPSBlbnRpdHkuYXV4MTg7XG4gICAgICAgICAgICAoPGFueT50cmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXJbXCIxOVwiXSA9IGVudGl0eS5hdXgxOTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIENyZWF0ZU5ldHdvcmtQYWNrZXREYXRhKGxvY2FsVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHBvc3RBdHRyaWJ1dGVzOiBib29sZWFuID0gdHJ1ZSk6IGFueSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBhbnkgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgbmV0d29ya0VudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHk7XG4gICAgICAgICAgICBpZiAobmV0d29ya0VudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5TW92ZW1lbnQgIT0gbnVsbCAmJiAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eU1vdmVtZW50ID09PSBCQUJZTE9OLkVudGl0eU1vdmVtZW50VHlwZS5DbGllbnRBdXRob3JpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYobG9jYWxUcmFuc2Zvcm0sIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFBvc2l0aW9uQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVJvdGF0aW9uVG9SZWYobG9jYWxUcmFuc2Zvcm0sIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFJvdGF0aW9uQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUG9zaXRpb25CdWZmZXIuY29weUZyb20obG9jYWxUcmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFJvdGF0aW9uQnVmZmVyLmNvcHlGcm9tKGxvY2FsVHJhbnNmb3JtLmFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUG9zaXRpb25CdWZmZXIuY29weUZyb20obG9jYWxUcmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRSb3RhdGlvbkJ1ZmZlci5jb3B5RnJvbShsb2NhbFRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eSAhPSBudWxsKSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRMaW5lYXJCdWZmZXIuY29weUZyb20oKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kTGluZWFyQnVmZmVyLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QW5ndWxhclZlbG9jaXR5ICE9IG51bGwpIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZEFuZ3VsYXJCdWZmZXIuY29weUZyb20oKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlBbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZEFuZ3VsYXJCdWZmZXIuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBsZXQgYTAwOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTAxOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTAyOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTAzOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTA0OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTA1OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTA2OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTA3OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTA4OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTA5OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTEwOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTExOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTEyOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTEzOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTE0OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTE1OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTE2OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTE3OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTE4OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYTE5OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zdEF0dHJpYnV0ZXMgPT09IHRydWUgJiYgKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjBcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwMCA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIwXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDEgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiMlwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTAyID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjJcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjNcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwMyA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIzXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI0XCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDQgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiNFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiNVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTA1ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjVcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjZcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwNiA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI2XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI3XCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDcgPSAoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiN1wiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGFueT5sb2NhbFRyYW5zZm9ybSkubmV0d29ya0VudGl0eUJhdGNoW1wiOFwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTA4ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjhcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjlcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEwOSA9ICg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCI5XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMFwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTEwID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjEwXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTExID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjExXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxMlwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTEyID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjEyXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxM1wiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTEzID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjEzXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNFwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTE0ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjE0XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTE1ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjE1XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxNlwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTE2ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjE2XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxN1wiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTE3ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjE3XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxOFwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTE4ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjE4XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8YW55PmxvY2FsVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5QmF0Y2hbXCIxOVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTE5ID0gKDxhbnk+bG9jYWxUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlCYXRjaFtcIjE5XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCBOZXR3b3JrIEVudGl0eSBVcGRhdGUgUGFja2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhY2tldDogYW55ID0ge307XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5pZCA9IG5ldHdvcmtFbnRpdHkuaWQ7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC54UG9zID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUG9zaXRpb25CdWZmZXIueDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnlQb3MgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRQb3NpdGlvbkJ1ZmZlci55O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQuelBvcyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFBvc2l0aW9uQnVmZmVyLno7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC54Um90ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUm90YXRpb25CdWZmZXIueDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnlSb3QgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRSb3RhdGlvbkJ1ZmZlci55O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQuelJvdCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZFJvdGF0aW9uQnVmZmVyLno7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC53Um90ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kUm90YXRpb25CdWZmZXIudztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnhWZWwgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRMaW5lYXJCdWZmZXIueDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnlWZWwgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRMaW5lYXJCdWZmZXIueTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnpWZWwgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRMaW5lYXJCdWZmZXIuejtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnhBbmcgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNlbmRBbmd1bGFyQnVmZmVyLng7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC55QW5nID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kQW5ndWxhckJ1ZmZlci55O1xuICAgICAgICAgICAgICAgICAgICBwYWNrZXQuekFuZyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuU2VuZEFuZ3VsYXJCdWZmZXIuejtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwMCA9IGEwMDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwMSA9IGEwMTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwMiA9IGEwMjtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwMyA9IGEwMztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwNCA9IGEwNDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwNSA9IGEwNTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwNiA9IGEwNjtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwNyA9IGEwNztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwOCA9IGEwODtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmEwOSA9IGEwOTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExMCA9IGExMDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExMSA9IGExMTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExMiA9IGExMjtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExMyA9IGExMztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExNCA9IGExNDtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExNSA9IGExNTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExNiA9IGExNjtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExNyA9IGExNztcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExOCA9IGExODtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmExOSA9IGExOTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LnNwZWVkID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TZW5kTGluZWFyQnVmZmVyLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBwYWNrZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIEVudGl0eSBTdGF0aWMgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBKb2luRGVmYXVsdFJvb21IYW5kbGVyKGluZm86IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Vc2VyUmVmZXJlbmNlID0gaW5mby51c2VyO1xuICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrU2VydmVyVGltZSA9IGluZm8uc2VydmVyVGltZTtcbiAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuSW50ZXJwb2xhdGlvbkJ1ZmZlciA9IGluZm8uaW50ZXJwb2xhdGlvbkJ1ZmZlcjtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIlRDUDogWW91IGFyZSBjb25uZWN0ZWQgdG8gdGhlIGRlZmF1bHQgcm9vbSBjaGFubmVsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgQWRkTmV0d29ya0VudGl0eUhhbmRsZXIoZW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5IYXNKb2luZWRSb29tKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBQUk9DRVNTIFFVRVVFRCBORVRXT1JLIEVOVElUSUVTXG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5OZXR3b3JrRW50aXR5UXVldWUuZm9yRWFjaCgodng6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwga3g6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Qcm9jZXNzTmV0d29ya0VudGl0eUhhbmRsZXIodngsIGt4KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUFJPQ0VTUyBORVcgTkVUV09SSyBFTlRJVFkgSVRFTVxuICAgICAgICAgICAgICAgIEJBQllMT04uTmV0d29ya01hbmFnZXIuUHJvY2Vzc05ldHdvcmtFbnRpdHlIYW5kbGVyKGVudGl0eSwga2V5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlID09IG51bGwpIEJBQllMT04uTmV0d29ya01hbmFnZXIuTmV0d29ya0VudGl0eVF1ZXVlID0gbmV3IE1hcDxzdHJpbmcsIEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eT4oKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk5ldHdvcmtFbnRpdHlRdWV1ZS5zZXQoa2V5LCBlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgUHJvY2Vzc05ldHdvcmtFbnRpdHlIYW5kbGVyKGVudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCBrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgLy9jb25zb2xlLndhcm4oXCI+Pj4gQWRkIE5ldyBOZXR3b3JrIEVudGl0eTogXCIgKyBrZXkpO1xuICAgICAgICAgICAgY29uc3QgYWVudGl0eTogYW55ID0gZW50aXR5O1xuICAgICAgICAgICAgY29uc3Qgc2NlbmVSZWY6IEJBQllMT04uU2NlbmUgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNjZW5lUmVmZXJlbmNlO1xuICAgICAgICAgICAgY29uc3QgcmVtb3RlUHJlZmFiOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJyZW1vdGVQcmVmYWJcIik7XG4gICAgICAgICAgICBjb25zdCBhc3NldENvbnRhaW5lcjogc3RyaW5nID0gZW50aXR5LmF0dHJpYnV0ZXMuZ2V0KFwiYXNzZXRDb250YWluZXJcIik7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21IYW5kbGVyOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJjdXN0b21IYW5kbGVyXCIpO1xuICAgICAgICAgICAgY29uc3QgbW92ZW1lbnRFcHNpbG9uOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJtb3ZlbWVudEVwc2lsb25cIik7XG4gICAgICAgICAgICBjb25zdCBtb3ZlbWVudFR5cGU6IHN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcIm1vdmVtZW50VHlwZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGludGVyb3BsYXRpb246IHN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcImludGVyb3BsYXRpb25cIik7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJlZEF0dHJpYnM6IHN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcImJ1ZmZlcmVkQXR0cmlic1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHN5bmNUcmFuc2Zvcm06IHN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcInN5bmNUcmFuc2Zvcm1cIik7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJBdmF0YXI6IHN0cmluZyA9IGVudGl0eS5hdHRyaWJ1dGVzLmdldChcInBsYXllckF2YXRhclwiKTtcbiAgICAgICAgICAgIGNvbnN0IGlzTG9jYWxFbnRpdHk6IGJvb2xlYW4gPSAoZW50aXR5Lm93bmVySWQgPT09IEJBQllMT04uTmV0d29ya01hbmFnZXIuVXNlclJlZmVyZW5jZS5pZCk7XG4gICAgICAgICAgICBpZiAoaXNMb2NhbEVudGl0eSA9PT0gZmFsc2UpIHsgLy8gTm90ZTogTG9jYWwgTmV0d29yayBFbnRpdGllcyBPbmx5XG4gICAgICAgICAgICAgICAgYWVudGl0eS5vbkNoYW5nZSgoY2hhbmdlczogYW55KSA9PiB7IEJBQllMT04uTmV0d29ya01hbmFnZXIuUHJvY2Vzc1JlbW90ZUVudGl0eUNoYW5nZXMoZW50aXR5LCBjaGFuZ2VzKTsgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzb3VyY2VOYW1lOiBzdHJpbmcgPSBlbnRpdHkuYXR0cmlidXRlcy5nZXQoXCJzb3VyY2VOYW1lXCIpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZU5hbWUgPT0gbnVsbCB8fCBzb3VyY2VOYW1lID09PSBcIlwiKSBzb3VyY2VOYW1lID0gXCJVbmtub3duXCI7XG5cbiAgICAgICAgICAgIGxldCB0cmFuc2Zvcm1Ob2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHRyYW5zZm9ybU5vZGVOYW1lOiBzdHJpbmcgPSAoc291cmNlTmFtZSArIFwiLlwiICsgZW50aXR5Lm93bmVySWQpO1xuICAgICAgICAgICAgbGV0IHRyYW5zZm9ybU5vZGVUeXBlOiBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlID0gKGlzTG9jYWxFbnRpdHkgPT09IHRydWUpID8gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5Mb2NhbCA6IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuUmVtb3RlO1xuXG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJOZXR3b3JrIEVudGl0aWVzXCIsIHNjZW5lUmVmKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJvb3ROb2RlLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzTG9jYWxFbnRpdHkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxSb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3RlUHJlZmFiICE9IG51bGwgJiYgcmVtb3RlUHJlZmFiICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NldENvbnRhaW5lciAhPSBudWxsICYmIGFzc2V0Q29udGFpbmVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWllcjogQkFCWUxPTi5Bc3NldENvbnRhaW5lciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0QXNzZXRDb250YWluZXIoc2NlbmVSZWYsIGFzc2V0Q29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWllciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuSW5zdGFudGlhdGVQcmVmYWJGcm9tQ29udGFpbmVyKGNvbnRhaWVyLCByZW1vdGVQcmVmYWIsIHRyYW5zZm9ybU5vZGVOYW1lLCBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJvb3ROb2RlLCBpbml0aWFsUG9zaXRpb24sIGluaXRpYWxSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5vZGUgPT0gbnVsbCkgQkFCWUxPTi5Ub29scy5XYXJuKFwiRmFpbGVkIHRvIGluc3RhbmlhdGUgJ1wiICsgcmVtb3RlUHJlZmFiICsgXCInIGZyb20gYXNzZXQgY29udGFpbmVyICdcIiArIGFzc2V0Q29udGFpbmVyICsgXCInLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiQXNzZXQgY29udGFpbmVyICdcIiArIGFzc2V0Q29udGFpbmVyICsgXCInIG5vdCByZWdpc3RlcmVkIG9uIHRoZSBzY2VuZS5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5JbnN0YW50aWF0ZVByZWZhYkZyb21TY2VuZShzY2VuZVJlZiwgcmVtb3RlUHJlZmFiLCB0cmFuc2Zvcm1Ob2RlTmFtZSwgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5Sb290Tm9kZSwgaW5pdGlhbFBvc2l0aW9uLCBpbml0aWFsUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5vZGUgPT0gbnVsbCkgQkFCWUxPTi5Ub29scy5XYXJuKFwiRmFpbGVkIHRvIGluc3RhbmlhdGUgJ1wiICsgcmVtb3RlUHJlZmFiICsgXCInIGZyb20gY3VycmVudCBzY2VuZS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZSh0cmFuc2Zvcm1Ob2RlTmFtZSwgc2NlbmVSZWYpO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlLnBhcmVudCA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuUm9vdE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUucG9zaXRpb24gPSBpbml0aWFsUG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZS5yb3RhdGlvblF1YXRlcm5pb24gPSBpbml0aWFsUm90YXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZS5uYW1lID0gdHJhbnNmb3JtTm9kZU5hbWU7IC8vIE5vdGU6IERvdWJsZSBDaGVjayBUcmFuc2Zvcm0gTm9kZSBOYW1lIElzIFNldFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUuc2V0RW5hYmxlZChmYWxzZSk7ICAgICAgICAvLyBOb3RlOiBEaXNhYmxlIFJvb3QgTm9kZSBVbnRpbCBJbml0aWFsIEFjdGl2YXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEhpZGUgTmV0b3dyayBBdmF0YXIgUGxheWVyIEFybWF0dXJlXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJBdmF0YXIgIT0gbnVsbCAmJiBwbGF5ZXJBdmF0YXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraW5zOiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gdHJhbnNmb3JtTm9kZS5nZXRDaGlsZE1lc2hlcyhmYWxzZSwgKG5vZGU6IEJBQllMT04uQWJzdHJhY3RNZXNoKSA9PiB7IHJldHVybiAobm9kZS5za2VsZXRvbiAhPSBudWxsKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbnMgIT0gbnVsbCAmJiBza2lucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbnMuZm9yRWFjaCgoc2tpbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFnOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhza2luKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWcgIT0gbnVsbCAmJiBzdGFnID09PSBcIkFybWF0dXJlXCIgfHwgc2tpbi5uYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoXCIuc2tpblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbi5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1Ob2RlQnlJRChzY2VuZVJlZiwgZW50aXR5LmNyZWF0aW9uSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Ob2RlID09IG51bGwpIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBsb2NhdGUgbG9jYWwgZW50aXR5IHRyYW5zZm9ybSAnXCIgKyBlbnRpdHkuY3JlYXRpb25JZCArIFwiJyBpbiBjdXJyZW50IHNjZW5lLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBDdXN0b20gSW50ZXJwb2xhdGlvbiBIYW5kbGVyXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgbGV0IGN1c3RvbUhhbmRsZXJGdW5jOiAoZW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6IG51bWJlcikgPT4gdm9pZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY3VzdG9tSGFuZGxlciAhPSBudWxsICYmIGN1c3RvbUhhbmRsZXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjdXN0b21IYW5kbGVyRnVuYyA9IEJBQllMT04uTmV0d29ya01hbmFnZXIuQ3VzdG9tSGFuZGxlck1hcC5nZXQoY3VzdG9tSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgaWYgKGN1c3RvbUhhbmRsZXJGdW5jID09IG51bGwpIEJBQllMT04uVG9vbHMuV2FybihcIkN1c3RvbSBpbnRlcm9wbGF0aW9uIGhhbmRsZXIgbm90IGZvdW5kOiBcIiArIGN1c3RvbUhhbmRsZXIgKyBcIi4gRGVmYXVsdCBpbnRlcnBvbGF0aW9uIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBMaW5rIEVudGl0eSBBbmQgVHJhbnNmb3JtIE5vZGUgUmVmZXJlbmNlc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUgPSB0cmFuc2Zvcm1Ob2RlO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgPSB0cmFuc2Zvcm1Ob2RlVHlwZTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eSA9IGVudGl0eVxuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5VHlwZSA9IHRyYW5zZm9ybU5vZGVUeXBlO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5U3luYyA9IChzeW5jVHJhbnNmb3JtICE9IG51bGwgJiYgc3luY1RyYW5zZm9ybSA9PT0gXCJ0cnVlXCIpO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5QmF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SGFuZGxlciA9IGN1c3RvbUhhbmRsZXJGdW5jO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5RXBzaWxvbiA9IChtb3ZlbWVudEVwc2lsb24gIT0gbnVsbCAmJiBtb3ZlbWVudEVwc2lsb24gIT09IFwiXCIpID8gcGFyc2VGbG9hdChtb3ZlbWVudEVwc2lsb24pIDogMC4wMDAwMTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU1vdmVtZW50ID0gKG1vdmVtZW50VHlwZSAhPSBudWxsICYmIG1vdmVtZW50VHlwZSAhPT0gXCJcIikgPyBwYXJzZUZsb2F0KG1vdmVtZW50VHlwZSkgOiAwO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwb2xhdGUgPSAoaW50ZXJvcGxhdGlvbiAhPSBudWxsICYmIGludGVyb3BsYXRpb24gIT09IFwiXCIpID8gcGFyc2VGbG9hdChpbnRlcm9wbGF0aW9uKSA6IDA7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlBY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eUxhc3RQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlMaW5lYXJWZWxvY2l0eSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrUG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1JvdGF0aW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtWZWxvY2l0eSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrU2NhbGluZyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlBdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwQnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVBsYXllckF2YXRhciA9IHBsYXllckF2YXRhcjtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtTm9kZVR5cGUgPT0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5SZW1vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGlvbk1vZGU6IG51bWJlciA9IGFlbnRpdHkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwb2xhdGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uTW9kZSAhPT0gQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uLkN1c3RvbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyQXR0cmliczogYW55ID0gKGJ1ZmZlcmVkQXR0cmlicyAhPSBudWxsICYmIGJ1ZmZlcmVkQXR0cmlicyAhPT0gXCJcIikgPyBKU09OLnBhcnNlKGJ1ZmZlcmVkQXR0cmlicykgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWVudGl0eS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlJbnRlcnBCdWZmZXIgPSBuZXcgSW50ZXJwb2xhdGlvbkJ1ZmZlcihpbnRlcnBvbGF0aW9uTW9kZSwgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5JbnRlcnBvbGF0aW9uQnVmZmVyLCBidWZmZXJBdHRyaWJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtTm9kZVR5cGUgPT0gQkFCWUxPTi5OZXR3b3JrRW50aXR5VHlwZS5Mb2NhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBMb2NhbCBPbmx5IFNldHVwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZW50aXR5LnRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgPSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLk5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLk9uQ3JlYXRlRW50aXR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFByb2Nlc3NSZW1vdGVFbnRpdHlDaGFuZ2VzKGVudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCBjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChlbnRpdHkgIT0gbnVsbCAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUgIT0gbnVsbCAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVN5bmMgIT0gbnVsbCAmJiAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eVN5bmMgPT09IHRydWUgJiYgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZVR5cGUgPT09IEJBQllMT04uTmV0d29ya0VudGl0eVR5cGUuUmVtb3RlKSB7IC8vIE5vdGU6IFJlbW90ZSBOZXR3b3JrIEVudGl0aWVzIE9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlByb2Nlc3NSZW1vdGVFbnRpdHlDaGFuZ2VzOiBcIiwgZW50aXR5LCBjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrUG9zaXRpb24uc2V0KGVudGl0eS54UG9zLCBlbnRpdHkueVBvcywgZW50aXR5LnpQb3MpO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtSb3RhdGlvbi5zZXQoZW50aXR5LnhSb3QsIGVudGl0eS55Um90LCBlbnRpdHkuelJvdCwgZW50aXR5LndSb3QpO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLnRyYW5zZm9ybU5vZGUubmV0d29ya0VudGl0eU5ldHdvcmtWZWxvY2l0eS5zZXQoZW50aXR5LnhWZWwsIGVudGl0eS55VmVsLCBlbnRpdHkuelZlbCk7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1NjYWxpbmcuc2V0KDEuMCwgMS4wLCAxLjApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlJbnRlcnBCdWZmZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9ICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1Bvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9ICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1JvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9ICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5TmV0d29ya1ZlbG9jaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGluZzogQkFCWUxPTi5WZWN0b3IzID0gKDxhbnk+ZW50aXR5KS50cmFuc2Zvcm1Ob2RlLm5ldHdvcmtFbnRpdHlOZXR3b3JrU2NhbGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkudHJhbnNmb3JtTm9kZS5uZXR3b3JrRW50aXR5SW50ZXJwQnVmZmVyLmFwcGVuZEJ1ZmZlcihwb3NpdGlvbiwgdmVsb2NpdHksIHJvdGF0aW9uLCBzY2FsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFJlbW92ZU5ldHdvcmtFbnRpdHlIYW5kbGVyKGVudGl0eTogQkFCWUxPTi5JQ29seXNldXNOZXR3b3JrRW50aXR5LCBrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYWVudGl0eTogYW55ID0gZW50aXR5O1xuICAgICAgICAgICAgaWYgKGFlbnRpdHkudHJhbnNmb3JtTm9kZSAhPSBudWxsICYmIGFlbnRpdHkudHJhbnNmb3JtTm9kZVR5cGUgIT0gbnVsbCAmJiBhZW50aXR5LnRyYW5zZm9ybU5vZGVUeXBlID09PSBCQUJZTE9OLk5ldHdvcmtFbnRpdHlUeXBlLlJlbW90ZSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIj4+PiBSZW1vdmUgUmVtb3RlIE5ldHdvcmsgRW50aXR5OiBcIiArIGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGFlbnRpdHkudHJhbnNmb3JtTm9kZS5kaXNwb3NlKSBhZW50aXR5LnRyYW5zZm9ybU5vZGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGFlbnRpdHkudHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5PblJlbW92ZUVudGl0eU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQmFieWxvbiB1bml2ZXJzYWwgZ2FtZSByb29tIGNvbnRyb2xsZXIgKENvbHlzZXVzIFVuaXZlcnNhbCBHYW1lIFJvb20pXG4gICAgICogU3VwcG9ydHMgbmV0d29yayB1c2VycywgZW50aXRpZXMsIGF0dHJpYnV0ZXMsIHJlbW90ZSBmdW5jdGlvbiBjYWxscywgY3VzdG9tIG1lc3NhZ2VzLCBjdXN0b20gbWV0aG9kcyBhbmQgY3VzdG9tIHJvb20gbG9naWMgbW9kdWxlcy5cbiAgICAgKiBAY2xhc3MgUm9vbUNvbnRyb2xsZXIgLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgUm9vbUNvbnRyb2xsZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIFNlbmRQaW5nKHJvb206IEJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20pOiB2b2lkIHtcbiAgICAgICAgICAgIHJvb20uc2VuZChcInBpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZW5kQ2hhdChyb29tOiBCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tLCBtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIHJvb20uc2VuZChcInNlbmRDaGF0XCIsIHsgc2Vzc2lvbklkOiBcIipcIiwgbmFtZTogXCIqXCIsIG1lc3NhZ2U6IG1lc3NhZ2UsIHRpbWVzdGFtcDogLTEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBDYWxsQ3VzdG9tTWV0aG9kKHJvb206IEJBQllMT04uVW5pdmVyc2FsR2FtZVJvb20sIG1ldGhvZDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwiY3VzdG9tTWV0aG9kXCIsIHsgbWV0aG9kOiBtZXRob2QsIHBhcmFtOiBhcmdzIH0pO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0VXNlckF0dHJpYnV0ZXMocm9vbTogQkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSwgdXNlcklkOiBzdHJpbmcsIGF0dHJpYnV0ZXNUb1NldDogYW55KTogdm9pZCB7XG4gICAgICAgICAgICByb29tLnNlbmQoXCJzZXRBdHRyaWJ1dGVcIiwgeyBlbnRpdHlJZDogbnVsbCwgdXNlcklkOiB1c2VySWQsIGF0dHJpYnV0ZXNUb1NldDogYXR0cmlidXRlc1RvU2V0IH0pO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2V0RW50aXR5QXR0cmlidXRlcyhyb29tOiBCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tLCBlbnRpdHlJZDogc3RyaW5nLCBhdHRyaWJ1dGVzVG9TZXQ6IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwic2V0QXR0cmlidXRlXCIsIHsgZW50aXR5SWQ6IGVudGl0eUlkLCB1c2VySWQ6IG51bGwsIGF0dHJpYnV0ZXNUb1NldDogYXR0cmlidXRlc1RvU2V0IH0pO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQ3JlYXRlTmV0d29ya0VudGl0eShyb29tOiBCQUJZTE9OLlVuaXZlcnNhbEdhbWVSb29tLCBvd25lck5hbWU6IHN0cmluZywgbG9jYWxUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgcmVtb3RlUHJlZmFiOiBzdHJpbmcgPSBudWxsLCBhc3NldENvbnRhaW5lcjogc3RyaW5nID0gbnVsbCwgbW92ZW1lbnRFcHNpbG9uOiBudW1iZXIgPSAwLjAwMDAxLCBtb3ZlbWVudFR5cGU6IEJBQllMT04uRW50aXR5TW92ZW1lbnRUeXBlID0gQkFCWUxPTi5FbnRpdHlNb3ZlbWVudFR5cGUuQ2xpZW50QXV0aG9yaXR5LCBpbnRlcnBvbGF0aW9uTW9kZTogQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uID0gQkFCWUxPTi5FbnRpdHlJbnRlcnBvbGF0aW9uLkRlZmF1bHQsIGF1dG9TeW5jVHJhbnNmb3JtOiBib29sZWFuID0gdHJ1ZSwgY3VzdG9tSGFuZGxlck5hbWU6IHN0cmluZyA9IG51bGwsIGJ1ZmZlcmVkQXR0cmlidXRlczogYW55LCBjcmVhdGVBdHRyaWJ1dGVzOiBhbnkgPSBudWxsKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlBdHRyaWJ1dGVzOiBhbnkgPSAoY3JlYXRlQXR0cmlidXRlcyAhPSBudWxsKSA/IGNyZWF0ZUF0dHJpYnV0ZXMgOiB7fTtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eVBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBsb2NhbFRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eVJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSAobG9jYWxUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpID8gbG9jYWxUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uIDogQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlclZlY3Rvcihsb2NhbFRyYW5zZm9ybS5yb3RhdGlvbik7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wib3duZXJOYW1lXCJdID0gb3duZXJOYW1lO1xuICAgICAgICAgICAgZW50aXR5QXR0cmlidXRlc1tcInNvdXJjZU5hbWVcIl0gPSAobG9jYWxUcmFuc2Zvcm0ubmFtZSAhPSBudWxsKSA/IGxvY2FsVHJhbnNmb3JtLm5hbWUgOiBsb2NhbFRyYW5zZm9ybS5pZDtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJjcmVhdGlvblBvc1wiXSA9IFtlbnRpdHlQb3NpdGlvbi54LCBlbnRpdHlQb3NpdGlvbi55LCBlbnRpdHlQb3NpdGlvbi56XTtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJjcmVhdGlvblJvdFwiXSA9IFtlbnRpdHlSb3RhdGlvbi54LCBlbnRpdHlSb3RhdGlvbi55LCBlbnRpdHlSb3RhdGlvbi56LCBlbnRpdHlSb3RhdGlvbi53XTtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJyZW1vdGVQcmVmYWJcIl0gPSByZW1vdGVQcmVmYWI7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiYXNzZXRDb250YWluZXJcIl0gPSBhc3NldENvbnRhaW5lcjtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJjdXN0b21IYW5kbGVyXCJdID0gY3VzdG9tSGFuZGxlck5hbWU7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wibW92ZW1lbnRFcHNpbG9uXCJdID0gbW92ZW1lbnRFcHNpbG9uLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wibW92ZW1lbnRUeXBlXCJdID0gbW92ZW1lbnRUeXBlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wiaW50ZXJvcGxhdGlvblwiXSA9IGludGVycG9sYXRpb25Nb2RlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBlbnRpdHlBdHRyaWJ1dGVzW1wic3luY1RyYW5zZm9ybVwiXSA9IGF1dG9TeW5jVHJhbnNmb3JtLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGVudGl0eUF0dHJpYnV0ZXNbXCJidWZmZXJlZEF0dHJpYnNcIl0gPSAoYnVmZmVyZWRBdHRyaWJ1dGVzICE9IG51bGwpID8gSlNPTi5zdHJpbmdpZnkoYnVmZmVyZWRBdHRyaWJ1dGVzKSA6IG51bGw7XG4gICAgICAgICAgICByb29tLnNlbmQoXCJjcmVhdGVFbnRpdHlcIiwgeyBjcmVhdGlvbklkOiBsb2NhbFRyYW5zZm9ybS5pZCwgYXR0cmlidXRlczogZW50aXR5QXR0cmlidXRlcyB9KTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIFJlbW92ZU5ldHdvcmtFbnRpdHkocm9vbTogQkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSwgZW50aXR5SWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwicmVtb3ZlRW50aXR5XCIsIGVudGl0eUlkKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEV4ZWN1dGVSZW1vdGVGdW5jdGlvbkNhbGwocm9vbTogQkFCWUxPTi5Vbml2ZXJzYWxHYW1lUm9vbSwgdGFyZ2V0OiBCQUJZTE9OLlJlbW90ZUZ1bmN0aW9uQ2FsbFRhcmdldCwgZW50aXR5SWQ6IHN0cmluZywgZnVuYzogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICAgICAgcm9vbS5zZW5kKFwicmVtb3RlRnVuY3Rpb25DYWxsXCIsIHsgZW50aXR5SWQ6IGVudGl0eUlkLCBmdW5jdGlvbjogZnVuYywgcGFyYW06IGFyZ3MsIHRhcmdldDogdGFyZ2V0IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5ldHdvcmsgc3VwcG9ydCBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIChDb2x5c2V1cyBVbml2ZXJzYWwgR2FtZSBSb29tKVxuICAgICAqIFN1cHBvcnRzIG5ldHdvcmsgdXNlcnMsIGVudGl0aWVzLCBhdHRyaWJ1dGVzLCByZW1vdGUgZnVuY3Rpb24gY2FsbHMsIGN1c3RvbSBtZXNzYWdlcywgY3VzdG9tIG1ldGhvZHMgYW5kIGN1c3RvbSByb29tIGxvZ2ljIG1vZHVsZXMuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ29seXNldXNOZXR3b3JrRW50aXR5IHtcbiAgICAgICAgaWQ6IHN0cmluZztcbiAgICAgICAgb3duZXJJZDogc3RyaW5nO1xuICAgICAgICBjcmVhdGlvbklkOiBzdHJpbmc7XG4gICAgICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgICAgICBhdHRyaWJ1dGVzOiBNYXA8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgICAvLyAuLlxuICAgICAgICAvLyBXb3JsZCBTdGF0ZSBQcm9wZXJ0aWVzXG4gICAgICAgIC8vIC4uXG4gICAgICAgIHhQb3M6IG51bWJlcjtcbiAgICAgICAgeVBvczogbnVtYmVyO1xuICAgICAgICB6UG9zOiBudW1iZXI7XG4gICAgICAgIHhSb3Q6IG51bWJlcjtcbiAgICAgICAgeVJvdDogbnVtYmVyO1xuICAgICAgICB6Um90OiBudW1iZXI7XG4gICAgICAgIHdSb3Q6IG51bWJlcjtcbiAgICAgICAgeFZlbDogbnVtYmVyO1xuICAgICAgICB5VmVsOiBudW1iZXI7XG4gICAgICAgIHpWZWw6IG51bWJlcjtcbiAgICAgICAgeEFuZzogbnVtYmVyO1xuICAgICAgICB5QW5nOiBudW1iZXI7XG4gICAgICAgIHpBbmc6IG51bWJlcjtcbiAgICAgICAgYXV4MDA6IG51bWJlcjtcbiAgICAgICAgYXV4MDE6IG51bWJlcjtcbiAgICAgICAgYXV4MDI6IG51bWJlcjtcbiAgICAgICAgYXV4MDM6IG51bWJlcjtcbiAgICAgICAgYXV4MDQ6IG51bWJlcjtcbiAgICAgICAgYXV4MDU6IG51bWJlcjtcbiAgICAgICAgYXV4MDY6IG51bWJlcjtcbiAgICAgICAgYXV4MDc6IG51bWJlcjtcbiAgICAgICAgYXV4MDg6IG51bWJlcjtcbiAgICAgICAgYXV4MDk6IG51bWJlcjtcbiAgICAgICAgYXV4MTA6IG51bWJlcjtcbiAgICAgICAgYXV4MTE6IG51bWJlcjtcbiAgICAgICAgYXV4MTI6IG51bWJlcjtcbiAgICAgICAgYXV4MTM6IG51bWJlcjtcbiAgICAgICAgYXV4MTQ6IG51bWJlcjtcbiAgICAgICAgYXV4MTU6IG51bWJlcjtcbiAgICAgICAgYXV4MTY6IG51bWJlcjtcbiAgICAgICAgYXV4MTc6IG51bWJlcjtcbiAgICAgICAgYXV4MTg6IG51bWJlcjtcbiAgICAgICAgYXV4MTk6IG51bWJlcjtcbiAgICAgICAgc3BlZWQ6IG51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ29seXNldXNOZXR3b3JrVXNlciB7XG4gICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gICAgICAgIGNvbm5lY3RlZDogYm9vbGVhbjtcbiAgICAgICAgdGltZXN0YW1wOiBudW1iZXI7XG4gICAgICAgIGF0dHJpYnV0ZXM6IE1hcDxzdHJpbmcsIHN0cmluZz47XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbHlzZXVzQ2hhdE1lc3NhZ2Uge1xuICAgICAgICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDb2x5c2V1c0NoYXRRdWV1ZSB7XG4gICAgICAgIG1lc3NhZ2VzOiBCQUJZTE9OLklDb2x5c2V1c0NoYXRNZXNzYWdlW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbHlzZXVzUm9vbVN0YXRlIHtcbiAgICAgICAgZW50aXRpZXM6IE1hcDxzdHJpbmcsIEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eT47XG4gICAgICAgIHVzZXJzOiBNYXA8c3RyaW5nLCBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtVc2VyPjtcbiAgICAgICAgcXVldWU6IE1hcDxzdHJpbmcsIEJBQllMT04uSUNvbHlzZXVzQ2hhdFF1ZXVlPjtcbiAgICAgICAgYXR0cmlidXRlczogTWFwPHN0cmluZywgc3RyaW5nPjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTmV0d29yayBJbnRlcnBvbGF0aW9uIEJ1ZmZlclxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS92aXJiZWxhL2J1ZmZlcmVkLWludGVycG9sYXRpb25cbiAgICAgKi9cbiAgICBleHBvcnQgZW51bSBCdWZmZXJTdGF0ZSB7XG4gICAgICAgIElOSVRJQUxJWklORyA9IDAsXG4gICAgICAgIEJVRkZFUklORyA9IDEsXG4gICAgICAgIFBMQVlJTkcgPSAyXG4gICAgfVxuXG4gICAgZXhwb3J0IGVudW0gQnVmZmVyTW9kZSB7XG4gICAgICAgIE1PREVfTEVSUCA9IDAsXG4gICAgICAgIE1PREVfSEVSTUlURSA9IDFcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIGZyYW1lIHtcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjM7XG4gICAgICAgIHZlbG9jaXR5OiBWZWN0b3IzO1xuICAgICAgICBzY2FsZTogVmVjdG9yMztcbiAgICAgICAgcXVhdGVybmlvbjogUXVhdGVybmlvbjtcbiAgICAgICAgYXV4MDA6IG51bWJlcjtcbiAgICAgICAgYXV4MDE6IG51bWJlcjtcbiAgICAgICAgYXV4MDI6IG51bWJlcjtcbiAgICAgICAgYXV4MDM6IG51bWJlcjtcbiAgICAgICAgYXV4MDQ6IG51bWJlcjtcbiAgICAgICAgYXV4MDU6IG51bWJlcjtcbiAgICAgICAgYXV4MDY6IG51bWJlcjtcbiAgICAgICAgYXV4MDc6IG51bWJlcjtcbiAgICAgICAgYXV4MDg6IG51bWJlcjtcbiAgICAgICAgYXV4MDk6IG51bWJlcjtcbiAgICAgICAgYXV4MTA6IG51bWJlcjtcbiAgICAgICAgYXV4MTE6IG51bWJlcjtcbiAgICAgICAgYXV4MTI6IG51bWJlcjtcbiAgICAgICAgYXV4MTM6IG51bWJlcjtcbiAgICAgICAgYXV4MTQ6IG51bWJlcjtcbiAgICAgICAgYXV4MTU6IG51bWJlcjtcbiAgICAgICAgYXV4MTY6IG51bWJlcjtcbiAgICAgICAgYXV4MTc6IG51bWJlcjtcbiAgICAgICAgYXV4MTg6IG51bWJlcjtcbiAgICAgICAgYXV4MTk6IG51bWJlcjtcbiAgICAgICAgc3BlZWQ6IG51bWJlcjtcbiAgICAgICAgdGltZTogbnVtYmVyO1xuICAgIH1cblxuICAgIC8vIGNvbnN0IHZlY3RvclBvb2w6IFZlY3RvcjNbXSA9IFtdO1xuICAgIC8vIGNvbnN0IHF1YXRQb29sOiBRdWF0ZXJuaW9uW10gPSBbXTtcbiAgICBjb25zdCBmcmFtZVBvb2w6IGZyYW1lW10gPSBbXTtcblxuICAgIC8vIGNvbnN0IGdldFBvb2xlZFZlY3RvcjogKCkgPT4gVmVjdG9yMyA9ICgpID0+IHZlY3RvclBvb2wuc2hpZnQoKSB8fCBuZXcgVmVjdG9yMygpO1xuICAgIC8vIGNvbnN0IGdldFBvb2xlZFF1YXRlcm5pb246ICgpID0+IFF1YXRlcm5pb24gPSAoKSA9PiBxdWF0UG9vbC5zaGlmdCgpIHx8IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbiAgICBjb25zdCBnZXRQb29sZWRGcmFtZTogKCkgPT4gZnJhbWUgPSAoKSA9PiB7XG4gICAgICAgIGxldCBmcmFtZSA9IGZyYW1lUG9vbC5wb3AoKTtcblxuICAgICAgICBpZiAoIWZyYW1lKSB7XG4gICAgICAgICAgICBmcmFtZSA9IHsgcG9zaXRpb246IG5ldyBWZWN0b3IzKCksIHZlbG9jaXR5OiBuZXcgVmVjdG9yMygpLCBzY2FsZTogbmV3IFZlY3RvcjMoMSwgMSwgMSksIHF1YXRlcm5pb246IG5ldyBRdWF0ZXJuaW9uKCksIGF1eDAwOiAwLCBhdXgwMTogMCwgYXV4MDI6IDAsIGF1eDAzOiAwLCBhdXgwNDogMCwgYXV4MDU6IDAsIGF1eDA2OiAwLCBhdXgwNzogMCwgYXV4MDg6IDAsIGF1eDA5OiAwLCBhdXgxMDogMCwgYXV4MTE6IDAsIGF1eDEyOiAwLCBhdXgxMzogMCwgYXV4MTQ6IDAsIGF1eDE1OiAwLCBhdXgxNjogMCwgYXV4MTc6IDAsIGF1eDE4OiAwLCBhdXgxOTogMCwgc3BlZWQ6IDAsIHRpbWU6IDAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9O1xuXG4gICAgY29uc3QgZnJlZUZyYW1lOiAoZjogZnJhbWUpID0+IHZvaWQgPSBmID0+IGZyYW1lUG9vbC5wdXNoKGYpO1xuXG4gICAgZXhwb3J0IGNsYXNzIEludGVycG9sYXRpb25CdWZmZXIge1xuICAgICAgICBzdGF0ZTogQnVmZmVyU3RhdGU7XG4gICAgICAgIG1vZGU6IEJ1ZmZlck1vZGU7XG4gICAgICAgIGJ1ZmZlcjogZnJhbWVbXTtcbiAgICAgICAgb3JpZ2luRnJhbWU6IGZyYW1lO1xuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMztcbiAgICAgICAgc2NhbGU6IFZlY3RvcjM7XG4gICAgICAgIHF1YXRlcm5pb246IFF1YXRlcm5pb247XG4gICAgICAgIGF1eDAwOiBudW1iZXI7XG4gICAgICAgIGF1eDAxOiBudW1iZXI7XG4gICAgICAgIGF1eDAyOiBudW1iZXI7XG4gICAgICAgIGF1eDAzOiBudW1iZXI7XG4gICAgICAgIGF1eDA0OiBudW1iZXI7XG4gICAgICAgIGF1eDA1OiBudW1iZXI7XG4gICAgICAgIGF1eDA2OiBudW1iZXI7XG4gICAgICAgIGF1eDA3OiBudW1iZXI7XG4gICAgICAgIGF1eDA4OiBudW1iZXI7XG4gICAgICAgIGF1eDA5OiBudW1iZXI7XG4gICAgICAgIGF1eDEwOiBudW1iZXI7XG4gICAgICAgIGF1eDExOiBudW1iZXI7XG4gICAgICAgIGF1eDEyOiBudW1iZXI7XG4gICAgICAgIGF1eDEzOiBudW1iZXI7XG4gICAgICAgIGF1eDE0OiBudW1iZXI7XG4gICAgICAgIGF1eDE1OiBudW1iZXI7XG4gICAgICAgIGF1eDE2OiBudW1iZXI7XG4gICAgICAgIGF1eDE3OiBudW1iZXI7XG4gICAgICAgIGF1eDE4OiBudW1iZXI7XG4gICAgICAgIGF1eDE5OiBudW1iZXI7XG4gICAgICAgIHNwZWVkOiBudW1iZXI7XG4gICAgICAgIHRpbWU6IG51bWJlcjtcbiAgICAgICAgYnVmZmVyVGltZTogbnVtYmVyO1xuICAgICAgICBidWZmZXJBdHRyaWJzOiBhbnk7XG5cbiAgICAgICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLnBvc2l0aW9uOyB9XG4gICAgICAgIGdldFF1YXRlcm5pb24oKSB7IHJldHVybiB0aGlzLnF1YXRlcm5pb247IH1cbiAgICAgICAgZ2V0U2NhbGUoKSB7IHJldHVybiB0aGlzLnNjYWxlOyB9XG5cbiAgICAgICAgY29uc3RydWN0b3IobW9kZSA9IEJ1ZmZlck1vZGUuTU9ERV9MRVJQLCBidWZmZXJUaW1lID0gMC4xNSwgYnVmZmVyQXR0cmlicyA9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBCdWZmZXJTdGF0ZS5JTklUSUFMSVpJTkc7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJUaW1lID0gYnVmZmVyVGltZSAqIDEwMDA7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckF0dHJpYnMgPSBidWZmZXJBdHRyaWJzO1xuICAgICAgICAgICAgdGhpcy50aW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG5cbiAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUgPSBnZXRQb29sZWRGcmFtZSgpO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgICAgICB0aGlzLnF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBWZWN0b3IzKDEsIDEsIDEpO1xuICAgICAgICAgICAgdGhpcy5hdXgwMCA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDAxID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDIgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwMyA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDA0ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDUgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwNiA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDA3ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MDggPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgwOSA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDEwID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTEgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxMiA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDEzID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTQgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxNSA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDE2ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXV4MTcgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdXgxOCA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1eDE5ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVybWl0ZVRvb2xraXQodGFyZ2V0OiBWZWN0b3IzLCB0OiBudW1iZXIsIHAxOiBWZWN0b3IzLCBwMjogVmVjdG9yMywgdjE6IFZlY3RvcjMsIHYyOiBWZWN0b3IzKSB7XG4gICAgICAgICAgICAvL2NvbnN0IGRlbHRhVGltZTpudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldERlbHRhU2Vjb25kcyhCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlNjZW5lUmVmZXJlbmNlKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuSGVybWl0ZVZlY3RvcjNUb1JlZihwMSwgdjEsIHAyLCB2MiwgdCwgdGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlcm1pdGVCYWJ5bG9uKHRhcmdldDogVmVjdG9yMywgdDogbnVtYmVyLCBwMTogVmVjdG9yMywgcDI6IFZlY3RvcjMsIHYxOiBWZWN0b3IzLCB2MjogVmVjdG9yMykge1xuICAgICAgICAgICAgLy9jb25zdCBkZWx0YVRpbWU6bnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXREZWx0YVNlY29uZHMoQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5TY2VuZVJlZmVyZW5jZSk7XG4gICAgICAgICAgICBjb25zdCBwb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5IZXJtaXRlKHAxLCB2MSwgcDIsIHYyLCB0KTtcbiAgICAgICAgICAgIHRhcmdldC5jb3B5RnJvbShwb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVybWl0ZUxlZ2FjeSh0YXJnZXQ6IFZlY3RvcjMsIHQ6IG51bWJlciwgcDE6IFZlY3RvcjMsIHAyOiBWZWN0b3IzLCB2MTogVmVjdG9yMywgdjI6IFZlY3RvcjMpIHtcbiAgICAgICAgICAgIGNvbnN0IHQyID0gdCAqIHQ7XG4gICAgICAgICAgICBjb25zdCB0MyA9IHQgKiB0ICogdDtcbiAgICAgICAgICAgIGNvbnN0IGEgPSAyICogdDMgLSAzICogdDIgKyAxO1xuICAgICAgICAgICAgY29uc3QgYiA9IC0yICogdDMgKyAzICogdDI7XG4gICAgICAgICAgICBjb25zdCBjID0gdDMgLSAyICogdDIgKyB0O1xuICAgICAgICAgICAgY29uc3QgZCA9IHQzIC0gdDI7XG5cbiAgICAgICAgICAgIHRhcmdldC5jb3B5RnJvbShwMS5zY2FsZUluUGxhY2UoYSkpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZChwMi5zY2FsZUluUGxhY2UoYikpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZCh2MS5zY2FsZUluUGxhY2UoYykpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZCh2Mi5zY2FsZUluUGxhY2UoZCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogQ1VCSUMgSEVSTU9URSBSRUZFUkVOQ0UgKEdEU0NSSVBUKVxuICAgICAgICBmdW5jIGhlcm1pdGUodCwgcDEsIHAyLCB2MSwgdjIpOlxuICAgICAgICAgICAgdmFyIHQyID0gcG93KHQsIDIpXG4gICAgICAgICAgICB2YXIgdDMgPSBwb3codCwgMylcbiAgICAgICAgICAgIHZhciBhID0gMSAtIDMqdDIgKyAyKnQzXG4gICAgICAgICAgICB2YXIgYiA9IHQyICogKDMgLSAyKnQpXG4gICAgICAgICAgICB2YXIgYyA9IHQgKiBwb3codCAtIDEsIDIpXG4gICAgICAgICAgICB2YXIgZCA9IHQyICogKHQgLSAxKVxuICAgICAgICAgICAgcmV0dXJuIGEgKiBwMSArIGIgKiBwMiArIGMgKiB2MSArIGQgKiB2MlxuICAgICAgICAqL1xuXG4gICAgICAgIGxlcnAodGFyZ2V0OiBWZWN0b3IzLCB2MTogVmVjdG9yMywgdjI6IFZlY3RvcjMsIGFscGhhOiBudW1iZXIpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuTGVycFRvUmVmKHYxLCB2MiwgYWxwaGEsIHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBzbGVycCh0YXJnZXQ6IFF1YXRlcm5pb24sIHIxOiBRdWF0ZXJuaW9uLCByMjogUXVhdGVybmlvbiwgYWxwaGE6IG51bWJlcikge1xuICAgICAgICAgICAgUXVhdGVybmlvbi5TbGVycFRvUmVmKHIxLCByMiwgYWxwaGEsIHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVPcmlnaW5GcmFtZVRvQnVmZmVyVGFpbCgpIHtcbiAgICAgICAgICAgIGZyZWVGcmFtZSh0aGlzLm9yaWdpbkZyYW1lKTtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUgPSB0aGlzLmJ1ZmZlci5zaGlmdCgpIHx8IGdldFBvb2xlZEZyYW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHBlbmRCdWZmZXIocG9zaXRpb24/OiBWZWN0b3IzLCB2ZWxvY2l0eT86IFZlY3RvcjMsIHF1YXRlcm5pb24/OiBRdWF0ZXJuaW9uLCBzY2FsZT86IFZlY3RvcjMsIGF1eDAwOiBudW1iZXIgPSAwLCBhdXgwMTogbnVtYmVyID0gMCwgYXV4MDI6IG51bWJlciA9IDAsIGF1eDAzOiBudW1iZXIgPSAwLCBhdXgwNDogbnVtYmVyID0gMCwgYXV4MDU6IG51bWJlciA9IDAsIGF1eDA2OiBudW1iZXIgPSAwLCBhdXgwNzogbnVtYmVyID0gMCwgYXV4MDg6IG51bWJlciA9IDAsIGF1eDA5OiBudW1iZXIgPSAwLCBhdXgxMDogbnVtYmVyID0gMCwgYXV4MTE6IG51bWJlciA9IDAsIGF1eDEyOiBudW1iZXIgPSAwLCBhdXgxMzogbnVtYmVyID0gMCwgYXV4MTQ6IG51bWJlciA9IDAsIGF1eDE1OiBudW1iZXIgPSAwLCBhdXgxNjogbnVtYmVyID0gMCwgYXV4MTc6IG51bWJlciA9IDAsIGF1eDE4OiBudW1iZXIgPSAwLCBhdXgxOTogbnVtYmVyID0gMCwgc3BlZWQ6IG51bWJlciA9IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRhaWwgPSB0aGlzLmJ1ZmZlci5sZW5ndGggPiAwID8gdGhpcy5idWZmZXJbdGhpcy5idWZmZXIubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYXN0IGVudHJ5IGluIHRoZSBidWZmZXIgaWYgdGhpcyBpcyB0aGUgc2FtZSBmcmFtZVxuICAgICAgICAgICAgaWYgKHRhaWwgJiYgdGFpbC50aW1lID09PSB0aGlzLnRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24pIHRhaWwucG9zaXRpb24uY29weUZyb20ocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh2ZWxvY2l0eSkgdGFpbC52ZWxvY2l0eS5jb3B5RnJvbSh2ZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgaWYgKHF1YXRlcm5pb24pIHRhaWwucXVhdGVybmlvbi5jb3B5RnJvbShxdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NhbGUpIHRhaWwuc2NhbGUuY29weUZyb20oc2NhbGUpO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDAgPSBhdXgwMDtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDAxID0gYXV4MDE7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwMiA9IGF1eDAyO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDMgPSBhdXgwMztcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDA0ID0gYXV4MDQ7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwNSA9IGF1eDA1O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDYgPSBhdXgwNjtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDA3ID0gYXV4MDc7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgwOCA9IGF1eDA4O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MDkgPSBhdXgwOTtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDEwID0gYXV4MTA7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxMSA9IGF1eDExO1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTIgPSBhdXgxMjtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDEzID0gYXV4MTM7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxNCA9IGF1eDE0O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTUgPSBhdXgxNTtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDE2ID0gYXV4MTY7XG4gICAgICAgICAgICAgICAgdGFpbC5hdXgxNyA9IGF1eDE3O1xuICAgICAgICAgICAgICAgIHRhaWwuYXV4MTggPSBhdXgxODtcbiAgICAgICAgICAgICAgICB0YWlsLmF1eDE5ID0gYXV4MTk7XG4gICAgICAgICAgICAgICAgdGFpbC5zcGVlZCA9IHNwZWVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmlvckZyYW1lID0gdGFpbCB8fCB0aGlzLm9yaWdpbkZyYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZyYW1lID0gZ2V0UG9vbGVkRnJhbWUoKTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5wb3NpdGlvbi5jb3B5RnJvbShwb3NpdGlvbiB8fCBwcmlvckZyYW1lLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS52ZWxvY2l0eS5jb3B5RnJvbSh2ZWxvY2l0eSB8fCBwcmlvckZyYW1lLnZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5xdWF0ZXJuaW9uLmNvcHlGcm9tKHF1YXRlcm5pb24gfHwgcHJpb3JGcmFtZS5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5zY2FsZS5jb3B5RnJvbShzY2FsZSB8fCBwcmlvckZyYW1lLnNjYWxlKTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwMCA9IGF1eDAwO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDAxID0gYXV4MDE7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDIgPSBhdXgwMjtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwMyA9IGF1eDAzO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDA0ID0gYXV4MDQ7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDUgPSBhdXgwNTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwNiA9IGF1eDA2O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDA3ID0gYXV4MDc7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MDggPSBhdXgwODtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgwOSA9IGF1eDA5O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDEwID0gYXV4MTA7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTEgPSBhdXgxMTtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxMiA9IGF1eDEyO1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDEzID0gYXV4MTM7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTQgPSBhdXgxNDtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxNSA9IGF1eDE1O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDE2ID0gYXV4MTY7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuYXV4MTcgPSBhdXgxNztcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS5hdXgxOCA9IGF1eDE4O1xuICAgICAgICAgICAgICAgIG5ld0ZyYW1lLmF1eDE5ID0gYXV4MTk7XG4gICAgICAgICAgICAgICAgbmV3RnJhbWUuc3BlZWQgPSBzcGVlZDtcbiAgICAgICAgICAgICAgICBuZXdGcmFtZS50aW1lID0gdGhpcy50aW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2gobmV3RnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gREVFUFJFQ0FURUQ6IHNldFRhcmdldChwb3NpdGlvbjogVmVjdG9yMywgdmVsb2NpdHk6IFZlY3RvcjMsIHF1YXRlcm5pb246IFF1YXRlcm5pb24sIHNjYWxlOiBWZWN0b3IzKSB7IHRoaXMuYXBwZW5kQnVmZmVyKHBvc2l0aW9uLCB2ZWxvY2l0eSwgcXVhdGVybmlvbiwgc2NhbGUpOyB9XG4gICAgICAgIC8vIERFRVBSRUNBVEVEOiBzZXRQb3NpdGlvbihwb3NpdGlvbjogVmVjdG9yMywgdmVsb2NpdHk6IFZlY3RvcjMpIHsgdGhpcy5hcHBlbmRCdWZmZXIocG9zaXRpb24sIHZlbG9jaXR5LCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH1cbiAgICAgICAgLy8gREVFUFJFQ0FURUQ6IHNldFF1YXRlcm5pb24ocXVhdGVybmlvbjogUXVhdGVybmlvbikgeyB0aGlzLmFwcGVuZEJ1ZmZlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgcXVhdGVybmlvbiwgdW5kZWZpbmVkKTsgfVxuICAgICAgICAvLyBERUVQUkVDQVRFRDogc2V0U2NhbGUoc2NhbGU6IFZlY3RvcjMpIHsgdGhpcy5hcHBlbmRCdWZmZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgc2NhbGUpOyB9XG5cbiAgICAgICAgdXBkYXRlKGRlbHRhOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBCdWZmZXJTdGF0ZS5JTklUSUFMSVpJTkcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU9yaWdpbkZyYW1lVG9CdWZmZXJUYWlsKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24uY29weUZyb20odGhpcy5vcmlnaW5GcmFtZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLm9yaWdpbkZyYW1lLnF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLmNvcHlGcm9tKHRoaXMub3JpZ2luRnJhbWUuc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAwID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwMSA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDIgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDAyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAzID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwMztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNCA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDUgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDA1O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA2ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwNjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNyA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MDc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDggPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDA4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA5ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgwOTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMCA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTEgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDExO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDEyID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMyA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTQgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDE0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE1ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxNiA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTY7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTcgPSB0aGlzLm9yaWdpbkZyYW1lLmF1eDE3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE4ID0gdGhpcy5vcmlnaW5GcmFtZS5hdXgxODtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxOSA9IHRoaXMub3JpZ2luRnJhbWUuYXV4MTk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLm9yaWdpbkZyYW1lLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gQnVmZmVyU3RhdGUuQlVGRkVSSU5HO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IEJ1ZmZlclN0YXRlLkJVRkZFUklORykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwICYmIHRoaXMudGltZSA+IHRoaXMuYnVmZmVyVGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gQnVmZmVyU3RhdGUuUExBWUlORztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBCdWZmZXJTdGF0ZS5QTEFZSU5HKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFyayA9IHRoaXMudGltZSAtIHRoaXMuYnVmZmVyVGltZTtcbiAgICAgICAgICAgICAgICAvLyBQdXJnZSB0aGlzLmJ1ZmZlciBvZiBleHBpcmVkIGZyYW1lc1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwICYmIG1hcmsgPiB0aGlzLmJ1ZmZlclswXS50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGxhc3QgZnJhbWUgaW4gdGhlIGJ1ZmZlciwganVzdCB1cGRhdGUgdGhlIHRpbWUgYW5kIHJldXNlIGl0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU9yaWdpbkZyYW1lVG9CdWZmZXJUYWlsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuYnVmZmVyWzBdLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUudmVsb2NpdHkuY29weUZyb20odGhpcy5idWZmZXJbMF0udmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5xdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMuYnVmZmVyWzBdLnF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5zY2FsZS5jb3B5RnJvbSh0aGlzLmJ1ZmZlclswXS5zY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDAwID0gdGhpcy5idWZmZXJbMF0uYXV4MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDAxID0gdGhpcy5idWZmZXJbMF0uYXV4MDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDAyID0gdGhpcy5idWZmZXJbMF0uYXV4MDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDAzID0gdGhpcy5idWZmZXJbMF0uYXV4MDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA0ID0gdGhpcy5idWZmZXJbMF0uYXV4MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA1ID0gdGhpcy5idWZmZXJbMF0uYXV4MDU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA2ID0gdGhpcy5idWZmZXJbMF0uYXV4MDY7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA3ID0gdGhpcy5idWZmZXJbMF0uYXV4MDc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA4ID0gdGhpcy5idWZmZXJbMF0uYXV4MDg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDA5ID0gdGhpcy5idWZmZXJbMF0uYXV4MDk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDEwID0gdGhpcy5idWZmZXJbMF0uYXV4MTA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDExID0gdGhpcy5idWZmZXJbMF0uYXV4MTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDEyID0gdGhpcy5idWZmZXJbMF0uYXV4MTI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDEzID0gdGhpcy5idWZmZXJbMF0uYXV4MTM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE0ID0gdGhpcy5idWZmZXJbMF0uYXV4MTQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE1ID0gdGhpcy5idWZmZXJbMF0uYXV4MTU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE2ID0gdGhpcy5idWZmZXJbMF0uYXV4MTY7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE3ID0gdGhpcy5idWZmZXJbMF0uYXV4MTc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE4ID0gdGhpcy5idWZmZXJbMF0uYXV4MTg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLmF1eDE5ID0gdGhpcy5idWZmZXJbMF0uYXV4MTk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnNwZWVkID0gdGhpcy5idWZmZXJbMF0uc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnRpbWUgPSB0aGlzLmJ1ZmZlclswXS50aW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbMF0udGltZSA9IHRoaXMudGltZSArIGRlbHRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwICYmIHRoaXMuYnVmZmVyWzBdLnRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEZyYW1lID0gdGhpcy5idWZmZXJbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhX3RpbWUgPSB0YXJnZXRGcmFtZS50aW1lIC0gdGhpcy5vcmlnaW5GcmFtZS50aW1lO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYSA9IChtYXJrIC0gdGhpcy5vcmlnaW5GcmFtZS50aW1lKSAvIGRlbHRhX3RpbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIE5ldHdvcmsgVHJhbnNsYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gQnVmZmVyTW9kZS5NT0RFX0xFUlApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVycCh0aGlzLnBvc2l0aW9uLCB0aGlzLm9yaWdpbkZyYW1lLnBvc2l0aW9uLCB0YXJnZXRGcmFtZS5wb3NpdGlvbiwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubW9kZSA9PT0gQnVmZmVyTW9kZS5NT0RFX0hFUk1JVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVybWl0ZUxlZ2FjeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luRnJhbWUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RnJhbWUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS52ZWxvY2l0eS5zY2FsZUluUGxhY2UoZGVsdGFfdGltZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RnJhbWUudmVsb2NpdHkuc2NhbGVJblBsYWNlKGRlbHRhX3RpbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogVE9PTEtJVCBIRVJNSVRFXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhlcm1pdGVUb29sa2l0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5GcmFtZS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRGcmFtZS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbkZyYW1lLnZlbG9jaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEZyYW1lLnZlbG9jaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICApOyovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGVycCh0aGlzLnF1YXRlcm5pb24sIHRoaXMub3JpZ2luRnJhbWUucXVhdGVybmlvbiwgdGFyZ2V0RnJhbWUucXVhdGVybmlvbiwgYWxwaGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlcnAodGhpcy5zY2FsZSwgdGhpcy5vcmlnaW5GcmFtZS5zY2FsZSwgdGFyZ2V0RnJhbWUuc2NhbGUsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gRW50aXR5IE1vdmVtZW50IFNwZWVkXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMub3JpZ2luRnJhbWUuc3BlZWQsIHRhcmdldEZyYW1lLnNwZWVkLCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1ZmZlcmVkIFRhcmdldCBBdHRyaWJzXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDAgPSB0YXJnZXRGcmFtZS5hdXgwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwMSA9IHRhcmdldEZyYW1lLmF1eDAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDAyID0gdGFyZ2V0RnJhbWUuYXV4MDI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDMgPSB0YXJnZXRGcmFtZS5hdXgwMztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNCA9IHRhcmdldEZyYW1lLmF1eDA0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA1ID0gdGFyZ2V0RnJhbWUuYXV4MDU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDYgPSB0YXJnZXRGcmFtZS5hdXgwNjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgwNyA9IHRhcmdldEZyYW1lLmF1eDA3O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDA4ID0gdGFyZ2V0RnJhbWUuYXV4MDg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MDkgPSB0YXJnZXRGcmFtZS5hdXgwOTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMCA9IHRhcmdldEZyYW1lLmF1eDEwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDExID0gdGFyZ2V0RnJhbWUuYXV4MTE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTIgPSB0YXJnZXRGcmFtZS5hdXgxMjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxMyA9IHRhcmdldEZyYW1lLmF1eDEzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE0ID0gdGFyZ2V0RnJhbWUuYXV4MTQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTUgPSB0YXJnZXRGcmFtZS5hdXgxNTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxNiA9IHRhcmdldEZyYW1lLmF1eDE2O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1eDE3ID0gdGFyZ2V0RnJhbWUuYXV4MTc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV4MTggPSB0YXJnZXRGcmFtZS5hdXgxODtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXgxOSA9IHRhcmdldEZyYW1lLmF1eDE5O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJBdHRyaWJzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMCA9PT0gMSkgdGhpcy5hdXgwMCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwMCwgdGFyZ2V0RnJhbWUuYXV4MDAsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjAwID09PSAyKSB0aGlzLmF1eDAwID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDAsIHRhcmdldEZyYW1lLmF1eDAwLCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMSA9PT0gMSkgdGhpcy5hdXgwMSA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwMSwgdGFyZ2V0RnJhbWUuYXV4MDEsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjAxID09PSAyKSB0aGlzLmF1eDAxID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDEsIHRhcmdldEZyYW1lLmF1eDAxLCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMiA9PT0gMSkgdGhpcy5hdXgwMiA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwMiwgdGFyZ2V0RnJhbWUuYXV4MDIsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjAyID09PSAyKSB0aGlzLmF1eDAyID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDIsIHRhcmdldEZyYW1lLmF1eDAyLCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwMyA9PT0gMSkgdGhpcy5hdXgwMyA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwMywgdGFyZ2V0RnJhbWUuYXV4MDMsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjAzID09PSAyKSB0aGlzLmF1eDAzID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDMsIHRhcmdldEZyYW1lLmF1eDAzLCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNCA9PT0gMSkgdGhpcy5hdXgwNCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwNCwgdGFyZ2V0RnJhbWUuYXV4MDQsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA0ID09PSAyKSB0aGlzLmF1eDA0ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDQsIHRhcmdldEZyYW1lLmF1eDA0LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNSA9PT0gMSkgdGhpcy5hdXgwNSA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwNSwgdGFyZ2V0RnJhbWUuYXV4MDUsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA1ID09PSAyKSB0aGlzLmF1eDA1ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDUsIHRhcmdldEZyYW1lLmF1eDA1LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNiA9PT0gMSkgdGhpcy5hdXgwNiA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwNiwgdGFyZ2V0RnJhbWUuYXV4MDYsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA2ID09PSAyKSB0aGlzLmF1eDA2ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDYsIHRhcmdldEZyYW1lLmF1eDA2LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwNyA9PT0gMSkgdGhpcy5hdXgwNyA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwNywgdGFyZ2V0RnJhbWUuYXV4MDcsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA3ID09PSAyKSB0aGlzLmF1eDA3ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDcsIHRhcmdldEZyYW1lLmF1eDA3LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwOCA9PT0gMSkgdGhpcy5hdXgwOCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwOCwgdGFyZ2V0RnJhbWUuYXV4MDgsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA4ID09PSAyKSB0aGlzLmF1eDA4ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDgsIHRhcmdldEZyYW1lLmF1eDA4LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIwOSA9PT0gMSkgdGhpcy5hdXgwOSA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgwOSwgdGFyZ2V0RnJhbWUuYXV4MDksIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjA5ID09PSAyKSB0aGlzLmF1eDA5ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MDksIHRhcmdldEZyYW1lLmF1eDA5LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxMCA9PT0gMSkgdGhpcy5hdXgxMCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxMCwgdGFyZ2V0RnJhbWUuYXV4MTAsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjEwID09PSAyKSB0aGlzLmF1eDEwID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTAsIHRhcmdldEZyYW1lLmF1eDEwLCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxMSA9PT0gMSkgdGhpcy5hdXgxMSA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxMSwgdGFyZ2V0RnJhbWUuYXV4MTEsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjExID09PSAyKSB0aGlzLmF1eDExID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTEsIHRhcmdldEZyYW1lLmF1eDExLCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxMiA9PT0gMSkgdGhpcy5hdXgxMiA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxMiwgdGFyZ2V0RnJhbWUuYXV4MTIsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjEyID09PSAyKSB0aGlzLmF1eDEyID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTIsIHRhcmdldEZyYW1lLmF1eDEyLCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxMyA9PT0gMSkgdGhpcy5hdXgxMyA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxMywgdGFyZ2V0RnJhbWUuYXV4MTMsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjEzID09PSAyKSB0aGlzLmF1eDEzID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTMsIHRhcmdldEZyYW1lLmF1eDEzLCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxNCA9PT0gMSkgdGhpcy5hdXgxNCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxNCwgdGFyZ2V0RnJhbWUuYXV4MTQsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE0ID09PSAyKSB0aGlzLmF1eDE0ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTQsIHRhcmdldEZyYW1lLmF1eDE0LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxNSA9PT0gMSkgdGhpcy5hdXgxNSA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxNSwgdGFyZ2V0RnJhbWUuYXV4MTUsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE1ID09PSAyKSB0aGlzLmF1eDE1ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTUsIHRhcmdldEZyYW1lLmF1eDE1LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxNiA9PT0gMSkgdGhpcy5hdXgxNiA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxNiwgdGFyZ2V0RnJhbWUuYXV4MTYsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE2ID09PSAyKSB0aGlzLmF1eDE2ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTYsIHRhcmdldEZyYW1lLmF1eDE2LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxNyA9PT0gMSkgdGhpcy5hdXgxNyA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxNywgdGFyZ2V0RnJhbWUuYXV4MTcsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE3ID09PSAyKSB0aGlzLmF1eDE3ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTcsIHRhcmdldEZyYW1lLmF1eDE3LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxOCA9PT0gMSkgdGhpcy5hdXgxOCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxOCwgdGFyZ2V0RnJhbWUuYXV4MTgsIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE4ID09PSAyKSB0aGlzLmF1eDE4ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTgsIHRhcmdldEZyYW1lLmF1eDE4LCBhbHBoYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlckF0dHJpYnMuaW50ZXJwb2xhdGVCdWZmZXIxOSA9PT0gMSkgdGhpcy5hdXgxOSA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5vcmlnaW5GcmFtZS5hdXgxOSwgdGFyZ2V0RnJhbWUuYXV4MTksIGFscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyQXR0cmlicy5pbnRlcnBvbGF0ZUJ1ZmZlcjE5ID09PSAyKSB0aGlzLmF1eDE5ID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMub3JpZ2luRnJhbWUuYXV4MTksIHRhcmdldEZyYW1lLmF1eDE5LCBhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBCdWZmZXJTdGF0ZS5JTklUSUFMSVpJTkcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUgKz0gZGVsdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQXV0b0JvZHlHYXJhZ2VcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBBdXRvQm9keUdhcmFnZSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG1fYm9keU1hdGVyaWFsOiBCQUJZTE9OLlBCUk1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBtX2JvZHlBYnRyYWN0TWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IG1haW5NYXRlcmlhbEluZGV4OiBudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwibWFpbk1hdGVyaWFsSW5kZXhcIiwgMCk7XG4gICAgICAgICAgICBjb25zdCBtYWluQm9keVRyYW5zZm9ybTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYWluQm9keVRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1haW5Cb2R5VW5pdHlDb2xvcjogQkFCWUxPTi5Ub29sa2l0LklVbml0eUNvbG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1haW5Cb2R5UGFpbnRDb2xvclwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1haW5Cb2R5UGFpbnRDb2xvciA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VDb2xvcjMobWFpbkJvZHlVbml0eUNvbG9yLCBCQUJZTE9OLkNvbG9yMy5XaGl0ZSgpKTtcbiAgICAgICAgICAgIGlmIChtYWluQm9keVRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlBYnRyYWN0TWVzaCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VDaGlsZFRyYW5zZm9ybSh0aGlzLnRyYW5zZm9ybSwgbWFpbkJvZHlUcmFuc2Zvcm0pIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYm9keUFidHJhY3RNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9ib2R5QWJ0cmFjdE1lc2gubWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLk11bHRpTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG11bHRpTWF0ZXJpYWw6IEJBQllMT04uTXVsdGlNYXRlcmlhbCA9IHRoaXMubV9ib2R5QWJ0cmFjdE1lc2gubWF0ZXJpYWwgYXMgQkFCWUxPTi5NdWx0aU1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpTWF0ZXJpYWwuc3ViTWF0ZXJpYWxzICE9IG51bGwgJiYgbXVsdGlNYXRlcmlhbC5zdWJNYXRlcmlhbHMubGVuZ3RoID4gbWFpbk1hdGVyaWFsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3B5TWF0ZXJpYWw6IEJBQllMT04uTXVsdGlNYXRlcmlhbCA9IG11bHRpTWF0ZXJpYWwuY2xvbmUobXVsdGlNYXRlcmlhbC5uYW1lICsgXCIuXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKSBhcyBCQUJZTE9OLk11bHRpTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViTWF0ZXJpYWw6IEJBQllMT04uTWF0ZXJpYWwgPSBjb3B5TWF0ZXJpYWwuc3ViTWF0ZXJpYWxzW21haW5NYXRlcmlhbEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5TWF0ZXJpYWwuc3ViTWF0ZXJpYWxzW21haW5NYXRlcmlhbEluZGV4XSA9IHN1Yk1hdGVyaWFsLmNsb25lKHN1Yk1hdGVyaWFsLm5hbWUgKyBcIi5cIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpIGFzIEJBQllMT04uUEJSTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlNYXRlcmlhbCA9IGNvcHlNYXRlcmlhbC5zdWJNYXRlcmlhbHNbbWFpbk1hdGVyaWFsSW5kZXhdIGFzIEJBQllMT04uUEJSTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlBYnRyYWN0TWVzaC5tYXRlcmlhbCA9IGNvcHlNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5TWF0ZXJpYWwgPSB0aGlzLm1fYm9keUFidHJhY3RNZXNoLm1hdGVyaWFsLmNsb25lKHRoaXMubV9ib2R5QWJ0cmFjdE1lc2gubWF0ZXJpYWwubmFtZSArIFwiLlwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSkgYXMgQkFCWUxPTi5QQlJNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5QWJ0cmFjdE1lc2gubWF0ZXJpYWwgPSB0aGlzLm1fYm9keU1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYm9keU1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBNYWluIEJvZHkgQmFzZSBDb2xvcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9ib2R5TWF0ZXJpYWwuaXNGcm96ZW4pIHRoaXMubV9ib2R5TWF0ZXJpYWwudW5mcmVlemUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5TWF0ZXJpYWwuYWxiZWRvQ29sb3IuY29weUZyb20obWFpbkJvZHlQYWludENvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9ib2R5TWF0ZXJpYWwuZnJlZXplKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsZWQgdG8gZmluZCBhdXRvIGJvZHkgbWVzaCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9wcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IH1cbiAgICAgICAgLy9wcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQgeyB9XG4gICAgICAgIC8vcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyB9XG4gICAgICAgIC8vcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7IH1cblxuICAgICAgICBwdWJsaWMgc2V0dXBWZWhpY2xlTWF0ZXJpYWxzKGJvZHlDb2xvcjogQkFCWUxPTi5Db2xvcjMsIHdoZWVsQ29sb3I6IEJBQllMT04uQ29sb3IzID0gbnVsbCwgd2hlZWxUeXBlOiBudW1iZXIgPSAwLCBkZWNhbEluZGV4OiBudW1iZXIgPSAwKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JvZHlNYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0IE1haW4gQm9keSBCYXNlIENvbG9yaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9ib2R5TWF0ZXJpYWwuaXNGcm96ZW4pIHRoaXMubV9ib2R5TWF0ZXJpYWwudW5mcmVlemUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYm9keU1hdGVyaWFsLmFsYmVkb0NvbG9yLmNvcHlGcm9tKGJvZHlDb2xvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JvZHlNYXRlcmlhbC5mcmVlemUoKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gU2V0dXAgV2hlZWwgVHlwZSBBbmQgQ29sb3JcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gU2V0dXAgRGVjYWwgQm9keSBXcmFwcGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIENoZWNrcG9pbnRNYW5hZ2VyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQ2hlY2twb2ludE1hbmFnZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBjaGVja1BvaW50TGlzdDogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2hlY2tQb2ludENvdW50OiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNoZWNrUG9pbnRJbmRleDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBuZXh0Q2hlY2tQb2ludDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzdGFydFJhY2VUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHRvdGFsUmFjZVRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFwTnVtYmVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhcFRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhcFRpbWVzOiBudW1iZXJbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcGxheWVySUQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTmFtZTogc3RyaW5nID0gXCJQbGF5ZXJcIjtcbiAgICAgICAgcHJpdmF0ZSByYWNlT3ZlcjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyByZWdpc3RlcihpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVySUQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuUmVnaXN0ZXJQbGF5ZXIodGhpcy5wbGF5ZXJJRCwgdGhpcy5wbGF5ZXJOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0TGFwVGltZXMoKTogbnVtYmVyW10geyByZXR1cm4gdGhpcy5sYXBUaW1lczsgfVxuICAgICAgICBwdWJsaWMgZ2V0TGFwTnVtYmVyKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmxhcE51bWJlcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2hlY2tQb2ludCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jaGVja1BvaW50SW5kZXg7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllck5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMucGxheWVyTmFtZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySUQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMucGxheWVySUQ7IH1cbiAgICAgICAgcHVibGljIGdldFJhY2VUaW1lKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnRvdGFsUmFjZVRpbWU7IH1cbiAgICAgICAgcHVibGljIGdldFJhY2VPdmVyKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5yYWNlT3ZlcjsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubGFwVGltZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubGFwTnVtYmVyID0gMDtcbiAgICAgICAgICAgIHRoaXMubmV4dENoZWNrUG9pbnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5jaGVja1BvaW50TGlzdCA9IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5HZXRDaGVja3BvaW50TGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5jaGVja1BvaW50Q291bnQgPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuR2V0Q2hlY2twb2ludENvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG5leHRDaGVja1BvaW50TmFtZTogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhY2VPdmVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrUG9pbnRMaXN0ICE9IG51bGwgJiYgdGhpcy5jaGVja1BvaW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGVja3BvaW50TWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSB0aGlzLmNoZWNrUG9pbnRMaXN0W3RoaXMubmV4dENoZWNrUG9pbnRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoZWNrcG9pbnRNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dENoZWNrUG9pbnROYW1lID0gbmV4dENoZWNrcG9pbnRNZXNoLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoZWNrcG9pbnRNZXNoLmludGVyc2VjdHNQb2ludCh0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQb2ludEluZGV4ID0gdGhpcy5uZXh0Q2hlY2tQb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1BvaW50SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFwTnVtYmVyID4gMCAmJiB0aGlzLmxhcFRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFwVGltZTogbnVtYmVyID0gKEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0R2FtZVRpbWUoKSAtIHRoaXMubGFwVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFwVGltZXMgPT0gbnVsbCkgdGhpcy5sYXBUaW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXBUaW1lcy5wdXNoKGxhcFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFwTnVtYmVyKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFwVGltZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldEdhbWVUaW1lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhcE51bWJlciA+IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5Ub3RhbExhcENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmFjZVRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXBOdW1iZXIgPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVG90YWxMYXBDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFjZU92ZXIgPSB0cnVlOyAvLyBHQU1FIE9WRVI6IENyb3NzZWQgRmluaXNoIExpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5FdmVudEJ1cy5Qb3N0TWVzc2FnZShcIkdhbWVPdmVyXCIpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF5YmUgUmVtb3ZlIEFuZCBVc2UgTGVhZGVyYm9hcmQgRm9yIFdpbm5lciAtID8/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLldpbm5lclRyYW5zZm9ybSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLldpbm5lclRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIFdpbiBDb25kaXRpb25zIC0gPz8/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJSQUNFIFdJTk5FUjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDaGVja1BvaW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dENoZWNrUG9pbnQgPj0gdGhpcy5jaGVja1BvaW50Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2hlY2tQb2ludCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICAvLyBERUJVRyBMT0NBTCBQTEFZRVIgQ0hFQ0tQT0lOVFNcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLnRyYW5zZm9ybS5uYW1lID09PSBcIkxvY2FsUGxheWVyXCIpIHtcbiAgICAgICAgICAgIC8vICAgIFVUSUwuUHJpbnRUb1NjcmVlbihcIkNoZWNrcG9pbnQgSW5kZXg6IFwiICsgdGhpcy5jaGVja1BvaW50SW5kZXgudG9TdHJpbmcoKSArIFwiIC0tLT4gTmV4dDogXCIgKyB0aGlzLm5leHRDaGVja1BvaW50TmFtZSk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBpZiAodGhpcy5yYWNlT3ZlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydFJhY2VUaW1lID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsUmFjZVRpbWUgPSAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRHYW1lVGltZSgpIC0gdGhpcy5zdGFydFJhY2VUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySUQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5VcGRhdGVMZWFkZXJib2FyZCh0aGlzLnBsYXllcklELCB0aGlzLmxhcE51bWJlciwgdGhpcy5jaGVja1BvaW50SW5kZXgsIHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzdGFydFJhY2VUaW1lcigpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0UmFjZVRpbWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhcFRpbWVzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5yYWNlT3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRSYWNlVGltZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0R2FtZVRpbWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBOZXR3b3JrQ2FyUHJlZGljdGlvblxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE5ldHdvcmtDYXJQcmVkaWN0aW9uIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgYXV0b1JlZ2lzdGVyOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBoYW5kbGVyTmFtZTogc3RyaW5nID0gXCJWZWhpY2xlUHJlZGljdGlvblwiO1xuICAgICAgICBwcml2YXRlIGV4dHJhcG9sYXRlVGltZU1zOiBudW1iZXIgPSAyMDA7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b1JlZ2lzdGVyID09PSB0cnVlKSB0aGlzLnJlZ2lzdGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVnaXN0ZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJlZ2lzdGVyQ3VzdG9tSW50ZXJwb2xhdGlvbkhhbmRsZXIodGhpcy5oYW5kbGVyTmFtZSwgKG5ldHdvcmtFbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgcmVtb3RlVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5IYW5kbGVVcGRhdGUobmV0d29ya0VudGl0eSwgcmVtb3RlVHJhbnNmb3JtLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIEhhbmRsZVVwZGF0ZShuZXR3b3JrRW50aXR5OiBCQUJZTE9OLklDb2x5c2V1c05ldHdvcmtFbnRpdHksIHJlbW90ZVRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIFJlbW90ZSBOZXR3b3JrIFRyYW5zZm9ybSBVcGRhdGVcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgTGVnYWN5SGFuZGxlVXBkYXRlKG5ldHdvcmtFbnRpdHk6IEJBQllMT04uSUNvbHlzZXVzTmV0d29ya0VudGl0eSwgcmVtb3RlVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlEZWx0YVRpbWU6IG51bWJlciA9IDA7IC8vQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZWFkTmV0d29ya0VudGl0eUJ1ZmZlckRhdGE8bnVtYmVyPihyZW1vdGVUcmFuc2Zvcm0sIEJBQllMT04uRW50aXR5QnVmZmVyRGF0YS5EZWx0YVRpbWUpO1xuICAgICAgICAgICAgY29uc3QgZW50aXR5RWxhc3BlZFRpbWU6IG51bWJlciA9IDA7IC8vQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZWFkTmV0d29ya0VudGl0eUJ1ZmZlckRhdGE8bnVtYmVyPihyZW1vdGVUcmFuc2Zvcm0sIEJBQllMT04uRW50aXR5QnVmZmVyRGF0YS5FbGFwc2VkVGltZSk7XG4gICAgICAgICAgICAvL2NvbnN0IGV4dHJhcG9sYXRpb25PZmZzZXQ6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZWFkTmV0d29ya0VudGl0eUJ1ZmZlckRhdGE8QkFCWUxPTi5WZWN0b3IzPihyZW1vdGVUcmFuc2Zvcm0sIEJBQllMT04uRW50aXR5QnVmZmVyRGF0YS5FeHRyYXBvbGF0aW9uT2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eURlbHRhVGltZU1zOiBudW1iZXIgPSAoZW50aXR5RGVsdGFUaW1lICogMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlFbGFzcGVkVGltZU1zOiBudW1iZXIgPSAoZW50aXR5RWxhc3BlZFRpbWUgKiAxMDAwKTtcblxuICAgICAgICAgICAgLy9jb25zdCBsYXRlc3RTbmFwc2hvdDpCQUJZTE9OLkVudGl0eVNuYXBzaG90ID0gQkFCWUxPTi5OZXR3b3JrTWFuYWdlci5SZWFkTmV0d29ya0VudGl0eUJ1ZmZlckRhdGEocmVtb3RlVHJhbnNmb3JtLCBCQUJZTE9OLkVudGl0eUJ1ZmZlckRhdGEuTGF0ZXN0U25hcHNob3QpO1xuICAgICAgICAgICAgLy9jb25zdCBuZXR3b3JrUG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbGF0ZXN0U25hcHNob3QucG9zaXRpb247XG4gICAgICAgICAgICAvL2NvbnN0IG5ldHdvcmtSb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBsYXRlc3RTbmFwc2hvdC5yb3RhdGlvbjtcbiAgICAgICAgICAgIC8vY29uc3QgbmV0d29ya0xpbmVhclZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IGxhdGVzdFNuYXBzaG90LnZlbG9jaXR5OyBcbiAgICAgICAgICAgIC8vY29uc3QgbmV0d29ya0FuZ3VsYXJWZWxvY2l0eTpCQUJZTE9OLlZlY3RvcjMgPSBsYXRlc3RTbmFwc2hvdC5hbmdsZTsgXG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlDdXJyUG9zaXRpb24uY29weUZyb20ocmVtb3RlVHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eUN1cnJQb3NpdGlvbi5zdWJ0cmFjdFRvUmVmKCg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eVByZXZQb3NpdGlvbiwgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFQb3NpdGlvbik7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlQcmV2UG9zaXRpb24uY29weUZyb20oKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5Q3VyclBvc2l0aW9uKTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUG9zaXRpb24ueCA9ICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUG9zaXRpb24ueCAvIGRlbHRhVGltZTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUG9zaXRpb24ueSA9ICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUG9zaXRpb24ueSAvIGRlbHRhVGltZTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUG9zaXRpb24ueiA9ICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUG9zaXRpb24ueiAvIGRlbHRhVGltZTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eUN1cnJSb3RhdGlvbi5jb3B5RnJvbShyZW1vdGVUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlF1YXRlcm5pb25EaWZmVG9SZWYoKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5Q3VyclJvdGF0aW9uLCAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlQcmV2Um90YXRpb24sICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUm90YXRpb24pO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFSb3RhdGlvbi50b0V1bGVyQW5nbGVzVG9SZWYoKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMpO1xuICAgICAgICAgICAgKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMueCA9ICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhRXVsZXJzLnggLyBkZWx0YVRpbWU7XG4gICAgICAgICAgICAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YUV1bGVycy55ID0gKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5RGVsdGFFdWxlcnMueSAvIGRlbHRhVGltZTtcbiAgICAgICAgICAgICg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhRXVsZXJzLnogPSAoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YUV1bGVycy56IC8gZGVsdGFUaW1lO1xuICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgaWYgKGVudGl0eURlbHRhVGltZU1zIDw9IHRoaXMuZXh0cmFwb2xhdGVUaW1lTXMgJiYgZW50aXR5RWxhc3BlZFRpbWVNcyA8PSB0aGlzLmV4dHJhcG9sYXRlVGltZU1zKSB7XG4gICAgICAgICAgICAgICAgLy8gUXVhdGVybmlvbiB0dXJuUm90YXRpb24gPSBRdWF0ZXJuaW9uLkV1bGVyKCAwLCBtX1N5bmNocm9uaXplZFR1cm5TcGVlZCAqIHRpbWVQYXNzZWQsIDAgKTtcbiAgICAgICAgICAgICAgICAvLyBleHRyYXBvbGF0ZVBvc2l0aW9uID0gdHVyblJvdGF0aW9uICogKCBtX1N5bmNocm9uaXplZFNwZWVkICogdGltZVBhc3NlZCApOyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBFeHRyYXBvbGF0ZSBOZXcgVGFyZ2V0IFBvc2l0aW9uIChDbGllbnQgUHJlZGljdGlvbilcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IHF1YXQ6QkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyhhbmd1bGFyVmVsb2NpdHkueCwgYW5ndWxhclZlbG9jaXR5LnksIGFuZ3VsYXJWZWxvY2l0eS56KTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBleHRyYSA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuTXVsdGlwbHlRdWF0ZXJuaW9uQnlWZWN0b3IocXVhdCwgbGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy9uZXR3b3JrTGluZWFyVmVsb2NpdHkuc2NhbGVUb1JlZihlbnRpdHlEZWx0YVRpbWUsIGV4dHJhcG9sYXRpb25PZmZzZXQpO1xuICAgICAgICAgICAgICAgIC8vbmV0d29ya1Bvc2l0aW9uLmFkZEluUGxhY2UoZXh0cmFwb2xhdGlvbk9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSBTbW9vdGggTmV0d29yayBQb3NpdGlvbiBVcGRhdGUgKE1vdmUgVG93YXJkcylcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vY29uc3QgbWV0ZXJzUGVyU2Vjb25kOm51bWJlciA9IChuZXR3b3JrTGluZWFyVmVsb2NpdHkubGVuZ3RoKCkgKiBzY2VuZURlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgLy9CQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLk1vdmVUb3dhcmRzVmVjdG9yM1RvUmVmKHJlbW90ZVRyYW5zZm9ybS5wb3NpdGlvbiwgbmV0d29ya1Bvc2l0aW9uLCBtZXRlcnNQZXJTZWNvbmQsIHJlbW90ZVRyYW5zZm9ybS5wb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIFNtb290aCBOZXR3b3JrIFJvdGF0aW9uIFVwZGF0ZSAoTGVnYWN5IFNsZXJwKVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQ3JlYXRlIFF1YXRlcm5pb24gUm90YXRlIFRvd2FyZHNcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBHZXQgU2xlcnAgU3BlZWQgQXR0cmlidXRlXG4gICAgICAgICAgICAgICAgbGV0IHJvdGF0aW9uU2xlcnBGYWN0b3I6IG51bWJlciA9IDEwLjA7XG4gICAgICAgICAgICAgICAgbGV0IHJvdGF0aW9uTGVycFNwZWVkOiBudW1iZXIgPSAocm90YXRpb25TbGVycEZhY3RvciAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgcm90YXRpb25MZXJwU3BlZWQgPSBCQUJZTE9OLlNjYWxhci5DbGFtcChyb3RhdGlvbkxlcnBTcGVlZCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgLy9CQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZihyZW1vdGVUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCBuZXR3b3JrUm90YXRpb24sIHJvdGF0aW9uTGVycFNwZWVkLCByZW1vdGVUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcblxuICAgICAgICAgICAgICAgIC8vIE1PVkUgVE8gT05DSEFOR0VcbiAgICAgICAgICAgICAgICAvLyg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eVBhY2tldFBvc2l0aW9uLmNvcHlGcm9tKHJlbW90ZVRyYW5zZm9ybS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgLy8oPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlQYWNrZXRSb3RhdGlvbi5jb3B5RnJvbShyZW1vdGVUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAvLyg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eVBhY2tldFZlbG9jaXR5LmNvcHlGcm9tKCg8YW55PnJlbW90ZVRyYW5zZm9ybSkubmV0d29ya0VudGl0eURlbHRhUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIC8vKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5UGFja2V0QW5ndWxhci5jb3B5RnJvbSgoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlEZWx0YUV1bGVycyk7IFxuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sVHlwZTpCQUJZTE9OLkVudGl0eUNvbnRyb2xUeXBlID0gKDxhbnk+cmVtb3RlVHJhbnNmb3JtKS5uZXR3b3JrRW50aXR5Q29udHJvbDtcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbFR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbFR5cGUgPT09IEJBQllMT04uRW50aXR5Q29udHJvbFR5cGUuVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBVc2UgVHJhbnNmb3JtIERpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbFR5cGUgPT09IEJBQllMT04uRW50aXR5Q29udHJvbFR5cGUuUmlnaWRib2R5UGh5c2ljcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlVHJhbnNmb3JtTWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IHJlbW90ZVRyYW5zZm9ybSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdGVUcmFuc2Zvcm1NZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IGVudGl0eURlbHRhVGltZTpudW1iZXIgPSBCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLlJlYWROZXR3b3JrRW50aXR5QnVmZmVyRGF0YTxudW1iZXI+KHJlbW90ZVRyYW5zZm9ybSwgQkFCWUxPTi5FbnRpdHlCdWZmZXJEYXRhLkRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8oPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlSZWFsVmVsb2NpdHkuc2NhbGVJblBsYWNlKGVudGl0eURlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdGVUcmFuc2Zvcm1NZXNoLnBoeXNpY3NJbXBvc3Rvci5zZXRMaW5lYXJWZWxvY2l0eSgoPGFueT5yZW1vdGVUcmFuc2Zvcm0pLm5ldHdvcmtFbnRpdHlSZWFsVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTRVQgVkVMT0NJVFk6IFwiICsgcmVtb3RlVHJhbnNmb3JtLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gci52ZWxvY2l0eSA9IFZlY3RvcjMuTGVycCh2ZWxvY2l0eUF0TGFzdFBhY2tldCwgbGF0ZXN0VmVsb2NpdHksIChmbG9hdCkoY3VycmVudFRpbWUgLyB0aW1lVG9SZWFjaEdvYWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByLmFuZ3VsYXJWZWxvY2l0eSA9IFZlY3RvcjMuTGVycChhbmd1bGFyVmVsb2NpdHlBdExhc3RQYWNrZXQsIGxhdGVzdEFuZ3VsYXJWZWxvY2l0eSwgKGZsb2F0KShjdXJyZW50VGltZSAvIHRpbWVUb1JlYWNoR29hbCkpOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250cm9sVHlwZSA9PT0gQkFCWUxPTi5FbnRpdHlDb250cm9sVHlwZS5DaGFyYWN0ZXJDb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaW5kIEFuZCBVc2UgQ2hhcmFjdGVyIENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL3JlbW90ZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbShuZXR3b3JrUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIC8vcmVtb3RlVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShuZXR3b3JrUm90YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIElUcmFja05vZGUge1xuICAgICAgICByYWRpdXM6IG51bWJlcjtcbiAgICAgICAgcG9zaXRpb246IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzO1xuICAgICAgICByb3RhdGlvbjogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjQ7XG4gICAgICAgIGxvY2FsUG9zaXRpb246IEJBQllMT04uVmVjdG9yMztcbiAgICAgICAgbG9jYWxSb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uO1xuICAgICAgICBsb2NhbERpc3RhbmNlOiBudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbnRyb2xQb2ludCB7XG4gICAgICAgIHNwZWVkOiBudW1iZXI7XG4gICAgICAgIHR2YWx1ZTogbnVtYmVyO1xuICAgICAgICBwb3NpdGlvbjogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjM7XG4gICAgfVxuICAgIGV4cG9ydCBjbGFzcyBSb3V0ZVBvaW50IHtcbiAgICAgICAgcHVibGljIHBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjM7XG4gICAgICAgIHB1YmxpYyBkaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMztcbiAgICB9XG4gICAgZXhwb3J0IGNsYXNzIFBsYXllclJhY2VTdGF0cyB7XG4gICAgICAgIHB1YmxpYyBpZDogbnVtYmVyO1xuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuICAgICAgICBwdWJsaWMgcG9zaXRpb246IG51bWJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBCVF9SYWNlVHJhY2tNYW5hZ2VyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgUmFjZVRyYWNrTWFuYWdlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIFRyYWNrTGVuZ3RoOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFRvdGFsTGFwQ291bnQ6IG51bWJlciA9IDM7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgV2lubmVyVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIENoZWNrUG9pbnRUYWc6IHN0cmluZyA9IFwiQ2hlY2twb2ludFwiO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBDaGVja1BvaW50TGlzdDogQkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIExlYWRlckJvYXJkTGlzdDogUFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHNbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFBsYXllclZlaGljbGVMaXN0OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSB0cmFja05vZGVzOiBQUk9KRUNULklUcmFja05vZGVbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVEYXRhXzE6IFBST0pFQ1QuSUNvbnRyb2xQb2ludFtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZURhdGFfMjogUFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lRGF0YV8zOiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVEYXRhXzQ6IFBST0pFQ1QuSUNvbnRyb2xQb2ludFtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZURhdGFfNTogUFJPSkVDVC5JQ29udHJvbFBvaW50W10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lQ29sb3JfMTogQkFCWUxPTi5Ub29sa2l0LklVbml0eUNvbG9yID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZUNvbG9yXzI6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDb2xvciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFjZUxpbmVDb2xvcl8zOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5Q29sb3IgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJhY2VMaW5lQ29sb3JfNDogQkFCWUxPTi5Ub29sa2l0LklVbml0eUNvbG9yID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByYWNlTGluZUNvbG9yXzU6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDb2xvciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZGVidWdNZXNoTGluZXNfMTogQkFCWUxPTi5MaW5lc01lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGRlYnVnTWVzaExpbmVzXzI6IEJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWJ1Z01lc2hMaW5lc18zOiBCQUJZTE9OLkxpbmVzTWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZGVidWdNZXNoTGluZXNfNDogQkFCWUxPTi5MaW5lc01lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGRlYnVnTWVzaExpbmVzXzU6IEJBQllMT04uTGluZXNNZXNoID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIHAwbjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwMW46IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcDJuOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHAzbjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBpOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9FdmVudEJ1czogQkFCWUxPTi5Ub29sa2l0LkxvY2FsTWVzc2FnZUJ1cyA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEV2ZW50QnVzKCk6IEJBQllMT04uVG9vbGtpdC5Mb2NhbE1lc3NhZ2VCdXMge1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5fRXZlbnRCdXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5fRXZlbnRCdXMgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxvY2FsTWVzc2FnZUJ1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5fRXZlbnRCdXM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZHJhd0RlYnVnTGluZXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGdldFRyYWNrTm9kZXMoKTogUFJPSkVDVC5JVHJhY2tOb2RlW10geyByZXR1cm4gdGhpcy50cmFja05vZGVzOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDb250cm9sUG9pbnRzKGxpbmU6IG51bWJlcik6IFBST0pFQ1QuSUNvbnRyb2xQb2ludFtdIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IFBST0pFQ1QuSUNvbnRyb2xQb2ludFtdID0gbnVsbDtcbiAgICAgICAgICAgIHN3aXRjaCAobGluZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yYWNlTGluZURhdGFfMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJhY2VMaW5lRGF0YV8yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmFjZUxpbmVEYXRhXzM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yYWNlTGluZURhdGFfNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJhY2VMaW5lRGF0YV81O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrTm9kZXMgPSB0aGlzLmdldFByb3BlcnR5KFwiVHJhY2tOb2Rlc1wiLCB0aGlzLnRyYWNrTm9kZXMpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfMSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJSYWNlTGluZURhdGFfMVwiLCB0aGlzLnJhY2VMaW5lRGF0YV8xKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVEYXRhXzIgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVEYXRhXzJcIiwgdGhpcy5yYWNlTGluZURhdGFfMik7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV8zID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lRGF0YV8zXCIsIHRoaXMucmFjZUxpbmVEYXRhXzMpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZURhdGFfNCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJSYWNlTGluZURhdGFfNFwiLCB0aGlzLnJhY2VMaW5lRGF0YV80KTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVEYXRhXzUgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVEYXRhXzVcIiwgdGhpcy5yYWNlTGluZURhdGFfNSk7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lQ29sb3JfMSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJSYWNlTGluZUNvbG9yXzFcIiwgdGhpcy5yYWNlTGluZUNvbG9yXzEpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZUNvbG9yXzIgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVDb2xvcl8yXCIsIHRoaXMucmFjZUxpbmVDb2xvcl8yKTtcbiAgICAgICAgICAgIHRoaXMucmFjZUxpbmVDb2xvcl8zID0gdGhpcy5nZXRQcm9wZXJ0eShcIlJhY2VMaW5lQ29sb3JfM1wiLCB0aGlzLnJhY2VMaW5lQ29sb3JfMyk7XG4gICAgICAgICAgICB0aGlzLnJhY2VMaW5lQ29sb3JfNCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJSYWNlTGluZUNvbG9yXzRcIiwgdGhpcy5yYWNlTGluZUNvbG9yXzQpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZUNvbG9yXzUgPSB0aGlzLmdldFByb3BlcnR5KFwiUmFjZUxpbmVDb2xvcl81XCIsIHRoaXMucmFjZUxpbmVDb2xvcl81KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd0RlYnVnTGluZXMgPSB0aGlzLmdldFByb3BlcnR5KFwiRHJhd0RlYnVnTGluZXNcIiwgdGhpcy5kcmF3RGVidWdMaW5lcyk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNrTm9kZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5UcmFja0xlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGhpcy50cmFja05vZGVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50OiBQUk9KRUNULklUcmFja05vZGUgPSB0aGlzLnRyYWNrTm9kZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0MSA9IHRoaXMudHJhY2tOb2Rlc1soaW5kZXgpICUgdGhpcy50cmFja05vZGVzLmxlbmd0aF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQyID0gdGhpcy50cmFja05vZGVzWyhpbmRleCArIDEpICUgdGhpcy50cmFja05vZGVzLmxlbmd0aF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0MSAhPSBudWxsICYmIHQyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdDogQkFCWUxPTi5WZWN0b3I0ID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjQoZWxlbWVudC5yb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmxvY2FsUm90YXRpb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKHJvdC54LCByb3QueSwgcm90LnosIHJvdC53KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQubG9jYWxQb3NpdGlvbiA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGVsZW1lbnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcDE6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHQxLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAyOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyh0Mi5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmxvY2FsRGlzdGFuY2UgPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVHJhY2tMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVHJhY2tMZW5ndGggKz0gKHAxLnN1YnRyYWN0KHAyKSkubGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCI+Pj4gUmFjZSBUcmFjayBOb2Rlc1wiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudHJhY2tOb2Rlcyk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5MZWFkZXJCb2FyZExpc3QgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3QgPSB0aGlzLnNjZW5lLmdldE1lc2hlc0J5VGFncyhQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludFRhZyk7XG4gICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdCAhPSBudWxsICYmIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdFtpbmRleF0ucmVmcmVzaEJvdW5kaW5nSW5mbyh7fSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmF3RGVidWdMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludFNpemU6IG51bWJlciA9IDAuNTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z0xpbmVzOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5EZWJ1Z0xpbmVzXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGRlYnVnTGluZXMucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIGRlYnVnTGluZXMucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFRyYWNrIE5vZGVzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFja05vZGVzICE9IG51bGwgJiYgdGhpcy50cmFja05vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tOb2RlUG9zXzE6IEJBQllMT04uVmVjdG9yM1tdID0gW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZUNvbF8xOiBCQUJZTE9OLkNvbG9yMyA9IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZU1hdF8xID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTm9kZU1hdGVyaWFsXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0cmFja05vZGVNYXRfMS5kaWZmdXNlQ29sb3IgPSB0cmFja05vZGVDb2xfMTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrTm9kZXMuZm9yRWFjaCgobm9kZTogUFJPSkVDVC5JVHJhY2tOb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFja05vZGVQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMyhub2RlLnBvc2l0aW9uLngsIG5vZGUucG9zaXRpb24ueSwgbm9kZS5wb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZVJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKG5vZGUucm90YXRpb24ueCwgbm9kZS5yb3RhdGlvbi55LCBub2RlLnJvdGF0aW9uLnosIG5vZGUucm90YXRpb24udyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja05vZGVQb3NfMS5wdXNoKHRyYWNrTm9kZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrTm9kZTogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVDeWxpbmRlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuVHJhY2tOb2RlX1wiICsgaW5kZXgsIHsgZGlhbWV0ZXJUb3A6IDAsIGRpYW1ldGVyQm90dG9tOiAocG9pbnRTaXplICogMiksIGhlaWdodDogMi4wIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tOb2RlLnBhcmVudCA9IGRlYnVnTGluZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja05vZGUucG9zaXRpb24uY29weUZyb20odHJhY2tOb2RlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tOb2RlLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tOb2RlLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRyYWNrTm9kZVJvdGF0aW9uLm11bHRpcGx5KEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuRnJvbUV1bGVyKDkwLCAwLCAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja05vZGUubWF0ZXJpYWwgPSB0cmFja05vZGVNYXRfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFJhY2UgTGluZSA1XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWNlTGluZURhdGFfNSAhPSBudWxsICYmIHRoaXMucmFjZUxpbmVEYXRhXzUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvc181OiBCQUJZTE9OLlZlY3RvcjNbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZUNvbF81OiBCQUJZTE9OLkNvbG9yMyA9ICh0aGlzLnJhY2VMaW5lQ29sb3JfNSAhPSBudWxsKSA/IG5ldyBCQUJZTE9OLkNvbG9yMyh0aGlzLnJhY2VMaW5lQ29sb3JfNS5yLCB0aGlzLnJhY2VMaW5lQ29sb3JfNS5nLCB0aGlzLnJhY2VMaW5lQ29sb3JfNS5iKSA6IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lTWF0XzUgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludE1hdGVyaWFsXzVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhY2VMaW5lTWF0XzUuZGlmZnVzZUNvbG9yID0gcmFjZUxpbmVDb2xfNTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV81LmZvckVhY2goKHBvaW50OiBQUk9KRUNULklDb250cm9sUG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lUG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMocG9pbnQucG9zaXRpb24ueCwgcG9pbnQucG9zaXRpb24ueSwgcG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWNlTGluZVBvc181LnB1c2gocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRfNTogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRyb2xQb2ludF81X1wiICsgaW5kZXgsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHBvaW50U2l6ZSAqIDIpIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzUucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF81LnBvc2l0aW9uLmNvcHlGcm9tKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzUucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfNS5tYXRlcmlhbCA9IHJhY2VMaW5lTWF0XzU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc181ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVMaW5lcygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhY2VMaW5lXzVcIiksIHsgcG9pbnRzOiByYWNlTGluZVBvc181IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzUucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc181LnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzUuY29sb3IgPSByYWNlTGluZUNvbF81O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFJhY2UgTGluZSA0XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWNlTGluZURhdGFfNCAhPSBudWxsICYmIHRoaXMucmFjZUxpbmVEYXRhXzQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvc180OiBCQUJZTE9OLlZlY3RvcjNbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZUNvbF80OiBCQUJZTE9OLkNvbG9yMyA9ICh0aGlzLnJhY2VMaW5lQ29sb3JfNCAhPSBudWxsKSA/IG5ldyBCQUJZTE9OLkNvbG9yMyh0aGlzLnJhY2VMaW5lQ29sb3JfNC5yLCB0aGlzLnJhY2VMaW5lQ29sb3JfNC5nLCB0aGlzLnJhY2VMaW5lQ29sb3JfNC5iKSA6IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lTWF0XzQgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludE1hdGVyaWFsXzRcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhY2VMaW5lTWF0XzQuZGlmZnVzZUNvbG9yID0gcmFjZUxpbmVDb2xfNDtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV80LmZvckVhY2goKHBvaW50OiBQUk9KRUNULklDb250cm9sUG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lUG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMocG9pbnQucG9zaXRpb24ueCwgcG9pbnQucG9zaXRpb24ueSwgcG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWNlTGluZVBvc180LnB1c2gocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRfNDogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRyb2xQb2ludF80X1wiICsgaW5kZXgsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHBvaW50U2l6ZSAqIDIpIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzQucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF80LnBvc2l0aW9uLmNvcHlGcm9tKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzQucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfNC5tYXRlcmlhbCA9IHJhY2VMaW5lTWF0XzQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc180ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVMaW5lcygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhY2VMaW5lXzRcIiksIHsgcG9pbnRzOiByYWNlTGluZVBvc180IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzQucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc180LnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzQuY29sb3IgPSByYWNlTGluZUNvbF80O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFJhY2UgTGluZSAzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWNlTGluZURhdGFfMyAhPSBudWxsICYmIHRoaXMucmFjZUxpbmVEYXRhXzMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvc18zOiBCQUJZTE9OLlZlY3RvcjNbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZUNvbF8zOiBCQUJZTE9OLkNvbG9yMyA9ICh0aGlzLnJhY2VMaW5lQ29sb3JfMyAhPSBudWxsKSA/IG5ldyBCQUJZTE9OLkNvbG9yMyh0aGlzLnJhY2VMaW5lQ29sb3JfMy5yLCB0aGlzLnJhY2VMaW5lQ29sb3JfMy5nLCB0aGlzLnJhY2VMaW5lQ29sb3JfMy5iKSA6IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lTWF0XzMgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludE1hdGVyaWFsXzNcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhY2VMaW5lTWF0XzMuZGlmZnVzZUNvbG9yID0gcmFjZUxpbmVDb2xfMztcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV8zLmZvckVhY2goKHBvaW50OiBQUk9KRUNULklDb250cm9sUG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lUG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMocG9pbnQucG9zaXRpb24ueCwgcG9pbnQucG9zaXRpb24ueSwgcG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWNlTGluZVBvc18zLnB1c2gocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRfMzogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRyb2xQb2ludF8zX1wiICsgaW5kZXgsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHBvaW50U2l6ZSAqIDIpIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzMucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8zLnBvc2l0aW9uLmNvcHlGcm9tKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzMucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMy5tYXRlcmlhbCA9IHJhY2VMaW5lTWF0XzM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18zID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVMaW5lcygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhY2VMaW5lXzNcIiksIHsgcG9pbnRzOiByYWNlTGluZVBvc18zIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzMucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18zLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzMuY29sb3IgPSByYWNlTGluZUNvbF8zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFJhY2UgTGluZSAyXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWNlTGluZURhdGFfMiAhPSBudWxsICYmIHRoaXMucmFjZUxpbmVEYXRhXzIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvc18yOiBCQUJZTE9OLlZlY3RvcjNbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZUNvbF8yOiBCQUJZTE9OLkNvbG9yMyA9ICh0aGlzLnJhY2VMaW5lQ29sb3JfMiAhPSBudWxsKSA/IG5ldyBCQUJZTE9OLkNvbG9yMyh0aGlzLnJhY2VMaW5lQ29sb3JfMi5yLCB0aGlzLnJhY2VMaW5lQ29sb3JfMi5nLCB0aGlzLnJhY2VMaW5lQ29sb3JfMi5iKSA6IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lTWF0XzIgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludE1hdGVyaWFsXzJcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhY2VMaW5lTWF0XzIuZGlmZnVzZUNvbG9yID0gcmFjZUxpbmVDb2xfMjtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV8yLmZvckVhY2goKHBvaW50OiBQUk9KRUNULklDb250cm9sUG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lUG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMocG9pbnQucG9zaXRpb24ueCwgcG9pbnQucG9zaXRpb24ueSwgcG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWNlTGluZVBvc18yLnB1c2gocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRfMjogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRyb2xQb2ludF8yX1wiICsgaW5kZXgsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHBvaW50U2l6ZSAqIDIpIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzIucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8yLnBvc2l0aW9uLmNvcHlGcm9tKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzIucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMi5tYXRlcmlhbCA9IHJhY2VMaW5lTWF0XzI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18yID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVMaW5lcygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhY2VMaW5lXzJcIiksIHsgcG9pbnRzOiByYWNlTGluZVBvc18yIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzIucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18yLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzIuY29sb3IgPSByYWNlTGluZUNvbF8yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFJhY2UgTGluZSAxXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWNlTGluZURhdGFfMSAhPSBudWxsICYmIHRoaXMucmFjZUxpbmVEYXRhXzEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZVBvc18xOiBCQUJZTE9OLlZlY3RvcjNbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWNlTGluZUNvbF8xOiBCQUJZTE9OLkNvbG9yMyA9ICh0aGlzLnJhY2VMaW5lQ29sb3JfMSAhPSBudWxsKSA/IG5ldyBCQUJZTE9OLkNvbG9yMyh0aGlzLnJhY2VMaW5lQ29sb3JfMS5yLCB0aGlzLnJhY2VMaW5lQ29sb3JfMS5nLCB0aGlzLnJhY2VMaW5lQ29sb3JfMS5iKSA6IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lTWF0XzEgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5Qb2ludE1hdGVyaWFsXzFcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhY2VMaW5lTWF0XzEuZGlmZnVzZUNvbG9yID0gcmFjZUxpbmVDb2xfMTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhY2VMaW5lRGF0YV8xLmZvckVhY2goKHBvaW50OiBQUk9KRUNULklDb250cm9sUG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VMaW5lUG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMocG9pbnQucG9zaXRpb24ueCwgcG9pbnQucG9zaXRpb24ueSwgcG9pbnQucG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWNlTGluZVBvc18xLnB1c2gocmFjZUxpbmVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRfMTogQkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkNvbnRyb2xQb2ludF8xX1wiICsgaW5kZXgsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogKHBvaW50U2l6ZSAqIDIpIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzEucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludF8xLnBvc2l0aW9uLmNvcHlGcm9tKHJhY2VMaW5lUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50XzEucG9zaXRpb24ueSArPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRfMS5tYXRlcmlhbCA9IHJhY2VMaW5lTWF0XzE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18xID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVMaW5lcygodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJhY2VMaW5lXzFcIiksIHsgcG9pbnRzOiByYWNlTGluZVBvc18xIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzEucGFyZW50ID0gZGVidWdMaW5lcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z01lc2hMaW5lc18xLnBvc2l0aW9uLnkgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnTWVzaExpbmVzXzEuY29sb3IgPSByYWNlTGluZUNvbF8xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmVhZHkoKSkgeyAvLyBVcGRhdGUgQWZ0ZXIgUmVhZHkgU3RhdGVcbiAgICAgICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuU29ydExlYWRlcmJvYXJkUG9zaXRpb25MaXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBEZXN0cm95IGNvbXBvbmVudCBmdW5jdGlvblxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFB1YmxpYyBSb3V0ZSBQb2ludCBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHVibGljIGdldFJvdXRlUG9pbnQoZGlzdGFuY2U6IG51bWJlcik6IFBST0pFQ1QuUm91dGVQb2ludCB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFBST0pFQ1QuUm91dGVQb2ludCA9IG5ldyBSb3V0ZVBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLmdldFJvdXRlUG9pbnRUb1JlZihkaXN0YW5jZSwgcmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldFJvdXRlUG9pbnRUb1JlZihkaXN0YW5jZTogbnVtYmVyLCByZXN1bHQ6IFBST0pFQ1QuUm91dGVQb2ludCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gVE9ETzogT1BUSU1JWkUgVEhJUyBGVU5DVElPTlxuICAgICAgICAgICAgY29uc3QgcDEgPSB0aGlzLmdldFJvdXRlUG9zaXRpb24oZGlzdGFuY2UpO1xuICAgICAgICAgICAgY29uc3QgcDIgPSB0aGlzLmdldFJvdXRlUG9zaXRpb24oZGlzdGFuY2UgKyAwLjEpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBwMi5zdWJ0cmFjdChwMSk7XG4gICAgICAgICAgICByZXN1bHQucG9zaXRpb24gPSBwMS5jbG9uZSgpO1xuICAgICAgICAgICAgcmVzdWx0LmRpcmVjdGlvbiA9IGRlbHRhLm5vcm1hbGl6ZVRvTmV3KCk7XG4gICAgICAgICAgICAvL3JldHVybiBuZXcgUm91dGVQb2ludChwMSwgZGVsdGEubm9ybWFsaXplZCk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldFJvdXRlUG9zaXRpb24oZGlzdGFuY2U6IG51bWJlcik6IEJBQllMT04uVmVjdG9yMyB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmdldFJvdXRlUG9zaXRpb25Ub1JlZihkaXN0YW5jZSwgcmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldFJvdXRlUG9zaXRpb25Ub1JlZihkaXN0YW5jZTogbnVtYmVyLCByZXN1bHQ6IEJBQllMT04uVmVjdG9yMyk6IHZvaWQge1xuICAgICAgICAgICAgbGV0IHBvaW50OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgY29uc3QgZGlzdDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuUmVwZWF0KGRpc3RhbmNlLCBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuVHJhY2tMZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgbnVtUG9pbnRzOiBudW1iZXIgPSB0aGlzLnRyYWNrTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMudHJhY2tOb2Rlc1twb2ludF0ubG9jYWxEaXN0YW5jZSA8IGRpc3QpIHsgKytwb2ludDsgfVxuICAgICAgICAgICAgLy8gZ2V0IG5lYXJlc3QgdHdvIHBvaW50cywgZW5zdXJpbmcgcG9pbnRzIHdyYXAtYXJvdW5kIHN0YXJ0ICYgZW5kIG9mIGNpcmN1aXRcbiAgICAgICAgICAgIHRoaXMucDFuID0gKChwb2ludCAtIDEpICsgbnVtUG9pbnRzKSAlIG51bVBvaW50cztcbiAgICAgICAgICAgIHRoaXMucDJuID0gcG9pbnQ7XG4gICAgICAgICAgICAvLyBmb3VuZCBwb2ludCBudW1iZXJzLCBub3cgZmluZCBpbnRlcnBvbGF0aW9uIHZhbHVlIGJldHdlZW4gdGhlIHR3byBtaWRkbGUgcG9pbnRzXG4gICAgICAgICAgICB0aGlzLmkgPSBCQUJZTE9OLlNjYWxhci5JbnZlcnNlTGVycCh0aGlzLnRyYWNrTm9kZXNbdGhpcy5wMW5dLmxvY2FsRGlzdGFuY2UsIHRoaXMudHJhY2tOb2Rlc1t0aGlzLnAybl0ubG9jYWxEaXN0YW5jZSwgZGlzdCk7XG4gICAgICAgICAgICAvLyBzaW1wbGUgbGluZWFyIGxlcnAgYmV0d2VlbiB0aGUgdHdvIHBvaW50c1xuICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLkxlcnBUb1JlZih0aGlzLnRyYWNrTm9kZXNbdGhpcy5wMW5dLmxvY2FsUG9zaXRpb24sIHRoaXMudHJhY2tOb2Rlc1t0aGlzLnAybl0ubG9jYWxQb3NpdGlvbiwgdGhpcy5pLCByZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFN0YXRpYyBDaGVja3BvaW50IEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogR2V0cyB0aGUgY2hlY2twb2ludCB0YWcgaWRlbnRpZmllciAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldENoZWNrcG9pbnRUYWcoKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludFRhZztcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHRoZSBjaGVja3BvaW50IHBvc2l0aW9uIGxpc3QgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRDaGVja3BvaW50TGlzdCgpOiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdIHtcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGNoZWNrcG9pbnRzICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q2hlY2twb2ludENvdW50KCk6IG51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdCAhPSBudWxsKSA/IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdC5sZW5ndGggOiAwO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbiBkaXN0YW5jZSB0byBuZXh0IGNoZWNrcG9pbnQgKi9cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgR2V0Q2hlY2twb2ludERpc3RhbmNlKHBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMsIGxhc3RQb2ludFJlYWNoZWQ6IEJBQllMT04uVmVjdG9yMywgbmV4dFBvaW50OiBCQUJZTE9OLlZlY3RvcjMpOiBudW1iZXIge1xuICAgICAgICAgICAgLy8gVE9ETzogT3B0aW1pemUgdmVjdG9yc1xuICAgICAgICAgICAgY29uc3QgZGlzcGxhY2VtZW50RnJvbUN1cnJlbnROb2RlOiBCQUJZTE9OLlZlY3RvcjMgPSBwb3NpdGlvbi5zdWJ0cmFjdChsYXN0UG9pbnRSZWFjaGVkKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWdtZW50VmVjdG9yOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXh0UG9pbnQuc3VidHJhY3QobGFzdFBvaW50UmVhY2hlZCk7XG4gICAgICAgICAgICBjb25zdCBmcmFjdGlvbjogbnVtYmVyID0gQkFCWUxPTi5WZWN0b3IzLkRvdChkaXNwbGFjZW1lbnRGcm9tQ3VycmVudE5vZGUsIGN1cnJlbnRTZWdtZW50VmVjdG9yKSAvIGN1cnJlbnRTZWdtZW50VmVjdG9yLmxlbmd0aFNxdWFyZWQoKTtcbiAgICAgICAgICAgIHJldHVybiBCQUJZTE9OLlNjYWxhci5DbGFtcChmcmFjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gU3RhdGljIFZlaGljbGUgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBSZWdpc3RlciB2ZWhpY2xlIHdpdGggdHJhY2sgbWFuYWdlciAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFJlZ2lzdGVyVmVoaWNsZSh2ZWhpY2xlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuUGxheWVyVmVoaWNsZUxpc3QgPT0gbnVsbCkgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlBsYXllclZlaGljbGVMaXN0ID0gW107XG4gICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuUGxheWVyVmVoaWNsZUxpc3QucHVzaCh2ZWhpY2xlKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyB0aGUgcmVnaXN0ZXJlZCBwbGF5ZXIgdmVoaWNsZXMgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRQbGF5ZXJWZWhpY2xlcygpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSB7XG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLlBsYXllclZlaGljbGVMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFN0YXRpYyBMZWFkZXJib2FyZCBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFJlZ2lzdGVyIHBsYXllciB3aXRoIHRyYWNrIG1hbmFnZXIgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBSZWdpc3RlclBsYXllcihpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllcjogUFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHMgPSBuZXcgUFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHMoKTtcbiAgICAgICAgICAgIHBsYXllci5pZCA9IGlkLFxuICAgICAgICAgICAgICAgIHBsYXllci5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHBsYXllci5wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdCA9PSBudWxsKSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0ID0gW107XG4gICAgICAgICAgICBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0LnB1c2gocGxheWVyKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogVXBkYXRlIHBsYXllciBsZWFkZXJib2FyZCBpbmZvcm1hdGlvbiAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFVwZGF0ZUxlYWRlcmJvYXJkKGlkOiBudW1iZXIsIGxhcDogbnVtYmVyLCBjaGVja3BvaW50OiBudW1iZXIsIHBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0ICE9IG51bGwgJiYgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmQ6IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzW10gPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZWFkZXJib2FyZC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudDogUFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHMgPSBsZWFkZXJib2FyZFtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdCAhPSBudWxsICYmIFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlci5DaGVja1BvaW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrUG9pbnRDb3VudDogbnVtYmVyID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dENoZWNrUG9pbnRJbmRleDogbnVtYmVyID0gKGNoZWNrcG9pbnQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoZWNrUG9pbnRJbmRleCA+PSBjaGVja1BvaW50Q291bnQpIG5leHRDaGVja1BvaW50SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0Q2hlY2twb2ludE1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkNoZWNrUG9pbnRMaXN0W2NoZWNrcG9pbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGVja3BvaW50TWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuQ2hlY2tQb2ludExpc3RbbmV4dENoZWNrUG9pbnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tQb2ludEZyYWN0aW9uOiBudW1iZXIgPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuR2V0Q2hlY2twb2ludERpc3RhbmNlKHBvc2l0aW9uLCBzdGFydENoZWNrcG9pbnRNZXNoLmFic29sdXRlUG9zaXRpb24sIG5leHRDaGVja3BvaW50TWVzaC5hYnNvbHV0ZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBvc2l0aW9uID0gKCgobGFwICogMTAwMCkgKyBjaGVja3BvaW50KSArIGNoZWNrUG9pbnRGcmFjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHBsYXllciBsZWFkZXJib2FyZCBwb3NpdGlvbiAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldExlYWRlcmJvYXJkUG9zaXRpb24oaWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0ICE9IG51bGwgJiYgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmQ6IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzW10gPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZWFkZXJib2FyZC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudDogUFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHMgPSBsZWFkZXJib2FyZFtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gKGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCBsZWFkZXJib2FyZCBwb3NpdGlvbiBsaXN0ICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TGVhZGVyYm9hcmRQb3NpdGlvbkxpc3QoKTogUFJPSkVDVC5QbGF5ZXJSYWNlU3RhdHNbXSB7XG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogU29ydCBsZWFkZXJib2FyZCBwb3NpdGlvbiBsaXN0ICovXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNvcnRMZWFkZXJib2FyZFBvc2l0aW9uTGlzdCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0ICE9IG51bGwgJiYgUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyLkxlYWRlckJvYXJkTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmQ6IFBST0pFQ1QuUGxheWVyUmFjZVN0YXRzW10gPSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuTGVhZGVyQm9hcmRMaXN0O1xuICAgICAgICAgICAgICAgIGxlYWRlcmJvYXJkLnNvcnQoKGxlZnQsIHJpZ2h0KTogbnVtYmVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogU29ydCBJbiBEZXNjZW5kaW5nIE9yZGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LnBvc2l0aW9uIDwgcmlnaHQucG9zaXRpb24pIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdC5wb3NpdGlvbiA+IHJpZ2h0LnBvc2l0aW9uKSByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHJlbW90ZSB2ZWhpY2xlIGNvbnRyb2xsZXIgY2xhc3MgKENvbHlzZXVzIFVuaXZlcnNhbCBHYW1lIFJvb20pXG4gICAgKiBAY2xhc3MgUmVtb3RlQ2FyQ29udHJvbGxlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFJlbW90ZUNhckNvbnRyb2xsZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2hvd1NlbnNvckxpbmVzOiBib29sZWFuID0gZmFsc2U7IC8vIE5vdGU6IERpc2FibGUgRGVidWcgTW9kZSBTZW5zb3JzXG5cbiAgICAgICAgcHVibGljIGNlbnRlck9mTWFzczogbnVtYmVyID0gMC40O1xuICAgICAgICBwdWJsaWMgYnVybm91dFdoZWVsUGl0Y2g6IG51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyBsaW5rVHJhY2tNYW5hZ2VyOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBsYXlWZWhpY2xlU291bmRzOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHNtb2tlVGV4dHVyZTogQkFCWUxPTi5UZXh0dXJlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHNraWRUaHJlYXNob2xkOiBudW1iZXIgPSAwLjY1O1xuICAgICAgICBwdWJsaWMgc21va2VJbnRlbnNpdHk6IG51bWJlciA9IDE1MDtcbiAgICAgICAgcHVibGljIHdoZWVsRHJhd1ZlbG9jaXR5OiBudW1iZXIgPSAwLjAyO1xuICAgICAgICBwdWJsaWMgc21va2VPcGFjaXR5OiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBzbW9rZURvbnV0czogbnVtYmVyID0gMi4wO1xuXG4gICAgICAgIHByaXZhdGUgc3RlZXJpbmdXaGVlbEh1YjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGVlcmluZ1doZWVsQXhpczogbnVtYmVyID0gMjtcbiAgICAgICAgcHJpdmF0ZSBtYXhTdGVlcmluZ0FuZ2xlOiBudW1iZXIgPSAzNS4wO1xuICAgICAgICBwcml2YXRlIG1heFN0ZWVyaW5nU3BlZWQgPSAxMC4wO1xuXG4gICAgICAgIHByaXZhdGUgX2FuaW1hdG9yOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9lbmdpbmVBdWRpb1NvdXJjZTogQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfc2tpZEF1ZGlvU291cmNlOiBCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgYnJha2VMaWdodHNNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYnJha2VMaWdodHNUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmV2ZXJzZUxpZ2h0c01lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByZXZlcnNlTGlnaHRzVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFdoZWVsVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbE1lc2g6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFdoZWVsTWVzaDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrTGVmdFdoZWVsTWVzaDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbE1lc2g6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRXaGVlbEVtaXR0ZXI6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0V2hlZWxFbWl0dGVyOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbEVtaXR0ZXI6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRXaGVlbEVtaXR0ZXI6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsUGFydGljbGU6IEJBQllMT04uUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbFBhcnRpY2xlOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrTGVmdFdoZWVsUGFydGljbGU6IEJBQllMT04uUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsUGFydGljbGU6IEJBQllMT04uUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0Q29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0Q29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0Q29udGFjdFRhZzogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0Q29udGFjdFRhZzogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHJpdmF0ZSByZWFyTGVmdENvbnRhY3RUYWc6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0Q29udGFjdFRhZzogc3RyaW5nID0gXCJcIjtcblxuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3RQb2ludDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3RQb2ludDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJlYXJMZWZ0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXJ0UmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGVuZFJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBzbW9rZUludGVuc2l0eUZhY3RvcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBkb3duRGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0xLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBkb3duRGlzdGFuY2U6IG51bWJlciA9IDIuMDtcblxuICAgICAgICBwcml2YXRlIGxhc3RQaXRjaDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0QnJha2U6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFzdFJldmVyc2U6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFzdEJ1cm5vdXQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFzdFN0ZWVyaW5nOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTS0lEX0ZMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTS0lEX0ZSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTS0lEX1JMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTS0lEX1JSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTUElOX0ZMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTUElOX0ZSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTUElOX1JMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxhc3RTUElOX1JSOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIHByaXZhdGUgUElUQ0hfRkw6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfRlI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfUkw6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgUElUQ0hfUlI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgV0hFRUxfU0tJRF9QSVRDSDogbnVtYmVyID0gMDtcblxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5mcm9udExlZnRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udFJpZ2h0V2hlZWxDb250YWN0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5mcm9udFJpZ2h0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhckxlZnRXaGVlbENvbnRhY3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFyUmlnaHRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbENvbnRhY3RUYWcoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdFRhZygpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhckxlZnRXaGVlbENvbnRhY3RUYWcoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMucmVhckxlZnRDb250YWN0VGFnOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyUmlnaHRXaGVlbENvbnRhY3RUYWcoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0UG9pbnQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udFJpZ2h0V2hlZWxDb250YWN0UG9pbnQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhckxlZnRXaGVlbENvbnRhY3RQb2ludCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5yZWFyTGVmdENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0UG9pbnQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMucmVhclJpZ2h0Q29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRGcm9udExlZnRXaGVlbENvbnRhY3ROb3JtYWwoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0Q29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdE5vcm1hbCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5mcm9udFJpZ2h0Q29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhckxlZnRXaGVlbENvbnRhY3ROb3JtYWwoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMucmVhckxlZnRDb250YWN0Tm9ybWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWFyUmlnaHRXaGVlbENvbnRhY3ROb3JtYWwoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMucmVhclJpZ2h0Q29udGFjdE5vcm1hbDsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX2Zyb250TGVmdFdoZWVsU2tpZDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2Zyb250UmlnaHRXaGVlbFNraWQ6IG51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9iYWNrTGVmdFdoZWVsU2tpZDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2JhY2tSaWdodFdoZWVsU2tpZDogbnVtYmVyID0gLTE7XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fdmVsb2NpdHlPZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2xpbmVhclZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9sYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX3Bvc2l0aW9uQ2VudGVyOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zY2FsZWRWZWxvY2l0eTogbnVtYmVyID0gMDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlck9mTWFzcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjZW50ZXJPZk1hc3NcIiwgdGhpcy5jZW50ZXJPZk1hc3MpO1xuICAgICAgICAgICAgdGhpcy5idXJub3V0V2hlZWxQaXRjaCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidXJub3V0V2hlZWxQaXRjaFwiLCB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoKTtcbiAgICAgICAgICAgIHRoaXMubGlua1RyYWNrTWFuYWdlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsaW5rVHJhY2tNYW5hZ2VyXCIsIHRoaXMubGlua1RyYWNrTWFuYWdlcik7XG4gICAgICAgICAgICB0aGlzLnBsYXlWZWhpY2xlU291bmRzID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXlWZWhpY2xlU291bmRzXCIsIHRoaXMucGxheVZlaGljbGVTb3VuZHMpO1xuICAgICAgICAgICAgdGhpcy53aGVlbERyYXdWZWxvY2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3aGVlbERyYXdWZWxvY2l0eVwiLCB0aGlzLndoZWVsRHJhd1ZlbG9jaXR5KTtcbiAgICAgICAgICAgIHRoaXMuc2tpZFRocmVhc2hvbGQgPSB0aGlzLmdldFByb3BlcnR5KFwic2tpZFRocmVhc2hvbGRcIiwgdGhpcy5za2lkVGhyZWFzaG9sZCk7XG4gICAgICAgICAgICB0aGlzLnNtb2tlSW50ZW5zaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlSW50ZW5zaXR5XCIsIHRoaXMuc21va2VJbnRlbnNpdHkpO1xuICAgICAgICAgICAgdGhpcy5zbW9rZU9wYWNpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwic21va2VPcGFjaXR5XCIsIHRoaXMuc21va2VPcGFjaXR5KTtcbiAgICAgICAgICAgIHRoaXMuc21va2VEb251dHMgPSB0aGlzLmdldFByb3BlcnR5KFwic21va2VEb251dHNcIiwgdGhpcy5zbW9rZURvbnV0cyk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMgPSB0aGlzLmdldFByb3BlcnR5KFwic3RlZXJpbmdXaGVlbEF4aXNcIiwgdGhpcy5zdGVlcmluZ1doZWVsQXhpcyk7XG4gICAgICAgICAgICB0aGlzLm1heFN0ZWVyaW5nQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4U3RlZXJpbmdBbmdsZVwiLCB0aGlzLm1heFN0ZWVyaW5nQW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5tYXhTdGVlcmluZ1NwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFN0ZWVyaW5nU3BlZWRcIiwgdGhpcy5tYXhTdGVlcmluZ1NwZWVkKTtcblxuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyb250TGVmdFdoZWVsTWVzaFwiLCB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcm9udFJpZ2h0V2hlZWxNZXNoXCIsIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwicmVhckxlZnRXaGVlbE1lc2hcIiwgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlYXJSaWdodFdoZWVsTWVzaFwiLCB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMpO1xuXG4gICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiYnJha2VMaWdodHNNZXNoXCIsIHRoaXMuYnJha2VMaWdodHNUcmFucyk7XG4gICAgICAgICAgICB0aGlzLnJldmVyc2VMaWdodHNUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZXZlcnNlTGlnaHRzTWVzaFwiLCB0aGlzLnJldmVyc2VMaWdodHNUcmFucyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNtb2tlVGV4dHVyZUluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUZXh0dXJlID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlVGV4dHVyZVwiKTtcbiAgICAgICAgICAgIGlmIChzbW9rZVRleHR1cmVJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNtb2tlVGV4dHVyZSA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VUZXh0dXJlKHNtb2tlVGV4dHVyZUluZm8sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5saW5rVHJhY2tNYW5hZ2VyID09PSB0cnVlKSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuUmVnaXN0ZXJWZWhpY2xlKHRoaXMudHJhbnNmb3JtKTtcblxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0b3IgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRvciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uTm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5nZXRDaGlsZFdpdGhTY3JpcHQoXCJCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbk5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmltYXRvciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudChhbmltYXRpb25Ob2RlLCBcIkJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGxvY2F0ZSBhbmltYXRvciBub2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbmdpbmVBdWRpb1NvdXJjZSA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlID09IG51bGwpIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk5vIGVuZ2luZSBhdWRpbyBzb3VyY2UgbWFuYWdlciBmb3VuZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0ZWVyaW5nV2hlZWxOb2RlOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0ZWVyaW5nV2hlZWxIdWJcIik7XG4gICAgICAgICAgICBpZiAoc3RlZXJpbmdXaGVlbE5vZGUgIT0gbnVsbCAmJiBzdGVlcmluZ1doZWVsTm9kZS5uYW1lICE9IG51bGwgJiYgc3RlZXJpbmdXaGVlbE5vZGUubmFtZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbEh1YiA9IHRoaXMuZ2V0Q2hpbGROb2RlKHN0ZWVyaW5nV2hlZWxOb2RlLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKSBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJyYWtlTGlnaHRzbE5hbWU6IHN0cmluZyA9ICh0aGlzLmJyYWtlTGlnaHRzVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmJyYWtlTGlnaHRzVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuYnJha2VMaWdodHNUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuYnJha2VMaWdodHNUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHJldmVyc2VMaWdodHNsTmFtZTogc3RyaW5nID0gKHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zICE9IG51bGwgJiYgdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zLm5hbWUgIT09IFwiXCIpID8gdGhpcy5yZXZlcnNlTGlnaHRzVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBmcm9udExlZnRXaGVlbE5hbWU6IHN0cmluZyA9ICh0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGZyb250UmlnaHRXaGVlbE5hbWU6IHN0cmluZyA9ICh0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zICE9IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBiYWNrTGVmdFdoZWVsTmFtZTogc3RyaW5nID0gKHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zICE9IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zLm5hbWUgIT09IFwiXCIpID8gdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMubmFtZSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBiYWNrUmlnaHRXaGVlbE5hbWU6IHN0cmluZyA9ICh0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChicmFrZUxpZ2h0c2xOYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJyYWtlTGlnaHRzbE5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5icmFrZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzTWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmV2ZXJzZUxpZ2h0c2xOYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VMaWdodHNNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUocmV2ZXJzZUxpZ2h0c2xOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoZnJvbnRMZWZ0V2hlZWxOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRXaGVlbE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICg8YW55PnRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoKS5zcGlubmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoLCBcIldoZWVsXCIsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uTWVzaChcIkVtaXR0ZXJfRkxcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbEVtaXR0ZXIucGFyZW50ID0gKDxhbnk+dGhpcy5mcm9udExlZnRXaGVlbE1lc2gpLnNwaW5uZXIgfHwgdGhpcy5mcm9udExlZnRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbEVtaXR0ZXIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9GTFwiLCB0aGlzLmZyb250TGVmdFdoZWVsRW1pdHRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbE1lc2ggPSB0aGlzLmdldENoaWxkTm9kZShmcm9udFJpZ2h0V2hlZWxOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAoPGFueT50aGlzLmZyb250UmlnaHRXaGVlbE1lc2gpLnNwaW5uZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRDaGlsZFRyYW5zZm9ybU5vZGUodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoLCBcIldoZWVsXCIsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsRW1pdHRlciA9IG5ldyBCQUJZTE9OLk1lc2goXCJFbWl0dGVyX0ZSXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsRW1pdHRlci5wYXJlbnQgPSAoPGFueT50aGlzLmZyb250UmlnaHRXaGVlbE1lc2gpLnNwaW5uZXIgfHwgdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsRW1pdHRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9GUlwiLCB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJhY2tMZWZ0V2hlZWxOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgKDxhbnk+dGhpcy5iYWNrTGVmdFdoZWVsTWVzaCkuc3Bpbm5lciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZENoaWxkVHJhbnNmb3JtTm9kZSh0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoLCBcIldoZWVsXCIsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIgPSBuZXcgQkFCWUxPTi5NZXNoKFwiRW1pdHRlcl9STFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxFbWl0dGVyLnBhcmVudCA9ICg8YW55PnRoaXMuYmFja0xlZnRXaGVlbE1lc2gpLnNwaW5uZXIgfHwgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxFbWl0dGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9STFwiLCB0aGlzLmJhY2tMZWZ0V2hlZWxFbWl0dGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoYmFja1JpZ2h0V2hlZWxOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICg8YW55PnRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoKS5zcGlubmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoLCBcIldoZWVsXCIsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uTWVzaChcIkVtaXR0ZXJfUlJcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbEVtaXR0ZXIucGFyZW50ID0gKDxhbnk+dGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gpLnNwaW5uZXIgfHwgdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbEVtaXR0ZXIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9SUlwiLCB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gU2V0dXAgU2tpZCBBdWRpbyBTb3VyY2VzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgXCJCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgXCJCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoICE9IG51bGwpIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmZyb250TGVmdFdoZWVsTWVzaCwgXCJCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwpIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk5vIHNraWQgYXVkaW8gc291cmNlIG1hbmFnZXIgZm91bmQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3Bvc2l0aW9uQ2VudGVyLnNldCgwLCAwLCAtdGhpcy5jZW50ZXJPZk1hc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5IYXNOZXR3b3JrRW50aXR5KHRoaXMudHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFBpdGNoID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMCk7ICAgICAgICAvLyBQaXRjaFxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEJyYWtlID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMSk7ICAgICAgICAvLyBCcmFrZVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJldmVyc2UgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAyKTsgICAgICAvLyBSZXZlcnNlXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0QnVybm91dCA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDMpOyAgICAgIC8vIEJ1cm5vdXRcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTS0lEX0ZMID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNCk7ICAgICAgLy8gU0tJRF9GTFxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNLSURfRlIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA1KTsgICAgICAvLyBTS0lEX0ZSXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U0tJRF9STCA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDYpOyAgICAgIC8vIFNLSURfUkxcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTS0lEX1JSID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNyk7ICAgICAgLy8gU0tJRF9SUlxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNQSU5fRkwgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA4KTsgICAgICAvLyBTUElOX0ZMXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U1BJTl9GUiA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDkpOyAgICAgIC8vIFNQSU5fRlJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTUElOX1JMID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTApOyAgICAgLy8gU1BJTl9STFxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNQSU5fUlIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMSk7ICAgICAvLyBTUElOX1JSXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U3RlZXJpbmcgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMik7ICAgIC8vIFN0ZWVyaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlaGljbGVQcm9wZXJ0aWVzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIERlc3Ryb3kgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUHJpdmF0ZSBXb3JrZXIgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVWZWhpY2xlUHJvcGVydGllcygpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLCB0aGlzLm1fcG9zaXRpb25DZW50ZXIpOyAvLyBOb3RlOiBUaGlzIENvcnJlY3QgQ2VudGVyIE9mIE1hc3MgT2Zmc2V0XG4gICAgICAgICAgICB0aGlzLm1fbGluZWFyVmVsb2NpdHkgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnN1YnRyYWN0KHRoaXMubV9sYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX3NjYWxlZFZlbG9jaXR5ID0gKHRoaXMubV9saW5lYXJWZWxvY2l0eS5sZW5ndGgoKSAvIHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCkpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1fc2NhbGVkVmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LmNvcHlGcm9tKHRoaXMubV9saW5lYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNjYWxlSW5QbGFjZSh0aGlzLndoZWVsRHJhd1ZlbG9jaXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubV9sYXN0UG9zaXRpb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0uYWJzb2x1dGVQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLmNhc3RXaGVlbENvbnRhY3RSYXlzKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEVuZ2luZSBQaXRjaGluZ1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlWZWhpY2xlU291bmRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5naW5lU291bmRDbGlwOiBCQUJZTE9OLlNvdW5kID0gdGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UuZ2V0U291bmRDbGlwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmdpbmVTb3VuZENsaXAgIT0gbnVsbCkgZW5naW5lU291bmRDbGlwLnNldFBsYXliYWNrUmF0ZSh0aGlzLmxhc3RQaXRjaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBTUElOX0ZMX1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gKDxhbnk+dGhpcy5mcm9udExlZnRXaGVlbE1lc2gpLnNwaW5uZXI7XG4gICAgICAgICAgICBjb25zdCBTUElOX0ZSX1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gKDxhbnk+dGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoKS5zcGlubmVyO1xuICAgICAgICAgICAgY29uc3QgU1BJTl9STF9UcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9ICg8YW55PnRoaXMuYmFja0xlZnRXaGVlbE1lc2gpLnNwaW5uZXI7XG4gICAgICAgICAgICBjb25zdCBTUElOX1JSX1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gKDxhbnk+dGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gpLnNwaW5uZXI7XG5cbiAgICAgICAgICAgIGlmIChTUElOX0ZMX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fRkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgU1BJTl9GTF9Sb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh0aGlzLmxhc3RTUElOX0ZMLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZihTUElOX0ZMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIFNQSU5fRkxfUm90YXRpb24sIDAuNSwgU1BJTl9GTF9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChTUElOX0ZSX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fRlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgU1BJTl9GUl9Sb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh0aGlzLmxhc3RTUElOX0ZSLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZihTUElOX0ZSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIFNQSU5fRlJfUm90YXRpb24sIDAuNSwgU1BJTl9GUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChTUElOX1JMX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fUkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgU1BJTl9STF9Sb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh0aGlzLmxhc3RTUElOX1JMLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZihTUElOX1JMX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIFNQSU5fUkxfUm90YXRpb24sIDAuNSwgU1BJTl9STF9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChTUElOX1JSX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fUlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgU1BJTl9SUl9Sb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh0aGlzLmxhc3RTUElOX1JSLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZihTUElOX1JSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIFNQSU5fUlJfUm90YXRpb24sIDAuNSwgU1BJTl9SUl9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgU21va2UgSW5zdGVuc2l0eVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuc21va2VEb251dHMgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLnNtb2tlRG9udXRzLCAxLCAxMCk7XG4gICAgICAgICAgICB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yID0gdGhpcy5zbW9rZUludGVuc2l0eTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RCdXJub3V0ID4gMCkgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqPSB0aGlzLnNtb2tlRG9udXRzO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBGcm9udCBMZWZ0IFdoZWVsXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFNLSURfRkwgPiAwICYmIHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTY2FsZUZMOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5Ob3JtYWxpemUodGhpcy5sYXN0U0tJRF9GTCwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWxTa2lkID0gU2tpZE1hcmtNYW5hZ2VyLkFkZFNraWRNYXJrU2VnbWVudCh0aGlzLmZyb250TGVmdENvbnRhY3RQb2ludCwgdGhpcy5mcm9udExlZnRDb250YWN0Tm9ybWFsLCBza2lkU2NhbGVGTCwgdGhpcy5tX2Zyb250TGVmdFdoZWVsU2tpZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUuaXNTdGFydGVkKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUuc3RhcnQoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtb2tlX0ZMOiBudW1iZXIgPSB0aGlzLmxhc3RTS0lEX0ZMICogdGhpcy5sYXN0U0tJRF9GTDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqIHNtb2tlX0ZMO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUubWluU2l6ZSA9IDAuMiAqIHNtb2tlX0ZMICsgMC4yO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUubWF4U2l6ZSA9IDEuNSAqIHNtb2tlX0ZMICsgMS4yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB0aGlzLmZyb250TGVmdFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbFNraWQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRnJvbnQgUmlnaHQgV2hlZWxcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0U0tJRF9GUiA+IDAgJiYgdGhpcy5mcm9udFJpZ2h0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTY2FsZUZSOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5Ob3JtYWxpemUodGhpcy5sYXN0U0tJRF9GUiwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQodGhpcy5mcm9udFJpZ2h0Q29udGFjdFBvaW50LCB0aGlzLmZyb250UmlnaHRDb250YWN0Tm9ybWFsLCBza2lkU2NhbGVGUiwgdGhpcy5tX2Zyb250UmlnaHRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuaXNTdGFydGVkKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLnN0YXJ0KClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9rZV9GUjogbnVtYmVyID0gdGhpcy5sYXN0U0tJRF9GUiAqIHRoaXMubGFzdFNLSURfRlI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yICogc21va2VfRlI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUubWluU2l6ZSA9IDAuMiAqIHNtb2tlX0ZSICsgMC4yO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9GUiArIDEuMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlBJVENIX0ZMID0gdGhpcy5sYXN0U0tJRF9GTDtcbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRlIgPSB0aGlzLmxhc3RTS0lEX0ZSO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdEJ1cm5vdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9GTCAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfRlIgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRkwgKj0gMC43NTsgLy8gNzUlIFNraWQgRm9yIEZyb250IFdoZWVsc1xuICAgICAgICAgICAgdGhpcy5QSVRDSF9GUiAqPSAwLjc1OyAvLyA3NSUgU2tpZCBGb3IgRnJvbnQgV2hlZWxzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFJlYXIgTGVmdCBXaGVlbFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTS0lEX1JMID4gMCAmJiB0aGlzLnJlYXJMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTY2FsZVJMOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5Ob3JtYWxpemUodGhpcy5sYXN0U0tJRF9STCwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbFNraWQgPSBTa2lkTWFya01hbmFnZXIuQWRkU2tpZE1hcmtTZWdtZW50KHRoaXMucmVhckxlZnRDb250YWN0UG9pbnQsIHRoaXMucmVhckxlZnRDb250YWN0Tm9ybWFsLCBza2lkU2NhbGVSTCwgdGhpcy5tX2JhY2tMZWZ0V2hlZWxTa2lkKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUuaXNTdGFydGVkKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5zdGFydCgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfUkw6IG51bWJlciA9IHRoaXMubGFzdFNLSURfUkwgKiB0aGlzLmxhc3RTS0lEX1JMO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9STDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUubWluU2l6ZSA9IDAuMiAqIHNtb2tlX1JMICsgMC4yO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5tYXhTaXplID0gMS41ICogc21va2VfUkwgKyAxLjI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkgdGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsU2tpZCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBSZWFyIFJpZ2h0IFdoZWVsXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFNLSURfUlIgPiAwICYmIHRoaXMucmVhclJpZ2h0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTY2FsZVJSOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5Ob3JtYWxpemUodGhpcy5sYXN0U0tJRF9SUiwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWxTa2lkID0gU2tpZE1hcmtNYW5hZ2VyLkFkZFNraWRNYXJrU2VnbWVudCh0aGlzLnJlYXJSaWdodENvbnRhY3RQb2ludCwgdGhpcy5yZWFyUmlnaHRDb250YWN0Tm9ybWFsLCBza2lkU2NhbGVSUiwgdGhpcy5tX2JhY2tSaWdodFdoZWVsU2tpZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuaXNTdGFydGVkKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuc3RhcnQoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtb2tlX1JSOiBudW1iZXIgPSB0aGlzLmxhc3RTS0lEX1JSICogdGhpcy5sYXN0U0tJRF9SUjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqIHNtb2tlX1JSO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUubWluU2l6ZSA9IDAuMiAqIHNtb2tlX1JSICsgMC4yO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUubWF4U2l6ZSA9IDEuNSAqIHNtb2tlX1JSICsgMS4yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbFNraWQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuUElUQ0hfUkwgPSB0aGlzLmxhc3RTS0lEX1JMO1xuICAgICAgICAgICAgdGhpcy5QSVRDSF9SUiA9IHRoaXMubGFzdFNLSURfUlI7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0QnVybm91dCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLlBJVENIX1JMICo9IHRoaXMuYnVybm91dFdoZWVsUGl0Y2g7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9SUiAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBQbGF5IFNraWQgQXVkaW8gVHJhY2tcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5QSVRDSF9GTCA+IHRoaXMuV0hFRUxfU0tJRF9QSVRDSCkgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gdGhpcy5QSVRDSF9GTDtcbiAgICAgICAgICAgIGlmICh0aGlzLlBJVENIX0ZSID4gdGhpcy5XSEVFTF9TS0lEX1BJVENIKSB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSB0aGlzLlBJVENIX0ZSO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfUkwgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfUkw7XG4gICAgICAgICAgICBpZiAodGhpcy5QSVRDSF9SUiA+IHRoaXMuV0hFRUxfU0tJRF9QSVRDSCkgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gdGhpcy5QSVRDSF9SUjtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlWZWhpY2xlU291bmRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTb3VuZENsaXA6IEJBQllMT04uU291bmQgPSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UuZ2V0U291bmRDbGlwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChza2lkU291bmRDbGlwICE9IG51bGwpIHNraWRTb3VuZENsaXAuc2V0UGxheWJhY2tSYXRlKHRoaXMuV0hFRUxfU0tJRF9QSVRDSCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWZWhpY2xlIFN0ZWVyaW5nIFdoZWVsIFN5bmNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RlZXJpbmdXaGVlbEh1YiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RlZXJpbmdXaGVlbEh1Yi5yb3RhdGlvblF1YXRlcm5pb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb25RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlclZlY3Rvcih0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkZWdyZWVzU3RlZXJBbmdsZTogbnVtYmVyID0gKHRoaXMubGFzdFN0ZWVyaW5nICogdGhpcy5tYXhTdGVlcmluZ0FuZ2xlKTtcbiAgICAgICAgICAgICAgICBjb25zdCByYWRpYW5zU3RlZXJBbmdsZTogbnVtYmVyID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnMoZGVncmVlc1N0ZWVyQW5nbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhheGlzOiBudW1iZXIgPSAodGhpcy5zdGVlcmluZ1doZWVsQXhpcyA9PT0gMCkgPyByYWRpYW5zU3RlZXJBbmdsZSA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgeWF4aXM6IG51bWJlciA9ICh0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID09PSAxKSA/IHJhZGlhbnNTdGVlckFuZ2xlIDogMDtcbiAgICAgICAgICAgICAgICBjb25zdCB6YXhpczogbnVtYmVyID0gKHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMgPT09IDIpID8gcmFkaWFuc1N0ZWVyQW5nbGUgOiAwO1xuICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZih4YXhpcywgeWF4aXMsIHpheGlzLCB0aGlzLnN0ZWVyaW5nV2hlZWxIdWIucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRvciAhPSBudWxsKSB0aGlzLl9hbmltYXRvci5zZXRGbG9hdChcIlR1cm5BbmdsZVwiLCB0aGlzLmxhc3RTdGVlcmluZyk7XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFZlaGljbGUgQnJha2luZyBMaWdodHMgQ2hlY2tcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLmJyYWtlTGlnaHRzTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5icmFrZUxpZ2h0c01lc2guaXNWaXNpYmxlID0gKHRoaXMubGFzdEJyYWtlID4gMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFZlaGljbGUgUmV2ZXJzZSBMaWdodHMgQ2hlY2tcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9ICh0aGlzLmxhc3RSZXZlcnNlID4gMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFJlc2V0IFNraWQgUHJvcGVydGllc1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFNLSURfRkwgPT09IDAgJiYgdGhpcy5sYXN0U0tJRF9GTCA9PT0gMCAmJiB0aGlzLmxhc3RTS0lEX0ZMID09PSAwICYmIHRoaXMubGFzdFNLSURfRkwgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNtb2tlSW50ZW5zaXR5RmFjdG9yID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY2FzdFdoZWVsQ29udGFjdFJheXMoKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgcmF5Y2FzdDogQkFCWUxPTi5Ub29sa2l0LlJheWNhc3RIaXRSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZyA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3RUYWcgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFBvaW50LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3ROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3ROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBGcm9udCBMZWZ0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gRnJvbnQgTGVmdCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRDb250YWN0VGFnID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRnJvbnQgTGVmdCBEcmF3IERlYnVnIExpbmVzXG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SZW1vdGVDYXJDb250cm9sbGVyLlNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5mcm9udExlZnRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuRnJvbnRMZWZ0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gRnJvbnQgUmlnaHQgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHRoaXMuZG93bkRpc3RhbmNlKSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgIC8vIEZyb250IFJpZ2h0IFBoeXNpY3MgUmF5Y2FzdFxuICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24sIHRoaXMuZG93bkRpc3RhbmNlKTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRnJvbnQgUmlnaHQgRHJhdyBEZWJ1ZyBMaW5lc1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuUmVtb3RlQ2FyQ29udHJvbGxlci5TaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmZyb250UmlnaHRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuRnJvbnRSaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFJlYXIgTGVmdCBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLmRvd25EaXN0YW5jZSkpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAvLyBSZWFyIExlZnQgUGh5c2ljcyBSYXljYXN0XG4gICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbiwgdGhpcy5kb3duRGlzdGFuY2UpO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RUYWcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVhciBMZWZ0IERyYXcgRGVidWcgTGluZXNcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlJlbW90ZUNhckNvbnRyb2xsZXIuU2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhckxlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMucmVhckxlZnRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmVhckxlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBSZWFyIFJpZ2h0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2gsIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5kb3duRGlzdGFuY2UpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLm1fdmVsb2NpdHlPZmZzZXQpO1xuICAgICAgICAgICAgLy8gUmVhciBSaWdodCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRDb250YWN0VGFnID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVhciBSaWdodCBEcmF3IERlYnVnIExpbmVzXG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5SZW1vdGVDYXJDb250cm9sbGVyLlNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmVhclJpZ2h0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyUmlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0obmFtZTogc3RyaW5nLCBlbWl0dGVyOiBCQUJZTE9OLkFic3RyYWN0TWVzaCk6IEJBQllMT04uUGFydGljbGVTeXN0ZW0ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEJBQllMT04uUGFydGljbGVTeXN0ZW0obmFtZSwgMTAwMDAsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgcmVzdWx0LmJsZW5kTW9kZSA9IEJBQllMT04uUGFydGljbGVTeXN0ZW0uQkxFTkRNT0RFX1NUQU5EQVJEO1xuICAgICAgICAgICAgcmVzdWx0LnBhcnRpY2xlVGV4dHVyZSA9IHRoaXMuc21va2VUZXh0dXJlXG4gICAgICAgICAgICByZXN1bHQuZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgICAgICAgICByZXN1bHQuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgcmVzdWx0LnVwZGF0ZVNwZWVkID0gMC4wMTtcblxuICAgICAgICAgICAgLy8gY2hhbmdlIHNpemUgYW5kIHNwZWVkXG4gICAgICAgICAgICByZXN1bHQubWluU2l6ZSA9IDAuMjtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhTaXplID0gMS4zO1xuICAgICAgICAgICAgcmVzdWx0Lm1pbkFuZ3VsYXJTcGVlZCA9IC0xLjU7XG4gICAgICAgICAgICByZXN1bHQubWF4QW5ndWxhclNwZWVkID0gMS41O1xuXG4gICAgICAgICAgICAvLyBjaGFuZ2VkIGxpZmV0aW1lIHRvIGNvbnRyb2wgc2hhcGUgb2YgdGhlIGNsb3VkIGluIGNvbmp1bmN0aW9uIHdpdGggdmVsb2NpdHkgZ3JhZGllbnRcbiAgICAgICAgICAgIHJlc3VsdC5taW5MaWZlVGltZSA9IDMuMDtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhMaWZlVGltZSA9IDUuMDtcblxuICAgICAgICAgICAgLy8gYWRkaW5nIHZlbG9jaXR5IG92ZXIgdGltZSB0byBwcmV2ZW50IGxhcmdlIGJsb29tIG9mIHBhcnRpY2xlcyBieSBsYXVuY2hpbmcgdGhlbSBmYXN0IGFuZCB0aGVuIHNsb3dpbmcgdGhlbSBkb3duIEdQVSBwYXJ0aWNsZXMgZG9uJ3QgdGFrZSBhIGdyYWRpZW50IG9uIHZlbG9jaXR5LCBidXQgdGhlIHJlZHVjdGlvbiBpbiB2ZWxvY2l0eSBvdmVyIHRpbWUgaXMgd29ydGggdGhlIHRyYWRlIG9mZiBmb3IgbGVzcyByYW5kb21pemF0aW9uXG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgwLCAxKTtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRWZWxvY2l0eUdyYWRpZW50KDAuMSwgMC43KTtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRWZWxvY2l0eUdyYWRpZW50KDAuNywgMC4yKTtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRWZWxvY2l0eUdyYWRpZW50KDEuMCwgMC4wNSk7XG5cbiAgICAgICAgICAgIC8vIHJlZHVjZWQgdGhlIGVtaXQgcmF0ZSB0byByZWR1Y2UgYmxvb20gb2YgcGFydGljbGVzIGluIHRoZSBjZW50ZXIgb2YgbWFzc1xuICAgICAgICAgICAgcmVzdWx0LmdyYXZpdHkgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0wLjEsIDApO1xuICAgICAgICAgICAgcmVzdWx0Lm1pbkVtaXRCb3ggPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0wLjI1LCAwKTtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhFbWl0Qm94ID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMC4yNSwgMCk7XG4gICAgICAgICAgICByZXN1bHQuZGlyZWN0aW9uMSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoLTEsIC0xLCAtMSk7XG4gICAgICAgICAgICByZXN1bHQuZGlyZWN0aW9uMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMSwgMSk7XG5cbiAgICAgICAgICAgIC8vIFRoZSBjb2xvcjEsIGNvbG9yMiwgY29sb3JEZWFkIHBhdHRlcm4gaXMgb3ZlcnJpZGRlbiBieSBjb2xvciBncmFkaWVudCBzbyBpcyB1bm5lY2Vzc2FyeVxuICAgICAgICAgICAgcmVzdWx0LmNvbG9yMSA9IG5ldyBCQUJZTE9OLkNvbG9yNCgwLjk1LCAwLjk1LCAwLjk1LCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICByZXN1bHQuY29sb3IyID0gbmV3IEJBQllMT04uQ29sb3I0KDAuODUsIDAuODUsIDAuODUsIHRoaXMuc21va2VPcGFjaXR5KTtcbiAgICAgICAgICAgIHJlc3VsdC5jb2xvckRlYWQgPSBuZXcgQkFCWUxPTi5Db2xvcjQoMC45LCAwLjksIDAuOSwgKHRoaXMuc21va2VPcGFjaXR5ICogMC41KSk7XG5cbiAgICAgICAgICAgIC8vIENoYW5nZWQgdGhlIGNvbG9yIGdyYWRpZW50IHRvIGFkZCBhIHNlY29uZCB2YWx1ZSBmb3IgcmFuZG9taXphdGlvbiBhbmQgcmFtcGVkIHRoZSBjb2xvciBkb3duIGZ1cnRoZXIgdG8gY3JlYXRlIG1vcmUgdGV4dHVyZSB3aXRoIGFscGhhIGJsZW5kaW5nXG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDAuMCwgbmV3IEJBQllMT04uQ29sb3I0KDEsIDEsIDEsIDAuMCksIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjcsIDAuNywgMC43LCAwLjApKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMC4yLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC43LCAwLjcsIDAuNywgMC4yKSwgbmV3IEJBQllMT04uQ29sb3I0KDAuNiwgMC42LCAwLjYsIDAuMikpO1xuICAgICAgICAgICAgLy9yZXN1bHQuYWRkQ29sb3JHcmFkaWVudCgwLjYsIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjYsIDAuNiwgMC42LCAwLjEpLG5ldyBCQUJZTE9OLkNvbG9yNCgwLjQsIDAuNCwgMC40LCAwLjEpKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMS4wLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC4zLCAwLjMsIDAuMywgMC4wKSxuZXcgQkFCWUxPTi5Db2xvcjQoMC4xLCAwLjEsIDAuMSwgMC4wKSk7ICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gc2tpZG1hcmsgc2VjdGlvbiBjbGFzcyAoSGF2b2sgUGh5c2ljcyBFbmdpbmUpXG4gICAgICogQGNsYXNzIFNraWRNYXJrU2VjdGlvblxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBTa2lkTWFya1NlY3Rpb24ge1xuICAgICAgICBwdWJsaWMgUG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwdWJsaWMgTm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwdWJsaWMgVGFuZ2VudDogQkFCWUxPTi5WZWN0b3I0ID0gQkFCWUxPTi5WZWN0b3I0Llplcm8oKTtcbiAgICAgICAgcHVibGljIFBvc2w6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHB1YmxpYyBQb3NyOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwdWJsaWMgSW50ZW5zaXR5OiBudW1iZXIgPSAwLjA7XG4gICAgICAgIHB1YmxpYyBMYXN0SW5kZXg6IG51bWJlciA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAgKiBAY2xhc3MgU2tpZE1hcmtNYW5hZ2VyXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNraWRNYXJrTWFuYWdlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBNQVhfTUFSS1M6IG51bWJlciA9IDEwMjQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF4IG51bWJlciBvZiBtYXJrcyB0b3RhbCBmb3IgZXZlcnlvbmUgdG9nZXRoZXJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgR1JPVU5EX09GRlNFVDogbnVtYmVyID0gMC4wMTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc3RhbmNlIGFib3ZlIHN1cmZhY2UgaW4gbWV0cmVzXG4gICAgICAgIHByaXZhdGUgc3RhdGljIEdQVV9UUklBTkdMRVM6IGJvb2xlYW4gPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHUFUgcXVhZCB0cmlhbmdsZSBpbmRpY2VzIG9ubHlcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTUFSS19DT0xPUjogQkFCWUxPTi5Db2xvcjMgPSBCQUJZTE9OLkNvbG9yMy5CbGFjaygpOyAgICAgIC8vIFNraWRNYXJrIENvbG9yXG4gICAgICAgIHByaXZhdGUgc3RhdGljIE1BUktfV0lEVEg6IG51bWJlciA9IDAuMzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaWR0aCBvZiB0aGUgU2tpZE1hcmtzLiBTaG91bGQgbWF0Y2ggdGhlIHdpZHRoIG9mIHRoZSB3aGVlbHNcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVEVYX0lOVEVOU0lUWTogbnVtYmVyID0gMS4wOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiB0aGUgc2tpZG1hcmsgdGV4dHVyZSBpbnRlbnNpdHkgY29lZmZlY2llbnRcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTUlOX0RJU1RBTkNFOiBudW1iZXIgPSAwLjE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc3RhbmNlIGJldHdlZW4gc2tpZCB0ZXh0dXJlIHNlY3Rpb25zIGluIG1ldHJlcy4gQmlnZ2VyID0gYmV0dGVyIHBlcmZvcm1hbmNlLCBsZXNzIHNtb290aFxuICAgICAgICBwcml2YXRlIHN0YXRpYyBNSU5fU1FSX0RJU1RBTkNFID0gKFNraWRNYXJrTWFuYWdlci5NSU5fRElTVEFOQ0UgKiBTa2lkTWFya01hbmFnZXIuTUlOX0RJU1RBTkNFKTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVEVYVFVSRV9NQVJLUzogYW55ID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkQnVmZmVyUG9zaXRpb25zOiBGbG9hdDMyQXJyYXkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkQnVmZmVyTm9ybWFsczogRmxvYXQzMkFycmF5ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZEJ1ZmZlclRhbmdlbnRzOiBGbG9hdDMyQXJyYXkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkQnVmZmVyQ29sb3JzOiBGbG9hdDMyQXJyYXkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkQnVmZmVyVXZzOiBGbG9hdDMyQXJyYXkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkQnVmZmVySW5kaWNlczogSW50MzJBcnJheSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNraWRNYXJrU2VjdGlvbnM6IFNraWRNYXJrU2VjdGlvbltdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZE1hcmtJbmRleDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU2tpZE1hcmtNZXNoOiBCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTa2lkTWFya1VwZGF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBUZW1wVmVjdG9yM19QT1M6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRlbXBWZWN0b3IzX0RJUjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVGVtcFZlY3RvcjNfWERJUjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVGVtcFZlY3RvcjNfU0RJUjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwdWJsaWMgY29uc3RydWN0b3IodHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwcm9wZXJ0aWVzOiBhbnkgPSB7fSkge1xuICAgICAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBzY2VuZSwgcHJvcGVydGllcyk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuTUFYX01BUktTID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFNlY3Rpb25zXCIsIFNraWRNYXJrTWFuYWdlci5NQVhfTUFSS1MpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLk1BUktfQ09MT1IgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlQ29sb3IzKHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXh0dXJlQ29sb3JcIiksIFNraWRNYXJrTWFuYWdlci5NQVJLX0NPTE9SKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5NQVJLX1dJRFRIID0gdGhpcy5nZXRQcm9wZXJ0eShcInRleHR1cmVXaWR0aFwiLCBTa2lkTWFya01hbmFnZXIuTUFSS19XSURUSCk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuR1JPVU5EX09GRlNFVCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJncm91bmRPZmZzZXRcIiwgU2tpZE1hcmtNYW5hZ2VyLkdST1VORF9PRkZTRVQpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLkdQVV9UUklBTkdMRVMgPSB0aGlzLmdldFByb3BlcnR5KFwiZ3B1UXVhZEluZGljZXNcIiwgU2tpZE1hcmtNYW5hZ2VyLkdQVV9UUklBTkdMRVMpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlRFWFRVUkVfTUFSS1MgPSB0aGlzLmdldFByb3BlcnR5KFwidGV4dHVyZU1hcmtzXCIsIFNraWRNYXJrTWFuYWdlci5URVhUVVJFX01BUktTKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5URVhfSU5URU5TSVRZID0gdGhpcy5nZXRQcm9wZXJ0eShcInRleHR1cmVJbnRlbnNpdHlcIiwgU2tpZE1hcmtNYW5hZ2VyLlRFWF9JTlRFTlNJVFkpO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLk1JTl9ESVNUQU5DRSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXh0dXJlRGlzdGFuY2VcIiwgU2tpZE1hcmtNYW5hZ2VyLk1JTl9ESVNUQU5DRSk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuTUlOX1NRUl9ESVNUQU5DRSA9IChTa2lkTWFya01hbmFnZXIuTUlOX0RJU1RBTkNFICogU2tpZE1hcmtNYW5hZ2VyLk1JTl9ESVNUQU5DRSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IFNraWRNYXJrTWFuYWdlci5DcmVhdGVTa2lkTWFya01hbmFnZXIodGhpcy5zY2VuZSk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgU2tpZE1hcmtNYW5hZ2VyLlVwZGF0ZVNraWRNYXJrTWFuYWdlcigpOyB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBBZGRTa2lkTWFya1NlZ21lbnQocG9zOiBCQUJZTE9OLlZlY3RvcjMsIG5vcm1hbDogQkFCWUxPTi5WZWN0b3IzLCBpbnRlbnNpdHk6IG51bWJlciwgbGFzdEluZGV4OiBudW1iZXIpOiBCQUJZTE9OLk51bGxhYmxlPG51bWJlcj4ge1xuICAgICAgICAgICAgaWYgKFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2ggPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfUE9TLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19ESVIuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1NESVIuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChpbnRlbnNpdHkgPiAxLjApIGludGVuc2l0eSA9IDEuMDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGludGVuc2l0eSA8IDAuMCkgcmV0dXJuIC0xLjA7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKGxhc3RJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBwb3Muc3VidHJhY3RUb1JlZihTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tsYXN0SW5kZXhdLlBvcywgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1BPUyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3FyRGlzdGFuY2U6IG51bWJlciA9IFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19QT1MubGVuZ3RoU3F1YXJlZCgpO1xuICAgICAgICAgICAgICAgIGlmIChzcXJEaXN0YW5jZSA8IFNraWRNYXJrTWFuYWdlci5NSU5fU1FSX0RJU1RBTkNFKSByZXR1cm4gbGFzdEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGN1clNlY3Rpb246IFNraWRNYXJrU2VjdGlvbiA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1NlY3Rpb25zW1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4XTtcbiAgICAgICAgICAgIG5vcm1hbC5zY2FsZVRvUmVmKFNraWRNYXJrTWFuYWdlci5HUk9VTkRfT0ZGU0VULCBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfUE9TKTtcbiAgICAgICAgICAgIHBvcy5hZGRUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfUE9TLCBjdXJTZWN0aW9uLlBvcyk7XG4gICAgICAgICAgICBjdXJTZWN0aW9uLk5vcm1hbC5jb3B5RnJvbShub3JtYWwpO1xuICAgICAgICAgICAgY3VyU2VjdGlvbi5JbnRlbnNpdHkgPSAoaW50ZW5zaXR5ICogU2tpZE1hcmtNYW5hZ2VyLlRFWF9JTlRFTlNJVFkpO1xuICAgICAgICAgICAgY3VyU2VjdGlvbi5MYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKGxhc3RJbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTZWN0aW9uOiBTa2lkTWFya1NlY3Rpb24gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tsYXN0SW5kZXhdO1xuICAgICAgICAgICAgICAgIGN1clNlY3Rpb24uUG9zLnN1YnRyYWN0VG9SZWYobGFzdFNlY3Rpb24uUG9zLCBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfRElSKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuQ3Jvc3NUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfRElSLCBub3JtYWwsIFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19YRElSKTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfWERJUi5ub3JtYWxpemVUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfWERJUik7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfWERJUi5zY2FsZVRvUmVmKFNraWRNYXJrTWFuYWdlci5NQVJLX1dJRFRIICogMC41LCBTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfU0RJUilcbiAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlBvcy5hZGRUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfU0RJUiwgY3VyU2VjdGlvbi5Qb3NsKTtcbiAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlBvcy5zdWJ0cmFjdFRvUmVmKFNraWRNYXJrTWFuYWdlci5UZW1wVmVjdG9yM19TRElSLCBjdXJTZWN0aW9uLlBvc3IpO1xuICAgICAgICAgICAgICAgIGN1clNlY3Rpb24uVGFuZ2VudC5zZXQoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIueCwgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIueSwgU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1hESVIueiwgMSk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAobGFzdFNlY3Rpb24uTGFzdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJTZWN0aW9uLlBvcy5hZGRUb1JlZihTa2lkTWFya01hbmFnZXIuVGVtcFZlY3RvcjNfU0RJUiwgbGFzdFNlY3Rpb24uUG9zbCk7XG4gICAgICAgICAgICAgICAgICAgIGN1clNlY3Rpb24uUG9zLnN1YnRyYWN0VG9SZWYoU2tpZE1hcmtNYW5hZ2VyLlRlbXBWZWN0b3IzX1NESVIsIGxhc3RTZWN0aW9uLlBvc3IpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0U2VjdGlvbi5UYW5nZW50LmNvcHlGcm9tKGN1clNlY3Rpb24uVGFuZ2VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1ZlcnRleERhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1ckluZGV4OiBudW1iZXIgPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ID0gKytTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAlIFNraWRNYXJrTWFuYWdlci5NQVhfTUFSS1M7XG4gICAgICAgICAgICByZXR1cm4gY3VySW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgQ3JlYXRlU2tpZE1hcmtNYW5hZ2VyKHNjZW5lOiBCQUJZTE9OLlNjZW5lKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2tpZG1hcmtNYXRlcmlhbDogQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcIlNraWRNYXJrTWF0ZXJpYWxcIiwgc2NlbmUpO1xuICAgICAgICAgICAgICAgIHNraWRtYXJrTWF0ZXJpYWwuYmFja0ZhY2VDdWxsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2tpZG1hcmtNYXRlcmlhbC5kaXNhYmxlTGlnaHRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNraWRtYXJrTWF0ZXJpYWwuZW1pc3NpdmVDb2xvciA9IFNraWRNYXJrTWFuYWdlci5NQVJLX0NPTE9SO1xuICAgICAgICAgICAgICAgIHNraWRtYXJrTWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gU2tpZE1hcmtNYW5hZ2VyLk1BUktfQ09MT1I7XG4gICAgICAgICAgICAgICAgc2tpZG1hcmtNYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VUZXh0dXJlKFNraWRNYXJrTWFuYWdlci5URVhUVVJFX01BUktTLCBzY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNraWRtYXJrTWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBza2lkbWFya01hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmhhc0FscGhhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2tpZG1hcmtNYXRlcmlhbC51c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraWRtYXJrTWF0ZXJpYWwuZnJlZXplKCk7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaCA9IG5ldyBCQUJZTE9OLk1lc2goXCJTa2lkTWFya01lc2hcIiwgc2NlbmUpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2gubWF0ZXJpYWwgPSBza2lkbWFya01hdGVyaWFsO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2gucmVuZGVyaW5nR3JvdXBJZCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuRGVmYXVsdFJlbmRlckdyb3VwKCk7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZG9Ob3RTeW5jQm91bmRpbmdJbmZvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLnJlY2VpdmVTaGFkb3dzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLnVzZVZlcnRleENvbG9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5oYXNWZXJ0ZXhBbHBoYSA9IHRydWU7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBTa2lkTWFyayBTZWN0aW9uIFByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1NlY3Rpb25zID0gbmV3IEFycmF5PFNraWRNYXJrU2VjdGlvbj4oU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtTZWN0aW9uc1tpXSA9IG5ldyBTa2lkTWFya1NlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSYXcgTWVzaCBWZXJ0ZXggQnVmZmVyIERhdGFcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNCAqIDMpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoU2tpZE1hcmtNYW5hZ2VyLk1BWF9NQVJLUyAqIDQgKiAzKTtcbiAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzID0gbmV3IEZsb2F0MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNCAqIDQpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNCAqIDQpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzID0gbmV3IEZsb2F0MzJBcnJheShTa2lkTWFya01hbmFnZXIuTUFYX01BUktTICogNCAqIDIpO1xuICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlcyA9IG5ldyBJbnQzMkFycmF5KFNraWRNYXJrTWFuYWdlci5NQVhfTUFSS1MgKiA2KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IFJhdyBWZXJ0ZXggQnVmZmVyIERhdGEgVG8gTWVzaFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IG5ldyBCQUJZTE9OLlZlcnRleERhdGEoKTtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLnBvc2l0aW9ucyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zO1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGEubm9ybWFscyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFscztcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLnRhbmdlbnRzID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50cztcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhLmNvbG9ycyA9IFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzO1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGEudXZzID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnM7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YS5pbmRpY2VzID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzO1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGEuYXBwbHlUb01lc2goU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5mcmVlemVXb3JsZE1hdHJpeCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEFkZFNraWRNYXJrVmVydGV4RGF0YSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnI6IFNraWRNYXJrU2VjdGlvbiA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1NlY3Rpb25zW1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4XTtcbiAgICAgICAgICAgIGlmIChjdXJyLkxhc3RJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGxhc3Q6IFNraWRNYXJrU2VjdGlvbiA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1NlY3Rpb25zW2N1cnIuTGFzdEluZGV4XTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya1VwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQb3NpdGlvbiBCdWZmZXJzIERpcmVjdGx5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgbGV0IGluZGV4OiBudW1iZXIgPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAwO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbaW5kZXggKiAzXSA9IGxhc3QuUG9zbC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbKGluZGV4ICogMykgKyAxXSA9IGxhc3QuUG9zbC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbKGluZGV4ICogMykgKyAyXSA9IGxhc3QuUG9zbC56O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbaW5kZXggKiAzXSA9IGxhc3QuUG9zci54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbKGluZGV4ICogMykgKyAxXSA9IGxhc3QuUG9zci55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbKGluZGV4ICogMykgKyAyXSA9IGxhc3QuUG9zci56O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAyO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbaW5kZXggKiAzXSA9IGN1cnIuUG9zbC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbKGluZGV4ICogMykgKyAxXSA9IGN1cnIuUG9zbC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbKGluZGV4ICogMykgKyAyXSA9IGN1cnIuUG9zbC56O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAzO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbaW5kZXggKiAzXSA9IGN1cnIuUG9zci54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbKGluZGV4ICogMykgKyAxXSA9IGN1cnIuUG9zci55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJQb3NpdGlvbnNbKGluZGV4ICogMykgKyAyXSA9IGN1cnIuUG9zci56O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBOb3JtYWwgQnVmZmVycyBEaXJlY3RseVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1tpbmRleCAqIDNdID0gbGFzdC5Ob3JtYWwueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1soaW5kZXggKiAzKSArIDFdID0gbGFzdC5Ob3JtYWwueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1soaW5kZXggKiAzKSArIDJdID0gbGFzdC5Ob3JtYWwuejtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1tpbmRleCAqIDNdID0gbGFzdC5Ob3JtYWwueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1soaW5kZXggKiAzKSArIDFdID0gbGFzdC5Ob3JtYWwueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1soaW5kZXggKiAzKSArIDJdID0gbGFzdC5Ob3JtYWwuejtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMjtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1tpbmRleCAqIDNdID0gY3Vyci5Ob3JtYWwueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1soaW5kZXggKiAzKSArIDFdID0gY3Vyci5Ob3JtYWwueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1soaW5kZXggKiAzKSArIDJdID0gY3Vyci5Ob3JtYWwuejtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMztcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1tpbmRleCAqIDNdID0gY3Vyci5Ob3JtYWwueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1soaW5kZXggKiAzKSArIDFdID0gY3Vyci5Ob3JtYWwueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyTm9ybWFsc1soaW5kZXggKiAzKSArIDJdID0gY3Vyci5Ob3JtYWwuejtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgVGFuZ2VudCBCdWZmZXJzIERpcmVjdGx5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAwO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1tpbmRleCAqIDRdID0gbGFzdC5UYW5nZW50Lng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgMV0gPSBsYXN0LlRhbmdlbnQueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAyXSA9IGxhc3QuVGFuZ2VudC56O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDNdID0gbGFzdC5UYW5nZW50Lnc7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzW2luZGV4ICogNF0gPSBsYXN0LlRhbmdlbnQueDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAxXSA9IGxhc3QuVGFuZ2VudC55O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDJdID0gbGFzdC5UYW5nZW50Lno7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgM10gPSBsYXN0LlRhbmdlbnQudztcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMjtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbaW5kZXggKiA0XSA9IGN1cnIuVGFuZ2VudC54O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDFdID0gY3Vyci5UYW5nZW50Lnk7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgMl0gPSBjdXJyLlRhbmdlbnQuejtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAzXSA9IGN1cnIuVGFuZ2VudC53O1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAzO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1tpbmRleCAqIDRdID0gY3Vyci5UYW5nZW50Lng7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclRhbmdlbnRzWyhpbmRleCAqIDQpICsgMV0gPSBjdXJyLlRhbmdlbnQueTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHNbKGluZGV4ICogNCkgKyAyXSA9IGN1cnIuVGFuZ2VudC56O1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJUYW5nZW50c1soaW5kZXggKiA0KSArIDNdID0gY3Vyci5UYW5nZW50Lnc7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIENvbG9yIEJ1ZmZlcnMgRGlyZWN0bHlcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1tpbmRleCAqIDRdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAxXSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgMl0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDNdID0gbGFzdC5JbnRlbnNpdHk7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1tpbmRleCAqIDRdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAxXSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgMl0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDNdID0gbGFzdC5JbnRlbnNpdHk7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDI7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1tpbmRleCAqIDRdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAxXSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgMl0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDNdID0gY3Vyci5JbnRlbnNpdHk7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDM7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1tpbmRleCAqIDRdID0gMS4wO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJDb2xvcnNbKGluZGV4ICogNCkgKyAxXSA9IDEuMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzWyhpbmRleCAqIDQpICsgMl0gPSAxLjA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckNvbG9yc1soaW5kZXggKiA0KSArIDNdID0gY3Vyci5JbnRlbnNpdHk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIENvb3JkIEJ1ZmZlcnMgRGlyZWN0bHlcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDA7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2c1tpbmRleCAqIDJdID0gMDtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzWyhpbmRleCAqIDIpICsgMV0gPSAwO1xuICAgICAgICAgICAgaW5kZXggPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAxO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnNbaW5kZXggKiAyXSA9IDE7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2c1soaW5kZXggKiAyKSArIDFdID0gMDtcbiAgICAgICAgICAgIGluZGV4ID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMjtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzW2luZGV4ICogMl0gPSAwO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJVdnNbKGluZGV4ICogMikgKyAxXSA9IDE7XG4gICAgICAgICAgICBpbmRleCA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDM7XG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2c1tpbmRleCAqIDJdID0gMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVXZzWyhpbmRleCAqIDIpICsgMV0gPSAxO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBUcmlhbmdsZSAxIEJ1ZmZlcnMgRGlyZWN0bHkgKFFVQUQpXG4gICAgICAgICAgICAvLy4uXG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckluZGljZXNbU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA2ICsgMF0gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAwO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzW1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNiArIDJdID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDYgKyAxXSA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDI7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFRyaWFuZ2xlIDIgQnVmZmVycyBEaXJlY3RseSAoUVVBRClcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlckluZGljZXNbU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA2ICsgM10gPSBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDQgKyAyO1xuICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzW1NraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNiArIDVdID0gU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrSW5kZXggKiA0ICsgMTtcbiAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVySW5kaWNlc1tTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtJbmRleCAqIDYgKyA0XSA9IFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya0luZGV4ICogNCArIDM7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVXBkYXRlU2tpZE1hcmtNYW5hZ2VyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2ggIT0gbnVsbCAmJiBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtVcGRhdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrVXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmdlb21ldHJ5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5nZW9tZXRyeS51cGRhdGVWZXJ0aWNlc0RhdGFEaXJlY3RseShCQUJZTE9OLlZlcnRleEJ1ZmZlci5Qb3NpdGlvbktpbmQsIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyUG9zaXRpb25zLCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoQkFCWUxPTi5WZXJ0ZXhCdWZmZXIuTm9ybWFsS2luZCwgU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJOb3JtYWxzLCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoQkFCWUxPTi5WZXJ0ZXhCdWZmZXIuVGFuZ2VudEtpbmQsIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyVGFuZ2VudHMsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgU2tpZE1hcmtNYW5hZ2VyLlNraWRNYXJrTWVzaC5nZW9tZXRyeS51cGRhdGVWZXJ0aWNlc0RhdGFEaXJlY3RseShCQUJZTE9OLlZlcnRleEJ1ZmZlci5Db2xvcktpbmQsIFNraWRNYXJrTWFuYWdlci5Ta2lkQnVmZmVyQ29sb3JzLCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFNraWRNYXJrTWFuYWdlci5Ta2lkTWFya01lc2guZ2VvbWV0cnkudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoQkFCWUxPTi5WZXJ0ZXhCdWZmZXIuVVZLaW5kLCBTa2lkTWFya01hbmFnZXIuU2tpZEJ1ZmZlclV2cywgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTa2lkTWFya01hbmFnZXIuU2tpZE1hcmtNZXNoLmdlb21ldHJ5LnVwZGF0ZUluZGljZXMoU2tpZE1hcmtNYW5hZ2VyLlNraWRCdWZmZXJJbmRpY2VzLCAwLCBTa2lkTWFya01hbmFnZXIuR1BVX1RSSUFOR0xFUyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHN0YW5kYXJkIHJpZ2lkYm9keSB2ZWhpY2xlIGNvbnRyb2xsZXIgY2xhc3MgKEhhdm9rIFBoeXNpY3MgRW5naW5lKVxuICAgICAqIEBjbGFzcyBTdGFuZGFyZENhckNvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU3RhbmRhcmRDYXJDb250cm9sbGVyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9TS0lEX0ZBQ1RPUjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgc3RhdGljIERFRkFVTFRfUElUQ0hfRkFDVE9SOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9TUEVFRF9GQUNUT1I6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBERUZBVUxUX0RPTlVUX0ZBQ1RPUjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgc3RhdGljIFNpbXBsZXhOb2lzZTJEOiBTSU1QTEVYLk5vaXNlRnVuY3Rpb24yRCA9IFNJTVBMRVguY3JlYXRlTm9pc2UyRCgpO1xuXG4gICAgICAgIHB1YmxpYyBNSU5fUlBNID0gMTAwMDtcbiAgICAgICAgcHVibGljIE1BWF9SUE0gPSA2MDAwO1xuXG4gICAgICAgIHByaXZhdGUgX2FuaW1hdG9yOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9yaWdpZGJvZHk6IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZW5naW5lQXVkaW9Tb3VyY2U6IEJBQllMT04uVG9vbGtpdC5BdWRpb1NvdXJjZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NraWRBdWRpb1NvdXJjZTogQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbm9zQXVkaW9Tb3VyY2U6IEJBQllMT04uVG9vbGtpdC5BdWRpb1NvdXJjZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3NraWRFeHRyYVJvdGF0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIF9kb251dEV4dHJhUm90YXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGVlcmluZ1doZWVsSHViOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0ZWVyaW5nV2hlZWxBeGlzOiBudW1iZXIgPSAyO1xuICAgICAgICBwcml2YXRlIG1heFN0ZWVyaW5nQW5nbGU6IG51bWJlciA9IDY1LjA7XG4gICAgICAgIHByaXZhdGUgbWF4U3RlZXJpbmdTcGVlZDogbnVtYmVyID0gMTUuMDtcblxuICAgICAgICBwcml2YXRlIGdlYXJJbmRleDogbnVtYmVyID0gMDsgLy8gRmlyc3QgR2VhciBSYXRpb1xuICAgICAgICBwcml2YXRlIGRvd25TaGlmdDogbnVtYmVyID0gMTAwMDtcbiAgICAgICAgcHJpdmF0ZSBza2lkZGluZ1RpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc2hpZnRpbmdUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNoaWZ0aW5nU2lkZTogbnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBzaGlmdGluZ0JyYWtlOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHByaXZhdGUgZW5naW5lRm9yY2U6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaGFuZEJyYWtpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBsaW5lYXJEYW1waW5nOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGFuZ3VsYXJEYW1waW5nOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGZvcndhcmRTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhYnNvbHV0ZVNwZWVkOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGFtZXJpY2FuU3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZ3JhZGllbnRTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFdoZWVsUG93ZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgYmFja1doZWVsUG93ZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgd2hlZWxCcmFraW5nRm9yY2U6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZW5naW5lUGl0Y2hMZXZlbDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzbW9rZUludGVuc2l0eUZhY3RvcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByYXljYXN0VmVoaWNsZTogQkFCWUxPTi5Ub29sa2l0LlJheWNhc3RWZWhpY2xlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBicmFrZUxpZ2h0c01lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBicmFrZUxpZ2h0c1RyYW5zOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByZXZlcnNlTGlnaHRzTWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJldmVyc2VMaWdodHNUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFdoZWVsVHJhbnM6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0V2hlZWxUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxUcmFuczogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0V2hlZWxNZXNoOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbE1lc2g6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbE1lc2g6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja1JpZ2h0V2hlZWxNZXNoOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsRW1pdHRlcjogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbEVtaXR0ZXI6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrTGVmdFdoZWVsRW1pdHRlcjogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsRW1pdHRlcjogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsUGFydGljbGU6IEJBQllMT04uUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRXaGVlbFBhcnRpY2xlOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrTGVmdFdoZWVsUGFydGljbGU6IEJBQllMT04uUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsUGFydGljbGU6IEJBQllMT04uUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdFdoZWVsQ29sbGlkZXI6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodFdoZWVsQ29sbGlkZXI6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYmFja0xlZnRXaGVlbENvbGxpZGVyOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tSaWdodFdoZWVsQ29sbGlkZXI6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZW5naW5lVG9ycXVlQ3VydmU6IEJBQllMT04uQW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBwaHlzaWNzU3RlZXJBbmdsZUw6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGh5c2ljc1N0ZWVyQW5nbGVSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHZpc3VhbFN0ZWVyQW5nbGVMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHZpc3VhbFN0ZWVyQW5nbGVSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHZpc3VhbFN0ZWVyQm9vc3RMOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHZpc3VhbFN0ZWVyQm9vc3RSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGlkbGVOb2lzZURlbHRhOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGRyaXZlTm9pc2VEZWx0YTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBib29zdFNwZWVkVGltZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgYnVybm91dE1ldGVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGRvbnV0TWV0ZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgd2hlZWxSYWRpdXM6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY2x1dGNoU2xpcDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBlbmdpbmVSUE06IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGl0Y2hSUE06IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc2hpZnRSUE06IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgU0tJRF9GTDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBTS0lEX0ZSOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFNLSURfUkw6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgU0tJRF9SUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBQSVRDSF9GTDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBQSVRDSF9GUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBQSVRDSF9STDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBQSVRDSF9SUjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBGUk9OVF9MRUZUOiBudW1iZXIgPSAtMTtcbiAgICAgICAgcHJpdmF0ZSBGUk9OVF9SSUdIVDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByaXZhdGUgQkFDS19MRUZUOiBudW1iZXIgPSAtMTtcbiAgICAgICAgcHJpdmF0ZSBCQUNLX1JJR0hUOiBudW1iZXIgPSAtMTtcbiAgICAgICAgcHJpdmF0ZSBXSEVFTF9TS0lEX1BJVENIOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIFBPV0VSX0JPT1NUX1BJVENIOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIHByaXZhdGUgU1BJTl9GTF9Sb3RhdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBTUElOX0ZSX1JvdGF0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIFNQSU5fUkxfUm90YXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgU1BJTl9SUl9Sb3RhdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwdWJsaWMgaXNCcmFraW5nKCk6IGJvb2xlYW4geyByZXR1cm4gKHRoaXMuZ2V0Rm9vdEJyYWtpbmcoKSB8fCB0aGlzLmdldEhhbmRCcmFraW5nKCkpIH1cbiAgICAgICAgcHVibGljIGlzQm9vc3RpbmcoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmN1cnJlbnRCb29zdGluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0Rm9vdEJyYWtpbmcoKTogYm9vbGVhbiB7IHJldHVybiAodGhpcy5jdXJyZW50Rm9yd2FyZCA8IDAgJiYgdGhpcy5mb3J3YXJkU3BlZWQgPj0gMCk7IH1cbiAgICAgICAgcHVibGljIGdldEhhbmRCcmFraW5nKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5oYW5kQnJha2luZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0TGluZWFyVmVsb2NpdHkoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMubV9saW5lYXJWZWxvY2l0eTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudEZvcndhcmQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudEZvcndhcmQ7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRUdXJuaW5nKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmN1cnJlbnRUdXJuaW5nOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50U2tpZGRpbmcoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmN1cnJlbnRTa2lkZGluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudERvbnV0cygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuY3VycmVudERvbnV0czsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmV2ZXJzZVRocm90dGxlKCk6IGJvb2xlYW4geyByZXR1cm4gKHRoaXMuY3VycmVudEZvcndhcmQgPCAwICYmIHRoaXMuZm9yd2FyZFNwZWVkIDwgMCk7IH1cbiAgICAgICAgcHVibGljIGdldEVuZ2luZVBpdGNoTGV2ZWwoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZW5naW5lUGl0Y2hMZXZlbDsgfVxuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIGdldEZyb250TGVmdFNwaW4oKTpCQUJZTE9OLlF1YXRlcm5pb24geyByZXR1cm4gKHRoaXMubV9mcm9udExlZnRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9mcm9udExlZnRXaGVlbC5zcGlubmVyICE9IG51bGwgJiYgdGhpcy5tX2Zyb250TGVmdFdoZWVsLnNwaW5uZXIucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpID8gdGhpcy5tX2Zyb250TGVmdFdoZWVsLnNwaW5uZXIucm90YXRpb25RdWF0ZXJuaW9uIDogbnVsbDsgfVxuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIGdldEZyb250UmlnaHRTcGluKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5zcGlubmVyICE9IG51bGwgJiYgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuc3Bpbm5lci5yb3RhdGlvblF1YXRlcm5pb24gOiBudWxsOyB9XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwdWJsaWMgZ2V0QmFja0xlZnRTcGluKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLm1fYmFja0xlZnRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9iYWNrTGVmdFdoZWVsLnNwaW5uZXIgIT0gbnVsbCAmJiB0aGlzLm1fYmFja0xlZnRXaGVlbC5zcGlubmVyLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRoaXMubV9iYWNrTGVmdFdoZWVsLnNwaW5uZXIucm90YXRpb25RdWF0ZXJuaW9uIDogbnVsbDsgfVxuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIGdldEJhY2tSaWdodFNwaW4oKTpCQUJZTE9OLlF1YXRlcm5pb24geyByZXR1cm4gKHRoaXMubV9iYWNrUmlnaHRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5zcGlubmVyICE9IG51bGwgJiYgdGhpcy5tX2JhY2tSaWdodFdoZWVsLnNwaW5uZXIucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpID8gdGhpcy5tX2JhY2tSaWdodFdoZWVsLnNwaW5uZXIucm90YXRpb25RdWF0ZXJuaW9uIDogbnVsbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudEJ1cm5vdXQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLndoZWVsQnVybm91dCB8fCB0aGlzLnJlc3RvcmVUaW1lciA+IDA7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFNraWQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuU0tJRF9GTDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFNraWQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuU0tJRF9GUjsgfVxuICAgICAgICBwdWJsaWMgZ2V0QmFja0xlZnRTa2lkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLlNLSURfUkw7IH1cbiAgICAgICAgcHVibGljIGdldEJhY2tSaWdodFNraWQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuU0tJRF9SUjsgfVxuICAgICAgICBwdWJsaWMgZ2V0V2hlZWxTa2lkUGl0Y2goKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuV0hFRUxfU0tJRF9QSVRDSDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmlnaWRib2R5UGh5c2ljcygpOiBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcyB7IHJldHVybiB0aGlzLl9yaWdpZGJvZHk7IH1cbiAgICAgICAgcHVibGljIGdldFJheWNhc3RWZWhpY2xlKCk6IEJBQllMT04uVG9vbGtpdC5SYXljYXN0VmVoaWNsZSB7IHJldHVybiB0aGlzLnJheWNhc3RWZWhpY2xlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRHcmFkaWVudFNwZWVkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmdyYWRpZW50U3BlZWQ7IH1cbiAgICAgICAgcHVibGljIGdldEZvcndhcmRTcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5mb3J3YXJkU3BlZWQ7IH1cbiAgICAgICAgcHVibGljIGdldEFic29sdXRlU3BlZWQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuYWJzb2x1dGVTcGVlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0QW1lcmljYW5TcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5hbWVyaWNhblNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRUb3BFbmdpbmVTcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gKHRoaXMuY3VycmVudEJvb3N0aW5nID09PSB0cnVlKSA/IHRoaXMudG9wQm9vc3RlclNwZWVkIDogdGhpcy50b3BFbmdpbmVTcGVlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Tm9ybWFsaXplZFNwZWVkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmFtZXJpY2FuU3BlZWQgLyB0aGlzLmdldFRvcEVuZ2luZVNwZWVkKCk7IH1cbiAgICAgICAgcHVibGljIGdldE1heFJldmVyc2VQb3dlcigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5tYXhSZXZlcnNlUG93ZXI7IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRHZWFySW5kZXgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZ2VhckluZGV4IH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRFbmdpbmVSUE0oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZW5naW5lUlBNIH1cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRFbmdpbmVGb3JjZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5lbmdpbmVGb3JjZSB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50RW5naW5lUGl0Y2goKTogbnVtYmVyIHsgcmV0dXJuIEJBQllMT04uU2NhbGFyLkNsYW1wKCh0aGlzLnBpdGNoUlBNIC8gdGhpcy5nZWFyQm94TWF4UGl0Y2hpbmcpICsgMC4xKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0R2VhclNoaWZ0UmF0aW9Db3VudCgpOiBudW1iZXIgeyByZXR1cm4gKHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zICE9IG51bGwpID8gdGhpcy5nZWFyQm94U2hpZnRSYXRpb3MubGVuZ3RoIDogMCB9XG4gICAgICAgIHB1YmxpYyBnZXRTbW9rZVRleHR1cmVNYXNrKCk6IEJBQllMT04uVGV4dHVyZSB7IHJldHVybiB0aGlzLnNtb2tlVGV4dHVyZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0QnJha2VMaWdodHNNZXNoKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmJyYWtlTGlnaHRzTWVzaDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmV2ZXJzZUxpZ2h0c01lc2goKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMucmV2ZXJzZUxpZ2h0c01lc2g7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFdoZWVsTm9kZSgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5mcm9udExlZnRXaGVlbE1lc2g7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbE5vZGUoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaDsgfVxuICAgICAgICBwdWJsaWMgZ2V0QmFja0xlZnRXaGVlbE5vZGUoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuYmFja0xlZnRXaGVlbE1lc2g7IH1cbiAgICAgICAgcHVibGljIGdldEJhY2tSaWdodFdoZWVsTm9kZSgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2g7IH1cbiAgICAgICAgcHVibGljIGdldFdoZWVsQnVybm91dEVuYWJsZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLndoZWVsQnVybm91dDsgfVxuICAgICAgICBwdWJsaWMgZ2V0V2hlZWxEb251dHNFbmFibGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy53aGVlbERvbnV0czsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudERvbnV0U3BpblRpbWUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZG9udXRTcGluVGltZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0U21va2VJbnRlbnNpdHlGYWN0b3IoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3I7IH1cbiAgICAgICAgcHVibGljIGdldFdoZWVsVmVsb2NpdHlPZmZzZXQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMubV92ZWxvY2l0eU9mZnNldDsgfVxuXG4gICAgICAgIHB1YmxpYyBzbW9rZVRleHR1cmU6IEJBQllMT04uVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBza2lkVGhyZWFzaG9sZDogbnVtYmVyID0gMC42NTtcbiAgICAgICAgcHVibGljIHdoZWVsRHJhd1ZlbG9jaXR5OiBudW1iZXIgPSAwLjAyO1xuICAgICAgICBwdWJsaWMgc21va2VJbnRlbnNpdHk6IG51bWJlciA9IDE1MDtcbiAgICAgICAgcHVibGljIHNtb2tlT3BhY2l0eTogbnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgc21va2VEb251dHM6IG51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIG5vaXNlVGltZVNjYWxlOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBub2lzZVRpbWVGYWN0b3I6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBtYXhCdXJub3V0RmFjdG9yOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBtYXhTdGVlckJvb3N0OiBudW1iZXIgPSA2O1xuICAgICAgICBwdWJsaWMgb3ZlclN0ZWVyU3BlZWQ6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIG92ZXJTdGVlclRpbWVvdXQ6IG51bWJlciA9IDAuMjtcbiAgICAgICAgcHVibGljIHRvcEVuZ2luZVNwZWVkOiBudW1iZXIgPSAxMDA7XG4gICAgICAgIHB1YmxpYyB0b3BCb29zdGVyU3BlZWQ6IG51bWJlciA9IDE1MDtcbiAgICAgICAgcHVibGljIHBvd2VyQ2hhbmdlUmF0ZTogbnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgcG93ZXJDb2VmZmljaWVudDogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgYm9vc3RlckNvZWZmaWNpZW50OiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBmcmljdGlvbkxlcnBTcGVlZDogbnVtYmVyID0gMC41O1xuICAgICAgICBwdWJsaWMgdG9wU3BlZWREYW1wZW5lcjogbnVtYmVyID0gMC4xNTtcbiAgICAgICAgcHVibGljIGxvd1NwZWVkU3RlZXJpbmc6IG51bWJlciA9IDUuMDtcbiAgICAgICAgcHVibGljIGhpZ2hTcGVlZFN0ZWVyaW5nOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBkb251dFR1cm5pbmdSYWRpdXM6IG51bWJlciA9IDMuMDtcbiAgICAgICAgcHVibGljIGRvbnV0RW5naW5lRmFjdG9yOiBudW1iZXIgPSAxLjU7XG4gICAgICAgIHB1YmxpYyBkb251dFJvdGF0ZUZhY3RvcjogbnVtYmVyID0gMi41O1xuICAgICAgICBwdWJsaWMgZG9udXRMZXJwaW5nU3BlZWQ6IG51bWJlciA9IDEuMDtcblxuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHVibGljIHJheVRlc3RpbmdUeXBlOm51bWJlciA9IDA7XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwdWJsaWMgdGVzdFBvaW50Q291bnQ6bnVtYmVyID0gMzI7XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwdWJsaWMgc3dlZXBQZW5ldHJhdGlvbjpudW1iZXIgPSAwLjA7XG4gICAgICAgIHB1YmxpYyBncmF2aXRhdGlvbmFsRm9yY2U6IG51bWJlciA9IDM7XG4gICAgICAgIHB1YmxpYyBzbW9vdGhGbHlpbmdGb3JjZTogbnVtYmVyID0gMjUwO1xuICAgICAgICBwdWJsaWMgdHJhbnNtaXNzaW9uUmF0aW86IG51bWJlciA9IDAuNzU7XG4gICAgICAgIHB1YmxpYyBkaWZmZXJlbnRpYWxSYXRpbzogbnVtYmVyID0gMy41NTtcbiAgICAgICAgcHVibGljIG1pbkJvb3N0ZXJTcGVlZDogbnVtYmVyID0gMjUuMDtcbiAgICAgICAgcHVibGljIG1heEJvb3N0ZXJUaW1lOiBudW1iZXIgPSAxMC4wO1xuICAgICAgICBwdWJsaWMgbWF4UGl0Y2hDb250cm9sOiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBtYXhGcm9udEJyYWtpbmc6IG51bWJlciA9IDAuMDtcbiAgICAgICAgcHVibGljIG1heFJldmVyc2VQb3dlcjogbnVtYmVyID0gMC41O1xuICAgICAgICBwdWJsaWMgbWluQnJha2luZ0ZvcmNlOiBudW1iZXIgPSA1MDtcbiAgICAgICAgcHVibGljIG1heEJyYWtpbmdGb3JjZTogbnVtYmVyID0gMjUwO1xuICAgICAgICBwdWJsaWMgaGFuZEJyYWtpbmdGb3JjZTogbnVtYmVyID0gMjUwMDtcbiAgICAgICAgcHVibGljIGhhbmRCcmFraW5nVGltZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBza2lkUm90YXRpb25UaW1lb3V0OiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBsaW5lYXJCcmFraW5nRm9yY2U6IG51bWJlciA9IDE1LjA7XG4gICAgICAgIHB1YmxpYyBhbmd1bGFyQnJha2luZ0ZvcmNlOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBidXJub3V0RnJpY3Rpb25TbGlwOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBidXJub3V0VGltZURlbGF5OiBudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgYnVybm91dFdoZWVsUGl0Y2g6IG51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyBidXJub3V0Q29lZmZpY2llbnQ6IG51bWJlciA9IDE1O1xuICAgICAgICBwdWJsaWMgYnVybm91dFRyaWdnZXJNYXJrOiBudW1iZXIgPSAxMDtcbiAgICAgICAgcHVibGljIGVuYWJsZUF1dG9CdXJub3V0czogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZHJpZnRUcmlnZ2VyQW5nbGU6IG51bWJlciA9IDMwLjA7XG4gICAgICAgIHB1YmxpYyBkcmlmdFRyaWdnZXJTcGVlZDogbnVtYmVyID0gMzAuMDtcbiAgICAgICAgcHVibGljIGVuYWJsZUF1dG9EcmlmdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcGVuYWx0eUdyb3VuZFRhZzogc3RyaW5nID0gXCJPZmZyb2FkXCI7XG4gICAgICAgIHB1YmxpYyBtaW5QZW5hbHR5U3BlZWQ6IG51bWJlciA9IDY1O1xuICAgICAgICBwdWJsaWMgbGluZWFyV2hlZWxEcmFnOiBudW1iZXIgPSAwLjA1O1xuICAgICAgICBwdWJsaWMgZnJpY3Rpb25XaGVlbFNsaXA6IG51bWJlciA9IDAuMjE1O1xuICAgICAgICBwdWJsaWMgc2hvd1NlbnNvckxpbmVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBwb3dlckJvb3N0ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGxpbmtUcmFja01hbmFnZXI6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgcGxheVZlaGljbGVTb3VuZHM6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgcG9zdE5ldHdvcmtBdHRyaWJ1dGVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyB3aGVlbERyaXZlVHlwZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGdlYXJCb3hNdWx0aXBsaWVyOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBnZWFyQm94TWF4UGl0Y2hpbmcgPSA2NTAwO1xuICAgICAgICBwdWJsaWMgZ2VhckJveFNoaWZ0Q2hhbmdlOiBudW1iZXIgPSA1MTAwO1xuICAgICAgICBwdWJsaWMgZ2VhckJveFNoaWZ0RGVsYXk6IG51bWJlciA9IDAuMzU7XG4gICAgICAgIHB1YmxpYyBnZWFyQm94U2hpZnRSYXRpb3M6IG51bWJlcltdID0gWzQuMTcsIDIuMzQsIDEuODIsIDEuNTQsIDAuOTYsIDAuNjhdO1xuICAgICAgICBwdWJsaWMgZ2VhckJveFNoaWZ0UmFuZ2VzOiBudW1iZXJbXSA9IFsxMDAwLCAyNDAwLCAyNjAwLCAyNjAwLCAyODAwLCAyODAwXTtcblxuICAgICAgICBwdWJsaWMgdGhyb3R0bGVCcmFraW5nRm9yY2U6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyB0aHJvdHRsZUVuZ2luZVNwZWVkOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgYnJha2VSZWNvdmVyeURlbGF5OiBudW1iZXIgPSAwLjA1O1xuICAgICAgICBwdWJsaWMgYnJha2VSZWNvdmVyeVNwZWVkOiBudW1iZXIgPSAwLjM1O1xuICAgICAgICBwdWJsaWMgc2tpZFJlY292ZXJ5U3BlZWQ6IG51bWJlciA9IDAuMjU7XG4gICAgICAgIHB1YmxpYyBleHRyYVJvdGF0aW9uU3BlZWQ6IG51bWJlciA9IDAuMTtcbiAgICAgICAgcHVibGljIG1heFJvdGF0aW9uU3BlZWQ6IG51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIGJ1cm5vdXRMZXJwU3BlZWQ6IG51bWJlciA9IDAuMDU7XG4gICAgICAgIHB1YmxpYyBhY2tlcm1hbldoZWVsQmFzZTogbnVtYmVyID0gMi41O1xuICAgICAgICBwdWJsaWMgYWNrZXJtYW5SZWFyVHJhY2s6IG51bWJlciA9IDEuNTtcbiAgICAgICAgcHVibGljIGFja2VybWFuVHVyblJhZGl1czogbnVtYmVyID0gOTtcbiAgICAgICAgcHVibGljIGFja2VybWFuTWF4UmFkaXVzOiBudW1iZXIgPSAxODtcbiAgICAgICAgcHVibGljIGFja2VybWFuVHVybkZhY3RvcjogbnVtYmVyID0gMTtcblxuICAgICAgICBwdWJsaWMgcmVhZEJ1cm5vdXRNZXRlcigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5idXJub3V0TWV0ZXI7IH1cbiAgICAgICAgcHVibGljIHJlc2V0QnVybm91dE1ldGVyKCk6IHZvaWQgeyB0aGlzLmJ1cm5vdXRNZXRlciA9IDA7IH1cbiAgICAgICAgcHVibGljIHJlYWREb251dE1ldGVyKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRvbnV0TWV0ZXI7IH1cbiAgICAgICAgcHVibGljIHJlc2V0RG9udXRNZXRlcigpOiB2b2lkIHsgdGhpcy5kb251dE1ldGVyID0gMDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Qm9vc3RlclRpbWUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuYm9vc3RTcGVlZFRpbWVyOyB9XG4gICAgICAgIHB1YmxpYyBzZXRCb29zdGVyVGltZSh0aW1lOiBudW1iZXIpOiB2b2lkIHsgdGhpcy5ib29zdFNwZWVkVGltZXIgPSB0aW1lOyB9XG4gICAgICAgIHB1YmxpYyByZXNldEJvb3N0ZXJUaW1lKCk6IHZvaWQgeyB0aGlzLnNldEJvb3N0ZXJUaW1lKHRoaXMubWF4Qm9vc3RlclRpbWUpOyB9XG4gICAgICAgIHB1YmxpYyByb2FkU3VyZmFjZUZhY3RvcjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRUaWx0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBzdXJmYWNlRGV0ZWN0aW9uOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBpZGxlU2hha2VSYXRlOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBpZGxlU2hha2VOb2lzZTogbnVtYmVyID0gMC4wMTtcbiAgICAgICAgcHVibGljIG1heEZvcndhcmRBbmdsZTogbnVtYmVyID0gMy4wO1xuICAgICAgICBwdWJsaWMgbWF4TGF0ZXJhbEFuZ2xlOiBudW1iZXIgPSAzLjA7XG4gICAgICAgIHB1YmxpYyBsZXJwRm9yd2FyZEZhY3RvcjogbnVtYmVyID0gMTAuMDtcbiAgICAgICAgcHVibGljIGxlcnBMYXRlcmFsRmFjdG9yOiBudW1iZXIgPSAxMC4wO1xuICAgICAgICBwdWJsaWMgc2hpZnRGb3J3YXJkRXh0cmE6IG51bWJlciA9IDAuMjtcbiAgICAgICAgcHVibGljIHNoaWZ0TGF0ZXJhbEV4dHJhOiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHB1YmxpYyBmb3J3YXJkUGl0Y2hGYWN0b3I6IG51bWJlciA9IDAuMjtcbiAgICAgICAgcHVibGljIGxhdGVyYWxSb2xsRmFjdG9yOiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHB1YmxpYyBmb3J3YXJkUmVjb3ZlclJhdGU6IG51bWJlciA9IDAuMjtcbiAgICAgICAgcHVibGljIGxhdGVyYWxSZWNvdmVyUmF0ZTogbnVtYmVyID0gMC4yO1xuICAgICAgICBwdWJsaWMgbG93U3BlZWRTY2FsZTogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgaGlnaFNwZWVkU2NhbGU6IG51bWJlciA9IDUuMDtcbiAgICAgICAgcHVibGljIGxvd0ZvcndhcmROb2lzZTogbnVtYmVyID0gMC4wNTtcbiAgICAgICAgcHVibGljIGhpZ2hGb3J3YXJkTm9pc2U6IG51bWJlciA9IDAuMDU7XG4gICAgICAgIHB1YmxpYyBsb3dMYXRlcmFsTm9pc2U6IG51bWJlciA9IDAuMDU7XG4gICAgICAgIHB1YmxpYyBoaWdoTGF0ZXJhbE5vaXNlOiBudW1iZXIgPSAwLjA1O1xuICAgICAgICBwdWJsaWMgc3BlZWRUaHJlYXNob2xkOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBib29zdGVyVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY2hhc3Npc1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHRpbHRDaGFzc2lzRXVsZXJzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuXG4gICAgICAgIC8vcHVibGljIG1heEZvcndhcmRBbmdsZTogbnVtYmVyID0gMC41O1xuICAgICAgICAvL3B1YmxpYyBtYXhMYXRlcmFsQW5nbGU6IG51bWJlciA9IDEuMTU7XG4gICAgICAgIC8vcHVibGljIG1vdmVGb3J3YXJkU3BlZWQ6IG51bWJlciA9IDAuNTtcbiAgICAgICAgLy9wdWJsaWMgbW92ZUxhdGVyYWxTcGVlZDogbnVtYmVyID0gMC41O1xuICAgICAgICAvL3B1YmxpYyB0aWx0Rm9yd2FyZFRyaWdnZXI6IG51bWJlciA9IDEuMDtcbiAgICAgICAgLy9wdWJsaWMgdGlsdExhdGVyYWxUcmlnZ2VyOiBudW1iZXIgPSAxLjA7XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fZnJvbnRMZWZ0V2hlZWw6IEJBQllMT04uVG9vbGtpdC5IYXZva1doZWVsSW5mbyA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2Zyb250UmlnaHRXaGVlbDogQkFCWUxPTi5Ub29sa2l0Lkhhdm9rV2hlZWxJbmZvID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fYmFja0xlZnRXaGVlbDogQkFCWUxPTi5Ub29sa2l0Lkhhdm9rV2hlZWxJbmZvID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fYmFja1JpZ2h0V2hlZWw6IEJBQllMT04uVG9vbGtpdC5IYXZva1doZWVsSW5mbyA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2Zyb250TGVmdFdoZWVsU2tpZDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2Zyb250UmlnaHRXaGVlbFNraWQ6IG51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9iYWNrTGVmdFdoZWVsU2tpZDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2JhY2tSaWdodFdoZWVsU2tpZDogbnVtYmVyID0gLTE7XG4gICAgICAgIHByb3RlY3RlZCBtX2FuZ3VsYXJEYW1wZW5lcjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygxLjAsIDEuMCwgMS4wKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fdmVsb2NpdHlPZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2xpbmVhclZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9sYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX3NjYWxlZFZlbG9jaXR5OiBudW1iZXIgPSAwO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZVZlaGljbGVTdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHsgdGhpcy5pbml0VmVoaWNsZVN0YXRlKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgdGhpcy51cGRhdGVWZWhpY2xlU3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95VmVoaWNsZVN0YXRlKCk7IH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQcm90ZWN0ZWQgVmVoaWNsZSBNb3ZlbWVudCBTdGF0ZSBGdW5jdGlvbnMgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlVmVoaWNsZVN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmZyb250V2hlZWxQb3dlciA9IDA7XG4gICAgICAgICAgICB0aGlzLmJhY2tXaGVlbFBvd2VyID0gMDtcbiAgICAgICAgICAgIHRoaXMud2hlZWxCcmFraW5nRm9yY2UgPSAwO1xuICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IHRoaXMucmF5VGVzdGluZ1R5cGUgPSB0aGlzLmdldFByb3BlcnR5KFwicmF5VGVzdGluZ1R5cGVcIiwgdGhpcy5yYXlUZXN0aW5nVHlwZSk7XG4gICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogdGhpcy50ZXN0UG9pbnRDb3VudCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXN0UG9pbnRDb3VudFwiLCB0aGlzLnRlc3RQb2ludENvdW50KTtcbiAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiB0aGlzLnN3ZWVwUGVuZXRyYXRpb24gPSB0aGlzLmdldFByb3BlcnR5KFwic3dlZXBQZW5ldHJhdGlvblwiLCB0aGlzLnN3ZWVwUGVuZXRyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5hY2tlcm1hbldoZWVsQmFzZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhY2tlcm1hbldoZWVsQmFzZVwiLCB0aGlzLmFja2VybWFuV2hlZWxCYXNlKTtcbiAgICAgICAgICAgIHRoaXMuYWNrZXJtYW5SZWFyVHJhY2sgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNrZXJtYW5SZWFyVHJhY2tcIiwgdGhpcy5hY2tlcm1hblJlYXJUcmFjayk7XG4gICAgICAgICAgICB0aGlzLmFja2VybWFuVHVyblJhZGl1cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhY2tlcm1hblR1cm5SYWRpdXNcIiwgdGhpcy5hY2tlcm1hblR1cm5SYWRpdXMpO1xuICAgICAgICAgICAgdGhpcy5hY2tlcm1hbk1heFJhZGl1cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhY2tlcm1hbk1heFJhZGl1c1wiLCB0aGlzLmFja2VybWFuTWF4UmFkaXVzKTtcbiAgICAgICAgICAgIHRoaXMud2hlZWxEcmF3VmVsb2NpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwid2hlZWxEcmF3VmVsb2NpdHlcIiwgdGhpcy53aGVlbERyYXdWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNraWRUaHJlYXNob2xkID0gdGhpcy5nZXRQcm9wZXJ0eShcInNraWRUaHJlYXNob2xkXCIsIHRoaXMuc2tpZFRocmVhc2hvbGQpO1xuICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9rZUludGVuc2l0eVwiLCB0aGlzLnNtb2tlSW50ZW5zaXR5KTtcbiAgICAgICAgICAgIHRoaXMuc21va2VPcGFjaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlT3BhY2l0eVwiLCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnNtb2tlRG9udXRzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb2tlRG9udXRzXCIsIHRoaXMuc21va2VEb251dHMpO1xuICAgICAgICAgICAgdGhpcy5wb3dlckJvb3N0ZXIgPSB0aGlzLmdldFByb3BlcnR5KFwicG93ZXJCb29zdGVyXCIsIHRoaXMucG93ZXJCb29zdGVyKTtcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRUaWx0aW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdmVtZW50VGlsdGluZ1wiLCB0aGlzLm1vdmVtZW50VGlsdGluZyk7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2VEZXRlY3Rpb24gPSB0aGlzLmdldFByb3BlcnR5KFwic3VyZmFjZURldGVjdGlvblwiLCB0aGlzLnN1cmZhY2VEZXRlY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5pZGxlU2hha2VOb2lzZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpZGxlU2hha2VOb2lzZVwiLCB0aGlzLmlkbGVTaGFrZU5vaXNlKTtcbiAgICAgICAgICAgIHRoaXMuaWRsZVNoYWtlUmF0ZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpZGxlU2hha2VSYXRlXCIsIHRoaXMuaWRsZVNoYWtlUmF0ZSk7XG4gICAgICAgICAgICB0aGlzLm1heEZvcndhcmRBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhGb3J3YXJkQW5nbGVcIiwgdGhpcy5tYXhGb3J3YXJkQW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5tYXhMYXRlcmFsQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4TGF0ZXJhbEFuZ2xlXCIsIHRoaXMubWF4TGF0ZXJhbEFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZFBpdGNoRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImZvcndhcmRQaXRjaEZhY3RvclwiLCB0aGlzLmZvcndhcmRQaXRjaEZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLmxhdGVyYWxSb2xsRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImxhdGVyYWxSb2xsRmFjdG9yXCIsIHRoaXMubGF0ZXJhbFJvbGxGYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5mb3J3YXJkUmVjb3ZlclJhdGUgPSB0aGlzLmdldFByb3BlcnR5KFwiZm9yd2FyZFJlY292ZXJSYXRlXCIsIHRoaXMuZm9yd2FyZFJlY292ZXJSYXRlKTtcbiAgICAgICAgICAgIHRoaXMubGF0ZXJhbFJlY292ZXJSYXRlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxhdGVyYWxSZWNvdmVyUmF0ZVwiLCB0aGlzLmxhdGVyYWxSZWNvdmVyUmF0ZSk7XG4gICAgICAgICAgICB0aGlzLmxvd1NwZWVkU2NhbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibG93U3BlZWRTY2FsZVwiLCB0aGlzLmxvd1NwZWVkU2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5oaWdoU3BlZWRTY2FsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoU3BlZWRTY2FsZVwiLCB0aGlzLmhpZ2hTcGVlZFNjYWxlKTtcbiAgICAgICAgICAgIHRoaXMubG93Rm9yd2FyZE5vaXNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvd0ZvcndhcmROb2lzZVwiLCB0aGlzLmxvd0ZvcndhcmROb2lzZSk7XG4gICAgICAgICAgICB0aGlzLmhpZ2hGb3J3YXJkTm9pc2UgPSB0aGlzLmdldFByb3BlcnR5KFwiaGlnaEZvcndhcmROb2lzZVwiLCB0aGlzLmhpZ2hGb3J3YXJkTm9pc2UpO1xuICAgICAgICAgICAgdGhpcy5sb3dMYXRlcmFsTm9pc2UgPSB0aGlzLmdldFByb3BlcnR5KFwibG93TGF0ZXJhbE5vaXNlXCIsIHRoaXMubG93TGF0ZXJhbE5vaXNlKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaExhdGVyYWxOb2lzZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoTGF0ZXJhbE5vaXNlXCIsIHRoaXMuaGlnaExhdGVyYWxOb2lzZSk7XG4gICAgICAgICAgICB0aGlzLnNwZWVkVGhyZWFzaG9sZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzcGVlZFRocmVhc2hvbGRcIiwgdGhpcy5zcGVlZFRocmVhc2hvbGQpO1xuICAgICAgICAgICAgdGhpcy5sZXJwRm9yd2FyZEZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZXJwRm9yd2FyZEZhY3RvclwiLCB0aGlzLmxlcnBGb3J3YXJkRmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMubGVycExhdGVyYWxGYWN0b3IgPSB0aGlzLmdldFByb3BlcnR5KFwibGVycExhdGVyYWxGYWN0b3JcIiwgdGhpcy5sZXJwTGF0ZXJhbEZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLnNoaWZ0Rm9yd2FyZEV4dHJhID0gdGhpcy5nZXRQcm9wZXJ0eShcInNoaWZ0Rm9yd2FyZEV4dHJhXCIsIHRoaXMuc2hpZnRGb3J3YXJkRXh0cmEpO1xuICAgICAgICAgICAgdGhpcy5zaGlmdExhdGVyYWxFeHRyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzaGlmdExhdGVyYWxFeHRyYVwiLCB0aGlzLnNoaWZ0TGF0ZXJhbEV4dHJhKTtcbiAgICAgICAgICAgIC8vdGhpcy5tYXhGb3J3YXJkQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4Rm9yd2FyZEFuZ2xlXCIsIHRoaXMubWF4Rm9yd2FyZEFuZ2xlKTtcbiAgICAgICAgICAgIC8vdGhpcy5tYXhMYXRlcmFsQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4TGF0ZXJhbEFuZ2xlXCIsIHRoaXMubWF4TGF0ZXJhbEFuZ2xlKTtcbiAgICAgICAgICAgIC8vdGhpcy5tb3ZlRm9yd2FyZFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdmVGb3J3YXJkU3BlZWRcIiwgdGhpcy5tb3ZlRm9yd2FyZFNwZWVkKTtcbiAgICAgICAgICAgIC8vdGhpcy5tb3ZlTGF0ZXJhbFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdmVMYXRlcmFsU3BlZWRcIiwgdGhpcy5tb3ZlTGF0ZXJhbFNwZWVkKTtcbiAgICAgICAgICAgIC8vdGhpcy50aWx0Rm9yd2FyZFRyaWdnZXIgPSB0aGlzLmdldFByb3BlcnR5KFwidGlsdEZvcndhcmRUcmlnZ2VyXCIsIHRoaXMudGlsdEZvcndhcmRUcmlnZ2VyKTtcbiAgICAgICAgICAgIC8vdGhpcy50aWx0TGF0ZXJhbFRyaWdnZXIgPSB0aGlzLmdldFByb3BlcnR5KFwidGlsdExhdGVyYWxUcmlnZ2VyXCIsIHRoaXMudGlsdExhdGVyYWxUcmlnZ2VyKTtcbiAgICAgICAgICAgIHRoaXMudG9wRW5naW5lU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwidG9wRW5naW5lU3BlZWRcIiwgdGhpcy50b3BFbmdpbmVTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLnRvcEJvb3N0ZXJTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b3BCb29zdGVyU3BlZWRcIiwgdGhpcy50b3BCb29zdGVyU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5wb3dlckNoYW5nZVJhdGUgPSB0aGlzLmdldFByb3BlcnR5KFwicG93ZXJDaGFuZ2VSYXRlXCIsIHRoaXMucG93ZXJDaGFuZ2VSYXRlKTtcbiAgICAgICAgICAgIHRoaXMucG93ZXJDb2VmZmljaWVudCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb3dlckNvZWZmaWNpZW50XCIsIHRoaXMucG93ZXJDb2VmZmljaWVudCk7XG4gICAgICAgICAgICB0aGlzLmJvb3N0ZXJDb2VmZmljaWVudCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib29zdGVyQ29lZmZpY2llbnRcIiwgdGhpcy5ib29zdGVyQ29lZmZpY2llbnQpO1xuICAgICAgICAgICAgdGhpcy5tYXhCb29zdGVyVGltZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhCb29zdGVyVGltZVwiLCB0aGlzLm1heEJvb3N0ZXJUaW1lKTtcbiAgICAgICAgICAgIHRoaXMubWluQm9vc3RlclNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pbkJvb3N0ZXJTcGVlZFwiLCB0aGlzLm1pbkJvb3N0ZXJTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLm1heFBpdGNoQ29udHJvbCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhQaXRjaENvbnRyb2xcIiwgdGhpcy5tYXhQaXRjaENvbnRyb2wpO1xuICAgICAgICAgICAgdGhpcy5tYXhGcm9udEJyYWtpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4RnJvbnRCcmFraW5nXCIsIHRoaXMubWF4RnJvbnRCcmFraW5nKTtcbiAgICAgICAgICAgIHRoaXMubWF4UmV2ZXJzZVBvd2VyID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFJldmVyc2VQb3dlclwiLCB0aGlzLm1heFJldmVyc2VQb3dlcik7XG4gICAgICAgICAgICB0aGlzLnBlbmFsdHlHcm91bmRUYWcgPSB0aGlzLmdldFByb3BlcnR5KFwicGVuYWx0eUdyb3VuZFRhZ1wiLCB0aGlzLnBlbmFsdHlHcm91bmRUYWcpO1xuICAgICAgICAgICAgdGhpcy5taW5QZW5hbHR5U3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibWluUGVuYWx0eVNwZWVkXCIsIHRoaXMubWluUGVuYWx0eVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMubGluZWFyV2hlZWxEcmFnID0gdGhpcy5nZXRQcm9wZXJ0eShcImxpbmVhcldoZWVsRHJhZ1wiLCB0aGlzLmxpbmVhcldoZWVsRHJhZyk7XG4gICAgICAgICAgICB0aGlzLmZyaWN0aW9uV2hlZWxTbGlwID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyaWN0aW9uV2hlZWxTbGlwXCIsIHRoaXMuZnJpY3Rpb25XaGVlbFNsaXApO1xuICAgICAgICAgICAgdGhpcy5zaG93U2Vuc29yTGluZXMgPSB0aGlzLmdldFByb3BlcnR5KFwic2hvd1NlbnNvckxpbmVzXCIsIHRoaXMuc2hvd1NlbnNvckxpbmVzKTtcbiAgICAgICAgICAgIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImdyYXZpdHlNdWx0aXBsaWVyXCIsIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoRmx5aW5nRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoRmx5aW5nRm9yY2VcIiwgdGhpcy5zbW9vdGhGbHlpbmdGb3JjZSk7XG4gICAgICAgICAgICB0aGlzLmZyaWN0aW9uTGVycFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyaWN0aW9uTGVycFNwZWVkXCIsIHRoaXMuZnJpY3Rpb25MZXJwU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5tYXhCdXJub3V0RmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEJ1cm5vdXRGYWN0b3JcIiwgdGhpcy5tYXhCdXJub3V0RmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMubWF4U3RlZXJCb29zdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhTdGVlckJvb3N0XCIsIHRoaXMubWF4U3RlZXJCb29zdCk7XG4gICAgICAgICAgICB0aGlzLm92ZXJTdGVlclNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm92ZXJTdGVlclNwZWVkXCIsIHRoaXMub3ZlclN0ZWVyU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5vdmVyU3RlZXJUaW1lb3V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm92ZXJTdGVlclRpbWVvdXRcIiwgdGhpcy5vdmVyU3RlZXJUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMud2hlZWxEcml2ZVR5cGUgPSB0aGlzLmdldFByb3BlcnR5KFwid2hlZWxEcml2ZVR5cGVcIiwgdGhpcy53aGVlbERyaXZlVHlwZSk7XG4gICAgICAgICAgICB0aGlzLm1pbkJyYWtpbmdGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5CcmFraW5nRm9yY2VcIiwgdGhpcy5taW5CcmFraW5nRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy5tYXhCcmFraW5nRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4QnJha2luZ0ZvcmNlXCIsIHRoaXMubWF4QnJha2luZ0ZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZEJyYWtpbmdGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoYW5kQnJha2luZ0ZvcmNlXCIsIHRoaXMuaGFuZEJyYWtpbmdGb3JjZSk7XG4gICAgICAgICAgICB0aGlzLmJyYWtlUmVjb3ZlcnlEZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJicmFrZVJlY292ZXJ5RGVsYXlcIiwgdGhpcy5icmFrZVJlY292ZXJ5RGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5icmFrZVJlY292ZXJ5U3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiYnJha2VSZWNvdmVyeVNwZWVkXCIsIHRoaXMuYnJha2VSZWNvdmVyeVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuc2tpZFJlY292ZXJ5U3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwic2tpZFJlY292ZXJ5U3BlZWRcIiwgdGhpcy5za2lkUmVjb3ZlcnlTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLm1heFJvdGF0aW9uU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4Um90YXRpb25TcGVlZFwiLCB0aGlzLm1heFJvdGF0aW9uU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5leHRyYVJvdGF0aW9uU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiZXh0cmFSb3RhdGlvblNwZWVkXCIsIHRoaXMuZXh0cmFSb3RhdGlvblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuc2tpZFJvdGF0aW9uVGltZW91dCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJza2lkUm90YXRpb25UaW1lb3V0XCIsIHRoaXMuc2tpZFJvdGF0aW9uVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVhckJyYWtpbmdGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsaW5lYXJCcmFraW5nRm9yY2VcIiwgdGhpcy5saW5lYXJCcmFraW5nRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy5hbmd1bGFyQnJha2luZ0ZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImFuZ3VsYXJCcmFraW5nRm9yY2VcIiwgdGhpcy5hbmd1bGFyQnJha2luZ0ZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdXaGVlbEF4aXMgPSB0aGlzLmdldFByb3BlcnR5KFwic3RlZXJpbmdXaGVlbEF4aXNcIiwgdGhpcy5zdGVlcmluZ1doZWVsQXhpcyk7XG4gICAgICAgICAgICB0aGlzLm1heFN0ZWVyaW5nQW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4U3RlZXJpbmdBbmdsZVwiLCB0aGlzLm1heFN0ZWVyaW5nQW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5tYXhTdGVlcmluZ1NwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFN0ZWVyaW5nU3BlZWRcIiwgdGhpcy5tYXhTdGVlcmluZ1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudG9wU3BlZWREYW1wZW5lciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b3BTcGVlZERhbXBlbmVyXCIsIHRoaXMudG9wU3BlZWREYW1wZW5lcik7XG4gICAgICAgICAgICB0aGlzLmxvd1NwZWVkU3RlZXJpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwibG93U3BlZWRTdGVlcmluZ1wiLCB0aGlzLmxvd1NwZWVkU3RlZXJpbmcpO1xuICAgICAgICAgICAgdGhpcy5oaWdoU3BlZWRTdGVlcmluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoU3BlZWRTdGVlcmluZ1wiLCB0aGlzLmhpZ2hTcGVlZFN0ZWVyaW5nKTtcbiAgICAgICAgICAgIHRoaXMuZG9udXRUdXJuaW5nUmFkaXVzID0gdGhpcy5nZXRQcm9wZXJ0eShcImRvbnV0VHVybmluZ1JhZGl1c1wiLCB0aGlzLmRvbnV0VHVybmluZ1JhZGl1cyk7XG4gICAgICAgICAgICB0aGlzLmRvbnV0RW5naW5lRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImRvbnV0RW5naW5lRmFjdG9yXCIsIHRoaXMuZG9udXRFbmdpbmVGYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5kb251dFJvdGF0ZUZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkb251dFJvdGF0ZUZhY3RvclwiLCB0aGlzLmRvbnV0Um90YXRlRmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuZG9udXRMZXJwaW5nU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiZG9udXRMZXJwaW5nU3BlZWRcIiwgdGhpcy5kb251dExlcnBpbmdTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmJyYWtlTGlnaHRzVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiYnJha2VMaWdodHNNZXNoXCIsIHRoaXMuYnJha2VMaWdodHNUcmFucyk7XG4gICAgICAgICAgICB0aGlzLnJldmVyc2VMaWdodHNUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZXZlcnNlTGlnaHRzTWVzaFwiLCB0aGlzLnJldmVyc2VMaWdodHNUcmFucyk7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJvbnRMZWZ0V2hlZWxNZXNoXCIsIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucyk7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyb250UmlnaHRXaGVlbE1lc2hcIiwgdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucyk7XG4gICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWFyTGVmdFdoZWVsTWVzaFwiLCB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucyk7XG4gICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMgPSB0aGlzLmdldFByb3BlcnR5KFwicmVhclJpZ2h0V2hlZWxNZXNoXCIsIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucyk7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsQ29sbGlkZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJvbnRMZWZ0V2hlZWxDb2xsaWRlclwiLCB0aGlzLmZyb250TGVmdFdoZWVsQ29sbGlkZXIpO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxDb2xsaWRlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcm9udFJpZ2h0V2hlZWxDb2xsaWRlclwiLCB0aGlzLmZyb250UmlnaHRXaGVlbENvbGxpZGVyKTtcbiAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbENvbGxpZGVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlYXJMZWZ0V2hlZWxDb2xsaWRlclwiLCB0aGlzLmJhY2tMZWZ0V2hlZWxDb2xsaWRlcik7XG4gICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsQ29sbGlkZXIgPSB0aGlzLmdldFByb3BlcnR5KFwicmVhclJpZ2h0V2hlZWxDb2xsaWRlclwiLCB0aGlzLmJhY2tSaWdodFdoZWVsQ29sbGlkZXIpO1xuICAgICAgICAgICAgdGhpcy5idXJub3V0RnJpY3Rpb25TbGlwID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1cm5vdXRGcmljdGlvblNsaXBcIiwgdGhpcy5idXJub3V0RnJpY3Rpb25TbGlwKTtcbiAgICAgICAgICAgIHRoaXMuYnVybm91dFRpbWVEZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidXJub3V0VGltZURlbGF5XCIsIHRoaXMuYnVybm91dFRpbWVEZWxheSk7XG4gICAgICAgICAgICB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1cm5vdXRXaGVlbFBpdGNoXCIsIHRoaXMuYnVybm91dFdoZWVsUGl0Y2gpO1xuICAgICAgICAgICAgdGhpcy5idXJub3V0Q29lZmZpY2llbnQgPSB0aGlzLmdldFByb3BlcnR5KFwiYnVybm91dENvZWZmaWNpZW50XCIsIHRoaXMuYnVybm91dENvZWZmaWNpZW50KTtcbiAgICAgICAgICAgIHRoaXMuYnVybm91dFRyaWdnZXJNYXJrID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1cm5vdXRUcmlnZ2VyTWFya1wiLCB0aGlzLmJ1cm5vdXRUcmlnZ2VyTWFyayk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUF1dG9CdXJub3V0cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJlbmFibGVBdXRvQnVybm91dHNcIiwgdGhpcy5lbmFibGVBdXRvQnVybm91dHMpO1xuICAgICAgICAgICAgdGhpcy5kcmlmdFRyaWdnZXJBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkcmlmdFRyaWdnZXJBbmdsZVwiLCB0aGlzLmRyaWZ0VHJpZ2dlckFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMuZHJpZnRUcmlnZ2VyU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiZHJpZnRUcmlnZ2VyU3BlZWRcIiwgdGhpcy5kcmlmdFRyaWdnZXJTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUF1dG9EcmlmdGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJlbmFibGVBdXRvRHJpZnRpbmdcIiwgdGhpcy5lbmFibGVBdXRvRHJpZnRpbmcpO1xuICAgICAgICAgICAgdGhpcy5wb3N0TmV0d29ya0F0dHJpYnV0ZXMgPSB0aGlzLmdldFByb3BlcnR5KFwicG9zdE5ldHdvcmtBdHRyaWJ1dGVzXCIsIHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIHRoaXMubGlua1RyYWNrTWFuYWdlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsaW5rVHJhY2tNYW5hZ2VyXCIsIHRoaXMubGlua1RyYWNrTWFuYWdlcik7XG4gICAgICAgICAgICB0aGlzLnBsYXlWZWhpY2xlU291bmRzID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXlWZWhpY2xlU291bmRzXCIsIHRoaXMucGxheVZlaGljbGVTb3VuZHMpO1xuICAgICAgICAgICAgdGhpcy5kaWZmZXJlbnRpYWxSYXRpbyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94RGlmZmVyZW50aWFsXCIsIHRoaXMuZGlmZmVyZW50aWFsUmF0aW8pO1xuICAgICAgICAgICAgdGhpcy50cmFuc21pc3Npb25SYXRpbyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94T3ZlcmRyaXZlXCIsIHRoaXMudHJhbnNtaXNzaW9uUmF0aW8pO1xuICAgICAgICAgICAgdGhpcy5nZWFyQm94TXVsdGlwbGllciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94TXVsdGlwbGllclwiLCB0aGlzLmdlYXJCb3hNdWx0aXBsaWVyKTtcbiAgICAgICAgICAgIHRoaXMuZ2VhckJveE1heFBpdGNoaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hNYXhQaXRjaGluZ1wiLCB0aGlzLmdlYXJCb3hNYXhQaXRjaGluZyk7XG4gICAgICAgICAgICB0aGlzLmdlYXJCb3hTaGlmdENoYW5nZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94U2hpZnRDaGFuZ2VcIiwgdGhpcy5nZWFyQm94U2hpZnRDaGFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5nZWFyQm94U2hpZnREZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94U2hpZnREZWxheVwiLCB0aGlzLmdlYXJCb3hTaGlmdERlbGF5KTtcbiAgICAgICAgICAgIHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hTaGlmdFJhdGlvc1wiLCB0aGlzLmdlYXJCb3hTaGlmdFJhdGlvcyk7XG4gICAgICAgICAgICB0aGlzLmdlYXJCb3hTaGlmdFJhbmdlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJnZWFyQm94U2hpZnRSYW5nZXNcIiwgdGhpcy5nZWFyQm94U2hpZnRSYW5nZXMpO1xuICAgICAgICAgICAgdGhpcy5NSU5fUlBNID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hNaW5Qb3dlclwiLCB0aGlzLk1JTl9SUE0pO1xuICAgICAgICAgICAgdGhpcy5NQVhfUlBNID0gdGhpcy5nZXRQcm9wZXJ0eShcImdlYXJCb3hNYXhQb3dlclwiLCB0aGlzLk1BWF9SUE0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy50b3BTcGVlZERhbXBlbmVyIDw9IDApIHRoaXMudG9wU3BlZWREYW1wZW5lciA9IDAuMTU7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXhCdXJub3V0RmFjdG9yIDw9IDApIHRoaXMubWF4QnVybm91dEZhY3RvciA9IDEuMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSA8PSAwKSB0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSA9IDM7XG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhGbHlpbmdGb3JjZSA8PSAwKSB0aGlzLnNtb290aEZseWluZ0ZvcmNlID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heEZyb250QnJha2luZyA8PSAwKSB0aGlzLm1heEZyb250QnJha2luZyA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXhSZXZlcnNlUG93ZXIgPD0gMCkgdGhpcy5tYXhSZXZlcnNlUG93ZXIgPSAwLjU7XG4gICAgICAgICAgICBpZiAodGhpcy5sb3dTcGVlZFN0ZWVyaW5nIDw9IDApIHRoaXMubG93U3BlZWRTdGVlcmluZyA9IDUuMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmhpZ2hTcGVlZFN0ZWVyaW5nIDw9IDApIHRoaXMuaGlnaFNwZWVkU3RlZXJpbmcgPSA1LjA7XG4gICAgICAgICAgICBpZiAodGhpcy5kb251dFR1cm5pbmdSYWRpdXMgPD0gMCkgdGhpcy5kb251dFR1cm5pbmdSYWRpdXMgPSA1LjA7XG4gICAgICAgICAgICBpZiAodGhpcy5wb3dlckNvZWZmaWNpZW50IDw9IDApIHRoaXMucG93ZXJDb2VmZmljaWVudCA9IDEuMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvcEVuZ2luZVNwZWVkIDw9IDApIHRoaXMudG9wRW5naW5lU3BlZWQgPSAxMDA7XG4gICAgICAgICAgICBpZiAodGhpcy50b3BCb29zdGVyU3BlZWQgPD0gMCkgdGhpcy50b3BCb29zdGVyU3BlZWQgPSAxNTA7XG4gICAgICAgICAgICBpZiAodGhpcy5nZWFyQm94TXVsdGlwbGllciA8PSAwKSB0aGlzLmdlYXJCb3hNdWx0aXBsaWVyID0gMS4wO1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckJveE1heFBpdGNoaW5nIDw9IDApIHRoaXMuZ2VhckJveE1heFBpdGNoaW5nID0gNjUwMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmdlYXJCb3hTaGlmdENoYW5nZSA8PSAwKSB0aGlzLmdlYXJCb3hTaGlmdENoYW5nZSA9IDUxMDA7XG4gICAgICAgICAgICBpZiAodGhpcy5nZWFyQm94U2hpZnREZWxheSA8PSAwKSB0aGlzLmdlYXJCb3hTaGlmdERlbGF5ID0gMC4zNTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zbWlzc2lvblJhdGlvIDw9IDApIHRoaXMudHJhbnNtaXNzaW9uUmF0aW8gPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlmZmVyZW50aWFsUmF0aW8gPD0gMCkgdGhpcy5kaWZmZXJlbnRpYWxSYXRpbyA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5mcmljdGlvbkxlcnBTcGVlZCA8PSAwKSB0aGlzLmZyaWN0aW9uTGVycFNwZWVkID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1cm5vdXRMZXJwU3BlZWQgPD0gMCkgdGhpcy5idXJub3V0TGVycFNwZWVkID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1cm5vdXRUaW1lRGVsYXkgPD0gMCkgdGhpcy5idXJub3V0VGltZURlbGF5ID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoIDw9IDApIHRoaXMuYnVybm91dFdoZWVsUGl0Y2ggPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMubWF4Um90YXRpb25TcGVlZCA8PSAwKSB0aGlzLm1heFJvdGF0aW9uU3BlZWQgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMubWluQm9vc3RlclNwZWVkIDw9IDApIHRoaXMubWluQm9vc3RlclNwZWVkID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heEJvb3N0ZXJUaW1lIDw9IDApIHRoaXMubWF4Qm9vc3RlclRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5zZXRCb29zdGVyVGltZSh0aGlzLm1heEJvb3N0ZXJUaW1lKTtcblxuICAgICAgICAgICAgY29uc3QgdmVoaWNsZUNoYXNzaXNUcmFuc2Zvcm06IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiY2hhc3Npc1RyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGlmICh2ZWhpY2xlQ2hhc3Npc1RyYW5zZm9ybSAhPSBudWxsICYmIHZlaGljbGVDaGFzc2lzVHJhbnNmb3JtLm5hbWUgIT0gbnVsbCAmJiB2ZWhpY2xlQ2hhc3Npc1RyYW5zZm9ybS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFzc2lzVHJhbnNmb3JtID0gdGhpcy5nZXRDaGlsZE5vZGUodmVoaWNsZUNoYXNzaXNUcmFuc2Zvcm0ubmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvd2VyQm9vc3RlclRyYW5zZm9ybTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib29zdGVyVHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKHBvd2VyQm9vc3RlclRyYW5zZm9ybSAhPSBudWxsICYmIHBvd2VyQm9vc3RlclRyYW5zZm9ybS5uYW1lICE9IG51bGwgJiYgcG93ZXJCb29zdGVyVHJhbnNmb3JtLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvb3N0ZXJUcmFuc2Zvcm0gPSB0aGlzLmdldENoaWxkTm9kZShwb3dlckJvb3N0ZXJUcmFuc2Zvcm0ubmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib29zdGVyVHJhbnNmb3JtICE9IG51bGwpIHRoaXMuX25vc0F1ZGlvU291cmNlID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KHRoaXMuYm9vc3RlclRyYW5zZm9ybSwgXCJCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdGVlcmluZ1doZWVsTm9kZTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzdGVlcmluZ1doZWVsSHViXCIpO1xuICAgICAgICAgICAgaWYgKHN0ZWVyaW5nV2hlZWxOb2RlICE9IG51bGwgJiYgc3RlZXJpbmdXaGVlbE5vZGUubmFtZSAhPSBudWxsICYmIHN0ZWVyaW5nV2hlZWxOb2RlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0ZWVyaW5nV2hlZWxIdWIgPSB0aGlzLmdldENoaWxkTm9kZShzdGVlcmluZ1doZWVsTm9kZS5uYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSkgYXMgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW5ndWxhckRhbXBlbmVyOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbmd1bGFyRGFtcGVuZXJcIik7XG4gICAgICAgICAgICBpZiAoYW5ndWxhckRhbXBlbmVyICE9IG51bGwpIHRoaXMubV9hbmd1bGFyRGFtcGVuZXIgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhhbmd1bGFyRGFtcGVuZXIpO1xuXG4gICAgICAgICAgICBjb25zdCBzbW9rZVRleHR1cmVJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VGV4dHVyZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9rZVRleHR1cmVcIik7XG4gICAgICAgICAgICBpZiAoc21va2VUZXh0dXJlSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbW9rZVRleHR1cmUgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShzbW9rZVRleHR1cmVJbmZvLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVuZ2luZVRvcnF1ZUluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDdXJ2ZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJlbmdpbmVUb3JxdWVcIik7XG4gICAgICAgICAgICBpZiAoZW5naW5lVG9ycXVlSW5mbyAhPSBudWxsICYmIGVuZ2luZVRvcnF1ZUluZm8uYW5pbWF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZVRvcnF1ZUN1cnZlID0gQkFCWUxPTi5BbmltYXRpb24uUGFyc2UoZW5naW5lVG9ycXVlSW5mby5hbmltYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lVG9ycXVlQ3VydmUgPT0gbnVsbCkgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIHBhcnNlIGVuZ2luZSB0b3JxdWUgY3VydmUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGluaXRWZWhpY2xlU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlZhbGlkYXRlVHJhbnNmb3JtUXVhdGVybmlvbih0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAvLyBSZWdpc3RlciBWZWhpY2xlXG4gICAgICAgICAgICBpZiAodGhpcy5saW5rVHJhY2tNYW5hZ2VyID09PSB0cnVlKSBQUk9KRUNULlJhY2VUcmFja01hbmFnZXIuUmVnaXN0ZXJWZWhpY2xlKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIC8vIFNldHVwIEFuaW1hdG9yXG4gICAgICAgICAgICB0aGlzLl9hbmltYXRvciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FuaW1hdG9yID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25Ob2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLmdldENoaWxkV2l0aFNjcmlwdChcIkJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdG9yID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KGFuaW1hdGlvbk5vZGUsIFwiQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFQlVHOiBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsZWQgdG8gbG9jYXRlIGFuaW1hdG9yIG5vZGUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXR1cCBFbmdpbmUgQXVkaW9cbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZUF1ZGlvU291cmNlID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UgPT0gbnVsbCkgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiTm8gZW5naW5lIGF1ZGlvIHNvdXJjZSBtYW5hZ2VyIGZvdW5kIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIC8vIFNldHVwIFJheWNhc3QgVmVoaWNsZVxuICAgICAgICAgICAgdGhpcy5fcmlnaWRib2R5ID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljc1wiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX3JpZ2lkYm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZSA9IHRoaXMuX3JpZ2lkYm9keS5nZXRSYXljYXN0VmVoaWNsZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJheWNhc3RWZWhpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gS0VFUC1GT1ItUkVGRVJFTkNFOiB0aGlzLl9jaGFzc2lzTWVzaC5waHlzaWNzQm9keS5zZXRBbmd1bGFyRmFjdG9yKHRoaXMubV9hbmd1bGFyRGFtcGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wczogQkFCWUxPTi5QaHlzaWNzTWFzc1Byb3BlcnRpZXMgPSB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRNYXNzUHJvcGVydGllcygpO1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5pbmVydGlhID0gbmV3IEJBQllMT04uVmVjdG9yMyh0aGlzLm1fYW5ndWxhckRhbXBlbmVyLngsIHRoaXMubV9hbmd1bGFyRGFtcGVuZXIueSwgdGhpcy5tX2FuZ3VsYXJEYW1wZW5lci56KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0TWFzc1Byb3BlcnRpZXMocHJvcHMpOyAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogU2V0IEFuZ3VsYXIgRmFjdG9yXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZWFyRGFtcGluZyA9IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LmdldExpbmVhckRhbXBpbmcoKTsgICAgIC8vIE5vdGU6IERlZmF1bHQgTGluZWFyIERyYWdcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmd1bGFyRGFtcGluZyA9IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LmdldEFuZ3VsYXJEYW1waW5nKCk7ICAgLy8gTm90ZTogRGVmYXVsdCBBbmd1bGFyIERyYWdcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnJha2VMaWdodHNsTmFtZTogc3RyaW5nID0gKHRoaXMuYnJha2VMaWdodHNUcmFucyAhPSBudWxsICYmIHRoaXMuYnJha2VMaWdodHNUcmFucy5uYW1lICE9IG51bGwgJiYgdGhpcy5icmFrZUxpZ2h0c1RyYW5zLm5hbWUgIT09IFwiXCIpID8gdGhpcy5icmFrZUxpZ2h0c1RyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZlcnNlTGlnaHRzbE5hbWU6IHN0cmluZyA9ICh0aGlzLnJldmVyc2VMaWdodHNUcmFucyAhPSBudWxsICYmIHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLnJldmVyc2VMaWdodHNUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMucmV2ZXJzZUxpZ2h0c1RyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udExlZnRXaGVlbE5hbWU6IHN0cmluZyA9ICh0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmZyb250TGVmdFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuZnJvbnRMZWZ0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRSaWdodFdoZWVsTmFtZTogc3RyaW5nID0gKHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmZyb250UmlnaHRXaGVlbFRyYW5zLm5hbWUgIT09IFwiXCIpID8gdGhpcy5mcm9udFJpZ2h0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja0xlZnRXaGVlbE5hbWU6IHN0cmluZyA9ICh0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucyAhPSBudWxsICYmIHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmJhY2tMZWZ0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuYmFja0xlZnRXaGVlbFRyYW5zLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWNrUmlnaHRXaGVlbE5hbWU6IHN0cmluZyA9ICh0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMgIT0gbnVsbCAmJiB0aGlzLmJhY2tSaWdodFdoZWVsVHJhbnMubmFtZSAhPSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucy5uYW1lICE9PSBcIlwiKSA/IHRoaXMuYmFja1JpZ2h0V2hlZWxUcmFucy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRMZWZ0V2hlZWxMYWJlbDogc3RyaW5nID0gKHRoaXMuZnJvbnRMZWZ0V2hlZWxDb2xsaWRlciAhPSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxDb2xsaWRlci5uYW1lICE9IG51bGwgJiYgdGhpcy5mcm9udExlZnRXaGVlbENvbGxpZGVyLm5hbWUgIT09IFwiXCIpID8gdGhpcy5mcm9udExlZnRXaGVlbENvbGxpZGVyLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udFJpZ2h0V2hlZWxMYWJlbDogc3RyaW5nID0gKHRoaXMuZnJvbnRSaWdodFdoZWVsQ29sbGlkZXIgIT0gbnVsbCAmJiB0aGlzLmZyb250UmlnaHRXaGVlbENvbGxpZGVyLm5hbWUgIT0gbnVsbCAmJiB0aGlzLmZyb250UmlnaHRXaGVlbENvbGxpZGVyLm5hbWUgIT09IFwiXCIpID8gdGhpcy5mcm9udFJpZ2h0V2hlZWxDb2xsaWRlci5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja0xlZnRXaGVlbExhYmVsOiBzdHJpbmcgPSAodGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIgIT0gbnVsbCAmJiB0aGlzLmJhY2tMZWZ0V2hlZWxDb2xsaWRlci5uYW1lICE9IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsQ29sbGlkZXIubmFtZSAhPT0gXCJcIikgPyB0aGlzLmJhY2tMZWZ0V2hlZWxDb2xsaWRlci5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja1JpZ2h0V2hlZWxMYWJlbDogc3RyaW5nID0gKHRoaXMuYmFja1JpZ2h0V2hlZWxDb2xsaWRlciAhPSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxDb2xsaWRlci5uYW1lICE9IG51bGwgJiYgdGhpcy5iYWNrUmlnaHRXaGVlbENvbGxpZGVyLm5hbWUgIT09IFwiXCIpID8gdGhpcy5iYWNrUmlnaHRXaGVlbENvbGxpZGVyLm5hbWUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgV2hlZWwgSW5kZXhzIEZyb20gV2hlZWwgTmFtZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb250TGVmdFdoZWVsTGFiZWwgIT0gbnVsbCkgdGhpcy5GUk9OVF9MRUZUID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZGV4QnlOYW1lKGZyb250TGVmdFdoZWVsTGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJvbnRSaWdodFdoZWVsTGFiZWwgIT0gbnVsbCkgdGhpcy5GUk9OVF9SSUdIVCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmRleEJ5TmFtZShmcm9udFJpZ2h0V2hlZWxMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiYWNrTGVmdFdoZWVsTGFiZWwgIT0gbnVsbCkgdGhpcy5CQUNLX0xFRlQgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5kZXhCeU5hbWUoYmFja0xlZnRXaGVlbExhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tSaWdodFdoZWVsTGFiZWwgIT0gbnVsbCkgdGhpcy5CQUNLX1JJR0hUID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZGV4QnlOYW1lKGJhY2tSaWdodFdoZWVsTGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgQnJha2UgJiBSZXZlcnNlIExpZ2h0cyBNZXNoZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJyYWtlTGlnaHRzbE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icmFrZUxpZ2h0c01lc2ggPSB0aGlzLmdldENoaWxkTm9kZShicmFrZUxpZ2h0c2xOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5icmFrZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJha2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXZlcnNlTGlnaHRzbE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlTGlnaHRzTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJldmVyc2VMaWdodHNsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJzZUxpZ2h0c01lc2guaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgV2hlZWwgSW5mbyBBbmQgVHJhbnNmb3JtIE1lc2hlc1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYXljYXN0VmVoaWNsZS5nZXROdW1XaGVlbHMoKSA+PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5CQUNLX0xFRlQgPj0gMCAmJiBiYWNrTGVmdFdoZWVsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkJBQ0tfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJhY2tMZWZ0V2hlZWxOYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRXaGVlbE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbC5odWIgPSB0aGlzLmJhY2tMZWZ0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbC5zcGlubmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIFwiV2hlZWxcIiwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsRW1pdHRlciA9IG5ldyBCQUJZTE9OLk1lc2goXCJFbWl0dGVyX1JMXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxFbWl0dGVyLnBhcmVudCA9IHRoaXMubV9iYWNrTGVmdFdoZWVsLnNwaW5uZXIgfHwgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsRW1pdHRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlID0gdGhpcy5jcmVhdGVTbW9rZVBhcnRpY2xlU3lzdGVtKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIlNtb2tlX1JMXCIsIHRoaXMuYmFja0xlZnRXaGVlbEVtaXR0ZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJpdmVUeXBlID09PSAwIHx8IHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDIpIHsgLy8gUkVBUiBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsUmFkaXVzIDw9IDAgJiYgdGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxSYWRpdXMgPSB0aGlzLm1fYmFja0xlZnRXaGVlbC5yYWRpdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkJBQ0tfUklHSFQgPj0gMCAmJiBiYWNrUmlnaHRXaGVlbE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbCA9IHRoaXMucmF5Y2FzdFZlaGljbGUuZ2V0V2hlZWxJbmZvKHRoaXMuQkFDS19SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2ggPSB0aGlzLmdldENoaWxkTm9kZShiYWNrUmlnaHRXaGVlbE5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrUmlnaHRXaGVlbE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuaHViID0gdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5zcGlubmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoLCBcIldoZWVsXCIsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkluZGV4T2YsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxFbWl0dGVyID0gbmV3IEJBQllMT04uTWVzaChcIkVtaXR0ZXJfUlJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxFbWl0dGVyLnBhcmVudCA9IHRoaXMubV9iYWNrUmlnaHRXaGVlbC5zcGlubmVyIHx8IHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZSA9IHRoaXMuY3JlYXRlU21va2VQYXJ0aWNsZVN5c3RlbSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJTbW9rZV9SUlwiLCB0aGlzLmJhY2tSaWdodFdoZWVsRW1pdHRlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDAgfHwgdGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMikgeyAvLyBSRUFSIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxSYWRpdXMgPD0gMCAmJiB0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxSYWRpdXMgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuRlJPTlRfTEVGVCA+PSAwICYmIGZyb250TGVmdFdoZWVsTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFdoZWVsTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGZyb250TGVmdFdoZWVsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250TGVmdFdoZWVsTWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbC5odWIgPSB0aGlzLmZyb250TGVmdFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsLnNwaW5uZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRDaGlsZFRyYW5zZm9ybU5vZGUodGhpcy5mcm9udExlZnRXaGVlbE1lc2gsIFwiV2hlZWxcIiwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbEVtaXR0ZXIgPSBuZXcgQkFCWUxPTi5NZXNoKFwiRW1pdHRlcl9GTFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbEVtaXR0ZXIucGFyZW50ID0gdGhpcy5tX2Zyb250TGVmdFdoZWVsLnNwaW5uZXIgfHwgdGhpcy5mcm9udExlZnRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlID0gdGhpcy5jcmVhdGVTbW9rZVBhcnRpY2xlU3lzdGVtKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIlNtb2tlX0ZMXCIsIHRoaXMuZnJvbnRMZWZ0V2hlZWxFbWl0dGVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMSB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIEZST05UIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxSYWRpdXMgPD0gMCAmJiB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxSYWRpdXMgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuRlJPTlRfUklHSFQgPj0gMCAmJiBmcm9udFJpZ2h0V2hlZWxOYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoZnJvbnRSaWdodFdoZWVsTmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuSW5kZXhPZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRXaGVlbE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmh1YiA9IHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5zcGlubmVyID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5GaW5kQ2hpbGRUcmFuc2Zvcm1Ob2RlKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCwgXCJXaGVlbFwiLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5JbmRleE9mLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbEVtaXR0ZXIgPSBuZXcgQkFCWUxPTi5NZXNoKFwiRW1pdHRlcl9GUlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxFbWl0dGVyLnBhcmVudCA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuc3Bpbm5lciB8fCB0aGlzLmZyb250UmlnaHRXaGVlbE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsRW1pdHRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUgPSB0aGlzLmNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0odGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiU21va2VfRlJcIiwgdGhpcy5mcm9udFJpZ2h0V2hlZWxFbWl0dGVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMSB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIEZST05UIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxSYWRpdXMgPD0gMCAmJiB0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsUmFkaXVzID0gdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5yYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgU3RhYmlsemF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRTbW9vdGhGbHlpbmdJbXB1bHNlKHRoaXMuc21vb3RoRmx5aW5nRm9yY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRTdGFiaWxpemluZ0ZvcmNlKHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBDb2xsaXNpb24gRmlsdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbV9jb2xsaXNpb25GaWx0ZXJHcm91cCDihpIgZmlsdGVyTWVtYmVyc2hpcE1hc2tcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1fY29sbGlzaW9uRmlsdGVyTWFzayDihpIgZmlsdGVyQ29sbGlkZU1hc2tcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnJheWNhc3RWZWhpY2xlLnNldENvbGxpc2lvbkZpbHRlckdyb3VwKEJBQllMT04uVG9vbGtpdC5Db2xsaXNpb25GaWx0ZXJzLkRlZmF1bHRGaWx0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRDb2xsaXNpb25GaWx0ZXJNYXNrKEJBQllMT04uVG9vbGtpdC5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgU2tpZCBBdWRpbyBTb3VyY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuYmFja1JpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgXCJCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwgJiYgdGhpcy5iYWNrTGVmdFdoZWVsTWVzaCAhPSBudWxsKSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgXCJCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwgJiYgdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoICE9IG51bGwpIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmZyb250UmlnaHRXaGVlbE1lc2gsIFwiQkFCWUxPTi5Ub29sa2l0LkF1ZGlvU291cmNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9PSBudWxsICYmIHRoaXMuZnJvbnRMZWZ0V2hlZWxNZXNoICE9IG51bGwpIHRoaXMuX3NraWRBdWRpb1NvdXJjZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLmZyb250TGVmdFdoZWVsTWVzaCwgXCJCQUJZTE9OLlRvb2xraXQuQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpZEF1ZGlvU291cmNlID09IG51bGwpIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk5vIHNraWQgYXVkaW8gc291cmNlIG1hbmFnZXIgZm91bmQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiSW52YWxpZCB2ZWhpY2xlIGNvbnRyb2xsZXIgd2hlZWwgY291bnQgaW5mbyBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJObyB3aGVlbCBjb2xsaWRlciBpbmZvcm1hdGlvbiBmb3VuZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsZWQgdG8gZ2V0IHJpZ2lkYm9keSBjb21wb25lbnQ6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZVZlaGljbGVTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9saW5lYXJWZWxvY2l0eSA9IHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24uc3VidHJhY3QodGhpcy5tX2xhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLm1fc2NhbGVkVmVsb2NpdHkgPSAodGhpcy5tX2xpbmVhclZlbG9jaXR5Lmxlbmd0aCgpIC8gdGhpcy5nZXREZWx0YVNlY29uZHMoKSk7XG4gICAgICAgICAgICB0aGlzLm1fbGluZWFyVmVsb2NpdHkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLm1fbGluZWFyVmVsb2NpdHkuc2NhbGVJblBsYWNlKHRoaXMubV9zY2FsZWRWZWxvY2l0eSk7XG4gICAgICAgICAgICBpZiAodGhpcy53aGVlbERyYXdWZWxvY2l0eSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuY29weUZyb20odGhpcy5tX2xpbmVhclZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuc2NhbGVJblBsYWNlKHRoaXMud2hlZWxEcmF3VmVsb2NpdHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tX2xhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY2FzdFdoZWVsQ29udGFjdFJheXMoKTtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveVZlaGljbGVTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX3JpZ2lkYm9keSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9lbmdpbmVBdWRpb1NvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9za2lkQXVkaW9Tb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udExlZnRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9oYXZva0luc3RhbmNlLmRlc3Ryb3kodGhpcy5tX2Zyb250TGVmdFdoZWVsKTsgLy8gPz8/XG4gICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL2hhdm9rSW5zdGFuY2UuZGVzdHJveSh0aGlzLm1fZnJvbnRSaWdodFdoZWVsKTsgLy8gPz8/XG4gICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vaGF2b2tJbnN0YW5jZS5kZXN0cm95KHRoaXMubV9iYWNrTGVmdFdoZWVsKTsgLy8gPz8/XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrUmlnaHRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9oYXZva0luc3RhbmNlLmRlc3Ryb3kodGhpcy5tX2JhY2tSaWdodFdoZWVsKTsgLy8gPz8/XG4gICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbE1lc2ggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbE1lc2ggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbE1lc2ggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFRyYW5zID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsVHJhbnMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFdoZWVsVHJhbnMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRXaGVlbFRyYW5zID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxDb2xsaWRlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRXaGVlbENvbGxpZGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbENvbGxpZGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxDb2xsaWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFB1YmxpYyBWZWhpY2xlIENvbnRyb2xsZXIgTW92ZW1lbnQgRnVuY3Rpb25zICAgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgYnVybm91dFRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJlc3RvcmVUaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjb29sZG93blRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHdoZWVsRG9udXRzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgd2hlZWxCdXJub3V0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgd2hlZWxTa2lkZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGRvbnV0U3BpblRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY3VycmVudEZvcndhcmQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY3VycmVudFR1cm5pbmc6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY3VycmVudEJvb3N0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY3VycmVudFNraWRkaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY3VycmVudERvbnV0czogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGN1cnJlbnRTbGlwQW5nbGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgY3VycmVudERyaXZlUG93ZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgdGFyZ2V0RHJpdmVQb3dlcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRvclN0ZWVyQW5nbGU6IG51bWJlciA9IDA7XG5cbiAgICAgICAgLyoqIEdldHMgdGhlIGN1cnJlbnQgdmVoaWNsZSBsYXRlcmFsIHNsaXAgYW5nbGUgaW4gZGVncmVlcy4gKi9cbiAgICAgICAgcHVibGljIGdldEN1cnJlbnRTbGlwQW5nbGUoc2lnbmVkOiBib29sZWFuKTogbnVtYmVyIHtcbiAgICAgICAgICAgIGNvbnN0IHZlaGljbGU6IGFueSA9IHRoaXMucmF5Y2FzdFZlaGljbGU7XG4gICAgICAgICAgICBpZiAodmVoaWNsZSA9PSBudWxsKSByZXR1cm4gMDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHZlaGljbGUncyBsYXRlcmFsIGFjY2VsZXJhdGlvbiBmb3IgY29ybmVyaW5nIGVmZmVjdHNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRBbmd1bGFyVmVsb2NpdHlUb1JlZih0aGlzLmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICBjb25zdCBsYXRlcmFsR0ZvcmNlOiBudW1iZXIgPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eS55OyAvLyBBc3N1bWluZyB5LWF4aXMgaXMgdXAtZG93biwgYWRqdXN0IGJhc2VkIG9uIHlvdXIgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBzaWduZWRMYXRlcmFsR0ZvcmNlOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xzLlRvRGVncmVlcyhsYXRlcmFsR0ZvcmNlKTtcbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlTGF0ZXJhbEdGb3JjZTogbnVtYmVyID0gTWF0aC5hYnMoc2lnbmVkTGF0ZXJhbEdGb3JjZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgcmV0dXJuIChzaWduZWQgPT09IHRydWUpID8gc2lnbmVkTGF0ZXJhbEdGb3JjZSA6IGFic29sdXRlTGF0ZXJhbEdGb3JjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBHZXRzIHRoZSBjdXJyZW50IHZlaGljbGUgbGF0ZXJhbCBzbGlwIGFuZ2xlIGluIHJhZGlhbnMuICovXG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50U2xpcFJhZGlhbnMoc2lnbmVkOiBib29sZWFuKTogbnVtYmVyIHtcbiAgICAgICAgICAgIGNvbnN0IHZlaGljbGU6IGFueSA9IHRoaXMucmF5Y2FzdFZlaGljbGU7XG4gICAgICAgICAgICBpZiAodmVoaWNsZSA9PSBudWxsKSByZXR1cm4gMDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHZlaGljbGUncyBsYXRlcmFsIGFjY2VsZXJhdGlvbiBmb3IgY29ybmVyaW5nIGVmZmVjdHNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRBbmd1bGFyVmVsb2NpdHlUb1JlZih0aGlzLmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICBjb25zdCBsYXRlcmFsR0ZvcmNlOiBudW1iZXIgPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eS55OyAvLyBBc3N1bWluZyB5LWF4aXMgaXMgdXAtZG93biwgYWRqdXN0IGJhc2VkIG9uIHlvdXIgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBzaWduZWRMYXRlcmFsR0ZvcmNlOiBudW1iZXIgPSBsYXRlcmFsR0ZvcmNlO1xuICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVMYXRlcmFsR0ZvcmNlOiBudW1iZXIgPSBNYXRoLmFicyhzaWduZWRMYXRlcmFsR0ZvcmNlKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICByZXR1cm4gKHNpZ25lZCA9PT0gdHJ1ZSkgPyBzaWduZWRMYXRlcmFsR0ZvcmNlIDogYWJzb2x1dGVMYXRlcmFsR0ZvcmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIERyaXZlcyB0aGUgcmF5Y2FzdCB2ZWhpY2xlIHdpdGggdGhlIHNwZWNmaWVkIG1vdmVtZW50IHByb3BlcnRpZXMuICovXG4gICAgICAgIHB1YmxpYyBkcml2ZSh0aHJvdHRsZTogbnVtYmVyLCBzdGVlcmluZzogbnVtYmVyLCBicmFraW5nOiBib29sZWFuLCBkb251dHM6IGJvb2xlYW4sIGJvb3N0ZXI6IG51bWJlciA9IDAsIGF1dG9waWxvdDogYm9vbGVhbiA9IGZhbHNlLCBub3M6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgZGVsdGFUaW1lOiBudW1iZXIgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Rm9yd2FyZCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRocm90dGxlLCAtMSwgMSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuaW5nID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoc3RlZXJpbmcsIC0xLCAxKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERvbnV0cyA9IGRvbnV0cztcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNraWRkaW5nID0gYnJha2luZztcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEJvb3N0aW5nID0gKG5vcyA9PT0gdHJ1ZSAmJiB0aGlzLnBvd2VyQm9vc3RlciA9PT0gdHJ1ZSAmJiB0aGlzLndoZWVsQnVybm91dCA9PT0gZmFsc2UgJiYgdGhpcy5ib29zdFNwZWVkVGltZXIgPiAwICYmIHRoaXMuYW1lcmljYW5TcGVlZCA+PSB0aGlzLm1pbkJvb3N0ZXJTcGVlZCk7IC8vIFRPRE86IFZBTElEQVRFIFdIRU4gQ0FOIFJFQUxMWSBHTyBJTlRPIEJPT1NUIE1PREVcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNsaXBBbmdsZSA9IHRoaXMuZ2V0Q3VycmVudFNsaXBBbmdsZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RHJpdmVQb3dlciA9ICh0aGlzLmN1cnJlbnRCb29zdGluZyA9PT0gdHJ1ZSkgPyB0aGlzLmJvb3N0ZXJDb2VmZmljaWVudCA6ICh0aGlzLnBvd2VyQ29lZmZpY2llbnQgKyBib29zdGVyKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERyaXZlUG93ZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuY3VycmVudERyaXZlUG93ZXIsIHRoaXMudGFyZ2V0RHJpdmVQb3dlciwgKHRoaXMucG93ZXJDaGFuZ2VSYXRlICogZGVsdGFUaW1lKSk7XG4gICAgICAgICAgICBXTS5QcmludFRvU2NyZWVuKFwiTVBIOiBcIiArIHRoaXMuYW1lcmljYW5TcGVlZC50b0ZpeGVkKDApICsgXCIgLS0+IFJQTTogXCIgKyB0aGlzLmVuZ2luZVJQTS50b0ZpeGVkKDApICsgXCIgLS0+IEdlYXI6IFwiICsgdGhpcy5nZWFySW5kZXgudG9GaXhlZCgwKSArIFwiIC0tPiBQb3dlcjogXCIgKyB0aGlzLmN1cnJlbnREcml2ZVBvd2VyLnRvRml4ZWQoMikgKyBcIiAtLT4gQm9vc3QgVGltZTogXCIgKyB0aGlzLmJvb3N0U3BlZWRUaW1lci50b0ZpeGVkKDIpICsgXCIgLS0+IERvbnV0IE1ldGVyOiBcIiArIHRoaXMuZG9udXRNZXRlci50b0ZpeGVkKDIpICsgXCIgLS0+IEJ1cm5vdXQgTWV0ZXI6IFwiICsgdGhpcy5idXJub3V0TWV0ZXIudG9GaXhlZCgyKSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIERyaXZpbmcgU3lzdGVtXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5oYW5kQnJha2luZyA9ICh0aGlzLmdldEN1cnJlbnRTa2lkZGluZygpID09PSB0cnVlICYmIHRoaXMuaGFuZEJyYWtpbmdGb3JjZSA+IDApO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFuZEJyYWtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRCcmFraW5nVGltZXIgKz0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRCcmFraW5nVGltZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3JpZ2lkYm9keSA9PSBudWxsIHx8IHRoaXMucmF5Y2FzdFZlaGljbGUgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHRoaXMuRlJPTlRfTEVGVCA+PSAwICYmIHRoaXMuRlJPTlRfUklHSFQgPj0gMCAmJiB0aGlzLkJBQ0tfTEVGVCA+PSAwICYmIHRoaXMuQkFDS19SSUdIVCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7IHRoaXMud2hlZWxCcmFraW5nRm9yY2UgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRXaGVlbFBvd2VyID0gMDsgdGhpcy5iYWNrV2hlZWxQb3dlciA9IDA7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgRW5naW5lIEZvcmNlc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgdGhyb3R0bGVTcGVlZDogbnVtYmVyID0gKHRoaXMudGhyb3R0bGVFbmdpbmVTcGVlZCA+IDApID8gdGhpcy50aHJvdHRsZUVuZ2luZVNwZWVkIDogdGhpcy5nZXRUb3BFbmdpbmVTcGVlZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlYXJTaGlmdFJhdGlvOiBudW1iZXIgPSAodGhpcy5nZWFyQm94U2hpZnRSYXRpb3MgIT0gbnVsbCAmJiB0aGlzLmdlYXJCb3hTaGlmdFJhdGlvcy5sZW5ndGggPiB0aGlzLmdlYXJJbmRleCkgPyB0aGlzLmdlYXJCb3hTaGlmdFJhdGlvc1t0aGlzLmdlYXJJbmRleF0gOiAxLjA7XG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxHZWFyUmF0aW86IG51bWJlciA9IChnZWFyU2hpZnRSYXRpbyAqIHRoaXMuZGlmZmVyZW50aWFsUmF0aW8gKiB0aGlzLnRyYW5zbWlzc2lvblJhdGlvKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmdpbmVNb3RvclRvcnF1ZTogbnVtYmVyID0gdGhpcy5nZXRWZWhpY2xlRW5naW5lVG9ycXVlKHRoaXMuZW5naW5lUlBNLCB0aGlzLmN1cnJlbnREcml2ZVBvd2VyKSAqIE1hdGguYWJzKHRoaXMuY3VycmVudEZvcndhcmQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbG93ZWRFbmdpbmVQb3dlcjogbnVtYmVyID0gKGVuZ2luZU1vdG9yVG9ycXVlICogZmluYWxHZWFyUmF0aW8pO1xuICAgICAgICAgICAgICAgIGxldCBhbGxvd2VkQnJha2luZ0ZvcmNlOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMubWluQnJha2luZ0ZvcmNlLCB0aGlzLm1heEJyYWtpbmdGb3JjZSwgdGhpcy5ncmFkaWVudFNwZWVkKSAqIE1hdGguYWJzKHRoaXMuY3VycmVudEZvcndhcmQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRGb3J3YXJkID4gMCAmJiB0aGlzLndoZWVsQnVybm91dCA9PT0gdHJ1ZSAmJiB0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSBhbGxvd2VkRW5naW5lUG93ZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEZvcndhcmQgPiAwKSB7IC8vIEZvcndhcmRcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIFN1cHBvcnQgUmlnaHQgSGFuZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3J3YXJkU3BlZWQgPCAtMSkgdGhpcy53aGVlbEJyYWtpbmdGb3JjZSA9IGFsbG93ZWRCcmFraW5nRm9yY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRoaXMuZW5naW5lRm9yY2UgPSBhbGxvd2VkRW5naW5lUG93ZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRGb3J3YXJkIDwgMCkgeyAvLyBSZXZlcnNlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBTdXBwb3J0IFJpZ2h0IEhhbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9yd2FyZFNwZWVkID4gMSkgdGhpcy53aGVlbEJyYWtpbmdGb3JjZSA9IGFsbG93ZWRCcmFraW5nRm9yY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRoaXMuZW5naW5lRm9yY2UgPSAtKGFsbG93ZWRFbmdpbmVQb3dlciAqIHRoaXMubWF4UmV2ZXJzZVBvd2VyKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBTdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbEJyYWtpbmdGb3JjZSA9IDEwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2xvdyBEb3duIEJvb3N0IFBvd2VyXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Qm9vc3RpbmcgPT09IGZhbHNlICYmIHRoaXMuYW1lcmljYW5TcGVlZCA+IHRoaXMudG9wRW5naW5lU3BlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxCcmFraW5nRm9yY2UgPSAoYWxsb3dlZEJyYWtpbmdGb3JjZSAqIDEuMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIFZlaGljbGUgQnJha2luZ1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgbGV0IGVuZ2luZUJyYWtlOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoaWZ0aW5nVGltZSA+IDAgfHwgdGhpcy5hbWVyaWNhblNwZWVkID4gdGhyb3R0bGVTcGVlZCkge1xuICAgICAgICAgICAgICAgICAgICBlbmdpbmVCcmFrZSA9IHRoaXMuc2hpZnRpbmdCcmFrZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIFZlaGljbGUgU3RlZXJpbmdcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGxldCB2aXN1YWxTdGVlckJvb3N0OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBhY2tlcm1hblN0ZWVyTGVmdDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgYWNrZXJtYW5TdGVlclJpZ2h0OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGxldCB0dXJuaW5nUmFkaXVzOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuYWNrZXJtYW5UdXJuUmFkaXVzLCB0aGlzLmFja2VybWFuTWF4UmFkaXVzLCB0aGlzLmdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZ0Jvb3N0OiBib29sZWFuID0gKE1hdGguYWJzKHRoaXMuY3VycmVudFR1cm5pbmcpID49IDAuMDIpOyAvLyBOb3RlOiBNYXggUmFuZ2UgKDAuMDIgLSAwLjA0KVxuICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZ1JhZGl1czogbnVtYmVyID0gKHRoaXMuY3VycmVudEZvcndhcmQgPiAwICYmIHRoaXMud2hlZWxCdXJub3V0ID09PSB0cnVlICYmIHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpID8gdGhpcy5kb251dFR1cm5pbmdSYWRpdXMgOiAodHVybmluZ1JhZGl1cyAqIHRoaXMuYWNrZXJtYW5UdXJuRmFjdG9yKTsgLy8gTm90ZTogU21hbGxlciBTdGVlcmluZyBSYWRpdXMgRXF1YWxzIFNoYXJwZXIgVHVybmluZ1xuICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZ0Ftb3VudDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmxvd1NwZWVkU3RlZXJpbmcsIHRoaXMuaGlnaFNwZWVkU3RlZXJpbmcsIHRoaXMuZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgbGV0IHN0ZWVyaW5nR3JhZGllbnQ6IG51bWJlciA9IChzdGVlcmluZ0Ftb3VudCAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRTbGlwUmFkaWFuczogbnVtYmVyID0gdGhpcy5nZXRDdXJyZW50U2xpcFJhZGlhbnModHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVc2UgQWNrZXJtYW4gU3RlZXJpbmcgRm9ybXVsYXNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRUdXJuaW5nID4gMCkgeyAvLyBSaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhTdGVlckJvb3N0ID4gMCAmJiBzdGVlcmluZ0Jvb3N0ID09PSB0cnVlKSB2aXN1YWxTdGVlckJvb3N0ID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5tYXhTdGVlckJvb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlckxlZnQgPSBNYXRoLmF0YW4odGhpcy5hY2tlcm1hbldoZWVsQmFzZSAvIChzdGVlcmluZ1JhZGl1cyArICh0aGlzLmFja2VybWFuUmVhclRyYWNrIC8gMikpKSAqIHRoaXMuY3VycmVudFR1cm5pbmc7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJSaWdodCA9IE1hdGguYXRhbih0aGlzLmFja2VybWFuV2hlZWxCYXNlIC8gKHN0ZWVyaW5nUmFkaXVzIC0gKHRoaXMuYWNrZXJtYW5SZWFyVHJhY2sgLyAyKSkpICogdGhpcy5jdXJyZW50VHVybmluZztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFR1cm5pbmcgPCAwKSB7IC8vIExlZnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4U3RlZXJCb29zdCA+IDAgJiYgc3RlZXJpbmdCb29zdCA9PT0gdHJ1ZSkgdmlzdWFsU3RlZXJCb29zdCA9IC1CQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLm1heFN0ZWVyQm9vc3QpO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyTGVmdCA9IE1hdGguYXRhbih0aGlzLmFja2VybWFuV2hlZWxCYXNlIC8gKHN0ZWVyaW5nUmFkaXVzIC0gKHRoaXMuYWNrZXJtYW5SZWFyVHJhY2sgLyAyKSkpICogdGhpcy5jdXJyZW50VHVybmluZztcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlclJpZ2h0ID0gTWF0aC5hdGFuKHRoaXMuYWNrZXJtYW5XaGVlbEJhc2UgLyAoc3RlZXJpbmdSYWRpdXMgKyAodGhpcy5hY2tlcm1hblJlYXJUcmFjayAvIDIpKSkgKiB0aGlzLmN1cnJlbnRUdXJuaW5nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc3VhbFN0ZWVyQm9vc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyTGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJSaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsQnVybm91dCA9PT0gdHJ1ZSAmJiB0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJMZWZ0ICo9IHRoaXMubWF4QnVybm91dEZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgYWNrZXJtYW5TdGVlclJpZ2h0ICo9IHRoaXMubWF4QnVybm91dEZhY3RvcjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF1dG9waWxvdCA9PT0gZmFsc2UpIHsgLy8gQXNzaXN0ZWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21vb3RoU3RlZXJGYWN0b3I6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAoMS4wLCB0aGlzLnRvcFNwZWVkRGFtcGVuZXIsIHRoaXMuZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIGFja2VybWFuU3RlZXJMZWZ0ICo9IHNtb290aFN0ZWVyRmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICBhY2tlcm1hblN0ZWVyUmlnaHQgKj0gc21vb3RoU3RlZXJGYWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU21vb3RoIFBoeXNpY3MgU3RlZXJpbmcgQW5nbGVzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3NTdGVlckFuZ2xlTCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5waHlzaWNzU3RlZXJBbmdsZUwsIGFja2VybWFuU3RlZXJMZWZ0LCBzdGVlcmluZ0dyYWRpZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3NTdGVlckFuZ2xlUiA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5waHlzaWNzU3RlZXJBbmdsZVIsIGFja2VybWFuU3RlZXJSaWdodCwgc3RlZXJpbmdHcmFkaWVudCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTbW9vdGggVmlzdWFsIFN0ZWVyaW5nIEFuZ2xlc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxTdGVlckJvb3N0TCA9IChhY2tlcm1hblN0ZWVyTGVmdCArIHZpc3VhbFN0ZWVyQm9vc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJCb29zdFIgPSAoYWNrZXJtYW5TdGVlclJpZ2h0ICsgdmlzdWFsU3RlZXJCb29zdCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxCdXJub3V0ID09PSB0cnVlICYmIHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXN1YWxTdGVlckJvb3N0TCAqPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3RlZXJCb29zdFIgKj0gMC41O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdmVyU3RlZXJTcGVlZCA+IDAgJiYgdGhpcy5oYW5kQnJha2luZyA9PT0gdHJ1ZSAmJiB0aGlzLmhhbmRCcmFraW5nVGltZXIgPiB0aGlzLm92ZXJTdGVlclRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXN1YWxTdGVlckJvb3N0TCAqPSAtMTsgLy8gTm90ZTogSW52ZXJ0IE92ZXIgU3RlZXJpbmcgQW5nbGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXN1YWxTdGVlckJvb3N0UiAqPSAtMTsgLy8gTm90ZTogSW52ZXJ0IE92ZXIgU3RlZXJpbmcgQW5nbGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxTdGVlckFuZ2xlTCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy52aXN1YWxTdGVlckFuZ2xlTCwgdGhpcy52aXN1YWxTdGVlckJvb3N0TCwgc3RlZXJpbmdHcmFkaWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxTdGVlckFuZ2xlUiA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy52aXN1YWxTdGVlckFuZ2xlUiwgdGhpcy52aXN1YWxTdGVlckJvb3N0Uiwgc3RlZXJpbmdHcmFkaWVudCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTbW9vdGggU3RlZXJpbmcgV2hlZWwgQW5nbGVzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBsZXQgc3RlZXJpbmdBbmdsZUJvb3N0OiBudW1iZXIgPSAyLjA7XG4gICAgICAgICAgICAgICAgbGV0IHN0ZWVyaW5nQW5nbGVGYWN0b3I6IG51bWJlciA9IE1hdGguYWJzKHRoaXMuY3VycmVudFR1cm5pbmcpICogc3RlZXJpbmdBbmdsZUJvb3N0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRUdXJuaW5nID4gMCkgeyAvLyBSaWdodFxuICAgICAgICAgICAgICAgICAgICBzdGVlcmluZ0FuZ2xlRmFjdG9yID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoc3RlZXJpbmdBbmdsZUZhY3RvciwgMCwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRUdXJuaW5nIDwgMCkgeyAvLyBMZWZ0XG4gICAgICAgICAgICAgICAgICAgIHN0ZWVyaW5nQW5nbGVGYWN0b3IgPSAtQkFCWUxPTi5TY2FsYXIuQ2xhbXAoc3RlZXJpbmdBbmdsZUZhY3RvciwgMCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBmaXhlZEN1cnJlbnRUdXJuaW5nOiBudW1iZXIgPSAodGhpcy5vdmVyU3RlZXJTcGVlZCA+IDAgJiYgdGhpcy5oYW5kQnJha2luZyA9PT0gdHJ1ZSAmJiB0aGlzLmhhbmRCcmFraW5nVGltZXIgPiB0aGlzLm92ZXJTdGVlclRpbWVvdXQpID8gc3RlZXJpbmdBbmdsZUZhY3RvciA6IC1zdGVlcmluZ0FuZ2xlRmFjdG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0b3JTdGVlckFuZ2xlID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmFuaW1hdG9yU3RlZXJBbmdsZSwgZml4ZWRDdXJyZW50VHVybmluZywgKHRoaXMubWF4U3RlZXJpbmdTcGVlZCAqIGRlbHRhVGltZSkpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGVlcmluZ1doZWVsSHViICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RlZXJpbmdXaGVlbEh1Yi5yb3RhdGlvblF1YXRlcm5pb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJWZWN0b3IodGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWdyZWVzU3RlZXJBbmdsZTogbnVtYmVyID0gKHRoaXMuYW5pbWF0b3JTdGVlckFuZ2xlICogdGhpcy5tYXhTdGVlcmluZ0FuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaWFuc1N0ZWVyQW5nbGU6IG51bWJlciA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKGRlZ3JlZXNTdGVlckFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeGF4aXM6IG51bWJlciA9ICh0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID09PSAwKSA/IHJhZGlhbnNTdGVlckFuZ2xlIDogMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeWF4aXM6IG51bWJlciA9ICh0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID09PSAxKSA/IHJhZGlhbnNTdGVlckFuZ2xlIDogMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgemF4aXM6IG51bWJlciA9ICh0aGlzLnN0ZWVyaW5nV2hlZWxBeGlzID09PSAyKSA/IHJhZGlhbnNTdGVlckFuZ2xlIDogMDtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYodGhpcy5zdGVlcmluZ1doZWVsSHViLnJvdGF0aW9uUXVhdGVybmlvbiwgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh4YXhpcywgeWF4aXMsIHpheGlzKSwgKHRoaXMubWF4U3RlZXJpbmdTcGVlZCAqIGRlbHRhVGltZSksIHRoaXMuc3RlZXJpbmdXaGVlbEh1Yi5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0b3IgIT0gbnVsbCkgdGhpcy5fYW5pbWF0b3Iuc2V0RmxvYXQoXCJUdXJuQW5nbGVcIiwgdGhpcy5hbmltYXRvclN0ZWVyQW5nbGUpOyAvLyBOb3RlOiBGaXhlZCBBbmltYXRpb24gVHVybmluZyBBbmdsZSAoLTEgVG8gKzEpXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgUmF5Y2FzdCBWZWhpY2xlIENvbnRyb2xzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlRnJpY3Rpb246IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhbmRCcmFraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxCdXJub3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxEb251dHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0VGltZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb251dEV4dHJhUm90YXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBXaGVlbCBTa2lkZGluZyBNb2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJheWNhc3RWZWhpY2xlLmxvY2tlZFdoZWVsSW5kZXhlcyA9PSBudWxsKSB0aGlzLnJheWNhc3RWZWhpY2xlLmxvY2tlZFdoZWVsSW5kZXhlcyA9IFt0aGlzLkJBQ0tfTEVGVCwgdGhpcy5CQUNLX1JJR0hUXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW1lcmljYW5TcGVlZCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbFNraWRkaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxTa2lkZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5za2lkZGluZ1RpbWUgPSB0aGlzLmJyYWtlUmVjb3ZlcnlEZWxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbFNraWRGcmljdGlvbjogbnVtYmVyID0gMDsgLy8gRGVmYXVsdCBXaGVlbCBTa2lkZGluZyBGcmludGlvbiBEcm9wIFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udExlZnRXaGVlbCAhPSBudWxsKSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gd2hlZWxTa2lkRnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSB3aGVlbFNraWRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gd2hlZWxTa2lkRnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrUmlnaHRXaGVlbCAhPSBudWxsKSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gd2hlZWxTa2lkRnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGcmljdGlvbiA9IGZhbHNlOyAvLyBOb3RlOiBEaXNhYmxlIEZyaWN0aW9uIExlcnBpbmcgVGhpcyBGcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBVcGRhdGUgVmVoaWNsZSBXaGVlbCBJbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcodGhpcy5saW5lYXJCcmFraW5nRm9yY2UsIHRoaXMuYW5ndWxhckJyYWtpbmdGb3JjZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmICh1cGRhdGVGcmljdGlvbiA9PT0gdHJ1ZSkgdGhpcy51cGRhdGVDdXJyZW50RnJpY3Rpb25TbGlwKGRlbHRhVGltZSAqIHRoaXMuc2tpZGRpbmdMZXJwU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5za2lkZGluZ1RpbWUgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaW5lYXJCcmFrZURhbXBpbmcodGhpcy5saW5lYXJCcmFraW5nRm9yY2UsIChkZWx0YVRpbWUgKiB0aGlzLmJyYWtlUmVjb3ZlcnlTcGVlZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBbmd1bGFyQnJha2VEYW1waW5nKHRoaXMuYW5ndWxhckJyYWtpbmdGb3JjZSwgKGRlbHRhVGltZSAqIHRoaXMuYnJha2VSZWNvdmVyeVNwZWVkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlRnJpY3Rpb24gPT09IHRydWUgJiYgdGhpcy5hbWVyaWNhblNwZWVkIDw9IDAuMjUpIHRoaXMudXBkYXRlQ3VycmVudEZyaWN0aW9uU2xpcChkZWx0YVRpbWUgKiB0aGlzLnNraWRSZWNvdmVyeVNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRSb3RhdGlvbkRlbHRhKDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRSb3RhdGlvbkJvb3N0KDApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFZpc3VhbFN0ZWVyaW5nQW5nbGUodGhpcy52aXN1YWxTdGVlckFuZ2xlTCwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRWaXN1YWxTdGVlcmluZ0FuZ2xlKHRoaXMudmlzdWFsU3RlZXJBbmdsZVIsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVMLCB0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVSLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIEFkZGl0aW9uYWwgQW5ndWxhciBSb3RhdGlvbiBGb3IgU2tpZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9yd2FyZFNwZWVkID49IDAgJiYgdGhpcy5oYW5kQnJha2luZ1RpbWVyIDwgdGhpcy5za2lkUm90YXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXh0cmFTa2lkUm90YXRpb246IG51bWJlciA9IChNYXRoLmFicyhjdXJyZW50U2xpcFJhZGlhbnMpICogKFBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyLkRFRkFVTFRfU0tJRF9GQUNUT1IgKyB0aGlzLmV4dHJhUm90YXRpb25TcGVlZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dHJhU2tpZFJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFTa2lkUm90YXRpb24gPSBCQUJZTE9OLlNjYWxhci5DbGFtcChleHRyYVNraWRSb3RhdGlvbiwgMCwgdGhpcy5tYXhSb3RhdGlvblNwZWVkKSAqIHRoaXMuY3VycmVudFR1cm5pbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2tpZEV4dHJhUm90YXRpb24uc2V0KDAsIGV4dHJhU2tpZFJvdGF0aW9uLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRBbmd1bGFyVmVsb2NpdHkodGhpcy5fc2tpZEV4dHJhUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vV00uUHJpbnRUb1NjcmVlbihcIkV4dHJhIFNraWQgUm90YXRpb246IFwiICsgdGhpcy5fc2tpZEV4dHJhUm90YXRpb24ueS50b0ZpeGVkKDIpLCBcImdyZWVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0RW5naW5lRm9yY2UoMCwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSgwLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSgwLCB0aGlzLkJBQ0tfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0RW5naW5lRm9yY2UoMCwgdGhpcy5CQUNLX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRCcmFrZUZvcmNlOiBudW1iZXIgPSAodGhpcy5oYW5kQnJha2luZ0ZvcmNlICogMC4wMDAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UoZnJvbnRCcmFrZUZvcmNlLCB0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZShmcm9udEJyYWtlRm9yY2UsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRyYUJyYWtlRm9yY2U6IG51bWJlciA9ICh0aGlzLmhhbmRCcmFraW5nRm9yY2UgKiAxMDAwMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKGV4dHJhQnJha2VGb3JjZSwgdGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZShleHRyYUJyYWtlRm9yY2UsIHRoaXMuQkFDS19SSUdIVCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYXljYXN0VmVoaWNsZS5sb2NrZWRXaGVlbEluZGV4ZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5sb2NrZWRXaGVlbEluZGV4ZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Um90YXRpb25EZWx0YSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFJvdGF0aW9uQm9vc3QoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbFNraWRkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpZGRpbmdUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0Q29lZmZpY2llbnQgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLmJ1cm5vdXRDb2VmZmljaWVudCwgMSwgMzApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRUcmlnZ2VyTWFyayA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMuYnVybm91dFRyaWdnZXJNYXJrLCAxLCAyMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQnVybm91dFNwZWVkOiBib29sZWFuID0gKHRoaXMuYW1lcmljYW5TcGVlZCA8PSB0aGlzLmJ1cm5vdXRUcmlnZ2VyTWFyayk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRnVsbFRocm90dGxlOiBib29sZWFuID0gKHRoaXMuY3VycmVudEZvcndhcmQgPCAtMC45IHx8IHRoaXMuY3VycmVudEZvcndhcmQgPiAwLjkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0Z1bGxUdXJuaW5nOiBib29sZWFuID0gKHRoaXMuY3VycmVudFR1cm5pbmcgPCAtMC45IHx8IHRoaXMuY3VycmVudFR1cm5pbmcgPiAwLjkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgd2hlZWxMZXJwU3BlZWQ6IG51bWJlciA9IChkZWx0YVRpbWUgKiB0aGlzLmZyaWN0aW9uTGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdoZWVsQm9vc3RTcGVlZDogbnVtYmVyID0gMDsgLy8gRGVmYXVsdCBaZXJvIFdoZWVsIFJvdGF0aW9uIEJvb3N0XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIFdoZWVsIEJ1cm5vdXQgTW9kZVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVBdXRvQnVybm91dHMgPT09IHRydWUgJiYgdGhpcy5idXJub3V0VGltZXIgPD0gMCAmJiBpc0Z1bGxUaHJvdHRsZSA9PT0gdHJ1ZSAmJiBpc0J1cm5vdXRTcGVlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0VGltZXIgPSAodGhpcy5idXJub3V0VGltZURlbGF5ICogMC4yNSk7IC8vIE5vdGU6IDI1IFBlcmNlbnQgU2xpcHBpbmcgVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbERvbnV0cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbEJ1cm5vdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9udXRFeHRyYVJvdGF0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBXaGVlbCBCdXJub3V0IFRpbWVyc1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXN0b3JlVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3RvcmVUaW1lciAtPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXN0b3JlVGltZXIgPCAwKSB0aGlzLnJlc3RvcmVUaW1lciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVlbExlcnBTcGVlZCAqPSB0aGlzLmJ1cm5vdXRMZXJwU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29vbGRvd25UaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29vbGRvd25UaW1lciAtPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb29sZG93blRpbWVyIDwgMCkgdGhpcy5jb29sZG93blRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb251dFNwaW5UaW1lICs9IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bGxUdXJuaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dFRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9udXRTcGluVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgV2hlZWwgRHJpdmUgQnVybm91dCBNb2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1cm5vdXRUaW1lciA+IDAgJiYgaXNGdWxsVGhyb3R0bGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZWVsQm9vc3RTcGVlZCA9IDAuMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1cm5vdXRDb2VmZmljaWVudCA+PSAxLjApIHRoaXMuZW5naW5lRm9yY2UgKj0gdGhpcy5idXJub3V0Q29lZmZpY2llbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250TGVmdFdoZWVsICE9IG51bGwpIHRoaXMubV9mcm9udExlZnRXaGVlbC5mcmljdGlvblNsaXAgPSAodGhpcy5idXJub3V0RnJpY3Rpb25TbGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRSaWdodFdoZWVsICE9IG51bGwpIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gKHRoaXMuYnVybm91dEZyaWN0aW9uU2xpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gdGhpcy5idXJub3V0RnJpY3Rpb25TbGlwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrUmlnaHRXaGVlbCAhPSBudWxsKSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZnJpY3Rpb25TbGlwID0gdGhpcy5idXJub3V0RnJpY3Rpb25TbGlwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdEZyaWN0aW9uUGVuYWx0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZyaWN0aW9uID0gZmFsc2U7ICAgICAgICAgICAgICAgICAvLyBOb3RlOiBEaXNhYmxlIEZyaWN0aW9uIExlcnBpbmcgVGhpcyBGcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dFRpbWVyIC09IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsQnVybm91dCA9PT0gdHJ1ZSAmJiB0aGlzLmJ1cm5vdXRUaW1lciA8PSAwICYmIGlzRnVsbFR1cm5pbmcgPT09IHRydWUgJiYgdGhpcy5jb29sZG93blRpbWVyIDw9IDAgJiYgdGhpcy5jdXJyZW50Rm9yd2FyZCA+IDAgJiYgdGhpcy5jdXJyZW50RG9udXRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0VGltZXIgPSAwLjAxOyAgICAgICAgICAgLy8gTm90ZTogVXNlIEZpeGVkIERvbnV0IEJ1cm5vdXQgVGltZSBFeHRlbnNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsRG9udXRzID0gdHJ1ZTsgICAgICAgICAgICAvLyBOb3RlOiBEaXNhYmxlIFdoZWVsIERvbnV0cyBFeHRyYSBQb3dlciBOZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFtZXJpY2FuU3BlZWQgPj0gdGhpcy5taW5QZW5hbHR5U3BlZWQgJiYgdGhpcy5mcmljdGlvbldoZWVsU2xpcCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRGcmljdGlvbkxlcnBpbmcgPT09IGZhbHNlICYmIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250TGVmdEZyaWN0aW9uOiBudW1iZXIgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICogKHRoaXMuZnJpY3Rpb25XaGVlbFNsaXAgKiAxLjI1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbC5mcmljdGlvblNsaXAgPSBmcm9udExlZnRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZyaWN0aW9uID0gZmFsc2U7ICAgICAvLyBOb3RlOiBEaXNhYmxlIEZyaWN0aW9uIExlcnBpbmcgVGhpcyBGcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyb250UmlnaHRGcmljdGlvbkxlcnBpbmcgPT09IGZhbHNlICYmIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250UmlnaHRGcmljdGlvbjogbnVtYmVyID0gdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gKiAodGhpcy5mcmljdGlvbldoZWVsU2xpcCAqIDEuMjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSBmcm9udFJpZ2h0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRGcmljdGlvblBlbmFsdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnJpY3Rpb24gPSBmYWxzZTsgICAgIC8vIE5vdGU6IERpc2FibGUgRnJpY3Rpb24gTGVycGluZyBUaGlzIEZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhckxlZnRGcmljdGlvbkxlcnBpbmcgPT09IGZhbHNlICYmIHRoaXMucmVhckxlZnRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrTGVmdFdoZWVsICE9IG51bGwgJiYgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tMZWZ0RnJpY3Rpb246IG51bWJlciA9IHRoaXMubV9iYWNrTGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiAqIHRoaXMuZnJpY3Rpb25XaGVlbFNsaXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja0xlZnRXaGVlbC5mcmljdGlvblNsaXAgPSBiYWNrTGVmdEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyTGVmdEZyaWN0aW9uUGVuYWx0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGcmljdGlvbiA9IGZhbHNlOyAgICAgLy8gTm90ZTogRGlzYWJsZSBGcmljdGlvbiBMZXJwaW5nIFRoaXMgRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyUmlnaHRGcmljdGlvbkxlcnBpbmcgPT09IGZhbHNlICYmIHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tSaWdodEZyaWN0aW9uOiBudW1iZXIgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICogdGhpcy5mcmljdGlvbldoZWVsU2xpcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSBiYWNrUmlnaHRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZyaWN0aW9uID0gZmFsc2U7ICAgICAvLyBOb3RlOiBEaXNhYmxlIEZyaWN0aW9uIExlcnBpbmcgVGhpcyBGcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dFRpbWVyID0gMDsgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBDbGVhciBCdXJub3V0IFRpbWVyIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb251dFNwaW5UaW1lID0gMDsgICAgICAgICAgICAgICAgIC8vIE5vdGU6IENsZWFyIERvbnV0IFNwaW4gVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsRG9udXRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWVyID0gKHRoaXMuYnVybm91dFRpbWVEZWxheSAqIDIpOyAvLyBOb3RlOiAyMDAgUGVyY2VudCBDb29sZG93biBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9udXRFeHRyYVJvdGF0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsQnVybm91dCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxCdXJub3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlVGltZXIgPSAodGhpcy5idXJub3V0VGltZURlbGF5ICogMC43NSk7IC8vIE5vdGU6IDc1IFBlcmNlbnQgUmVzdG9yaW5nIFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBXaGVlbCBEcml2ZSBQb3dlciBGb3JjZVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUgJiYgdGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVGb3JjZSAqPSB0aGlzLmRvbnV0RW5naW5lRmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFdoZWVsUG93ZXIgPSAodGhpcy5lbmdpbmVGb3JjZSAqIDAuMSk7IC8vIE5vdGU6IDEwIFBlcmNlbnQgRW5naW5lIFBvd2VyIEZvcmNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMSB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIEZST05UIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFdoZWVsUG93ZXIgPSB0aGlzLmVuZ2luZUZvcmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJpdmVUeXBlID09PSAwIHx8IHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDIpIHsgLy8gUkVBUiBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1doZWVsUG93ZXIgPSB0aGlzLmVuZ2luZUZvcmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEtFRVAtRk9SLVJFRkVSTkNFOiBVcGRhdGUgVmVoaWNsZSBXaGVlbCBJbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5nZXRGb290QnJha2luZygpID09PSB0cnVlKSB0aGlzLnVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcoKHRoaXMubGluZWFyQnJha2luZ0ZvcmNlICogMC4yKSwgKHRoaXMuYW5ndWxhckJyYWtpbmdGb3JjZSAqIDAuMikpOyAvLyBOb3RlOiAyMCBQZXJjZW50IExpbmVhciBCcmFrZSBGb3JjZVxuICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIGlmICh0aGlzLnRocm90dGxlQnJha2luZ0ZvcmNlID4gMCkgdGhpcy51cGRhdGVDdXJyZW50QnJha2VEYW1waW5nKHRoaXMudGhyb3R0bGVCcmFraW5nRm9yY2UsIHRoaXMuYW5ndWxhckRhbXBpbmcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIHRoaXMudXBkYXRlQ3VycmVudEJyYWtlRGFtcGluZyh0aGlzLmxpbmVhckRhbXBpbmcsIHRoaXMuYW5ndWxhckRhbXBpbmcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiAodXBkYXRlRnJpY3Rpb24gPT09IHRydWUpIHRoaXMudXBkYXRlQ3VycmVudEZyaWN0aW9uU2xpcCh3aGVlbExlcnBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudXBkYXRlQ3VycmVudFJvdGF0aW9uQm9vc3Qod2hlZWxCb29zdFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Rm9vdEJyYWtpbmcoKSA9PT0gdHJ1ZSkgdGhpcy51cGRhdGVDdXJyZW50QnJha2VEYW1waW5nKCh0aGlzLmxpbmVhckJyYWtpbmdGb3JjZSAqIDAuMDUpLCAodGhpcy5hbmd1bGFyQnJha2luZ0ZvcmNlICogMC4wNSkpOyAvLyBOb3RlOiA1IFBlcmNlbnQgTGluZWFyIEJyYWtlIEZvcmNlXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudGhyb3R0bGVCcmFraW5nRm9yY2UgPiAwKSB0aGlzLnVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcodGhpcy50aHJvdHRsZUJyYWtpbmdGb3JjZSwgdGhpcy5hbmd1bGFyRGFtcGluZyk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5naW5lRm9yY2UgIT09IDApIHRoaXMudXBkYXRlQ3VycmVudEJyYWtlRGFtcGluZyhlbmdpbmVCcmFrZSwgdGhpcy5hbmd1bGFyRGFtcGluZyk7IC8vIFdURjogRW5naW5lIEJyYWtlIEZvcmNlIC0gPz8/XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdGhpcy51cGRhdGVDdXJyZW50QnJha2VEYW1waW5nKHRoaXMubGluZWFyRGFtcGluZywgdGhpcy5hbmd1bGFyRGFtcGluZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVGcmljdGlvbiA9PT0gdHJ1ZSkgdGhpcy51cGRhdGVDdXJyZW50RnJpY3Rpb25TbGlwKHdoZWVsTGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Um90YXRpb25Cb29zdCh3aGVlbEJvb3N0U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFZpc3VhbFN0ZWVyaW5nQW5nbGUodGhpcy52aXN1YWxTdGVlckFuZ2xlTCwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRWaXN1YWxTdGVlcmluZ0FuZ2xlKHRoaXMudmlzdWFsU3RlZXJBbmdsZVIsIHRoaXMuRlJPTlRfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVMLCB0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKHRoaXMucGh5c2ljc1N0ZWVyQW5nbGVSLCB0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9yd2FyZFNwZWVkID49IDAgJiYgdGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUgJiYgdGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0cmFEb251dFJvdGF0aW9uOiBudW1iZXIgPSAodGhpcy5jdXJyZW50VHVybmluZyAqIHRoaXMuZG9udXRSb3RhdGVGYWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dHJhRG9udXRSb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtb290aERvbnV0U2NhbGluZzogbnVtYmVyID0gMS41OyAvLyBOb3RlOiBIYXJkIENvZGVkIERvbnV0IFNjYWxpbmcgLSBVc2UgRGVmYXVsdCBEb251dCBGYWN0b3IgVG8gU2NhbGUgR3JhZGllbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9vdGhEb251dEdyYWRpZW50OiBudW1iZXIgPSAoZGVsdGFUaW1lICogc21vb3RoRG9udXRTY2FsaW5nICogdGhpcy5kb251dExlcnBpbmdTcGVlZCAqIFBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyLkRFRkFVTFRfRE9OVVRfRkFDVE9SKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9vdGhEb251dFJvdGF0aW9uOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuX2RvbnV0RXh0cmFSb3RhdGlvbi55LCBleHRyYURvbnV0Um90YXRpb24sIHNtb290aERvbnV0R3JhZGllbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbnV0RXh0cmFSb3RhdGlvbi5zZXQoMCwgc21vb3RoRG9udXRSb3RhdGlvbiwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0QW5ndWxhclZlbG9jaXR5KHRoaXMuX2RvbnV0RXh0cmFSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9XTS5QcmludFRvU2NyZWVuKFwiRXh0cmEgRG9udXQgUm90YXRpb246IFwiICsgdGhpcy5fZG9udXRFeHRyYVJvdGF0aW9uLnkudG9GaXhlZCgyKSwgXCJyZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSh0aGlzLmZyb250V2hlZWxQb3dlciwgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRFbmdpbmVGb3JjZSh0aGlzLmZyb250V2hlZWxQb3dlciwgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0RW5naW5lRm9yY2UodGhpcy5iYWNrV2hlZWxQb3dlciwgdGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEVuZ2luZUZvcmNlKHRoaXMuYmFja1doZWVsUG93ZXIsIHRoaXMuQkFDS19SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heEZyb250QnJha2luZyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKHRoaXMud2hlZWxCcmFraW5nRm9yY2UgKiB0aGlzLm1heEZyb250QnJha2luZywgdGhpcy5GUk9OVF9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmF5Y2FzdFZlaGljbGUuc2V0QnJha2luZ0ZvcmNlKHRoaXMud2hlZWxCcmFraW5nRm9yY2UgKiB0aGlzLm1heEZyb250QnJha2luZywgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZSh0aGlzLndoZWVsQnJha2luZ0ZvcmNlLCB0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UodGhpcy53aGVlbEJyYWtpbmdGb3JjZSwgdGhpcy5GUk9OVF9SSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXljYXN0VmVoaWNsZS5zZXRCcmFraW5nRm9yY2UodGhpcy53aGVlbEJyYWtpbmdGb3JjZSwgdGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheWNhc3RWZWhpY2xlLnNldEJyYWtpbmdGb3JjZSh0aGlzLndoZWVsQnJha2luZ0ZvcmNlLCB0aGlzLkJBQ0tfUklHSFQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRHJpdmluZyBQcm9wc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuc3luY1ZlaGljbGVTdGF0ZShkZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5zeW5jVmVoaWNsZVRpbHRpbmcoZGVsdGFUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN5bmNWZWhpY2xlU3RhdGUoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGdlYXJDb3VudDogbnVtYmVyID0gdGhpcy5nZXRHZWFyU2hpZnRSYXRpb0NvdW50KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5za2lkZGluZ1RpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lkZGluZ1RpbWUgLT0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNraWRkaW5nVGltZSA8IDApIHRoaXMuc2tpZGRpbmdUaW1lID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNoaWZ0aW5nVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5nVGltZSAtPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hpZnRpbmdUaW1lIDwgMCkgdGhpcy5zaGlmdGluZ1RpbWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEJvb3N0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9vc3RTcGVlZFRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb3N0U3BlZWRUaW1lciAtPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvb3N0U3BlZWRUaW1lciA8IDApIHRoaXMuYm9vc3RTcGVlZFRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcmlnaWRib2R5ICE9IG51bGwgJiYgdGhpcy5yYXljYXN0VmVoaWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVhZFNwZWVkOiBudW1iZXIgPSAwLjI7IC8vIE5vdGU6IERlYWQgTW92ZW1lbnQgU3BlZWQgVGhyZXNob2xkXG4gICAgICAgICAgICAgICAgdGhpcy5mb3J3YXJkU3BlZWQgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFJhd0N1cnJlbnRTcGVlZEtwaCgpICogUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIuREVGQVVMVF9TUEVFRF9GQUNUT1I7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuZm9yd2FyZFNwZWVkKSA8IGRlYWRTcGVlZCkgdGhpcy5mb3J3YXJkU3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgdGhpcy5hYnNvbHV0ZVNwZWVkID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRBYnNDdXJyZW50U3BlZWRLcGgoKSAqIFBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyLkRFRkFVTFRfU1BFRURfRkFDVE9SO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFic29sdXRlU3BlZWQgPCBkZWFkU3BlZWQpIHRoaXMuYWJzb2x1dGVTcGVlZCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICB0aGlzLmFtZXJpY2FuU3BlZWQgPSAodGhpcy5hYnNvbHV0ZVNwZWVkICogQkFCWUxPTi5Ub29sa2l0LlN5c3RlbS5LcGgyTXBoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYWRpZW50U3BlZWQgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgodGhpcy5hYnNvbHV0ZVNwZWVkIC8gdGhpcy5nZXRUb3BFbmdpbmVTcGVlZCgpKSk7IC8vIE5vdGU6IEFic291bHRlIFNwZWVkIFRvIERhbXBlbiBOb3JtYWxpemVkIFNwZWVkXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ncmFkaWVudFNwZWVkID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKHRoaXMuYW1lcmljYW5TcGVlZCAvIHRoaXMuZ2V0VG9wRW5naW5lU3BlZWQoKSkpOyAvLyBOb3RlOiBBbWVyaWNhbiBTcGVlZCBUbyBEYW1wZW4gTm9ybWFsaXplZCBTcGVlZFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zICE9IG51bGwgJiYgdGhpcy5nZWFySW5kZXggPj0gMCAmJiB0aGlzLmdlYXJJbmRleCA8IGdlYXJDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5pbXVtRGVsdGEgPSBNYXRoLm1pbihNYXRoLm1heChkZWx0YVRpbWUsIDEgLyAyMDApLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxEaWFtZXRlcjogbnVtYmVyID0gKHRoaXMud2hlZWxSYWRpdXMgKiAyICogQkFCWUxPTi5Ub29sa2l0LlN5c3RlbS5NZXRlcjJJbmNoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxHZWFyUmF0aW86IG51bWJlciA9ICh0aGlzLmdlYXJCb3hTaGlmdFJhdGlvc1t0aGlzLmdlYXJJbmRleF0gKiB0aGlzLmRpZmZlcmVudGlhbFJhdGlvICogdGhpcy50cmFuc21pc3Npb25SYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZ2luZUxldmVsRmFjdG9yOiBudW1iZXIgPSAzMzY7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBFbmdpbmUgUmV2b2x1dGlvbnMgKFRPRE8gLSBObyBTaGlmdGluZyBEb251dCBNb2RlIC0gUlBNIEJvdW5jZSBCb29zdGluZylcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb3duU2hpZnQgPSAodGhpcy5nZWFyQm94U2hpZnRSYW5nZXMgIT0gbnVsbCAmJiB0aGlzLmdlYXJCb3hTaGlmdFJhbmdlcy5sZW5ndGggPT09IHRoaXMuZ2VhckJveFNoaWZ0UmF0aW9zLmxlbmd0aCkgPyB0aGlzLmdlYXJCb3hTaGlmdFJhbmdlc1t0aGlzLmdlYXJJbmRleF0gOiAxMDAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsdXRjaFNsaXAgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuY2x1dGNoU2xpcCwgMCwgMSAtIE1hdGgucG93KDAuMDEsIG1pbmltdW1EZWx0YSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZVJQTSA9ICgodGhpcy5hbWVyaWNhblNwZWVkICogZmluYWxHZWFyUmF0aW8gKiBlbmdpbmVMZXZlbEZhY3RvcikgLyB3aGVlbERpYW1ldGVyKTtcblxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTG9jayBIaWdoIFBpdGNoaW5nIFJQTSBXaGlsZSBTa2lkZGluZyAmIERvbnV0c1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBGSVggVEhFIFNISUZUSU5HIFJQTSBHTElUQ0hcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgdGhpcy5waXRjaFJQTSA9IDUwMDA7IC8vdGhpcy5tYXhEb251dFBpdGNoO1xuICAgICAgICAgICAgICAgICAgICAvL30gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGl0Y2hSUE0gPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMuc2hpZnRSUE0sIHRoaXMuZW5naW5lUlBNLCAoMSAtIHRoaXMuY2x1dGNoU2xpcCkpICsgdGhpcy5NSU5fUlBNO1xuICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgICAgICAgICAgLyogUGVubnkgLSBDaGFuZ2UgR2VhcnNcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQgc3BlZWRQZXJjZW50YWdlID0gTWF0aGYuQWJzKGN1cnJlbnRTcGVlZCAvIG1heFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQgdXBwZXJHZWFyTWF4ID0gKDEgLyAoZmxvYXQpbnVtR2VhcnMpICogKGN1cnJlbnRHZWFyICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGZsb2F0IGRvd25HZWFyTWF4ID0gKDEgLyAoZmxvYXQpbnVtR2VhcnMpICogY3VycmVudEdlYXI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRHZWFyID4gMCAmJiBzcGVlZFBlcmNlbnRhZ2UgPCBkb3duR2Vhck1heClcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHZWFyLS07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWVkUGVyY2VudGFnZSA+IHVwcGVyR2Vhck1heCAmJiAoY3VycmVudEdlYXIgPCAobnVtR2VhcnMgLSAxKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R2VhcisrO1xuICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IERpc2FibGUgU2hpZnRpbmcgR2VhcnMgRm9yIEJvb3N0ZXJzIEFuZCBEb251dHNcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuYWJsZVNoaWZ0aW5nOiBib29sZWFuID0gKHRoaXMuY3VycmVudEJvb3N0aW5nID09PSBmYWxzZSAmJiB0aGlzLmN1cnJlbnREb251dHMgPT09IGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW1lcmljYW5TcGVlZCA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VhckluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZnRpbmdTaWRlID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRSYW5kb21SYW5nZSgtMTAsIDEwKSA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmdpbmVSUE0gPiB0aGlzLmdlYXJCb3hTaGlmdENoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiBNb3ZlZCBUbyBJZiBTdGF0ZW1lbnQgQmVsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNoaWZ0UlBNID0gdGhpcy5lbmdpbmVSUE07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jbHV0Y2hTbGlwID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2hpZnRpbmdUaW1lID0gdGhpcy5nZWFyQm94U2hpZnREZWxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZWFySW5kZXggPCAoZ2VhckNvdW50IC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGlmdFJQTSA9IHRoaXMuZW5naW5lUlBNO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsdXRjaFNsaXAgPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZnRpbmdUaW1lID0gKGVuYWJsZVNoaWZ0aW5nID09PSB0cnVlKSA/IHRoaXMuZ2VhckJveFNoaWZ0RGVsYXkgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5nU2lkZSA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0UmFuZG9tUmFuZ2UoLTEwLCAxMCkgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlYXJJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmdpbmVSUE0gPCB0aGlzLmRvd25TaGlmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiBNb3ZlZCBUbyBJZiBTdGF0ZW1lbnQgQmVsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNoaWZ0UlBNID0gdGhpcy5lbmdpbmVSUE07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jbHV0Y2hTbGlwID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2hpZnRpbmdUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZWFySW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZnRSUE0gPSB0aGlzLmVuZ2luZVJQTTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbHV0Y2hTbGlwID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5nVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZnRpbmdTaWRlID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRSYW5kb21SYW5nZSgtMTAsIDEwKSA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VhckluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBEb3VibGUgQ2hlY2sgR2VhciBJbmRleCAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2VhckluZGV4IDwgMCkgdGhpcy5nZWFySW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmdlYXJJbmRleCA+PSBnZWFyQ291bnQpIHRoaXMuZ2VhckluZGV4ID0gKGdlYXJDb3VudCAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIEVuZ2luZSBTb3VuZCBQaXRjaFxuICAgICAgICAgICAgdGhpcy5lbmdpbmVQaXRjaExldmVsID0gKHRoaXMuZ2V0Q3VycmVudEVuZ2luZVBpdGNoKCkgKiBQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5ERUZBVUxUX1BJVENIX0ZBQ1RPUiAqIHRoaXMuZ2VhckJveE11bHRpcGxpZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheVZlaGljbGVTb3VuZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZW5naW5lQXVkaW9Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmdpbmVTb3VuZENsaXA6IEJBQllMT04uU291bmQgPSB0aGlzLl9lbmdpbmVBdWRpb1NvdXJjZS5nZXRTb3VuZENsaXAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZ2luZVNvdW5kQ2xpcCAhPSBudWxsKSBlbmdpbmVTb3VuZENsaXAuc2V0UGxheWJhY2tSYXRlKHRoaXMuZW5naW5lUGl0Y2hMZXZlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgQm9vc3RlciBTb3VuZCBQaXRjaFxuICAgICAgICAgICAgdGhpcy5QT1dFUl9CT09TVF9QSVRDSCA9ICh0aGlzLmN1cnJlbnRCb29zdGluZyA9PT0gdHJ1ZSkgPyAxIDogMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlWZWhpY2xlU291bmRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX25vc0F1ZGlvU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9zU291bmRDbGlwOiBCQUJZTE9OLlNvdW5kID0gdGhpcy5fbm9zQXVkaW9Tb3VyY2UuZ2V0U291bmRDbGlwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3NTb3VuZENsaXAgIT0gbnVsbCkgbm9zU291bmRDbGlwLnNldFBsYXliYWNrUmF0ZSh0aGlzLlBPV0VSX0JPT1NUX1BJVENIKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBTbW9rZSBJbnN0ZW5zaXR5XG4gICAgICAgICAgICB0aGlzLnNtb2tlRG9udXRzID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5zbW9rZURvbnV0cywgMSwgMTApO1xuICAgICAgICAgICAgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciA9IHRoaXMuc21va2VJbnRlbnNpdHk7XG4gICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT09IHRydWUgJiYgdGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkgdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqPSB0aGlzLnNtb2tlRG9udXRzO1xuXG4gICAgICAgICAgICAvKiBERUJVRzogV0hFRUwgQ09MTElTSU9OU1xuICAgICAgICAgICAgY29uc3QgZmxfd2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkZST05UX0xFRlQpO1xuICAgICAgICAgICAgY29uc3QgZnJfd2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkZST05UX1JJR0hUKTtcbiAgICAgICAgICAgIGNvbnN0IGJsX3doZWVsID0gdGhpcy5yYXljYXN0VmVoaWNsZS5nZXRXaGVlbEluZm8odGhpcy5CQUNLX0xFRlQpO1xuICAgICAgICAgICAgY29uc3QgYnJfd2hlZWwgPSB0aGlzLnJheWNhc3RWZWhpY2xlLmdldFdoZWVsSW5mbyh0aGlzLkJBQ0tfUklHSFQpO1xuICAgICAgICAgICAgbGV0IGZsX2NvbGxpZGU6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChmbF93aGVlbC5yYXljYXN0UmVzdWx0ICE9IG51bGwgJiYgZmxfd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmbF9jb2xsaWRlID0gZmxfd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5LnRyYW5zZm9ybU5vZGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmcl9jb2xsaWRlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoZnJfd2hlZWwucmF5Y2FzdFJlc3VsdCAhPSBudWxsICYmIGZyX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZnJfY29sbGlkZSA9IGZyX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keS50cmFuc2Zvcm1Ob2RlLm5hbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBibF9jb2xsaWRlOnN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoYmxfd2hlZWwucmF5Y2FzdFJlc3VsdCAhPSBudWxsICYmIGJsX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYmxfY29sbGlkZSA9IGJsX3doZWVsLnJheWNhc3RSZXN1bHQuYm9keS50cmFuc2Zvcm1Ob2RlLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYnJfY29sbGlkZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGJyX3doZWVsLnJheWNhc3RSZXN1bHQgIT0gbnVsbCAmJiBicl93aGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJyX2NvbGxpZGUgPSBicl93aGVlbC5yYXljYXN0UmVzdWx0LmJvZHkudHJhbnNmb3JtTm9kZS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXaGVlbCBDb2xsaWRlcyAtIEZMOiBcIiArIGZsX2NvbGxpZGUgKyBcIiAtLT4gRlI6IFwiICsgIGZyX2NvbGxpZGUgKyBcIiAtLT4gQkw6IFwiICsgYmxfY29sbGlkZSArIFwiIC0tPiBCUjogXCIgKyBicl9jb2xsaWRlKTtcbiAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBXaGVlbCBTa2lkZGluZyBJbmZvXG4gICAgICAgICAgICB0aGlzLlNLSURfRkwgPSAwLCB0aGlzLlNLSURfRlIgPSAwLCB0aGlzLlNLSURfUkwgPSAwLCB0aGlzLlNLSURfUlIgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udExlZnRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxDb250YWN0Rkw6IGJvb2xlYW4gPSAodGhpcy5tX2Zyb250TGVmdFdoZWVsLnJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLlNLSURfRkwgPSB0aGlzLnVwZGF0ZUN1cnJlbnRTa2lkSW5mbyh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNLSURfRkwgPCB0aGlzLnNraWRUaHJlYXNob2xkKSB0aGlzLlNLSURfRkwgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNLSURfRkwgPiAwICYmIHdoZWVsQ29udGFjdEZMID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRQb3NGTDogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2Zyb250TGVmdFdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZE5vcm1GTDogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2Zyb250TGVmdFdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTY2FsZUZMOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5Ob3JtYWxpemUodGhpcy5TS0lEX0ZMLCB0aGlzLnNraWRUaHJlYXNob2xkLCAxLjApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJhd1ZlbG9jaXR5ID4gMCkgc2tpZFBvc0ZMLmFkZEluUGxhY2UodGhpcy5tX3ZlbG9jaXR5T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQoc2tpZFBvc0ZMLCBza2lkTm9ybUZMLCBza2lkU2NhbGVGTCwgdGhpcy5tX2Zyb250TGVmdFdoZWVsU2tpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB0aGlzLmRvbnV0TWV0ZXIgKz0gdGhpcy5TS0lEX0ZMO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRNZXRlciArPSB0aGlzLlNLSURfRkw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5zdGFydCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9rZV9GTDogbnVtYmVyID0gdGhpcy5TS0lEX0ZMICogdGhpcy5TS0lEX0ZMO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gdGhpcy5zbW9rZUludGVuc2l0eUZhY3RvciAqIHNtb2tlX0ZMO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9GTCArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5tYXhTaXplID0gMS41ICogc21va2VfRkwgKyAxLjI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRXaGVlbFBhcnRpY2xlICE9IG51bGwpIHRoaXMuZnJvbnRMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udExlZnRXaGVlbFNraWQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxDb250YWN0RlI6IGJvb2xlYW4gPSAodGhpcy5tX2Zyb250UmlnaHRXaGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5TS0lEX0ZSID0gdGhpcy51cGRhdGVDdXJyZW50U2tpZEluZm8odGhpcy5tX2Zyb250UmlnaHRXaGVlbCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9GUiA8IHRoaXMuc2tpZFRocmVhc2hvbGQpIHRoaXMuU0tJRF9GUiA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9GUiA+IDAgJiYgd2hlZWxDb250YWN0RlIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZFBvc0ZSOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpZE5vcm1GUjogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVGUjogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMuU0tJRF9GUiwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyYXdWZWxvY2l0eSA+IDApIHNraWRQb3NGUi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9mcm9udFJpZ2h0V2hlZWxTa2lkID0gU2tpZE1hcmtNYW5hZ2VyLkFkZFNraWRNYXJrU2VnbWVudChza2lkUG9zRlIsIHNraWROb3JtRlIsIHNraWRTY2FsZUZSLCB0aGlzLm1fZnJvbnRSaWdodFdoZWVsU2tpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRG9udXRzID09PSB0cnVlKSB0aGlzLmRvbnV0TWV0ZXIgKz0gdGhpcy5TS0lEX0ZSO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1cm5vdXRNZXRlciArPSB0aGlzLlNLSURfRlI7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUuaXNTdGFydGVkKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZS5zdGFydCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9rZV9GUjogbnVtYmVyID0gdGhpcy5TS0lEX0ZSICogdGhpcy5TS0lEX0ZSO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9GUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodFdoZWVsUGFydGljbGUubWluU2l6ZSA9IDAuMiAqIHNtb2tlX0ZSICsgMC4yO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZS5tYXhTaXplID0gMS41ICogc21va2VfRlIgKyAxLjI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB0aGlzLmZyb250UmlnaHRXaGVlbFBhcnRpY2xlLmVtaXRSYXRlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbFNraWQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlBJVENIX0ZMID0gdGhpcy5TS0lEX0ZMO1xuICAgICAgICAgICAgdGhpcy5QSVRDSF9GUiA9IHRoaXMuU0tJRF9GUjtcbiAgICAgICAgICAgIGlmICh0aGlzLndoZWVsQnVybm91dCA9PSB0cnVlIHx8IHRoaXMucmVzdG9yZVRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuUElUQ0hfRkwgKj0gdGhpcy5idXJub3V0V2hlZWxQaXRjaDtcbiAgICAgICAgICAgICAgICB0aGlzLlBJVENIX0ZSICo9IHRoaXMuYnVybm91dFdoZWVsUGl0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlBJVENIX0ZMICo9IDAuNzU7IC8vIDc1JSBTa2lkIEZvciBGcm9udCBXaGVlbHNcbiAgICAgICAgICAgIHRoaXMuUElUQ0hfRlIgKj0gMC43NTsgLy8gNzUlIFNraWQgRm9yIEZyb250IFdoZWVsc1xuICAgICAgICAgICAgaWYgKHRoaXMubV9iYWNrTGVmdFdoZWVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3aGVlbENvbnRhY3RCTDogYm9vbGVhbiA9ICh0aGlzLm1fYmFja0xlZnRXaGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5TS0lEX1JMID0gdGhpcy51cGRhdGVDdXJyZW50U2tpZEluZm8odGhpcy5tX2JhY2tMZWZ0V2hlZWwpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNLSURfUkwgPCB0aGlzLnNraWRUaHJlYXNob2xkKSB0aGlzLlNLSURfUkwgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNLSURfUkwgPiAwICYmIHdoZWVsQ29udGFjdEJMID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRQb3NSTDogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkTm9ybVJMOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLm1fYmFja0xlZnRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVSTDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMuU0tJRF9STCwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyYXdWZWxvY2l0eSA+IDApIHNraWRQb3NSTC5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsU2tpZCA9IFNraWRNYXJrTWFuYWdlci5BZGRTa2lkTWFya1NlZ21lbnQoc2tpZFBvc1JMLCBza2lkTm9ybVJMLCBza2lkU2NhbGVSTCwgdGhpcy5tX2JhY2tMZWZ0V2hlZWxTa2lkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2hlZWxEb251dHMgPT09IHRydWUpIHRoaXMuZG9udXRNZXRlciArPSB0aGlzLlNLSURfUkw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVybm91dE1ldGVyICs9IHRoaXMuU0tJRF9STDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLmlzU3RhcnRlZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLnN0YXJ0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtb2tlX1JMOiBudW1iZXIgPSB0aGlzLlNLSURfUkwgKiB0aGlzLlNLSURfUkw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9STDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLm1pblNpemUgPSAwLjIgKiBzbW9rZV9STCArIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja0xlZnRXaGVlbFBhcnRpY2xlLm1heFNpemUgPSAxLjUgKiBzbW9rZV9STCArIDEuMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB0aGlzLmJhY2tMZWZ0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrTGVmdFdoZWVsU2tpZCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsQ29udGFjdEJSOiBib29sZWFuID0gKHRoaXMubV9iYWNrUmlnaHRXaGVlbC5yYXljYXN0UmVzdWx0LmJvZHkgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5TS0lEX1JSID0gdGhpcy51cGRhdGVDdXJyZW50U2tpZEluZm8odGhpcy5tX2JhY2tSaWdodFdoZWVsKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TS0lEX1JSIDwgdGhpcy5za2lkVGhyZWFzaG9sZCkgdGhpcy5TS0lEX1JSID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TS0lEX1JSID4gMCAmJiB3aGVlbENvbnRhY3RCUiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkUG9zUlI6IEJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9iYWNrUmlnaHRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWROb3JtUlI6IEJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9iYWNrUmlnaHRXaGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lkU2NhbGVSUjogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTm9ybWFsaXplKHRoaXMuU0tJRF9SUiwgdGhpcy5za2lkVGhyZWFzaG9sZCwgMS4wKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERyYXdWZWxvY2l0eSA+IDApIHNraWRQb3NSUi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbFNraWQgPSBTa2lkTWFya01hbmFnZXIuQWRkU2tpZE1hcmtTZWdtZW50KHNraWRQb3NSUiwgc2tpZE5vcm1SUiwgc2tpZFNjYWxlUlIsIHRoaXMubV9iYWNrUmlnaHRXaGVlbFNraWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53aGVlbERvbnV0cyA9PT0gdHJ1ZSkgdGhpcy5kb251dE1ldGVyICs9IHRoaXMuU0tJRF9SUjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXJub3V0TWV0ZXIgKz0gdGhpcy5TS0lEX1JSO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZS5pc1N0YXJ0ZWQoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuc3RhcnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21va2VfUlI6IG51bWJlciA9IHRoaXMuU0tJRF9SUiAqIHRoaXMuU0tJRF9SUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZS5lbWl0UmF0ZSA9IHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgKiBzbW9rZV9SUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZS5taW5TaXplID0gMC4yICogc21va2VfUlIgKyAwLjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUubWF4U2l6ZSA9IDEuNSAqIHNtb2tlX1JSICsgMS4yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja1JpZ2h0V2hlZWxQYXJ0aWNsZSAhPSBudWxsKSB0aGlzLmJhY2tSaWdodFdoZWVsUGFydGljbGUuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fYmFja1JpZ2h0V2hlZWxTa2lkID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5QSVRDSF9STCA9IHRoaXMuU0tJRF9STDtcbiAgICAgICAgICAgIHRoaXMuUElUQ0hfUlIgPSB0aGlzLlNLSURfUlI7XG4gICAgICAgICAgICBpZiAodGhpcy53aGVlbEJ1cm5vdXQgPT0gdHJ1ZSB8fCB0aGlzLnJlc3RvcmVUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLlBJVENIX1JMICo9IHRoaXMuYnVybm91dFdoZWVsUGl0Y2g7XG4gICAgICAgICAgICAgICAgdGhpcy5QSVRDSF9SUiAqPSB0aGlzLmJ1cm5vdXRXaGVlbFBpdGNoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBQbGF5IFNraWQgQXVkaW8gVHJhY2tcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5QSVRDSF9GTCA+IHRoaXMuV0hFRUxfU0tJRF9QSVRDSCkgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gdGhpcy5QSVRDSF9GTDtcbiAgICAgICAgICAgIGlmICh0aGlzLlBJVENIX0ZSID4gdGhpcy5XSEVFTF9TS0lEX1BJVENIKSB0aGlzLldIRUVMX1NLSURfUElUQ0ggPSB0aGlzLlBJVENIX0ZSO1xuICAgICAgICAgICAgaWYgKHRoaXMuUElUQ0hfUkwgPiB0aGlzLldIRUVMX1NLSURfUElUQ0gpIHRoaXMuV0hFRUxfU0tJRF9QSVRDSCA9IHRoaXMuUElUQ0hfUkw7XG4gICAgICAgICAgICBpZiAodGhpcy5QSVRDSF9SUiA+IHRoaXMuV0hFRUxfU0tJRF9QSVRDSCkgdGhpcy5XSEVFTF9TS0lEX1BJVENIID0gdGhpcy5QSVRDSF9SUjtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlWZWhpY2xlU291bmRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NraWRBdWRpb1NvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRTb3VuZENsaXA6IEJBQllMT04uU291bmQgPSB0aGlzLl9za2lkQXVkaW9Tb3VyY2UuZ2V0U291bmRDbGlwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChza2lkU291bmRDbGlwICE9IG51bGwpIHNraWRTb3VuZENsaXAuc2V0UGxheWJhY2tSYXRlKHRoaXMuV0hFRUxfU0tJRF9QSVRDSCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWZWhpY2xlIEJyYWtpbmcgTGlnaHRzIENoZWNrXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICBpZiAodGhpcy5icmFrZUxpZ2h0c01lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnJha2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9IHRoaXMuaXNCcmFraW5nKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFZlaGljbGUgUmV2ZXJzZSBMaWdodHMgQ2hlY2tcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VMaWdodHNNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJldmVyc2VMaWdodHNNZXNoLmlzVmlzaWJsZSA9IHRoaXMuZ2V0UmV2ZXJzZVRocm90dGxlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFJlc2V0IFNraWQgUHJvcGVydGllc1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgaWYgKHRoaXMuU0tJRF9GTCA9PT0gMCAmJiB0aGlzLlNLSURfRkwgPT09IDAgJiYgdGhpcy5TS0lEX0ZMID09PSAwICYmIHRoaXMuU0tJRF9GTCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc21va2VJbnRlbnNpdHlGYWN0b3IgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBQb3N0IE5ldHdvcmsgQXR0cmlidXRlc1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID09IHRydWUgJiYgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuSGFzTmV0d29ya0VudGl0eSh0aGlzLnRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaXRjaF9BdHRyaWJ1dGU6IG51bWJlciA9IHRoaXMuZ2V0RW5naW5lUGl0Y2hMZXZlbCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyYWtlX0F0dHJpYnV0ZTogbnVtYmVyID0gdGhpcy5pc0JyYWtpbmcoKSA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldmVyc2VfQXR0cmlidXRlOiBudW1iZXIgPSB0aGlzLmdldFJldmVyc2VUaHJvdHRsZSgpID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVybm91dF9BdHRyaWJ1dGU6IG51bWJlciA9ICh0aGlzLmdldEN1cnJlbnRCdXJub3V0KCkgfHwgdGhpcy5nZXRDdXJyZW50RG9udXRzKCkpID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgU0tJRF9GTF9BdHRyaWJ1dGU6IG51bWJlciA9IHRoaXMuZ2V0RnJvbnRMZWZ0U2tpZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IFNLSURfRlJfQXR0cmlidXRlOiBudW1iZXIgPSB0aGlzLmdldEZyb250UmlnaHRTa2lkKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgU0tJRF9STF9BdHRyaWJ1dGU6IG51bWJlciA9IHRoaXMuZ2V0QmFja0xlZnRTa2lkKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgU0tJRF9SUl9BdHRyaWJ1dGU6IG51bWJlciA9IHRoaXMuZ2V0QmFja1JpZ2h0U2tpZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IFNQSU5fRkxfVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuc3Bpbm5lcjtcbiAgICAgICAgICAgICAgICBjb25zdCBTUElOX0ZSX1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5zcGlubmVyO1xuICAgICAgICAgICAgICAgIGNvbnN0IFNQSU5fUkxfVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLm1fYmFja0xlZnRXaGVlbC5zcGlubmVyO1xuICAgICAgICAgICAgICAgIGNvbnN0IFNQSU5fUlJfVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuc3Bpbm5lcjtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDAsIHBpdGNoX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgICAvLyBQaXRjaFxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMSwgYnJha2VfQXR0cmlidXRlKTsgICAgICAgICAgICAgICAgIC8vIEJyYWtlXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAyLCByZXZlcnNlX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gUmV2ZXJzZVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMywgYnVybm91dF9BdHRyaWJ1dGUpOyAgICAgICAgICAgICAgIC8vIEJ1cm5vdXRcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDQsIFNLSURfRkxfQXR0cmlidXRlKTsgICAgICAgICAgICAgICAvLyBTS0lEX0ZMXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA1LCBTS0lEX0ZSX0F0dHJpYnV0ZSk7ICAgICAgICAgICAgICAgLy8gU0tJRF9GUlxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNiwgU0tJRF9STF9BdHRyaWJ1dGUpOyAgICAgICAgICAgICAgIC8vIFNLSURfUkxcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDcsIFNLSURfUlJfQXR0cmlidXRlKTsgICAgICAgICAgICAgICAvLyBTS0lEX1JSXG4gICAgICAgICAgICAgICAgaWYgKFNQSU5fRkxfVHJhbnNmb3JtICE9IG51bGwgJiYgU1BJTl9GTF9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgU1BJTl9GTF9UcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLlNQSU5fRkxfUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDgsIHRoaXMuU1BJTl9GTF9Sb3RhdGlvbi54KTsgICAgIC8vIFNQSU5fRkxcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDgsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoU1BJTl9GUl9UcmFuc2Zvcm0gIT0gbnVsbCAmJiBTUElOX0ZSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBTUElOX0ZSX1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMuU1BJTl9GUl9Sb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOSwgdGhpcy5TUElOX0ZSX1JvdGF0aW9uLngpOyAgICAgLy8gU1BJTl9GUlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChTUElOX1JMX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fUkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFNQSU5fUkxfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5TUElOX1JMX1JvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMCwgdGhpcy5TUElOX1JMX1JvdGF0aW9uLngpOyAgICAvLyBTUElOX1JMXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChTUElOX1JSX1RyYW5zZm9ybSAhPSBudWxsICYmIFNQSU5fUlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFNQSU5fUlJfVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5TUElOX1JSX1JvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMSwgdGhpcy5TUElOX1JSX1JvdGF0aW9uLngpOyAgICAvLyBTUElOX1JSXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTIsIHRoaXMuYW5pbWF0b3JTdGVlckFuZ2xlKTsgICAgICAgIC8vIFN0ZWVyaW5nXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFdyaXRlIFRyYW5zZm9ybSBNZXRhZGF0YVxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgdGhpcy53cml0ZVRyYW5zZm9ybU1ldGFkYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGN1cnJlbnRQaXRjaDogbnVtYmVyID0gMDsgICAgICAgICAgIC8vIEN1cnJlbnQgcGl0Y2ggYW5nbGUgZm9yIGZvcndhcmQtYmFja3dhcmQgdGlsdFxuICAgICAgICBwcml2YXRlIGN1cnJlbnRSb2xsOiBudW1iZXIgPSAwOyAgICAgICAgICAgIC8vIEN1cnJlbnQgcm9sbCBhbmdsZSBmb3Igc2lkZS10by1zaWRlIHRpbHRcbiAgICAgICAgcHJpdmF0ZSBwcmV2aW91c1NwZWVkOiBudW1iZXIgPSAwOyAgICAgICAgICAvLyBQcmV2aW91cyBmcmFtZSBzcGVlZCBmb3IgY29tcGFyaXNvblxuICAgICAgICBwcml2YXRlIGFuZ3VsYXJWZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTsgICAvLyBDdXJyZW50IGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIHZlaGljbGVcbiAgICAgICAgcHJpdmF0ZSBzeW5jVmVoaWNsZVRpbHRpbmcoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHZlaGljbGU6IGFueSA9IHRoaXMucmF5Y2FzdFZlaGljbGU7XG4gICAgICAgICAgICBpZiAodmVoaWNsZSA9PSBudWxsIHx8IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5ID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50VGlsdGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY3VycmVudCBhbmQgY2hhbmdlIGluIHNwZWVkXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNwZWVkOiBudW1iZXIgPSB2ZWhpY2xlLmdldFJhd0N1cnJlbnRTcGVlZEtwaCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwZWVkQ2hhbmdlOiBudW1iZXIgPSAoY3VycmVudFNwZWVkIC0gdGhpcy5wcmV2aW91c1NwZWVkKTtcblxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdmVoaWNsZSdzIGxhdGVyYWwgYWNjZWxlcmF0aW9uIGZvciBjb3JuZXJpbmcgZWZmZWN0c1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LmdldEFuZ3VsYXJWZWxvY2l0eVRvUmVmKHRoaXMuYW5ndWxhclZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRlcmFsR0ZvcmNlOiBudW1iZXIgPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eS55OyAvLyBBc3N1bWluZyB5LWF4aXMgaXMgdXAtZG93biwgYWRqdXN0IGJhc2VkIG9uIHlvdXIgY29vcmRpbmF0ZSBzeXN0ZW1cblxuICAgICAgICAgICAgICAgIC8vIEFkanVzdCBwaXRjaCBiYXNlZCBvbiBhY2NlbGVyYXRpb24gb3IgYnJha2luZ1xuICAgICAgICAgICAgICAgIGlmIChzcGVlZENoYW5nZSA+IDApIHsgIC8vIEFjY2VsZXJhdGluZ1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQaXRjaCAtPSAodGhpcy5mb3J3YXJkUGl0Y2hGYWN0b3IgKiBNYXRoLm1pbihzcGVlZENoYW5nZSwgMTApICogZGVsdGFUaW1lKTsgLy8gU2NhbGUgZG93biBjaGFuZ2UgYW5kIGxpbWl0IG1heGltdW0gZWZmZWN0XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGVlZENoYW5nZSA8IDApIHsgLy8gQnJha2luZ1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRGb290QnJha2luZygpID09PSB0cnVlIHx8IHRoaXMuZ2V0SGFuZEJyYWtpbmcoKSA9PT0gdHJ1ZSAmJiB0aGlzLmFtZXJpY2FuU3BlZWQgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGl0Y2ggKz0gKHRoaXMuZm9yd2FyZFBpdGNoRmFjdG9yICogTWF0aC5taW4oLXNwZWVkQ2hhbmdlLCAxMCkgKiBkZWx0YVRpbWUpOyAvLyBTY2FsZSBkb3duIGNoYW5nZSBhbmQgbGltaXQgbWF4aW11bSBlZmZlY3RcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEFkanVzdCByb2xsIGJhc2VkIG9uIGNvcm5lcmluZ1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvbGwgKz0gKHRoaXMubGF0ZXJhbFJvbGxGYWN0b3IgKiBsYXRlcmFsR0ZvcmNlICogZGVsdGFUaW1lKTsgLy8gQ29ybmVyaW5nXG5cbiAgICAgICAgICAgICAgICAvLyBHcmFkdWFsbHkgcmV0dXJuIHBpdGNoIGFuZCByb2xsIHRvIG5ldXRyYWwgd2hlbiBubyBpbnB1dFxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBpdGNoICo9ICgxLjAgLSB0aGlzLmZvcndhcmRSZWNvdmVyUmF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Um9sbCAqPSAoMS4wIC0gdGhpcy5sYXRlcmFsUmVjb3ZlclJhdGUpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2xhbXAgdGhlIHBpdGNoIGFuZCByb2xsIHRvIGF2b2lkIGV4Y2Vzc2l2ZSB0aWx0aW5nXG4gICAgICAgICAgICAgICAgY29uc3QgbWF4UGl0Y2g6IG51bWJlciA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMubWF4Rm9yd2FyZEFuZ2xlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhSb2xsOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLm1heExhdGVyYWxBbmdsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGl0Y2ggPSBNYXRoLm1heCgtbWF4UGl0Y2gsIE1hdGgubWluKG1heFBpdGNoLCB0aGlzLmN1cnJlbnRQaXRjaCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvbGwgPSBNYXRoLm1heCgtbWF4Um9sbCwgTWF0aC5taW4obWF4Um9sbCwgdGhpcy5jdXJyZW50Um9sbCkpO1xuXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgR2VhciBTaGlmdGluZyBUbyBUaWx0IEFuZ2xlc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoaWZ0aW5nVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4U2hpZnRFZmZlY3Q6IG51bWJlciA9IE1hdGguc2luKHRoaXMuc2hpZnRpbmdUaW1lICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRTaGlmdFNpZ246IG51bWJlciA9ICh0aGlzLmN1cnJlbnRGb3J3YXJkID4gMCkgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRTaGlmdEVmZmVjdDogbnVtYmVyID0gKGZvcndhcmRTaGlmdFNpZ24gKiBtYXhTaGlmdEVmZmVjdCAqIHRoaXMuc2hpZnRGb3J3YXJkRXh0cmEgKiAwLjAxNSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVyYWxTaGlmdEVmZmVjdDogbnVtYmVyID0gKHRoaXMuc2hpZnRpbmdTaWRlICogbWF4U2hpZnRFZmZlY3QgKiB0aGlzLnNoaWZ0TGF0ZXJhbEV4dHJhICogMC4wMTUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQaXRjaCArPSBmb3J3YXJkU2hpZnRFZmZlY3Q7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvbGwgKz0gbGF0ZXJhbFNoaWZ0RWZmZWN0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IFJvYWQgU3VyZmFjZSBOb2lzZSBUbyBUaWx0IEFuZ2xlc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1cmZhY2VEZXRlY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlTm9pc2VEZWx0YSArPSAoZGVsdGFUaW1lICogdGhpcy5pZGxlU2hha2VSYXRlKSAqIDMuMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcml2ZU5vaXNlRGVsdGEgKz0gKGRlbHRhVGltZSAqIEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5sb3dTcGVlZFNjYWxlLCB0aGlzLmhpZ2hTcGVlZFNjYWxlLCB0aGlzLmdyYWRpZW50U3BlZWQpKSAqIDMuMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW92ZW1lbnRTcGVlZDogbnVtYmVyID0gTWF0aC5hYnMoY3VycmVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVtZW50U3BlZWQgPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVtZW50U3BlZWQgPj0gdGhpcy5zcGVlZFRocmVhc2hvbGQgJiYgdGhpcy5oYW5kQnJha2luZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sb3dGb3J3YXJkTm9pc2UgPiAwIHx8IHRoaXMuaGlnaEZvcndhcmROb2lzZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9yd2FyZE5vaXNlSW50ZW5zaXR5OiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMubG93Rm9yd2FyZE5vaXNlLCB0aGlzLmhpZ2hGb3J3YXJkTm9pc2UsIHRoaXMuZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBpdGNoICs9IChQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5TaW1wbGV4Tm9pc2UyRCh0aGlzLmRyaXZlTm9pc2VEZWx0YSwgMCkgKiBmb3J3YXJkTm9pc2VJbnRlbnNpdHkgKiAwLjA2NSkgKiB0aGlzLnJvYWRTdXJmYWNlRmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sb3dMYXRlcmFsTm9pc2UgPiAwIHx8IHRoaXMuaGlnaExhdGVyYWxOb2lzZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF0ZXJpYWxOb2lzZUludGVuc2l0eTogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmxvd0xhdGVyYWxOb2lzZSwgdGhpcy5oaWdoTGF0ZXJhbE5vaXNlLCB0aGlzLmdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb2xsICs9IChQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5TaW1wbGV4Tm9pc2UyRCh0aGlzLmRyaXZlTm9pc2VEZWx0YSwgMSkgKiBsYXRlcmlhbE5vaXNlSW50ZW5zaXR5ICogMC4wNjUpICogdGhpcy5yb2FkU3VyZmFjZUZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pZGxlU2hha2VOb2lzZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBpdGNoICs9IChQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5TaW1wbGV4Tm9pc2UyRCh0aGlzLmlkbGVOb2lzZURlbHRhLCAwKSAqIHRoaXMuaWRsZVNoYWtlTm9pc2UgKiAwLjA2NSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb2xsICs9IChQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlci5TaW1wbGV4Tm9pc2UyRCh0aGlzLmlkbGVOb2lzZURlbHRhLCAxKSAqIHRoaXMuaWRsZVNoYWtlTm9pc2UgKiAwLjA2NSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGUgY2FsY3VsYXRlZCBwaXRjaCBhbmQgcm9sbCB0byB0aGUgdmVoaWNsZSdzIG1lc2ggZm9yIHZpc3VhbCBlZmZlY3RcbiAgICAgICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKFwiQ0hFQ0sgLSBQaXRjaDogXCIgKyB0aGlzLmN1cnJlbnRQaXRjaC50b0ZpeGVkKDIpICsgXCIgUm9sbDogXCIgKyB0aGlzLmN1cnJlbnRSb2xsLnRvRml4ZWQoMikgKyBcIiBTcGVlZCBDaGFuZ2U6IFwiICsgc3BlZWRDaGFuZ2UudG9GaXhlZCgyKSwgXCJ3aGl0ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFzc2lzVHJhbnNmb3JtICE9IG51bGwgJiYgdGhpcy5jaGFzc2lzVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhc3Npc1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMudGlsdENoYXNzaXNFdWxlcnMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aWx0QW5nbGVYID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLnRpbHRDaGFzc2lzRXVsZXJzLngsIHRoaXMuY3VycmVudFBpdGNoLCAodGhpcy5sZXJwRm9yd2FyZEZhY3RvciAqIGRlbHRhVGltZSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aWx0QW5nbGVaID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLnRpbHRDaGFzc2lzRXVsZXJzLnosIHRoaXMuY3VycmVudFJvbGwsICh0aGlzLmxlcnBMYXRlcmFsRmFjdG9yICogZGVsdGFUaW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdNLlByaW50VG9TY3JlZW4oXCJTeW5jIFBpdGNoOiBcIiArIHRpbHRBbmdsZVgudG9GaXhlZCgyKSArIFwiIFJvbGw6IFwiICsgdGlsdEFuZ2xlWi50b0ZpeGVkKDIpICsgXCIgU3BlZWQgQ2hhbmdlOiBcIiArIHNwZWVkQ2hhbmdlLnRvRml4ZWQoMiksIFwid2hpdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZih0aWx0QW5nbGVYLCB0aGlzLnRpbHRDaGFzc2lzRXVsZXJzLnksIHRpbHRBbmdsZVosIHRoaXMuY2hhc3Npc1RyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJldmlvdXMgc3BlZWQgZm9yIHRoZSBuZXh0IGZyYW1lXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c1NwZWVkID0gY3VycmVudFNwZWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB3cml0ZVRyYW5zZm9ybU1ldGFkYXRhKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhID09IG51bGwpIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhID0ge307XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyID09IG51bGwpIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhciA9IHt9O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBUcmFuc2Zvcm0gTm9kZSBNZXRhZGF0YVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5mb3J3YXJkU3BlZWQgPSB0aGlzLmZvcndhcmRTcGVlZDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5yZXZlcnNlUG93ZXIgPSB0aGlzLm1heFJldmVyc2VQb3dlcjtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLmNhci5hbWVyaWNhblNwZWVkID0gdGhpcy5hbWVyaWNhblNwZWVkO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyLmdyYWRpZW50U3BlZWQgPSB0aGlzLmdyYWRpZW50U3BlZWQ7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS5jYXIuY3VycmVudEZvcndhcmQgPSB0aGlzLmN1cnJlbnRGb3J3YXJkO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyLmxpbmVhclZlbG9jaXR5ID0gdGhpcy5nZXRMaW5lYXJWZWxvY2l0eSgpLmxlbmd0aCgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEuY2FyLm5vcm1hbGl6ZWRTcGVlZCA9IHRoaXMuZ2V0Tm9ybWFsaXplZFNwZWVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdldFZlaGljbGVFbmdpbmVUb3JxdWUocnBtOiBudW1iZXIsIHBvd2VyOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZVRvcnF1ZUN1cnZlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAoQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5TYW1wbGVBbmltYXRpb25GbG9hdCh0aGlzLmVuZ2luZVRvcnF1ZUN1cnZlLCBCQUJZTE9OLlNjYWxhci5DbGFtcChycG0sIHRoaXMuTUlOX1JQTSwgdGhpcy5NQVhfUlBNKSwgQkFCWUxPTi5BbmltYXRpb24uQU5JTUFUSU9OTE9PUE1PREVfQ1lDTEUsIGZhbHNlKSAqIHBvd2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNyZWF0ZVNtb2tlUGFydGljbGVTeXN0ZW0obmFtZTogc3RyaW5nLCBlbWl0dGVyOiBCQUJZTE9OLkFic3RyYWN0TWVzaCk6IEJBQllMT04uUGFydGljbGVTeXN0ZW0ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEJBQllMT04uUGFydGljbGVTeXN0ZW0obmFtZSwgMTAwMDAsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgcmVzdWx0LmJsZW5kTW9kZSA9IEJBQllMT04uUGFydGljbGVTeXN0ZW0uQkxFTkRNT0RFX1NUQU5EQVJEO1xuICAgICAgICAgICAgcmVzdWx0LnJlbmRlcmluZ0dyb3VwSWQgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkRlZmF1bHRSZW5kZXJHcm91cCgpO1xuICAgICAgICAgICAgcmVzdWx0LnBhcnRpY2xlVGV4dHVyZSA9IHRoaXMuc21va2VUZXh0dXJlXG4gICAgICAgICAgICByZXN1bHQuZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgICAgICAgICByZXN1bHQuZW1pdFJhdGUgPSAwO1xuICAgICAgICAgICAgcmVzdWx0LnVwZGF0ZVNwZWVkID0gMC4wMTtcblxuICAgICAgICAgICAgLy8gY2hhbmdlIHNpemUgYW5kIHNwZWVkXG4gICAgICAgICAgICByZXN1bHQubWluU2l6ZSA9IDAuMjtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhTaXplID0gMS4zO1xuICAgICAgICAgICAgcmVzdWx0Lm1pbkFuZ3VsYXJTcGVlZCA9IC0xLjU7XG4gICAgICAgICAgICByZXN1bHQubWF4QW5ndWxhclNwZWVkID0gMS41O1xuXG4gICAgICAgICAgICAvLyBjaGFuZ2VkIGxpZmV0aW1lIHRvIGNvbnRyb2wgc2hhcGUgb2YgdGhlIGNsb3VkIGluIGNvbmp1bmN0aW9uIHdpdGggdmVsb2NpdHkgZ3JhZGllbnRcbiAgICAgICAgICAgIHJlc3VsdC5taW5MaWZlVGltZSA9IDMuMDtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhMaWZlVGltZSA9IDUuMDtcblxuICAgICAgICAgICAgLy8gYWRkaW5nIHZlbG9jaXR5IG92ZXIgdGltZSB0byBwcmV2ZW50IGxhcmdlIGJsb29tIG9mIHBhcnRpY2xlcyBieSBsYXVuY2hpbmcgdGhlbSBmYXN0IGFuZCB0aGVuIHNsb3dpbmcgdGhlbSBkb3duIEdQVSBwYXJ0aWNsZXMgZG9uJ3QgdGFrZSBhIGdyYWRpZW50IG9uIHZlbG9jaXR5LCBidXQgdGhlIHJlZHVjdGlvbiBpbiB2ZWxvY2l0eSBvdmVyIHRpbWUgaXMgd29ydGggdGhlIHRyYWRlIG9mZiBmb3IgbGVzcyByYW5kb21pemF0aW9uXG4gICAgICAgICAgICByZXN1bHQuYWRkVmVsb2NpdHlHcmFkaWVudCgwLCAxKTtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRWZWxvY2l0eUdyYWRpZW50KDAuMSwgMC43KTtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRWZWxvY2l0eUdyYWRpZW50KDAuNywgMC4yKTtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRWZWxvY2l0eUdyYWRpZW50KDEuMCwgMC4wNSk7XG5cbiAgICAgICAgICAgIC8vIHJlZHVjZWQgdGhlIGVtaXQgcmF0ZSB0byByZWR1Y2UgYmxvb20gb2YgcGFydGljbGVzIGluIHRoZSBjZW50ZXIgb2YgbWFzc1xuICAgICAgICAgICAgcmVzdWx0LmdyYXZpdHkgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0wLjEsIDApO1xuICAgICAgICAgICAgcmVzdWx0Lm1pbkVtaXRCb3ggPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC0wLjI1LCAwKTtcbiAgICAgICAgICAgIHJlc3VsdC5tYXhFbWl0Qm94ID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMC4yNSwgMCk7XG4gICAgICAgICAgICByZXN1bHQuZGlyZWN0aW9uMSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoLTEsIC0xLCAtMSk7XG4gICAgICAgICAgICByZXN1bHQuZGlyZWN0aW9uMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMSwgMSk7XG5cbiAgICAgICAgICAgIC8vIFRoZSBjb2xvcjEsIGNvbG9yMiwgY29sb3JEZWFkIHBhdHRlcm4gaXMgb3ZlcnJpZGRlbiBieSBjb2xvciBncmFkaWVudCBzbyBpcyB1bm5lY2Vzc2FyeVxuICAgICAgICAgICAgcmVzdWx0LmNvbG9yMSA9IG5ldyBCQUJZTE9OLkNvbG9yNCgwLjk1LCAwLjk1LCAwLjk1LCB0aGlzLnNtb2tlT3BhY2l0eSk7XG4gICAgICAgICAgICByZXN1bHQuY29sb3IyID0gbmV3IEJBQllMT04uQ29sb3I0KDAuODUsIDAuODUsIDAuODUsIHRoaXMuc21va2VPcGFjaXR5KTtcbiAgICAgICAgICAgIHJlc3VsdC5jb2xvckRlYWQgPSBuZXcgQkFCWUxPTi5Db2xvcjQoMC45LCAwLjksIDAuOSwgKHRoaXMuc21va2VPcGFjaXR5ICogMC41KSk7XG5cbiAgICAgICAgICAgIC8vIENoYW5nZWQgdGhlIGNvbG9yIGdyYWRpZW50IHRvIGFkZCBhIHNlY29uZCB2YWx1ZSBmb3IgcmFuZG9taXphdGlvbiBhbmQgcmFtcGVkIHRoZSBjb2xvciBkb3duIGZ1cnRoZXIgdG8gY3JlYXRlIG1vcmUgdGV4dHVyZSB3aXRoIGFscGhhIGJsZW5kaW5nXG4gICAgICAgICAgICAvL3Jlc3VsdC5hZGRDb2xvckdyYWRpZW50KDAuMCwgbmV3IEJBQllMT04uQ29sb3I0KDEsIDEsIDEsIDAuMCksIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjcsIDAuNywgMC43LCAwLjApKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMC4yLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC43LCAwLjcsIDAuNywgMC4yKSwgbmV3IEJBQllMT04uQ29sb3I0KDAuNiwgMC42LCAwLjYsIDAuMikpO1xuICAgICAgICAgICAgLy9yZXN1bHQuYWRkQ29sb3JHcmFkaWVudCgwLjYsIG5ldyBCQUJZTE9OLkNvbG9yNCgwLjYsIDAuNiwgMC42LCAwLjEpLG5ldyBCQUJZTE9OLkNvbG9yNCgwLjQsIDAuNCwgMC40LCAwLjEpKTtcbiAgICAgICAgICAgIC8vcmVzdWx0LmFkZENvbG9yR3JhZGllbnQoMS4wLCBuZXcgQkFCWUxPTi5Db2xvcjQoMC4zLCAwLjMsIDAuMywgMC4wKSxuZXcgQkFCWUxPTi5Db2xvcjQoMC4xLCAwLjEsIDAuMSwgMC4wKSk7ICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRTa2lkSW5mbyh3aGVlbDogQkFCWUxPTi5Ub29sa2l0Lkhhdm9rV2hlZWxJbmZvKTogbnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiBCQUJZTE9OLlNjYWxhci5DbGFtcCgoMSAtIHdoZWVsLnNraWRJbmZvKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRCcmFrZURhbXBpbmcobGluZWFyOiBudW1iZXIsIGFuZ3VsYXI6IG51bWJlciwgbGVycDogbnVtYmVyID0gMS4wKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgdG90YWxXaGVlbERhbXBlbmVyOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgbGV0IGRlc3RpbmF0aW9uTGluZWFyRGFtcGluZzogbnVtYmVyID0gKGxpbmVhciArIHRvdGFsV2hlZWxEYW1wZW5lcik7XG4gICAgICAgICAgICBsZXQgZGVzdGluYXRpb25Bbmd1bGFyRGFtcGluZzogbnVtYmVyID0gYW5ndWxhcjtcbiAgICAgICAgICAgIGlmICh0aGlzLmFtZXJpY2FuU3BlZWQgPj0gdGhpcy5taW5QZW5hbHR5U3BlZWQgJiYgdGhpcy5saW5lYXJXaGVlbERyYWcgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVycCA8IDEuMCkge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50TGluZWFyRGFtcGluZzogbnVtYmVyID0gdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuZ2V0TGluZWFyRGFtcGluZygpO1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50QW5ndWxhckRhbXBpbmc6IG51bWJlciA9IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LmdldEFuZ3VsYXJEYW1waW5nKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNtb290aGVkTGluZWFyRGFtcGluZzogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycChjdXJyZW50TGluZWFyRGFtcGluZywgZGVzdGluYXRpb25MaW5lYXJEYW1waW5nLCBsZXJwKTtcbiAgICAgICAgICAgICAgICBsZXQgc21vb3RoZWRBbmd1bGFyRGFtcGluZzogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycChjdXJyZW50QW5ndWxhckRhbXBpbmcsIGRlc3RpbmF0aW9uQW5ndWxhckRhbXBpbmcsIGxlcnApO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldExpbmVhckRhbXBpbmcoc21vb3RoZWRMaW5lYXJEYW1waW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRBbmd1bGFyRGFtcGluZyhzbW9vdGhlZEFuZ3VsYXJEYW1waW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0TGluZWFyRGFtcGluZyhkZXN0aW5hdGlvbkxpbmVhckRhbXBpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldEFuZ3VsYXJEYW1waW5nKGRlc3RpbmF0aW9uQW5ndWxhckRhbXBpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVMaW5lYXJCcmFrZURhbXBpbmcobGluZWFyOiBudW1iZXIsIGxlcnA6IG51bWJlciA9IDEuMCk6IHZvaWQge1xuICAgICAgICAgICAgbGV0IHRvdGFsV2hlZWxEYW1wZW5lcjogbnVtYmVyID0gMDtcbiAgICAgICAgICAgIGxldCBkZXN0aW5hdGlvbkxpbmVhckRhbXBpbmc6IG51bWJlciA9IChsaW5lYXIgKyB0b3RhbFdoZWVsRGFtcGVuZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW1lcmljYW5TcGVlZCA+PSB0aGlzLm1pblBlbmFsdHlTcGVlZCAmJiB0aGlzLmxpbmVhcldoZWVsRHJhZyA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhckxlZnRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyUmlnaHRDb250YWN0VGFnID09PSB0aGlzLnBlbmFsdHlHcm91bmRUYWcpIHRvdGFsV2hlZWxEYW1wZW5lciArPSB0aGlzLmxpbmVhcldoZWVsRHJhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZXJwIDwgMS4wKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRMaW5lYXJEYW1waW5nOiBudW1iZXIgPSB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5nZXRMaW5lYXJEYW1waW5nKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNtb290aGVkTGluZWFyRGFtcGluZzogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycChjdXJyZW50TGluZWFyRGFtcGluZywgZGVzdGluYXRpb25MaW5lYXJEYW1waW5nLCBsZXJwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRMaW5lYXJEYW1waW5nKHNtb290aGVkTGluZWFyRGFtcGluZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LnNldExpbmVhckRhbXBpbmcoZGVzdGluYXRpb25MaW5lYXJEYW1waW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHVwZGF0ZUFuZ3VsYXJCcmFrZURhbXBpbmcoYW5ndWxhcjogbnVtYmVyLCBsZXJwOiBudW1iZXIgPSAxLjApOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCB0b3RhbFdoZWVsRGFtcGVuZXI6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBsZXQgZGVzdGluYXRpb25Bbmd1bGFyRGFtcGluZzogbnVtYmVyID0gYW5ndWxhcjtcbiAgICAgICAgICAgIGlmICh0aGlzLmFtZXJpY2FuU3BlZWQgPj0gdGhpcy5taW5QZW5hbHR5U3BlZWQgJiYgdGhpcy5saW5lYXJXaGVlbERyYWcgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWcgPT09IHRoaXMucGVuYWx0eUdyb3VuZFRhZykgdG90YWxXaGVlbERhbXBlbmVyICs9IHRoaXMubGluZWFyV2hlZWxEcmFnO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZyA9PT0gdGhpcy5wZW5hbHR5R3JvdW5kVGFnKSB0b3RhbFdoZWVsRGFtcGVuZXIgKz0gdGhpcy5saW5lYXJXaGVlbERyYWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVycCA8IDEuMCkge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50QW5ndWxhckRhbXBpbmc6IG51bWJlciA9IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LmdldEFuZ3VsYXJEYW1waW5nKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNtb290aGVkQW5ndWxhckRhbXBpbmc6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAoY3VycmVudEFuZ3VsYXJEYW1waW5nLCBkZXN0aW5hdGlvbkFuZ3VsYXJEYW1waW5nLCBsZXJwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keS5zZXRBbmd1bGFyRGFtcGluZyhzbW9vdGhlZEFuZ3VsYXJEYW1waW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGh5c2ljc0JvZHkuc2V0QW5ndWxhckRhbXBpbmcoZGVzdGluYXRpb25Bbmd1bGFyRGFtcGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50Um90YXRpb25EZWx0YShkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250TGVmdFdoZWVsICE9IG51bGwpIHRoaXMubV9mcm9udExlZnRXaGVlbC5kZWx0YVJvdGF0aW9uID0gZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsKSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlbHRhUm90YXRpb24gPSBkZWx0YTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja0xlZnRXaGVlbCAhPSBudWxsKSB0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWx0YVJvdGF0aW9uID0gZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tSaWdodFdoZWVsICE9IG51bGwpIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5kZWx0YVJvdGF0aW9uID0gZGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50Um90YXRpb25Cb29zdChib29zdDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy53aGVlbERyaXZlVHlwZSA9PT0gMSB8fCB0aGlzLndoZWVsRHJpdmVUeXBlID09PSAyKSB7IC8vIEZST05UIE9SIEFMTCBXSEVFTCBEUklWRVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2Zyb250TGVmdFdoZWVsLnJvdGF0aW9uQm9vc3QgPSBib29zdDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2Zyb250UmlnaHRXaGVlbCAhPSBudWxsKSB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLnJvdGF0aW9uQm9vc3QgPSBib29zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLndoZWVsRHJpdmVUeXBlID09PSAwIHx8IHRoaXMud2hlZWxEcml2ZVR5cGUgPT09IDIpIHsgLy8gUkVBUiBPUiBBTEwgV0hFRUwgRFJJVkVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2JhY2tMZWZ0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tMZWZ0V2hlZWwucm90YXRpb25Cb29zdCA9IGJvb3N0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCkgdGhpcy5tX2JhY2tSaWdodFdoZWVsLnJvdGF0aW9uQm9vc3QgPSBib29zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRGcmljdGlvblNsaXAobGVycFNwZWVkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZnJvbnRMZWZ0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbnRMZWZ0RnJpY3Rpb246IG51bWJlciA9IHRoaXMubV9mcm9udExlZnRXaGVlbC5mcmljdGlvblNsaXA7XG4gICAgICAgICAgICAgICAgaWYgKGZyb250TGVmdEZyaWN0aW9uIDwgKHRoaXMubV9mcm9udExlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gLSAwLjEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0RnJpY3Rpb25MZXJwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRMZWZ0RnJpY3Rpb24gPSBCQUJZTE9OLlNjYWxhci5MZXJwKGZyb250TGVmdEZyaWN0aW9uLCB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uLCAodGhpcy5mcm9udExlZnRGcmljdGlvblBlbmFsdHkgPT09IHRydWUpID8gKGxlcnBTcGVlZCAqIDMuMCkgOiBsZXJwU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gZnJvbnRMZWZ0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRGcmljdGlvblBlbmFsdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRGcmljdGlvbkxlcnBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250TGVmdFdoZWVsLmZyaWN0aW9uU2xpcCA9IHRoaXMubV9mcm9udExlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9mcm9udFJpZ2h0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb250UmlnaHRGcmljdGlvbjogbnVtYmVyID0gdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5mcmljdGlvblNsaXA7XG4gICAgICAgICAgICAgICAgaWYgKGZyb250UmlnaHRGcmljdGlvbiA8ICh0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiAtIDAuMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0RnJpY3Rpb25MZXJwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRSaWdodEZyaWN0aW9uID0gQkFCWUxPTi5TY2FsYXIuTGVycChmcm9udFJpZ2h0RnJpY3Rpb24sIHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uLCAodGhpcy5mcm9udFJpZ2h0RnJpY3Rpb25QZW5hbHR5ID09PSB0cnVlKSA/IChsZXJwU3BlZWQgKiAzLjApIDogbGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2Zyb250UmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSBmcm9udFJpZ2h0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodEZyaWN0aW9uTGVycGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJvbnRSaWdodFdoZWVsLmZyaWN0aW9uU2xpcCA9IHRoaXMubV9mcm9udFJpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja0xlZnRXaGVlbCAhPSBudWxsICYmIHRoaXMubV9iYWNrTGVmdFdoZWVsLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJhY2tMZWZ0RnJpY3Rpb246IG51bWJlciA9IHRoaXMubV9iYWNrTGVmdFdoZWVsLmZyaWN0aW9uU2xpcDtcbiAgICAgICAgICAgICAgICBpZiAoYmFja0xlZnRGcmljdGlvbiA8ICh0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gLSAwLjEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRGcmljdGlvbkxlcnBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYWNrTGVmdEZyaWN0aW9uID0gQkFCWUxPTi5TY2FsYXIuTGVycChiYWNrTGVmdEZyaWN0aW9uLCB0aGlzLm1fYmFja0xlZnRXaGVlbC5kZWZhdWx0RnJpY3Rpb24sICh0aGlzLnJlYXJMZWZ0RnJpY3Rpb25QZW5hbHR5ID09PSB0cnVlKSA/IChsZXJwU3BlZWQgKiAzLjApIDogbGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gYmFja0xlZnRGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRGcmljdGlvbkxlcnBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZnJpY3Rpb25TbGlwID0gdGhpcy5tX2JhY2tMZWZ0V2hlZWwuZGVmYXVsdEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFja1JpZ2h0V2hlZWwgIT0gbnVsbCAmJiB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgYmFja1JpZ2h0RnJpY3Rpb246IG51bWJlciA9IHRoaXMubV9iYWNrUmlnaHRXaGVlbC5mcmljdGlvblNsaXA7XG4gICAgICAgICAgICAgICAgaWYgKGJhY2tSaWdodEZyaWN0aW9uIDwgKHRoaXMubV9iYWNrUmlnaHRXaGVlbC5kZWZhdWx0RnJpY3Rpb24gLSAwLjEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tSaWdodEZyaWN0aW9uID0gQkFCWUxPTi5TY2FsYXIuTGVycChiYWNrUmlnaHRGcmljdGlvbiwgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmRlZmF1bHRGcmljdGlvbiwgKHRoaXMucmVhclJpZ2h0RnJpY3Rpb25QZW5hbHR5ID09PSB0cnVlKSA/IChsZXJwU3BlZWQgKiAzLjApIDogbGVycFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2JhY2tSaWdodFdoZWVsLmZyaWN0aW9uU2xpcCA9IGJhY2tSaWdodEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0RnJpY3Rpb25QZW5hbHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0RnJpY3Rpb25MZXJwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9iYWNrUmlnaHRXaGVlbC5mcmljdGlvblNsaXAgPSB0aGlzLm1fYmFja1JpZ2h0V2hlZWwuZGVmYXVsdEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBXaGVlbCBDb250YWN0IFJheWNhc3QgU3lzdGVtXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0Q29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0Q29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3RUYWc6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodENvbnRhY3RUYWc6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0VGFnOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3RUYWc6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGZyb250UmlnaHRDb250YWN0UG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0UG9pbnQ6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGZyb250TGVmdENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZnJvbnRSaWdodENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRDb250YWN0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJlYXJSaWdodENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZnJvbnRMZWZ0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByZWFyTGVmdFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmVhclJpZ2h0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRGcmljdGlvbkxlcnBpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0RnJpY3Rpb25MZXJwaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRGcmljdGlvbkxlcnBpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRGcmljdGlvbkxlcnBpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udExlZnRGcmljdGlvblBlbmFsdHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmcm9udFJpZ2h0RnJpY3Rpb25QZW5hbHR5OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVhckxlZnRGcmljdGlvblBlbmFsdHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWFyUmlnaHRGcmljdGlvblBlbmFsdHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzdGFydFJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBlbmRSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZG93bkRpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMSwgMCk7XG4gICAgICAgIHByaXZhdGUgZG93bkRpc3RhbmNlOiBudW1iZXIgPSAyLjA7XG5cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFdoZWVsQ29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuZnJvbnRMZWZ0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFyTGVmdENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJSaWdodFdoZWVsQ29udGFjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMucmVhclJpZ2h0Q29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0VGFnKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3RUYWc7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbENvbnRhY3RUYWcoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3RUYWc7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0VGFnKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0VGFnKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3RUYWc7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250TGVmdFdoZWVsQ29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRSaWdodFdoZWVsQ29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250UmlnaHRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0UG9pbnQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMucmVhckxlZnRDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJSaWdodFdoZWVsQ29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RnJvbnRMZWZ0V2hlZWxDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmZyb250TGVmdENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldEZyb250UmlnaHRXaGVlbENvbnRhY3ROb3JtYWwoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuZnJvbnRSaWdodENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldFJlYXJMZWZ0V2hlZWxDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJMZWZ0Q29udGFjdE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmVhclJpZ2h0V2hlZWxDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnJlYXJSaWdodENvbnRhY3ROb3JtYWw7IH1cblxuICAgICAgICBwcml2YXRlIHdoZWVsQ29udGFjdFJheWNhc3RSZXN1bHQ6IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQgPSBuZXcgQkFCWUxPTi5QaHlzaWNzUmF5Y2FzdFJlc3VsdCgpO1xuICAgICAgICBwcml2YXRlIGNhc3RXaGVlbENvbnRhY3RSYXlzKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5ID09IG51bGwpIHJldHVybjtcblxuICAgICAgICAgICAgbGV0IHJheWNhc3Q6IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQgPSB0aGlzLndoZWVsQ29udGFjdFJheWNhc3RSZXN1bHQ7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRSaWdodENvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZyA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0VGFnID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0VGFnID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZyA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3RQb2ludC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5yZWFyTGVmdENvbnRhY3RQb2ludC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3RQb2ludC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3ROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3ROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEZyb250IExlZnQgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmZyb250TGVmdFdoZWVsTWVzaCwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmZyb250TGVmdFdoZWVsTWVzaCwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLmRvd25EaXN0YW5jZSkpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAvLyBGcm9udCBMZWZ0IFBoeXNpY3MgUmF5Y2FzdFxuICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24sIHRoaXMuZG93bkRpc3RhbmNlKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdCk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMZWZ0Q29udGFjdFRhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRnJvbnQgTGVmdCBEcmF3IERlYnVnIExpbmVzXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udExlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuZnJvbnRMZWZ0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkZyb250TGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRMZWZ0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250TGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udExlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEZyb250IFJpZ2h0IFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5mcm9udFJpZ2h0V2hlZWxNZXNoLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuZnJvbnRSaWdodFdoZWVsTWVzaCwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLmRvd25EaXN0YW5jZSkpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAvLyBGcm9udCBSaWdodCBQaHlzaWNzIFJheWNhc3RcbiAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5kb3duRGlyZWN0aW9uLCB0aGlzLmRvd25EaXN0YW5jZSk7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QpO1xuICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdFRhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGcm9udCBSaWdodCBEcmF3IERlYnVnIExpbmVzXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcm9udFJpZ2h0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmZyb250UmlnaHRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuRnJvbnRSaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJvbnRSaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9udFJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb250UmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFJlYXIgTGVmdCBSYXljYXN0IFBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMuYmFja0xlZnRXaGVlbE1lc2gsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy5iYWNrTGVmdFdoZWVsTWVzaCwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLmRvd25EaXN0YW5jZSkpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAvLyBSZWFyIExlZnQgUGh5c2ljcyBSYXljYXN0XG4gICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbiwgdGhpcy5kb3duRGlzdGFuY2UpO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKHRoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kUmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0KTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5ib2R5ICE9IG51bGwgJiYgcmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdFRhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJMZWZ0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlYXIgTGVmdCBEcmF3IERlYnVnIExpbmVzXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyTGVmdFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5yZWFyTGVmdFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SZWFyTGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhckxlZnRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhckxlZnRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFJlYXIgUmlnaHQgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmJhY2tSaWdodFdoZWVsTWVzaCwgdGhpcy5lbmRSYXljYXN0UG9zaXRpb24sIHRoaXMuZG93bkRpcmVjdGlvbi5zY2FsZSh0aGlzLmRvd25EaXN0YW5jZSkpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubV92ZWxvY2l0eU9mZnNldCk7XG4gICAgICAgICAgICAvLyBSZWFyIFJpZ2h0IFBoeXNpY3MgUmF5Y2FzdFxuICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmRvd25EaXJlY3Rpb24sIHRoaXMuZG93bkRpc3RhbmNlKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdCk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhclJpZ2h0Q29udGFjdFRhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodENvbnRhY3ROb3JtYWwuY29weUZyb20ocmF5Y2FzdC5oaXROb3JtYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVhciBSaWdodCBEcmF3IERlYnVnIExpbmVzXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMucmVhclJpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJlYXJSaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhclJpZ2h0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXJSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFyUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLmVuZFJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFZlaGljbGVDYW1lcmFNYW5hZ2VyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgVmVoaWNsZUNhbWVyYU1hbmFnZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIGVuYWJsZUNhbWVyYTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZm9sbG93VGFyZ2V0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBmb2xsb3dIZWlnaHQ6IG51bWJlciA9IDEuMjU7XG4gICAgICAgIHB1YmxpYyBwaXRjaGluZ0FuZ2xlOiBudW1iZXIgPSAwLjA7XG4gICAgICAgIHB1YmxpYyByb3RhdGlvbkRhbXBpbmc6IG51bWJlciA9IDUuMDtcbiAgICAgICAgcHVibGljIG1pbmltdW1EaXN0YW5jZTogbnVtYmVyID0gNC4wO1xuICAgICAgICBwdWJsaWMgbWF4aW11bURpc3RhbmNlOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBidXR0b25DYW1lcmE6IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5ZO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRDYW1lcmE6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuUDtcbiAgICAgICAgcHVibGljIHRpY2tSZW1vdGVFbnRpdGllczogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHB1YmxpYyBmYXN0TW90aW9uQmx1cjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgbG93U3BlZWRCbHVycmluZzogbnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgaGlnaFNwZWVkQmx1cnJpbmc6IG51bWJlciA9IDIwLjA7XG4gICAgICAgIHB1YmxpYyBtb3Rpb25CbHVyU2FtcGxlczogbnVtYmVyID0gMzI7XG4gICAgICAgIHB1YmxpYyBpc09iamVjdEJhc2VkQmx1cjogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBmYXN0Q2FtZXJhU2hha2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGxvd1NwZWVkU2hha2luZzogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgaGlnaFNwZWVkU2hha2luZzogbnVtYmVyID0gMS4wO1xuXG4gICAgICAgIHByaXZhdGUgZmlyc3RQZXJzb246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFQaXZvdDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSB0YXJnZXRFdWxlcnM6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUGl2b3RPZmZzZXQ6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgYXV0b0F0dGFjaENhbWVyYTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIG1vdGlvbkJsdXJBdHRhY2hlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCBtX2ZyZWVDYW1lcmE6IEJBQllMT04uRnJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX21vdGlvbkJsdXI6IEJBQllMT04uTW90aW9uQmx1clBvc3RQcm9jZXNzID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fY2FtZXJhVHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9pbnB1dENvbnRyb2xsZXI6IFBST0pFQ1QuVmVoaWNsZUlucHV0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3N0YW5kYXJkQ29udHJvbGxlcjogUFJPSkVDVC5TdGFuZGFyZENhckNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9maXJzdFBlcnNvbk9mZnNldDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLjAsIDEuMTUsIDAuMTUpO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZUNhbWVyYU1hbmFnZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuaW5pdENhbWVyYU1hbmFnZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHsgdGhpcy5sYXRlVXBkYXRlQ2FtZXJhTWFuYWdlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lDYW1lcmFNYW5hZ2VyKCk7IH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2VDYW1lcmFNYW5hZ2VyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVDYW1lcmEgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlQ2FtZXJhXCIsIHRoaXMuZW5hYmxlQ2FtZXJhKTtcbiAgICAgICAgICAgIHRoaXMuZm9sbG93VGFyZ2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImZvbGxvd1RhcmdldFwiLCB0aGlzLmZvbGxvd1RhcmdldCk7XG4gICAgICAgICAgICB0aGlzLmZvbGxvd0hlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmb2xsb3dIZWlnaHRcIiwgdGhpcy5mb2xsb3dIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5waXRjaGluZ0FuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcInBpdGNoaW5nQW5nbGVcIiwgdGhpcy5waXRjaGluZ0FuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25EYW1waW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvdGF0aW9uRGFtcGluZ1wiLCB0aGlzLnJvdGF0aW9uRGFtcGluZyk7XG4gICAgICAgICAgICB0aGlzLm1pbmltdW1EaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5pbXVtRGlzdGFuY2VcIiwgdGhpcy5taW5pbXVtRGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5tYXhpbXVtRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4aW11bURpc3RhbmNlXCIsIHRoaXMubWF4aW11bURpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMuYXV0b0F0dGFjaENhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdHRhY2hDYW1lcmFcIiwgdGhpcy5hdXRvQXR0YWNoQ2FtZXJhKTtcbiAgICAgICAgICAgIHRoaXMudGlja1JlbW90ZUVudGl0aWVzID0gdGhpcy5nZXRQcm9wZXJ0eShcInRpY2tSZW1vdGVFbnRpdGllc1wiLCB0aGlzLnRpY2tSZW1vdGVFbnRpdGllcyk7XG4gICAgICAgICAgICB0aGlzLmZhc3RNb3Rpb25CbHVyID0gdGhpcy5nZXRQcm9wZXJ0eShcImZhc3RNb3Rpb25CbHVyXCIsIHRoaXMuZmFzdE1vdGlvbkJsdXIpO1xuICAgICAgICAgICAgdGhpcy5sb3dTcGVlZEJsdXJyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvd1NwZWVkQmx1cnJpbmdcIiwgdGhpcy5sb3dTcGVlZEJsdXJyaW5nKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaFNwZWVkQmx1cnJpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiaGlnaFNwZWVkQmx1cnJpbmdcIiwgdGhpcy5oaWdoU3BlZWRCbHVycmluZyk7XG4gICAgICAgICAgICB0aGlzLm1vdGlvbkJsdXJTYW1wbGVzID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdGlvbkJsdXJTYW1wbGVzXCIsIHRoaXMubW90aW9uQmx1clNhbXBsZXMpO1xuICAgICAgICAgICAgdGhpcy5pc09iamVjdEJhc2VkQmx1ciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpc09iamVjdEJhc2VkQmx1clwiLCB0aGlzLmlzT2JqZWN0QmFzZWRCbHVyKTtcbiAgICAgICAgICAgIHRoaXMuZmFzdENhbWVyYVNoYWtlID0gdGhpcy5nZXRQcm9wZXJ0eShcImZhc3RDYW1lcmFTaGFrZVwiLCB0aGlzLmZhc3RDYW1lcmFTaGFrZSk7XG4gICAgICAgICAgICB0aGlzLmxvd1NwZWVkU2hha2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsb3dTcGVlZFNoYWtpbmdcIiwgdGhpcy5sb3dTcGVlZFNoYWtpbmcpO1xuICAgICAgICAgICAgdGhpcy5oaWdoU3BlZWRTaGFraW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImhpZ2hTcGVlZFNoYWtpbmdcIiwgdGhpcy5oaWdoU3BlZWRTaGFraW5nKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgZmlyc3RQZXJzb25PZmZzZXQ6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcImZpcnN0UGVyc29uT2Zmc2V0XCIpO1xuICAgICAgICAgICAgaWYgKGZpcnN0UGVyc29uT2Zmc2V0ICE9IG51bGwpIHRoaXMubV9maXJzdFBlcnNvbk9mZnNldCA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGZpcnN0UGVyc29uT2Zmc2V0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0aW9uRGFtcGluZyA8PSAwKSB0aGlzLnJvdGF0aW9uRGFtcGluZyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgaW5pdENhbWVyYU1hbmFnZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQoXCJQUk9KRUNULlN0YW5kYXJkQ2FyQ29udHJvbGxlclwiKTtcbiAgICAgICAgICAgIHRoaXMubV9pbnB1dENvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIlBST0pFQ1QuVmVoaWNsZUlucHV0Q29udHJvbGxlclwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1faW5wdXRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyh0aGlzLmtleWJvYXJkQ2FtZXJhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMucGxheWVyTnVtYmVyID09PSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVBsYXllckNhbWVyYSgpO1xuICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uR2FtZXBhZEJ1dHRvblByZXNzKHRoaXMuYnV0dG9uQ2FtZXJhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlUGxheWVyQ2FtZXJhKCk7XG4gICAgICAgICAgICAgICAgfS8qLCB0aGlzLnBsYXllck51bWJlciovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZVVwZGF0ZUNhbWVyYU1hbmFnZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVRyYW5zZm9ybSA9PSBudWxsICYmIHRoaXMuYXV0b0F0dGFjaENhbWVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1faW5wdXRDb250cm9sbGVyICE9IG51bGwpIHRoaXMuYXR0YWNoUGxheWVyQ2FtZXJhKHRoaXMubV9pbnB1dENvbnRyb2xsZXIucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZpcnN0UGVyc29uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFBlcnNvbkNhbWVyYSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRoaXJkUGVyc29uQ2FtZXJhKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIE1vdGlvbiBCbHVyXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubV9mcmVlQ2FtZXJhICE9IG51bGwgJiYgdGhpcy5tX21vdGlvbkJsdXIgIT0gbnVsbCAmJiB0aGlzLm1fc3RhbmRhcmRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX3N0YW5kYXJkQ29udHJvbGxlci5pc0Jvb3N0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW90aW9uQmx1ckF0dGFjaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2ZyZWVDYW1lcmEuYXR0YWNoUG9zdFByb2Nlc3ModGhpcy5tX21vdGlvbkJsdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3Rpb25CbHVyQXR0YWNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9tb3Rpb25CbHVyLm1vdGlvblN0cmVuZ3RoID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmxvd1NwZWVkQmx1cnJpbmcsIHRoaXMuaGlnaFNwZWVkQmx1cnJpbmcsIHRoaXMubV9zdGFuZGFyZENvbnRyb2xsZXIuZ2V0R3JhZGllbnRTcGVlZCgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbW90aW9uQmx1ci5tb3Rpb25TdHJlbmd0aCA9IHRoaXMubG93U3BlZWRCbHVycmluZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW90aW9uQmx1ckF0dGFjaGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJlZUNhbWVyYS5kZXRhY2hQb3N0UHJvY2Vzcyh0aGlzLm1fbW90aW9uQmx1cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdGlvbkJsdXJBdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95Q2FtZXJhTWFuYWdlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQbGF5ZXIgQ2FtZXJhIEZ1bmN0aW9ucyAvL1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHB1YmxpYyBhdHRhY2hQbGF5ZXJDYW1lcmEocGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVRyYW5zZm9ybSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyQ2FtZXJhOiBudW1iZXIgPSAocGxheWVyIDw9IDAgfHwgcGxheWVyID4gNCkgPyAxIDogcGxheWVyO1xuICAgICAgICAgICAgICAgIHRoaXMubV9mcmVlQ2FtZXJhID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLkdldE1haW5DYW1lcmEodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRDYW1lcmFUcmFuc2Zvcm0odGhpcy5zY2VuZSwgcGxheWVyQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVRyYW5zZm9ybSAhPSBudWxsICYmIHRoaXMuZm9sbG93VGFyZ2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVBpdm90ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5DYW1lcmFQaXZvdFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogY29uc3QgdGVzdFBpdm90OkJBQllMT04uTWVzaCA9IEJBQllMT04uTWVzaC5DcmVhdGVCb3goXCJUZXN0UGl2b3RcIiwgMC4yNSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogdGVzdFBpdm90LnBhcmVudCA9IHRoaXMuY2FtZXJhUGl2b3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogdGVzdFBpdm90LnBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogdGVzdFBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybS5wYXJlbnQgPSB0aGlzLmNhbWVyYVBpdm90O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX21vdGlvbkJsdXIgPT0gbnVsbCAmJiB0aGlzLm1fZnJlZUNhbWVyYSAhPSBudWxsICYmIHRoaXMuZmFzdE1vdGlvbkJsdXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBNb3Rpb25CbHVyUG9zdFByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBlZmZlY3QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gc2NlbmUgVGhlIHNjZW5lIGNvbnRhaW5pbmcgdGhlIG9iamVjdHMgdG8gYmx1ciBhY2NvcmRpbmcgdG8gdGhlaXIgdmVsb2NpdHkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgcmVxdWlyZWQgd2lkdGgvaGVpZ2h0IHJhdGlvIHRvIGRvd25zaXplIHRvIGJlZm9yZSBjb21wdXRpbmcgdGhlIHJlbmRlciBwYXNzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIGNhbWVyYSBUaGUgY2FtZXJhIHRvIGFwcGx5IHRoZSByZW5kZXIgcGFzcyB0by5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSBzYW1wbGluZ01vZGUgVGhlIHNhbXBsaW5nIG1vZGUgdG8gYmUgdXNlZCB3aGVuIGNvbXB1dGluZyB0aGUgcGFzcy4gKGRlZmF1bHQ6IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZW5naW5lIFRoZSBlbmdpbmUgd2hpY2ggdGhlIHBvc3QgcHJvY2VzcyB3aWxsIGJlIGFwcGxpZWQuIChkZWZhdWx0OiBjdXJyZW50IGVuZ2luZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSByZXVzYWJsZSBJZiB0aGUgcG9zdCBwcm9jZXNzIGNhbiBiZSByZXVzZWQgb24gdGhlIHNhbWUgZnJhbWUuIChkZWZhdWx0OiBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB0ZXh0dXJlVHlwZSBUeXBlIG9mIHRleHR1cmVzIHVzZWQgd2hlbiBwZXJmb3JtaW5nIHRoZSBwb3N0IHByb2Nlc3MuIChkZWZhdWx0OiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIGJsb2NrQ29tcGlsYXRpb24gSWYgY29tcGlsYXRpb24gb2YgdGhlIHNoYWRlciBzaG91bGQgbm90IGJlIGRvbmUgaW4gdGhlIGNvbnN0cnVjdG9yLiBUaGUgdXBkYXRlRWZmZWN0IG1ldGhvZCBjYW4gYmUgdXNlZCB0byBjb21waWxlIHRoZSBzaGFkZXIgYXQgYSBsYXRlciB0aW1lLiAoZGVmYXVsdDogdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSBmb3JjZUdlb21ldHJ5QnVmZmVyIElmIHRoaXMgcG9zdCBwcm9jZXNzIHNob3VsZCB1c2UgZ2VvbWV0cnkgYnVmZmVyIGluc3RlYWQgb2YgcHJlcGFzcyAoZGVmYXVsdDogZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9tb3Rpb25CbHVyID0gbmV3IEJBQllMT04uTW90aW9uQmx1clBvc3RQcm9jZXNzKFwiRmFzdE1vdGlvbkJsdXJcIiwgdGhpcy5zY2VuZSwgMS4wLCB0aGlzLm1fZnJlZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9tb3Rpb25CbHVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZnJlZUNhbWVyYS5kZXRhY2hQb3N0UHJvY2Vzcyh0aGlzLm1fbW90aW9uQmx1cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX21vdGlvbkJsdXIuaXNPYmplY3RCYXNlZCA9IHRoaXMuaXNPYmplY3RCYXNlZEJsdXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX21vdGlvbkJsdXIubW90aW9uU3RyZW5ndGggPSB0aGlzLmxvd1NwZWVkQmx1cnJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX21vdGlvbkJsdXIubW90aW9uQmx1clNhbXBsZXMgPSB0aGlzLm1vdGlvbkJsdXJTYW1wbGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW90aW9uQmx1ckF0dGFjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgdG9nZ2xlUGxheWVyQ2FtZXJhKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5maXJzdFBlcnNvbiA9ICF0aGlzLmZpcnN0UGVyc29uO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBmaXJzdFBlcnNvbkNhbWVyYSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUNhbWVyYSA9PT0gdHJ1ZSAmJiB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtICE9IG51bGwgJiYgdGhpcy5tX3N0YW5kYXJkQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9sbG93VGFyZ2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVBpdm90ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIEJvb21cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMubV9maXJzdFBlcnNvbk9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkZyb21FdWxlclRvUmVmKDAsIDAsIDAsIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ubG9va0F0KHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHJpdmF0ZSBzbW9vdGhEZWx0YVRpbWU6bnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgdGhpcmRQZXJzb25DYW1lcmEoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVDYW1lcmEgPT09IHRydWUgJiYgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybSAhPSBudWxsICYmIHRoaXMubV9zdGFuZGFyZENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvbGxvd1RhcmdldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6IG51bWJlciA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBLRUVQIEZPUiBSRUZFUkVDTkVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiBjb25zdCBkZWx0YUZhY3RvcjpudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuU3lzdGVtLlNtb290aERlbHRhRmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IHRoaXMuc21vb3RoRGVsdGFUaW1lID0gZGVsdGFGYWN0b3IgKiBkZWx0YVRpbWUgKyAoMSAtIGRlbHRhRmFjdG9yKSAqIHRoaXMuc21vb3RoRGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gREVQUkVDSUFURUQ6IGNvbnN0IHR1cm5EYW1wZW5lcjpudW1iZXIgPSAodGhpcy5zbW9vdGhEZWx0YVRpbWUgKiB0aGlzLnJvdGF0aW9uRGFtcGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdE9mZnNldC5zZXQoMCwgdGhpcy5mb2xsb3dIZWlnaHQsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24sIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5EYW1wZW5lcjogbnVtYmVyID0gKGRlbHRhVGltZSAqIHRoaXMucm90YXRpb25EYW1waW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy50YXJnZXRFdWxlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKCh0aGlzLnRhcmdldEV1bGVycy54ICsgQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5waXRjaGluZ0FuZ2xlKSksIHRoaXMudGFyZ2V0RXVsZXJzLnksIDAsIHRoaXMuY2FtZXJhUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYodGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24sIHRoaXMuY2FtZXJhUm90YXRpb24sIHR1cm5EYW1wZW5lciwgdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDYW1lcmEgQm9vbVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVyYUJvb21EaXN0YW5jZTogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLm1pbmltdW1EaXN0YW5jZSwgdGhpcy5tYXhpbXVtRGlzdGFuY2UsIHRoaXMubV9zdGFuZGFyZENvbnRyb2xsZXIuZ2V0R3JhZGllbnRTcGVlZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFUcmFuc2Zvcm0ucG9zaXRpb24uc2V0KDAsIDAsIC1jYW1lcmFCb29tRGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVRyYW5zZm9ybS5sb29rQXQodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgICogQGNsYXNzIFZlaGljbGVJbnB1dENvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIElTdGVlcmluZ1doZWVsRGV2aWNlIHtcbiAgICAgICAgZGV2aWNlTmFtZTogc3RyaW5nO1xuICAgICAgICBmb3J3YXJkQnV0dG9uOiBudW1iZXI7XG4gICAgICAgIGJhY2t3YXJkQnV0dG9uOiBudW1iZXI7XG4gICAgICAgIGxlZnRIYW5kQnJha2U6IG51bWJlcjtcbiAgICAgICAgcmlnaHRIYW5kQnJha2U6IG51bWJlcjtcbiAgICAgICAgbGVmdERvbnV0Qm9vc3Q6IG51bWJlcjtcbiAgICAgICAgcmlnaHREb251dEJvb3N0OiBudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBjbGFzcyBWZWhpY2xlSW5wdXRDb250cm9sbGVyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgcGxheWVyRGVsdGFYOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBsYXllckRlbHRhWTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJNb3VzZVg6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTW91c2VZOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGFja2VybWFuUmFkaXVzOiBudW1iZXIgPSAwLjg1O1xuICAgICAgICBwcml2YXRlIHJlY292ZXJ5UmFkaXVzOiBudW1iZXIgPSAwLjI1O1xuICAgICAgICBwcml2YXRlIHdheXBvaW50UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgd2F5cG9pbnRDb3VudDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB3YXlwb2ludEluZGV4OiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG5vTW92ZW1lbnRUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJldmVyc2VGaXhNb2RlOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgcmVjb3ZlcnlGaXhNb2RlOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbmV4dFRhcmdldFNwZWVkOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHByZXZUYXJnZXRTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB2ZWhpY2xlUmVzZXRDaGVjazogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByYW5kb21Ta2lsbEZhY3RvcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzaG93Q2hhc2VSYWJiaXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzaG93U2Vuc29yTGluZXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzdGVlcmluZ1doZWVsTW9kZTogbnVtYmVyID0gLTE7XG4gICAgICAgIHByaXZhdGUgcmFiYml0VHJhY2tlckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmFiYml0VHJhY2tlckNvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLCAxLCAxKTtcbiAgICAgICAgcHJpdmF0ZSBncmVlblRyYWNraW5nQ29sb3I6IEJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDAsIDEsIDApO1xuICAgICAgICBwcml2YXRlIHJlZFRyYWNraW5nQ29sb3I6IEJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDEsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGxvY2FsVGFyZ2V0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgYXZvaWRQb3NpdGlvbk9mZnNldDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBhdm9pZGFuY2VMZXJwOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGF2b2lkYW5jZVRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGF2b2lkYW5jZVZhbHVlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJhbmRvbVR1cm5pbmc6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcmFuZG9tQm9vc3Rpbmc6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcmFuZG9tRGlzdGFuY2U6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGFzdENoZWNrcG9pbnQ6IG51bWJlciA9IC0xO1xuXG4gICAgICAgIHByaXZhdGUgbWFpbkNlbnRlclNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbWFpblJpZ2h0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBtYWluTGVmdFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYW5nbGVSaWdodFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYW5nbGVMZWZ0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzaWRlUmlnaHRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNpZGVMZWZ0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBiYWNrUmlnaHRTZW5zb3JMaW5lOiBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGJhY2tMZWZ0U2Vuc29yTGluZTogQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzaWRld2F5c09mZnNldFZlY3RvcjogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBiYWNrQnVtcGVyRWRnZVZlY3RvcjogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBzZW5zb3JTdGFydFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBzZW5zb3JQb2ludFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBzZW5zb3JBbmdsZVBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSByc2lkZVN0YXJ0UG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHJzaWRlUG9pbnRQb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgbHNpZGVTdGFydFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBsc2lkZVBvaW50UG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHRlbXBTY2FsZVZlY3RvcjogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSByYmFja1N0YXJ0UG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHJiYWNrUG9pbnRQb3M6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgbGJhY2tTdGFydFBvczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBsYmFja1BvaW50UG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHRyYWNrVmVoaWNsZVBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIHRyYWNrUmFiYml0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG5cbiAgICAgICAgLy8gUHVibGljIFByb3BlcnRpZXNcbiAgICAgICAgcHVibGljIGdldFBsYXllckRlbHRhWCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5wbGF5ZXJEZWx0YVggfTtcbiAgICAgICAgcHVibGljIGdldFBsYXllckRlbHRhWSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5wbGF5ZXJEZWx0YVkgfTtcbiAgICAgICAgcHVibGljIGdldFBsYXllck1vdXNlWCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5wbGF5ZXJNb3VzZVggfTtcbiAgICAgICAgcHVibGljIGdldFBsYXllck1vdXNlWSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5wbGF5ZXJNb3VzZVkgfTtcbiAgICAgICAgcHVibGljIGdldFdheXBvaW50SW5kZXgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMud2F5cG9pbnRJbmRleCB9O1xuICAgICAgICBwdWJsaWMgZ2V0Q2hhc2VSYWJiaXRNZXNoKCk6IEJBQllMT04uTWVzaCB7IHJldHVybiB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoIH07XG4gICAgICAgIHB1YmxpYyByZXNldENoYXNlUmFiYml0TWVzaCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VSYWJiaXRNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRDaGFzZVBvaW50TWVzaCgpOiBCQUJZTE9OLk1lc2ggeyByZXR1cm4gdGhpcy5tX2NoYXNlUG9pbnRNZXNoIH07XG4gICAgICAgIHB1YmxpYyByZXNldENoYXNlUG9pbnRNZXNoKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVBvaW50TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VQb2ludE1lc2gucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGVuYWJsZUlucHV0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyByZXNldFRpbWluZzogbnVtYmVyID0gMy4wO1xuICAgICAgICBwdWJsaWMgcGxheWVyTnVtYmVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmU7XG5cbiAgICAgICAgcHVibGljIHBlZGVsRm9yd2FyZDogbnVtYmVyID0gNzsgLy8gR2VuZXJpYyBCdXR0b24gNyAoRm9vdCBQZWRhbClcbiAgICAgICAgcHVibGljIHRyaWdnZXJGb3J3YXJkOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuWGJveDM2MFRyaWdnZXIuUmlnaHQ7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZEZvcmF3cmQ6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuVztcbiAgICAgICAgcHVibGljIGF1eEtleWJvYXJkRm9yYXdyZDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5VcEFycm93O1xuXG4gICAgICAgIHB1YmxpYyBwZWRhbEJhY2t3YXJkOiBudW1iZXIgPSA2OyAvLyBHZW5lcmljIEJ1dHRvbiA2IChGb290IFBlZGFsKVxuICAgICAgICBwdWJsaWMgdHJpZ2dlckJhY2t3YXJkczogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0Llhib3gzNjBUcmlnZ2VyLkxlZnQ7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZEJhY2t3YXJkczogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5TO1xuICAgICAgICBwdWJsaWMgYXV4S2V5Ym9hcmRCYWNrd2FyZHM6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuRG93bkFycm93O1xuXG4gICAgICAgIHB1YmxpYyBwZWRhbEJvb3N0ZXI6IG51bWJlciA9IDE7IC8vIEdlbmVyaWMgQnV0dG9uIDEgKFNwZWVkIEJvb3N0ZXIpXG4gICAgICAgIHB1YmxpYyBrZXlib2FyZEJvb3N0ZXI6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuQ3RybDtcbiAgICAgICAgcHVibGljIGJ1dHRvbkJvb3N0ZXI6IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5CO1xuXG4gICAgICAgIHB1YmxpYyBidXR0b25IYW5kYnJha2U6IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5YO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRIYW5kYnJha2U6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuU3BhY2VCYXI7XG4gICAgICAgIHB1YmxpYyBsZWZ0V2hlZWxIYW5kYnJha2U6IG51bWJlciA9IDQ7IC8vIEdlbmVyaWMgQnV0dG9uIDQgKEhhbmQgUGFkZGxlKVxuICAgICAgICBwdWJsaWMgcmlnaHRXaGVlbEhhbmRicmFrZTogbnVtYmVyID0gNTsgLy8gR2VuZXJpYyBCdXR0b24gNSAoSGFuZCBQYWRkbGUpXG5cbiAgICAgICAgcHVibGljIGtleWJvYXJkRG9udXQ6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuU2hpZnQ7XG4gICAgICAgIHB1YmxpYyBsZWZ0QnV0dG9uRG9udXQ6IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5MQjtcbiAgICAgICAgcHVibGljIHJpZ2h0QnV0dG9uRG9udXQ6IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5SQjtcbiAgICAgICAgcHVibGljIGxlZnRXaGVlbERvbnV0OiBudW1iZXIgPSAxMDsgLy8gR2VuZXJpYyBCdXR0b24gMTAgKFdoZWVsIEJ1dHRvbilcbiAgICAgICAgcHVibGljIHJpZ2h0V2hlZWxEb251dDogbnVtYmVyID0gMTE7IC8vIEdlbmVyaWMgQnV0dG9uIDExIChXaGVlbCBCdXR0b24pXG5cbiAgICAgICAgLy8gQXV0byBQaWxvdCBQcm9wZXJ0aWVzXG4gICAgICAgIHB1YmxpYyByYWNlTGluZU5vZGU6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBtaW5Mb29rQWhlYWQ6IG51bWJlciA9IDU7XG4gICAgICAgIHB1YmxpYyBtYXhMb29rQWhlYWQ6IG51bWJlciA9IDUwO1xuICAgICAgICBwdWJsaWMgZHJpdmVyU2tpbGxMZXZlbDogbnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGNoYXNlUmFiYml0U3BlZWQ6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIHRocm90dGxlU2Vuc2l0aXZpdHk6IG51bWJlciA9IDE7XG4gICAgICAgIHB1YmxpYyBzdGVlcmluZ1NlbnNpdGl2aXR5OiBudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgYnJha2luZ1NlbnNpdGl2aXR5OiBudW1iZXIgPSAxO1xuICAgICAgICBwdWJsaWMgYnJha2luZ1R1cm5BbmdsZTogbnVtYmVyID0gMTU7XG4gICAgICAgIHB1YmxpYyBicmFraW5nU3BlZWRMaW1pdDogbnVtYmVyID0gOTA7XG4gICAgICAgIHB1YmxpYyBza2lkZGluZ1NwZWVkTGltaXQ6IG51bWJlciA9IDEwMDtcbiAgICAgICAgcHVibGljIGxpbmVhckRhbXBlbkZvcmNlOiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBkcml2ZVNwZWVkTXVsdGlwbGllcjogbnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgZHJpdmVMaW5lRGlzdGFuY2U6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIHJlc2V0TW92aW5nVGltZW91dDogbnVtYmVyID0gMztcbiAgICAgICAgcHVibGljIHJldmVyc2VUaHJvdHRsZVRpbWU6IG51bWJlciA9IDM7XG4gICAgICAgIHB1YmxpYyBtYXhSYWNlVHJhY2tTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHRyYWNrTWFuYWdlcklkZW50aXR5OiBzdHJpbmcgPSBcIlRyYWNrTWFuYWdlclwiO1xuXG4gICAgICAgIC8vIEF1dG8gUGlsb3QgQXZvaWQgU2Vuc29yc1xuICAgICAgICBwdWJsaWMgdmVoaWNsZVRhZzogc3RyaW5nID0gXCJWZWhpY2xlXCI7XG4gICAgICAgIHB1YmxpYyBvYnN0YWNsZVRhZzogc3RyaW5nID0gXCJPYnN0YWNsZVwiO1xuICAgICAgICBwdWJsaWMgc2Vuc29yTGVuZ3RoOiBudW1iZXIgPSA4O1xuICAgICAgICBwdWJsaWMgc3BhY2VyV2lkdGhzOiBudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgYW5nbGVGYWN0b3JzOiBudW1iZXIgPSAxLjU7XG4gICAgICAgIHB1YmxpYyBpbml0aWFsT2Zmc2V0WDogbnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGluaXRpYWxPZmZzZXRZOiBudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBpbml0aWFsT2Zmc2V0WjogbnVtYmVyID0gMjtcbiAgICAgICAgcHVibGljIHNpZGV3YXlzTGVuZ3RoOiBudW1iZXIgPSAxLjU7XG4gICAgICAgIHB1YmxpYyBzaWRld2F5c09mZnNldDogbnVtYmVyID0gMC41O1xuICAgICAgICBwdWJsaWMgYmFja0J1bXBlckVkZ2U6IG51bWJlciA9IDIuNTtcbiAgICAgICAgcHVibGljIHBvd2VyQm9vc3Rpbmc6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIHdvbmRlckRpc3RhbmNlOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBhdm9pZGFuY2VGYWN0b3I6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIGF2b2lkYW5jZVNwZWVkOiBudW1iZXIgPSAzLjA7XG4gICAgICAgIHB1YmxpYyBhdm9pZGFuY2VUaW1lb3V0OiBudW1iZXIgPSAzLjA7XG4gICAgICAgIHB1YmxpYyBhdm9pZGFuY2VEaXN0YW5jZTogbnVtYmVyID0gMi4wO1xuXG4gICAgICAgIC8vIEF1dG8gUGlsb3QgUmV2ZXJzZSBPcHRpb25zXG4gICAgICAgIHByaXZhdGUgcmV2ZXJzaW5nRmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJldmVyc2luZ1RpbWU6IG51bWJlciA9IDAuMDtcbiAgICAgICAgcHJpdmF0ZSByZXZlcnNpbmdXYWl0OiBudW1iZXIgPSAyLjA7XG4gICAgICAgIHByaXZhdGUgcmV2ZXJzaW5nRm9yOiBudW1iZXIgPSAxLjU7XG5cbiAgICAgICAgLy8gVmVoaWNsZSBEcml2ZSBQcm9wZXJ0aWVzXG4gICAgICAgIHByb3RlY3RlZCBtX2NoYXNlUG9pbnRNZXNoOiBCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9jaGFzZVJhYmJpdE1lc2g6IEJBQllMT04uTWVzaCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NpcmN1aXRJbnRlcmZhY2VzOiBQUk9KRUNULklUcmFja05vZGVbXSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NpcmN1aXRSYWNlTGluZV8xOiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NpcmN1aXRSYWNlTGluZV8yOiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NpcmN1aXRSYWNlTGluZV8zOiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NpcmN1aXRSYWNlTGluZV80OiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NpcmN1aXRSYWNlTGluZV81OiBQUk9KRUNULklDb250cm9sUG9pbnRbXSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3JpZ2lkYm9keVBoeXNpY3M6IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fY2hlY2twb2ludE1hbmFnZXI6IFBST0pFQ1QuQ2hlY2twb2ludE1hbmFnZXIgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zdGFuZGFyZENhckNvbnRyb2xsZXI6IFBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7IHRoaXMuYXdha2VWZWhpY2xlQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHsgdGhpcy5pbml0VmVoaWNsZUNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQgeyB0aGlzLnVwZGF0ZVZlaGljbGVDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7IHRoaXMuZGVzdHJveVZlaGljbGVDb250cm9sbGVyKCk7IH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQcm90ZWN0ZWQgQ2hhcmFjdGVyIE1vdmVtZW50IFN0YXRlIEZ1bmN0aW9ucyAvL1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICBwcm90ZWN0ZWQgYXdha2VWZWhpY2xlQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlSW5wdXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlSW5wdXRcIiwgdGhpcy5lbmFibGVJbnB1dCk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0VGltaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlc2V0VGltaW5nXCIsIHRoaXMucmVzZXRUaW1pbmcpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJOdW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwicGxheWVyTnVtYmVyXCIsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIHRoaXMuYWNrZXJtYW5SYWRpdXMgPSB0aGlzLmdldFByb3BlcnR5KFwiYWNrZXJtYW5SYWRpdXNcIiwgdGhpcy5hY2tlcm1hblJhZGl1cyk7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5UmFkaXVzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlY292ZXJ5UmFkaXVzXCIsIHRoaXMucmVjb3ZlcnlSYWRpdXMpO1xuICAgICAgICAgICAgdGhpcy5zaG93Q2hhc2VSYWJiaXQgPSB0aGlzLmdldFByb3BlcnR5KFwic2hvd0NoYXNlUmFiYml0XCIsIHRoaXMuc2hvd0NoYXNlUmFiYml0KTtcbiAgICAgICAgICAgIHRoaXMuc2hvd1NlbnNvckxpbmVzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNob3dTZW5zb3JMaW5lc1wiLCB0aGlzLnNob3dTZW5zb3JMaW5lcyk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5taW5Mb29rQWhlYWQgPSB0aGlzLmdldFByb3BlcnR5KFwibWluTG9va0FoZWFkXCIsIHRoaXMubWluTG9va0FoZWFkKTtcbiAgICAgICAgICAgIHRoaXMubWF4TG9va0FoZWFkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heExvb2tBaGVhZFwiLCB0aGlzLm1heExvb2tBaGVhZCk7XG4gICAgICAgICAgICB0aGlzLmRyaXZlclNraWxsTGV2ZWwgPSB0aGlzLmdldFByb3BlcnR5KFwiZHJpdmVyU2tpbGxMZXZlbFwiLCB0aGlzLmRyaXZlclNraWxsTGV2ZWwpO1xuICAgICAgICAgICAgdGhpcy50aHJvdHRsZVNlbnNpdGl2aXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInRocm90dGxlU2Vuc2l0aXZpdHlcIiwgdGhpcy50aHJvdHRsZVNlbnNpdGl2aXR5KTtcbiAgICAgICAgICAgIHRoaXMuc3RlZXJpbmdTZW5zaXRpdml0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzdGVlcmluZ1NlbnNpdGl2aXR5XCIsIHRoaXMuc3RlZXJpbmdTZW5zaXRpdml0eSk7XG4gICAgICAgICAgICB0aGlzLmJyYWtpbmdTZW5zaXRpdml0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJicmFraW5nU2Vuc2l0aXZpdHlcIiwgdGhpcy5icmFraW5nU2Vuc2l0aXZpdHkpO1xuICAgICAgICAgICAgdGhpcy5icmFraW5nVHVybkFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcImJyYWtpbmdUdXJuQW5nbGVcIiwgdGhpcy5icmFraW5nVHVybkFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMuYnJha2luZ1NwZWVkTGltaXQgPSB0aGlzLmdldFByb3BlcnR5KFwiYnJha2luZ1NwZWVkTGltaXRcIiwgdGhpcy5icmFraW5nU3BlZWRMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLnNraWRkaW5nU3BlZWRMaW1pdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJza2lkZGluZ1NwZWVkTGltaXRcIiwgdGhpcy5za2lkZGluZ1NwZWVkTGltaXQpO1xuICAgICAgICAgICAgdGhpcy5saW5lYXJEYW1wZW5Gb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsaW5lYXJEYW1wZW5Gb3JjZVwiLCB0aGlzLmxpbmVhckRhbXBlbkZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRNb3ZpbmdUaW1lb3V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlc2V0TW92aW5nVGltZW91dFwiLCB0aGlzLnJlc2V0TW92aW5nVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLnJldmVyc2VUaHJvdHRsZVRpbWUgPSB0aGlzLmdldFByb3BlcnR5KFwicmV2ZXJzZVRocm90dGxlVGltZVwiLCB0aGlzLnJldmVyc2VUaHJvdHRsZVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5kcml2ZVNwZWVkTXVsdGlwbGllciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkcml2ZVNwZWVkTXVsdGlwbGllclwiLCB0aGlzLmRyaXZlU3BlZWRNdWx0aXBsaWVyKTtcbiAgICAgICAgICAgIHRoaXMuZHJpdmVMaW5lRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwiZHJpdmVMaW5lRGlzdGFuY2VcIiwgdGhpcy5kcml2ZUxpbmVEaXN0YW5jZSk7XG4gICAgICAgICAgICB0aGlzLm1heFJhY2VUcmFja1NwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFJhY2VUcmFja1NwZWVkXCIsIHRoaXMubWF4UmFjZVRyYWNrU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy50cmFja01hbmFnZXJJZGVudGl0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0cmFja01hbmFnZXJJZGVudGl0eVwiLCB0aGlzLnRyYWNrTWFuYWdlcklkZW50aXR5KTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnZlaGljbGVUYWcgPSB0aGlzLmdldFByb3BlcnR5KFwidmVoaWNsZVRhZ1wiLCB0aGlzLnZlaGljbGVUYWcpO1xuICAgICAgICAgICAgdGhpcy5vYnN0YWNsZVRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJvYnN0YWNsZVRhZ1wiLCB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgIHRoaXMuc2Vuc29yTGVuZ3RoID0gdGhpcy5nZXRQcm9wZXJ0eShcInNlbnNvckxlbmd0aFwiLCB0aGlzLnNlbnNvckxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnNwYWNlcldpZHRocyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzcGFjZXJXaWR0aHNcIiwgdGhpcy5zcGFjZXJXaWR0aHMpO1xuICAgICAgICAgICAgdGhpcy5hbmdsZUZhY3RvcnMgPSB0aGlzLmdldFByb3BlcnR5KFwiYW5nbGVGYWN0b3JzXCIsIHRoaXMuYW5nbGVGYWN0b3JzKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbE9mZnNldFggPSB0aGlzLmdldFByb3BlcnR5KFwiaW5pdGlhbE9mZnNldFhcIiwgdGhpcy5pbml0aWFsT2Zmc2V0WCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxPZmZzZXRZID0gdGhpcy5nZXRQcm9wZXJ0eShcImluaXRpYWxPZmZzZXRZXCIsIHRoaXMuaW5pdGlhbE9mZnNldFkpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsT2Zmc2V0WiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpbml0aWFsT2Zmc2V0WlwiLCB0aGlzLmluaXRpYWxPZmZzZXRaKTtcbiAgICAgICAgICAgIHRoaXMuc2lkZXdheXNMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwic2lkZXdheXNMZW5ndGhcIiwgdGhpcy5zaWRld2F5c0xlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnNpZGV3YXlzT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNpZGV3YXlzT2Zmc2V0XCIsIHRoaXMuc2lkZXdheXNPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5iYWNrQnVtcGVyRWRnZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJiYWNrQnVtcGVyRWRnZVwiLCB0aGlzLmJhY2tCdW1wZXJFZGdlKTtcbiAgICAgICAgICAgIHRoaXMucG93ZXJCb29zdGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb3dlckJvb3N0aW5nXCIsIHRoaXMucG93ZXJCb29zdGluZyk7XG4gICAgICAgICAgICB0aGlzLndvbmRlckRpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIndvbmRlckRpc3RhbmNlXCIsIHRoaXMud29uZGVyRGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5hdm9pZGFuY2VGYWN0b3IgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZvaWRhbmNlRmFjdG9yXCIsIHRoaXMuYXZvaWRhbmNlRmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZvaWRhbmNlU3BlZWRcIiwgdGhpcy5hdm9pZGFuY2VTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmF2b2lkYW5jZVRpbWVvdXQgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZvaWRhbmNlVGltZW91dFwiLCB0aGlzLmF2b2lkYW5jZVRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5hdm9pZGFuY2VEaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdm9pZGFuY2VEaXN0YW5jZVwiLCB0aGlzLmF2b2lkYW5jZURpc3RhbmNlKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5hY2tlcm1hblJhZGl1cyA8PSAwKSB0aGlzLmFja2VybWFuUmFkaXVzID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlY292ZXJ5UmFkaXVzIDw9IDApIHRoaXMucmVjb3ZlcnlSYWRpdXMgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzZXRNb3ZpbmdUaW1lb3V0IDw9IDApIHRoaXMucmVzZXRNb3ZpbmdUaW1lb3V0ID0gMztcbiAgICAgICAgICAgIGlmICh0aGlzLnJldmVyc2VUaHJvdHRsZVRpbWUgPD0gMCkgdGhpcy5yZXZlcnNlVGhyb3R0bGVUaW1lID0gMztcbiAgICAgICAgICAgIGlmICh0aGlzLnRocm90dGxlU2Vuc2l0aXZpdHkgPD0gMCkgdGhpcy50aHJvdHRsZVNlbnNpdGl2aXR5ID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0ZWVyaW5nU2Vuc2l0aXZpdHkgPD0gMCkgdGhpcy5zdGVlcmluZ1NlbnNpdGl2aXR5ID0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJyYWtpbmdTZW5zaXRpdml0eSA8PSAwKSB0aGlzLmJyYWtpbmdTZW5zaXRpdml0eSA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5saW5lYXJEYW1wZW5Gb3JjZSA8PSAwKSB0aGlzLmxpbmVhckRhbXBlbkZvcmNlID0gMC4xO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5nbGVGYWN0b3JzIDw9IDApIHRoaXMuYW5nbGVGYWN0b3JzID0gMS41O1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Vuc29yTGVuZ3RoIDw9IDApIHRoaXMuc2Vuc29yTGVuZ3RoID0gODtcbiAgICAgICAgICAgIGlmICh0aGlzLnNpZGV3YXlzTGVuZ3RoIDw9IDApIHRoaXMuc2lkZXdheXNMZW5ndGggPSAxO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmJyYWtpbmdTcGVlZExpbWl0IDw9IDApIHRoaXMuYnJha2luZ1NwZWVkTGltaXQgPSA0MDtcbiAgICAgICAgICAgIGlmICh0aGlzLnNraWRkaW5nU3BlZWRMaW1pdCA8PSAwKSB0aGlzLnNraWRkaW5nU3BlZWRMaW1pdCA9IDgwO1xuICAgICAgICAgICAgaWYgKHRoaXMuZHJpdmVTcGVlZE11bHRpcGxpZXIgPD0gMSkgdGhpcy5kcml2ZVNwZWVkTXVsdGlwbGllciA9IDU7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFja01hbmFnZXJJZGVudGl0eSA9PSBudWxsIHx8IHRoaXMudHJhY2tNYW5hZ2VySWRlbnRpdHkgPT09IFwiXCIpIHRoaXMudHJhY2tNYW5hZ2VySWRlbnRpdHkgPSBcIlRyYWNrTWFuYWdlclwiO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxSYWNlTGluZU5vZGU6IG51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpbml0aWFsUmFjZUxpbmVOb2RlXCIsIDEpO1xuICAgICAgICAgICAgdGhpcy5yYWNlTGluZU5vZGUgPSAoaW5pdGlhbFJhY2VMaW5lTm9kZSAtIDEpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbWl6ZXI6IG51bWJlciA9IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKDEwLCAxNSkgKiAxMDAwO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuU2V0SW50ZXJ2YWwocmFuZG9taXplciwgKCkgPT4geyB0aGlzLnJhbmRvbVNraWxsRmFjdG9yID0gdGhpcy5nZXRSYW5kb21OdW1iZXIoMSwgMjApOyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBpbml0VmVoaWNsZUNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fcmlnaWRib2R5UGh5c2ljcyA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3NcIik7XG4gICAgICAgICAgICB0aGlzLm1fY2hlY2twb2ludE1hbmFnZXIgPSB0aGlzLmdldENvbXBvbmVudChcIlBST0pFQ1QuQ2hlY2twb2ludE1hbmFnZXJcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3JpZ2lkYm9keVBoeXNpY3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9yaWdpZGJvZHlQaHlzaWNzLm9uQ29sbGlzaW9uRW50ZXJPYnNlcnZhYmxlLmFkZCgobWVzaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWc6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKG1lc2gpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSB0aGlzLnZlaGljbGVUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuQ29uc29sZVdhcm4odGhpcy50cmFuc2Zvcm0ubmFtZS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgXCIgQ0FSIENPTExJU0lPTiBFTlRFUjogXCIgKyBtZXNoLm5hbWUgKyBcIiAtLS0+IFRBRzogXCIgKyB0YWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JpZ2lkYm9keVBoeXNpY3Mub25Db2xsaXNpb25TdGF5T2JzZXJ2YWJsZS5hZGQoKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhtZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWcgPT09IHRoaXMudmVoaWNsZVRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuQ29uc29sZUxvZyh0aGlzLnRyYW5zZm9ybS5uYW1lLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBcIiBDQVIgQ09MTElTSU9OIFNUQVk6IFwiICsgbWVzaC5uYW1lICsgXCIgLS0tPiBUQUc6IFwiICsgdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubV9yaWdpZGJvZHlQaHlzaWNzLm9uQ29sbGlzaW9uRXhpdE9ic2VydmFibGUuYWRkKChtZXNoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZzogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcobWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSB0aGlzLnZlaGljbGVUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkNvbnNvbGVXYXJuKHRoaXMudHJhbnNmb3JtLm5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKSArIFwiIENBUiBDT0xMSVNJT04gRVhJVDogXCIgKyBtZXNoLm5hbWUgKyBcIiAtLS0+IFRBRzogXCIgKyB0YWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk51bGwgcmlnaWRib2R5IHBoeXNpY3MgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgU3RhbmRhcmQgQ2FyIENvbnRyb2xsZXJcbiAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIlBST0pFQ1QuU3RhbmRhcmRDYXJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgLy9pZiAodGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLnBsYXlWZWhpY2xlU291bmRzID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIk51bGwgc3RhbmRhcmQgY2FyIGNvbnRyb2xsZXIgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgIC8vIEdldCBSYWNlIFRyYWNrIE1hbmFnZXIgV2F5cG9pbnRzXG4gICAgICAgICAgICBjb25zdCB3YXlwb2ludHNUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtTm9kZSh0aGlzLnNjZW5lLCB0aGlzLnRyYWNrTWFuYWdlcklkZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh3YXlwb2ludHNUcmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VUcmFja01hbmFnZXI6IFBST0pFQ1QuUmFjZVRyYWNrTWFuYWdlciA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudCh3YXlwb2ludHNUcmFuc2Zvcm0sIFwiUFJPSkVDVC5SYWNlVHJhY2tNYW5hZ2VyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChyYWNlVHJhY2tNYW5hZ2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXlwb2ludENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXlwb2ludEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzID0gcmFjZVRyYWNrTWFuYWdlci5nZXRUcmFja05vZGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfMSA9IHJhY2VUcmFja01hbmFnZXIuZ2V0Q29udHJvbFBvaW50cygwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8yID0gcmFjZVRyYWNrTWFuYWdlci5nZXRDb250cm9sUG9pbnRzKDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzMgPSByYWNlVHJhY2tNYW5hZ2VyLmdldENvbnRyb2xQb2ludHMoMik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfNCA9IHJhY2VUcmFja01hbmFnZXIuZ2V0Q29udHJvbFBvaW50cygzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV81ID0gcmFjZVRyYWNrTWFuYWdlci5nZXRDb250cm9sUG9pbnRzKDQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzICE9IG51bGwgJiYgdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRDb3VudCA9IHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsIHRvIGxvY2F0ZSByYWNlIHRyYWNrIG1hbmFnZXIgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbCB0byBsb2NhdGUgcmFjZSB0cmFjayBtYW5hZ2VyICdcIiArIHRoaXMudHJhY2tNYW5hZ2VySWRlbnRpdHkgKyBcIicgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVWZWhpY2xlQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUlucHV0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQXV0b1BpbG90RHJpdmUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hbnVhbElucHV0RHJpdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBWZWhpY2xlIEZsaXBwZWQgVXByaWdodFxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzZXRUaW1pbmcgPiAwICYmIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVUaW1lOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldEdhbWVUaW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnVwLnkgPiAwLjUgfHwgdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5nZXRBYnNvbHV0ZVNwZWVkKCkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVJlc2V0Q2hlY2sgPSBnYW1lVGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVUaW1lID4gKHRoaXMudmVoaWNsZVJlc2V0Q2hlY2sgKyB0aGlzLnJlc2V0VGltaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogUmVzZXQgVG8gTGFzdCBDaGVjayBQb2ludFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRJblBsYWNlKEJBQllMT04uVmVjdG9yMy5VcCgpLnNjYWxlKDAuNSkpO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkxvb2tSb3RhdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLmZvcndhcmQsIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZU1hbnVhbElucHV0RHJpdmUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJEZWx0YVggPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5Ib3Jpem9udGFsLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJEZWx0YVkgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5WZXJ0aWNhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW91c2VYID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuTW91c2VYLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVkgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5Nb3VzZVksIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgQnV0dG9uIFRyaWdnZXJzXG4gICAgICAgICAgICAgICAgY29uc3QgYXV4Rm9yd2FyZEtleWJvYXJkOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMuYXV4S2V5Ym9hcmRGb3Jhd3JkKTsgLy8gUGxheWVyIE9uZSBPbmx5XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yd2FyZEtleWJvYXJkOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRGb3Jhd3JkKTsgLy8gUGxheWVyIE9uZSBPbmx5XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yd2FyZFRyaWdnZXI6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZFRyaWdnZXJJbnB1dCh0aGlzLnRyaWdnZXJGb3J3YXJkLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yd2FyZFBlZGFsOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5wZWRlbEZvcndhcmQsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXhCYWNrd2FyZEtleWJvYXJkOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMuYXV4S2V5Ym9hcmRCYWNrd2FyZHMpOyAvLyBQbGF5ZXIgT25lIE9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBiYWNrd2FyZEtleWJvYXJkOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRCYWNrd2FyZHMpOyAvLyBQbGF5ZXIgT25lIE9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBiYWNrd2FyZFRyaWdnZXI6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZFRyaWdnZXJJbnB1dCh0aGlzLnRyaWdnZXJCYWNrd2FyZHMsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYWNrd2FyZFBlZGFsOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5wZWRhbEJhY2t3YXJkLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9vc3RlclBlZGFsOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5wZWRhbEJvb3N0ZXIsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBib29zdGVyS2V5Ym9hcmQ6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEtleWJvYXJkSW5wdXQodGhpcy5rZXlib2FyZEJvb3N0ZXIpOyAvLyBQbGF5ZXIgT25lIE9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBib29zdGVyQnV0dG9uOiBib29sZWFuID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5idXR0b25Cb29zdGVyLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGJyYWtlS2V5Ym9hcmQ6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEtleWJvYXJkSW5wdXQodGhpcy5rZXlib2FyZEhhbmRicmFrZSk7IC8vIFBsYXllciBPbmUgT25seVxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRicmFrZUJ1dHRvbjogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMuYnV0dG9uSGFuZGJyYWtlLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGJyYWtlV2hlZWxfTDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMubGVmdFdoZWVsSGFuZGJyYWtlLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGJyYWtlV2hlZWxfUjogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMucmlnaHRXaGVlbEhhbmRicmFrZSwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvbnV0S2V5Ym9hcmQ6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEtleWJvYXJkSW5wdXQodGhpcy5rZXlib2FyZERvbnV0KTsgLy8gUGxheWVyIE9uZSBPbmx5XG4gICAgICAgICAgICAgICAgY29uc3QgZG9udXRCdXR0b25fTDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMubGVmdEJ1dHRvbkRvbnV0LCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9udXRCdXR0b25fUjogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMucmlnaHRCdXR0b25Eb251dCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvbnV0V2hlZWxfTDogYm9vbGVhbiA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMubGVmdFdoZWVsRG9udXQsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb251dFdoZWVsX1I6IGJvb2xlYW4gPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLnJpZ2h0V2hlZWxEb251dCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IFBsYXllciBNb3ZlbWVudFxuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXJNb3ZlbWVudDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyU3RlZXJpbmc6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHBsYXllckhhbmRicmFrZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXJEb251dHM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgc3BlZWRCb29zdGVyOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHdoZWVsSW5wdXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBQcmltYXJ5IEFjY2VsZXJhdHRpb25cbiAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZFRyaWdnZXIgPiAwLjIpIHBsYXllck1vdmVtZW50ID0gZm9yd2FyZFRyaWdnZXI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9yd2FyZFBlZGFsID09PSB0cnVlKSB7IHBsYXllck1vdmVtZW50ID0gMTsgd2hlZWxJbnB1dCA9IHRydWU7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllck51bWJlciA9PT0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUgJiYgKGZvcndhcmRLZXlib2FyZCA9PT0gdHJ1ZSB8fCBhdXhGb3J3YXJkS2V5Ym9hcmQgPT09IHRydWUpKSBwbGF5ZXJNb3ZlbWVudCA9IDE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5BbGxvd01vYmlsZUNvbnRyb2xzID09PSB0cnVlICYmIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuTW9iaWxlQ29udHJvbHNBY3RpdmUgPT09IHRydWUgJiYgdGhpcy5wbGF5ZXJEZWx0YVkgPiAwKSBwbGF5ZXJNb3ZlbWVudCA9IHRoaXMucGxheWVyRGVsdGFZOyAvLyBNb2JpbGUgQ29udHJvbHNcbiAgICAgICAgICAgICAgICAvLyBCcmFraW5nIFRha2VzIFByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICBpZiAoYmFja3dhcmRUcmlnZ2VyID4gMC4yKSBwbGF5ZXJNb3ZlbWVudCA9IC1iYWNrd2FyZFRyaWdnZXI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmFja3dhcmRQZWRhbCA9PT0gdHJ1ZSkgeyBwbGF5ZXJNb3ZlbWVudCA9IC0xOyB3aGVlbElucHV0ID0gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGxheWVyTnVtYmVyID09PSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSAmJiAoYmFja3dhcmRLZXlib2FyZCA9PT0gdHJ1ZSB8fCBhdXhCYWNrd2FyZEtleWJvYXJkID09PSB0cnVlKSkgcGxheWVyTW92ZW1lbnQgPSAtMTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkFsbG93TW9iaWxlQ29udHJvbHMgPT09IHRydWUgJiYgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5Nb2JpbGVDb250cm9sc0FjdGl2ZSA9PT0gdHJ1ZSAmJiB0aGlzLnBsYXllckRlbHRhWSA8IDApIHBsYXllck1vdmVtZW50ID0gdGhpcy5wbGF5ZXJEZWx0YVk7IC8vIE1vYmlsZSBDb250cm9sc1xuICAgICAgICAgICAgICAgIC8vIEluY2x1ZGVzIEFEIEFuZCBBcnJvdyBLZXlzXG4gICAgICAgICAgICAgICAgcGxheWVyU3RlZXJpbmcgPSB0aGlzLnBsYXllckRlbHRhWDtcbiAgICAgICAgICAgICAgICAvLyBQdWxsIEhhcmQgSGFuZCBCcmFrZSBMZXZlclxuICAgICAgICAgICAgICAgIHBsYXllckhhbmRicmFrZSA9IChoYW5kYnJha2VLZXlib2FyZCA9PT0gdHJ1ZSB8fCBoYW5kYnJha2VCdXR0b24gPT09IHRydWUgfHwgaGFuZGJyYWtlV2hlZWxfTCA9PT0gdHJ1ZSB8fCBoYW5kYnJha2VXaGVlbF9SID09PSB0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vIFByZXNzIEJ1cm5vdXQgRG9udXQgQnV0dG9uXG4gICAgICAgICAgICAgICAgcGxheWVyRG9udXRzID0gKGRvbnV0S2V5Ym9hcmQgPT09IHRydWUgfHwgZG9udXRCdXR0b25fTCA9PT0gdHJ1ZSB8fCBkb251dEJ1dHRvbl9SID09PSB0cnVlIHx8IGRvbnV0V2hlZWxfTCA9PT0gdHJ1ZSB8fCBkb251dFdoZWVsX1IgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIFByZXNzIFNwZWVkIEJvb3N0ZXIgQnV0dG9uXG4gICAgICAgICAgICAgICAgc3BlZWRCb29zdGVyID0gKGJvb3N0ZXJLZXlib2FyZCA9PT0gdHJ1ZSB8fCBib29zdGVyQnV0dG9uID09PSB0cnVlIHx8IGJvb3N0ZXJQZWRhbCA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgU3RlZXJpbmcgV2hlZWwgTW9kZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0ZWVyaW5nV2hlZWxNb2RlID09PSAtMSAmJiBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0T3B0aW9ucy5TdXBwb3J0ZWRJbnB1dERldmljZXMgIT0gbnVsbCAmJiBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0T3B0aW9ucy5TdXBwb3J0ZWRJbnB1dERldmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnYW1lcGFkOiBCQUJZTE9OLkdhbWVwYWQgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWQodGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZXBhZCAhPSBudWxsICYmIGdhbWVwYWQuaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kU3VwcG9ydGVkRGV2aWNlOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dE9wdGlvbnMuU3VwcG9ydGVkSW5wdXREZXZpY2VzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsOiBJU3RlZXJpbmdXaGVlbERldmljZSA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRPcHRpb25zLlN1cHBvcnRlZElucHV0RGV2aWNlc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVwYWQuaWQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHdoZWVsLmRldmljZU5hbWUudG9Mb3dlckNhc2UoKSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwuZm9yd2FyZEJ1dHRvbiA+IC0xKSB0aGlzLnBlZGVsRm9yd2FyZCA9IHdoZWVsLmZvcndhcmRCdXR0b247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbC5iYWNrd2FyZEJ1dHRvbiA+IC0xKSB0aGlzLnBlZGFsQmFja3dhcmQgPSB3aGVlbC5iYWNrd2FyZEJ1dHRvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsLmxlZnRIYW5kQnJha2UgPiAtMSkgdGhpcy5sZWZ0V2hlZWxIYW5kYnJha2UgPSB3aGVlbC5sZWZ0SGFuZEJyYWtlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwucmlnaHRIYW5kQnJha2UgPiAtMSkgdGhpcy5yaWdodFdoZWVsSGFuZGJyYWtlID0gd2hlZWwucmlnaHRIYW5kQnJha2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbC5sZWZ0RG9udXRCb29zdCA+IC0xKSB0aGlzLmxlZnRXaGVlbERvbnV0ID0gd2hlZWwubGVmdERvbnV0Qm9vc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbC5yaWdodERvbnV0Qm9vc3QgPiAtMSkgdGhpcy5yaWdodFdoZWVsRG9udXQgPSB3aGVlbC5yaWdodERvbnV0Qm9vc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kU3VwcG9ydGVkRGV2aWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGdhbWVwYWQuaWQgKyBcIiBzdGVlcmluZyB3aGVlbCBjb250cm9scyBhdHRhY2hlZCB0bzogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVlcmluZ1doZWVsTW9kZSA9IChmb3VuZFN1cHBvcnRlZERldmljZSA9PT0gdHJ1ZSkgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEcml2ZSBTdGFuZGFyZCBDYXIgQ29udHJvbGxlclxuICAgICAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIuYWNrZXJtYW5UdXJuRmFjdG9yID0gKHdoZWVsSW5wdXQgPT09IHRydWUpID8gdGhpcy5hY2tlcm1hblJhZGl1cyA6IDEuMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLnRocm90dGxlRW5naW5lU3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIudGhyb3R0bGVCcmFraW5nRm9yY2UgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIuZHJpdmUocGxheWVyTW92ZW1lbnQsIHBsYXllclN0ZWVyaW5nLCBwbGF5ZXJIYW5kYnJha2UsIHBsYXllckRvbnV0cywgMCwgZmFsc2UsIHNwZWVkQm9vc3Rlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGF1dG9Ecml2ZVJheWNhc3RSZXN1bHQ6IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQgPSBuZXcgQkFCWUxPTi5QaHlzaWNzUmF5Y2FzdFJlc3VsdCgpO1xuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlQXV0b1BpbG90RHJpdmUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVRpbWU6IG51bWJlciA9IHRoaXMuZ2V0R2FtZVRpbWUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6IG51bWJlciA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IHRoaXMudHJhbnNmb3JtLmdldEFic29sdXRlUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJhY2VMaW5lTm9kZSA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMucmFjZUxpbmVOb2RlLCAwLCA0KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVJhYmJpdE1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmFiYml0XCIsIHsgc2VnbWVudHM6IDI0LCBkaWFtZXRlcjogMSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUmFiYml0TWVzaC5yZWNlaXZlU2hhZG93cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLnZpc2liaWxpdHkgPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVJhYmJpdE1lc2guaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRDaGFzZVJhYmJpdE1lc2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVJhYmJpdE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaC5pc1Zpc2libGUgPT09IHRydWUgJiYgdGhpcy5zaG93Q2hhc2VSYWJiaXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmlzVmlzaWJsZSA9PT0gZmFsc2UgJiYgdGhpcy5zaG93Q2hhc2VSYWJiaXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVJhYmJpdE1lc2guaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUG9pbnRNZXNoID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlBvaW50XCIsIHsgc2l6ZTogMC45IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VQb2ludE1lc2guY2hlY2tDb2xsaXNpb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5yZWNlaXZlU2hhZG93cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VQb2ludE1lc2gudmlzaWJpbGl0eSA9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Q2hhc2VQb2ludE1lc2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jaGFzZVBvaW50TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VQb2ludE1lc2guaXNWaXNpYmxlID09PSB0cnVlICYmIHRoaXMuc2hvd0NoYXNlUmFiYml0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VQb2ludE1lc2guaXNWaXNpYmxlID09PSBmYWxzZSAmJiB0aGlzLnNob3dDaGFzZVJhYmJpdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQXZvaWRhbmNlIFRpbWVyXG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdm9pZGFuY2VUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdm9pZGFuY2VUaW1lciAtPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmF2b2lkYW5jZVRpbWVyIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlVGltZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdm9pZGFuY2VWYWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZW5zb3IgVXBkYXRlIFN5c3RlbVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgbGV0IHRhZ25hbWU6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgcmF5Y2FzdDogQkFCWUxPTi5QaHlzaWNzUmF5Y2FzdFJlc3VsdCA9IHRoaXMuYXV0b0RyaXZlUmF5Y2FzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICBsZXQgYXZvaWRhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuc2lkZXdheXNPZmZzZXRWZWN0b3Iuc2V0KDAsIDAsIC10aGlzLnNpZGV3YXlzT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tCdW1wZXJFZGdlVmVjdG9yLnNldCgwLCAwLCAtdGhpcy5iYWNrQnVtcGVyRWRnZSk7XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIFNldHVwIE1haW4gU2Vuc29yIFN0YXJ0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yU3RhcnRQb3MuY29weUZyb20odHJhbnNmb3JtUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WSwgdGhpcy5zZW5zb3JTdGFydFBvcylcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5mb3J3YXJkLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WiwgdGhpcy5zZW5zb3JTdGFydFBvcylcbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBNYWluIFNlbnNvciBQb2ludFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yUG9pbnRQb3MuY29weUZyb20odGhpcy5zZW5zb3JTdGFydFBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uZm9yd2FyZC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuc2Vuc29yTGVuZ3RoLCB0aGlzLnNlbnNvclBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvckFuZ2xlUG9zLmNvcHlGcm9tKHRoaXMuc2Vuc29yUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSaWdodCBTaWRlIFNlbnNvciBTdGFydFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5yc2lkZVN0YXJ0UG9zLCB0aGlzLnNpZGV3YXlzT2Zmc2V0VmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuaW5pdGlhbE9mZnNldFksIHRoaXMucnNpZGVTdGFydFBvcylcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuaW5pdGlhbE9mZnNldFgsIHRoaXMucnNpZGVTdGFydFBvcylcbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSaWdodCBTaWRlIFNlbnNvciBQb2ludFxuICAgICAgICAgICAgICAgIHRoaXMucnNpZGVQb2ludFBvcy5jb3B5RnJvbSh0aGlzLnJzaWRlU3RhcnRQb3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlQW5kQWRkVG9SZWYodGhpcy5zaWRld2F5c0xlbmd0aCwgdGhpcy5yc2lkZVBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgUmlnaHQgQmFjayBTZW5zb3IgU3RhcnRcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMucmJhY2tTdGFydFBvcywgdGhpcy5iYWNrQnVtcGVyRWRnZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXAuc2NhbGVBbmRBZGRUb1JlZih0aGlzLmluaXRpYWxPZmZzZXRZLCB0aGlzLnJiYWNrU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZih0aGlzLmluaXRpYWxPZmZzZXRYLCB0aGlzLnJiYWNrU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgUmlnaHQgQmFjayBTZW5zb3IgUG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLnJiYWNrUG9pbnRQb3MuY29weUZyb20odGhpcy5yYmFja1N0YXJ0UG9zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZUFuZEFkZFRvUmVmKHRoaXMuc2lkZXdheXNMZW5ndGgsIHRoaXMucmJhY2tQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIFNldHVwIExlZnQgU2lkZSBTZW5zb3IgU3RhcnRcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMubHNpZGVTdGFydFBvcywgdGhpcy5zaWRld2F5c09mZnNldFZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXAuc2NhbGVBbmRBZGRUb1JlZih0aGlzLmluaXRpYWxPZmZzZXRZLCB0aGlzLmxzaWRlU3RhcnRQb3MpXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZigtdGhpcy5pbml0aWFsT2Zmc2V0WCwgdGhpcy5sc2lkZVN0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIC8vIFNldHVwIExlZnQgU2lkZSBTZW5zb3IgUG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLmxzaWRlUG9pbnRQb3MuY29weUZyb20odGhpcy5sc2lkZVN0YXJ0UG9zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yaWdodC5zY2FsZUFuZEFkZFRvUmVmKC10aGlzLnNpZGV3YXlzTGVuZ3RoLCB0aGlzLmxzaWRlUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IEJhY2sgU2Vuc29yIFN0YXJ0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmxiYWNrU3RhcnRQb3MsIHRoaXMuYmFja0J1bXBlckVkZ2VWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwLnNjYWxlQW5kQWRkVG9SZWYodGhpcy5pbml0aWFsT2Zmc2V0WSwgdGhpcy5sYmFja1N0YXJ0UG9zKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlQW5kQWRkVG9SZWYoLXRoaXMuaW5pdGlhbE9mZnNldFgsIHRoaXMubGJhY2tTdGFydFBvcylcbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IEJhY2sgU2Vuc29yIFBvaW50XG4gICAgICAgICAgICAgICAgdGhpcy5sYmFja1BvaW50UG9zLmNvcHlGcm9tKHRoaXMubGJhY2tTdGFydFBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVBbmRBZGRUb1JlZigtdGhpcy5zaWRld2F5c0xlbmd0aCwgdGhpcy5sYmFja1BvaW50UG9zKTtcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBJbml0aWFsIFN0YXJ0IFBvaW50XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0U2Vuc29yU3RhcnRQb3M6IEJBQllMT04uVmVjdG9yMyA9IHRoaXMuc2Vuc29yU3RhcnRQb3MuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFNlbnNvclBvaW50UG9zOiBCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLnNlbnNvclBvaW50UG9zLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIE1haW4gUmlnaHQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBtYWluUmlnaHRTZW5zb3JDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVUb1JlZih0aGlzLnNwYWNlcldpZHRocywgdGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yU3RhcnRQb3MuYWRkSW5QbGFjZSh0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JQb2ludFBvcy5hZGRJblBsYWNlKHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvclBvaW50UG9zLCByYXljYXN0KTtcbiAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5ib2R5ICE9IG51bGwgJiYgcmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFpblJpZ2h0U2Vuc29yQ29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdm9pZGFuY2UgLT0gMS4wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluUmlnaHRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMubWFpblJpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLk1haW5SaWdodFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5SaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5SaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yUG9pbnRQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBBbmdsZSBSaWdodCBMaW5lIFJheWNhc3RcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgbGV0IGFuZ2xlUmlnaHRTZW5zb3JDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVUb1JlZigodGhpcy5zcGFjZXJXaWR0aHMgKiAyKSAqIHRoaXMuYW5nbGVGYWN0b3JzLCB0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JBbmdsZVBvcy5hZGRJblBsYWNlKHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yQW5nbGVQb3MpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvckFuZ2xlUG9zLCByYXljYXN0KTtcbiAgICAgICAgICAgICAgICBpZiAobWFpblJpZ2h0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmdsZVJpZ2h0U2Vuc29yQ29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlIC09IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5nbGVSaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5hbmdsZVJpZ2h0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkFuZ2xlUmlnaHRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmdsZVJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zZW5zb3JTdGFydFBvcywgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlllbGxvdygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5nbGVSaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yQW5nbGVQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTaWRlIFJpZ2h0IExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBsZXQgc2lkZVJpZ2h0U2Vuc29yQ29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByYXljYXN0LnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5yc2lkZVN0YXJ0UG9zLCB0aGlzLnJzaWRlUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnJzaWRlU3RhcnRQb3MsIHRoaXMucnNpZGVQb2ludFBvcywgcmF5Y2FzdCk7XG4gICAgICAgICAgICAgICAgaWYgKG1haW5SaWdodFNlbnNvckNvbnRhY3QgPT09IGZhbHNlICYmIGFuZ2xlUmlnaHRTZW5zb3JDb250YWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5ib2R5ICE9IG51bGwgJiYgcmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVSaWdodFNlbnNvckNvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSAtPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNpZGVSaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5zaWRlUmlnaHRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuU2lkZVJpZ2h0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZVJpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5yc2lkZVN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnJzaWRlU3RhcnRQb3MsIHRoaXMucnNpZGVQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIEJhY2sgUmlnaHQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByYXljYXN0LnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5yYmFja1N0YXJ0UG9zLCB0aGlzLnJiYWNrUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlJheWNhc3RUb1JlZih0aGlzLnJiYWNrU3RhcnRQb3MsIHRoaXMucmJhY2tQb2ludFBvcywgcmF5Y2FzdCk7XG4gICAgICAgICAgICAgICAgaWYgKG1haW5SaWdodFNlbnNvckNvbnRhY3QgPT09IGZhbHNlICYmIGFuZ2xlUmlnaHRTZW5zb3JDb250YWN0ID09PSBmYWxzZSAmJiBzaWRlUmlnaHRTZW5zb3JDb250YWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5ib2R5ICE9IG51bGwgJiYgcmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnbmFtZSA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkYW5jZSAtPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tSaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5iYWNrUmlnaHRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQmFja1JpZ2h0U2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1JpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5yYmFja1N0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrUmlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnJiYWNrU3RhcnRQb3MsIHRoaXMucmJhY2tQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIE1haW4gTGVmdCBMaW5lIFJheWNhc3RcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgbGV0IG1haW5MZWZ0U2Vuc29yQ29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJpZ2h0LnNjYWxlVG9SZWYoLSh0aGlzLnNwYWNlcldpZHRocyAqIDIpLCB0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5zb3JTdGFydFBvcy5hZGRJblBsYWNlKHRoaXMudGVtcFNjYWxlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNvclBvaW50UG9zLmFkZEluUGxhY2UodGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByYXljYXN0LnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5zZW5zb3JTdGFydFBvcywgdGhpcy5zZW5zb3JQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKHRoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yUG9pbnRQb3MsIHJheWNhc3QpO1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGFnbmFtZSA9PSB0aGlzLnZlaGljbGVUYWcgfHwgdGFnbmFtZSA9PT0gdGhpcy5vYnN0YWNsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluTGVmdFNlbnNvckNvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlICs9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93U2Vuc29yTGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFpbkxlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMubWFpbkxlZnRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWFpbkxlZnRTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5MZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zZW5zb3JTdGFydFBvcywgdGhpcy5zZW5zb3JQb2ludFBvc10sIEJBQllMT04uQ29sb3IzLkJsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIC8vIEFuZ2xlIExlZnQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBhbmdsZUxlZnRTZW5zb3JDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmlnaHQuc2NhbGVUb1JlZigtKHRoaXMuc3BhY2VyV2lkdGhzICogNCkgKiB0aGlzLmFuZ2xlRmFjdG9ycywgdGhpcy50ZW1wU2NhbGVWZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vuc29yQW5nbGVQb3MuYWRkSW5QbGFjZSh0aGlzLnRlbXBTY2FsZVZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdGFnbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJheWNhc3QucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0VG9Qb2ludCh0aGlzLnNjZW5lLCB0aGlzLnNlbnNvclN0YXJ0UG9zLCB0aGlzLnNlbnNvckFuZ2xlUG9zKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5zZW5zb3JTdGFydFBvcywgdGhpcy5zZW5zb3JBbmdsZVBvcywgcmF5Y2FzdCk7XG4gICAgICAgICAgICAgICAgaWYgKG1haW5MZWZ0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmdsZUxlZnRTZW5zb3JDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZGFuY2UgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmdsZUxlZnRTZW5zb3JMaW5lID09IG51bGwpIHRoaXMuYW5nbGVMZWZ0U2Vuc29yTGluZSA9IG5ldyBCQUJZTE9OLlRvb2xraXQuTGluZXNNZXNoUmVuZGVyZXIodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkFuZ2xlTGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc2Vuc29yU3RhcnRQb3MsIHRoaXMuc2Vuc29yQW5nbGVQb3NdLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAvLyBTaWRlIExlZnQgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGxldCBzaWRlTGVmdFNlbnNvckNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMubHNpZGVTdGFydFBvcywgdGhpcy5sc2lkZVBvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5sc2lkZVN0YXJ0UG9zLCB0aGlzLmxzaWRlUG9pbnRQb3MsIHJheWNhc3QpO1xuICAgICAgICAgICAgICAgIGlmIChtYWluTGVmdFNlbnNvckNvbnRhY3QgPT09IGZhbHNlICYmIGFuZ2xlTGVmdFNlbnNvckNvbnRhY3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmJvZHkgIT0gbnVsbCAmJiByYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWduYW1lID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5ib2R5LnRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZUxlZnRTZW5zb3JDb250YWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZGFuY2UgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaWRlTGVmdFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5zaWRlTGVmdFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5TaWRlTGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGVMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5sc2lkZVN0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMubHNpZGVTdGFydFBvcywgdGhpcy5sc2lkZVBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gQmFjayBMZWZ0IExpbmUgUmF5Y2FzdFxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIHRoaXMubGJhY2tTdGFydFBvcywgdGhpcy5sYmFja1BvaW50UG9zKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5sYmFja1N0YXJ0UG9zLCB0aGlzLmxiYWNrUG9pbnRQb3MsIHJheWNhc3QpO1xuICAgICAgICAgICAgICAgIGlmIChtYWluTGVmdFNlbnNvckNvbnRhY3QgPT09IGZhbHNlICYmIGFuZ2xlTGVmdFNlbnNvckNvbnRhY3QgPT09IGZhbHNlICYmIHNpZGVMZWZ0U2Vuc29yQ29udGFjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZGFuY2UgKz0gMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dTZW5zb3JMaW5lcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrTGVmdFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5iYWNrTGVmdFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5CYWNrTGVmdFNlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tMZWZ0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5sYmFja1N0YXJ0UG9zLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuWWVsbG93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrTGVmdFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMubGJhY2tTdGFydFBvcywgdGhpcy5sYmFja1BvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gTWFpbiBDZW50ZXIgTGluZSBSYXljYXN0XG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByYXljYXN0LnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IHJheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgZmlyc3RTZW5zb3JTdGFydFBvcywgZmlyc3RTZW5zb3JQb2ludFBvcyk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKGZpcnN0U2Vuc29yU3RhcnRQb3MsIGZpcnN0U2Vuc29yUG9pbnRQb3MsIHJheWNhc3QpO1xuICAgICAgICAgICAgICAgIGlmIChhdm9pZGFuY2UgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuYm9keSAhPSBudWxsICYmIHJheWNhc3QuYm9keS50cmFuc2Zvcm1Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmJvZHkudHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHRhZ25hbWUgPT0gdGhpcy52ZWhpY2xlVGFnIHx8IHRhZ25hbWUgPT09IHRoaXMub2JzdGFjbGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXROb3JtYWwueCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWRhbmNlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lID09IG51bGwpIHRoaXMubWFpbkNlbnRlclNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5NYWluQ2VudGVyU2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbkNlbnRlclNlbnNvckxpbmUuZHJhd0xpbmUoW2ZpcnN0U2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lLmRyYXdMaW5lKFtmaXJzdFNlbnNvclN0YXJ0UG9zLCBmaXJzdFNlbnNvclBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIExvbmcgUmFuZ2UgQnJha2UgVGhyZWF0IFJheWNhc3RcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB0YWduYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICBjb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuUGh5c2ljc1JheWNhc3RUb1BvaW50KHRoaXMuc2NlbmUsIGZpcnN0U2Vuc29yU3RhcnRQb3MsIGZpcnN0U2Vuc29yUG9pbnRQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChhdm9pZGFuY2UgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ25hbWUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0YWduYW1lID09IHRoaXMudmVoaWNsZVRhZyB8fCB0YWduYW1lID09PSB0aGlzLm9ic3RhY2xlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1NlbnNvckxpbmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lID09IG51bGwpIHRoaXMubWFpbkNlbnRlclNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5NYWluQ2VudGVyU2Vuc29yTGluZVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbkNlbnRlclNlbnNvckxpbmUuZHJhd0xpbmUoW2ZpcnN0U2Vuc29yU3RhcnRQb3MsIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5ZZWxsb3coKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5DZW50ZXJTZW5zb3JMaW5lLmRyYXdMaW5lKFtmaXJzdFNlbnNvclN0YXJ0UG9zLCBmaXJzdFNlbnNvclBvaW50UG9zXSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tOb2RlOiBQUk9KRUNULklUcmFja05vZGUgPSB0aGlzLmdldEN1cnJlbnRUcmFja05vZGUodGhpcy53YXlwb2ludEluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnQ6IFBST0pFQ1QuSUNvbnRyb2xQb2ludCA9IHRoaXMuZ2V0Q3VycmVudENvbnRyb2xQb2ludCh0aGlzLnJhY2VMaW5lTm9kZSwgdGhpcy53YXlwb2ludEluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoYXNlUmFiYml0TWVzaCAhPSBudWxsICYmIHRoaXMud2F5cG9pbnRDb3VudCA+IDAgJiYgdHJhY2tOb2RlICE9IG51bGwgJiYgY29udHJvbFBvaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXlwb2ludFBvc2l0aW9uLnNldChjb250cm9sUG9pbnQucG9zaXRpb24ueCwgY29udHJvbFBvaW50LnBvc2l0aW9uLnksIGNvbnRyb2xQb2ludC5wb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFNwZWVkOiBudW1iZXIgPSAoY29udHJvbFBvaW50LnNwZWVkID4gMCA/IGNvbnRyb2xQb2ludC5zcGVlZCA6IDEwMCkgKiB0aGlzLmdldERyaXZlclNraWxsRmFjdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFJhZGl1czogbnVtYmVyID0gKHRyYWNrTm9kZS5yYWRpdXMgKiAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdFRvVGFyZ2V0OiBudW1iZXIgPSBCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2UodGhpcy53YXlwb2ludFBvc2l0aW9uLCB0cmFuc2Zvcm1Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0VG9UYXJnZXQgPCB0YXJnZXRSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZUYXJnZXRTcGVlZCA8PSAwKSB0aGlzLnByZXZUYXJnZXRTcGVlZCA9IHRhcmdldFNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VGFyZ2V0U3BlZWQgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMucHJldlRhcmdldFNwZWVkLCB0YXJnZXRTcGVlZCwgKDEuMCAtIChkaXN0VG9UYXJnZXQgLyB0YXJnZXRSYWRpdXMpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93Q2hhc2VSYWJiaXQgPT09IHRydWUpIHRoaXMucmFiYml0VHJhY2tlckNvbG9yID0gdGhpcy5yZWRUcmFja2luZ0NvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VGFyZ2V0U3BlZWQgPSB0YXJnZXRTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dDaGFzZVJhYmJpdCA9PT0gdHJ1ZSkgdGhpcy5yYWJiaXRUcmFja2VyQ29sb3IgPSB0aGlzLmdyZWVuVHJhY2tpbmdDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBncmFkaWVudFNwZWVkOiBudW1iZXIgPSB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmdldEdyYWRpZW50U3BlZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW1lcmljYW5TcGVlZDogbnVtYmVyID0gdGhpcy5tX3N0YW5kYXJkQ2FyQ29udHJvbGxlci5nZXRBbWVyaWNhblNwZWVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2tpZGRpbmc6IGJvb2xlYW4gPSB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLmdldEN1cnJlbnRTa2lkZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb29rQWhlYWQ6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5taW5Mb29rQWhlYWQsIHRoaXMubWF4TG9va0FoZWFkLCBncmFkaWVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBVUERBVEUgQ0hBU0UgUkFCQklUIC0gV2FsayBTcGxpbmUgV2F5cG9pbnQgUG9zaXRpb25zIC0gKFJhY2VUcmFja01hbmFnZXIuR2V0Um9hZEFoZWFkRGlyZWN0aW9uKSAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLyogR0VUIFJPVVQgUE9JTlQgV0lUSCBESVNUQU5DRVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludFRvUG9pbnRUaHJlc2hvbGQ6bnVtYmVyID0gNjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0RGVsdGEgPSB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLnBvc2l0aW9uLnN1YnRyYWN0KHRyYW5zZm9ybVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFMZW5ndGg6bnVtYmVyID0gdGFyZ2V0RGVsdGEubGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YUxlbmd0aCA8IHBvaW50VG9Qb2ludFRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YXlwb2ludEluZGV4ID0gKHRoaXMud2F5cG9pbnRJbmRleCArIDEpICUgdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLnBvc2l0aW9uID0gdGhpcy5tX2NpcmN1aXRJbnRlcmZhY2VzW3RoaXMud2F5cG9pbnRJbmRleF0ubG9jYWxQb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMubV9jaXJjdWl0SW50ZXJmYWNlc1t0aGlzLndheXBvaW50SW5kZXhdLmxvY2FsUm90YXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IG91ciBjdXJyZW50IHByb2dyZXNzIGFsb25nIHRoZSByb3V0ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzc1BvaW50ID0gdGhpcy5yYWNlVHJhY2tNYW5hZ2VyLmdldFJvdXRlUG9pbnQodGhpcy5wcm9ncmVzc0Rpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWhlYWRQb2ludCA9IHRoaXMucmFjZVRyYWNrTWFuYWdlci5nZXRSb3V0ZVBvaW50KHRoaXMucHJvZ3Jlc3NEaXN0YW5jZSArIDQwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoLnBvc2l0aW9uLmNvcHlGcm9tKGFoZWFkUG9pbnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkxvb2tSb3RhdGlvblRvUmVmKGFoZWFkUG9pbnQuZGlyZWN0aW9uLCB0aGlzLm1fY2hhc2VQb2ludE1lc2gucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NEZWx0YSA9IHByb2dyZXNzUG9pbnQucG9zaXRpb24uc3VidHJhY3QodHJhbnNmb3JtUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5WZWN0b3IzLkRvdChwcm9ncmVzc0RlbHRhLCBwcm9ncmVzc1BvaW50LmRpcmVjdGlvbikgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzRGlzdGFuY2UgKz0gcHJvZ3Jlc3NEZWx0YS5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBVVElMLlByaW50VG9TY3JlZW4oXCJXYXlwb2ludDogXCIgKyB0aGlzLndheXBvaW50SW5kZXggKyBcIiAtLT4gRGVsdGEgTGVuZ3RoOiBcIiArIGRlbHRhTGVuZ3RoLnRvRml4ZWQoMikgKyBcIiAtLT4gUHJvZ3Jlc3MgRGlzdGFuY2U6IFwiICsgdGhpcy5wcm9ncmVzc0Rpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBVUERBVEUgQ0hBU0UgUkFCQklUIC0gV2FsayBTcGxpbmUgV2F5cG9pbnQgUG9zaXRpb25zIC0gKFJhY2VUcmFja01hbmFnZXIuR2V0Um9hZEFoZWFkRGlyZWN0aW9uKSAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFiYml0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IHRoaXMubV9jaGFzZVJhYmJpdE1lc2guZ2V0QWJzb2x1dGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWJiaXREaXN0YW5jZTogbnVtYmVyID0gQkFCWUxPTi5WZWN0b3IzLkRpc3RhbmNlKHRyYW5zZm9ybVBvc2l0aW9uLCByYWJiaXRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYWJiaXREaXN0YW5jZSA8PSBsb29rQWhlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhc2VSYWJiaXRTcGVlZCA9IEJBQllMT04uU2NhbGFyLkxlcnAoMS4wLCB0aGlzLmRyaXZlU3BlZWRNdWx0aXBsaWVyLCBncmFkaWVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVJhYmJpdE1lc2gubG9va0F0KHRoaXMud2F5cG9pbnRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLnRyYW5zbGF0ZShCQUJZTE9OLkF4aXMuWiwgdGhpcy5jaGFzZVJhYmJpdFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWRhbmNlIE1vZGUgVHJhY2tpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdm9pZGFuY2UgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlVmFsdWUgPSBhdm9pZGFuY2U7ICAgICAgICAgICAgICAgIC8vIExhc3QgQXZvaWRhbmNlIFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF2b2lkYW5jZVRpbWVyID0gdGhpcy5hdm9pZGFuY2VUaW1lb3V0OyAgICAvLyBSZXNldCBBdm9pZGFuY2UgVGltZXJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NoZWNrcG9pbnRNYW5hZ2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDaGVja3BvaW50OiBudW1iZXIgPSB0aGlzLm1fY2hlY2twb2ludE1hbmFnZXIuZ2V0Q2hlY2tQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGVja3BvaW50ICE9IHRoaXMubGFzdENoZWNrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbVR1cm5pbmcgPSB0aGlzLmdlbmVyYXRlUmFuZG9uTnVtYmVyKDAsIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyQm9vc3RpbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tQm9vc3RpbmcgPSB0aGlzLmdlbmVyYXRlUmFuZG9uTnVtYmVyKDAsIHRoaXMucG93ZXJCb29zdGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndvbmRlckRpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5pbXVtVmFsOiBudW1iZXIgPSB0aGlzLmRyaXZlTGluZURpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5kb21TaWduOiBudW1iZXIgPSBNYXRoLnNpZ24odGhpcy5nZW5lcmF0ZVJhbmRvbk51bWJlcigtMSwgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbURpc3RhbmNlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbk51bWJlcihtaW5pbXVtVmFsLCAobWluaW11bVZhbCArIHRoaXMud29uZGVyRGlzdGFuY2UpKSAqIHJhbmRvbVNpZ247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdENoZWNrcG9pbnQgPSBjdXJyZW50Q2hlY2twb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tVHVybmluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmRvbUJvb3N0aW5nID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tRGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCB3YW50ZWRBdm9pZERpc3RhbmNlOiBudW1iZXIgPSAodGhpcy5hdm9pZGFuY2VUaW1lciA+IDAgJiYgdGhpcy5hdm9pZGFuY2VWYWx1ZSAhPT0gMCkgPyAodGhpcy5hdm9pZGFuY2VEaXN0YW5jZSAqIE1hdGguc2lnbih0aGlzLmF2b2lkYW5jZVZhbHVlKSkgOiAwO1xuICAgICAgICAgICAgICAgICAgICB3YW50ZWRBdm9pZERpc3RhbmNlICs9IHRoaXMucmFuZG9tRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlTGVycCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5hdm9pZGFuY2VMZXJwLCB3YW50ZWRBdm9pZERpc3RhbmNlLCAodGhpcy5hdm9pZGFuY2VTcGVlZCAqIGRlbHRhVGltZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF2b2lkUG9zaXRpb25PZmZzZXQuc2V0KHRoaXMuYXZvaWRhbmNlTGVycCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLCB0aGlzLm1fY2hhc2VQb2ludE1lc2gucG9zaXRpb24sIHRoaXMuYXZvaWRQb3NpdGlvbk9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dDaGFzZVJhYmJpdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja1ZlaGljbGVQb3NpdGlvbi5zZXQodHJhbnNmb3JtUG9zaXRpb24ueCwgKHRyYW5zZm9ybVBvc2l0aW9uLnkgKyAwLjUpLCB0cmFuc2Zvcm1Qb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiB0aGlzLnRyYWNrUmFiYml0UG9zaXRpb24uc2V0KHJhYmJpdFBvc2l0aW9uLngsIChyYWJiaXRQb3NpdGlvbi55ICsgMC4yNSksIHJhYmJpdFBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja1JhYmJpdFBvc2l0aW9uLnNldCh0aGlzLm1fY2hhc2VQb2ludE1lc2gucG9zaXRpb24ueCwgKHRoaXMubV9jaGFzZVBvaW50TWVzaC5wb3NpdGlvbi55ICsgMC4yNSksIHRoaXMubV9jaGFzZVBvaW50TWVzaC5wb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhYmJpdFRyYWNrZXJMaW5lID09IG51bGwpIHRoaXMucmFiYml0VHJhY2tlckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuVHJhY2tpbmdMaW5lXCIpLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhYmJpdFRyYWNrZXJMaW5lICE9IG51bGwpIHRoaXMucmFiYml0VHJhY2tlckxpbmUuZHJhd0xpbmUoW3RoaXMudHJhY2tWZWhpY2xlUG9zaXRpb24sIHRoaXMudHJhY2tSYWJiaXRQb3NpdGlvbl0sIHRoaXMucmFiYml0VHJhY2tlckNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBXYXlwb2ludCBEaXN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YXlwb2ludERpc3RhbmNlOiBudW1iZXIgPSBCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2UocmFiYml0UG9zaXRpb24sIHRoaXMud2F5cG9pbnRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXlwb2ludERpc3RhbmNlIDw9IDUuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2VGFyZ2V0U3BlZWQgPSB0aGlzLm5leHRUYXJnZXRTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2F5cG9pbnRJbmRleCA+PSB0aGlzLndheXBvaW50Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndheXBvaW50SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5JbnZlcnNlVHJhbnNmb3JtUG9pbnRUb1JlZih0aGlzLnRyYW5zZm9ybSwgcmFiYml0UG9zaXRpb24sIHRoaXMubG9jYWxUYXJnZXRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuSW52ZXJzZVRyYW5zZm9ybVBvaW50VG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMubV9jaGFzZVBvaW50TWVzaC5wb3NpdGlvbiwgdGhpcy5sb2NhbFRhcmdldFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVGFyZ2V0QW5nbGUgPSBCQUJZTE9OLlRvb2xzLlRvRGVncmVlcyhNYXRoLmF0YW4yKHRoaXMubG9jYWxUYXJnZXRQb3NpdGlvbi54LCB0aGlzLmxvY2FsVGFyZ2V0UG9zaXRpb24ueikpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3JuZXJBbmdsZTogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoTWF0aC5hYnMobG9jYWxUYXJnZXRBbmdsZSksIDAsIDkwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ybmVyRmFjdG9yOiBudW1iZXIgPSAoY29ybmVyQW5nbGUgLyA5MCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBWZWhpY2xlIERyaXZpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGJyYWtpbmc6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzbG93ZG93bjogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvb3N0aW5nOiBudW1iZXIgPSB0aGlzLnJhbmRvbUJvb3N0aW5nO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9wc3BlZWQ6IG51bWJlciA9IHRoaXMubWF4UmFjZVRyYWNrU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0aHJvdHRsZTogbnVtYmVyID0gKDEuMCAqIHRoaXMudGhyb3R0bGVTZW5zaXRpdml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVlcmluZzogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKCh0aGlzLmxvY2FsVGFyZ2V0UG9zaXRpb24ueCAvIHRoaXMubG9jYWxUYXJnZXRQb3NpdGlvbi5sZW5ndGgoKSkgKiB0aGlzLnN0ZWVyaW5nU2Vuc2l0aXZpdHkpLCAtMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmF2b2lkYW5jZUZhY3RvciA+IDAgJiYgYXZvaWRhbmNlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dTcGVlZEF2b2lkYW5jZTogbnVtYmVyID0gKChhdm9pZGFuY2UgKiAwLjExMikgKiB0aGlzLmF2b2lkYW5jZUZhY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWdoU3BlZWRBdm9pZGFuY2U6IG51bWJlciA9ICgoYXZvaWRhbmNlICogMC4wNikgKiB0aGlzLmF2b2lkYW5jZUZhY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVlcmluZyArPSBCQUJZTE9OLlNjYWxhci5MZXJwKGxvd1NwZWVkQXZvaWRhbmNlLCBoaWdoU3BlZWRBdm9pZGFuY2UsIGdyYWRpZW50U3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBoYW5kYnJha2luZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXh0VGFyZ2V0U3BlZWQgPD0gMCkgdGhpcy5uZXh0VGFyZ2V0U3BlZWQgPSB0YXJnZXRTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFtZXJpY2FuU3BlZWQgPiB0aGlzLm5leHRUYXJnZXRTcGVlZCkgeyAvLyBUYXJnZXQgU3BlZWQgVGhyb3R0bGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xvd2Rvd24gPSBCQUJZTE9OLlNjYWxhci5MZXJwKDAuMCwgdGhpcy5saW5lYXJEYW1wZW5Gb3JjZSwgZ3JhZGllbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdHRsZSAqPSAwLjI7IC8vIE5vdGUgOiAyMCBQZXJjZW50IFRocm90dGxlIElucHV0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnJha2luZ1R1cm5BbmdsZSA+IDApIHsgLy8gQ29ybmVyIEFuZ2xlIEZvb3QgQnJha2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tDb3JuZXJBbmdsZTogbnVtYmVyID0gKHRoaXMuYnJha2luZ1R1cm5BbmdsZSAtIHRoaXMucmFuZG9tVHVybmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ybmVyQW5nbGUgPj0gY2hlY2tDb3JuZXJBbmdsZSAmJiBhbWVyaWNhblNwZWVkID49IHRoaXMuYnJha2luZ1NwZWVkTGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFraW5nID0gQkFCWUxPTi5TY2FsYXIuTGVycCgwLCAoMSArIGdyYWRpZW50U3BlZWQpLCBjb3JuZXJGYWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsb3dkb3duID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhcmQgSGFuZCBCcmFraW5nIChEcmlmdGluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWRkaW5nVHJpZ2dlclNwZWVkOiBudW1iZXIgPSAoaXNTa2lkZGluZyA9PT0gdHJ1ZSkgPyB0aGlzLmJyYWtpbmdTcGVlZExpbWl0IDogdGhpcy5za2lkZGluZ1NwZWVkTGltaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGJyYWtpbmcgPSAoYnJha2luZyA+IDAgJiYgYW1lcmljYW5TcGVlZCA+PSBza2lkZGluZ1RyaWdnZXJTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRicmFraW5nID09PSB0cnVlKSBicmFraW5nID0gMS4wOyAvLyBOb3RlOiBVc2UgSGFuZCBCcmFraW5nIFpvbmUgU3RyZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYnJha2luZyA+IDApIGJyYWtpbmcgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgoYnJha2luZyAqIHRoaXMuYnJha2luZ1NlbnNpdGl2aXR5KSwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChicmFraW5nID4gMCkgdGhyb3R0bGUgPSAoLWJyYWtpbmcpO1xuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gUmV2ZXJzZSBNb3ZlbWVudCBGaXggTW9kZVxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmV2ZXJzZUZpeE1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBib29zdGluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVlcmluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbG93ZG93biA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kYnJha2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBObyBGb3J3YXJkIFZlbG9jaXR5XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhyb3R0bGUgPj0gMC4xICYmIGFtZXJpY2FuU3BlZWQgPCAyLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9Nb3ZlbWVudFRpbWUgKz0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub01vdmVtZW50VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubm9Nb3ZlbWVudFRpbWUgPj0gdGhpcy5yZXNldE1vdmluZ1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9Nb3ZlbWVudFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlRml4TW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY292ZXJ5Rml4TW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZlcnNlVGltZTogbnVtYmVyID0gKHRoaXMucmV2ZXJzZVRocm90dGxlVGltZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjb3ZlcnlUaW1lOiBudW1iZXIgPSAoKHRoaXMucmV2ZXJzZVRocm90dGxlVGltZSAqIDEwMDApICogMy4wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLlNldFRpbWVvdXQocmV2ZXJzZVRpbWUsICgpID0+IHsgdGhpcy5yZXZlcnNlRml4TW9kZSA9IGZhbHNlOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLlNldFRpbWVvdXQocmVjb3ZlcnlUaW1lLCAoKSA9PiB7IHRoaXMucmVjb3ZlcnlGaXhNb2RlID0gZmFsc2U7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWVkQm9vc3RlcjogYm9vbGVhbiA9IGZhbHNlOyAvLyBUT0RPOiBTdXBwb3J0IEFJIFNwZWVkIEJvb3N0aW5nIChOT1MpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIuYWNrZXJtYW5UdXJuRmFjdG9yID0gKHRoaXMucmVjb3ZlcnlGaXhNb2RlID09PSB0cnVlKSA/IHRoaXMucmVjb3ZlcnlSYWRpdXMgOiAxLjA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIudGhyb3R0bGVFbmdpbmVTcGVlZCA9IHRvcHNwZWVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyLnRocm90dGxlQnJha2luZ0ZvcmNlID0gc2xvd2Rvd247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9zdGFuZGFyZENhckNvbnRyb2xsZXIuZHJpdmUodGhyb3R0bGUsIHN0ZWVyaW5nLCBoYW5kYnJha2luZywgZmFsc2UsIGJvb3N0aW5nLCB0cnVlLCBzcGVlZEJvb3N0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RHJpdmVyU2tpbGxGYWN0b3IoKTogbnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IG51bWJlciA9IDAuNjA7XG4gICAgICAgICAgICBsZXQgc2tpbGw6IG51bWJlciA9IHRoaXMuZHJpdmVyU2tpbGxMZXZlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmRvbVNraWxsRmFjdG9yID49IDE4KSB7XG4gICAgICAgICAgICAgICAgc2tpbGwgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yYW5kb21Ta2lsbEZhY3RvciA+PSAxMikge1xuICAgICAgICAgICAgICAgIHNraWxsICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBza2lsbCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHNraWxsLCAxLCAxMCk7XG4gICAgICAgICAgICAvLyBXTS5QcmludFRvU2NyZWVuKFwiRHJpdmVyIFNraWxsIExldmVsOiBcIiArIHNraWxsKTtcbiAgICAgICAgICAgIHN3aXRjaCAoc2tpbGwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAxLjAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuOTg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC45NTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjkwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuODU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC44MDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjc1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDAuNzA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMC42NTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwLjYwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGdldEN1cnJlbnRUcmFja05vZGUoaW5kZXg6IG51bWJlcik6IFBST0pFQ1QuSVRyYWNrTm9kZSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBQUk9KRUNULklUcmFja05vZGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLndheXBvaW50Q291bnQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fY2lyY3VpdEludGVyZmFjZXNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q3VycmVudENvbnRyb2xQb2ludChsYW5lOiBudW1iZXIsIGluZGV4OiBudW1iZXIpOiBQUk9KRUNULklDb250cm9sUG9pbnQge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogUFJPSkVDVC5JQ29udHJvbFBvaW50ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy53YXlwb2ludENvdW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChsYW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfMVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8yW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfNFtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX2NpcmN1aXRSYWNlTGluZV81W2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGdldFJhbmRvbU51bWJlcihtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZ2VuZXJhdGVSYW5kb25OdW1iZXIobWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBkZWNpbWFsczogbnVtYmVyID0gMik6IG51bWJlciB7XG4gICAgICAgICAgICBjb25zdCByYW5kOiBzdHJpbmcgPSAoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKS50b0ZpeGVkKGRlY2ltYWxzKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJhbmQpO1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95VmVoaWNsZUNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fY2lyY3VpdEludGVyZmFjZXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV8xID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfMiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1fY2lyY3VpdFJhY2VMaW5lXzMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX2NpcmN1aXRSYWNlTGluZV80ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jaXJjdWl0UmFjZUxpbmVfNSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1fcmlnaWRib2R5UGh5c2ljcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1fc3RhbmRhcmRDYXJDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VQb2ludE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9jaGFzZVBvaW50TWVzaC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXNlUG9pbnRNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhc2VSYWJiaXRNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhc2VSYWJiaXRNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBWZWhpY2xlTmV0d29ya0xhYmVsXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgVmVoaWNsZU5ldHdvcmtMYWJlbCBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgbGFiZWw6IEJBQllMT04uR1VJLlRleHRCbG9jayA9IG51bGw7XG4gICAgICAgIHB1YmxpYyByZWN0OiBCQUJZTE9OLkdVSS5SZWN0YW5nbGU7XG5cbiAgICAgICAgcHVibGljIGF1dG9DcmVhdGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgb2Zmc2V0WDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIG9mZnNldFk6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBsYWJlbENvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLjAsIDEuMCwgMS4wKTtcbiAgICAgICAgcHVibGljIGJvcmRlckNvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjAsIDAuODQzMTM3MywgMC44Mjc0NTEpO1xuICAgICAgICBwdWJsaWMgYmFja2dyb3VuZENvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjAsIDAuNDc0NTA5OCwgMC40NjY2NjY3KTtcbiAgICAgICAgcHVibGljIGxhYmVsQ3JlYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbENyZWF0ZWQgPT09IGZhbHNlICYmIHRoaXMuYXV0b0NyZWF0ZSA9PT0gdHJ1ZSAmJiB0aGlzLmlzUmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLk5ldHdvcmtNYW5hZ2VyLkhhc0pvaW5lZFJvb20oKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvd25lck5hbWU6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5TmV0d29ya0F0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgXCJvd25lck5hbWVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvd25lck5hbWUgIT0gbnVsbCAmJiBvd25lck5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0b0NyZWF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbENyZWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbChvd25lck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNyZWF0ZUxhYmVsKG5hbWU6IHN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgYWR2YW5jZWRUZXh0dXJlOiBCQUJZTE9OLkdVSS5BZHZhbmNlZER5bmFtaWNUZXh0dXJlID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRGdWxsc2NyZWVuVUkodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gbmV3IEJBQllMT04uR1VJLlRleHRCbG9jaygpO1xuICAgICAgICAgICAgdGhpcy5sYWJlbC50ZXh0ID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMubGFiZWwuY29sb3IgPSB0aGlzLmxhYmVsQ29sb3IudG9IZXhTdHJpbmcoKTsgICAgICAgICAgIC8vIFwid2hpdGVcIjtcbiAgICAgICAgICAgIHRoaXMubGFiZWwuZm9udFNpemUgPSAyNDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnJlY3QgPSBuZXcgQkFCWUxPTi5HVUkuUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB0aGlzLnJlY3Qud2lkdGggPSBcIjIwMHB4XCI7XG4gICAgICAgICAgICB0aGlzLnJlY3QuaGVpZ2h0ID0gXCI0MHB4XCI7XG4gICAgICAgICAgICB0aGlzLnJlY3QuY29ybmVyUmFkaXVzID0gMTA7XG4gICAgICAgICAgICB0aGlzLnJlY3QuY29sb3IgPSB0aGlzLmJvcmRlckNvbG9yLnRvSGV4U3RyaW5nKCk7ICAgICAgICAgICAvLyBcIiMwMEQ3RDNcIjtcbiAgICAgICAgICAgIHRoaXMucmVjdC50aGlja25lc3MgPSA0O1xuICAgICAgICAgICAgdGhpcy5yZWN0LmJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRDb2xvci50b0hleFN0cmluZygpOyAgLy8gXCIjMDA3OTc3XCI7XG4gICAgICAgICAgICB0aGlzLnJlY3QuYWRkQ29udHJvbCh0aGlzLmxhYmVsKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBhZHZhbmNlZFRleHR1cmUuYWRkQ29udHJvbCh0aGlzLnJlY3QpO1xuICAgICAgICAgICAgdGhpcy5yZWN0LmxpbmtXaXRoTWVzaCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB0aGlzLnJlY3QubGlua09mZnNldFhJblBpeGVscyA9IHRoaXMub2Zmc2V0WDtcbiAgICAgICAgICAgIHRoaXMucmVjdC5saW5rT2Zmc2V0WUluUGl4ZWxzID0gdGhpcy5vZmZzZXRZO1xuXG4gICAgICAgICAgICAvLyBGSVhNRTogT25lIE9mIFRoZW0gRG9lcyBOb3QgR2V0IFRoZSBMYWJlbCBDcmVhdGVkXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCJXVEY6IE93bmVyIE5hbWVcIik7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiKioqIEdPVCBERVNUUk9ZIE1FU1NBR0UgKioqXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFiZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFiZWwuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFiZWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucmVjdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHRvb2xraXQgZGVmYXVsdCBjYW1lcmEgc3lzdGVtIGNsYXNzXG4gICAgICogQGNsYXNzIERlZmF1bHRDYW1lcmFTeXN0ZW0gLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKiBodHRwczovL2RvYy5iYWJ5bG9uanMuY29tL2RpdmluZ0RlZXBlci9wb3N0UHJvY2Vzc2VzL2RlZmF1bHRSZW5kZXJpbmdQaXBlbGluZVxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBEZWZhdWx0Q2FtZXJhU3lzdGVtIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgUGxheWVyT25lQ2FtZXJhOiBCQUJZTE9OLkZyZWVDYW1lcmEgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIFBsYXllclR3b0NhbWVyYTogQkFCWUxPTi5GcmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIHN0YXRpYyBQbGF5ZXJUaHJlZUNhbWVyYTogQkFCWUxPTi5GcmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIHN0YXRpYyBQbGF5ZXJGb3VyQ2FtZXJhOiBCQUJZTE9OLkZyZWVDYW1lcmEgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIFhSRXhwZXJpZW5jZUhlbHBlcjogQkFCWUxPTi5XZWJYUkRlZmF1bHRFeHBlcmllbmNlID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBtdWx0aVBsYXllclZpZXc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgbXVsdGlQbGF5ZXJDb3VudDogbnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgbXVsdGlQbGF5ZXJDYW1lcmFzOiBCQUJZTE9OLkNhbWVyYVtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc3RlcmVvQ2FtZXJhczogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIHN0YXJ0dXBNb2RlOiBudW1iZXIgPSAxO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBjYW1lcmFSZWFkeTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyByZW5kZXJpbmdQaXBlbGluZTogQkFCWUxPTi5EZWZhdWx0UmVuZGVyaW5nUGlwZWxpbmUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBzY3JlZW5TcGFjZVBpcGVsaW5lOiBCQUJZTE9OLlNTQU9SZW5kZXJpbmdQaXBlbGluZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0UmVuZGVyaW5nUGlwZWxpbmUoKTogQkFCWUxPTi5EZWZhdWx0UmVuZGVyaW5nUGlwZWxpbmUgeyByZXR1cm4gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnJlbmRlcmluZ1BpcGVsaW5lOyB9O1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFNjcmVlblNwYWNlUGlwZWxpbmUoKTogQkFCWUxPTi5TU0FPUmVuZGVyaW5nUGlwZWxpbmUgeyByZXR1cm4gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnNjcmVlblNwYWNlUGlwZWxpbmU7IH07XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNDYW1lcmFTeXN0ZW1SZWFkeSgpOiBib29sZWFuIHsgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5jYW1lcmFSZWFkeTsgfVxuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB3ZWJ4ciBleHBlcmllbmNlIGhlbHBlciBoYXMgYmVlbiBjcmVhdGVkICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25YUkV4cGVyaWVuY2VIZWxwZXJPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLldlYlhSRGVmYXVsdEV4cGVyaWVuY2U+KCk7XG5cbiAgICAgICAgcHJpdmF0ZSBtYWluQ2FtZXJhOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhVHlwZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFJbmVydGlhOiBudW1iZXIgPSAwLjU7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhQ29udHJvbGxlcjogYW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBpbW1lcnNpdmVPcHRpb25zOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGFyY1JvdGF0ZUNvbmZpZzogYW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBtdWx0aVBsYXllclNldHVwOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGZ1bGxTY3JlZW5Ub2dnbGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc2V0UG9pbnRlckxvY2s6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGVkaXRvclBvc3RQcm9jZXNzaW5nOiBQUk9KRUNULklFZGl0b3JQb3N0UHJvY2Vzc2luZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGlzTWFpbkNhbWVyYSgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMubWFpbkNhbWVyYTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhVHlwZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jYW1lcmFUeXBlOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fY2FtZXJhUmlnOiBCQUJZTE9OLlRhcmdldENhbWVyYSA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlQ2FtZXJhU3lzdGVtU3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuc3RhcnRDYW1lcmFTeXN0ZW1TdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IHRoaXMudXBkYXRlQ2FtZXJhU3lzdGVtU3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95Q2FtZXJhU3lzdGVtU3RhdGUoKTsgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBVbml2ZXJzYWwgQ2FtZXJhIFN5c3RlbSBTdGF0ZSBGdW5jdGlvbnMgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlQ2FtZXJhU3lzdGVtU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1haW5DYW1lcmEgPSAodGhpcy5nZXRUcmFuc2Zvcm1UYWcoKSA9PT0gXCJNYWluQ2FtZXJhXCIpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFUeXBlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1haW5DYW1lcmFUeXBlXCIsIHRoaXMuY2FtZXJhVHlwZSk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUluZXJ0aWEgPSB0aGlzLmdldFByb3BlcnR5KFwic2V0Q2FtZXJhSW5lcnRpYVwiLCB0aGlzLmNhbWVyYUluZXJ0aWEpO1xuICAgICAgICAgICAgdGhpcy5mdWxsU2NyZWVuVG9nZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcImZ1bGxTY3JlZW5Ub2dnbGVcIiwgdGhpcy5mdWxsU2NyZWVuVG9nZ2xlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UG9pbnRlckxvY2sgPSB0aGlzLmdldFByb3BlcnR5KFwic2V0UG9pbnRlckxvY2tcIiwgdGhpcy5zZXRQb2ludGVyTG9jayk7XG4gICAgICAgICAgICB0aGlzLmltbWVyc2l2ZU9wdGlvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiaW1tZXJzaXZlT3B0aW9uc1wiLCB0aGlzLmltbWVyc2l2ZU9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5hcmNSb3RhdGVDb25maWcgPSB0aGlzLmdldFByb3BlcnR5KFwiYXJjUm90YXRlQ29uZmlnXCIsIHRoaXMuYXJjUm90YXRlQ29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMubXVsdGlQbGF5ZXJTZXR1cCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtdWx0aVBsYXllclNldHVwXCIsIHRoaXMubXVsdGlQbGF5ZXJTZXR1cCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbnRyb2xsZXIgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhQ29udHJvbGxlclwiLCB0aGlzLmNhbWVyYUNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZW5kZXJpbmdQaXBlbGluZVwiLCB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW5DYW1lcmFTeXN0ZW1TdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZnVsbFNjcmVlblRvZ2dsZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuRiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuc2NlbmUuZ2V0RW5naW5lKCkuZW50ZXJGdWxsc2NyZWVuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBTTS5FbnRlckZ1bGxzY3JlZW5Nb2RlKHRoaXMuc2NlbmUsIHRoaXMuc2V0UG9pbnRlckxvY2spO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFzeW5jIHN0YXJ0Q2FtZXJhU3lzdGVtU3RhdGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlZhbGlkYXRlVHJhbnNmb3JtUXVhdGVybmlvbih0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tdWx0aVBsYXllclNldHVwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uc3RhcnR1cE1vZGUgPSB0aGlzLm11bHRpUGxheWVyU2V0dXAucGxheWVyU3RhcnR1cE1vZGU7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnN0ZXJlb0NhbWVyYXMgPSB0aGlzLm11bHRpUGxheWVyU2V0dXAuc3RlcmVvU2lkZUJ5U2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBEZWZhdWx0IENhbWVyYSBTeXN0ZW0gU3VwcG9ydFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcgPSB0aGlzLmdldENhbWVyYVJpZygpO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFSaWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5zcGVlZCA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5jYW1lcmFTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5pbnZlcnNlUm90YXRpb25TcGVlZCA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5pbnZSb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVJpZyBpbnN0YW5jZW9mIEJBQllMT04uVW5pdmVyc2FsQ2FtZXJhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLmdhbWVwYWRBbmd1bGFyU2Vuc2liaWxpdHkgPSB0aGlzLmNhbWVyYUNvbnRyb2xsZXIuZ2FtZXBhZFJvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5nYW1lcGFkTW92ZVNlbnNpYmlsaXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLmdhbWVwYWRNb3ZlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcudG91Y2hBbmd1bGFyU2Vuc2liaWxpdHkgPSB0aGlzLmNhbWVyYUNvbnRyb2xsZXIudG91Y2hSb3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcudG91Y2hNb3ZlU2Vuc2liaWxpdHkgPSB0aGlzLmNhbWVyYUNvbnRyb2xsZXIudG91Y2hNb3ZlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb250cm9sbGVyLmtleWJvYXJkV0FTRCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzICE9IG51bGwgJiYgdGhpcy5tX2NhbWVyYVJpZy5pbnB1dHMuYXR0YWNoZWQgIT0gbnVsbCAmJiB0aGlzLm1fY2FtZXJhUmlnLmlucHV0cy5hdHRhY2hlZC5rZXlib2FyZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzLmF0dGFjaGVkLmtleWJvYXJkIGluc3RhbmNlb2YgQkFCWUxPTi5GcmVlQ2FtZXJhS2V5Ym9hcmRNb3ZlSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2lucHV0OiBCQUJZTE9OLkZyZWVDYW1lcmFLZXlib2FyZE1vdmVJbnB1dCA9IHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzLmF0dGFjaGVkLmtleWJvYXJkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQua2V5c1VwLnB1c2goQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5XKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNMZWZ0LnB1c2goQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5BKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNEb3duLnB1c2goQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5TKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNSaWdodC5wdXNoKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbnB1dC5yb3RhdGlvblNwZWVkID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYUNvbnRyb2xsZXIuYXJyb3dLZXlSb3RhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNMZWZ0ID0gW0JBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuQV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQua2V5c1JpZ2h0ID0gW0JBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuRF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW5wdXQua2V5c1JvdGF0ZUxlZnQgPSBbQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5MZWZ0QXJyb3ddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lucHV0LmtleXNSb3RhdGVSaWdodCA9IFtCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlJpZ2h0QXJyb3ddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnLmlucHV0cyAhPSBudWxsICYmIHRoaXMubV9jYW1lcmFSaWcuaW5wdXRzLmF0dGFjaGVkICE9IG51bGwgJiYgdGhpcy5tX2NhbWVyYVJpZy5pbnB1dHMuYXR0YWNoZWQubW91c2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3VzZUlucHV0OiBhbnkgPSB0aGlzLm1fY2FtZXJhUmlnLmlucHV0cy5hdHRhY2hlZC5tb3VzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogVG91Y2ggRW5hYmxlZCBNb3VzZSBIYWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkhhc093blByb3BlcnR5KG1vdXNlSW5wdXQsIFwidG91Y2hFbmFibGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUlucHV0LnRvdWNoRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMCB8fCB0aGlzLmNhbWVyYVR5cGUgPT09IDQpIHsgLy8gVW5pdmVyc2FsIEFuZCBGcmVlIFRhcmdldCBDYW1lcmFcbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgPSAodGhpcy5tX2NhbWVyYVJpZyBhcyBCQUJZTE9OLkZyZWVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAvL30gICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDEgfHwgdGhpcy5jYW1lcmFUeXBlID09PSAyKSB7IC8vIFdlYlhSIENhbWVyYSBUeXBlc1xuICAgICAgICAgICAgICAgICAgICAvL2lmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9ICh0aGlzLm1fY2FtZXJhUmlnIGFzIEJBQllMT04uRnJlZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSkudHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIC8vfSAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1tZXJzaXZlT3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFN0b3JhZ2VSZXF1aXJlZDogYm9vbGVhbiA9ICh0aGlzLmltbWVyc2l2ZU9wdGlvbnMubG9jYWxTdG9yYWdlT3B0aW9uID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2VSZXF1aXJlZCA9PT0gZmFsc2UgfHwgKGxvY2FsU3RvcmFnZVJlcXVpcmVkID09PSB0cnVlICYmIEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLkdldFZpcnR1YWxSZWFsaXR5RW5hYmxlZCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3ZWJ2ckZsb29yTWVzaGVzOiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2VidnJIZWxwZXJPcHRpb25zOiBCQUJZTE9OLldlYlhSRGVmYXVsdEV4cGVyaWVuY2VPcHRpb25zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2VidnJJbW1lcnNpdmVNb2RlOiBYUlNlc3Npb25Nb2RlID0gKHRoaXMuY2FtZXJhVHlwZSA9PT0gMSkgPyBcImltbWVyc2l2ZS1hclwiIDogXCJpbW1lcnNpdmUtdnJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2VidnJSZWZlcmVuY2VUeXBlOiBYUlJlZmVyZW5jZVNwYWNlVHlwZSA9IFwibG9jYWwtZmxvb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5yZWZlcmVuY2VTcGFjZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJSZWZlcmVuY2VUeXBlID0gXCJ2aWV3ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJ2clJlZmVyZW5jZVR5cGUgPSBcImxvY2FsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJSZWZlcmVuY2VUeXBlID0gXCJsb2NhbC1mbG9vclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwidW5ib3VuZGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwibG9jYWwtZmxvb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbW1lcnNpdmVPcHRpb25zLnNldEZsb29yTWVzaGVzVGFncyA9PSBudWxsIHx8IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5zZXRGbG9vck1lc2hlc1RhZ3MgPT09IFwiXCIpIHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5zZXRGbG9vck1lc2hlc1RhZ3MgPSBcIk5hdmlnYXRpb25cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAudXNlVGVsZXBvcnRhdGlvbiA9PT0gdHJ1ZSkgd2VidnJGbG9vck1lc2hlcyA9IHRoaXMuc2NlbmUuZ2V0TWVzaGVzQnlUYWdzKHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5zZXRGbG9vck1lc2hlc1RhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGVmYXVsdFRlbGVwb3J0YXRpb25TZXR1cC51c2VUZWxlcG9ydGF0aW9uID09PSB0cnVlICYmIHdlYnZyRmxvb3JNZXNoZXMgIT0gbnVsbCAmJiB3ZWJ2ckZsb29yTWVzaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJIZWxwZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JNZXNoZXM6IHdlYnZyRmxvb3JNZXNoZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEZlYXR1cmVzOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMub3B0aW9uYWxGZWF0dXJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZVN0YWJsZVBsdWdpbnM6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy51c2VTdGFibGVQbHVnaW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nR3JvdXBJZDogdGhpcy5pbW1lcnNpdmVPcHRpb25zLnJlbmRlcmluZ0dyb3VwTnVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRpc2FibGVVc2VySW50ZXJmYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVRlbGVwb3J0YXRpb246ICh0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGVmYXVsdFRlbGVwb3J0YXRpb25TZXR1cC51c2VUZWxlcG9ydGF0aW9uID09PSBmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlUG9pbnRlclNlbGVjdGlvbjogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRpc2FibGVQb2ludGVyU2VsZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlTmF0aXZlQ2FtZXJhVHJhbnNmb3JtYXRpb246IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5pZ25vcmVOYXRpdmVDYW1lcmEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb05vdExvYWRDb250cm9sbGVyTWVzaGVzOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlTWVzaExvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VJbnB1dFByb2ZpbGU6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmZvcmNlSW5wdXRQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVPbmxpbmVDb250cm9sbGVyUmVwb3NpdG9yeTogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZGlzYWJsZVJlcG9zaXRvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ29udHJvbGxlcnNSZXBvc2l0b3J5VVJMOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jdXN0b21SZXBvc2l0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDb250cm9sbGVyQW5pbWF0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlTW9kZWxBbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVNb3Rpb25Db250cm9sbGVyQW5pbWF0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5kaXNhYmxlQ3RybEFuaW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90TG9hZENvbnRyb2xsZXJNZXNoOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5kaXNhYmxlQ3RybE1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlQ29udHJvbGxlclByb2ZpbGU6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmNvbnRyb2xsZXJPcHRpb25zLmZvcmNlQ3RybFByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ0dyb3VwSWQ6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmNvbnRyb2xsZXJPcHRpb25zLnJlbmRlcmluZ0dyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25Nb2RlOiB3ZWJ2ckltbWVyc2l2ZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlU3BhY2VUeXBlOiB3ZWJ2clJlZmVyZW5jZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZySGVscGVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRmVhdHVyZXM6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5vcHRpb25hbEZlYXR1cmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlU3RhYmxlUGx1Z2luczogdGhpcy5pbW1lcnNpdmVPcHRpb25zLnVzZVN0YWJsZVBsdWdpbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdHcm91cElkOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMucmVuZGVyaW5nR3JvdXBOdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGlzYWJsZVVzZXJJbnRlcmZhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVGVsZXBvcnRhdGlvbjogKHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kZWZhdWx0VGVsZXBvcnRhdGlvblNldHVwLnVzZVRlbGVwb3J0YXRpb24gPT09IGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVQb2ludGVyU2VsZWN0aW9uOiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGlzYWJsZVBvaW50ZXJTZWxlY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVOYXRpdmVDYW1lcmFUcmFuc2Zvcm1hdGlvbjogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmlnbm9yZU5hdGl2ZUNhbWVyYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0T3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90TG9hZENvbnRyb2xsZXJNZXNoZXM6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmRpc2FibGVNZXNoTG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUlucHV0UHJvZmlsZTogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZm9yY2VJbnB1dFByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZU9ubGluZUNvbnRyb2xsZXJSZXBvc2l0b3J5OiB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlUmVwb3NpdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21Db250cm9sbGVyc1JlcG9zaXRvcnlVUkw6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmN1c3RvbVJlcG9zaXRvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNvbnRyb2xsZXJBbmltYXRpb246IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmRpc2FibGVNb2RlbEFuaW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZU1vdGlvbkNvbnRyb2xsZXJBbmltYXRpb246IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmNvbnRyb2xsZXJPcHRpb25zLmRpc2FibGVDdHJsQW5pbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Ob3RMb2FkQ29udHJvbGxlck1lc2g6IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5leHBlcmllbmNlSW5wdXRPcHRpb25zLmNvbnRyb2xsZXJPcHRpb25zLmRpc2FibGVDdHJsTWVzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VDb250cm9sbGVyUHJvZmlsZTogdGhpcy5pbW1lcnNpdmVPcHRpb25zLmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMuZm9yY2VDdHJsUHJvZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nR3JvdXBJZDogdGhpcy5pbW1lcnNpdmVPcHRpb25zLnJlbmRlcmluZ0dyb3VwTnVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25Nb2RlOiB3ZWJ2ckltbWVyc2l2ZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlU3BhY2VUeXBlOiB3ZWJ2clJlZmVyZW5jZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyID0gYXdhaXQgdGhpcy5zY2VuZS5jcmVhdGVEZWZhdWx0WFJFeHBlcmllbmNlQXN5bmMod2VidnJIZWxwZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlciAhPSBudWxsICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIuYmFzZUV4cGVyaWVuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci50ZWxlcG9ydGF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIudGVsZXBvcnRhdGlvbi5yb3RhdGlvbkFuZ2xlID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAudHVybmluZ0F4aXNBbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyLnRlbGVwb3J0YXRpb24ucm90YXRpb25FbmFibGVkID0gdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAucm90YXRpb25zRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIudGVsZXBvcnRhdGlvbi5iYWNrd2FyZHNNb3ZlbWVudEVuYWJsZWQgPSB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuZGVmYXVsdFRlbGVwb3J0YXRpb25TZXR1cC5iYWNrd2FyZHNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci50ZWxlcG9ydGF0aW9uLmJhY2t3YXJkc1RlbGVwb3J0YXRpb25EaXN0YW5jZSA9IHRoaXMuaW1tZXJzaXZlT3B0aW9ucy5kZWZhdWx0VGVsZXBvcnRhdGlvblNldHVwLmJhY2t3YXJkc0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci50ZWxlcG9ydGF0aW9uLnBhcmFib2xpY0NoZWNrUmFkaXVzID0gdGhpcy5pbW1lcnNpdmVPcHRpb25zLmRlZmF1bHRUZWxlcG9ydGF0aW9uU2V0dXAucGFyYWJvbGljUmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uT25YUkV4cGVyaWVuY2VIZWxwZXJPYnNlcnZhYmxlICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5PblhSRXhwZXJpZW5jZUhlbHBlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5PblhSRXhwZXJpZW5jZUhlbHBlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkhhc05hdmlnYXRpb25EYXRhKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdm1lc2g6IEJBQllMT04uTWVzaCA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0TmF2aWdhdGlvbk1lc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5TZXR1cE5hdmlnYXRpb25XZWJYUihuYXZtZXNoLCB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuc2V0Rmxvb3JNZXNoZXNUYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuT25OYXZNZXNoUmVhZHlPYnNlcnZhYmxlLmFkZE9uY2UoKG5hdm1lc2g6IEJBQllMT04uTWVzaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5TZXR1cE5hdmlnYXRpb25XZWJYUihuYXZtZXNoLCB0aGlzLmltbWVyc2l2ZU9wdGlvbnMuc2V0Rmxvb3JNZXNoZXNUYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiV2ViWFIgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IGJyb3dzZXIuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAzKSB7IC8vIE11bHRpIFBsYXllciBDYW1lcmFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtZXJhTmFtZSA9IHRoaXMubV9jYW1lcmFSaWcubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllck9uZVRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZShcIlBsYXllciBDYW1lcmEgMVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPbmVUcmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPbmVUcmFuc2Zvcm0ucGFyZW50ID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJPbmVOYW1lOiBzdHJpbmcgPSBjYW1lcmFOYW1lICsgXCIuMVwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJPbmVDYW1lcmF4OiBCQUJZTE9OLkZyZWVDYW1lcmEgPSB0aGlzLm1fY2FtZXJhUmlnLmNsb25lKHBsYXllck9uZU5hbWUpIGFzIEJBQllMT04uRnJlZUNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5uYW1lID0gcGxheWVyT25lTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5wYXJlbnQgPSBwbGF5ZXJPbmVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIHBsYXllck9uZUNhbWVyYXgucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPbmVDYW1lcmF4LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllck9uZUNhbWVyYXgudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9IHBsYXllck9uZUNhbWVyYXg7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSkudHJhbnNmb3JtID0gcGxheWVyT25lVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5wbGF5ZXJPbmVUcmFuc2Zvcm0pLmNhbWVyYVJpZyA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIC8vfSAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclR3b1RyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZShcIlBsYXllciBDYW1lcmEgMlwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29UcmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29UcmFuc2Zvcm0ucGFyZW50ID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUd29OYW1lOiBzdHJpbmcgPSBjYW1lcmFOYW1lICsgXCIuMlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUd29DYW1lcmF4OiBCQUJZTE9OLkZyZWVDYW1lcmEgPSB0aGlzLm1fY2FtZXJhUmlnLmNsb25lKHBsYXllclR3b05hbWUpIGFzIEJBQllMT04uRnJlZUNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5uYW1lID0gcGxheWVyVHdvTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5wYXJlbnQgPSBwbGF5ZXJUd29UcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclR3b0NhbWVyYXgucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29DYW1lcmF4LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclR3b0NhbWVyYXgudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSA9IHBsYXllclR3b0NhbWVyYXg7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSkudHJhbnNmb3JtID0gcGxheWVyVHdvVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5wbGF5ZXJUd29UcmFuc2Zvcm0pLmNhbWVyYVJpZyA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICAvL2lmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUaHJlZVRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZShcIlBsYXllciBDYW1lcmEgM1wiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlVHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVUcmFuc2Zvcm0ucGFyZW50ID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUaHJlZU5hbWU6IHN0cmluZyA9IGNhbWVyYU5hbWUgKyBcIi4zXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclRocmVlQ2FtZXJheDogQkFCWUxPTi5GcmVlQ2FtZXJhID0gdGhpcy5tX2NhbWVyYVJpZy5jbG9uZShwbGF5ZXJUaHJlZU5hbWUpIGFzIEJBQllMT04uRnJlZUNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4Lm5hbWUgPSBwbGF5ZXJUaHJlZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlQ2FtZXJheC5wYXJlbnQgPSBwbGF5ZXJUaHJlZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlQ2FtZXJheC52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZUNhbWVyYXguc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSA9IHBsYXllclRocmVlQ2FtZXJheDtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSkudHJhbnNmb3JtID0gcGxheWVyVGhyZWVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgICg8YW55PnBsYXllclRocmVlVHJhbnNmb3JtKS5jYW1lcmFSaWcgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICAvL2lmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckZvdXJUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXIgQ2FtZXJhIDRcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJUcmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJUcmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyRm91ck5hbWU6IHN0cmluZyA9IGNhbWVyYU5hbWUgKyBcIi40XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckZvdXJDYW1lcmF4OiBCQUJZTE9OLkZyZWVDYW1lcmEgPSB0aGlzLm1fY2FtZXJhUmlnLmNsb25lKHBsYXllckZvdXJOYW1lKSBhcyBCQUJZTE9OLkZyZWVDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJDYW1lcmF4Lm5hbWUgPSBwbGF5ZXJGb3VyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXgucGFyZW50ID0gcGxheWVyRm91clRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXgucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgPSBwbGF5ZXJGb3VyQ2FtZXJheDtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEpLnRyYW5zZm9ybSA9IHBsYXllckZvdXJUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgICg8YW55PnBsYXllckZvdXJUcmFuc2Zvcm0pLmNhbWVyYVJpZyA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyVmlldyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5TZXRNdWx0aVBsYXllclZpZXdMYXlvdXQodGhpcy5zY2VuZSwgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnN0YXJ0dXBNb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBDYW1lcmEgQXR0YWNoIENvbnRyb2xcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYUNvbnRyb2xsZXIuYXR0YWNoQ29udHJvbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLnBhcmVudCA9IG51bGw7IC8vIERldGFjaCBDYW1lcmEgUGFyZW50IFdoZW4gQXR0YWNoaW5nIENvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcucm90YXRpb25RdWF0ZXJuaW9uID0gKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiAhPSBudWxsKSA/IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpIDogQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbi54LCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbi55LCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW46IEJBQllMT04uTm9kZVtdID0gdGhpcy50cmFuc2Zvcm0uZ2V0Q2hpbGRyZW4obnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogQkFCWUxPTi5Ob2RlKSA9PiB7IGNoaWxkLnBhcmVudCA9IHRoaXMubV9jYW1lcmFSaWc7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnIGluc3RhbmNlb2YgQkFCWUxPTi5GcmVlQ2FtZXJhKSB7IC8vIE5vdGU6IENoZWNrIEJhc2UgQ2xhc3MgRm9yIFVuaXZlcnNhbCBDYW1lcmFcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuY2hlY2tDb2xsaXNpb25zID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLmNoZWNrQ29sbGlzaW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuYXBwbHlHcmF2aXR5ID0gdGhpcy5jYW1lcmFDb250cm9sbGVyLnNldEFwcGx5R3Jhdml0eTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLmF0dGFjaENvbnRyb2wodGhpcy5jYW1lcmFDb250cm9sbGVyLnByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBxdWFsaXR5OiBCQUJZTE9OLlRvb2xraXQuUmVuZGVyUXVhbGl0eSA9IEJBQllMT04uVG9vbGtpdC5SZW5kZXJRdWFsaXR5LkhpZ2g7IC8vIEZJWE1FOiBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFJlbmRlclF1YWxpdHkoKTtcbiAgICAgICAgICAgIGNvbnN0IGFsbG93UHJvY2Vzc2luZzogYm9vbGVhbiA9IChxdWFsaXR5ID09PSBCQUJZTE9OLlRvb2xraXQuUmVuZGVyUXVhbGl0eS5IaWdoKTtcbiAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoYWxsb3dQcm9jZXNzaW5nID09PSB0cnVlICYmIHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcgIT0gbnVsbCAmJiB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnVzZVBvc3RQcm9jZXNzaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnJlbmRlcmluZ1BpcGVsaW5lID0gbmV3IEJBQllMT04uRGVmYXVsdFJlbmRlcmluZ1BpcGVsaW5lKFwiRGVmYXVsdENhbWVyYVN5c3RlbVwiLCB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmhpZ2hEeW5hbWljUmFuZ2UsIHRoaXMuc2NlbmUsIHRoaXMuc2NlbmUuY2FtZXJhcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZS5pc1N1cHBvcnRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0UGlwZWxpbmU6IEJBQllMT04uRGVmYXVsdFJlbmRlcmluZ1BpcGVsaW5lID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLnJlbmRlcmluZ1BpcGVsaW5lO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuc2FtcGxlcyA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuQW50aUFsaWFzaW5nLm1zYWFTYW1wbGVzOyAvLyAxIGJ5IGRlZmF1bHQgKE1TQUEpXG4gICAgICAgICAgICAgICAgICAgIC8qIEltYWdlIFByb2Nlc3NpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZ0VuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnZVByb2Nlc3Npbmc7IC8vdHJ1ZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb250cmFzdCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdlQ29udHJhc3Q7IC8vIDEgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5leHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdlRXhwb3N1cmU7IC8vIDEgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy50b25lTWFwcGluZ0VuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy50b25lTWFwcGluZzsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy50b25lTWFwcGluZ1R5cGUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy50b25lTWFwVHlwZTsgLy8gc3RhbmRhcmQgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy52aWduZXR0ZUVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZUVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy52aWduZXR0ZUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLnZpZ25ldHRlQmxlbmRNb2RlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVCbGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy52aWduZXR0ZUNhbWVyYUZvdiA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlQ2FtZXJhRm92O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVDZW50cmVYID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVDZW50cmVYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVDZW50cmVZID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVDZW50cmVZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVTdHJldGNoID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVTdHJldGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVXZWlnaHQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy52aWduZXR0ZVdlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudmlnbmV0dGVDb2xvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZjb2xvcjogQkFCWUxPTi5Db2xvcjQgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlQ29sb3I0KHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLnZpZ25ldHRlQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmNvbG9yICE9IG51bGwpIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcudmlnbmV0dGVDb2xvciA9IHZjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBDb2xvciBHcmFkaW5nICovXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ0VuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy51c2VDb2xvckdyYWRpbmc7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLRUVQIEZPUiBSRUZFUkVOQ0VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiB1c2luZyAuM2RsIChiZXN0KSA6IGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JHcmFkaW5nVGV4dHVyZSA9IG5ldyBCQUJZTE9OLkNvbG9yR3JhZGluZ1RleHR1cmUoXCJ0ZXh0dXJlcy9MYXRlU3Vuc2V0LjNkbFwiLCB0aGlzLnNjZW5lKTsgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiB1c2luZyAucG5nIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3JHcmFkaW5nVGV4dHVyZSA9IG5ldyBCQUJZTE9OLlRleHR1cmUoXCJ0ZXh0dXJlcy9jb2xvckdyYWRlLWhpZ2hDb250cmFzdC5wbmdcIiwgdGhpcy5zY2VuZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yR3JhZGluZ1RleHR1cmUud3JhcFUgPSBCQUJZTE9OLlRleHR1cmUuQ0xBTVBfQUREUkVTU01PREU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JHcmFkaW5nVGV4dHVyZS53cmFwViA9IEJBQllMT04uVGV4dHVyZS5DTEFNUF9BRERSRVNTTU9ERTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdUZXh0dXJlID0gY29sb3JHcmFkaW5nVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoID0gZmFsc2U7ICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuc2V0R3JhZGluZ1RleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvckdyYWRpbmdUZXh0dXJlOiBCQUJZTE9OLlRleHR1cmUgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVGV4dHVyZSh0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5zZXRHcmFkaW5nVGV4dHVyZSwgdGhpcy5zY2VuZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckdyYWRpbmdUZXh0dXJlLndyYXBVID0gQkFCWUxPTi5UZXh0dXJlLkNMQU1QX0FERFJFU1NNT0RFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckdyYWRpbmdUZXh0dXJlLndyYXBWID0gQkFCWUxPTi5UZXh0dXJlLkNMQU1QX0FERFJFU1NNT0RFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ1RleHR1cmUgPSBjb2xvckdyYWRpbmdUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5kZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nKS5jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIENvbG9yIEN1cnZlcyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckN1cnZlc0VuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuY3VydmVzRW5hYmxlZDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JDdXJ2ZXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlID0gbmV3IEJBQllMT04uQ29sb3JDdXJ2ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5nbG9iYWxEZW5zaXR5ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmdsb2JhbERlbjsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuZ2xvYmFsRXhwb3N1cmUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuZ2xvYmFsRXhwOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5nbG9iYWxIdWUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuZ2xvYmFsSHVlOyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuZ2xvYmFsU2F0dXJhdGlvbiA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5nbG9iYWxTYXQ7IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmhpZ2hsaWdodHNEZW5zaXR5ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmhpZ2hsaWdodHNEZW47IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmhpZ2hsaWdodHNFeHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5oaWdobGlnaHRzRXhwOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5oaWdobGlnaHRzSHVlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmhpZ2hsaWdodHNIdWU7IC8vIDMwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5oaWdobGlnaHRzU2F0dXJhdGlvbiA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5oaWdobGlnaHRzU2F0OyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5taWR0b25lc0RlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMubWlkdG9uZXNEZW47IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLm1pZHRvbmVzRXhwb3N1cmUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMubWlkdG9uZXNFeHA7IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLm1pZHRvbmVzSHVlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLm1pZHRvbmVzSHVlOyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUubWlkdG9uZXNTYXR1cmF0aW9uID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLm1pZHRvbmVzU2F0OyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5zaGFkb3dzRGVuc2l0eSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5zaGFkb3dzRGVuOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5zaGFkb3dzRXhwb3N1cmUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuc2hhZG93c0V4cDsgLy8gODAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5zaGFkb3dzSHVlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLnNoYWRvd3NIdWU7IC8vIDMwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5zaGFkb3dzU2F0dXJhdGlvbiA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5zaGFkb3dzU2F0OyAvLyAwIGJ5IGRlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckN1cnZlcyA9IGN1cnZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIEJsb29tICovXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ibG9vbUVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmJsb29tRWZmZWN0UHJvcGVydGllcy5ibG9vbUVuYWJsZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5ibG9vbUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ibG9vbUtlcm5lbCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuYmxvb21FZmZlY3RQcm9wZXJ0aWVzLmJsb29tS2VybmVsOyAvLyA2NCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuYmxvb21TY2FsZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuYmxvb21FZmZlY3RQcm9wZXJ0aWVzLmJsb29tU2NhbGU7IC8vIDAuNSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuYmxvb21XZWlnaHQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmJsb29tRWZmZWN0UHJvcGVydGllcy5ibG9vbVdlaWdodDsgLy8gMC4xNSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuYmxvb21UaHJlc2hvbGQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmJsb29tRWZmZWN0UHJvcGVydGllcy5ibG9vbVRocmVzaG9sZDsgLy8gMC45IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBDaHJvbWF0aWMgQWJiZXJhdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbkVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24uYWJlcnJhdGlvbkVuYWJsZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmNocm9tYXRpY0FiZXJyYXRpb24uYWJlcnJhdGlvbkFtb3VudCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5hYmVycmF0aW9uQW1vdW50OyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24uYWRhcHRTY2FsZVZpZXdwb3J0OyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5hbHBoYU1vZGUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24uYWxwaGFNb2RlOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmFsd2F5c0ZvcmNlUE9UID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5jaHJvbWF0aWNBYmVycmF0aW9uLmFsd2F5c0ZvcmNlUE9UOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5lbmFibGVQaXhlbFBlcmZlY3RNb2RlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5jaHJvbWF0aWNBYmVycmF0aW9uLnBpeGVsUGVyZmVjdE1vZGU7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5jaHJvbWF0aWNBYmVycmF0aW9uLmZ1bGxzY3JlZW5WaWV3cG9ydDsgLy8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogRE9GICovXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5kZXB0aE9mRmllbGRFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5kZXB0aE9mRmllbGQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5kZXB0aE9mRmllbGRFbmFibGVkICYmIGRlZmF1bHRQaXBlbGluZS5kZXB0aE9mRmllbGQuaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5kZXB0aE9mRmllbGRCbHVyTGV2ZWwgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmZvY2FsRGVwdGhPZkZpZWxkLmJsdXJMZXZlbDsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkLmZTdG9wID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5mb2NhbFN0b3A7IC8vIDEuNCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkLmZvY2FsTGVuZ3RoID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5mb2NhbExlbmd0aDsgLy8gNTAgYnkgZGVmYXVsdCwgbW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5kZXB0aE9mRmllbGQuZm9jdXNEaXN0YW5jZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQuZm9jdXNEaXN0YW5jZTsgLy8gMjAwMCBieSBkZWZhdWx0LCBtbVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5sZW5zU2l6ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQubWF4TGVuc1NpemU7IC8vIDUwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBGWEFBICovXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5meGFhRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuQW50aUFsaWFzaW5nLmZ4YWFFbmFibGVkOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuZnhhYUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5meGFhLnNhbXBsZXMgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlbkFudGlBbGlhc2luZy5meGFhU2FtcGxlczsgLy8gMSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZnhhYS5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlbkFudGlBbGlhc2luZy5meGFhU2NhbGluZzsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIEdsb3dMYXllciAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ2xvd0xheWVyRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ2xvd0xheWVyUHJvcGVydGllcy5nbG93RW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5nbG93TGF5ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ2xvd0xheWVyLmludGVuc2l0eSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ2xvd0xheWVyUHJvcGVydGllcy5nbG93SW50ZW5zaXR5OyAvLyAxIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5nbG93TGF5ZXIuYmx1cktlcm5lbFNpemUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmdsb3dMYXllclByb3BlcnRpZXMuYmx1cktlcm5lbFNpemU7IC8vIDE2IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBHcmFpbiAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ3JhaW5FbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ncmFpbkVmZmVjdFByb3BlcnRpZXMuZ3JhaW5FbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmdyYWluRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdyYWluLmFuaW1hdGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ncmFpbkVmZmVjdFByb3BlcnRpZXMuZ3JhaW5BbmltYXRlZDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdyYWluLmludGVuc2l0eSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ3JhaW5FZmZlY3RQcm9wZXJ0aWVzLmdyYWluSW50ZW5zaXR5OyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ3JhaW4uYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ncmFpbkVmZmVjdFByb3BlcnRpZXMuYWRhcHRTY2FsZVZpZXdwb3J0OyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogU2hhcnBlbiAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuc2hhcnBlbkVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNoYXJwRWZmZWN0UHJvcGVydGllcy5zaGFycGVuRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5zaGFycGVuRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLnNoYXJwZW4uZWRnZUFtb3VudCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2hhcnBFZmZlY3RQcm9wZXJ0aWVzLnNoYXJwRWRnZUFtb3VudDsgLy8gMC4zIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5zaGFycGVuLmNvbG9yQW1vdW50ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zaGFycEVmZmVjdFByb3BlcnRpZXMuc2hhcnBDb2xvckFtb3VudDsgLy8gMSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuc2hhcnBlbi5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNoYXJwRWZmZWN0UHJvcGVydGllcy5hZGFwdFNjYWxlVmlld3BvcnQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkJhYnlsb24uanMgZGVmYXVsdCByZW5kZXJpbmcgcGlwZWxpbmUgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTY3JlZW4gU3BhY2UgQW1iaWVudCBPY2NsdXNpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nICE9IG51bGwgJiYgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy5TU0FPID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNzYW9SYXRpbzogYW55ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Nhb1JhdGlvOiB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nLlNTQU9SYXRpbywgICAgIC8vIFJhdGlvIG9mIHRoZSBTU0FPIHBvc3QtcHJvY2VzcywgaW4gYSBsb3dlciByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iaW5lUmF0aW86IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuU3BhY2VSZW5kZXJpbmcuY29tYmluZVJhdGlvICAgLy8gUmF0aW8gb2YgdGhlIGNvbWJpbmUgcG9zdC1wcm9jZXNzIChjb21iaW5lcyB0aGUgU1NBTyBhbmQgdGhlIHNjZW5lKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uc2NyZWVuU3BhY2VQaXBlbGluZSA9IG5ldyBCQUJZTE9OLlNTQU9SZW5kZXJpbmdQaXBlbGluZShcIkRlZmF1bHRDYW1lcmFTeXN0ZW0tU1NBT1wiLCB0aGlzLnNjZW5lLCBzc2FvUmF0aW8sIHRoaXMuc2NlbmUuY2FtZXJhcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uc2NyZWVuU3BhY2VQaXBlbGluZS5pc1N1cHBvcnRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Nhb1BpcGVsaW5lOiBCQUJZTE9OLlNTQU9SZW5kZXJpbmdQaXBlbGluZSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5zY3JlZW5TcGFjZVBpcGVsaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Nhb1BpcGVsaW5lLmZhbGxPZmYgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nLmZhbGxPZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICBzc2FvUGlwZWxpbmUuYXJlYSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuU3BhY2VSZW5kZXJpbmcuYXJlYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNzYW9QaXBlbGluZS5yYWRpdXMgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nLnJhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNzYW9QaXBlbGluZS50b3RhbFN0cmVuZ3RoID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5TcGFjZVJlbmRlcmluZy50b3RhbFN0cmVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Nhb1BpcGVsaW5lLmJhc2UgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNjcmVlblNwYWNlUmVuZGVyaW5nLmJhc2VWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkJhYnlsb24uanMgU1NBTyByZW5kZXJpbmcgcGlwZWxpbmUgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLmNhbWVyYVJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlQ2FtZXJhU3lzdGVtU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NhbWVyYVJpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMCkgeyAgICAgICAgLy8gRGVmYXVsdCBVbml2ZXJzYWwgQ2FtZXJhXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDEpIHsgLy8gQXVnbWVudGVkIFJlYWxpdHkgQ2FtZXJhXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDIpIHsgLy8gVmlydHVhbCBSZWFsaXR5IENhbWVyYVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAzKSB7IC8vIE11bHRpIFBsYXllciBDYW1lcmFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGNsZWFuQ2FtZXJhU3lzdGVtU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL1BST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveUNhbWVyYVN5c3RlbVN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5pbW1lcnNpdmVPcHRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBVbml2ZXJzYWwgQ2FtZXJhIFZpcnR1YWwgUmVhbGl0eSBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEdldCB0aGUgV2ViWFIgZGVmYXVsdCBleHBlcmllbmNlIGhlbHBlciAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFdlYlhSKCk6IEJBQllMT04uV2ViWFJEZWZhdWx0RXhwZXJpZW5jZSB7IHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyOyB9XG4gICAgICAgIC8qKiBJcyB1bml2ZXJzYWwgY2FtZXJhIHN5c3RlbSBpbiBXZWJYUiBtb2RlICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNJbldlYlhSKCk6IGJvb2xlYW4geyByZXR1cm4gKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIgIT0gbnVsbCAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uWFJFeHBlcmllbmNlSGVscGVyLmJhc2VFeHBlcmllbmNlICE9IG51bGwgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlci5iYXNlRXhwZXJpZW5jZS5zdGF0ZSA9PT0gQkFCWUxPTi5XZWJYUlN0YXRlLklOX1hSKTsgfVxuICAgICAgICAvKiogU2V0dXAgbmF2aWdhdGlvbiBtZXNoIGZvciBXZWJYUiAqL1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBTZXR1cE5hdmlnYXRpb25XZWJYUihtZXNoOiBCQUJZTE9OLk1lc2gsIHRhZzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCB3ZWJ4cjogQkFCWUxPTi5XZWJYUkRlZmF1bHRFeHBlcmllbmNlID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlhSRXhwZXJpZW5jZUhlbHBlcjtcbiAgICAgICAgICAgIGlmICh3ZWJ4ciAhPSBudWxsICYmIHdlYnhyLnRlbGVwb3J0YXRpb24gIT0gbnVsbCAmJiBtZXNoICE9IG51bGwgJiYgdGFnICE9IG51bGwgJiYgdGFnICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXN0YWc6IGJvb2xlYW4gPSBCQUJZTE9OLlRhZ3MuTWF0Y2hlc1F1ZXJ5KG1lc2gsIHRhZyk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc3RhZyA9PT0gdHJ1ZSkgd2VieHIudGVsZXBvcnRhdGlvbi5hZGRGbG9vck1lc2gobWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBTeXN0ZW0gUGxheWVyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogR2V0IG1haW4gY2FtZXJhIHJpZyBmb3IgdGhlIHNjZW5lICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TWFpbkNhbWVyYShzY2VuZTogQkFCWUxPTi5TY2VuZSwgZGV0YWNoOiBib29sZWFuID0gZmFsc2UpOiBCQUJZTE9OLkZyZWVDYW1lcmEge1xuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRQbGF5ZXJDYW1lcmEoc2NlbmUsIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lLCBkZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgdW5pdmVyc2FsIGNhbWVyYSByaWcgZm9yIGRlc2lyZWQgcGxheWVyICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0UGxheWVyQ2FtZXJhKHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSwgZGV0YWNoOiBib29sZWFuID0gZmFsc2UpOiBCQUJZTE9OLkZyZWVDYW1lcmEge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogQkFCWUxPTi5GcmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRDYW1lcmFUcmFuc2Zvcm0oc2NlbmUsIHBsYXllcik7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLklzQ2FtZXJhU3lzdGVtUmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIgPT09IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgIT0gbnVsbCkgcmVzdWx0ID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuVHdvICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgIT0gbnVsbCkgcmVzdWx0ID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuVGhyZWUgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhICE9IG51bGwpIHJlc3VsdCA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuRm91ciAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSAhPSBudWxsKSByZXN1bHQgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwgJiYgZGV0YWNoID09PSB0cnVlICYmIHBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wb3NpdGlvbi5jb3B5RnJvbSh0cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJvdGF0aW9uUXVhdGVybmlvbiA9ICh0cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpID8gdHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpIDogQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlcyh0cmFuc2Zvcm0ucm90YXRpb24ueCwgdHJhbnNmb3JtLnJvdGF0aW9uLnksIHRyYW5zZm9ybS5yb3RhdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuOiBCQUJZTE9OLk5vZGVbXSA9IHRyYW5zZm9ybS5nZXRDaGlsZHJlbihudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IEJBQllMT04uTm9kZSkgPT4geyBjaGlsZC5wYXJlbnQgPSByZXN1bHQ7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IGNhbWVyYSB0cmFuc2Zvcm0gbm9kZSBmb3IgZGVzaXJlZCBwbGF5ZXIgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRDYW1lcmFUcmFuc2Zvcm0oc2NlbmU6IEJBQllMT04uU2NlbmUsIHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLklzQ2FtZXJhU3lzdGVtUmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIgPT09IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgIT0gbnVsbCAmJiAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKS50cmFuc2Zvcm0gIT0gbnVsbCkgcmVzdWx0ID0gKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSkudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllciA9PT0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5Ud28gJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSAhPSBudWxsICYmICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEpLnRyYW5zZm9ybSAhPSBudWxsKSByZXN1bHQgPSAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhKS50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyID09PSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlRocmVlICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSAhPSBudWxsICYmICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSkudHJhbnNmb3JtICE9IG51bGwpIHJlc3VsdCA9ICg8YW55PlBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSkudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllciA9PT0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5Gb3VyICYmIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhICE9IG51bGwgJiYgKDxhbnk+UFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEpLnRyYW5zZm9ybSAhPSBudWxsKSByZXN1bHQgPSAoPGFueT5QUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSkudHJhbnNmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBVbml2ZXJzYWwgQ2FtZXJhIFN5c3RlbSBNdWx0aSBQbGF5ZXIgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBBcmUgc3RlcmVvIHNpZGUgc2lkZSBjYW1lcmEgc2VydmljZXMgYXZhaWxhYmxlLiAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzU3RlcmVvQ2FtZXJhcygpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uc3RlcmVvQ2FtZXJhcztcbiAgICAgICAgfVxuICAgICAgICAvKiogQXJlIGxvY2FsIG11bHRpIHBsYXllciB2aWV3IHNlcnZpY2VzIGF2YWlsYWJsZS4gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc011bHRpUGxheWVyVmlldygpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJWaWV3O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgdGhlIGN1cnJlbnQgbG9jYWwgbXVsdGkgcGxheWVyIGNvdW50ICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0TXVsdGlQbGF5ZXJDb3VudCgpOiBudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNvdW50O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBBY3RpdmF0ZXMgY3VycmVudCBsb2NhbCBtdWx0aSBwbGF5ZXIgY2FtZXJhcy4gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBBY3RpdmF0ZU11bHRpUGxheWVyQ2FtZXJhcyhzY2VuZTogQkFCWUxPTi5TY2VuZSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMgIT0gbnVsbCAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzY2VuZS5hY3RpdmVDYW1lcmFzID0gUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcztcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogRGlzcG9zZXMgY3VycmVudCBsb2NhbCBtdWx0aXBsYXllciBjYW1lcmFzICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRGlzcG9zZU11bHRpUGxheWVyQ2FtZXJhcygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyB0aGUgbXVsdGkgcGxheWVyIGNhbWVyYSB2aWV3IGxheW91dCAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFNldE11bHRpUGxheWVyVmlld0xheW91dChzY2VuZTogQkFCWUxPTi5TY2VuZSwgdG90YWxOdW1QbGF5ZXJzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwbGF5ZXJzOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0b3RhbE51bVBsYXllcnMsIDEsIDQpO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5Jc011bHRpUGxheWVyVmlldygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgIT0gbnVsbCAmJiBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhICE9IG51bGwgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhICE9IG51bGwgJiYgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxheWVycyA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5zdGVyZW9DYW1lcmFzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAuNSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAuNSwgMCwgMC41LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAuNSwgMSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXllcnMgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLjUsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAuNSwgMC41LCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLjUsIDAsIDAuNSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxheWVycyA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAuNSwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAuNSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAuNSwgMC41LCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMC41LCAwLCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiQmFieWxvbi5qcyBjYW1lcmEgcmlnIGludmFsaWQgcGxheWVyIGNvdW50IHNwZWNpZmllZDogXCIgKyBwbGF5ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkJhYnlsb24uanMgY2FtZXJhIHJpZyBmYWlsZWQgdG8gaW5pdGlhbGl6ZSBtdWx0aSBwbGF5ZXIgY2FtZXJhc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ291bnQgPSBwbGF5ZXJzO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5BY3RpdmF0ZU11bHRpUGxheWVyQ2FtZXJhcyhzY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkJhYnlsb24uanMgY2FtZXJhIHJpZyBmYWlsZWQgdG8gaW5pdGlhbGl6ZSBtdWx0aSBwbGF5ZXIgdmlld3NcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkJhYnlsb24uanMgY2FtZXJhIHJpZyBtdWx0aSBwbGF5ZXIgdmlldyBvcHRpb24gbm90IGVuYWJsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLyoqIENhbWVyYSBFZGl0b3IgUHJvcGVydGllcyBTdXBwb3J0IENsYXNzZXMgKi9cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckFyY1J0b3RhdGUge1xuICAgICAgICBhbHBoYTogbnVtYmVyO1xuICAgICAgICBiZXRhOiBudW1iZXI7XG4gICAgICAgIHJhZGl1czogbnVtYmVyO1xuICAgICAgICB0YXJnZXQ6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JQb3N0UHJvY2Vzc2luZyB7XG4gICAgICAgIHVzZVBvc3RQcm9jZXNzaW5nOiBib29sZWFuO1xuICAgICAgICBoaWdoRHluYW1pY1JhbmdlOiBib29sZWFuO1xuICAgICAgICBzY3JlZW5BbnRpQWxpYXNpbmc6IFBST0pFQ1QuSUVkaXRvckFudGlBbGlhc2luZztcbiAgICAgICAgZm9jYWxEZXB0aE9mRmllbGQ6IFBST0pFQ1QuSUVkaXRvckRlcHRoT2ZGaWVsZDtcbiAgICAgICAgY2hyb21hdGljQWJlcnJhdGlvbjogUFJPSkVDVC5JRWRpdG9yQ2hyb21hdGljQWJlcnJhdGlvbjtcbiAgICAgICAgZ2xvd0xheWVyUHJvcGVydGllczogUFJPSkVDVC5JRWRpdG9yR2xvd0xheWVyO1xuICAgICAgICBncmFpbkVmZmVjdFByb3BlcnRpZXM6IFBST0pFQ1QuSUVkaXRvckdyYWluRWZmZWN0O1xuICAgICAgICBzaGFycEVmZmVjdFByb3BlcnRpZXM6IFBST0pFQ1QuSUVkaXRvclNoYXJwZW5FZmZlY3Q7XG4gICAgICAgIGJsb29tRWZmZWN0UHJvcGVydGllczogUFJPSkVDVC5JRWRpdG9yQmxvb21Qcm9jZXNzaW5nO1xuICAgICAgICBpbWFnZVByb2Nlc3NpbmdDb25maWc6IFBST0pFQ1QuSUVkaXRvckltYWdlUHJvY2Vzc2luZztcbiAgICAgICAgc2NyZWVuU3BhY2VSZW5kZXJpbmc6IFBST0pFQ1QuSUVkaXRvclNjcmVlblNwYWNlO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JTY3JlZW5TcGFjZSB7XG4gICAgICAgIFNTQU86IGJvb2xlYW47XG4gICAgICAgIFNTQU9SYXRpbzogbnVtYmVyO1xuICAgICAgICBjb21iaW5lUmF0aW86IG51bWJlcjtcbiAgICAgICAgdG90YWxTdHJlbmd0aDogbnVtYmVyO1xuICAgICAgICByYWRpdXM6IG51bWJlcjtcbiAgICAgICAgYXJlYTogbnVtYmVyO1xuICAgICAgICBmYWxsT2ZmOiBudW1iZXI7XG4gICAgICAgIGJhc2VWYWx1ZTogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JBbnRpQWxpYXNpbmcge1xuICAgICAgICBtc2FhU2FtcGxlczogbnVtYmVyO1xuICAgICAgICBmeGFhRW5hYmxlZDogYm9vbGVhbjtcbiAgICAgICAgZnhhYVNjYWxpbmc6IGJvb2xlYW47XG4gICAgICAgIGZ4YWFTYW1wbGVzOiBudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckRlcHRoT2ZGaWVsZCB7XG4gICAgICAgIGRlcHRoT2ZGaWVsZDogYm9vbGVhbjtcbiAgICAgICAgYmx1ckxldmVsOiBudW1iZXI7XG4gICAgICAgIGZvY2FsU3RvcDogbnVtYmVyO1xuICAgICAgICBmb2NhbExlbmd0aDogbnVtYmVyO1xuICAgICAgICBmb2N1c0Rpc3RhbmNlOiBudW1iZXI7XG4gICAgICAgIG1heExlbnNTaXplOiBudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckNocm9tYXRpY0FiZXJyYXRpb24ge1xuICAgICAgICBhYmVycmF0aW9uRW5hYmxlZDogYm9vbGVhbjtcbiAgICAgICAgYWJlcnJhdGlvbkFtb3VudDogbnVtYmVyO1xuICAgICAgICBhZGFwdFNjYWxlVmlld3BvcnQ6IGJvb2xlYW47XG4gICAgICAgIGFscGhhTW9kZTogbnVtYmVyO1xuICAgICAgICBhbHdheXNGb3JjZVBPVDogYm9vbGVhbjtcbiAgICAgICAgcGl4ZWxQZXJmZWN0TW9kZTogYm9vbGVhbjtcbiAgICAgICAgZnVsbHNjcmVlblZpZXdwb3J0OiBib29sZWFuO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JHbG93TGF5ZXIge1xuICAgICAgICBnbG93RW5hYmxlZDogYm9vbGVhbjtcbiAgICAgICAgZ2xvd0ludGVuc2l0eTogbnVtYmVyO1xuICAgICAgICBibHVyS2VybmVsU2l6ZTogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JHcmFpbkVmZmVjdCB7XG4gICAgICAgIGdyYWluRW5hYmxlZDogYm9vbGVhbjtcbiAgICAgICAgZ3JhaW5BbmltYXRlZDogYm9vbGVhbjtcbiAgICAgICAgZ3JhaW5JbnRlbnNpdHk6IG51bWJlcjtcbiAgICAgICAgYWRhcHRTY2FsZVZpZXdwb3J0OiBib29sZWFuO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JTaGFycGVuRWZmZWN0IHtcbiAgICAgICAgc2hhcnBlbkVuYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIHNoYXJwRWRnZUFtb3VudDogbnVtYmVyO1xuICAgICAgICBzaGFycENvbG9yQW1vdW50OiBudW1iZXI7XG4gICAgICAgIGFkYXB0U2NhbGVWaWV3cG9ydDogYm9vbGVhbjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yQmxvb21Qcm9jZXNzaW5nIHtcbiAgICAgICAgYmxvb21FbmFibGVkOiBib29sZWFuO1xuICAgICAgICBibG9vbUtlcm5lbDogbnVtYmVyO1xuICAgICAgICBibG9vbVNjYWxlOiBudW1iZXI7XG4gICAgICAgIGJsb29tV2VpZ2h0OiBudW1iZXI7XG4gICAgICAgIGJsb29tVGhyZXNob2xkOiBudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckNvbG9yQ3VydmVzIHtcbiAgICAgICAgY3VydmVzRW5hYmxlZDogYm9vbGVhbjtcbiAgICAgICAgZ2xvYmFsRGVuOiBudW1iZXI7XG4gICAgICAgIGdsb2JhbEV4cDogbnVtYmVyO1xuICAgICAgICBnbG9iYWxIdWU6IG51bWJlcjtcbiAgICAgICAgZ2xvYmFsU2F0OiBudW1iZXI7XG4gICAgICAgIGhpZ2hsaWdodHNEZW46IG51bWJlcjtcbiAgICAgICAgaGlnaGxpZ2h0c0V4cDogbnVtYmVyO1xuICAgICAgICBoaWdobGlnaHRzSHVlOiBudW1iZXI7XG4gICAgICAgIGhpZ2hsaWdodHNTYXQ6IG51bWJlcjtcbiAgICAgICAgbWlkdG9uZXNEZW46IG51bWJlcjtcbiAgICAgICAgbWlkdG9uZXNFeHA6IG51bWJlcjtcbiAgICAgICAgbWlkdG9uZXNIdWU6IG51bWJlcjtcbiAgICAgICAgbWlkdG9uZXNTYXQ6IG51bWJlcjtcbiAgICAgICAgc2hhZG93c0RlbjogbnVtYmVyO1xuICAgICAgICBzaGFkb3dzRXhwOiBudW1iZXI7XG4gICAgICAgIHNoYWRvd3NIdWU6IG51bWJlcjtcbiAgICAgICAgc2hhZG93c1NhdDogbnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JJbWFnZVByb2Nlc3Npbmcge1xuICAgICAgICBpbWFnZVByb2Nlc3Npbmc6IGJvb2xlYW47XG4gICAgICAgIGltYWdlQ29udHJhc3Q6IG51bWJlcjtcbiAgICAgICAgaW1hZ2VFeHBvc3VyZTogbnVtYmVyO1xuICAgICAgICB0b25lTWFwcGluZzogYm9vbGVhbjtcbiAgICAgICAgdG9uZU1hcFR5cGU6IG51bWJlcjtcbiAgICAgICAgdmlnbmV0dGVFbmFibGVkOiBib29sZWFuO1xuICAgICAgICB2aWduZXR0ZUJsZW5kTW9kZTogbnVtYmVyO1xuICAgICAgICB2aWduZXR0ZUNhbWVyYUZvdjogbnVtYmVyO1xuICAgICAgICB2aWduZXR0ZVN0cmV0Y2g6IG51bWJlcjtcbiAgICAgICAgdmlnbmV0dGVDZW50cmVYOiBudW1iZXI7XG4gICAgICAgIHZpZ25ldHRlQ2VudHJlWTogbnVtYmVyO1xuICAgICAgICB2aWduZXR0ZVdlaWdodDogbnVtYmVyO1xuICAgICAgICB2aWduZXR0ZUNvbG9yOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5Q29sb3I7XG4gICAgICAgIHVzZUNvbG9yR3JhZGluZzogYm9vbGVhbjtcbiAgICAgICAgc2V0R3JhZGluZ1RleHR1cmU6IGFueTtcbiAgICAgICAgaW1hZ2luZ0NvbG9yQ3VydmVzOiBQUk9KRUNULklFZGl0b3JDb2xvckN1cnZlcztcbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICAqIEBjbGFzcyBEZWJ1Z0luZm9ybWF0aW9uXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIERlYnVnSW5mb3JtYXRpb24gZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBrZXlzOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBzaG93OiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBwb3B1cDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHZpZXdzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgeGJveDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IEJBQllMT04uQ29sb3IzLkdyZWVuKCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5rZXlzID0gdGhpcy5nZXRQcm9wZXJ0eShcImVuYWJsZURlYnVnS2V5c1wiLCB0aGlzLmtleXMpO1xuICAgICAgICAgICAgdGhpcy5zaG93ID0gdGhpcy5nZXRQcm9wZXJ0eShcInNob3dEZWJ1Z0xhYmVsc1wiLCB0aGlzLnNob3cpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb3B1cERlYnVnUGFuZWxcIiwgdGhpcy5wb3B1cCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdzID0gdGhpcy5nZXRQcm9wZXJ0eShcInRvZ2dsZVBsYXllclZpZXdzXCIsIHRoaXMudmlld3MpO1xuICAgICAgICAgICAgdGhpcy54Ym94ID0gdGhpcy5nZXRQcm9wZXJ0eShcImFsbG93WGJveExpdmVTaWduSW5cIiwgdGhpcy54Ym94KTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBkZWJ1Z0xhYmVsQ29sb3I6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkZWJ1Z091dHB1dFRleHRDb2xvclwiKTtcbiAgICAgICAgICAgIGlmIChkZWJ1Z0xhYmVsQ29sb3IgIT0gbnVsbCkgdGhpcy5jb2xvciA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VDb2xvcjMoZGVidWdMYWJlbENvbG9yKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHRoaXMucG9wdXAgPSBmYWxzZTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShcIkRlYnVnIGluZm9ybWF0aW9uIG92ZXJsYXkgbG9hZGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGZ1bmN0aW9uIG9wZW5GdWxsc2NyZWVuKCkge1xuICAgICAgICAgICAgaWYgKGVsZW0ucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW0ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHsgLy8gU2FmYXJpXG4gICAgICAgICAgICAgICAgZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHsgLy8gSUUxMVxuICAgICAgICAgICAgICAgIGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlRnVsbHNjcmVlbigpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7IC8vIFNhZmFyaVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHsgLy8gSUUxMVxuICAgICAgICAgICAgICAgIGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAqL1xuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vdGhpcy5zY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcmVlblwiKTtcbiAgICAgICAgICAgIC8vdGhpcy50b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZVwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5zaWduaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNpZ25pblwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5yZWxvYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbG9hZFwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5tb3VzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW91c2VcIik7XG4gICAgICAgICAgICAvL3RoaXMuZGVidWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuSXNYYm94T25lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjcmVlbikgdGhpcy5zY3JlZW4uaW5uZXJIVE1MID0gXCJGIC0gU2hvdyBGdWxsIFNjcmVlblwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLkNhbWVyYVN5c3RlbS5Jc011bHRpUGxheWVyVmlldygpICYmIHRoaXMudmlld3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvZ2dsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLklzWGJveE9uZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlLnN0eWxlLnRvcCA9IFwiMjlweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZS5pbm5lckhUTUwgPSBcIjEgLSA0IFRvZ2dsZSBQbGF5ZXIgVmlld1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLklzWGJveExpdmVQbHVnaW5FbmFibGVkKCkgJiYgdGhpcy54Ym94ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaWduaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Jc1hib3hPbmUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZ25pbi5zdHlsZS50b3AgPSBcIjQ5cHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduaW4uaW5uZXJIVE1MID0gXCJYIC0gWGJveCBMaXZlIFNpZ24gSW5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb3VzZSkgdGhpcy5tb3VzZS5pbm5lckhUTUwgPSAoQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Jc1hib3hPbmUoKSkgPyBcIk0gLSBNb3VzZVwiIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVsb2FkKSB0aGlzLnJlbG9hZC5pbm5lckhUTUwgPSBcIlIgLSBSZWxvYWRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHRoaXMuZGVidWcuaW5uZXJIVE1MID0gXCJQIC0gRGVidWdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmtleXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoXCJFbmFibGUgTXVsdGlwbGF5ZXIgS2V5c1wiKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5OdW0xLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0TXVsdGlQbGF5ZXJWaWV3TGF5b3V0KHRoaXMuc2NlbmUsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dNZXNzYWdlKFwiMSBwbGF5ZXIgcHJlc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuTnVtMiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5EZWZhdWx0Q2FtZXJhU3lzdGVtLlNldE11bHRpUGxheWVyVmlld0xheW91dCh0aGlzLnNjZW5lLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShcIjIgcGxheWVycyBwcmVzc2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5OdW0zLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uU2V0TXVsdGlQbGF5ZXJWaWV3TGF5b3V0KHRoaXMuc2NlbmUsIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dNZXNzYWdlKFwiMyBwbGF5ZXJzIHByZXNzZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5Lk51bTQsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5TZXRNdWx0aVBsYXllclZpZXdMYXlvdXQodGhpcy5zY2VuZSwgNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ01lc3NhZ2UoXCI0IHBsYXllcnMgcHJlc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuUiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5JLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvcHVwID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Qb3B1cERlYnVnKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuVG9nZ2xlRGVidWcodGhpcy5zY2VuZSwgdHJ1ZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LkYsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy9CQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlRvZ2dsZUZ1bGxzY3JlZW5Nb2RlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5GdWxsc2NyZWVuKHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuSXNYYm94T25lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5nYW1lcGFkSW5wdXRFbXVsYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuT25LZXlib2FyZFByZXNzKEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuTSwgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLmdhbWVwYWRJbnB1dEVtdWxhdGlvbiAhPT0gXCJtb3VzZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nYW1lcGFkSW5wdXRFbXVsYXRpb24gPSBcIm1vdXNlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdhbWVwYWRJbnB1dEVtdWxhdGlvbiA9IFwiZ2FtZXBhZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3MoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5GLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9CQUJZTE9OLlRvb2xzLlJlcXVlc3RGdWxsc2NyZWVuKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldEVuZ2luZSgpLmVudGVyRnVsbHNjcmVlbih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5Jc1hib3hMaXZlUGx1Z2luRW5hYmxlZCgpICYmIHRoaXMueGJveCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uS2V5Ym9hcmRQcmVzcyhCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlgsICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWVyOkJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUJBQllMT04uV2luZG93c1BsYXRmb3JtLklzWGJveExpdmVVc2VyU2lnbmVkSW4obnVsbCwgcGxheWVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShcIj09PT4gVHJ5aW5nIFhib3ggTGl2ZSBTaWduIEluIEZvciBQbGF5ZXI6IFwiICsgcGxheWVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uV2luZG93c1BsYXRmb3JtLlhib3hMaXZlVXNlclNpZ25JbihwbGF5ZXIsIChyZXN1bHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5TaWduSW5SZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5HZXRYYm94TGl2ZVVzZXIocGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IFwiKFwiICsgdXNlci54Ym94VXNlcklkICsgXCIpIC0gXCIgKyB1c2VyLmdhbWVydGFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkFsZXJ0TWVzc2FnZShtc2csIFwiWGJveCBMaXZlIFVzZXIgU2lnbmVkIEluXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnIpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nTWVzc2FnZShlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNnOnN0cmluZyA9IFwiRW5jb3VudGVyZWQgU2lnbiBFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5BbGVydE1lc3NhZ2UobXNnLCBcIlhib3ggTGl2ZSBXYXJuaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJYYm94IExpdmUgVXNlciBBbHJlYWR5IFNpZ25lZCBJblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkFsZXJ0TWVzc2FnZShcIlVzZXIgQWxyZWFkeSBTaWduZWQgSW5cIiwgXCJYYm94IExpdmUgV2FybmluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEZWZhdWx0IFByaW50IFRvIFNjcmVlbiBUZXh0XG4gICAgICAgICAgICB2YXIgcHJpbnRDb2xvcjogc3RyaW5nID0gdGhpcy5jb2xvci50b0hleFN0cmluZygpO1xuICAgICAgICAgICAgdmFyIGdyYXBoaWNzVmVyc2lvbjogc3RyaW5nID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRFbmdpbmVWZXJzaW9uU3RyaW5nKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuUHJpbnRUb1NjcmVlbihncmFwaGljc1ZlcnNpb24sIHByaW50Q29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICAvL3RoaXMuc2NyZWVuID0gbnVsbDtcbiAgICAgICAgICAgIC8vdGhpcy50b2dnbGUgPSBudWxsO1xuICAgICAgICAgICAgLy90aGlzLnNpZ25pbiA9IG51bGw7XG4gICAgICAgICAgICAvL3RoaXMucmVsb2FkID0gbnVsbDtcbiAgICAgICAgICAgIC8vdGhpcy5tb3VzZSA9IG51bGw7XG4gICAgICAgICAgICAvL3RoaXMuZGVidWcgPSBudWxsO1xuICAgICAgICB9XG5cblxuICAgICAgICBwcm90ZWN0ZWQgb3BlbkZ1bGxzY3JlZW4oZWxlbTogYW55KTogdm9pZCB7XG4gICAgICAgICAgICAvL2lmIChlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAvLyAgICBlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAvL30gZWxzZSBpZiAoZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikgeyAvLyBTYWZhcmlcbiAgICAgICAgICAgIC8vICAgIGVsZW0ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIC8vfSBlbHNlIGlmIChlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHsgLy8gSUUxMVxuICAgICAgICAgICAgLy8gICAgZWxlbS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAvL31cbiAgICAgICAgICAgIERlYnVnSW5mb3JtYXRpb24uX1JlcXVlc3RGdWxsc2NyZWVuKGVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBjbG9zZUZ1bGxzY3JlZW4oKTogdm9pZCB7XG4gICAgICAgICAgICAvL2lmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgLy8gICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIC8vfSBlbHNlIGlmICgoPGFueT5kb2N1bWVudCkud2Via2l0RXhpdEZ1bGxzY3JlZW4pIHsgLy8gU2FmYXJpXG4gICAgICAgICAgICAvLyAgICAoPGFueT5kb2N1bWVudCkud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIC8vfSBlbHNlIGlmICgoPGFueT5kb2N1bWVudCkubXNFeGl0RnVsbHNjcmVlbikgeyAvLyBJRTExXG4gICAgICAgICAgICAvLyAgICAoPGFueT5kb2N1bWVudCkubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICBEZWJ1Z0luZm9ybWF0aW9uLl9FeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc2sgdGhlIGJyb3dzZXIgdG8gcHJvbW90ZSB0aGUgY3VycmVudCBlbGVtZW50IHRvIGZ1bGxzY3JlZW4gcmVuZGVyaW5nIG1vZGVcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgZGVmaW5lcyB0aGUgRE9NIGVsZW1lbnQgdG8gcHJvbW90ZVxuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIF9SZXF1ZXN0RnVsbHNjcmVlbihlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdEZ1bmN0aW9uID0gZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbiB8fCAoPGFueT5lbGVtZW50KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbjtcbiAgICAgICAgICAgIGlmICghcmVxdWVzdEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdEZ1bmN0aW9uLmNhbGwoZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQXNrcyB0aGUgYnJvd3NlciB0byBleGl0IGZ1bGxzY3JlZW4gbW9kZVxuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIF9FeGl0RnVsbHNjcmVlbigpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGFueURvYyA9IGRvY3VtZW50IGFzIGFueTtcblxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW55RG9jLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBhbnlEb2Mud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQ3VzdG9tSHRtbE1hcmt1cFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbUh0bWxNYXJrdXAgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBzdHlsZVNoZWV0OiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGh0bWxNYXJrdXA6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcGFyZW50RWxlbWVudDogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHJpdmF0ZSB1aVBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnROYW1lOiBzdHJpbmcgPSAodGhpcy5wYXJlbnRFbGVtZW50ICE9IG51bGwgJiYgdGhpcy5wYXJlbnRFbGVtZW50ICE9PSBcIlwiICYmIHRoaXMucGFyZW50RWxlbWVudC50b0xvd2VyQ2FzZSgpICE9PSBcImJvZHlcIikgPyB0aGlzLnBhcmVudEVsZW1lbnQgOiB0aGlzLnRyYW5zZm9ybS5uYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZUFsbChcIiBcIiwgXCItXCIpO1xuICAgICAgICAgICAgY29uc3Qgcm9vdEVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50TmFtZSk7XG4gICAgICAgICAgICBpZiAocm9vdEVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWlQYXJlbnRFbGVtZW50ID0gcm9vdEVsZW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudWlQYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpUGFyZW50RWxlbWVudC5pZCA9IHBhcmVudE5hbWU7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnVpUGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmxvYWRTdHlsZVNoZWV0KCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRIdG1sTWFya3VwKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIERlc3Ryb3kgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZFN0eWxlU2hlZXQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZVNoZWV0ICE9IG51bGwgJiYgdGhpcy5zdHlsZVNoZWV0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGU6IEhUTUxTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgICAgICAgICAgc3R5bGUuaWQgPSAodGhpcy50cmFuc2Zvcm0ubmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2VBbGwoXCIgXCIsIFwiLVwiKSArIFwiLnN0eWxlc2hlZXRcIik7XG4gICAgICAgICAgICAgICAgc3R5bGUudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICAgICAgICAgICAgICBpZiAoKHN0eWxlIGFzIGFueSkuc3R5bGVTaGVldCkgeyAvLyBOb3RlOiBJbnRlcm5ldCBFeHBsb3JlciBTdXBwb3J0XG4gICAgICAgICAgICAgICAgICAgIChzdHlsZSBhcyBhbnkpLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHRoaXMuc3R5bGVTaGVldDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnN0eWxlU2hlZXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIldBUk5JTkc6IE1vYmlsZSBTdHlsZSBTaGVldCBOb3QgRGVmaW5lZCBGb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEh0bWxNYXJrdXAoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5odG1sTWFya3VwICE9IG51bGwgJiYgdGhpcy5odG1sTWFya3VwICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aVBhcmVudEVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5odG1sTWFya3VwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBNb2JpbGUgTWFya3VwIEZpbGUgTm90IERlZmluZWQgRm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFVzZXJJbnRlcmZhY2VcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBVc2VySW50ZXJmYWNlIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNDYW52YXNSZWFkeSgpOiBib29sZWFuIHsgcmV0dXJuIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlICE9IG51bGwpOyB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0Q2FudmFzRWxlbWVudChuYW1lOiBzdHJpbmcpOiBCQUJZTE9OLkdVSS5Db250cm9sIHsgcmV0dXJuIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlICE9IG51bGwpID8gUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5nZXRDb250cm9sQnlOYW1lKG5hbWUpIDogbnVsbDsgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIFNob3dDYW52YXNFbGVtZW50KGVsZW1lbnQ6IEJBQllMT04uR1VJLkNvbnRyb2wsIGZhZGVTcGVlZFJhdGlvOiBudW1iZXIgPSAwLjAsIG9uQW5pbWF0aW9uQ29tcGxldGU6ICgpID0+IHZvaWQgPSBudWxsKTogQkFCWUxPTi5BbmltYXRhYmxlIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IEJBQllMT04uQW5pbWF0YWJsZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZhZGVTcGVlZFJhdGlvID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYVN0YXJ0OiBudW1iZXIgPSBlbGVtZW50LmFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYUVuZDogbnVtYmVyID0gMS4wO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hbHBoYSA9IGFscGhhRW5kO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25BbmltYXRpb25Db21wbGV0ZSAhPSBudWxsKSBvbkFuaW1hdGlvbkNvbXBsZXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9yZXN1bHQgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlN0YXJ0VHdlZW5BbmltYXRpb24oUFJPSkVDVC5Vc2VySW50ZXJmYWNlLlNjZW5lQ29udHJvbGxlciwgKGVsZW1lbnQubmFtZSArIFwiLVNob3dBbHBoYVR3ZWVuXCIpLCBlbGVtZW50LCBcImFscGhhXCIsIGFscGhhU3RhcnQsIGFscGhhRW5kLCBmYWRlU3BlZWRSYXRpbywgbnVsbCwgbnVsbCwgbnVsbCwgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgZWxlbWVudC5pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICBpZiAob25BbmltYXRpb25Db21wbGV0ZSAhPSBudWxsKSBvbkFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vfSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlzRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWxwaGEgPSAxLjA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEhpZGVDYW52YXNFbGVtZW50KGVsZW1lbnQ6IEJBQllMT04uR1VJLkNvbnRyb2wsIGZhZGVTcGVlZFJhdGlvOiBudW1iZXIgPSAwLjAsIG9uQW5pbWF0aW9uQ29tcGxldGU6ICgpID0+IHZvaWQgPSBudWxsKTogQkFCWUxPTi5BbmltYXRhYmxlIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IEJBQllMT04uQW5pbWF0YWJsZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZhZGVTcGVlZFJhdGlvID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYVN0YXJ0OiBudW1iZXIgPSBlbGVtZW50LmFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYUVuZDogbnVtYmVyID0gMC4wO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaXNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWxwaGEgPSBhbHBoYUVuZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uQW5pbWF0aW9uQ29tcGxldGUgIT0gbnVsbCkgb25BbmltYXRpb25Db21wbGV0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vcmVzdWx0ID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5TdGFydFR3ZWVuQW5pbWF0aW9uKFBST0pFQ1QuVXNlckludGVyZmFjZS5TY2VuZUNvbnRyb2xsZXIsIChlbGVtZW50Lm5hbWUgKyBcIi1IaWRlQWxwaGFUd2VlblwiKSwgZWxlbWVudCwgXCJhbHBoYVwiLCBhbHBoYVN0YXJ0LCBhbHBoYUVuZCwgZmFkZVNwZWVkUmF0aW8sIG51bGwsIG51bGwsIG51bGwsICgpPT57XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGlmIChvbkFuaW1hdGlvbkNvbXBsZXRlICE9IG51bGwpIG9uQW5pbWF0aW9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy99KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaXNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWxwaGEgPSAwLjA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIFNldFNjZW5lQ29udHJvbGxlcihzY2VuZTogQkFCWUxPTi5TY2VuZSk6IHZvaWQgeyBQUk9KRUNULlVzZXJJbnRlcmZhY2UuU2NlbmVDb250cm9sbGVyID0gc2NlbmU7IH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRBZHZhbmNlZFRleHR1cmUoKTogQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZSB7IHJldHVybiBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlOyB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0QmFja2dyb3VuZFRleHR1cmUoKTogQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZSB7IHJldHVybiBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmU7IH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBPbkZvbnRGYWNlc1JlYWR5ID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxhbnk+KCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT25Gb250RmFjZXNMb2FkZWQgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPGFueT4oKTtcbiAgICAgICAgcHVibGljIHN0YXRpYyBPblBhcnNlTm9kZU9iamVjdCA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8YW55PigpO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE9uSW50ZXJmYWNlTG9hZGVkID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLkdVSS5BZHZhbmNlZER5bmFtaWNUZXh0dXJlPigpO1xuXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFNjZW5lQ29udHJvbGxlcjogQkFCWUxPTi5TY2VuZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEFkdmFuY2VkVGV4dHVyZTogQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEJhY2tncm91bmRUZXh0dXJlOiBCQUJZTE9OLkdVSS5BZHZhbmNlZER5bmFtaWNUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgRm9udEZhY2VzQXR0YWNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgRm9udEZhY2VzUHJlbG9hZGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZXhwb3J0TG93ZXJDYXNlOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgYmFja2dyb3VuZERhdGE6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdGV4dHVyZVNhbXBsZU1vZGU6IG51bWJlciA9IDI7XG4gICAgICAgIHByaXZhdGUgaWRlYWxSZW5kZXJpbmdTaXplOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHZpZXdwb3J0UmVuZGVyU2l6ZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjdXN0b21WaWV3cG9ydFNpemU6IEJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMTkyMCwgMTA4MCk7XG4gICAgICAgIHByaXZhdGUgZGVmYXVsdEltYWdlTG9jYXRpb246IHN0cmluZyA9IFwic2NlbmVzL2Fzc2V0cy9cIjtcbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0SW1hZ2VDb250cm9sOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBpc01hbmFnZWRUZXh0dXJlOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBzY2FsZVRleHR1cmVTaXplOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBzZXRBZGFwdGl2ZVNjYWxlOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBkcmF3QXRJZGVhbFNpemU6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIHVzZVNtYWxsZXN0SWRlYWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBmb250RmFtaWx5TGlzdDogc3RyaW5nW10gPSBudWxsO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllcz86IGFueSkge1xuICAgICAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBzY2VuZSwgcHJvcGVydGllcyk7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuU2V0U2NlbmVDb250cm9sbGVyKHNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoV2ViRm9udHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgICB0aGlzLnByZWxvYWRXZWJGb250cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5zZXR1cEludGVyZmFjZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNSZWFkeS5jbGVhcigpO1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzUmVhZHkgPSBudWxsO1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzTG9hZGVkLmNsZWFyKCk7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNMb2FkZWQgPSBudWxsO1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uUGFyc2VOb2RlT2JqZWN0LmNsZWFyKCk7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25QYXJzZU5vZGVPYmplY3QgPSBudWxsO1xuICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uSW50ZXJmYWNlTG9hZGVkLmNsZWFyKCk7XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25JbnRlcmZhY2VMb2FkZWQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNNYW5hZ2VkVGV4dHVyZSA9PT0gZmFsc2UgJiYgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGVuZ2luZVJlc2l6ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0RW5naW5lKCkucmVzaXplKHRydWUpOyAvLyBOb3RlOiBGb3JjZSBJbml0aWFsIFJlc2l6ZSBDb250ZW50XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0dXBQcm9wZXJ0aWVzKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gIT0gbnVsbCAmJiB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbiA9IHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24udHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gIT0gbnVsbCAmJiB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uICE9PSBcIlwiICYmIHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24uZW5kc1dpdGgoXCIvXCIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gPSAodGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbiArIFwiL1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbVZpZXdwb3J0U2l6ZS54IDw9IDApIHRoaXMuY3VzdG9tVmlld3BvcnRTaXplLnggPSAxOTIwO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tVmlld3BvcnRTaXplLnkgPD0gMCkgdGhpcy5jdXN0b21WaWV3cG9ydFNpemUueSA9IDEwODA7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0dXBJbnRlcmZhY2UoKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgaW50ZXJmYWNlUGFyc2VkOiBhbnkgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGJhY2tncm91bmRQYXJzZWQ6IGFueSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBpbnRlcmZhY2VUZXh0OiBzdHJpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiYmFzZTY0VXNlckludGVyZmFjZVwiKTtcbiAgICAgICAgICAgIGlmIChpbnRlcmZhY2VUZXh0ICE9IG51bGwgJiYgaW50ZXJmYWNlVGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyZmFjZUpzb246IHN0cmluZyA9IHdpbmRvdy5hdG9iKGludGVyZmFjZVRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmZhY2VKc29uICE9IG51bGwgJiYgaW50ZXJmYWNlSnNvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmZhY2VQYXJzZWQgPSBKU09OLnBhcnNlKGludGVyZmFjZUpzb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJmYWNlUGFyc2VkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmZhY2VQYXJzZWQucm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZU5vZGVPYmplY3QoaW50ZXJmYWNlUGFyc2VkLnJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoOiBudW1iZXIgPSAodGhpcy52aWV3cG9ydFJlbmRlclNpemUgPT09IDAgJiYgaW50ZXJmYWNlUGFyc2VkLndpZHRoICE9PSBudWxsICYmIGludGVyZmFjZVBhcnNlZC53aWR0aCA+PSAwKSA/IGludGVyZmFjZVBhcnNlZC53aWR0aCA6IHRoaXMuY3VzdG9tVmlld3BvcnRTaXplLng7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0OiBudW1iZXIgPSAodGhpcy52aWV3cG9ydFJlbmRlclNpemUgPT09IDAgJiYgaW50ZXJmYWNlUGFyc2VkLmhlaWdodCAhPT0gbnVsbCAmJiBpbnRlcmZhY2VQYXJzZWQuaGVpZ2h0ID49IDApID8gaW50ZXJmYWNlUGFyc2VkLmhlaWdodCA6IHRoaXMuY3VzdG9tVmlld3BvcnRTaXplLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3cG9ydFJlbmRlclNpemUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMuc2NlbmUuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyaW5nQ2FudmFzKCkud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5zY2VuZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJpbmdDYW52YXMoKS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWR2YW5jZWQgVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTWFuYWdlZFRleHR1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+QkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlcikuQWR2RHluYW1pY1RleHR1cmUgPT0gbnVsbCkgKDxhbnk+QkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlcikuQWR2RHluYW1pY1RleHR1cmUgPSBCQUJZTE9OLkdVSS5BZHZhbmNlZER5bmFtaWNUZXh0dXJlLkNyZWF0ZUZ1bGxzY3JlZW5VSShcIkRlZmF1bHQtU2NyZWVuLVVJXCIsIHRydWUsIHRoaXMuc2NlbmUsIHRoaXMudGV4dHVyZVNhbXBsZU1vZGUsIHRoaXMuc2V0QWRhcHRpdmVTY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZSA9ICg8YW55PkJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIpLkFkdkR5bmFtaWNUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlID0gQkFCWUxPTi5HVUkuQWR2YW5jZWREeW5hbWljVGV4dHVyZS5DcmVhdGVGdWxsc2NyZWVuVUkoXCJHVUlcIiwgdHJ1ZSwgdGhpcy5zY2VuZSwgdGhpcy50ZXh0dXJlU2FtcGxlTW9kZSwgdGhpcy5zZXRBZGFwdGl2ZVNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pZGVhbFJlbmRlcmluZ1NpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkZWFsUmVuZGVyaW5nU2l6ZSA9PT0gMSB8fCB0aGlzLmlkZWFsUmVuZGVyaW5nU2l6ZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5pZGVhbFdpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaWRlYWxSZW5kZXJpbmdTaXplID09PSAyIHx8IHRoaXMuaWRlYWxSZW5kZXJpbmdTaXplID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLmlkZWFsSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkZWFsUmVuZGVyaW5nU2l6ZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS51c2VTbWFsbGVzdElkZWFsID0gdGhpcy51c2VTbWFsbGVzdElkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucmVuZGVyQXRJZGVhbFNpemUgPSB0aGlzLmRyYXdBdElkZWFsU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnVzZVNtYWxsZXN0SWRlYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5yZW5kZXJBdElkZWFsU2l6ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zY2FsZVRleHR1cmVTaXplID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUucGFyc2VTZXJpYWxpemVkT2JqZWN0KGludGVyZmFjZVBhcnNlZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnNjYWxlVG8od2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5wYXJzZVNlcmlhbGl6ZWRPYmplY3QoaW50ZXJmYWNlUGFyc2VkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJhY2tncm91bmQgVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmREYXRhICE9IG51bGwgJiYgdGhpcy5iYWNrZ3JvdW5kRGF0YS5jcmVhdGVCYWNrZ3JvdW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZFRleHQ6IHN0cmluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJiYXNlNjRCYWNrZ3JvdW5kRGF0YVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZFRleHQgIT0gbnVsbCAmJiBiYWNrZ3JvdW5kVGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kSnNvbjogc3RyaW5nID0gd2luZG93LmF0b2IoYmFja2dyb3VuZFRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZEpzb24gIT0gbnVsbCAmJiBiYWNrZ3JvdW5kSnNvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBhcnNlZCA9IEpTT04ucGFyc2UoYmFja2dyb3VuZEpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmRQYXJzZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kUGFyc2VkLnJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlTm9kZU9iamVjdChiYWNrZ3JvdW5kUGFyc2VkLnJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUgPSBCQUJZTE9OLkdVSS5BZHZhbmNlZER5bmFtaWNUZXh0dXJlLkNyZWF0ZUZ1bGxzY3JlZW5VSShcIkJBQ0tHUk9VTkRcIiwgZmFsc2UsIHRoaXMuc2NlbmUsIHRoaXMudGV4dHVyZVNhbXBsZU1vZGUsIHRoaXMuc2V0QWRhcHRpdmVTY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmREYXRhLnNjYWxlVG9Gb3JlZ3JvdW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5pZGVhbFdpZHRoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUuaWRlYWxXaWR0aCA9IFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUuaWRlYWxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLmlkZWFsSGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUuaWRlYWxIZWlnaHQgPSBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLmlkZWFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5BZHZhbmNlZFRleHR1cmUudXNlU21hbGxlc3RJZGVhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLnVzZVNtYWxsZXN0SWRlYWwgPSBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlLnVzZVNtYWxsZXN0SWRlYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5yZW5kZXJBdElkZWFsU2l6ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkJhY2tncm91bmRUZXh0dXJlLnJlbmRlckF0SWRlYWxTaXplID0gUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkFkdmFuY2VkVGV4dHVyZS5yZW5kZXJBdElkZWFsU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZS51c2VTbWFsbGVzdElkZWFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUucmVuZGVyQXRJZGVhbFNpemUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZFBhcnNlZCAhPSBudWxsKSBQUk9KRUNULlVzZXJJbnRlcmZhY2UuQmFja2dyb3VuZFRleHR1cmUucGFyc2VTZXJpYWxpemVkT2JqZWN0KGJhY2tncm91bmRQYXJzZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja2dyb3VuZERhdGEuc2NhbGVUb0ZvcmVncm91bmQgPT09IHRydWUpIFBST0pFQ1QuVXNlckludGVyZmFjZS5CYWNrZ3JvdW5kVGV4dHVyZS5zY2FsZVRvKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25JbnRlcmZhY2VMb2FkZWQgJiYgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uSW50ZXJmYWNlTG9hZGVkLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uSW50ZXJmYWNlTG9hZGVkLm5vdGlmeU9ic2VydmVycyhQUk9KRUNULlVzZXJJbnRlcmZhY2UuQWR2YW5jZWRUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmdpbmVSZXNpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhdHRhY2hXZWJGb250cygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuRm9udEZhY2VzQXR0YWNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkZvbnRGYWNlc0F0dGFjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5mb250cy5yZWFkeS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5Mb2coXCJEb2N1bWVudCBmb250cyByZWFkeS5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNSZWFkeSAmJiBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNSZWFkeS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNSZWFkeS5ub3RpZnlPYnNlcnZlcnMoZG9jdW1lbnQuZm9udHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5mb250cy5vbmxvYWRpbmdkb25lID0gKGZvbnRGYWNlU2V0RXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZVJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJBbGwgZG9jdW1lbnQgZm9udHMgbG9hZGVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVXNlckludGVyZmFjZS5PbkZvbnRGYWNlc0xvYWRlZCAmJiBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25Gb250RmFjZXNMb2FkZWQuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uRm9udEZhY2VzTG9hZGVkLm5vdGlmeU9ic2VydmVycyhmb250RmFjZVNldEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBwcmVsb2FkV2ViRm9udHMoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoUFJPSkVDVC5Vc2VySW50ZXJmYWNlLkZvbnRGYWNlc1ByZWxvYWRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuRm9udEZhY2VzUHJlbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mb250RmFtaWx5TGlzdCAhPSBudWxsICYmIHRoaXMuZm9udEZhbWlseUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvbnRGYW1pbHlMaXN0LmZvckVhY2goKGZhbWlseTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eHQ6IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHh0LnN0eWxlLmZvbnRGYW1pbHkgPSBmYW1pbHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHR4dCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBwYXJzZU5vZGVPYmplY3Qob2JqZWN0OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRJbWFnZUNvbnRyb2wgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QubmFtZSAhPSBudWxsICYmIG9iamVjdC5zb3VyY2UgIT0gbnVsbCAmJiBvYmplY3Quc291cmNlICE9PSBcIlwiICYmIG9iamVjdC5zb3VyY2UudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiLi9pbWFnZXMvXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Quc291cmNlID0gKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24uZW5kc1dpdGgoXCIvXCIpKSA/IG9iamVjdC5zb3VyY2UucmVwbGFjZShcIi4vaW1hZ2VzL1wiLCB0aGlzLmRlZmF1bHRJbWFnZUxvY2F0aW9uKSA6IG9iamVjdC5zb3VyY2UucmVwbGFjZShcIi4vaW1hZ2VzXCIsIHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4cG9ydExvd2VyQ2FzZSA9PT0gdHJ1ZSkgb2JqZWN0LnNvdXJjZSA9IG9iamVjdC5zb3VyY2UudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBERVBSRUNBVEVEOiBLRUVQLUZPUi1SRUZFUkVOQ0VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbmFtZTpzdHJpbmcgPSBvYmplY3QubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBscGFydDpudW1iZXIgPSBvbmFtZS5pbmRleE9mKFwiKFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBycGFydDpudW1iZXIgPSBvbmFtZS5pbmRleE9mKFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgTmV3IE9iamVjdCBTb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChscGFydCA+PSAwICYmIHJwYXJ0ID49IDAgJiYgcnBhcnQgPiBscGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsOnN0cmluZyA9IG9uYW1lLnN1YnN0cmluZygobHBhcnQgKyAxKSwgcnBhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsICE9IG51bGwgJiYgdXJsICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmwudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmwgIT0gbnVsbCAmJiB1cmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zb3VyY2UgPSAodGhpcy5kZWZhdWx0SW1hZ2VMb2NhdGlvbi5lbmRzV2l0aChcIi9cIikpID8gKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gKyB1cmwpIDogKHRoaXMuZGVmYXVsdEltYWdlTG9jYXRpb24gKyBcIi9cIiArIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCBOZXcgT2JqZWN0IE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm5hbWUxOnN0cmluZyA9IG9uYW1lLnN1YnN0cmluZygwLCBscGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm5hbWUyOnN0cmluZyA9IG9uYW1lLnN1YnN0cmluZygocnBhcnQgKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm5hbWUzID0gKGZuYW1lMSArIGZuYW1lMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm5hbWUzICE9IG51bGwgJiYgZm5hbWUzICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5hbWUzID0gZm5hbWUzLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbmFtZTMgIT0gbnVsbCAmJiBmbmFtZTMgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QubmFtZSA9IGZuYW1lMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25QYXJzZU5vZGVPYmplY3QgJiYgUFJPSkVDVC5Vc2VySW50ZXJmYWNlLk9uUGFyc2VOb2RlT2JqZWN0Lmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVzZXJJbnRlcmZhY2UuT25QYXJzZU5vZGVPYmplY3Qubm90aWZ5T2JzZXJ2ZXJzKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5jaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlTm9kZU9iamVjdChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBBc3NldEV4cG9ydGVyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQXNzZXRFeHBvcnRlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICAvLyBFeGFtcGxlOiBwcml2YXRlIGhlbGxvV29ybGQ6c3RyaW5nID0gXCJIZWxsbyBXb3JsZFwiO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEluaXQgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBTdGFydCBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBmaXhlZCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEZpeGVkIHVwZGF0ZSBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogVXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIExhdGUgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXIoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBBZnRlciB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZWFkeSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEV4ZWN1dGUgd2hlbiByZWFkeSBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBEZXN0cm95IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEFzc2V0UHJlbG9hZGVyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQXNzZXRQcmVsb2FkZXIgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IGltcGxlbWVudHMgQkFCWUxPTi5Ub29sa2l0LklBc3NldFByZWxvYWRlciB7XG4gICAgICAgIHByaXZhdGUgcGFyZW50TWVzaGVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaW1wb3J0TWVzaGVzOiBzdHJpbmdbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgYXNzZXRDb250YWluZXJzOiBzdHJpbmdbXSA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmltcG9ydE1lc2hlcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFzc2V0Q29udGFpbmVycyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQWRkIGFzc2V0IHByZWxvYWRlciB0YXNrcyAoaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9kaXZpbmdEZWVwZXIvaW1wb3J0ZXJzL2Fzc2V0TWFuYWdlcikgKi9cbiAgICAgICAgcHVibGljIGFkZFByZWxvYWRlclRhc2tzKGFzc2V0c01hbmFnZXI6IEJBQllMT04uVG9vbGtpdC5QcmVsb2FkQXNzZXRzTWFuYWdlcik6IHZvaWQge1xuICAgICAgICAgICAgY29uc3Qgc2NlbmVSb290VXJsOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFJvb3RVcmwodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBsZXQgcm9vdHVybDogc3RyaW5nID0gc2NlbmVSb290VXJsO1xuICAgICAgICAgICAgbGV0IGZpbGVuYW1lOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW1wb3J0TWVzaGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydE1lc2hlcy5mb3JFYWNoKChpbXBvclVybDogc3RyaW5nLCBpbXBvcnRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3R1cmwgPSBzY2VuZVJvb3RVcmw7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gaW1wb3JVcmw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbXBvclVybC5pbmRleE9mKFwiOi8vXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3R1cmwgPSBpbXBvclVybC5zdWJzdHJpbmcoMCwgaW1wb3JVcmwubGFzdEluZGV4T2YoJy8nKSkgKyBcIi9cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gaW1wb3JVcmwuc3Vic3RyaW5nKGltcG9yVXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbXBvcnRUYXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2sgPSBhc3NldHNNYW5hZ2VyLmFkZE1lc2hUYXNrKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTWVzaFRhc2suXCIgKyBpbXBvcnRJbmRleC50b1N0cmluZygpKSwgbnVsbCwgcm9vdHVybCwgZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRUYXNrLm9uU3VjY2VzcyA9ICh0YXNrOiBCQUJZTE9OLk1lc2hBc3NldFRhc2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLmxvYWRlZE1lc2hlcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50TWVzaGVzID09PSB0cnVlKSB0YXNrLmxvYWRlZE1lc2hlc1swXS5wYXJlbnQgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNoVGFza0tleTogc3RyaW5nID0gdGFzay5zY2VuZUZpbGVuYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLlJlZ2lzdGVySW1wb3J0TWVzaGVzKHRoaXMuc2NlbmUsIG1lc2hUYXNrS2V5LCB0YXNrLmxvYWRlZE1lc2hlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlByZWxvYWRlZCBtZXNoOiBcIiArIG1lc2hUYXNrS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0VGFzay5vbkVycm9yID0gKHRhc2s6IEJBQllMT04uTWVzaEFzc2V0VGFzaywgbWVzc2FnZT86IHN0cmluZywgZXhjZXB0aW9uPzogYW55KSA9PiB7IGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgZXhjZXB0aW9uKTsgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFzc2V0Q29udGFpbmVycyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NldENvbnRhaW5lcnMuZm9yRWFjaCgoYXNzZXRVcmw6IHN0cmluZywgYXNzZXRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByb290dXJsOiBzdHJpbmcgPSBzY2VuZVJvb3RVcmw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxlbmFtZTogc3RyaW5nID0gYXNzZXRVcmw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NldFVybC5pbmRleE9mKFwiOi8vXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3R1cmwgPSBhc3NldFVybC5zdWJzdHJpbmcoMCwgYXNzZXRVcmwubGFzdEluZGV4T2YoJy8nKSkgKyBcIi9cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gYXNzZXRVcmwuc3Vic3RyaW5nKGFzc2V0VXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3NldFRhc2s6IEJBQllMT04uQ29udGFpbmVyQXNzZXRUYXNrID0gYXNzZXRzTWFuYWdlci5hZGRDb250YWluZXJUYXNrKCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQ29udGFpbmVyVGFzay5cIiArIGFzc2V0SW5kZXgudG9TdHJpbmcoKSksIG51bGwsIHJvb3R1cmwsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRUYXNrLm9uU3VjY2VzcyA9ICh0YXNrOiBCQUJZTE9OLkNvbnRhaW5lckFzc2V0VGFzaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2subG9hZGVkQ29udGFpbmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3NldFRhc2tLZXk6IHN0cmluZyA9IHRhc2suc2NlbmVGaWxlbmFtZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5SZWdpc3RlckFzc2V0Q29udGFpbmVyKHRoaXMuc2NlbmUsIGFzc2V0VGFza0tleSwgdGFzay5sb2FkZWRDb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJQcmVsb2FkZWQgYXNzZXQ6IFwiICsgYXNzZXRUYXNrS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRUYXNrLm9uRXJyb3IgPSAodGFzazogQkFCWUxPTi5Db250YWluZXJBc3NldFRhc2ssIG1lc3NhZ2U/OiBzdHJpbmcsIGV4Y2VwdGlvbj86IGFueSkgPT4geyBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGV4Y2VwdGlvbik7IH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTm9kZU1hdGVyaWFsSW5zdGFuY2VcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBOb2RlTWF0ZXJpYWxJbnN0YW5jZSBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIG5vZGVNYXRlcmlhbERhdGE6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc2V0Q3VzdG9tUm9vdFVybDogc3RyaW5nID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgZ2V0TWF0ZXJpYWxJbnN0YW5jZSgpOiBCQUJZTE9OLk5vZGVNYXRlcmlhbCB7IHJldHVybiB0aGlzLm1fbm9kZU1hdGVyaWFsOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fbm9kZU1hdGVyaWFsOiBCQUJZTE9OLk5vZGVNYXRlcmlhbCA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubm9kZU1hdGVyaWFsRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFVybDogc3RyaW5nID0gKHRoaXMuc2V0Q3VzdG9tUm9vdFVybCAhPSBudWxsICYmIHRoaXMuc2V0Q3VzdG9tUm9vdFVybCAhPT0gXCJcIikgPyB0aGlzLnNldEN1c3RvbVJvb3RVcmwudHJpbSgpIDogXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLm1fbm9kZU1hdGVyaWFsID0gQkFCWUxPTi5Ob2RlTWF0ZXJpYWwuUGFyc2UodGhpcy5ub2RlTWF0ZXJpYWxEYXRhLCB0aGlzLnNjZW5lLCByb290VXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fbm9kZU1hdGVyaWFsLm5hbWUgPSB0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTm9kZU1hdGVyaWFsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fbm9kZU1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fbm9kZU1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fbm9kZU1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBOb2RlTWF0ZXJpYWxQYXJ0aWNsZVxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE5vZGVNYXRlcmlhbFBhcnRpY2xlIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgbm9kZU1hdGVyaWFsRWRpdG9yOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEluaXQgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5tZTogUFJPSkVDVC5Ob2RlTWF0ZXJpYWxJbnN0YW5jZSA9IFNNLkZpbmRTY3JpcHRDb21wb25lbnQodGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IsIFwiUFJPSkVDVC5Ob2RlTWF0ZXJpYWxJbnN0YW5jZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAobm1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxJbnN0YW5jZTogQkFCWUxPTi5Ob2RlTWF0ZXJpYWwgPSBubWUuZ2V0TWF0ZXJpYWxJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWxJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwTm9kZU1hdGVyaWFsKG1hdGVyaWFsSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTnVsbCBub2RlIG1hdGVyaWFsIGluc3RhbmNlIG9uOiBcIiArIHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGxvY2F0ZSBub2RlIG1hdGVyaWFsIGVkaXRvciBvbjogXCIgKyB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvci5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0dXBOb2RlTWF0ZXJpYWwobWF0ZXJpYWxJbnN0YW5jZTogQkFCWUxPTi5Ob2RlTWF0ZXJpYWwpOiB2b2lkIHtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIFVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBMYXRlIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogQWZ0ZXIgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZml4ZWQoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBGaXhlZCB1cGRhdGUgcGh5c2ljcyBzdGVwIGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgcmVhZHkoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBFeGVjdXRlIHdoZW4gc2NlbmUgaXMgcmVhZHkgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIE5vZGVNYXRlcmlhbFByb2Nlc3NcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBOb2RlTWF0ZXJpYWxQcm9jZXNzIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgbm9kZU1hdGVyaWFsRWRpdG9yOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIG51bWJlck9mU2FtcGxlczogbnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBzYW1wbGluZ01vZGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgdGV4dHVyZVR5cGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgdGV4dHVyZUZvcm1hdDogbnVtYmVyID0gQkFCWUxPTi5Db25zdGFudHMuVEVYVFVSRUZPUk1BVF9SR0JBO1xuICAgICAgICBwcml2YXRlIHNpemVSYXRpbzogbnVtYmVyID0gMS4wO1xuICAgICAgICBwcml2YXRlIHJlc3VhYmxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIGdldFBvc3RQcm9jZXNzKCk6IEJBQllMT04uUG9zdFByb2Nlc3MgeyByZXR1cm4gdGhpcy5tX3Bvc3RQcm9jZXNzOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fcG9zdFByb2Nlc3M6IEJBQllMT04uUG9zdFByb2Nlc3MgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm1lOiBQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlID0gU00uRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciwgXCJQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChubWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbEluc3RhbmNlOiBCQUJZTE9OLk5vZGVNYXRlcmlhbCA9IG5tZS5nZXRNYXRlcmlhbEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbEluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBOb2RlTWF0ZXJpYWwobWF0ZXJpYWxJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJOdWxsIG5vZGUgbWF0ZXJpYWwgaW5zdGFuY2Ugb246IFwiICsgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gbG9jYXRlIG5vZGUgbWF0ZXJpYWwgZWRpdG9yIG9uOiBcIiArIHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXR1cE5vZGVNYXRlcmlhbChtYXRlcmlhbEluc3RhbmNlOiBCQUJZTE9OLk5vZGVNYXRlcmlhbCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgY2FtZXJhOiBCQUJZTE9OLkZyZWVDYW1lcmEgPSB0aGlzLmdldENhbWVyYVJpZygpO1xuICAgICAgICAgICAgaWYgKGNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3Bvc3RQcm9jZXNzID0gbWF0ZXJpYWxJbnN0YW5jZS5jcmVhdGVQb3N0UHJvY2VzcyhjYW1lcmEsIHRoaXMuc2l6ZVJhdGlvLCB0aGlzLnNhbXBsaW5nTW9kZSwgdGhpcy5zY2VuZS5nZXRFbmdpbmUoKSwgdGhpcy5yZXN1YWJsZSwgdGhpcy50ZXh0dXJlVHlwZSwgdGhpcy50ZXh0dXJlRm9ybWF0KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX3Bvc3RQcm9jZXNzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3Bvc3RQcm9jZXNzLm5hbWUgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlByb2Nlc3NcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9wb3N0UHJvY2Vzcy5zYW1wbGVzID0gdGhpcy5udW1iZXJPZlNhbXBsZXM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNyZWF0ZSBwb3N0IHByb2Nlc3MgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTnVsbCBjYW1lcmEgcmlnIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9wb3N0UHJvY2VzcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3Bvc3RQcm9jZXNzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcG9zdFByb2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIE5vZGVNYXRlcmlhbFRleHR1cmVcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBOb2RlTWF0ZXJpYWxUZXh0dXJlIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgbm9kZU1hdGVyaWFsRWRpdG9yOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHRleHR1cmVTaXplOiBudW1iZXIgPSAyNTY7XG5cbiAgICAgICAgcHVibGljIGdldFByb2NlZHVyYWxUZXh0dXJlKCk6IEJBQllMT04uUHJvY2VkdXJhbFRleHR1cmUgeyByZXR1cm4gdGhpcy5tX3Byb2NlZHVyYWxUZXh0dXJlOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fcHJvY2VkdXJhbFRleHR1cmU6IEJBQllMT04uUHJvY2VkdXJhbFRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm1lOiBQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlID0gU00uRmluZFNjcmlwdENvbXBvbmVudCh0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciwgXCJQUk9KRUNULk5vZGVNYXRlcmlhbEluc3RhbmNlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChubWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbEluc3RhbmNlOiBCQUJZTE9OLk5vZGVNYXRlcmlhbCA9IG5tZS5nZXRNYXRlcmlhbEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbEluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBOb2RlTWF0ZXJpYWwobWF0ZXJpYWxJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJOdWxsIG5vZGUgbWF0ZXJpYWwgaW5zdGFuY2Ugb246IFwiICsgdGhpcy5ub2RlTWF0ZXJpYWxFZGl0b3IubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gbG9jYXRlIG5vZGUgbWF0ZXJpYWwgZWRpdG9yIG9uOiBcIiArIHRoaXMubm9kZU1hdGVyaWFsRWRpdG9yLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzZXR1cE5vZGVNYXRlcmlhbChtYXRlcmlhbEluc3RhbmNlOiBCQUJZTE9OLk5vZGVNYXRlcmlhbCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX3Byb2NlZHVyYWxUZXh0dXJlID0gbWF0ZXJpYWxJbnN0YW5jZS5jcmVhdGVQcm9jZWR1cmFsVGV4dHVyZSh0aGlzLnRleHR1cmVTaXplLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fcHJvY2VkdXJhbFRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9wcm9jZWR1cmFsVGV4dHVyZS5uYW1lID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5UZXh0dXJlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm5vZGVNYXRlcmlhbEVkaXRvciA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3Byb2NlZHVyYWxUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcHJvY2VkdXJhbFRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wcm9jZWR1cmFsVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTW9iaWxlSW5wdXRDb250cm9sbGVyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTW9iaWxlSW5wdXRDb250cm9sbGVyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEluc3RhbmNlKCk6IFBST0pFQ1QuTW9iaWxlSW5wdXRDb250cm9sbGVyIHsgcmV0dXJuIFBST0pFQ1QuTW9iaWxlSW5wdXRDb250cm9sbGVyLlN0YXRpY0luc3RhbmNlOyB9XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFN0YXRpY0luc3RhbmNlOiBQUk9KRUNULk1vYmlsZUlucHV0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3R5bGVTaGVldDogc3RyaW5nID0gbnVsbDtcbiAgICAgICAgLy8gREVQUkVDQVRFRDogcHJpdmF0ZSBodG1sTWFya3VwOiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNvbnRyb2xUeXBlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IHN0cmluZyA9IFwicm9vdFwiO1xuICAgICAgICBwcml2YXRlIG1heFJlYWR5VGltZW91dDogbnVtYmVyID0gMjAwO1xuICAgICAgICBwcml2YXRlIG1heE1vdmVEaXN0YW5jZTogbnVtYmVyID0gMjg7XG4gICAgICAgIHByaXZhdGUgbWF4TW92ZURlYWR6b25lOiBudW1iZXIgPSA0O1xuICAgICAgICBwcml2YXRlIHVpUGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGxlZnRCYXNlRWxlbWVudDogSFRNTERpdkVsZW1lbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHJpZ2h0QmFzZUVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBidXR0b25CYXNlRWxlbWVudDogSFRNTERpdkVsZW1lbnQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGxlZnRTdGlja1N0eWxlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJpZ2h0U3RpY2tTdHlsZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0U3RpY2tGYWN0b3I6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHJpdmF0ZSByaWdodFN0aWNrRmFjdG9yOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHByaXZhdGUgaW52ZXJ0TGVmdFN0aWNrWTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgY2VudGVyTGVmdEpveXN0aWNrOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZW5hYmxlTGVmdEpveXN0aWNrOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBpbnZlcnRSaWdodFN0aWNrWTogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgY2VudGVyUmlnaHRKb3lzdGljazogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGVuYWJsZVJpZ2h0Sm95c3RpY2s6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGVuYWJsZU1vdXNlQXhlczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGVuYWJsZVZpcnR1YWxCdXR0b25zOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgdmlydHVhbEJ1dHRvbkNvbnRyb2xzOiBhbnkgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBtX2xlZnRTdGljazogQkFCWUxPTi5Ub29sa2l0LlRvdWNoSm95c3RpY2tIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fcmlnaHRTdGljazogQkFCWUxPTi5Ub29sa2l0LlRvdWNoSm95c3RpY2tIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fbW9iaWxlRGV2aWNlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHVibGljIGdldExlZnRTdGljaygpOiBCQUJZTE9OLlRvb2xraXQuVG91Y2hKb3lzdGlja0hhbmRsZXIgeyByZXR1cm4gdGhpcy5tX2xlZnRTdGljazsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmlnaHRTdGljaygpOiBCQUJZTE9OLlRvb2xraXQuVG91Y2hKb3lzdGlja0hhbmRsZXIgeyByZXR1cm4gdGhpcy5tX3JpZ2h0U3RpY2s7IH1cbiAgICAgICAgcHVibGljIGdldExlZnRTdGlja0VuYWJsZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmVuYWJsZUxlZnRKb3lzdGljazsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmlnaHRTdGlja0VuYWJsZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmVuYWJsZVJpZ2h0Sm95c3RpY2s7IH1cbiAgICAgICAgcHVibGljIGdldExlZnRTdGlja0VsZW1lbnQoKTogSFRNTERpdkVsZW1lbnQgeyByZXR1cm4gdGhpcy5sZWZ0QmFzZUVsZW1lbnQ7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0U3RpY2tFbGVtZW50KCk6IEhUTUxEaXZFbGVtZW50IHsgcmV0dXJuIHRoaXMucmlnaHRCYXNlRWxlbWVudDsgfVxuICAgICAgICBwdWJsaWMgc2hvd0xlZnRTdGlja0VsZW1lbnQoc2hvdzogYm9vbGVhbikgeyBpZiAodGhpcy5sZWZ0QmFzZUVsZW1lbnQgIT0gbnVsbCkgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IChzaG93ID09PSB0cnVlKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiOyB9XG4gICAgICAgIHB1YmxpYyBzaG93UmlnaHRTdGlja0VsZW1lbnQoc2hvdzogYm9vbGVhbikgeyBpZiAodGhpcy5yaWdodEJhc2VFbGVtZW50ICE9IG51bGwpIHRoaXMucmlnaHRCYXNlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gKHNob3cgPT09IHRydWUpID8gXCJibG9ja1wiIDogXCJub25lXCI7IH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHByb3BlcnRpZXM/OiBhbnkpIHtcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgc2NlbmUsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgUFJPSkVDVC5Nb2JpbGVJbnB1dENvbnRyb2xsZXIuU3RhdGljSW5zdGFuY2UgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbFR5cGUgPT09IDEgfHwgdGhpcy5tX21vYmlsZURldmljZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9tb2JpbGVEZXZpY2UgPSBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc01vYmlsZSgpO1xuICAgICAgICAgICAgICAgIC8vd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCAoKSA9PiB7IHRoaXMuY2hlY2tPcmllbnRhdGlvbigpOyB9KTtcbiAgICAgICAgICAgICAgICAvL3RoaXMuY2hlY2tPcmllbnRhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm9vdEVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gKHRoaXMucGFyZW50RWxlbWVudCAhPSBudWxsICYmIHRoaXMucGFyZW50RWxlbWVudCAhPT0gXCJcIiAmJiB0aGlzLnBhcmVudEVsZW1lbnQudG9Mb3dlckNhc2UoKSAhPT0gXCJib2R5XCIpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wYXJlbnRFbGVtZW50KSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLnVpUGFyZW50RWxlbWVudCA9IChyb290RWxlbWVudCAhPSBudWxsKSA/IHJvb3RFbGVtZW50IDogZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xUeXBlID09PSAxIHx8IHRoaXMubV9tb2JpbGVEZXZpY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRTdHlsZVNoZWV0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkSHRtbE1hcmt1cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlYWR5KCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbFR5cGUgPT09IDEgfHwgdGhpcy5tX21vYmlsZURldmljZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuVmlydHVhbEpveXN0aWNrRW5hYmxlZCA9ICF0aGlzLmVuYWJsZU1vdXNlQXhlczsgLy8gTm90ZTogRGlzYWJsZSBNb3VzZVggQW5kIE1vdXNlWSBVc2VyIElucHV0IEF4ZXNcbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5VGltZW91dDogbnVtYmVyID0gKHRoaXMubWF4UmVhZHlUaW1lb3V0ID49IDEwKSA/IHRoaXMubWF4UmVhZHlUaW1lb3V0IDogMTA7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuU2V0VGltZW91dChkaXNwbGF5VGltZW91dCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUh0bWxFbGVtZW50cygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVMZWZ0Sm95c3RpY2sgPT09IHRydWUpIHRoaXMubV9sZWZ0U3RpY2sgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LlRvdWNoSm95c3RpY2tIYW5kbGVyKFwic3RpY2sxXCIsIHRoaXMubWF4TW92ZURpc3RhbmNlLCB0aGlzLm1heE1vdmVEZWFkem9uZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVJpZ2h0Sm95c3RpY2sgPT09IHRydWUpIHRoaXMubV9yaWdodFN0aWNrID0gbmV3IEJBQllMT04uVG9vbGtpdC5Ub3VjaEpveXN0aWNrSGFuZGxlcihcInN0aWNrMlwiLCB0aGlzLm1heE1vdmVEaXN0YW5jZSwgdGhpcy5tYXhNb3ZlRGVhZHpvbmUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xUeXBlID09PSAxIHx8IHRoaXMubV9tb2JpbGVEZXZpY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5BbGxvd01vYmlsZUNvbnRyb2xzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFZhbGlkYXRlIE1vYmlsZSBDb250cm9sIFZpc3VhbHMgQXJlIEVuYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlTGVmdEpveXN0aWNrID09PSB0cnVlICYmIHRoaXMubV9sZWZ0U3RpY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5Nb2JpbGVDb250cm9sc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tWYWx1ZVg6IG51bWJlciA9IHRoaXMubV9sZWZ0U3RpY2suZ2V0VmFsdWVYKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tWYWx1ZVk6IG51bWJlciA9IHRoaXMubV9sZWZ0U3RpY2suZ2V0VmFsdWVZKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RpY2tGaXhlZFg6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKChsZWZ0U3RpY2tWYWx1ZVggKiB0aGlzLmxlZnRTdGlja0ZhY3RvciksIC0xLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRTdGlja0ZpeGVkWTogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAoKGxlZnRTdGlja1ZhbHVlWSAqIHRoaXMubGVmdFN0aWNrRmFjdG9yKSwgLTEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5TZXRMZWZ0Sm95c3RpY2tCdWZmZXIobGVmdFN0aWNrRml4ZWRYLCBsZWZ0U3RpY2tGaXhlZFksIHRoaXMuaW52ZXJ0TGVmdFN0aWNrWSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUmlnaHRKb3lzdGljayA9PT0gdHJ1ZSAmJiB0aGlzLm1fcmlnaHRTdGljayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk1vYmlsZUNvbnRyb2xzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0U3RpY2tWYWx1ZVg6IG51bWJlciA9IHRoaXMubV9yaWdodFN0aWNrLmdldFZhbHVlWCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmlnaHRTdGlja1ZhbHVlWTogbnVtYmVyID0gdGhpcy5tX3JpZ2h0U3RpY2suZ2V0VmFsdWVZKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByaWdodFN0aWNrRml4ZWRYOiBudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgocmlnaHRTdGlja1ZhbHVlWCAqIHRoaXMucmlnaHRTdGlja0ZhY3RvciksIC0xLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0U3RpY2tGaXhlZFk6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKChyaWdodFN0aWNrVmFsdWVZICogdGhpcy5yaWdodFN0aWNrRmFjdG9yKSwgLTEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5TZXRSaWdodEpveXN0aWNrQnVmZmVyKHJpZ2h0U3RpY2tGaXhlZFgsIHJpZ2h0U3RpY2tGaXhlZFksIHRoaXMuaW52ZXJ0UmlnaHRTdGlja1kpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVZpcnR1YWxCdXR0b25zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk1vYmlsZUNvbnRyb2xzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFZhbGlkYXRlIE1vYmlsZSBDb250cm9sIFZpc3VhbHMgQXJlIERpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2xlZnRTdGljayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2xlZnRTdGljay5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2xlZnRTdGljayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3JpZ2h0U3RpY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9yaWdodFN0aWNrLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmlnaHRTdGljayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICBwcm90ZWN0ZWQgY2hlY2tPcmllbnRhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWVudGF0aW9uOiBzdHJpbmcgPSBCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5HZXRPcmllbnRhdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgcGNvdmVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9ydHJhaXQtd2FybmluZy1jb3ZlclwiKTtcbiAgICAgICAgICAgIGNvbnN0IGxjb3ZlcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhbmRzY2FwZS13YXJuaW5nLWNvdmVyXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDaGVjayBPcmllbnRhdGlvbigpOiBcIiArIG9yaWVudGF0aW9uICsgXCIgLT4gXCIgKyB0aGlzLmlucHV0T3JpZW50YXRpb24gKyBcIiAtPiBTaXplOiBcIiArIHdpbmRvdy5pbm5lcldpZHRoICsgXCIgeCBcIiArIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwibGFuZHNjYXBlXCIgfHwgb3JpZW50YXRpb24gPT09IFwicG9ydHJhaXRcIikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0T3JpZW50YXRpb24gPT09IDEpIHsgLy8gTm90ZTogRW5mb3JjZSBQb3J0cmFpdCBPcmllbnRhdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAocGNvdmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiAhPT0gXCJwb3J0cmFpdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTaG93IFJvdGF0ZSBUbyBQb3J0cmFpdCBXYXJuaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcGNvdmVyLmNsYXNzTmFtZSA9IFwibW9iaWxlLW9yaWVudGF0aW9uLWNvdmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzZXQgUm90YXRlIFRvIFBvcnRyYWl0IFdhcm5pbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wY292ZXIuY2xhc3NOYW1lID0gXCJuby1kaXNwbGF5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5wdXRPcmllbnRhdGlvbiA9PT0gMikgeyAvLyBOb3RlOiBFbmZvcmNlIExhbmRzY2FwZSBPcmllbnRhdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAobGNvdmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiAhPT0gXCJsYW5kc2NhcGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2hvdyBSb3RhdGUgVG8gTGFuZHNjYXBlIFdhcm5pbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sY292ZXIuY2xhc3NOYW1lID0gXCJtb2JpbGUtb3JpZW50YXRpb24tY292ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDbGVhciBSb3RhdGUgVG8gTGFuZHNjYXBlIFdhcm5pbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sY292ZXIuY2xhc3NOYW1lID0gXCJuby1kaXNwbGF5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGNvdmVyICE9IG51bGwpIHBjb3Zlci5jbGFzc05hbWUgPSBcIm5vLWRpc3BsYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxjb3ZlciAhPSBudWxsKSBsY292ZXIuY2xhc3NOYW1lID0gXCJuby1kaXNwbGF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocGNvdmVyICE9IG51bGwpIHBjb3Zlci5jbGFzc05hbWUgPSBcIm5vLWRpc3BsYXlcIjtcbiAgICAgICAgICAgICAgICBpZiAobGNvdmVyICE9IG51bGwpIGxjb3Zlci5jbGFzc05hbWUgPSBcIm5vLWRpc3BsYXlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAqL1xuXG4gICAgICAgIHByb3RlY3RlZCBsb2FkU3R5bGVTaGVldCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlU2hlZXQgIT0gbnVsbCAmJiB0aGlzLnN0eWxlU2hlZXQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZTogSFRNTFN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgICAgICBzdHlsZS5pZCA9IFwiTW9iaWxlU3R5bGVTaGVldFwiO1xuICAgICAgICAgICAgICAgIHN0eWxlLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICAgICAgICAgICAgaWYgKChzdHlsZSBhcyBhbnkpLnN0eWxlU2hlZXQpIHsgLy8gTm90ZTogSW50ZXJuZXQgRXhwbG9yZXIgU3VwcG9ydFxuICAgICAgICAgICAgICAgICAgICAoc3R5bGUgYXMgYW55KS5zdHlsZVNoZWV0LmNzc1RleHQgPSB0aGlzLnN0eWxlU2hlZXQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5zdHlsZVNoZWV0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBNb2JpbGUgU3R5bGUgU2hlZXQgTm90IERlZmluZWQgRm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxvYWRIdG1sTWFya3VwKCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMuaHRtbE1hcmt1cCAhPSBudWxsICYmIHRoaXMuaHRtbE1hcmt1cCAhPT0gXCJcIikge1xuICAgICAgICAgICAgLy8gICAgIGNvbnN0IG1hcmt1cENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAvLyAgICAgbWFya3VwQ29udGFpbmVyLmlkID0gXCJNb2JpbGVNYXJrdXBcIjtcbiAgICAgICAgICAgIC8vICAgICBtYXJrdXBDb250YWluZXIuY2xhc3NOYW1lID0gXCJtb2JpbGUtbWFya3VwXCI7XG4gICAgICAgICAgICAvLyAgICAgbWFya3VwQ29udGFpbmVyLmlubmVySFRNTCA9IHRoaXMuaHRtbE1hcmt1cDtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnVpUGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChtYXJrdXBDb250YWluZXIpO1xuICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBNb2JpbGUgTWFya3VwIEZpbGUgTm90IERlZmluZWQgRm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUh0bWxFbGVtZW50cygpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RVcmw6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0Um9vdFVybCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRCYXNlSW1hZ2VEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VGV4dHVyZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0U3RpY2tCYXNlXCIpO1xuICAgICAgICAgICAgY29uc3QgcmlnaHRCYXNlSW1hZ2VEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VGV4dHVyZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodFN0aWNrQmFzZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRTdGlja0ltYWdlRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRleHR1cmUgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdFN0aWNrSW1hZ2VcIik7XG4gICAgICAgICAgICBjb25zdCByaWdodFN0aWNrSW1hZ2VEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VGV4dHVyZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodFN0aWNrSW1hZ2VcIik7XG4gICAgICAgICAgICBjb25zdCBsYmFzZUltYWdlRmlsZW5hbWU6IHN0cmluZyA9IChsZWZ0QmFzZUltYWdlRGF0YSAhPSBudWxsKSA/IGxlZnRCYXNlSW1hZ2VEYXRhLmZpbGVuYW1lIDogXCJiYXNlSW1hZ2UucG5nXCI7XG4gICAgICAgICAgICBjb25zdCByYmFzZUltYWdlRmlsZW5hbWU6IHN0cmluZyA9IChyaWdodEJhc2VJbWFnZURhdGEgIT0gbnVsbCkgPyByaWdodEJhc2VJbWFnZURhdGEuZmlsZW5hbWUgOiBcImJhc2VJbWFnZS5wbmdcIjtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRTdGlja0ltYWdlRmlsZW5hbWU6IHN0cmluZyA9IChsZWZ0U3RpY2tJbWFnZURhdGEgIT0gbnVsbCkgPyBsZWZ0U3RpY2tJbWFnZURhdGEuZmlsZW5hbWUgOiBcImxlZnRTdGljay5wbmdcIjtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0U3RpY2tJbWFnZUZpbGVuYW1lOiBzdHJpbmcgPSAocmlnaHRTdGlja0ltYWdlRGF0YSAhPSBudWxsKSA/IHJpZ2h0U3RpY2tJbWFnZURhdGEuZmlsZW5hbWUgOiBcInJpZ2h0U3RpY2sucG5nXCI7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVMZWZ0Sm95c3RpY2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRCYXNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuaWQgPSBcImJhc2UxXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICh0aGlzLmxlZnRTdGlja1N0eWxlID09PSAwKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdEJhc2VFbGVtZW50LmNsYXNzTmFtZSA9ICh0aGlzLmNlbnRlckxlZnRKb3lzdGljayA9PT0gdHJ1ZSkgPyBcIkdhbWVwYWRDZW50ZXJTdGlja1wiIDogXCJHYW1lcGFkTGVmdFN0aWNrXCI7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlSW1nMTogSFRNTEltYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgYmFzZUltZzEuaWQgPSBcImltYWdlMVwiO1xuICAgICAgICAgICAgICAgIGJhc2VJbWcxLnNyYyA9IChyb290VXJsICsgbGJhc2VJbWFnZUZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBiYXNlSW1nMS5jbGFzc05hbWUgPSBcIkdhbWVwYWRMZWZ0QmFzZVwiO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgYmFsbERpdjE6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBiYWxsRGl2MS5pZCA9IFwic3RpY2sxXCI7XG4gICAgICAgICAgICAgICAgYmFsbERpdjEuY2xhc3NOYW1lID0gXCJHYW1lcGFkTGVmdENvbnRlbnRcIjtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IGJhbGxJbWcxOiBIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgICAgICBiYWxsSW1nMS5pZCA9IFwiYmFsbDFcIjtcbiAgICAgICAgICAgICAgICBiYWxsSW1nMS5zcmMgPSAocm9vdFVybCArIGxlZnRTdGlja0ltYWdlRmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgIGJhbGxJbWcxLmNsYXNzTmFtZSA9IFwiR2FtZXBhZExlZnRDb250cm9sXCI7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBiYWxsRGl2MS5hcHBlbmRDaGlsZChiYWxsSW1nMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QmFzZUVsZW1lbnQuYXBwZW5kQ2hpbGQoYmFzZUltZzEpO1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdEJhc2VFbGVtZW50LmFwcGVuZENoaWxkKGJhbGxEaXYxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpUGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmxlZnRCYXNlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVSaWdodEpveXN0aWNrID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodEJhc2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQuaWQgPSBcImJhc2UyXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodEJhc2VFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAodGhpcy5yaWdodFN0aWNrU3R5bGUgPT09IDApID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodEJhc2VFbGVtZW50LmNsYXNzTmFtZSA9ICh0aGlzLmNlbnRlclJpZ2h0Sm95c3RpY2sgPT09IHRydWUpID8gXCJHYW1lcGFkQ2VudGVyU3RpY2tcIiA6IFwiR2FtZXBhZFJpZ2h0U3RpY2tcIjtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VJbWcyOiBIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgICAgICBiYXNlSW1nMi5pZCA9IFwiaW1hZ2UyXCI7XG4gICAgICAgICAgICAgICAgYmFzZUltZzIuc3JjID0gKHJvb3RVcmwgKyByYmFzZUltYWdlRmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgIGJhc2VJbWcyLmNsYXNzTmFtZSA9IFwiR2FtZXBhZFJpZ2h0QmFzZVwiO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgYmFsbERpdjI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBiYWxsRGl2Mi5pZCA9IFwic3RpY2syXCI7XG4gICAgICAgICAgICAgICAgYmFsbERpdjIuY2xhc3NOYW1lID0gXCJHYW1lcGFkUmlnaHRDb250ZW50XCI7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCBiYWxsSW1nMjogSFRNTEltYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgYmFsbEltZzIuaWQgPSBcImJhbGwyXCI7XG4gICAgICAgICAgICAgICAgYmFsbEltZzIuc3JjID0gKHJvb3RVcmwgKyByaWdodFN0aWNrSW1hZ2VGaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgYmFsbEltZzIuY2xhc3NOYW1lID0gXCJHYW1lcGFkUmlnaHRDb250cm9sXCI7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBiYWxsRGl2Mi5hcHBlbmRDaGlsZChiYWxsSW1nMik7XG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodEJhc2VFbGVtZW50LmFwcGVuZENoaWxkKGJhc2VJbWcyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QmFzZUVsZW1lbnQuYXBwZW5kQ2hpbGQoYmFsbERpdjIpO1xuICAgICAgICAgICAgICAgIHRoaXMudWlQYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMucmlnaHRCYXNlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVWaXJ0dWFsQnV0dG9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uQmFzZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uQmFzZUVsZW1lbnQuaWQgPSBcImJhc2UwXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b25CYXNlRWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b25CYXNlRWxlbWVudC5jbGFzc05hbWUgPSBcIkdhbWVwYWRCdXR0b25Hcm91cFwiO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpcnR1YWxCdXR0b25Db250cm9scyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlydHVhbEJ1dHRvbkNvbnRyb2xzLmZvckVhY2goKGVsZW1lbnQ6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uSW5kZXhDb3VudDogbnVtYmVyID0gKGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidXR0b25JbWFnZURhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUZXh0dXJlID0gZWxlbWVudC5idXR0b25JbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpcnR1YWxCdXR0b246IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCdXR0b24uaWQgPSAoXCJidXR0b25cIiArIGJ1dHRvbkluZGV4Q291bnQudG9GaXhlZCgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQnV0dG9uLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiOyAgICAgICAgIC8vIE5vdGU6IERlZmF1bHQgQ3Vyc29yIFN0eWxlXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQnV0dG9uLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjsgICAgIC8vIE5vdGU6IEVuYWJsZSBQb2ludGVyIEV2ZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIChlKSA9PiB7IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuSW5wdXRLZXlEb3duSGFuZGxlcihlbGVtZW50LmlucHV0S2V5Q29kZSwgZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIChlKSA9PiB7IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuSW5wdXRLZXlVcEhhbmRsZXIoZWxlbWVudC5pbnB1dEtleUNvZGUsIGUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b25JbWFnZURhdGEgIT0gbnVsbCAmJiBidXR0b25JbWFnZURhdGEuZmlsZW5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmJ1dHRvbkNvdmVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbkltZzogSFRNTEltYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkltZy5pZCA9ICh2aXJ0dWFsQnV0dG9uLmlkICsgXCIuSW1hZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkltZy5zcmMgPSAocm9vdFVybCArIGJ1dHRvbkltYWdlRGF0YS5maWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkltZy5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25JbWcuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkltZy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25JbWcuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkltZy5zdHlsZS5ib3JkZXIgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uSW1nLnN0eWxlLm1hcmdpbiA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkltZy5zdHlsZS5wYWRkaW5nID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uSW1nLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQnV0dG9uLmFwcGVuZENoaWxkKGJ1dHRvbkltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi50ZXh0Q29udGVudCA9IGVsZW1lbnQuYnV0dG9uTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAoXCJ1cmwoXCIgKyByb290VXJsICsgYnV0dG9uSW1hZ2VEYXRhLmZpbGVuYW1lICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRSZXBlYXQgPSBcIm5vLXJlcGVhdFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQnV0dG9uLnN0eWxlLmJhY2tncm91bmRTaXplID0gKGVsZW1lbnQuYnV0dG9uQ292ZXIgPT09IDEpID8gXCJjb3ZlclwiIDogXCJjb250YWluXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQnV0dG9uLnRleHRDb250ZW50ID0gZWxlbWVudC5idXR0b25OYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idXR0b25CYXNlRWxlbWVudC5hcHBlbmRDaGlsZCh2aXJ0dWFsQnV0dG9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudWlQYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuYnV0dG9uQmFzZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aGUgam95c3RpY2sgaW5wdXRzIHRvIGNvbnRyb2wgYSBmcmVlIGNhbWVyYS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vaG93X3RvL2N1c3RvbWl6aW5nX2NhbWVyYV9pbnB1dHNcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRnJlZUNhbWVyYVRvdWNoSm95c3RpY2tJbnB1dCBpbXBsZW1lbnRzIEJBQllMT04uSUNhbWVyYUlucHV0PEJBQllMT04uRnJlZUNhbWVyYT4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lIHRoZSBjYW1lcmEgdGhlIGlucHV0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGNhbWVyYTogQkFCWUxPTi5GcmVlQ2FtZXJhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmUgdGhlIGpveXN0aWNrIGNvbnRyb2xsaW5nIHRoZSBpbnB1dFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGNvbnRyb2xsZXI6IEJBQllMT04uTnVsbGFibGU8UFJPSkVDVC5Nb2JpbGVJbnB1dENvbnRyb2xsZXI+O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIHRoZSBqb3lzdGljayByb3RhdGlvbiBzZW5zaWJsaXR5LlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0aHJlc2hvbGQgZnJvbSB3aGVuIHJvdGF0aW9uIHN0YXJ0cyB0byBiZSBhY2NvdW50ZWQgZm9yIHRvIHByZXZlbnQgaml0dGVyaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgQEJBQllMT04uc2VyaWFsaXplKClcbiAgICAgICAgcHVibGljIGpveXN0aWNrQW5ndWxhclNlbnNpYmlsaXR5ID0gMjAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIHRoZSBqb3lzdGljayBtb3ZlIHNlbnNpYmxpdHkuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRocmVzaG9sZCBmcm9tIHdoZW4gbW92aW5nIHN0YXJ0cyB0byBiZSBhY2NvdW50ZWQgZm9yIGZvciB0byBwcmV2ZW50IGppdHRlcmluZy5cbiAgICAgICAgICovXG4gICAgICAgIEBCQUJZTE9OLnNlcmlhbGl6ZSgpXG4gICAgICAgIHB1YmxpYyBqb3lzdGlja01vdmVTZW5zaWJpbGl0eSA9IDQwLjA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgdGhlIG1pbmltdW0gdmFsdWUgYXQgd2hpY2ggYW55IGFuYWxvZyBzdGljayBpbnB1dCBpcyBpZ25vcmVkLlxuICAgICAgICAgKiBOb3RlOiBUaGlzIHZhbHVlIHNob3VsZCBvbmx5IGJlIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGRlYWR6b25lRGVsdGEgPSAwLjE7XG5cblxuICAgICAgICBwcml2YXRlIF95QXhpc1NjYWxlID0gMS4wO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBvciBzZXRzIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHRoYXQgWWF4aXMgKGZvciByaWdodCBzdGljaykgc2hvdWxkIGJlIGludmVydGVkXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZ2V0IGludmVydFlBeGlzKCkgeyByZXR1cm4gdGhpcy5feUF4aXNTY2FsZSAhPT0gMS4wOyB9XG4gICAgICAgIHB1YmxpYyBzZXQgaW52ZXJ0WUF4aXModmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5feUF4aXNTY2FsZSA9IHZhbHVlID8gLTEuMCA6IDEuMDsgfVxuXG4gICAgICAgIC8vIHByaXZhdGUgbWVtYmVyc1xuICAgICAgICBwcml2YXRlIExTVmFsdWVzOiBCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsIDApO1xuICAgICAgICBwcml2YXRlIFJTVmFsdWVzOiBCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsIDApO1xuICAgICAgICBwcml2YXRlIF9jYW1lcmFUcmFuc2Zvcm06IEJBQllMT04uTWF0cml4ID0gQkFCWUxPTi5NYXRyaXguSWRlbnRpdHkoKTtcbiAgICAgICAgcHJpdmF0ZSBfZGVsdGFUcmFuc2Zvcm06IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgX3ZlY3RvcjM6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgX3ZlY3RvcjI6IEJBQllMT04uVmVjdG9yMiA9IEJBQllMT04uVmVjdG9yMi5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgX2F0dGFjaGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dGFjaCB0aGUgaW5wdXQgY29udHJvbHMgdG8gYSBzcGVjaWZpYyBkb20gZWxlbWVudCB0byBnZXQgdGhlIGlucHV0IGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgYXR0YWNoQ29udHJvbCgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRhY2ggdGhlIGN1cnJlbnQgY29udHJvbHMgZnJvbSB0aGUgc3BlY2lmaWVkIGRvbSBlbGVtZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGRldGFjaENvbnRyb2woKTogdm9pZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0YWNoIHRoZSBjdXJyZW50IGNvbnRyb2xzIGZyb20gdGhlIHNwZWNpZmllZCBkb20gZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIGlnbm9yZWQgZGVmaW5lcyBhbiBpZ25vcmVkIHBhcmFtZXRlciBrZXB0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LiBJZiB5b3Ugd2FudCB0byBkZWZpbmUgdGhlIHNvdXJjZSBpbnB1dCBlbGVtZW50LCB5b3UgY2FuIHNldCBlbmdpbmUuaW5wdXRFbGVtZW50IGJlZm9yZSBjYWxsaW5nIGNhbWVyYS5hdHRhY2hDb250cm9sXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZGV0YWNoQ29udHJvbChpZ25vcmVkPzogYW55KTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgY3VycmVudCBjYW1lcmEgc3RhdGUgZGVwZW5kaW5nIG9uIHRoZSBpbnB1dHMgdGhhdCBoYXZlIGJlZW4gdXNlZCB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIGlzIGEgZHluYW1pY2FsbHkgY3JlYXRlZCBsYW1iZGEgdG8gYXZvaWQgdGhlIHBlcmZvcm1hbmNlIHBlbmFsdHkgb2YgbG9vcGluZyBmb3IgaW5wdXRzIGluIHRoZSByZW5kZXIgbG9vcC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjaGVja0lucHV0cygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYSAhPSBudWxsICYmIHRoaXMuY29udHJvbGxlciAhPSBudWxsICYmIHRoaXMuX2F0dGFjaGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgTFN0aWNrID0gdGhpcy5jb250cm9sbGVyLmdldExlZnRTdGljaygpO1xuICAgICAgICAgICAgICAgIGlmIChMU3RpY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxTVmFsdWVzLnNldChMU3RpY2suZ2V0VmFsdWVYKCksIExTdGljay5nZXRWYWx1ZVkoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmpveXN0aWNrTW92ZVNlbnNpYmlsaXR5ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkxTVmFsdWVzLnggPSAoTWF0aC5hYnModGhpcy5MU1ZhbHVlcy54KSA+IHRoaXMuZGVhZHpvbmVEZWx0YSkgPyB0aGlzLkxTVmFsdWVzLnggLyB0aGlzLmpveXN0aWNrTW92ZVNlbnNpYmlsaXR5IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTFNWYWx1ZXMueSA9IChNYXRoLmFicyh0aGlzLkxTVmFsdWVzLnkpID4gdGhpcy5kZWFkem9uZURlbHRhKSA/IHRoaXMuTFNWYWx1ZXMueSAvIHRoaXMuam95c3RpY2tNb3ZlU2Vuc2liaWxpdHkgOiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MU1ZhbHVlcy5zZXQoMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3QgUlN0aWNrID0gdGhpcy5jb250cm9sbGVyLmdldFJpZ2h0U3RpY2soKTtcbiAgICAgICAgICAgICAgICBpZiAoUlN0aWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5SU1ZhbHVlcy5zZXQoUlN0aWNrLmdldFZhbHVlWCgpLCBSU3RpY2suZ2V0VmFsdWVZKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5qb3lzdGlja0FuZ3VsYXJTZW5zaWJpbGl0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SU1ZhbHVlcy54ID0gKE1hdGguYWJzKHRoaXMuUlNWYWx1ZXMueCkgPiB0aGlzLmRlYWR6b25lRGVsdGEpID8gdGhpcy5SU1ZhbHVlcy54IC8gdGhpcy5qb3lzdGlja0FuZ3VsYXJTZW5zaWJpbGl0eSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlJTVmFsdWVzLnkgPSAoKE1hdGguYWJzKHRoaXMuUlNWYWx1ZXMueSkgPiB0aGlzLmRlYWR6b25lRGVsdGEpID8gdGhpcy5SU1ZhbHVlcy55IC8gdGhpcy5qb3lzdGlja0FuZ3VsYXJTZW5zaWJpbGl0eSA6IDApICogdGhpcy5feUF4aXNTY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuUlNWYWx1ZXMuc2V0KDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYW1lcmEucm90YXRpb25RdWF0ZXJuaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uTWF0cml4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5jYW1lcmEucm90YXRpb24ueSwgdGhpcy5jYW1lcmEucm90YXRpb24ueCwgMCwgdGhpcy5fY2FtZXJhVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvblF1YXRlcm5pb24udG9Sb3RhdGlvbk1hdHJpeCh0aGlzLl9jYW1lcmFUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHZhciBzcGVlZCA9IHRoaXMuY2FtZXJhLl9jb21wdXRlTG9jYWxDYW1lcmFTcGVlZCgpICogNTAuMDtcbiAgICAgICAgICAgICAgICB0aGlzLl92ZWN0b3IzLmNvcHlGcm9tRmxvYXRzKHRoaXMuTFNWYWx1ZXMueCAqIHNwZWVkLCAwLCAtdGhpcy5MU1ZhbHVlcy55ICogc3BlZWQpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fdmVjdG9yMywgdGhpcy5fY2FtZXJhVHJhbnNmb3JtLCB0aGlzLl9kZWx0YVRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhRGlyZWN0aW9uLmFkZEluUGxhY2UodGhpcy5fZGVsdGFUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZlY3RvcjIuY29weUZyb21GbG9hdHModGhpcy5SU1ZhbHVlcy55LCB0aGlzLlJTVmFsdWVzLngpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmNhbWVyYVJvdGF0aW9uLmFkZEluUGxhY2UodGhpcy5fdmVjdG9yMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgY2xhc3MgbmFtZSBvZiB0aGUgY3VycmVudCBpbnB1dC5cbiAgICAgICAgICogQHJldHVybnMgdGhlIGNsYXNzIG5hbWVcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBnZXRDbGFzc05hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiBcIkZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXRcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGZyaWVuZGx5IG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbnB1dCBjbGFzcy5cbiAgICAgICAgICogQHJldHVybnMgdGhlIGlucHV0IGZyaWVuZGx5IG5hbWVcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBnZXRTaW1wbGVOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gXCJqb3lzdGlja1wiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgKDxhbnk+QkFCWUxPTi5DYW1lcmFJbnB1dFR5cGVzKVtcIkZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXRcIl0gPSBQUk9KRUNULkZyZWVDYW1lcmFUb3VjaEpveXN0aWNrSW5wdXQ7XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTW9iaWxlT2NjbHVkZU1hdGVyaWFsXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTW9iaWxlT2NjbHVkZU1hdGVyaWFsIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgYXBwbHlUb01hdGVyaWFsOiBib29sZWFuID0gdHJ1ZTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5hcHBseVRvTWF0ZXJpYWwgPT09IHRydWUgJiYgdGhpcy50cmFuc2Zvcm0gaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1hdGVyaWFsLmRpc2FibGVDb2xvcldyaXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBNb2JpbGVTaGFkb3dNYXRlcmlhbFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE1vYmlsZVNoYWRvd01hdGVyaWFsIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgY3JlYXRlTmV3TWF0ZXJpYWw6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNyZWF0ZU5ld01hdGVyaWFsID09PSB0cnVlICYmIHRoaXMudHJhbnNmb3JtIGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbE5hbWU6IHN0cmluZyA9IHRoaXMudHJhbnNmb3JtLm5hbWUucmVwbGFjZShcIiBcIiwgXCJcIikgKyBcIi5TaGFkb3dNYXRlcmlhbFwiO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1hdGVyaWFsID0gbmV3IEJBQllMT04uU2hhZG93T25seU1hdGVyaWFsKG1hdGVyaWFsTmFtZSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNyZWF0ZU5ld01hdGVyaWFsID09PSB0cnVlICYmIHRoaXMudHJhbnNmb3JtIGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ubWF0ZXJpYWwgIT0gbnVsbCAmJiB0aGlzLnRyYW5zZm9ybS5tYXRlcmlhbCBpbnN0YW5jZW9mIEJBQllMT04uU2hhZG93T25seU1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQmFsbFNvY2tldEpvaW50XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQmFsbFNvY2tldEpvaW50IGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJvZHlCOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcGl2b3RBOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKC0wLjUsIDAsIC0wLjUpO1xuICAgICAgICBwdWJsaWMgcGl2b3RCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKC0wLjUsIDAsIDAuNSk7XG4gICAgICAgIHB1YmxpYyBheGlzQTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKTtcbiAgICAgICAgcHVibGljIGF4aXNCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDEsIDApO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDogQkFCWUxPTi5CYWxsQW5kU29ja2V0Q29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QlwiKTtcbiAgICAgICAgICAgIGlmIChib2R5QUluZm8gIT0gbnVsbCAmJiBib2R5QkluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUEgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gYm9keUFJbmZvLm5hbWUpID8gdGhpcy50cmFuc2Zvcm0gOiB0aGlzLmdldENoaWxkTm9kZShib2R5QUluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QiA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlCSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QSAhPSBudWxsICYmIHRoaXMuYm9keUIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuYm9keUIucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbmV3IEJBQllMT04uQmFsbEFuZFNvY2tldENvbnN0cmFpbnQodGhpcy5waXZvdEEsIHRoaXMucGl2b3RCLCB0aGlzLmF4aXNBLCB0aGlzLmF4aXNCLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIERpc3RhbmNlSm9pbnRcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBEaXN0YW5jZUpvaW50IGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJvZHlCOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgbWF4RGlzdGFuY2U6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBjb25zdHJhaW50OiBCQUJZTE9OLkRpc3RhbmNlQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QlwiKTtcbiAgICAgICAgICAgIGlmIChib2R5QUluZm8gIT0gbnVsbCAmJiBib2R5QkluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUEgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gYm9keUFJbmZvLm5hbWUpID8gdGhpcy50cmFuc2Zvcm0gOiB0aGlzLmdldENoaWxkTm9kZShib2R5QUluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QiA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlCSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QSAhPSBudWxsICYmIHRoaXMuYm9keUIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuYm9keUIucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbmV3IEJBQllMT04uRGlzdGFuY2VDb25zdHJhaW50KHRoaXMubWF4RGlzdGFuY2UsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5QS5waHlzaWNzQm9keS5hZGRDb25zdHJhaW50KHRoaXMuYm9keUIucGh5c2ljc0JvZHksIHRoaXMuY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuaXNDb2xsaXNpb25zRW5hYmxlZCA9IHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ib2R5QiA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgRml4ZWRIaW5nZUpvaW50XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRml4ZWRIaW5nZUpvaW50IGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBib2R5QTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIGJvZHlCOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgcGl2b3RBOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIC0wLjUpO1xuICAgICAgICBwdWJsaWMgcGl2b3RCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDAuNSk7XG4gICAgICAgIHB1YmxpYyBjb25zdHJhaW50OiBCQUJZTE9OLkhpbmdlQ29uc3RyYWludCA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBjb2xsaXNpb25zRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlBSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHlCSW5mbzogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJib2R5QlwiKTtcbiAgICAgICAgICAgIGlmIChib2R5QUluZm8gIT0gbnVsbCAmJiBib2R5QkluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUEgPSAodGhpcy50cmFuc2Zvcm0ubmFtZSA9PT0gYm9keUFJbmZvLm5hbWUpID8gdGhpcy50cmFuc2Zvcm0gOiB0aGlzLmdldENoaWxkTm9kZShib2R5QUluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QiA9IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlCSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QSAhPSBudWxsICYmIHRoaXMuYm9keUIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2R5QS5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuYm9keUIucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbmV3IEJBQllMT04uSGluZ2VDb25zdHJhaW50KHRoaXMucGl2b3RBLCB0aGlzLnBpdm90QiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5QS5waHlzaWNzQm9keS5hZGRDb25zdHJhaW50KHRoaXMuYm9keUIucGh5c2ljc0JvZHksIHRoaXMuY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuaXNDb2xsaXNpb25zRW5hYmxlZCA9IHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ib2R5QiA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgTG9ja2VkSm9pbnRcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBMb2NrZWRKb2ludCBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYm9keUE6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBib2R5QjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLjUsIDAuNSwgLTAuNSk7XG4gICAgICAgIHB1YmxpYyBwaXZvdEI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoLTAuNSwgLTAuNSwgMC41KTtcbiAgICAgICAgcHVibGljIGF4aXNBOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDEsIDApO1xuICAgICAgICBwdWJsaWMgYXhpc0I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMSwgMCk7XG4gICAgICAgIHB1YmxpYyBjb25zdHJhaW50OiBCQUJZTE9OLkxvY2tDb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNvbGxpc2lvbnNFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYm9keUFJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlBXCIpO1xuICAgICAgICAgICAgY29uc3QgYm9keUJJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlCXCIpO1xuICAgICAgICAgICAgaWYgKGJvZHlBSW5mbyAhPSBudWxsICYmIGJvZHlCSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lID09PSBib2R5QUluZm8ubmFtZSkgPyB0aGlzLnRyYW5zZm9ybSA6IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlBSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlCID0gdGhpcy5nZXRDaGlsZE5vZGUoYm9keUJJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBICE9IG51bGwgJiYgdGhpcy5ib2R5QiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5ib2R5Qi5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBuZXcgQkFCWUxPTi5Mb2NrQ29uc3RyYWludCh0aGlzLnBpdm90QSwgdGhpcy5waXZvdEIsIHRoaXMuYXhpc0EsIHRoaXMuYXhpc0IsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5QS5waHlzaWNzQm9keS5hZGRDb25zdHJhaW50KHRoaXMuYm9keUIucGh5c2ljc0JvZHksIHRoaXMuY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuaXNDb2xsaXNpb25zRW5hYmxlZCA9IHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYm9keUEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ib2R5QiA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdHJhaW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgUHJpc21hdGljSm9pbnRcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBQcmlzbWF0aWNKb2ludCBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgYm9keUE6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBib2R5QjogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHVibGljIHBpdm90QTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAtMC4yKTtcbiAgICAgICAgcHVibGljIHBpdm90QjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwLjI1KTtcbiAgICAgICAgcHVibGljIGF4aXNBOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDEsIDApO1xuICAgICAgICBwdWJsaWMgYXhpc0I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMSwgMCk7XG4gICAgICAgIHB1YmxpYyBjb25zdHJhaW50OiBCQUJZTE9OLlByaXNtYXRpY0NvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY29sbGlzaW9uc0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBib2R5QUluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUFcIik7XG4gICAgICAgICAgICBjb25zdCBib2R5QkluZm86IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keUJcIik7XG4gICAgICAgICAgICBpZiAoYm9keUFJbmZvICE9IG51bGwgJiYgYm9keUJJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlBID0gKHRoaXMudHJhbnNmb3JtLm5hbWUgPT09IGJvZHlBSW5mby5uYW1lKSA/IHRoaXMudHJhbnNmb3JtIDogdGhpcy5nZXRDaGlsZE5vZGUoYm9keUFJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keUIgPSB0aGlzLmdldENoaWxkTm9kZShib2R5QkluZm8ubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEgIT0gbnVsbCAmJiB0aGlzLmJvZHlCICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keUEucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLmJvZHlCLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludCA9IG5ldyBCQUJZTE9OLlByaXNtYXRpY0NvbnN0cmFpbnQodGhpcy5waXZvdEEsIHRoaXMucGl2b3RCLCB0aGlzLmF4aXNBLCB0aGlzLmF4aXNCLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFNpeGRvZkpvaW50XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU2l4ZG9mSm9pbnQgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIGJvZHlBOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwaXZvdEE6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLTAuNSwgMCk7XG4gICAgICAgIHB1YmxpYyBwaXZvdEI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMC41LCAwKTtcbiAgICAgICAgcHVibGljIHBlcnBBeGlzQTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygxLCAwLCAwKTtcbiAgICAgICAgcHVibGljIHBlcnBBeGlzQjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygxLCAwLCAwKTtcbiAgICAgICAgcHVibGljIGF4aXNMaW1pdHM6IEJBQllMT04uUGh5c2ljczZEb0ZMaW1pdFtdID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNvbnN0cmFpbnQ6IEJBQllMT04uUGh5c2ljczZEb0ZDb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNvbGxpc2lvbnNFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYm9keUFJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlBXCIpO1xuICAgICAgICAgICAgY29uc3QgYm9keUJJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlCXCIpO1xuICAgICAgICAgICAgaWYgKGJvZHlBSW5mbyAhPSBudWxsICYmIGJvZHlCSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lID09PSBib2R5QUluZm8ubmFtZSkgPyB0aGlzLnRyYW5zZm9ybSA6IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlBSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlCID0gdGhpcy5nZXRDaGlsZE5vZGUoYm9keUJJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBICE9IG51bGwgJiYgdGhpcy5ib2R5QiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5ib2R5Qi5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBuZXcgQkFCWUxPTi5QaHlzaWNzNkRvRkNvbnN0cmFpbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXZvdEE6IHRoaXMucGl2b3RBLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXZvdEI6IHRoaXMucGl2b3RCLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJwQXhpc0E6IHRoaXMucGVycEF4aXNBLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJwQXhpc0I6IHRoaXMucGVycEF4aXNCXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF4aXNMaW1pdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keUEucGh5c2ljc0JvZHkuYWRkQ29uc3RyYWludCh0aGlzLmJvZHlCLnBoeXNpY3NCb2R5LCB0aGlzLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmlzQ29sbGlzaW9uc0VuYWJsZWQgPSB0aGlzLmNvbGxpc2lvbnNFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmJvZHlBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYm9keUIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RyYWludCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFNsaWRlckpvaW50XG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU2xpZGVySm9pbnQgZXh0ZW5kcyBCQUJZTE9OLlRvb2xraXQuU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHVibGljIGJvZHlBOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgYm9keUI6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBwaXZvdEE6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgLTAuMik7XG4gICAgICAgIHB1YmxpYyBwaXZvdEI6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMC4yNSk7XG4gICAgICAgIHB1YmxpYyBheGlzQTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKTtcbiAgICAgICAgcHVibGljIGF4aXNCOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDEsIDApO1xuICAgICAgICBwdWJsaWMgY29uc3RyYWludDogQkFCWUxPTi5TbGlkZXJDb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgcHVibGljIGNvbGxpc2lvbnNFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYm9keUFJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlBXCIpO1xuICAgICAgICAgICAgY29uc3QgYm9keUJJbmZvOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvZHlCXCIpO1xuICAgICAgICAgICAgaWYgKGJvZHlBSW5mbyAhPSBudWxsICYmIGJvZHlCSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5QSA9ICh0aGlzLnRyYW5zZm9ybS5uYW1lID09PSBib2R5QUluZm8ubmFtZSkgPyB0aGlzLnRyYW5zZm9ybSA6IHRoaXMuZ2V0Q2hpbGROb2RlKGJvZHlBSW5mby5uYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHlCID0gdGhpcy5nZXRDaGlsZE5vZGUoYm9keUJJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBICE9IG51bGwgJiYgdGhpcy5ib2R5QiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlBLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5ib2R5Qi5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnQgPSBuZXcgQkFCWUxPTi5TbGlkZXJDb25zdHJhaW50KHRoaXMucGl2b3RBLCB0aGlzLnBpdm90QiwgdGhpcy5heGlzQSwgdGhpcy5heGlzQiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZHlBLnBoeXNpY3NCb2R5LmFkZENvbnN0cmFpbnQodGhpcy5ib2R5Qi5waHlzaWNzQm9keSwgdGhpcy5jb25zdHJhaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludC5pc0NvbGxpc2lvbnNFbmFibGVkID0gdGhpcy5jb2xsaXNpb25zRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ib2R5QSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJvZHlCID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnN0cmFpbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RyYWludC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBSZW1vdGVQbGF5ZXJDb250cm9sbGVyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgUmVtb3RlUGxheWVyQ29udHJvbGxlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgdXBkYXRlU3RhdGVQYXJhbXM6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgc21vb3RoTW90aW9uVGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHNtb290aElucHV0VmVjdG9yczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlUGFyYW1zOiBQUk9KRUNULkFuaW1hdGlvblN0YXRlUGFyYW1zID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID0gdGhpcy5nZXRQcm9wZXJ0eShcInVwZGF0ZVN0YXRlUGFyYW1zXCIsIHRoaXMudXBkYXRlU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhNb3Rpb25UaW1lID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aE1vdGlvblRpbWVcIiwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aElucHV0VmVjdG9yc1wiLCB0aGlzLnNtb290aElucHV0VmVjdG9ycyk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0gdGhpcy5nZXRQcm9wZXJ0eShcImFuaW1hdGlvblN0YXRlUGFyYW1zXCIsIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgLy9jb25zb2xlLndhcm4oXCJSZW1vdGUgUGxheWVyIENvbnRyb2xsZXI6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTogbnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBGSVggVEhJUyBTSElUXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hBbmltYXRpb25Db250cm9sbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gUXVlcnkgTmV0d29yayBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLkhhc05ldHdvcmtFbnRpdHkodGhpcy50cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAwKTsgICAgICAgIC8vIERpcmVjdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hZ25pdHVkZTogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMSk7ICAgICAgICAvLyBNYWduaXR1ZGVcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFg6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDIpOyAgICAgICAgICAgLy8gSG9yaXpvbmFsXG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRaOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAzKTsgICAgICAgICAgIC8vIFZlcnRpY2FsXG4gICAgICAgICAgICAgICAgY29uc3QgbW91c2VYOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA0KTsgICAgICAgICAgIC8vIE1vdXNlWFxuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlWTogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNSk7ICAgICAgICAgICAvLyBNb3VzZXlcbiAgICAgICAgICAgICAgICBjb25zdCB2dmVsb2NpdHk6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDYpOyAgICAgICAgLy8gVmVydGljYWwgVmVsb2NpdHlcbiAgICAgICAgICAgICAgICBjb25zdCBtb3Zlc3BlZWQ6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDcpOyAgICAgICAgLy8gTW92ZW1lbnQgU3BlZWRcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zdGF0ZTogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgOCk7ICAgICAgLy8gQWN0aW9uIFN0YXRlXG4gICAgICAgICAgICAgICAgY29uc3QganVtcGZyYW1lOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA5KTsgICAgICAgIC8vIEp1bXAgRnJhbWVcbiAgICAgICAgICAgICAgICBjb25zdCBpc2p1bXBpbmc6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlF1ZXJ5QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEwKTsgICAgICAgLy8gSXMgSnVtcGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzZmFsbGluZzogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUXVlcnlCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTEpOyAgICAgICAvLyBJcyBGYWxsaW5nXG4gICAgICAgICAgICAgICAgY29uc3QgaXNzbGlkaW5nOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMik7ICAgICAgIC8vIElzIFNsaWRpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBpc2dyb3VuZGVkOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5RdWVyeUJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMyk7ICAgICAgLy8gSXMgR3JvdW5kZWRcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBBbmltYXRpb24gU3RhdGUgUGFyYW1zXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMudXBkYXRlU3RhdGVQYXJhbXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUFuaW1hdGlvblN0YXRlUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0SW50ZWdlcih0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdmVEaXJlY3Rpb24sIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5oZWlnaHRJbnB1dCwgdnZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuanVtcEZyYW1lLCAoanVtcGZyYW1lICE9PSAwKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmp1bXBTdGF0ZSwgKGlzanVtcGluZyAhPT0gMCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEludGVnZXIodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5hY3Rpb25TdGF0ZSwgYWN0aW9uc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5mYWxsaW5nU3RhdGUsIChpc2ZhbGxpbmcgIT09IDApKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc2xpZGluZ1N0YXRlLCAoaXNzbGlkaW5nICE9PSAwKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmdyb3VuZGVkU3RhdGUsIChpc2dyb3VuZGVkICE9PSAwKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNtb290aE1vdGlvblRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhJbnB1dFZlY3RvcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaG9yaXpvbnRhbElucHV0LCBpbnB1dFgsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgaW5wdXRaLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWElucHV0LCBtb3VzZVgsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VZSW5wdXQsIG1vdXNlWSwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaG9yaXpvbnRhbElucHV0LCBpbnB1dFgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCBpbnB1dFopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgbW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VZSW5wdXQsIG1vdXNlWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaW5wdXRNYWduaXR1ZGUsIG1hZ25pdHVkZSwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNwZWVkSW5wdXQsIG1vdmVzcGVlZCwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgaW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCBpbnB1dFopO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWElucHV0LCBtb3VzZVgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCBtb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmlucHV0TWFnbml0dWRlLCBtYWduaXR1ZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNwZWVkSW5wdXQsIG1vdmVzcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy9pZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgLy8gVE9ETyAtIFVwZGF0ZSBTcGVlZCBJbnB1dCBXaXRoIE5hdmlnYXRpb24gTWFnbml0dWRlXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIC8vIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCBtYWduaXR1ZGUpO1xuICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGF0dGFjaEFuaW1hdGlvbkNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlXCIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uTm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gdGhpcy5nZXRDaGlsZFdpdGhTY3JpcHQoXCJCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25Ob2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQoYW5pbWF0aW9uTm9kZSwgXCJCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERUJVRzogQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiRmFpbGVkIHRvIGxvY2F0ZSBhbmltYXRvciBub2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5vbkFuaW1hdGlvblVwZGF0ZU9ic2VydmFibGUuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUuaWtGcmFtZUVuYWJsZWQoKSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogVXBkYXRlIHRhcmdldCBtZXNoIHBvc2l0aW9uIFdoZW4gR3JvdW5kZWQgLSBVc2UgUmF5Y2FzdCAtID8/P1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLl9pa0xlZnRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuX2lrTGVmdENvbnRyb2xsZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMuX2lrUmlnaHRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuX2lrUmlnaHRDb250cm9sbGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdmFsaWRhdGVBbmltYXRpb25TdGF0ZVBhcmFtcygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uOiBcIkRpcmVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dE1hZ25pdHVkZTogXCJNYWduaXR1ZGVcIixcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbElucHV0OiBcIkhvcml6b250YWxcIixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxJbnB1dDogXCJWZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZVhJbnB1dDogXCJNb3VzZVhcIixcbiAgICAgICAgICAgICAgICAgICAgbW91c2VZSW5wdXQ6IFwiTW91c2VZXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodElucHV0OiBcIkhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZElucHV0OiBcIlNwZWVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1bXBGcmFtZTogXCJKdW1wZWRcIixcbiAgICAgICAgICAgICAgICAgICAganVtcFN0YXRlOiBcIkp1bXBcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU3RhdGU6IFwiQWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGZhbGxpbmdTdGF0ZTogXCJGcmVlRmFsbFwiLFxuICAgICAgICAgICAgICAgICAgICBzbGlkaW5nU3RhdGU6IFwiU2xpZGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBncm91bmRlZFN0YXRlOiBcIkdyb3VuZGVkXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHRvb2xraXQgc3RhbmRhcmQgcGxheWVyIGNvbnRyb2xsZXIgY2xhc3NcbiAgICAgKiBAY2xhc3MgU3RhbmRhcmRQbGF5ZXJDb250cm9sbGVyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU3RhbmRhcmRQbGF5ZXJDb250cm9sbGVyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1ZFUlRJQ0FMX1ZFTE9DSVRZOiBudW1iZXIgPSAwLjAxO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9HUk9VTkRfRElTVEFOQ0U6IG51bWJlciA9IDAuMTU7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX01PVkVfRVBTSUxPTjogbnVtYmVyID0gMC4wMDE7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1RJTUVSX09GRlNFVDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBNSU5fU0xPUEVfTElNSVQ6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUExBWUVSX0hFSUdIVDogc3RyaW5nID0gXCJwbGF5ZXJIZWlnaHRcIjtcblxuICAgICAgICBwdWJsaWMgZW5hYmxlSW5wdXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGF0dGFjaENhbWVyYTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcm90YXRlQ2FtZXJhOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIG1vdXNlV2hlZWw6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgdG9nZ2xlVmlldzogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBmcmVlTG9va2luZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcmVxdWlyZVNwcmludEJ1dHRvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZ3Jhdml0YXRpb25hbEZvcmNlOiBudW1iZXIgPSAzLjA7XG4gICAgICAgIHB1YmxpYyBtaW5GYWxsVmVsb2NpdHk6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIHZlcnRpY2FsU3RlcFNwZWVkOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBtaW5TdGVwVXBIZWlnaHQ6IG51bWJlciA9IDAuMTU7XG4gICAgICAgIHB1YmxpYyByaWdpZEJvZHlNYXNzOiBudW1iZXIgPSA4NS4wO1xuICAgICAgICBwdWJsaWMgYWlyYm9yblRpbWVvdXQ6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIG1heEFuZ2xlOiBudW1iZXIgPSA0NTtcbiAgICAgICAgcHVibGljIHNwZWVkRmFjdG9yOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyByb290TW90aW9uOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBtb3ZlU3BlZWQ6IG51bWJlciA9IDUuMzM1O1xuICAgICAgICBwdWJsaWMgd2Fsa1NwZWVkOiBudW1iZXIgPSAyLjA7XG4gICAgICAgIHB1YmxpYyBsb29rU3BlZWQ6IG51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIGp1bXBTcGVlZDogbnVtYmVyID0gMTAuMDtcbiAgICAgICAgcHVibGljIGp1bXBEZWxheTogbnVtYmVyID0gMC4yNTtcbiAgICAgICAgcHVibGljIGV5ZXNIZWlnaHQ6IG51bWJlciA9IDEuNTU7XG4gICAgICAgIHB1YmxpYyBwaXZvdEhlaWdodDogbnVtYmVyID0gMS4zNTtcbiAgICAgICAgcHVibGljIG1heERpc3RhbmNlOiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBzY3JvbGxTcGVlZDogbnVtYmVyID0gMjU7XG4gICAgICAgIHB1YmxpYyB0b3BMb29rTGltaXQ6IG51bWJlciA9IDYwLjA7XG4gICAgICAgIHB1YmxpYyBkb3duTG9va0xpbWl0OiBudW1iZXIgPSAzMC4wO1xuICAgICAgICBwdWJsaWMgbG93VHVyblNwZWVkOiBudW1iZXIgPSAxNS4wO1xuICAgICAgICBwdWJsaWMgaGlnaFR1cm5TcGVlZDogbnVtYmVyID0gMjUuMDtcbiAgICAgICAgcHVibGljIHNtb290aE1vdGlvblRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzbW9vdGhJbnB1dFZlY3RvcnM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHNtb290aEFjY2VsZXJhdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgYWNjZWxlcmF0aW9uU3BlZWQ6IG51bWJlciA9IDAuMTtcbiAgICAgICAgcHVibGljIGRlY2VsZXJhdGlvblNwZWVkOiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBhdmF0YXJTa2luVGFnOiBzdHJpbmcgPSBcIlNraW5cIjtcbiAgICAgICAgcHVibGljIGNsaW1iVm9sdW1lVGFnOiBzdHJpbmcgPSBcIkNsaW1iXCI7XG4gICAgICAgIHB1YmxpYyB2YXVsdFZvbHVtZVRhZzogc3RyaW5nID0gXCJWYXVsdFwiO1xuICAgICAgICBwdWJsaWMgbWF4SGVpZ2h0UmFuZ2VzOiBhbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdXNlQ2xpbWJTeXN0ZW06IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGRpc3RhbmNlRmFjdG9yOiBudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgY2FtZXJhU21vb3RoaW5nOiBudW1iZXIgPSA4O1xuICAgICAgICBwdWJsaWMgY2FtZXJhQ29sbGlzaW9uczogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBpbnB1dE1hZ25pdHVkZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGxhbmRpbmdFcHNpbG9uOiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBtaW5pbXVtRGlzdGFuY2U6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHVibGljIG1vdmVtZW50QWxsb3dlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJJbnB1dFg6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJJbnB1dFo6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJNb3VzZVg6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBwbGF5ZXJNb3VzZVk6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBydW5LZXlSZXF1aXJlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBidXR0b25SdW46IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5MZWZ0U3RpY2s7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZFJ1bjogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEtleS5TaGlmdDtcbiAgICAgICAgcHVibGljIGJ1dHRvbkp1bXA6IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5BO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRKdW1wOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlNwYWNlQmFyO1xuICAgICAgICBwdWJsaWMgYnV0dG9uQ2FtZXJhOiBudW1iZXIgPSBCQUJZTE9OLlhib3gzNjBCdXR0b24uWTtcbiAgICAgICAgcHVibGljIGtleWJvYXJkQ2FtZXJhOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlA7XG4gICAgICAgIHB1YmxpYyBwb3N0TmV0d29ya0F0dHJpYnV0ZXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHBsYXllck51bWJlcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lO1xuICAgICAgICBwdWJsaWMgYm9vbVBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwdWJsaWMgYWlyYm9yblZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRWZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIHRhcmdldENhbWVyYU9mZnNldDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIGlzQW5pbWF0aW9uRW5hYmxlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMudXBkYXRlU3RhdGVQYXJhbXM7IH1cbiAgICAgICAgcHVibGljIGlzUnVuQnV0dG9uUHJlc3NlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNSdW5QcmVzc2VkOyB9XG4gICAgICAgIHB1YmxpYyBpc0p1bXBCdXR0b25QcmVzc2VkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0p1bXBQcmVzc2VkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJKdW1wZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJKdW1waW5nKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmc7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllckZhbGxpbmcoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyU2xpZGluZygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJHcm91bmRlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0RmFsbFRyaWdnZXJlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRNb3ZlbWVudFNwZWVkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLm1vdmVtZW50U3BlZWQ7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYUJvb21Ob2RlKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmNhbWVyYU5vZGU7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVRyYW5zZm9ybSgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jYW1lcmFQaXZvdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0QW5pbWF0aW9uU3RhdGUoKTogQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlIHsgcmV0dXJuIHRoaXMuYW5pbWF0aW9uU3RhdGU7IH1cbiAgICAgICAgcHVibGljIGdldFZlcnRpY2FsVmVsb2NpdHkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZ2V0Q2hlY2tlZFZlcnRpY2FsVmVsb2NpdHkoKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2hhcmFjdGVyQ29udHJvbGxlcigpOiBCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlciB7IHJldHVybiB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXI7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllckxvb2tSb3RhdGlvbigpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5wbGF5ZXJMb29rUm90YXRpb247IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllck1vdmVEaXJlY3Rpb24oKTogUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uIHsgcmV0dXJuIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SW5wdXRNb3ZlbWVudFZlY3RvcigpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yOyB9XG4gICAgICAgIHB1YmxpYyBnZXRJbnB1dE1hZ25pdHVkZVZhbHVlKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmlucHV0TWFnbml0dWRlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFQaXZvdFBvc2l0aW9uKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSA/IHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24gOiBudWxsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFQaXZvdFJvdGF0aW9uKCk6IEJBQllMT04uUXVhdGVybmlvbiB7IHJldHVybiAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSA/IHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uIDogbnVsbDsgfVxuXG4gICAgICAgIHB1YmxpYyByYXlDbGltYk9mZnNldDogbnVtYmVyID0gMC4zNTtcbiAgICAgICAgcHVibGljIHJheUNsaW1iTGVuZ3RoOiBudW1iZXIgPSAwLjg1O1xuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdE5vZGUoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0Tm9kZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0UG9pbnQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0UG9pbnQ7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdEFuZ2xlKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdEFuZ2xlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3ROb3JtYWwoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3REaXN0YW5jZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3REaXN0YW5jZTsgfTtcbiAgICAgICAgcHVibGljIGNhbkNsaW1iT2JzdGFjbGVQcmVkaWNhdGU6IChhY3Rpb246IG51bWJlcikgPT4gYm9vbGVhbiA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHJheUhlaWdodE9mZnNldDogbnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgcmF5SGVpZ2h0TGVuZ3RoOiBudW1iZXIgPSA2LjA7XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0Tm9kZSgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0Tm9kZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdFBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdEFuZ2xlKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3RBbmdsZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0SGVpZ2h0Q29udGFjdE5vcm1hbCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0RGlzdGFuY2UoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdERpc3RhbmNlOyB9O1xuXG4gICAgICAgIHByaXZhdGUgYWJzdHJhY3RNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRGlzdGFuY2U6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZm9yd2FyZENhbWVyYTogYm9vbGVhbiA9IHRydWU7IC8vIE5vdGUgQWx3YXlzIENhbWVyYSBGb3J3YXJkXG4gICAgICAgIHByaXZhdGUgYXZhdGFyUmFkaXVzOiBudW1iZXIgPSAwLjU7XG4gICAgICAgIHByaXZhdGUgZ3JvdW5kaW5nT2JqZWN0OiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGdyb3VuZGluZ0NhbGxiYWNrOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGRvbGx5RGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNhbWVyYUV1bGVyczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSByb3RhdGlvbkV1bGVyczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFQaXZvdE9mZnNldDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFGb3J3YXJkVmVjdG9yOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVJpZ2h0VmVjdG9yOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGRlc2lyZWRGb3J3YXJkVmVjdG9yOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGRlc2lyZWRSaWdodFZlY3RvcjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0Um90YXRpb25RdWF0ZXJuaW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDEpO1xuICAgICAgICBwcml2YXRlIHNjYWxlZENhbURpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBzY2FsZWRNYXhEaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcGFyZW50Tm9kZVBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIG1heGltdW1DYW1lcmFQb3M6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgdGVtcFdvcmxkUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFSYXljYXN0U2hhcGU6IEJBQllMT04uUGh5c2ljc1NoYXBlU3BoZXJlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0UmF5Y2FzdEdyb3VwOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyO1xuICAgICAgICBwcml2YXRlIGRlZmF1bHRSYXljYXN0TWFzazogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LkNvbGxpc2lvbkZpbHRlcnMuU3RhdGljRmlsdGVyO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVJheWNhc3RNYXNrOiBudW1iZXIgPSAoQkFCWUxPTi5Ub29sa2l0LkNvbGxpc2lvbkZpbHRlcnMuRGVmYXVsdEZpbHRlciB8IEJBQllMT04uVG9vbGtpdC5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlciB8IEJBQllMT04uVG9vbGtpdC5Db2xsaXNpb25GaWx0ZXJzLktpbmVtYXRpY0ZpbHRlcik7IC8vIE5vdGU6IEV4Y2x1ZGUgVGhlIFBsYXllciBDaGFyYWN0ZXIgQ29udHJvbGxlciBGcm9tIENhbWVyYSBDb2xsaXNpb25cblxuICAgICAgICBwcml2YXRlIGF2YXRhclNraW5zOiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFOb2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVBpdm90OiBCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIG5hdmlnYXRpb25BZ2VudDogQkFCWUxPTi5Ub29sa2l0Lk5hdmlnYXRpb25BZ2VudCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2hhcmFjdGVyQ29udHJvbGxlcjogQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHZlcnRpY2FsVmVsb2NpdHk6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbW92ZW1lbnRTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBpc1J1blByZXNzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0p1bXBQcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJTbGlkaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJGYWxsaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJHcm91bmRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyRmFsbFRyaWdnZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVySnVtcEZyYW1lOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJKdW1waW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJMYW5kaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJSaXNpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlck5hdmlnYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBuYXZpZ2F0aW9uQW5ndWxhclNwZWVkOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHVwZGF0ZVN0YXRlUGFyYW1zOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRpb25TdGF0ZVBhcmFtczogUFJPSkVDVC5BbmltYXRpb25TdGF0ZVBhcmFtcyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3BoZXJlQ29sbGlzaW9uU2hhcGU6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgaGFzR3JvdW5kZWRDb250YWN0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBzaG93RGVidWdSYXljYXN0czogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNob3dEZWJ1Z0NvbGxpZGVyczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNvbGxpZGVyVmlzaWJpbGl0eTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjb2xsaWRlclJlbmRlckdyb3VwOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIHByaXZhdGUgZGVsdGFUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1pbkp1bXBUaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBkZWxheUp1bXBUaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJDb250cm9sOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNhblBsYXllckp1bXA6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHJpdmF0ZSByb3RhdGlvblZlbG9jaXR5WDpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwcml2YXRlIHJvdGF0aW9uVmVsb2NpdHlZOkJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0SnVtcFZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGlucHV0TW92ZW1lbnRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTG9va1JvdGF0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uVmVjdG9yOiBCQUJZTE9OLlZlY3RvcjIgPSBCQUJZTE9OLlZlY3RvcjIuWmVybygpO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdmVtZW50VmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyUm90YXRpb25RdWF0ZXJuaW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdmVEaXJlY3Rpb246IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdGF0aW9uYXJ5O1xuICAgICAgICBwcml2YXRlIGZvcndhcmREaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgZG93bkRpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMSwgMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3ROb2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdEFuZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3REaXN0YW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjbGltYlNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb2Zmc2V0Q2xpbWJSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBlbmRDbGltYlJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0Tm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0QW5nbGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdERpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGhlaWdodFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb2Zmc2V0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGVuZEhlaWdodFJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcm90ZWN0ZWQgbV92ZWxvY2l0eU9mZnNldDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fYWN0dWFsVmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2xpbmVhclZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9sYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX3Bvc2l0aW9uQ2VudGVyOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zY2FsZWRWZWxvY2l0eTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJvdGVjdGVkIHBsYXllckRyYXdWZWxvY2l0eTogbnVtYmVyID0gMDtcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwcm9wZXJ0aWVzPzogYW55KSB7XG4gICAgICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIHNjZW5lLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZVBsYXllckNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuc3RhcnRQbGF5ZXJDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyB0aGlzLmFmdGVyUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IHRoaXMudXBkYXRlUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lQbGF5ZXJDb250cm9sbGVyKCk7IH1cblxuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaGFzIGJlZW4gdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25QcmVVcGRhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBtb3ZlbWVudCBoYXMgYmVlbiBhcHBsaWVkICovXG4gICAgICAgIHB1YmxpYyBvbkJlZm9yZU1vdmVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGFmdGVyIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgcGxheWVyIGlucHV0IGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUGxheWVySW5wdXRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gcGxheWVyIHBvc2l0aW9uIHNob3VsZCBiZSB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBhZnRlciBwZXJmb3JtaW5nIGFjdGlvbiBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblVwZGF0ZUFjdGlvbk9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBSb290IE1vdGlvbiBBbmltYXRpb24gU3lzdGVtXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBfZGVsdGFNb3Rpb25Qb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIGdldERlbHRhTW90aW9uUG9zaXRpb24oKTogQkFCWUxPTi5WZWN0b3IzIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbHRhTW90aW9uUG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RNb3Rpb25Qb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5hbmltYXRpb25TdGF0ZS5nZXREZWx0YVJvb3RNb3Rpb25Qb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChyb290TW90aW9uUG9zaXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogQ2FsY3VsYXRlIERlbHRhIFJvb3QgTW90aW9uIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlbHRhTW90aW9uUG9zaXRpb24uY29weUZyb20ocm9vdE1vdGlvblBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsdGFNb3Rpb25Qb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2RlbHRhTW90aW9uUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBnZXREZWx0YU1vdGlvblJvdGF0aW9uKCk6IEJBQllMT04uUXVhdGVybmlvbiB7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblJvdGF0aW9uLnNldCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb290TW90aW9uUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IHRoaXMuYW5pbWF0aW9uU3RhdGUuZ2V0RGVsdGFSb290TW90aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocm9vdE1vdGlvblJvdGF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IENhbGN1bGF0ZSBEZWx0YSBSb290IE1vdGlvbiBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblJvdGF0aW9uLmNvcHlGcm9tKHJvb3RNb3Rpb25Sb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbHRhTW90aW9uUm90YXRpb247XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBCbG9ja2luZyBBY3Rpb24gQW5pbWF0aW9uIFN5c3RlbVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgaXNQZXJmb3JtaW5nQWN0aW9uOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNSb290TW90aW9uQWN0aW9uOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNBY3Rpb25JbnRlcnJ1cHRhYmxlOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgYWZ0ZXJBY3Rpb25IYW5kbGVyOiBGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcGVyZm9ybUFjdGlvblRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBlcmZvcm1BY3Rpb25OdW1iZXI6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyUm90YXRpb25TcGVlZDogbnVtYmVyID0gMTA7XG4gICAgICAgIHByaXZhdGUgcm90YXRlUGxheWVyVG93YXJkczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIG1hdGNoU3RhcnRUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1hdGNoVGFyZ2V0VGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFRhcmdldE9mZnNldDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFRhcmdldEhlaWdodDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGxvY2tUYXJnZXRIZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0U3RhcnRIZWlnaHQ6IEJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbGFzdFRhcmdldEhlaWdodDogQkFCWUxPTi5OdWxsYWJsZTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBsYXN0VGFyZ2V0Tm9ybWFsOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGxhc3RUYXJnZXRSb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0RGVsdGFQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0RGVsdGFSb3RhdGlvbjogQkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgcHVibGljIGdldElzUGVyZm9ybWluZ0FjdGlvbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uOyB9XG4gICAgICAgIHB1YmxpYyBnZXRJc1Jvb3RNb3Rpb25BY3Rpb24oKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SXNBY3Rpb25JbnRlcnJ1cHRhYmxlKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGU7IH1cbiAgICAgICAgcHVibGljIHBsYXlBY3Rpb25BbmltYXRpb24oYWN0aW9uOiBudW1iZXIsIGludGVycnVwdGFibGVBY3Rpb246IGJvb2xlYW4gPSB0cnVlLCBlbmFibGVSb290TW90aW9uOiBib29sZWFuID0gZmFsc2UsIGFmdGVyQWN0aW9uQ29tcGxldGU6ICgpID0+IHZvaWQgPSBudWxsKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IGZhbHNlICYmIHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCAmJiBhY3Rpb24gPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyID0gYWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJBY3Rpb25IYW5kbGVyID0gYWZ0ZXJBY3Rpb25Db21wbGV0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aW9uSW50ZXJydXB0YWJsZSA9IGludGVycnVwdGFibGVBY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5pc1Jvb3RNb3Rpb25BY3Rpb24gPSBlbmFibGVSb290TW90aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25TcGVlZCA9IDEwO1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlUGxheWVyVG93YXJkcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hTdGFydFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NrVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U3RhcnRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRSb3RhdGlvbi5zZXQoMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNSb290TW90aW9uQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcihmYWxzZSk7IC8vIE5vdGU6IERpc2FibGUgQ2hhcmFjdGVyIENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnJlc2V0U21vb3RoUHJvcGVydHkoUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuUExBWUVSX0hFSUdIVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyByZXNldEFjdGlvbkFuaW1hdGlvblN0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWZ0ZXJBY3Rpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0cnkgeyB0aGlzLmFmdGVyQWN0aW9uSGFuZGxlcigpOyB9IGNhdGNoIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSb290TW90aW9uQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmFibGVDaGFyYWN0ZXJDb250cm9sbGVyKHRydWUpOyAvLyBOb3RlOiBFbmFibGUgQ2hhcmFjdGVyIENvbnRyb2xsZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnJlc2V0U21vb3RoUHJvcGVydHkoUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuUExBWUVSX0hFSUdIVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciA9IDA7XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25OdW1iZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQWN0aW9uSW50ZXJydXB0YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hZnRlckFjdGlvbkhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblNwZWVkID0gMTA7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hTdGFydFRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldFRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldE9mZnNldCA9IDA7XG4gICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmxvY2tUYXJnZXRIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXROb3JtYWwuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24uc2V0KDAsIDAsIDAsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVBbmltYXRpb25BY3Rpb25TdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTogbnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbXBUaW1lOiBudW1iZXIgPSAodGhpcy5tYXRjaFRhcmdldFRpbWUgLSB0aGlzLm1hdGNoU3RhcnRUaW1lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgdGhpcy5pc1Jvb3RNb3Rpb25BY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJHbG9iYWxIZWlnaHQ6IG51bWJlciA9IHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuZ2V0RGVsdGFNb3Rpb25Qb3NpdGlvbigpKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5sYXN0RGVsdGFQb3NpdGlvbiwgdGhpcy50cmFuc2Zvcm0uZ2V0V29ybGRNYXRyaXgoKSwgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWF0Y2hUYXJnZXRIZWlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID09IG51bGwgJiYgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPj0gdGhpcy5tYXRjaFN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0U3RhcnRIZWlnaHQgPSBwbGF5ZXJHbG9iYWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnJlc2V0U21vb3RoUHJvcGVydHkoUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuUExBWUVSX0hFSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCI+Pj4gU3RhcnQgR2xvYmFsIEhlaWdodDogXCIgKyB0aGlzLmxhc3RTdGFydEhlaWdodCArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdFN0YXJ0SGVpZ2h0ICE9IG51bGwgJiYgdGhpcy5sYXN0VGFyZ2V0SGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXhlZFRhcmdldEhlaWdodDogbnVtYmVyID0gKHRoaXMubGFzdFRhcmdldEhlaWdodCArIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVyZm9ybUFjdGlvblRpbWVyIDwgdGhpcy5tYXRjaFRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQsIGZpeGVkVGFyZ2V0SGVpZ2h0LCBkYW1wVGltZSwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbW9vdGhQbGF5ZXJIZWlnaHQ6IG51bWJlciA9IHRoaXMuYW5pbWF0aW9uU3RhdGUuZ2V0RmxvYXQoUFJPSkVDVC5UaGlyZFBlcnNvblBsYXllckNvbnRyb2xsZXIuUExBWUVSX0hFSUdIVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi55ID0gKHNtb290aFBsYXllckhlaWdodCAtIHBsYXllckdsb2JhbEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IExlcnAgVGFyZ2V0IERlbHRhOiBcIiArIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5sb2NrVGFyZ2V0SGVpZ2h0ID09PSBmYWxzZSAmJiB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciA+PSB0aGlzLm1hdGNoVGFyZ2V0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSA9IChmaXhlZFRhcmdldEhlaWdodCAtIHBsYXllckdsb2JhbEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NrVGFyZ2V0SGVpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCI+Pj4gTGFzdCBHbG9iYWwgRGVsdGE6IFwiICsgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi55ICsgXCIgLS0+IFBlcmZvcm0gQWN0aW9uIFRpbWVyOiBcIiArIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyICsgXCIgLS0tPiBNYXRjaCBUYXJnZXQgVGltZTogXCIgKyB0aGlzLm1hdGNoVGFyZ2V0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBBcHBseSBSb290IE1vdGlvbiBUbyBQb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi54ID0gMDsgLy8gRklYTUU6IEFwcGx5IFJvdGF0aW9uIFkgRGlmZmVyZW5jZSBGYWN0b3IgRnJvbSBVbml0eVxuICAgICAgICAgICAgICAgIC8vIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSA9IDA7IC8vIEZJWE1FOiBBcHBseSBSb3RhdGlvbiBZIERpZmZlcmVuY2UgRmFjdG9yIEZyb20gVW5pdHlcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMubGFzdERlbHRhUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUGxheWVyIEFjdGlvbiBIZWlnaHQ6IFwiICsgcGxheWVyR2xvYmFsSGVpZ2h0ICsgXCIgLS0+IFBlcmZvcm0gQWN0aW9uIFRpbWVyOiBcIiArIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkN1cnJlbnQgRGVsdGEgSGVpZ2h0OiBcIiArIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBBcHBseSBSb290IE1vdGlvbiBUbyBSb3RhdGlvblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlUGxheWVyVG93YXJkcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGltYkNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldE5vcm1hbC5zZXQoLXRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLngsIC10aGlzLmNsaW1iQ29udGFjdE5vcm1hbC55LCAtdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkxvb2tSb3RhdGlvblRvUmVmKHRoaXMubGFzdFRhcmdldE5vcm1hbCwgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVycEFtb3VudDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5wbGF5ZXJSb3RhdGlvblNwZWVkICogZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24sIGxlcnBBbW91bnQsIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2xpbWIgVGFyZ2V0IFJvdGF0aW9uOiBcIiArIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUm90YXRpb24uY29weUZyb20odGhpcy5nZXREZWx0YU1vdGlvblJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlJblBsYWNlKHRoaXMubGFzdERlbHRhUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyICs9IGRlbHRhVGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIENvbnRyb2xsZXIgQXR0YWNobWVudCBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogU2V0IHRoZSBwbGF5ZXIgd29ybGQgcG9zaXRpb24gKi9cbiAgICAgICAgcHVibGljIHNldFdvcmxkUG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldCh4LCB5LCB6KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgc2V0UGxheWVyQ29udHJvbChtb2RlOiBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJDb250cm9sID0gbW9kZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uU3RyYWZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dBdmF0YXJTa2lucyh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QXZhdGFyU2tpbnMoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mb3J3YXJkQ2FtZXJhID0gZmFsc2U7IC8vIE5vdGVMIEFsd2F5cyBGYWxzZVxuICAgICAgICB9XG4gICAgICAgIC8qKiBUT0RPICovXG4gICAgICAgIHB1YmxpYyB0b2dnbGVQbGF5ZXJDb250cm9sKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9nZ2xlVmlldyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLkZpcnN0UGVyc29uU3RyYWZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQbGF5ZXJDb250cm9sKFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uU3RyYWZpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGxheWVyQ29udHJvbChQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5GaXJzdFBlcnNvblN0cmFmaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzaG93QXZhdGFyU2tpbnMoc2hvdzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXZhdGFyU2tpbnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBNYWtlIFNraW5zIFZpc2libGUgT3IgTm90IFRPIENhbWVyYSBCdXQgS2VlcCBTaGFkb3dzIC0gPz8/XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJTa2lucy5mb3JFYWNoKChza2luOiBCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyBza2luLmlzVmlzaWJsZSA9IHNob3c7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIGF0dGFjaFBsYXllckNhbWVyYShwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckNhbWVyYTogbnVtYmVyID0gKHBsYXllciA8PSAwIHx8IHBsYXllciA+IDQpID8gMSA6IHBsYXllcjtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUgPSBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uR2V0Q2FtZXJhVHJhbnNmb3JtKHRoaXMuc2NlbmUsIHBsYXllckNhbWVyYSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZS5wYXJlbnQgPSB0aGlzLmNhbWVyYVBpdm90O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24uY29weUZyb20odGhpcy5ib29tUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgYWN0dWFsQ2FtZXJhOkJBQllMT04uVW5pdmVyc2FsQ2FtZXJhID0gU00uRmluZFNjZW5lQ2FtZXJhUmlnKHRoaXMuY2FtZXJhTm9kZSkgYXMgQkFCWUxPTi5Vbml2ZXJzYWxDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChhY3R1YWxDYW1lcmEgIT0gbnVsbCkgYWN0dWFsQ2FtZXJhLnJvdGF0aW9uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXMoQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnMoMzApLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBNb3ZlIHNvbWV3aGVyZSBiZXR0ZXIgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIEhhbmRsZSBMb25nIEludGl0aWFsIENhbWVyYSBQYW4gLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFEaXN0YW5jZSA9IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERFQlVHOiBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJGYWlsZWQgdG8gbG9jYXRlIHBsYXllciBjYW1lcmEgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2lrTGVmdENvbnRyb2xsZXI6IEJBQllMT04uQm9uZUlLQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrTGVmdEZvb3RUYXJnZXQ6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrTGVmdFBvbGVUYXJnZXQ6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrUmlnaHRDb250cm9sbGVyOiBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0Rm9vdFRhcmdldDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaWtSaWdodFBvbGVUYXJnZXQ6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBhYnN0cmFjdFNraW5NZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcm9vdEJvbmVUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbGVmdEZvb3RUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIC8vcHJpdmF0ZSBsZWZ0Rm9vdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290UG9sZVBvczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdEJlbmRBeGlzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290UG9sZUFuZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290TWF4QW5nbGU6IG51bWJlciA9IDE4MDtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RUcmFuc2Zvcm06IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIC8vcHJpdmF0ZSByaWdodEZvb3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RQb2xlUG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdEJlbmRBeGlzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdFBvbGVBbmdsZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSByaWdodEZvb3RNYXhBbmdsZTogbnVtYmVyID0gMTgwO1xuXG4gICAgICAgIHB1YmxpYyBnZXRMZWZ0Rm9vdFRhcmdldCgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5faWtMZWZ0Rm9vdFRhcmdldDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmlnaHRGb290VGFyZ2V0KCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldDsgfVxuICAgICAgICBwdWJsaWMgZ2V0TGVmdEZvb3RDb250cm9sbGVyKCk6IEJBQllMT04uQm9uZUlLQ29udHJvbGxlciB7IHJldHVybiB0aGlzLl9pa0xlZnRDb250cm9sbGVyOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSaWdodEZvb3RDb250cm9sbGVyKCk6IEJBQllMT04uQm9uZUlLQ29udHJvbGxlciB7IHJldHVybiB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlcjsgfVxuICAgICAgICBwdWJsaWMgYXR0YWNoQm9uZUNvbnRyb2xsZXJzKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheUhhbmRsZXM6IGJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwiZGlzcGxheUhhbmRsZXNcIik7XG4gICAgICAgICAgICBjb25zdCBhYnN0cmFjdFNraW5NZXNoRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhYnN0cmFjdFNraW5NZXNoXCIpO1xuICAgICAgICAgICAgaWYgKGFic3RyYWN0U2tpbk1lc2hEYXRhICE9IG51bGwpIHRoaXMuYWJzdHJhY3RTa2luTWVzaCA9IHRoaXMuZ2V0Q2hpbGROb2RlKGFic3RyYWN0U2tpbk1lc2hEYXRhLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaDtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RCb25lVHJhbnNmb3JtRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb290Qm9uZVRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGlmIChyb290Qm9uZVRyYW5zZm9ybURhdGEgIT0gbnVsbCkgdGhpcy5yb290Qm9uZVRyYW5zZm9ybSA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJvb3RCb25lVHJhbnNmb3JtRGF0YS5uYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5FeGFjdE1hdGNoLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgbGVmdEZvb3RUcmFuc2Zvcm1EYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290VHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRGb290VHJhbnNmb3JtRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290VHJhbnNmb3JtID0gdGhpcy5nZXRDaGlsZE5vZGUobGVmdEZvb3RUcmFuc2Zvcm1EYXRhLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKTtcblxuICAgICAgICAgICAgLy9jb25zdCBsZWZ0Rm9vdFBvc2l0aW9uRGF0YTpCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdFBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgLy9pZiAobGVmdEZvb3RQb3NpdGlvbkRhdGEgIT0gbnVsbCkgdGhpcy5sZWZ0Rm9vdFBvc2l0aW9uLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGxlZnRGb290UG9zaXRpb25EYXRhKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxlZnRQb2xlSGFuZGxlRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RQb2xlUG9zXCIpO1xuICAgICAgICAgICAgaWYgKGxlZnRQb2xlSGFuZGxlRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290UG9sZVBvcy5jb3B5RnJvbShCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhsZWZ0UG9sZUhhbmRsZURhdGEpKTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRCZW5kQXhpc0RhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290QmVuZEF4aXNcIik7XG4gICAgICAgICAgICBpZiAobGVmdEJlbmRBeGlzRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290QmVuZEF4aXMuY29weUZyb20oQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMobGVmdEJlbmRBeGlzRGF0YSkpO1xuICAgICAgICAgICAgdGhpcy5sZWZ0Rm9vdFBvbGVBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdFBvbGVBbmdsZVwiLCB0aGlzLmxlZnRGb290UG9sZUFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMubGVmdEZvb3RNYXhBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdE1heEFuZ2xlXCIsIHRoaXMubGVmdEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcmlnaHRGb290VHJhbnNmb3JtRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVRyYW5zZm9ybSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RUcmFuc2Zvcm1cIik7XG4gICAgICAgICAgICBpZiAocmlnaHRGb290VHJhbnNmb3JtRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSA9IHRoaXMuZ2V0Q2hpbGROb2RlKHJpZ2h0Rm9vdFRyYW5zZm9ybURhdGEubmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuXG4gICAgICAgICAgICAvL2NvbnN0IHJpZ2h0Rm9vdFBvc2l0aW9uRGF0YTpCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RQb3NpdGlvblwiKTtcbiAgICAgICAgICAgIC8vaWYgKHJpZ2h0Rm9vdFBvc2l0aW9uRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdFBvc2l0aW9uLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHJpZ2h0Rm9vdFBvc2l0aW9uRGF0YSkpO1xuXG4gICAgICAgICAgICBjb25zdCByaWdodFBvbGVIYW5kbGVEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RQb2xlUG9zXCIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0UG9sZUhhbmRsZURhdGEgIT0gbnVsbCkgdGhpcy5yaWdodEZvb3RQb2xlUG9zLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHJpZ2h0UG9sZUhhbmRsZURhdGEpKTtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0QmVuZEF4aXNEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RCZW5kQXhpc1wiKTtcbiAgICAgICAgICAgIGlmIChyaWdodEJlbmRBeGlzRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdEJlbmRBeGlzLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHJpZ2h0QmVuZEF4aXNEYXRhKSk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0Rm9vdFBvbGVBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RQb2xlQW5nbGVcIiwgdGhpcy5yaWdodEZvb3RQb2xlQW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5yaWdodEZvb3RNYXhBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdodEZvb3RNYXhBbmdsZVwiLCB0aGlzLnJpZ2h0Rm9vdE1heEFuZ2xlKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5hYnN0cmFjdFNraW5NZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWF0ZXJpYWxOYW1lOiBzdHJpbmcgPSBcIk1fVEFSR0VUX01FU0hcIjtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TWF0ZXJpYWw6IEJBQllMT04uTWF0ZXJpYWwgPSB0aGlzLnNjZW5lLmdldE1hdGVyaWFsQnlOYW1lKG1hdGVyaWFsTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldE1hdGVyaWFsID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKFwiTV9UQVJHRVRfTUVTSFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgKDxCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWw+dGFyZ2V0TWF0ZXJpYWwpLmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLjAsIDAuNSwgMC4yNSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgTGVmdCBGb290IENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxlZnRGb290VHJhbnNmb3JtICE9IG51bGwgJiYgKDxhbnk+dGhpcy5sZWZ0Rm9vdFRyYW5zZm9ybSkuX2xpbmtlZEJvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRGb290VGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkxlZnRGb290VGFyZ2V0XCIsIHsgd2lkdGg6IDAuMSwgaGVpZ2h0OiAwLjEsIGRlcHRoOiAwLjEgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuX2lrTGVmdEZvb3RUYXJnZXQucG9zaXRpb24uY29weUZyb20odGhpcy5sZWZ0Rm9vdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0Rm9vdFRhcmdldC5tYXRlcmlhbCA9IHRhcmdldE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0Rm9vdFRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkxlZnRGb290UG9sZVwiLCB7IGRpYW1ldGVyOiAwLjE1IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LnBhcmVudCA9IHRoaXMuYWJzdHJhY3RTa2luTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmxlZnRGb290UG9sZVBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQuaXNWaXNpYmxlID0gZGlzcGxheUhhbmRsZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5faWtMZWZ0Q29udHJvbGxlciA9IG5ldyBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIodGhpcy5hYnN0cmFjdFNraW5NZXNoLCAoPGFueT50aGlzLmxlZnRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSwge3RhcmdldE1lc2g6dGhpcy5faWtMZWZ0Rm9vdFRhcmdldCwgcG9sZVRhcmdldE1lc2g6dGhpcy5faWtMZWZ0UG9sZVRhcmdldCwgcG9sZUFuZ2xlOkJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMubGVmdEZvb3RQb2xlQW5nbGUpLCBiZW5kQXhpczp0aGlzLmxlZnRGb290QmVuZEF4aXN9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5faWtMZWZ0Q29udHJvbGxlci5tYXhBbmdsZSA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMubGVmdEZvb3RNYXhBbmdsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgUmlnaHQgRm9vdCBDb250cm9sbGVyXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yaWdodEZvb3RUcmFuc2Zvcm0gIT0gbnVsbCAmJiAoPGFueT50aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSkuX2xpbmtlZEJvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5SaWdodEZvb3RUYXJnZXRcIiwgeyB3aWR0aDogMC4xLCBoZWlnaHQ6IDAuMSwgZGVwdGg6IDAuMSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodEZvb3RUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuX2lrUmlnaHRGb290VGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucmlnaHRGb290UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtSaWdodEZvb3RUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodEZvb3RUYXJnZXQubWF0ZXJpYWwgPSB0YXJnZXRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0LmlzVmlzaWJsZSA9IGRpc3BsYXlIYW5kbGVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVTcGhlcmUodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJpZ2h0Rm9vdFBvbGVcIiwgeyBkaWFtZXRlcjogMC4xNSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodFBvbGVUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnJpZ2h0Rm9vdFBvbGVQb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtSaWdodFBvbGVUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodFBvbGVUYXJnZXQuaXNWaXNpYmxlID0gZGlzcGxheUhhbmRsZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5faWtSaWdodENvbnRyb2xsZXIgPSBuZXcgQkFCWUxPTi5Cb25lSUtDb250cm9sbGVyKHRoaXMuYWJzdHJhY3RTa2luTWVzaCwgKDxhbnk+dGhpcy5yaWdodEZvb3RUcmFuc2Zvcm0pLl9saW5rZWRCb25lLCB7dGFyZ2V0TWVzaDp0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldCwgcG9sZVRhcmdldE1lc2g6dGhpcy5faWtSaWdodFBvbGVUYXJnZXQsIHBvbGVBbmdsZTpCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLnJpZ2h0Rm9vdFBvbGVBbmdsZSksIGJlbmRBeGlzOnRoaXMucmlnaHRGb290QmVuZEF4aXN9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5faWtSaWdodENvbnRyb2xsZXIubWF4QW5nbGUgPSBCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLnJpZ2h0Rm9vdE1heEFuZ2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBhdHRhY2hBbmltYXRpb25Db250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5BbmltYXRpb25TdGF0ZVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLm9uQW5pbWF0aW9uRW5kT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJBbmltYXRpb24gRW5kOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEFjdGlvbkFuaW1hdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLm9uQW5pbWF0aW9uVXBkYXRlT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZS5pa0ZyYW1lRW5hYmxlZCgpID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBVcGRhdGUgdGFyZ2V0IG1lc2ggcG9zaXRpb24gV2hlbiBHcm91bmRlZCAtIFVzZSBSYXljYXN0IC0gPz8/XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa0xlZnRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRDb250cm9sbGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrUmlnaHRDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIGVuYWJsZUNoYXJhY3RlckNvbnRyb2xsZXIoc3RhdGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBbGxvd2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHcmF2aXR5RmFjdG9yKHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldENvbGxpc2lvblN0YXRlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50QWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQbGF5ZXJKdW1waW5nU3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdyYXZpdHlGYWN0b3IoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRDb2xsaXNpb25TdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnVwZGF0ZVBvc2l0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHJlc2V0UGxheWVyUm90YXRpb24oKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb25FdWxlcnMpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ID0gdGhpcy5yb3RhdGlvbkV1bGVycy54O1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55ID0gdGhpcy5yb3RhdGlvbkV1bGVycy55O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHJlc2V0UGxheWVySnVtcGluZ1N0YXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5taW5KdW1wVGltZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJMYW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyUmlzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuanVtcCgwKTsgLy8gTm90ZTogWmVybyBKdW1wIFNwZWVkXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBDb250cm9sbGVyIFdvcmtlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGF3YWtlUGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImdyYXZpdHlNdWx0aXBsaWVyXCIsIHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMudmVydGljYWxTdGVwU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwic3RlcFVwVmVsb2NpdHlcIiwgdGhpcy52ZXJ0aWNhbFN0ZXBTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLm1pblN0ZXBVcEhlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5TdGVwSGVpZ2h0XCIsIHRoaXMubWluU3RlcFVwSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucmlnaWRCb2R5TWFzcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyaWdpZEJvZHlNYXNzXCIsIHRoaXMucmlnaWRCb2R5TWFzcyk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZUNhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb3RhdGVDYW1lcmFcIiwgdGhpcy5yb3RhdGVDYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZVdoZWVsID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdXNlV2hlZWxcIiwgdGhpcy5tb3VzZVdoZWVsKTtcbiAgICAgICAgICAgIHRoaXMucmF5Q2xpbWJMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5Q2xpbWJMZW5ndGhcIiwgdGhpcy5yYXlDbGltYkxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnJheUNsaW1iT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUNsaW1iT2Zmc2V0XCIsIHRoaXMucmF5Q2xpbWJPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5yYXlIZWlnaHRMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwicmF5SGVpZ2h0TGVuZ3RoXCIsIHRoaXMucmF5SGVpZ2h0TGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucmF5SGVpZ2h0T2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUhlaWdodE9mZnNldFwiLCB0aGlzLnJheUhlaWdodE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLm1heEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEFuZ2xlXCIsIHRoaXMubWF4QW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5sYW5kaW5nRXBzaWxvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsYW5kaW5nRXBzaWxvblwiLCB0aGlzLmxhbmRpbmdFcHNpbG9uKTtcbiAgICAgICAgICAgIHRoaXMubWluRmFsbFZlbG9jaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pbkZhbGxWZWxvY2l0eVwiLCB0aGlzLm1pbkZhbGxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLmFpcmJvcm5UaW1lb3V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImFpcmJvcm5UaW1lb3V0XCIsIHRoaXMuYWlyYm9yblRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5yb290TW90aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvb3RNb3Rpb25cIiwgdGhpcy5yb290TW90aW9uKTtcbiAgICAgICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdmVTcGVlZFwiLCB0aGlzLm1vdmVTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLndhbGtTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3YWxrU3BlZWRcIiwgdGhpcy53YWxrU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5sb29rU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG9va1NwZWVkXCIsIHRoaXMubG9va1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuanVtcFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImp1bXBTcGVlZFwiLCB0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmp1bXBEZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJqdW1wRGVsYXlcIiwgdGhpcy5qdW1wRGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5leWVzSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImV5ZXNIZWlnaHRcIiwgdGhpcy5leWVzSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucGl2b3RIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwicGl2b3RIZWlnaHRcIiwgdGhpcy5waXZvdEhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heERpc3RhbmNlXCIsIHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzY3JvbGxTcGVlZFwiLCB0aGlzLnNjcm9sbFNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMudG9wTG9va0xpbWl0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInRvcExvb2tMaW1pdFwiLCB0aGlzLnRvcExvb2tMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLmRvd25Mb29rTGltaXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZG93bkxvb2tMaW1pdFwiLCB0aGlzLmRvd25Mb29rTGltaXQpO1xuICAgICAgICAgICAgdGhpcy5sb3dUdXJuU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG93VHVyblNwZWVkXCIsIHRoaXMubG93VHVyblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaFR1cm5TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoaWdoVHVyblNwZWVkXCIsIHRoaXMuaGlnaFR1cm5TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUlucHV0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImVuYWJsZUlucHV0XCIsIHRoaXMuZW5hYmxlSW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJOdW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwicGxheWVyTnVtYmVyXCIsIHRoaXMucGxheWVyTnVtYmVyKVxuICAgICAgICAgICAgdGhpcy5hdHRhY2hDYW1lcmEgPSB0aGlzLmdldFByb3BlcnR5KFwiYXR0YWNoQ2FtZXJhXCIsIHRoaXMuYXR0YWNoQ2FtZXJhKTtcbiAgICAgICAgICAgIHRoaXMuZnJlZUxvb2tpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJlZUxvb2tpbmdcIiwgdGhpcy5mcmVlTG9va2luZyk7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVZpZXcgPSB0aGlzLmdldFByb3BlcnR5KFwidG9nZ2xlVmlld1wiLCB0aGlzLnRvZ2dsZVZpZXcpO1xuICAgICAgICAgICAgdGhpcy5hdmF0YXJTa2luVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcImF2YXRhclNraW5UYWdcIiwgdGhpcy5hdmF0YXJTa2luVGFnKVxuICAgICAgICAgICAgdGhpcy5ydW5LZXlSZXF1aXJlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJydW5LZXlSZXF1aXJlZFwiLCB0aGlzLnJ1bktleVJlcXVpcmVkKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhQ29sbGlzaW9ucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjYW1lcmFDb2xsaXNpb25zXCIsIHRoaXMuY2FtZXJhQ29sbGlzaW9ucylcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhU21vb3RoaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImNhbWVyYVNtb290aGluZ1wiLCB0aGlzLmNhbWVyYVNtb290aGluZylcbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2VGYWN0b3IgPSB0aGlzLmdldFByb3BlcnR5KFwiZGlzdGFuY2VGYWN0b3JcIiwgdGhpcy5kaXN0YW5jZUZhY3RvcilcbiAgICAgICAgICAgIHRoaXMubWluaW11bURpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pbmltdW1EaXN0YW5jZVwiLCB0aGlzLm1pbmltdW1EaXN0YW5jZSk7XG4gICAgICAgICAgICB0aGlzLnNtb290aE1vdGlvblRpbWUgPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoTW90aW9uVGltZVwiLCB0aGlzLnNtb290aE1vdGlvblRpbWUpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhJbnB1dFZlY3RvcnMgPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoSW5wdXRWZWN0b3JzXCIsIHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoQWNjZWxlcmF0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aEFjY2VsZXJhdGlvblwiLCB0aGlzLnNtb290aEFjY2VsZXJhdGlvbik7XG4gICAgICAgICAgICB0aGlzLmFjY2VsZXJhdGlvblNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImFjY2VsZXJhdGlvblNwZWVkXCIsIHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5kZWNlbGVyYXRpb25TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkZWNlbGVyYXRpb25TcGVlZFwiLCB0aGlzLmRlY2VsZXJhdGlvblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJWb2x1bWVUYWcgPSB0aGlzLmdldFByb3BlcnR5KFwiY2xpbWJWb2x1bWVUYWdcIiwgdGhpcy5jbGltYlZvbHVtZVRhZyk7XG4gICAgICAgICAgICB0aGlzLnZhdWx0Vm9sdW1lVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcInZhdWx0Vm9sdW1lVGFnXCIsIHRoaXMudmF1bHRWb2x1bWVUYWcpO1xuICAgICAgICAgICAgdGhpcy51c2VDbGltYlN5c3RlbSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ1c2VDbGltYlN5c3RlbVwiLCB0aGlzLnVzZUNsaW1iU3lzdGVtKTtcbiAgICAgICAgICAgIHRoaXMubWF4SGVpZ2h0UmFuZ2VzID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEhlaWdodFJhbmdlc1wiLCB0aGlzLm1heEhlaWdodFJhbmdlcyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID0gdGhpcy5nZXRQcm9wZXJ0eShcInVwZGF0ZVN0YXRlUGFyYW1zXCIsIHRoaXMudXBkYXRlU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbmltYXRpb25TdGF0ZVBhcmFtc1wiLCB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvc3ROZXR3b3JrQXR0cmlic1wiLCB0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyk7XG4gICAgICAgICAgICB0aGlzLnNob3dEZWJ1Z1JheWNhc3RzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNob3dEZWJ1Z1JheWNhc3RzXCIsIHRoaXMuc2hvd0RlYnVnUmF5Y2FzdHMpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGFycm93S2V5Um90YXRpb246IGJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwiYXJyb3dLZXlSb3RhdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChhcnJvd0tleVJvdGF0aW9uID09PSB0cnVlKSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0T3B0aW9ucy5Vc2VBcnJvd0tleVJvdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBib29tUG9zaXRpb25EYXRhOiBhbnkgPSB0aGlzLmdldFByb3BlcnR5KFwiYm9vbVBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgaWYgKGJvb21Qb3NpdGlvbkRhdGEgIT0gbnVsbCkgdGhpcy5ib29tUG9zaXRpb24gPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhib29tUG9zaXRpb25EYXRhKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBzcGhlcmVSYWRpdXM6IG51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzcGhlcmVSYWRpdXNcIiwgMC42NSlcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmF5Y2FzdFNoYXBlID0gbmV3IEJBQllMT04uUGh5c2ljc1NoYXBlU3BoZXJlKG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCksIHNwaGVyZVJhZGl1cywgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5hYnN0cmFjdE1lc2ggPSB0aGlzLmdldEFic3RyYWN0TWVzaCgpO1xuICAgICAgICAgICAgdGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlNob3dEZWJ1Z0NvbGxpZGVycygpO1xuICAgICAgICAgICAgdGhpcy5jb2xsaWRlclZpc2liaWxpdHkgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkNvbGxpZGVyVmlzaWJpbGl0eSgpO1xuICAgICAgICAgICAgdGhpcy5jb2xsaWRlclJlbmRlckdyb3VwID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Db2xsaWRlclJlbmRlckdyb3VwKCk7XG4gICAgICAgICAgICAvLyBOb3RlOiBHZXQgQXZhdGFyIFNraW5zIEZpcnN0IFRoaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5hdmF0YXJTa2luVGFnICE9IG51bGwgJiYgdGhpcy5hdmF0YXJTa2luVGFnICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJTa2lucyA9IHRoaXMuZ2V0Q2hpbGRyZW5XaXRoVGFncyh0aGlzLmF2YXRhclNraW5UYWcsIGZhbHNlKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGNvbnRyb2w6IG51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5ZXJDb250cm9sXCIsIHRoaXMucGxheWVyQ29udHJvbCk7XG4gICAgICAgICAgICB0aGlzLnNldFBsYXllckNvbnRyb2wocGNvbnRyb2wpXG4gICAgICAgICAgICB0aGlzLnJlc2V0UGxheWVyUm90YXRpb24oKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90ID0gbmV3IEJBQllMT04uTWVzaCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQ2FtZXJhUGl2b3RcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFBpdm90OiBCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcIlRlc3RQaXZvdFwiLCB7IHdpZHRoOiAwLjI1LCBoZWlnaHQ6IDAuMjUsIGRlcHRoOiAwLjUgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnBhcmVudCA9IHRoaXMuY2FtZXJhUGl2b3Q7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB0ZXN0UGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgICAgICB0ZXN0UGl2b3QudmlzaWJpbGl0eSA9IDAuNTtcbiAgICAgICAgICAgICAgICB0ZXN0UGl2b3QucmVuZGVyaW5nR3JvdXBJZCA9IHRoaXMuY29sbGlkZXJSZW5kZXJHcm91cDtcbiAgICAgICAgICAgICAgICB0ZXN0UGl2b3QuY2hlY2tDb2xsaXNpb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LmlzUGlja2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBjb25maWdDb250cm9sbGVyOiBCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gU2V0dXAgSUsgQm9uZSBDb250cm9sbGVyc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuYXR0YWNoQm9uZUNvbnRyb2xsZXJzKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5PbktleWJvYXJkUHJlc3ModGhpcy5rZXlib2FyZENhbWVyYSwgKCkgPT4geyB0aGlzLnRvZ2dsZVBsYXllckNvbnRyb2woKTsgfSk7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLk9uR2FtZXBhZEJ1dHRvblByZXNzKHRoaXMuYnV0dG9uQ2FtZXJhLCAoKSA9PiB7IHRoaXMudG9nZ2xlUGxheWVyQ29udHJvbCgpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN0YXJ0UGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBTdXBwb3J0IER5bmFtaWMgUGxheWVyTnVtYmVyIENoYW5nZSAtID8/P1xuICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNoQ2FtZXJhID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hQbGF5ZXJDYW1lcmEodGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQWdlbnQgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5OYXZpZ2F0aW9uQWdlbnRcIik7XG4gICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJSYWRpdXMgPSB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuZ2V0QXZhdGFyUmFkaXVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNob3dSYXljYXN0cyA9IHRoaXMuc2hvd0RlYnVnUmF5Y2FzdHM7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldFJpZ2lkQm9keU1hc3ModGhpcy5yaWdpZEJvZHlNYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R3Jhdml0eUZhY3Rvcih0aGlzLmdyYXZpdGF0aW9uYWxGb3JjZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldFZlcnRpY2FsU3RlcFNwZWVkKHRoaXMudmVydGljYWxTdGVwU3BlZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRNaW5pbXVtU3RlcEhlaWdodCh0aGlzLm1pblN0ZXBVcEhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLm9uVXBkYXRlUG9zaXRpb25PYnNlcnZhYmxlLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVyUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDYW1lcmFDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiU3RhcnRpbmcgcGxheWVyIGNvbnRyb2xsZXIgaW4gcGh5c2ljIGVuZ2luZSBtb2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5Mb2dXYXJuaW5nKFwiTm8gY2hhcmFjdGVyIGNvbnRyb2xsZXIgZm91bmQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHBsYXllciB3aW5kb3cgc3RhdGUgdmFyaWFibGVcbiAgICAgICAgICAgIC8vIFNNLlNldFdpbmRvd1N0YXRlKFwicGxheWVyXCIsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVQbGF5ZXJQb3NpdGlvbigpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uUGxheWVyUG9zaXRpb25PYnNlcnZhYmxlICYmIHRoaXMub25QbGF5ZXJQb3NpdGlvbk9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVyUG9zaXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZVBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICAvL3RoaXMuc21vb3RoRGVsdGFUaW1lID0gQkFCWUxPTi5Ub29sa2l0LlN5c3RlbS5TbW9vdGhEZWx0YUZhY3RvciAqIHRoaXMuZGVsdGFUaW1lICsgKDEgLSBCQUJZTE9OLlRvb2xraXQuU3lzdGVtLlNtb290aERlbHRhRmFjdG9yKSAqIHRoaXMuc21vb3RoRGVsdGFUaW1lO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubV9hY3R1YWxWZWxvY2l0eSA9IHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24uc3VidHJhY3QodGhpcy5tX2xhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLm1fbGluZWFyVmVsb2NpdHkuY29weUZyb20odGhpcy5tX2FjdHVhbFZlbG9jaXR5KTtcbiAgICAgICAgICAgIHRoaXMubV9zY2FsZWRWZWxvY2l0eSA9ICh0aGlzLm1fbGluZWFyVmVsb2NpdHkubGVuZ3RoKCkgLyB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB0aGlzLm1fbGluZWFyVmVsb2NpdHkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLm1fbGluZWFyVmVsb2NpdHkuc2NhbGVJblBsYWNlKHRoaXMubV9zY2FsZWRWZWxvY2l0eSk7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJEcmF3VmVsb2NpdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LmNvcHlGcm9tKHRoaXMubV9saW5lYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlbG9jaXR5T2Zmc2V0LnNjYWxlSW5QbGFjZSh0aGlzLnBsYXllckRyYXdWZWxvY2l0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1fbGFzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLmFic29sdXRlUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gRklYIFRISVMgU0hJVFxuICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RhdGVQYXJhbXMgPT09IHRydWUgJiYgdGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hBbmltYXRpb25Db250cm9sbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubWluSnVtcFRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWluSnVtcFRpbWVyIC09IHRoaXMuZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1pbkp1bXBUaW1lciA8IDApIHRoaXMubWluSnVtcFRpbWVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUgJiYgdGhpcy5kZWxheUp1bXBUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGF5SnVtcFRpbWVyIC09IHRoaXMuZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGF5SnVtcFRpbWVyIDwgMCkgdGhpcy5kZWxheUp1bXBUaW1lciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5jYW5QbGF5ZXJKdW1wID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uQWN0aW9uU3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vblVwZGF0ZUFjdGlvbk9ic2VydmFibGUgJiYgdGhpcy5vblVwZGF0ZUFjdGlvbk9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblVwZGF0ZUFjdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVJbnB1dCA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJbnB1dFg6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRBeGlzLkhvcml6b250YWwsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJbnB1dFo6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRBeGlzLlZlcnRpY2FsLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB1c2VyTW91c2VYOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5Nb3VzZVgsIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJNb3VzZVk6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRBeGlzLk1vdXNlWSwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoQWNjZWxlcmF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gU01PT1RIIFVTRVIgSU5QVVQgWFxuICAgICAgICAgICAgICAgIGlmICh1c2VySW5wdXRYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCArPSAodGhpcy5hY2NlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYID4gMSkgdGhpcy5wbGF5ZXJJbnB1dFggPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlcklucHV0WCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggLT0gKHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA8IC0xKSB0aGlzLnBsYXllcklucHV0WCA9IC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYICs9ICh0aGlzLmRlY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYID4gMCkgdGhpcy5wbGF5ZXJJbnB1dFggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVySW5wdXRYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggLT0gKHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPCAwKSB0aGlzLnBsYXllcklucHV0WCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU01PT1RIIFVTRVIgSU5QVVQgWlxuICAgICAgICAgICAgICAgIGlmICh1c2VySW5wdXRaID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiArPSAodGhpcy5hY2NlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaID4gMSkgdGhpcy5wbGF5ZXJJbnB1dFogPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlcklucHV0WiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogLT0gKHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA8IC0xKSB0aGlzLnBsYXllcklucHV0WiA9IC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaICs9ICh0aGlzLmRlY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaID4gMCkgdGhpcy5wbGF5ZXJJbnB1dFogPSAwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVySW5wdXRaID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogLT0gKHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPCAwKSB0aGlzLnBsYXllcklucHV0WiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJBVyBVU0VSIElOUFVUIFhaXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggPSB1c2VySW5wdXRYO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaID0gdXNlcklucHV0WjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnBsYXllck1vdXNlWCA9IHVzZXJNb3VzZVg7XG4gICAgICAgICAgICB0aGlzLnBsYXllck1vdXNlWSA9IHVzZXJNb3VzZVk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgQW5pbWF0aW9uIEFjdGlvblxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9PT0gdHJ1ZSAmJiB0aGlzLmlzQWN0aW9uSW50ZXJydXB0YWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCAhPT0gMCB8fCB0aGlzLnBsYXllcklucHV0WiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQW5pbWF0aW9uIEludGVycnVwdDogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEFjdGlvbkFuaW1hdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5QbGF5ZXJKdW1wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIElucHV0XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25QbGF5ZXJJbnB1dE9ic2VydmFibGUgJiYgdGhpcy5vblBsYXllcklucHV0T2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25QbGF5ZXJJbnB1dE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBJbnB1dCBNYWduaXR1ZGVcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3Iuc2V0KHRoaXMucGxheWVySW5wdXRYLCAwLCB0aGlzLnBsYXllcklucHV0Wik7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLmxlbmd0aCgpID4gMS4wKSB0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3Iubm9ybWFsaXplKCk7IC8vIE5vdGU6IE5vcm1hbGl6ZSBJbiBQbGFjZVxuICAgICAgICAgICAgdGhpcy5pbnB1dE1hZ25pdHVkZSA9IHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvci5sZW5ndGgoKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgTW92ZSBEaXJlY3Rpb25cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBtb3ZlRm9yd2FyZDogYm9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WiA+IDApO1xuICAgICAgICAgICAgY29uc3QgbW92ZUJhY2t3YXJkOiBib29sZWFuID0gKHRoaXMucGxheWVySW5wdXRaIDwgMCk7XG4gICAgICAgICAgICBjb25zdCBtb3ZlUmlnaHQ6IGJvb2xlYW4gPSAodGhpcy5wbGF5ZXJJbnB1dFggPiAwKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVMZWZ0OiBib29sZWFuID0gKHRoaXMucGxheWVySW5wdXRYIDwgMCk7XG4gICAgICAgICAgICBpZiAobW92ZUZvcndhcmQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZUxlZnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkZvcndhcmRMZWZ0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZVJpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5Gb3J3YXJkUmlnaHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkZvcndhcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlQmFja3dhcmQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZUxlZnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkJhY2t3YXJkTGVmdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uQmFja3dhcmRSaWdodDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uQmFja3dhcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlTGVmdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdHJhZmluZ0xlZnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdHJhZmluZ1JpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RhdGlvbmFyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUHJlIE5vdGlmaWNhdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUgJiYgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBGb3J3YXJkIENhbWVyYSBWZWN0b3JcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IuY29weUZyb20odGhpcy5jYW1lcmFQaXZvdC5mb3J3YXJkKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRm9yd2FyZFZlY3RvciA9IHRoaXMuc2NlbmUuYWN0aXZlQ2FtZXJhLmdldEZvcndhcmRSYXkoKS5kaXJlY3Rpb247XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IueSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3Iubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3Iuc2NhbGVUb1JlZih0aGlzLnBsYXllcklucHV0WiwgdGhpcy5kZXNpcmVkRm9yd2FyZFZlY3Rvcik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFJpZ2h0IENhbWVyYSBWZWN0b3JcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLmNvcHlGcm9tKHRoaXMuY2FtZXJhUGl2b3QucmlnaHQpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3RvciA9IEJBQllMT04uVmVjdG9yMy5Dcm9zcyh0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IsIEJBQllMT04uVmVjdG9yMy5VcCgpKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3IueSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5zY2FsZVRvUmVmKHRoaXMucGxheWVySW5wdXRYLCB0aGlzLmRlc2lyZWRSaWdodFZlY3Rvcik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBSb3RhdGlvbiBWZWN0b3JcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnkgKz0gKHRoaXMucGxheWVyTW91c2VYICogdGhpcy5sb29rU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnggKz0gKC10aGlzLnBsYXllck1vdXNlWSAqIHRoaXMubG9va1NwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54LCAtQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5kb3duTG9va0xpbWl0KSwgQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy50b3BMb29rTGltaXQpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50QWxsb3dlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhblBsYXllckp1bXAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQbGF5ZXIgQnV0dG9uIFByZXNzZXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmlzUnVuUHJlc3NlZCA9IChCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEtleWJvYXJkSW5wdXQodGhpcy5rZXlib2FyZFJ1bikgfHwgQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRHYW1lcGFkQnV0dG9uSW5wdXQodGhpcy5idXR0b25SdW4pKTtcbiAgICAgICAgICAgIHRoaXMuaXNKdW1wUHJlc3NlZCA9IChCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEtleWJvYXJkSW5wdXQodGhpcy5rZXlib2FyZEp1bXApIHx8IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMuYnV0dG9uSnVtcCkpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQbGF5ZXIgTW92ZW1lbnQgVmVsb2NpdHlcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50U3BlZWQgPSAodGhpcy5pbnB1dE1hZ25pdHVkZSAqIHRoaXMubW92ZVNwZWVkICogdGhpcy5zcGVlZEZhY3Rvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5ydW5LZXlSZXF1aXJlZCA9PT0gdHJ1ZSAmJiB0aGlzLmlzUnVuUHJlc3NlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IExlcnAgTWF4IFNwZWVkIEZyb20gV2FsayBUbyBSdW4gQW5kIFZpY2UgVmVyc2EgKFNtb290aCBPdXQgVHJhbnNpdGlvbnMpXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50U3BlZWQgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLm1vdmVtZW50U3BlZWQsIDAsIHRoaXMud2Fsa1NwZWVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmRlc2lyZWRGb3J3YXJkVmVjdG9yLmFkZFRvUmVmKHRoaXMuZGVzaXJlZFJpZ2h0VmVjdG9yLCB0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1vdmVtZW50U3BlZWQpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLmxhc3RSb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRBbGxvd2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuRmlyc3RQZXJzb25TdHJhZmluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBIYW5kbGUgUm9vdCBNb3Rpb24gUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gRnJlZSBMb29raW5nIC0gU25hcCBQbGF5ZXIgUm90YXRpb24gKEV1bGVyIEFuZ2xlIFJvdGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoMCwgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55LCAwLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJDb250cm9sID09PSBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5UaGlyZFBlcnNvblN0cmFmaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIEZyZWUgTG9va2luZyBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcmVlTG9va2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRNYWduaXR1ZGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUgLSBOb3RlOiBMYXJnZSBNb3ZlbWVudCAtIFNsZXJwIFBsYXllciBSb3RhdGlvbiAoRXVsZXIgQW5nbGUgUm90YXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyYWZpbmdUdXJuUmF0aW86IG51bWJlciA9ICh0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkubGVuZ3RoKCkgLyB0aGlzLm1vdmVTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyYWZpbmdUdXJuU3BlZWQ6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5oaWdoVHVyblNwZWVkLCB0aGlzLmxvd1R1cm5TcGVlZCwgc3RyYWZpbmdUdXJuUmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLCB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnksIDAsIHRoaXMucGxheWVyUm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZih0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIHRoaXMucGxheWVyUm90YXRpb25RdWF0ZXJuaW9uLCAoc3RyYWZpbmdUdXJuU3BlZWQgKiB0aGlzLmRlbHRhVGltZSksIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBIYW5kbGUgUm9vdCBNb3Rpb24gUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIEZyZWUgTG9va2luZyAtIFNuYXAgUGxheWVyIFJvdGF0aW9uIChFdWxlciBBbmdsZSBSb3RhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLCB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnksIDAsIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5sYXN0Um90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPSB0aGlzLmdldFZlcnRpY2FsVmVsb2NpdHkoKTtcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRWZWxvY2l0eS5jb3B5RnJvbSh0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBDaGFyYWN0ZXIgQ29udHJvbGxlclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaGFzR3JvdW5kZWRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPSAodGhpcy5uYXZpZ2F0aW9uQWdlbnQgIT0gbnVsbCAmJiB0aGlzLm5hdmlnYXRpb25BZ2VudC5pc05hdmlnYXRpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb25Bbmd1bGFyU3BlZWQgPSAodGhpcy5uYXZpZ2F0aW9uQWdlbnQgIT0gbnVsbCkgPyB0aGlzLm5hdmlnYXRpb25BZ2VudC5hbmd1bGFyU3BlZWQgOiAwO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDaGFyYWN0ZXJDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEFuaW1hdGlvbiBTdGF0ZSBQYXJhbXNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMudXBkYXRlU3RhdGVQYXJhbXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlQW5pbWF0aW9uU3RhdGVQYXJhbXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEludGVnZXIodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3ZlRGlyZWN0aW9uLCB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5oZWlnaHRJbnB1dCwgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5qdW1wRnJhbWUsIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmp1bXBTdGF0ZSwgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0SW50ZWdlcih0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmFjdGlvblN0YXRlLCB0aGlzLnBlcmZvcm1BY3Rpb25OdW1iZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmZhbGxpbmdTdGF0ZSwgdGhpcy5pc0NoYXJhY3RlckZhbGxpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNsaWRpbmdTdGF0ZSwgdGhpcy5pc0NoYXJhY3RlclNsaWRpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmdyb3VuZGVkU3RhdGUsIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoTW90aW9uVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaG9yaXpvbnRhbElucHV0LCB0aGlzLnBsYXllcklucHV0WCwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMudmVydGljYWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFosIHRoaXMuc21vb3RoTW90aW9uVGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWElucHV0LCB0aGlzLnBsYXllck1vdXNlWCwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VZSW5wdXQsIHRoaXMucGxheWVyTW91c2VZLCB0aGlzLnNtb290aE1vdGlvblRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIHRoaXMucGxheWVySW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCB0aGlzLnBsYXllcklucHV0Wik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VYSW5wdXQsIHRoaXMucGxheWVyTW91c2VYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5pbnB1dE1hZ25pdHVkZSwgdGhpcy5pbnB1dE1hZ25pdHVkZSwgdGhpcy5zbW9vdGhNb3Rpb25UaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCB0aGlzLm1vdmVtZW50U3BlZWQsIHRoaXMuc21vb3RoTW90aW9uVGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIHRoaXMucGxheWVySW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnZlcnRpY2FsSW5wdXQsIHRoaXMucGxheWVySW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWElucHV0LCB0aGlzLnBsYXllck1vdXNlWCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaW5wdXRNYWduaXR1ZGUsIHRoaXMuaW5wdXRNYWduaXR1ZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgdGhpcy5tb3ZlbWVudFNwZWVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBVcGRhdGUgU3BlZWQgSW5wdXQgV2l0aCBOYXZpZ2F0aW9uIE1hZ25pdHVkZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgdGhpcy5pbnB1dE1hZ25pdHVkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFBvc3QgTmV0d29yayBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID09IHRydWUgJiYgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuSGFzTmV0d29ya0VudGl0eSh0aGlzLnRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDAsIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbik7ICAgICAgICAgICAgICAgICAgICAvLyBEaXJlY3Rpb25cbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEsIHRoaXMuaW5wdXRNYWduaXR1ZGUpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWduaXR1ZGVcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDIsIHRoaXMucGxheWVySW5wdXRYKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3Jpem9uYWxcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDMsIHRoaXMucGxheWVySW5wdXRaKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbFxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNCwgdGhpcy5wbGF5ZXJNb3VzZVgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdXNlWFxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNSwgdGhpcy5wbGF5ZXJNb3VzZVkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdXNlWVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNiwgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5KTsgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcnRpY2FsIFZlbG9jaXR5XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA3LCB0aGlzLm1vdmVtZW50U3BlZWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZW1lbnQgU3BlZWRcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDgsIHRoaXMucGVyZm9ybUFjdGlvbk51bWJlcik7ICAgICAgICAgICAgICAgICAgICAvLyBBY3Rpb24gU3RhdGVcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDksICgodGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSkgPyAxIDogMCkpOyAgICAgICAvLyBKdW1wIEZyYW1lXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMCwgKCh0aGlzLmlzQ2hhcmFjdGVySnVtcGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgSnVtcGluZ1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTEsICgodGhpcy5pc0NoYXJhY3RlckZhbGxpbmcpID8gMSA6IDApKTsgICAgICAgIC8vIElzIEZhbGxpbmdcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEyLCAoKHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nKSA/IDEgOiAwKSk7ICAgICAgICAvLyBJcyBTbGlkaW5nXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMywgKCh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQpID8gMSA6IDApKTsgICAgICAgLy8gSXMgR3JvdW5kZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUG9zdCBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZSAmJiB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgYWZ0ZXJQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IEV4dHJhIFJheWNhc3QgRGlzdGFuY2UgV2hlbiBPbiBWYXJpb3VzIFNsb3BlIEFuZ2xlcyAtID8/P1xuICAgICAgICBwcml2YXRlIHVwZGF0ZUNoYXJhY3RlckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyUmlzaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID09IHRydWUgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5ID4gMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgPSAodGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPT0gdHJ1ZSAmJiB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPCAwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3RlclJpc2luZyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzR3JvdW5kZWRDb250YWN0ID0gZmFsc2U7ICAgIC8vIElHTk9SRSBDT05UQUNUXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9PT0gdHJ1ZSAmJiB0aGlzLm1pbkp1bXBUaW1lciA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nID0gZmFsc2U7ICAgIC8vIE5PVCBTTElESU5HXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9IHRydWU7ICAgIC8vIElTIEdST1VOREVEXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUpIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckZhbGxpbmcgPSAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSBmYWxzZSAmJiB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9PSBmYWxzZSAmJiB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9PSBmYWxzZSAmJiB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPCAwICYmIE1hdGguYWJzKHRoaXMudmVydGljYWxWZWxvY2l0eSkgPj0gdGhpcy5taW5GYWxsVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyRmFsbGluZyA9PT0gdHJ1ZSAmJiB0aGlzLmlzQ2hhcmFjdGVyRmFsbFRyaWdnZXJlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5qdW1wRGVsYXkgPiAwKSB0aGlzLmRlbGF5SnVtcFRpbWVyID0gdGhpcy5qdW1wRGVsYXk7IC8vIERVTk5POiBNQVlCRSBVU0UgU0VQRVJBVEUgRkFMTElORyBERUxBWSBUSU1FUiAtID8/P1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlKSB0aGlzLmlzQ2hhcmFjdGVyRmFsbFRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIFdNLlByaW50VG9TY3JlZW4oXCJJcyBHcm91bmRlZDogXCIgKyB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENsaW1iaW5nIFN5c3RlbVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlQ2xpbWJTeXN0ZW0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0UGh5c2ljc0NsaW1iaW5nVm9sdW1lUmF5KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdFBoeXNpY3NIZWlnaHRDaGVja1ZvbHVtZVJheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgQ2hhcmFjdGVyIE1vdmVtZW50XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvL2lmICh0aGlzLm1vdmVtZW50QWxsb3dlZCA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IGZhbHNlICYmIHRoaXMubW92ZW1lbnRBbGxvd2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGF5SnVtcFRpbWVyIDw9IDApIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSAodGhpcy5jYW5QbGF5ZXJKdW1wID09PSB0cnVlICYmIHRoaXMuaXNKdW1wUHJlc3NlZCA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IGZhbHNlICYmIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPT09IHRydWUgJiYgdGhpcy51c2VDbGltYlN5c3RlbSA9PT0gdHJ1ZSAmJiB0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSAmJiB0aGlzLmhlaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xpbWJBY3Rpb246IG51bWJlciA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3RhdGVTcGVlZDogbnVtYmVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcm90YXRlVG93YXJkczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEhlaWdodDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydFRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldFRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldE9mZnNldDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoaXRIZWlnaHQ6IG51bWJlciA9IHBhcnNlRmxvYXQodGhpcy5oZWlnaHRDb250YWN0UG9pbnQueS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJIZWlnaHQ6IG51bWJlciA9IHBhcnNlRmxvYXQodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYnN0YWNsZUhlaWdodDogbnVtYmVyID0gcGFyc2VGbG9hdCgoaGl0SGVpZ2h0IC0gcGxheWVySGVpZ2h0KS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ2xpbWIgQWN0aW9uIC0tPiAgSGl0IEhlaWdodDogXCIgKyBoaXRIZWlnaHQgKyBcIiAtLT4gUGxheWVyIEhlaWdodDogXCIgKyBwbGF5ZXJIZWlnaHQgKyBcIiAtLT4gT2JzdGFjbGUgSGVpZ2h0OiBcIiArIG9ic3RhY2xlSGVpZ2h0ICsgXCIgLS0+IFJvdGF0ZSBUb3dhcmRzOiBcIiArIHJvdGF0ZVRvd2FyZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5taW5pbXVtSGVpZ2h0ICYmIG9ic3RhY2xlSGVpZ2h0IDw9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLm1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbWJBY3Rpb24gPSBQUk9KRUNULkFjdGlvbkFuaW1hdGlvblR5cGUuU3RlcFVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvd2FyZHMgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5yb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS50YXJnZXRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5zdGVwVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5taW5pbXVtSGVpZ2h0ICYmIG9ic3RhY2xlSGVpZ2h0IDw9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLm1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbWJBY3Rpb24gPSBQUk9KRUNULkFjdGlvbkFuaW1hdGlvblR5cGUuSnVtcFVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvd2FyZHMgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5yb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS50YXJnZXRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5qdW1wVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZUhlaWdodCA+PSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UubWluaW11bUhlaWdodCAmJiBvYnN0YWNsZUhlaWdodCA8PSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UubWF4aW11bUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGltYkFjdGlvbiA9IFBST0pFQ1QuQWN0aW9uQW5pbWF0aW9uVHlwZS5DbGltYlVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGVlZCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5yb3RhdGlvblNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVUb3dhcmRzID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLm1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2Uuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRUaW1lID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnRhcmdldFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGltYkFjdGlvbiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbkNsaW1iT2JzdGFjbGVQcmVkaWNhdGUgPT0gbnVsbCB8fCB0aGlzLmNhbkNsaW1iT2JzdGFjbGVQcmVkaWNhdGUoY2xpbWJBY3Rpb24pID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheUFjdGlvbkFuaW1hdGlvbihjbGltYkFjdGlvbiwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblNwZWVkID0gcm90YXRlU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSByb3RhdGVUb3dhcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IG1hdGNoSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFN0YXJ0VGltZSA9IChzdGFydFRpbWUgLSBQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5NSU5fVElNRVJfT0ZGU0VUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRUaW1lID0gKHRhcmdldFRpbWUgLSBQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5NSU5fVElNRVJfT0ZGU0VUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQgPSB0YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBoaXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RTdGFydEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2tUYXJnZXRIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID09PSB0cnVlICYmIHRoaXMuanVtcFNwZWVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuanVtcCh0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcERlbGF5ID4gMCkgdGhpcy5kZWxheUp1bXBUaW1lciA9IHRoaXMuanVtcERlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFpcmJvcm5UaW1lb3V0ID4gMCkgdGhpcy5taW5KdW1wVGltZXIgPSAodGhpcy5haXJib3JuVGltZW91dCArIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RKdW1wVmVsb2NpdHkuc2V0KHRoaXMubW92ZW1lbnRWZWxvY2l0eS54LCAwLCB0aGlzLm1vdmVtZW50VmVsb2NpdHkueik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIE1vdmUgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUgJiYgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgUm9vdCBNb3Rpb24gVmVsb2NpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMucm9vdE1vdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RNb3Rpb246IEJBQllMT04uVmVjdG9yMyA9IHRoaXMuZ2V0RGVsdGFNb3Rpb25Qb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRWZWxvY2l0eS5zZXQocm9vdE1vdGlvbi54LCAwLCByb290TW90aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLm1vdmVtZW50VmVsb2NpdHksIHRoaXMudHJhbnNmb3JtLmdldFdvcmxkTWF0cml4KCksIHRoaXMubW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLm1vdmUodGhpcy5tb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLm1vdmVtZW50VmVsb2NpdHkuc2NhbGVJblBsYWNlKHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIubW92ZSh0aGlzLm1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IHRydWU7IC0gV2hpY2ggSXMgQmVzdCAtID8/P1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci51cGRhdGVQb3NpdGlvbiA9IGZhbHNlOyAtIFdoaWNoIElzIEJlc3QgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IEVJVEhFUiBPUiAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R2hvc3RXb3JsZFBvc2l0aW9uKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnN5bmNHaG9zdFRvVHJhbnNmb3JtUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUNhbWVyYUNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVJbnB1dCA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgIC8vIERVTk5PIEZVUiBTVVJFOiAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSB0cnVlICYmIHRoaXMubmF2aWdhdGlvbkFuZ3VsYXJTcGVlZCA+IDApIGFsbG93Um90YXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVBpdm90ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyAuLiBcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIFBpdm90IE9mZnNldFxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0LnggIT09IDAgfHwgdGhpcy50YXJnZXRDYW1lcmFPZmZzZXQueSAhPT0gMCB8fCB0aGlzLnRhcmdldENhbWVyYU9mZnNldC56ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQuY29weUZyb20odGhpcy50YXJnZXRDYW1lcmFPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uU3RyYWZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQuc2V0KDAsIHRoaXMucGl2b3RIZWlnaHQsIDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdE9mZnNldC5zZXQoMCwgdGhpcy5leWVzSGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDYW1lcmEgUGl2b3QgUG9zaXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmNhbWVyYVBpdm90LnBvc2l0aW9uLCB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDYW1lcmEgUGl2b3QgUm90YXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUNhbWVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYodGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54LCB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnksIDAsIHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVDYW1lcmEgPT09IHRydWUgJiYgdGhpcy5jYW1lcmFOb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFTbW9vdGhpbmcgPD0gMCkgdGhpcy5jYW1lcmFTbW9vdGhpbmcgPSA1LjA7IC8vIERlZmF1bHQgQ2FtZXJhIFNtb290aGluZ1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uU3RyYWZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29sbGlzaW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIENhbWVyYSBDb2xsaXNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBtYXhEaXN0YW5jZTpudW1iZXIgPSBNYXRoLmFicyh0aGlzLmJvb21Qb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9ICh0aGlzLmNhbWVyYU5vZGUucGFyZW50IGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLnNjYWxlVG9SZWYodGhpcy5tYXhEaXN0YW5jZSwgdGhpcy5zY2FsZWRNYXhEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5zY2FsZVRvUmVmKHRoaXMuY2FtZXJhRGlzdGFuY2UsIHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHBhcmVudE5vZGUsIHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuVHJhbnNmb3JtUG9pbnRUb1JlZihwYXJlbnROb2RlLCB0aGlzLnNjYWxlZE1heERpcmVjdGlvbiwgdGhpcy5tYXhpbXVtQ2FtZXJhUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogVVNFIFNIQVBFQ0FTVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVJheWNhc3RTaGFwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU6IHRoaXMuY2FtZXJhUmF5Y2FzdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IHRoaXMuY2FtZXJhTm9kZS5yb3RhdGlvblF1YXRlcm5pb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uOiB0aGlzLnBhcmVudE5vZGVQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFBvc2l0aW9uOiB0aGlzLm1heGltdW1DYW1lcmFQb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVCb2R5OiB0aGlzLnRyYW5zZm9ybS5waHlzaWNzQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEhpdFRyaWdnZXJzOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlNoYXBlY2FzdChxdWVyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAocmVzdWx0ICE9IG51bGwgJiYgcmVzdWx0LndvcmxkICE9IG51bGwgJiYgcmVzdWx0LndvcmxkLmhhc0hpdCA9PT0gdHJ1ZSAmJiByZXN1bHQud29ybGQuYm9keSAhPSBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSAoY29udGFjdCA9PT0gdHJ1ZSkgPyBCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2UodGhpcy5wYXJlbnROb2RlUG9zaXRpb24sIHJlc3VsdC53b3JsZC5oaXRQb2ludCkgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBERVBSRUNBVEVEOiBVU0UgUkFZQ0FTVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQgPT0gbnVsbCkgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0ID0gbmV3IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUmF5Y2FzdFRvUmVmKHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MsIHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9ICh0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQgIT0gbnVsbCAmJiB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuaGFzSGl0ID09PSB0cnVlICYmIHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdC5ib2R5ICE9IG51bGwgJiYgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0LmJvZHkudHJhbnNmb3JtTm9kZSAhPSBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9ICh0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQgIT0gbnVsbCAmJiB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuaGFzSGl0ID09PSB0cnVlKSA/IHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdC5oaXREaXN0YW5jZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sZXQgY29udGFjdEJvZHk6c3RyaW5nID0gKGNvbnRhY3QgPT09IHRydWUpID8gdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0LmJvZHkudHJhbnNmb3JtTm9kZS5uYW1lIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1dNLlByaW50VG9TY3JlZW4oXCJDYW1lcmEgQ29sbGlzaW9uOiBcIiArIGNvbnRhY3QgKyBcIiAtLT4gRGlzdGFuY2U6ICBcIiArIGRpc3RhbmNlICsgXCIgLS0+IFRyYW5zZm9ybTogXCIgKyBjb250YWN0Qm9keSk7Ki9cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFEaXN0YW5jZSA9IEJBQllMT04uU2NhbGFyLkNsYW1wKChkaXN0YW5jZSAqIHRoaXMuZGlzdGFuY2VGYWN0b3IpLCB0aGlzLm1pbmltdW1EaXN0YW5jZSwgdGhpcy5tYXhEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVycCBQYXN0IENhbWVyYSBDb2xsaXNpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi54IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi55ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi55IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi56ICE9PSB0aGlzLnNjYWxlZENhbURpcmVjdGlvbi56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLnNjYWxlZENhbURpcmVjdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW91c2VXaGVlbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5Jc1doZWVsU2Nyb2xsaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5XaGVlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWwgPCAwKSB7IC8vIFpPT00gT1VUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgem9vbU91dFNwZWVkOiBudW1iZXIgPSAodGhpcy5zY3JvbGxTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb21Qb3NpdGlvbi56ID0gQkFCWUxPTi5TY2FsYXIuTW92ZVRvd2FyZHModGhpcy5ib29tUG9zaXRpb24ueiwgLXRoaXMubWF4RGlzdGFuY2UsIHpvb21PdXRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdoZWVsID4gMCkgeyAvLyBaT09NIElOXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgem9vbUluU3BlZWQ6IG51bWJlciA9ICh0aGlzLnNjcm9sbFNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vbVBvc2l0aW9uLnogPSBCQUJZTE9OLlNjYWxhci5Nb3ZlVG93YXJkcyh0aGlzLmJvb21Qb3NpdGlvbi56LCAtdGhpcy5taW5pbXVtRGlzdGFuY2UsIHpvb21JblNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXJwIFRvIENhbWVyYSBCb29tIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi54IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi55ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi55IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi56ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLmJvb21Qb3NpdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlcnAgVG8gQ2FtZXJhIEJvb20gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gdGhpcy5ib29tUG9zaXRpb24ueCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gdGhpcy5ib29tUG9zaXRpb24ueSB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gdGhpcy5ib29tUG9zaXRpb24ueikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLmJvb21Qb3NpdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogU25hcCBUbyBaZXJvIENhbWVyYSBQaXZvdCBQb3NpdGlvbiAtIEZpcnN0IFBlcnNvbiBWaWV3XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gMCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gMCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU21vb3RoQm9vbUFybUxlbmd0aCgpO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRCb29tQXJtTWF4RGlzdGFuY2UoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMubWF4RGlzdGFuY2U7IH1cbiAgICAgICAgcHVibGljIHNldEJvb21Bcm1NYXhEaXN0YW5jZShkaXN0YW5jZTogbnVtYmVyKTogdm9pZCB7IHRoaXMubWF4RGlzdGFuY2UgPSBNYXRoLmFicyhkaXN0YW5jZSk7IH1cbiAgICAgICAgcHVibGljIHNldFNtb290aEJvb21Bcm1MZW5ndGgobGVuZ3RoOiBudW1iZXIsIHNwZWVkOiBudW1iZXIsIHVwZGF0ZU1heERpc3RhbmNlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVMZW5ndGg6IG51bWJlciA9IE1hdGguYWJzKGxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGggPSAtYWJzb2x1dGVMZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnNtb290aEJvb21Bcm1TcGVlZCA9IHNwZWVkO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZU1heERpc3RhbmNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVEaXN0YW5jZTogbnVtYmVyID0gTWF0aC5hYnModGhpcy5tYXhEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFic29sdXRlTGVuZ3RoID4gYWJzb2x1dGVEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEJvb21Bcm1NYXhEaXN0YW5jZShhYnNvbHV0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc21vb3RoQm9vbUFybUxlbmd0aDogQkFCWUxPTi5OdWxsYWJsZTxudW1iZXI+ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzbW9vdGhCb29tQXJtU3BlZWQ6IEJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdXBkYXRlU21vb3RoQm9vbUFybUxlbmd0aCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNtb290aEJvb21Bcm1MZW5ndGggIT0gbnVsbCAmJiB0aGlzLnNtb290aEJvb21Bcm1TcGVlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9vbVBvc2l0aW9uLnogIT09IHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb21Qb3NpdGlvbi56ID0gQkFCWUxPTi5TY2FsYXIuTW92ZVRvd2FyZHModGhpcy5ib29tUG9zaXRpb24ueiwgdGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoLCAodGhpcy5zbW9vdGhCb29tQXJtU3BlZWQgKiB0aGlzLmdldERlbHRhU2Vjb25kcygpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbW9vdGhCb29tQXJtU3BlZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gIEFtbW8gUGh5c2ljcyBSYXljYXN0aW5nXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGNhc3RQaHlzaWNzQ2xpbWJpbmdWb2x1bWVSYXkoKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgcmF5Y2FzdDogQkFCWUxPTi5Ub29sa2l0LlJheWNhc3RIaXRSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdFBvaW50LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0QW5nbGUgPSAwO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3REaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gQ2xpbWJpbmcgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJUcmFuc2Zvcm1Gb3J3YXJkRGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBVVElMLlRyYW5zZm9ybURpcmVjdGlvbih0aGlzLnRyYW5zZm9ybSwgdGhpcy5mb3J3YXJkRGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0Q2xpbWJSYXljYXN0UG9zaXRpb24uc2V0KDAsIHRoaXMucmF5Q2xpbWJPZmZzZXQsIDApO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbiwgdGhpcy5vZmZzZXRDbGltYlJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5lbmRDbGltYlJheWNhc3RQb3NpdGlvbiwgdGhpcy5mb3J3YXJkRGlyZWN0aW9uLnNjYWxlKHRoaXMucmF5Q2xpbWJMZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMuZW5kQ2xpbWJSYXljYXN0UG9zaXRpb24ueSArPSB0aGlzLnJheUNsaW1iT2Zmc2V0O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbiwgcGxheWVyVHJhbnNmb3JtRm9yd2FyZERpcmVjdGlvbiwgdGhpcy5yYXlDbGltYkxlbmd0aCwgdGhpcy5kZWZhdWx0UmF5Y2FzdEdyb3VwLCB0aGlzLmRlZmF1bHRSYXljYXN0TWFzayk7XG4gICAgICAgICAgICBpZiAocmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrVGFnID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tUYWcgPT09IHRoaXMuY2xpbWJWb2x1bWVUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdE5vZGUgPSByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdFBvaW50ICE9IG51bGwpIHRoaXMuY2xpbWJDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdE5vcm1hbCAhPSBudWxsKSB0aGlzLmNsaW1iQ29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0QW5nbGUgPSAodGhpcy5jbGltYkNvbnRhY3ROb3JtYWwgIT0gbnVsbCkgPyBNYXRoLmFicyhCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFuZ2xlKHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLCBCQUJZTE9OLlZlY3RvcjMuVXBSZWFkT25seSkpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3REaXN0YW5jZSA9IHJheWNhc3QuaGl0RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2xpbWJpbmcgRHJhdyBEZWJ1ZyBMaW5lXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGltYlNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5jbGltYlNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5DbGltYmluZ1NlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb24sIHJheWNhc3QuaGl0UG9pbnRdLCBCQUJZTE9OLkNvbG9yMy5SZWQoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYlNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRDbGltYlJheWNhc3RQb3NpdGlvbl0sIEJBQllMT04uQ29sb3IzLkdyZWVuKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY2FzdFBoeXNpY3NIZWlnaHRDaGVja1ZvbHVtZVJheSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCByYXljYXN0OiBCQUJZTE9OLlRvb2xraXQuUmF5Y2FzdEhpdFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0UG9pbnQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdEFuZ2xlID0gMDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdERpc3RhbmNlID0gMDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBIZWlnaHQgQ2hlY2sgUmF5Y2FzdCBQb3NpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJUcmFuc2Zvcm1IZWlnaHREaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IFVUSUwuVHJhbnNmb3JtRGlyZWN0aW9uKHRoaXMudHJhbnNmb3JtLCB0aGlzLmRvd25EaXJlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRIZWlnaHRSYXljYXN0UG9zaXRpb24uY29weUZyb20odGhpcy5jbGltYkNvbnRhY3RQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmNsaW1iQ29udGFjdFBvaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UoQkFCWUxPTi5WZWN0b3IzLlVwUmVhZE9ubHkuc2NhbGUodGhpcy5yYXlIZWlnaHRMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAvL3JheWNhc3QgPSBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5QaHlzaWNzUmF5Y2FzdCh0aGlzLnNjZW5lLCB0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLCBwbGF5ZXJUcmFuc2Zvcm1IZWlnaHREaXJlY3Rpb24sIHRoaXMucmF5SGVpZ2h0TGVuZ3RoLCB0aGlzLmRlZmF1bHRSYXljYXN0R3JvdXAsIHRoaXMuZGVmYXVsdFJheWNhc3RNYXNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRIZWlnaHRSYXljYXN0UG9zaXRpb24uc2V0KDAsIHRoaXMucmF5SGVpZ2h0T2Zmc2V0LCB0aGlzLnJheUNsaW1iTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgdGhpcy5vZmZzZXRIZWlnaHRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5kb3duRGlyZWN0aW9uLnNjYWxlKHRoaXMucmF5SGVpZ2h0TGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tUYWcgPSBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkdldFRyYW5zZm9ybVRhZyhyYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja1RhZyA9PT0gdGhpcy5jbGltYlZvbHVtZVRhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3ROb2RlID0gcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXRQb2ludCAhPSBudWxsKSB0aGlzLmhlaWdodENvbnRhY3RQb2ludC5jb3B5RnJvbShyYXljYXN0LmhpdFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0Tm9ybWFsICE9IG51bGwpIHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdEFuZ2xlID0gKHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbCAhPSBudWxsKSA/IE1hdGguYWJzKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QW5nbGUodGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsLCBCQUJZTE9OLlZlY3RvcjMuVXBSZWFkT25seSkpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0RGlzdGFuY2UgPSByYXljYXN0LmhpdERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhlaWdodCBDaGVjayBEcmF3IERlYnVnIExpbmVcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dEZWJ1Z0NvbGxpZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodFNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5oZWlnaHRTZW5zb3JMaW5lID0gbmV3IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlcih0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuSGVpZ2h0Q2hlY2tTZW5zb3JMaW5lXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgdGhpcy5oZWlnaHRDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgcmF5Y2FzdC5oaXRQb2ludF0sIEJBQllMT04uQ29sb3IzLlJlZCgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNlbnNvckxpbmUuZHJhd0xpbmUoW3RoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uXSwgQkFCWUxPTi5Db2xvcjMuR3JlZW4oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gIFByaXZhdGUgV29ya2VyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBnZXRDaGVja2VkVmVydGljYWxWZWxvY2l0eSgpOiBudW1iZXIge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZlbG9jaXR5OiBudW1iZXIgPSAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpID8gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLmdldFZlcnRpY2FsVmVsb2NpdHkoKSA6IDA7XG4gICAgICAgICAgICByZXR1cm4gKE1hdGguYWJzKGN1cnJlbnRWZWxvY2l0eSkgPj0gUFJPSkVDVC5TdGFuZGFyZFBsYXllckNvbnRyb2xsZXIuTUlOX1ZFUlRJQ0FMX1ZFTE9DSVRZKSA/IGN1cnJlbnRWZWxvY2l0eSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBkZXN0cm95UGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSB2YWxpZGF0ZUFuaW1hdGlvblN0YXRlUGFyYW1zKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVEaXJlY3Rpb246IFwiRGlyZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0TWFnbml0dWRlOiBcIk1hZ25pdHVkZVwiLFxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsSW5wdXQ6IFwiSG9yaXpvbnRhbFwiLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbElucHV0OiBcIlZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlWElucHV0OiBcIk1vdXNlWFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZVlJbnB1dDogXCJNb3VzZVlcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0SW5wdXQ6IFwiSGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkSW5wdXQ6IFwiU3BlZWRcIixcbiAgICAgICAgICAgICAgICAgICAganVtcEZyYW1lOiBcIkp1bXBlZFwiLFxuICAgICAgICAgICAgICAgICAgICBqdW1wU3RhdGU6IFwiSnVtcFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZTogXCJBY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgZmFsbGluZ1N0YXRlOiBcIkZyZWVGYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRpbmdTdGF0ZTogXCJTbGlkaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VuZGVkU3RhdGU6IFwiR3JvdW5kZWRcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICogQmFieWxvbiBJbnRlcmZhY2UgRGVmaW5pdGlvblxuICAgICogQGludGVyZmFjZSBBbmltYXRpb25TdGF0ZVBhcmFtc1xuICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBBbmltYXRpb25TdGF0ZVBhcmFtcyB7XG4gICAgICAgIG1vdmVEaXJlY3Rpb246IHN0cmluZztcbiAgICAgICAgaW5wdXRNYWduaXR1ZGU6IHN0cmluZztcbiAgICAgICAgaG9yaXpvbnRhbElucHV0OiBzdHJpbmc7XG4gICAgICAgIHZlcnRpY2FsSW5wdXQ6IHN0cmluZztcbiAgICAgICAgbW91c2VYSW5wdXQ6IHN0cmluZztcbiAgICAgICAgbW91c2VZSW5wdXQ6IHN0cmluZztcbiAgICAgICAgaGVpZ2h0SW5wdXQ6IHN0cmluZztcbiAgICAgICAgc3BlZWRJbnB1dDogc3RyaW5nO1xuICAgICAgICBqdW1wRnJhbWU6IHN0cmluZztcbiAgICAgICAganVtcFN0YXRlOiBzdHJpbmc7XG4gICAgICAgIGFjdGlvblN0YXRlOiBzdHJpbmc7XG4gICAgICAgIGZhbGxpbmdTdGF0ZTogc3RyaW5nO1xuICAgICAgICBzbGlkaW5nU3RhdGU6IHN0cmluZztcbiAgICAgICAgZ3JvdW5kZWRTdGF0ZTogc3RyaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gRW51bSBEZWZpbml0aW9uXG4gICAgKiBAaW50ZXJmYWNlIFBsYXllcklucHV0Q29udHJvbFxuICAgICovXG4gICAgZXhwb3J0IGVudW0gUGxheWVySW5wdXRDb250cm9sIHtcbiAgICAgICAgRmlyc3RQZXJzb25TdHJhZmluZyA9IDAsXG4gICAgICAgIFRoaXJkUGVyc29uU3RyYWZpbmcgPSAxXG4gICAgfVxuICAgIC8qKlxuICAgICogQmFieWxvbiBFbnVtIERlZmluaXRpb25cbiAgICAqIEBpbnRlcmZhY2UgUGxheWVyTW92ZURpcmVjdGlvblxuICAgICovXG4gICAgZXhwb3J0IGVudW0gUGxheWVyTW92ZURpcmVjdGlvbiB7XG4gICAgICAgIFN0YXRpb25hcnkgPSAwLFxuICAgICAgICBGb3J3YXJkID0gMSxcbiAgICAgICAgRm9yd2FyZExlZnQgPSAyLFxuICAgICAgICBGb3J3YXJkUmlnaHQgPSAzLFxuICAgICAgICBCYWNrd2FyZCA9IDQsXG4gICAgICAgIEJhY2t3YXJkTGVmdCA9IDUsXG4gICAgICAgIEJhY2t3YXJkUmlnaHQgPSA2LFxuICAgICAgICBTdHJhZmluZ0xlZnQgPSA3LFxuICAgICAgICBTdHJhZmluZ1JpZ2h0ID0gOFxuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gRW51bSBEZWZpbml0aW9uXG4gICAgKiBAaW50ZXJmYWNlIEFjdGlvbkFuaW1hdGlvblR5cGVcbiAgICAqL1xuICAgIGV4cG9ydCBlbnVtIEFjdGlvbkFuaW1hdGlvblR5cGUge1xuICAgICAgICBOZXV0cmFsID0gMCxcbiAgICAgICAgU3RlcFVwID0gMSxcbiAgICAgICAgSnVtcFVwID0gMixcbiAgICAgICAgQ2xpbWJVcCA9IDMsXG4gICAgICAgIFZhdWx0T3ZlciA9IDRcbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gdG9vbGtpdCB0aGlyZCBwZXJzb24gcGxheWVyIGNvbnRyb2xsZXIgY2xhc3NcbiAgICAgKiBAY2xhc3MgVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1ZFUlRJQ0FMX1ZFTE9DSVRZOiBudW1iZXIgPSAwLjAxO1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1JTl9HUk9VTkRfRElTVEFOQ0U6IG51bWJlciA9IDAuMTU7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX01PVkVfRVBTSUxPTjogbnVtYmVyID0gMC4wMDE7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTUlOX1RJTUVSX09GRlNFVDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBNSU5fU0xPUEVfTElNSVQ6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUExBWUVSX0hFSUdIVDogc3RyaW5nID0gXCJwbGF5ZXJIZWlnaHRcIjtcblxuICAgICAgICBwdWJsaWMgZW5hYmxlSW5wdXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGF0dGFjaENhbWVyYTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcm90YXRlQ2FtZXJhOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIG1vdXNlV2hlZWw6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgZnJlZUNhbWVyYTogQkFCWUxPTi5GcmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgcHVibGljIGZyZWVMb29raW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyByZXF1aXJlU3ByaW50QnV0dG9uOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBncmF2aXRhdGlvbmFsRm9yY2U6IG51bWJlciA9IDMuMDtcbiAgICAgICAgcHVibGljIG1pbkZhbGxWZWxvY2l0eTogbnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgdmVydGljYWxTdGVwU3BlZWQ6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIG1pblN0ZXBVcEhlaWdodDogbnVtYmVyID0gMC4xNTtcbiAgICAgICAgcHVibGljIHJpZ2lkQm9keU1hc3M6IG51bWJlciA9IDg1LjA7XG4gICAgICAgIHB1YmxpYyBhaXJib3JuVGltZW91dDogbnVtYmVyID0gMC41O1xuICAgICAgICBwdWJsaWMgbWF4QW5nbGU6IG51bWJlciA9IDQ1O1xuICAgICAgICBwdWJsaWMgc3BlZWRGYWN0b3I6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIHJvb3RNb3Rpb246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIG1vdmVTcGVlZDogbnVtYmVyID0gNS4zMzU7XG4gICAgICAgIHB1YmxpYyB3YWxrU3BlZWQ6IG51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIGxvb2tTcGVlZDogbnVtYmVyID0gMi4wO1xuICAgICAgICBwdWJsaWMganVtcFNwZWVkOiBudW1iZXIgPSAxMC4wO1xuICAgICAgICBwdWJsaWMganVtcERlbGF5OiBudW1iZXIgPSAwLjI1O1xuICAgICAgICBwdWJsaWMgZXllc0hlaWdodDogbnVtYmVyID0gMS41NTtcbiAgICAgICAgcHVibGljIHBpdm90SGVpZ2h0OiBudW1iZXIgPSAxLjM1O1xuICAgICAgICBwdWJsaWMgbWF4RGlzdGFuY2U6IG51bWJlciA9IDUuMDtcbiAgICAgICAgcHVibGljIHNjcm9sbFNwZWVkOiBudW1iZXIgPSAyNTtcbiAgICAgICAgcHVibGljIHRvcExvb2tMaW1pdDogbnVtYmVyID0gNjAuMDtcbiAgICAgICAgcHVibGljIGRvd25Mb29rTGltaXQ6IG51bWJlciA9IDMwLjA7XG4gICAgICAgIHB1YmxpYyBsb3dUdXJuU3BlZWQ6IG51bWJlciA9IDE1LjA7XG4gICAgICAgIHB1YmxpYyBoaWdoVHVyblNwZWVkOiBudW1iZXIgPSAyNS4wO1xuICAgICAgICBwdWJsaWMgc21vb3RoSW5wdXRUaW1lOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgc21vb3RoSW5wdXRWZWN0b3JzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBzbW9vdGhBY2NlbGVyYXRpb246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGFjY2VsZXJhdGlvblNwZWVkOiBudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyBkZWNlbGVyYXRpb25TcGVlZDogbnVtYmVyID0gMC4xO1xuICAgICAgICBwdWJsaWMgY2xpbWJWb2x1bWVUYWc6IHN0cmluZyA9IFwiQ2xpbWJcIjtcbiAgICAgICAgcHVibGljIHZhdWx0Vm9sdW1lVGFnOiBzdHJpbmcgPSBcIlZhdWx0XCI7XG4gICAgICAgIHB1YmxpYyBtYXhIZWlnaHRSYW5nZXM6IGFueSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyB1c2VDbGltYlN5c3RlbTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZGlzdGFuY2VGYWN0b3I6IG51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyBjYW1lcmFTbW9vdGhpbmc6IG51bWJlciA9IDg7XG4gICAgICAgIHB1YmxpYyBjYW1lcmFDb2xsaXNpb25zOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGlucHV0TWFnbml0dWRlOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbGFuZGluZ0Vwc2lsb246IG51bWJlciA9IDAuMTtcbiAgICAgICAgcHVibGljIG1pbmltdW1EaXN0YW5jZTogbnVtYmVyID0gMC41O1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRBbGxvd2VkOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHBsYXllcklucHV0WDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHBsYXllcklucHV0WjogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHBsYXllck1vdXNlWDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHBsYXllck1vdXNlWTogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHJ1bktleVJlcXVpcmVkOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGJ1dHRvblJ1bjogbnVtYmVyID0gQkFCWUxPTi5YYm94MzYwQnV0dG9uLkxlZnRTdGljaztcbiAgICAgICAgcHVibGljIGtleWJvYXJkUnVuOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0S2V5LlNoaWZ0O1xuICAgICAgICBwdWJsaWMgYnV0dG9uSnVtcDogbnVtYmVyID0gQkFCWUxPTi5YYm94MzYwQnV0dG9uLkE7XG4gICAgICAgIHB1YmxpYyBrZXlib2FyZEp1bXA6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuU3BhY2VCYXI7XG4gICAgICAgIHB1YmxpYyBidXR0b25DYW1lcmE6IG51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5ZO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRDYW1lcmE6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRLZXkuUDtcbiAgICAgICAgcHVibGljIHBvc3ROZXR3b3JrQXR0cmlidXRlczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcGxheWVyTnVtYmVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmU7XG4gICAgICAgIHB1YmxpYyBib29tUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgLTUpO1xuICAgICAgICBwdWJsaWMgYWlyYm9yblZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwdWJsaWMgbW92ZW1lbnRWZWxvY2l0eTogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIHRhcmdldENhbWVyYU9mZnNldDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHVibGljIGRlZmF1bHRGcmVlQ2FtZXJhOiBCQUJZTE9OLkZyZWVDYW1lcmEgPSBudWxsO1xuICAgICAgICBwdWJsaWMgZGVmYXVsdENhbWVyYU5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBpc0FuaW1hdGlvbkVuYWJsZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zOyB9XG4gICAgICAgIHB1YmxpYyBpc1J1bkJ1dHRvblByZXNzZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzUnVuUHJlc3NlZDsgfVxuICAgICAgICBwdWJsaWMgaXNKdW1wQnV0dG9uUHJlc3NlZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNKdW1wUHJlc3NlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySnVtcGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySnVtcGluZygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJGYWxsaW5nKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3RlckZhbGxpbmc7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllclNsaWRpbmcoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZzsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyR3JvdW5kZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQ7IH1cbiAgICAgICAgcHVibGljIGdldEZhbGxUcmlnZ2VyZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzQ2hhcmFjdGVyRmFsbFRyaWdnZXJlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0TW92ZW1lbnRTcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5tb3ZlbWVudFNwZWVkOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBbmltYXRpb25TcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5hbmltYXRpb25TcGVlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhQm9vbU5vZGUoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuY2FtZXJhTm9kZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhVHJhbnNmb3JtKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmNhbWVyYVBpdm90OyB9XG4gICAgICAgIHB1YmxpYyBnZXRBbmltYXRpb25TdGF0ZSgpOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgeyByZXR1cm4gdGhpcy5hbmltYXRpb25TdGF0ZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0VmVydGljYWxWZWxvY2l0eSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5nZXRDaGVja2VkVmVydGljYWxWZWxvY2l0eSgpOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDaGFyYWN0ZXJDb250cm9sbGVyKCk6IEJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyIHsgcmV0dXJuIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyTG9va1JvdGF0aW9uKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLnBsYXllckxvb2tSb3RhdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyTW92ZURpcmVjdGlvbigpOiBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24geyByZXR1cm4gdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uOyB9XG4gICAgICAgIHB1YmxpYyBnZXRJbnB1dE1vdmVtZW50VmVjdG9yKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3I7IH1cbiAgICAgICAgcHVibGljIGdldElucHV0TWFnbml0dWRlVmFsdWUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaW5wdXRNYWduaXR1ZGU7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVBpdm90UG9zaXRpb24oKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuICh0aGlzLmNhbWVyYVBpdm90ICE9IG51bGwpID8gdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiA6IG51bGw7IH1cbiAgICAgICAgcHVibGljIGdldENhbWVyYVBpdm90Um90YXRpb24oKTogQkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuICh0aGlzLmNhbWVyYVBpdm90ICE9IG51bGwpID8gdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24gOiBudWxsOyB9XG5cbiAgICAgICAgcHVibGljIHJheUNsaW1iT2Zmc2V0OiBudW1iZXIgPSAwLjM1O1xuICAgICAgICBwdWJsaWMgcmF5Q2xpbWJMZW5ndGg6IG51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0Tm9kZSgpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3ROb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDbGltYkNvbnRhY3RQb2ludCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3RQb2ludDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2xpbWJDb250YWN0QW5nbGUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY2xpbWJDb250YWN0QW5nbGU7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdE5vcm1hbCgpOiBCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5jbGltYkNvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldENsaW1iQ29udGFjdERpc3RhbmNlKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmNsaW1iQ29udGFjdERpc3RhbmNlOyB9O1xuICAgICAgICBwdWJsaWMgY2FuQ2xpbWJPYnN0YWNsZVByZWRpY2F0ZTogKGFjdGlvbjogbnVtYmVyKSA9PiBib29sZWFuID0gbnVsbDtcblxuICAgICAgICBwdWJsaWMgcmF5SGVpZ2h0T2Zmc2V0OiBudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyByYXlIZWlnaHRMZW5ndGg6IG51bWJlciA9IDYuMDtcbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3Q7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3ROb2RlKCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3ROb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0UG9pbnQoKTogQkFCWUxPTi5WZWN0b3IzIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0QW5nbGUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaGVpZ2h0Q29udGFjdEFuZ2xlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRIZWlnaHRDb250YWN0Tm9ybWFsKCk6IEJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLmhlaWdodENvbnRhY3ROb3JtYWw7IH1cbiAgICAgICAgcHVibGljIGdldEhlaWdodENvbnRhY3REaXN0YW5jZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5oZWlnaHRDb250YWN0RGlzdGFuY2U7IH07XG5cbiAgICAgICAgcHJpdmF0ZSBhYnN0cmFjdE1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFEaXN0YW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBmb3J3YXJkQ2FtZXJhOiBib29sZWFuID0gdHJ1ZTsgLy8gTm90ZSBBbHdheXMgQ2FtZXJhIEZvcndhcmRcbiAgICAgICAgcHJpdmF0ZSBhdmF0YXJSYWRpdXM6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHJpdmF0ZSBncm91bmRpbmdPYmplY3Q6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZ3JvdW5kaW5nQ2FsbGJhY2s6IGFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZG9sbHlEaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRXVsZXJzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHJvdGF0aW9uRXVsZXJzOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVBpdm90T2Zmc2V0OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNhbWVyYUZvcndhcmRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUmlnaHRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZGVzaXJlZEZvcndhcmRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgZGVzaXJlZFJpZ2h0VmVjdG9yOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGxhc3RSb3RhdGlvblF1YXRlcm5pb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgc2NhbGVkQ2FtRGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHNjYWxlZE1heERpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnROb2RlUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgbWF4aW11bUNhbWVyYVBvczogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSB0ZW1wV29ybGRQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcml2YXRlIGNhbWVyYVJheWNhc3RSZXN1bHQ6IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVJheWNhc3RTaGFwZTogQkFCWUxPTi5QaHlzaWNzU2hhcGVTcGhlcmUgPSBudWxsO1xuICAgICAgICAvL3ByaXZhdGUgZGVmYXVsdFJheWNhc3RHcm91cDpudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyO1xuICAgICAgICAvL3ByaXZhdGUgZGVmYXVsdFJheWNhc3RNYXNrOm51bWJlciA9IEJBQllMT04uVG9vbGtpdC5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlcjtcbiAgICAgICAgLy9wcml2YXRlIGNhbWVyYVJheWNhc3RNYXNrOm51bWJlciA9IChCQUJZTE9OLlRvb2xraXQuQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyIHwgQkFCWUxPTi5Ub29sa2l0LkNvbGxpc2lvbkZpbHRlcnMuU3RhdGljRmlsdGVyIHwgQkFCWUxPTi5Ub29sa2l0LkNvbGxpc2lvbkZpbHRlcnMuS2luZW1hdGljRmlsdGVyKTsgLy8gTm90ZTogRXhjbHVkZSBUaGUgUGxheWVyIENoYXJhY3RlciBDb250cm9sbGVyIEZyb20gQ2FtZXJhIENvbGxpc2lvblxuXG4gICAgICAgIHByaXZhdGUgYXZhdGFyU2tpbnM6IEJBQllMT04uQWJzdHJhY3RNZXNoW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYU5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhUGl2b3Q6IEJBQllMT04uTWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbmF2aWdhdGlvbkFnZW50OiBCQUJZTE9OLlRvb2xraXQuTmF2aWdhdGlvbkFnZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjaGFyYWN0ZXJDb250cm9sbGVyOiBCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdmVydGljYWxWZWxvY2l0eTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBzbW9vdGhNb3Rpb25TcGVlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNtb290aENoYW5nZVJhdGU6IG51bWJlciA9IDI1O1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblNwZWVkOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1vdmVtZW50U3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaXNSdW5QcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNKdW1wUHJlc3NlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyU2xpZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyRmFsbGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyR3JvdW5kZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlckp1bXBGcmFtZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVySnVtcGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQ2hhcmFjdGVyUmlzaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJMYW5kaW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbmF2aWdhdGlvbkFuZ3VsYXJTcGVlZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVTdGF0ZVBhcmFtczogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgYW5pbWF0aW9uU3RhdGVQYXJhbXM6IFBST0pFQ1QuQW5pbWF0aW9uU3RhdGVQYXJhbXMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNwaGVyZUNvbGxpc2lvblNoYXBlOiBhbnkgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGhhc0dyb3VuZGVkQ29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNob3dEZWJ1Z0NvbGxpZGVyczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNvbGxpZGVyVmlzaWJpbGl0eTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjb2xsaWRlclJlbmRlckdyb3VwOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNob3dEZWJ1Z1JheWNhc3RzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgcHJpdmF0ZSBkZWx0YVRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWluSnVtcFRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGRlbGF5SnVtcFRpbWVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNhblBsYXllckp1bXA6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlOiBCQUJZTE9OLlRvb2xraXQuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICAvLyBERVBSRUNJQVRFRDogcHJpdmF0ZSByb3RhdGlvblZlbG9jaXR5WDpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIC8vIERFUFJFQ0lBVEVEOiBwcml2YXRlIHJvdGF0aW9uVmVsb2NpdHlZOkJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0SnVtcFZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGlucHV0TW92ZW1lbnRWZWN0b3I6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTG9va1JvdGF0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uVmVjdG9yOiBCQUJZTE9OLlZlY3RvcjIgPSBCQUJZTE9OLlZlY3RvcjIuWmVybygpO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdmVtZW50VmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcGxheWVyUm90YXRpb25RdWF0ZXJuaW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdmVEaXJlY3Rpb246IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5TdGF0aW9uYXJ5O1xuICAgICAgICBwcml2YXRlIGZvcndhcmREaXJlY3Rpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgZG93bkRpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMSwgMCk7XG5cbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3ROb2RlOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdEFuZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGNsaW1iQ29udGFjdE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBjbGltYkNvbnRhY3REaXN0YW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjbGltYlNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb2Zmc2V0Q2xpbWJSYXljYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgc3RhcnRDbGltYlJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBlbmRDbGltYlJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0Tm9kZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBoZWlnaHRDb250YWN0QW5nbGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdFBvaW50OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGhlaWdodENvbnRhY3ROb3JtYWw6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0Q29udGFjdERpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGhlaWdodFNlbnNvckxpbmU6IEJBQllMT04uVG9vbGtpdC5MaW5lc01lc2hSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb2Zmc2V0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIHN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGVuZEhlaWdodFJheWNhc3RQb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcblxuICAgICAgICBwcm90ZWN0ZWQgbV92ZWxvY2l0eU9mZnNldDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJvdGVjdGVkIG1fYWN0dWFsVmVsb2NpdHk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2xpbmVhclZlbG9jaXR5OiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9sYXN0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX3Bvc2l0aW9uQ2VudGVyOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zY2FsZWRWZWxvY2l0eTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJvdGVjdGVkIHBsYXllckRyYXdWZWxvY2l0eTogbnVtYmVyID0gMDtcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwcm9wZXJ0aWVzPzogYW55KSB7XG4gICAgICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIHNjZW5lLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZVBsYXllckNvbnRyb2xsZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IHRoaXMuc3RhcnRQbGF5ZXJDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyB0aGlzLmFmdGVyUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IHRoaXMudXBkYXRlUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lQbGF5ZXJDb250cm9sbGVyKCk7IH1cblxuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaGFzIGJlZW4gdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25QcmVVcGRhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBtb3ZlbWVudCBoYXMgYmVlbiBhcHBsaWVkICovXG4gICAgICAgIHB1YmxpYyBvbkJlZm9yZU1vdmVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGFmdGVyIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgcGxheWVyIGlucHV0IGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUGxheWVySW5wdXRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gcGxheWVyIHBvc2l0aW9uIHNob3VsZCBiZSB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBhZnRlciBwZXJmb3JtaW5nIGFjdGlvbiBoYXMgYmVlbiB1cGRhdGVkICovXG4gICAgICAgIHB1YmxpYyBvblVwZGF0ZUFjdGlvbk9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgYWZ0ZXIgYW5pbWF0aW9uIHN0YXRlIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uQW5pbWF0aW9uU3RhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUm9vdCBNb3Rpb24gQW5pbWF0aW9uIFN5c3RlbVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgX2RlbHRhTW90aW9uUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBnZXREZWx0YU1vdGlvblBvc2l0aW9uKCk6IEJBQllMT04uVmVjdG9yMyB7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb290TW90aW9uUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IHRoaXMuYW5pbWF0aW9uU3RhdGUuZ2V0RGVsdGFSb290TW90aW9uUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocm9vdE1vdGlvblBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IENhbGN1bGF0ZSBEZWx0YSBSb290IE1vdGlvbiBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWx0YU1vdGlvblBvc2l0aW9uLmNvcHlGcm9tKHJvb3RNb3Rpb25Qb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbHRhTW90aW9uUG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIF9kZWx0YU1vdGlvblJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsIDAsIDAsIDApO1xuICAgICAgICBwdWJsaWMgZ2V0RGVsdGFNb3Rpb25Sb3RhdGlvbigpOiBCQUJZTE9OLlF1YXRlcm5pb24ge1xuICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Sb3RhdGlvbi5zZXQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdE1vdGlvblJvdGF0aW9uOiBCQUJZTE9OLlF1YXRlcm5pb24gPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldERlbHRhUm9vdE1vdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RNb3Rpb25Sb3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBDYWxjdWxhdGUgRGVsdGEgUm9vdCBNb3Rpb24gUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsdGFNb3Rpb25Sb3RhdGlvbi5jb3B5RnJvbShyb290TW90aW9uUm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWx0YU1vdGlvblJvdGF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQmxvY2tpbmcgQWN0aW9uIEFuaW1hdGlvbiBTeXN0ZW1cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcml2YXRlIGlzUGVyZm9ybWluZ0FjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzUm9vdE1vdGlvbkFjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGlzQWN0aW9uSW50ZXJydXB0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGFmdGVyQWN0aW9uSGFuZGxlcjogRnVuY3Rpb24gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHBlcmZvcm1BY3Rpb25UaW1lcjogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwZXJmb3JtQWN0aW9uTnVtYmVyOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHBsYXllclJvdGF0aW9uU3BlZWQ6IG51bWJlciA9IDEwO1xuICAgICAgICBwcml2YXRlIHJvdGF0ZVBsYXllclRvd2FyZHM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFN0YXJ0VGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBtYXRjaFRhcmdldFRpbWU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hUYXJnZXRPZmZzZXQ6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hUYXJnZXRIZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBsb2NrVGFyZ2V0SGVpZ2h0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgbGFzdFN0YXJ0SGVpZ2h0OiBCQUJZTE9OLk51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIGxhc3RUYXJnZXRIZWlnaHQ6IEJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbGFzdFRhcmdldE5vcm1hbDogQkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgcHJpdmF0ZSBsYXN0VGFyZ2V0Um90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgbGFzdERlbHRhUG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdERlbHRhUm90YXRpb246IEJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgIHB1YmxpYyBnZXRJc1BlcmZvcm1pbmdBY3Rpb24oKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbjsgfVxuICAgICAgICBwdWJsaWMgZ2V0SXNSb290TW90aW9uQWN0aW9uKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5pc1Jvb3RNb3Rpb25BY3Rpb247IH1cbiAgICAgICAgcHVibGljIGdldElzQWN0aW9uSW50ZXJydXB0YWJsZSgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNBY3Rpb25JbnRlcnJ1cHRhYmxlOyB9XG4gICAgICAgIHB1YmxpYyBwbGF5QWN0aW9uQW5pbWF0aW9uKGFjdGlvbjogbnVtYmVyLCBpbnRlcnJ1cHRhYmxlQWN0aW9uOiBib29sZWFuID0gdHJ1ZSwgZW5hYmxlUm9vdE1vdGlvbjogYm9vbGVhbiA9IGZhbHNlLCBhZnRlckFjdGlvbkNvbXBsZXRlOiAoKSA9PiB2b2lkID0gbnVsbCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID09PSBmYWxzZSAmJiB0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgYWN0aW9uID49IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybUFjdGlvbk51bWJlciA9IGFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmFmdGVyQWN0aW9uSGFuZGxlciA9IGFmdGVyQWN0aW9uQ29tcGxldGU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPSBpbnRlcnJ1cHRhYmxlQWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID0gZW5hYmxlUm9vdE1vdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uU3BlZWQgPSAxMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Um90YXRpb24uc2V0KDAsIDAsIDAsIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZUNoYXJhY3RlckNvbnRyb2xsZXIoZmFsc2UpOyAvLyBOb3RlOiBEaXNhYmxlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgcmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFmdGVyQWN0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHsgdGhpcy5hZnRlckFjdGlvbkhhbmRsZXIoKTsgfSBjYXRjaCB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcih0cnVlKTsgLy8gTm90ZTogRW5hYmxlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNQZXJmb3JtaW5nQWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzUm9vdE1vdGlvbkFjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJBY3Rpb25IYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25TcGVlZCA9IDEwO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGVQbGF5ZXJUb3dhcmRzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hUYXJnZXRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5sb2NrVGFyZ2V0SGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmxhc3RTdGFydEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXRIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Tm9ybWFsLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uLnNldCgwLCAwLCAwLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQW5pbWF0aW9uQWN0aW9uU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVRpbWU6IG51bWJlciA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICBjb25zdCBkYW1wVGltZTogbnVtYmVyID0gKHRoaXMubWF0Y2hUYXJnZXRUaW1lIC0gdGhpcy5tYXRjaFN0YXJ0VGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMuaXNSb290TW90aW9uQWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyR2xvYmFsSGVpZ2h0OiBudW1iZXIgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmdldERlbHRhTW90aW9uUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMubGFzdERlbHRhUG9zaXRpb24sIHRoaXMudHJhbnNmb3JtLmdldFdvcmxkTWF0cml4KCksIHRoaXMubGFzdERlbHRhUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTdGFydEhlaWdodCA9PSBudWxsICYmIHRoaXMucGVyZm9ybUFjdGlvblRpbWVyID49IHRoaXMubWF0Y2hTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gcGxheWVyR2xvYmFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5yZXNldFNtb290aFByb3BlcnR5KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IFN0YXJ0IEdsb2JhbCBIZWlnaHQ6IFwiICsgdGhpcy5sYXN0U3RhcnRIZWlnaHQgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTdGFydEhlaWdodCAhPSBudWxsICYmIHRoaXMubGFzdFRhcmdldEhlaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZml4ZWRUYXJnZXRIZWlnaHQ6IG51bWJlciA9ICh0aGlzLmxhc3RUYXJnZXRIZWlnaHQgKyB0aGlzLm1hdGNoVGFyZ2V0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciA8IHRoaXMubWF0Y2hUYXJnZXRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdChQUk9KRUNULlRoaXJkUGVyc29uUGxheWVyQ29udHJvbGxlci5QTEFZRVJfSEVJR0hULCBmaXhlZFRhcmdldEhlaWdodCwgZGFtcFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21vb3RoUGxheWVySGVpZ2h0OiBudW1iZXIgPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldEZsb2F0KFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLlBMQVlFUl9IRUlHSFQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSA9IChzbW9vdGhQbGF5ZXJIZWlnaHQgLSBwbGF5ZXJHbG9iYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIj4+PiBMZXJwIFRhcmdldCBEZWx0YTogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubG9ja1RhcmdldEhlaWdodCA9PT0gZmFsc2UgJiYgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIgPj0gdGhpcy5tYXRjaFRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAoZml4ZWRUYXJnZXRIZWlnaHQgLSBwbGF5ZXJHbG9iYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IExhc3QgR2xvYmFsIERlbHRhOiBcIiArIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueSArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciArIFwiIC0tLT4gTWF0Y2ggVGFyZ2V0IFRpbWU6IFwiICsgdGhpcy5tYXRjaFRhcmdldFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgUm9vdCBNb3Rpb24gVG8gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMubGFzdERlbHRhUG9zaXRpb24ueCA9IDA7IC8vIEZJWE1FOiBBcHBseSBSb3RhdGlvbiBZIERpZmZlcmVuY2UgRmFjdG9yIEZyb20gVW5pdHlcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgPSAwOyAvLyBGSVhNRTogQXBwbHkgUm90YXRpb24gWSBEaWZmZXJlbmNlIEZhY3RvciBGcm9tIFVuaXR5XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmxhc3REZWx0YVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlBsYXllciBBY3Rpb24gSGVpZ2h0OiBcIiArIHBsYXllckdsb2JhbEhlaWdodCArIFwiIC0tPiBQZXJmb3JtIEFjdGlvbiBUaW1lcjogXCIgKyB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDdXJyZW50IERlbHRhIEhlaWdodDogXCIgKyB0aGlzLmxhc3REZWx0YVBvc2l0aW9uLnkgKyBcIiAtLT4gUGVyZm9ybSBBY3Rpb24gVGltZXI6IFwiICsgdGhpcy5wZXJmb3JtQWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgUm9vdCBNb3Rpb24gVG8gUm90YXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZVBsYXllclRvd2FyZHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXROb3JtYWwuc2V0KC10aGlzLmNsaW1iQ29udGFjdE5vcm1hbC54LCAtdGhpcy5jbGltYkNvbnRhY3ROb3JtYWwueSwgLXRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Mb29rUm90YXRpb25Ub1JlZih0aGlzLmxhc3RUYXJnZXROb3JtYWwsIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlcnBBbW91bnQ6IG51bWJlciA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMucGxheWVyUm90YXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZih0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIHRoaXMubGFzdFRhcmdldFJvdGF0aW9uLCBsZXJwQW1vdW50LCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNsaW1iIFRhcmdldCBSb3RhdGlvbjogXCIgKyB0aGlzLmxhc3RUYXJnZXRSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWx0YVJvdGF0aW9uLmNvcHlGcm9tKHRoaXMuZ2V0RGVsdGFNb3Rpb25Sb3RhdGlvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLm11bHRpcGx5SW5QbGFjZSh0aGlzLmxhc3REZWx0YVJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3Rpb25UaW1lciArPSBkZWx0YVRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBDb250cm9sbGVyIEF0dGFjaG1lbnQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFNldCB0aGUgcGxheWVyIHdvcmxkIHBvc2l0aW9uICovXG4gICAgICAgIHB1YmxpYyBzZXRXb3JsZFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXQoeCwgeSwgeik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgYXR0YWNoUGxheWVyQ2FtZXJhKHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyQ2FtZXJhOiBudW1iZXIgPSAocGxheWVyIDw9IDAgfHwgcGxheWVyID4gNCkgPyAxIDogcGxheWVyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckNhbWVyYU5vZGUgPSB0aGlzLmRlZmF1bHRDYW1lcmFOb2RlIHx8IFBST0pFQ1QuRGVmYXVsdENhbWVyYVN5c3RlbS5HZXRDYW1lcmFUcmFuc2Zvcm0odGhpcy5zY2VuZSwgcGxheWVyQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJGcmVlQ2FtZXJhID0gdGhpcy5kZWZhdWx0RnJlZUNhbWVyYSB8fCBQUk9KRUNULkRlZmF1bHRDYW1lcmFTeXN0ZW0uR2V0TWFpbkNhbWVyYSh0aGlzLnNjZW5lLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckNhbWVyYU5vZGUgIT0gbnVsbCAmJiBwbGF5ZXJGcmVlQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlID0gcGxheWVyQ2FtZXJhTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmVlQ2FtZXJhID0gcGxheWVyRnJlZUNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmVlQ2FtZXJhLmRldGFjaENvbnRyb2woKTsgLy8gTk9URTogQUxXQVlTIERFVEFDSCBDT05UUk9MXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZS5wYXJlbnQgPSB0aGlzLmNhbWVyYVBpdm90O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24uY29weUZyb20odGhpcy5ib29tUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIE1vdmUgc29tZXdoZXJlIGJldHRlciAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gSGFuZGxlIExvbmcgSW50aXRpYWwgQ2FtZXJhIFBhbiAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYURpc3RhbmNlID0gdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9sbHlEaXJlY3Rpb24ubm9ybWFsaXplKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gREVCVUc6IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuTG9nV2FybmluZyhcIkZhaWxlZCB0byBsb2NhdGUgcGxheWVyIGNhbWVyYSBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfaWtMZWZ0Q29udHJvbGxlcjogQkFCWUxPTi5Cb25lSUtDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaWtMZWZ0Rm9vdFRhcmdldDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaWtMZWZ0UG9sZVRhcmdldDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfaWtSaWdodENvbnRyb2xsZXI6IEJBQllMT04uQm9uZUlLQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lrUmlnaHRGb290VGFyZ2V0OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9pa1JpZ2h0UG9sZVRhcmdldDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIGFic3RyYWN0U2tpbk1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSByb290Qm9uZVRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBsZWZ0Rm9vdFRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgLy9wcml2YXRlIGxlZnRGb290UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgbGVmdEZvb3RQb2xlUG9zOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBwcml2YXRlIGxlZnRGb290QmVuZEF4aXM6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgbGVmdEZvb3RQb2xlQW5nbGU6IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbGVmdEZvb3RNYXhBbmdsZTogbnVtYmVyID0gMTgwO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdFRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgLy9wcml2YXRlIHJpZ2h0Rm9vdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdFBvbGVQb3M6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcmlnaHRGb290QmVuZEF4aXM6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcmlnaHRGb290UG9sZUFuZ2xlOiBudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJpZ2h0Rm9vdE1heEFuZ2xlOiBudW1iZXIgPSAxODA7XG5cbiAgICAgICAgcHVibGljIGdldExlZnRGb290VGFyZ2V0KCk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7IHJldHVybiB0aGlzLl9pa0xlZnRGb290VGFyZ2V0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRSaWdodEZvb3RUYXJnZXQoKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHsgcmV0dXJuIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRMZWZ0Rm9vdENvbnRyb2xsZXIoKTogQkFCWUxPTi5Cb25lSUtDb250cm9sbGVyIHsgcmV0dXJuIHRoaXMuX2lrTGVmdENvbnRyb2xsZXI7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0Rm9vdENvbnRyb2xsZXIoKTogQkFCWUxPTi5Cb25lSUtDb250cm9sbGVyIHsgcmV0dXJuIHRoaXMuX2lrUmlnaHRDb250cm9sbGVyOyB9XG4gICAgICAgIHB1YmxpYyBhdHRhY2hCb25lQ29udHJvbGxlcnMoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5SGFuZGxlczogYm9vbGVhbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkaXNwbGF5SGFuZGxlc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IGFic3RyYWN0U2tpbk1lc2hEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImFic3RyYWN0U2tpbk1lc2hcIik7XG4gICAgICAgICAgICBpZiAoYWJzdHJhY3RTa2luTWVzaERhdGEgIT0gbnVsbCkgdGhpcy5hYnN0cmFjdFNraW5NZXNoID0gdGhpcy5nZXRDaGlsZE5vZGUoYWJzdHJhY3RTa2luTWVzaERhdGEubmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgY29uc3Qgcm9vdEJvbmVUcmFuc2Zvcm1EYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvb3RCb25lVHJhbnNmb3JtXCIpO1xuICAgICAgICAgICAgaWYgKHJvb3RCb25lVHJhbnNmb3JtRGF0YSAhPSBudWxsKSB0aGlzLnJvb3RCb25lVHJhbnNmb3JtID0gdGhpcy5nZXRDaGlsZE5vZGUocm9vdEJvbmVUcmFuc2Zvcm1EYXRhLm5hbWUsIEJBQllMT04uVG9vbGtpdC5TZWFyY2hUeXBlLkV4YWN0TWF0Y2gsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBsZWZ0Rm9vdFRyYW5zZm9ybURhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUcmFuc2Zvcm0gPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RUcmFuc2Zvcm1cIik7XG4gICAgICAgICAgICBpZiAobGVmdEZvb3RUcmFuc2Zvcm1EYXRhICE9IG51bGwpIHRoaXMubGVmdEZvb3RUcmFuc2Zvcm0gPSB0aGlzLmdldENoaWxkTm9kZShsZWZ0Rm9vdFRyYW5zZm9ybURhdGEubmFtZSwgQkFCWUxPTi5Ub29sa2l0LlNlYXJjaFR5cGUuRXhhY3RNYXRjaCwgZmFsc2UpO1xuXG4gICAgICAgICAgICAvL2NvbnN0IGxlZnRGb290UG9zaXRpb25EYXRhOkJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290UG9zaXRpb25cIik7XG4gICAgICAgICAgICAvL2lmIChsZWZ0Rm9vdFBvc2l0aW9uRGF0YSAhPSBudWxsKSB0aGlzLmxlZnRGb290UG9zaXRpb24uY29weUZyb20oQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMobGVmdEZvb3RQb3NpdGlvbkRhdGEpKTtcblxuICAgICAgICAgICAgY29uc3QgbGVmdFBvbGVIYW5kbGVEYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsZWZ0Rm9vdFBvbGVQb3NcIik7XG4gICAgICAgICAgICBpZiAobGVmdFBvbGVIYW5kbGVEYXRhICE9IG51bGwpIHRoaXMubGVmdEZvb3RQb2xlUG9zLmNvcHlGcm9tKEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGxlZnRQb2xlSGFuZGxlRGF0YSkpO1xuICAgICAgICAgICAgY29uc3QgbGVmdEJlbmRBeGlzRGF0YTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjMgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdEZvb3RCZW5kQXhpc1wiKTtcbiAgICAgICAgICAgIGlmIChsZWZ0QmVuZEF4aXNEYXRhICE9IG51bGwpIHRoaXMubGVmdEZvb3RCZW5kQXhpcy5jb3B5RnJvbShCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhsZWZ0QmVuZEF4aXNEYXRhKSk7XG4gICAgICAgICAgICB0aGlzLmxlZnRGb290UG9sZUFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290UG9sZUFuZ2xlXCIsIHRoaXMubGVmdEZvb3RQb2xlQW5nbGUpO1xuICAgICAgICAgICAgdGhpcy5sZWZ0Rm9vdE1heEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlZnRGb290TWF4QW5nbGVcIiwgdGhpcy5sZWZ0Rm9vdE1heEFuZ2xlKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCByaWdodEZvb3RUcmFuc2Zvcm1EYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdFRyYW5zZm9ybVwiKTtcbiAgICAgICAgICAgIGlmIChyaWdodEZvb3RUcmFuc2Zvcm1EYXRhICE9IG51bGwpIHRoaXMucmlnaHRGb290VHJhbnNmb3JtID0gdGhpcy5nZXRDaGlsZE5vZGUocmlnaHRGb290VHJhbnNmb3JtRGF0YS5uYW1lLCBCQUJZTE9OLlRvb2xraXQuU2VhcmNoVHlwZS5FeGFjdE1hdGNoLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vY29uc3QgcmlnaHRGb290UG9zaXRpb25EYXRhOkJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdFBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgLy9pZiAocmlnaHRGb290UG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMucmlnaHRGb290UG9zaXRpb24uY29weUZyb20oQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMocmlnaHRGb290UG9zaXRpb25EYXRhKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0UG9sZUhhbmRsZURhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdFBvbGVQb3NcIik7XG4gICAgICAgICAgICBpZiAocmlnaHRQb2xlSGFuZGxlRGF0YSAhPSBudWxsKSB0aGlzLnJpZ2h0Rm9vdFBvbGVQb3MuY29weUZyb20oQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMocmlnaHRQb2xlSGFuZGxlRGF0YSkpO1xuICAgICAgICAgICAgY29uc3QgcmlnaHRCZW5kQXhpc0RhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdEJlbmRBeGlzXCIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0QmVuZEF4aXNEYXRhICE9IG51bGwpIHRoaXMucmlnaHRGb290QmVuZEF4aXMuY29weUZyb20oQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMocmlnaHRCZW5kQXhpc0RhdGEpKTtcbiAgICAgICAgICAgIHRoaXMucmlnaHRGb290UG9sZUFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdFBvbGVBbmdsZVwiLCB0aGlzLnJpZ2h0Rm9vdFBvbGVBbmdsZSk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0Rm9vdE1heEFuZ2xlID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0Rm9vdE1heEFuZ2xlXCIsIHRoaXMucmlnaHRGb290TWF4QW5nbGUpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmFic3RyYWN0U2tpbk1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBtYXRlcmlhbE5hbWU6IHN0cmluZyA9IFwiTV9UQVJHRVRfTUVTSFwiO1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRNYXRlcmlhbDogQkFCWUxPTi5NYXRlcmlhbCA9IHRoaXMuc2NlbmUuZ2V0TWF0ZXJpYWxCeU5hbWUobWF0ZXJpYWxOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TWF0ZXJpYWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJNX1RBUkdFVF9NRVNIXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAoPEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbD50YXJnZXRNYXRlcmlhbCkuZGlmZnVzZUNvbG9yID0gbmV3IEJBQllMT04uQ29sb3IzKDEuMCwgMC41LCAwLjI1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBMZWZ0IEZvb3QgQ29udHJvbGxlclxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGVmdEZvb3RUcmFuc2Zvcm0gIT0gbnVsbCAmJiAoPGFueT50aGlzLmxlZnRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdEZvb3RUYXJnZXQgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTGVmdEZvb3RUYXJnZXRcIiwgeyB3aWR0aDogMC4xLCBoZWlnaHQ6IDAuMSwgZGVwdGg6IDAuMSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0Rm9vdFRhcmdldC5wYXJlbnQgPSB0aGlzLmFic3RyYWN0U2tpbk1lc2g7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5faWtMZWZ0Rm9vdFRhcmdldC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmxlZnRGb290UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtMZWZ0Rm9vdFRhcmdldCBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRGb290VGFyZ2V0Lm1hdGVyaWFsID0gdGFyZ2V0TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRGb290VGFyZ2V0LmlzVmlzaWJsZSA9IGRpc3BsYXlIYW5kbGVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuTGVmdEZvb3RQb2xlXCIsIHsgZGlhbWV0ZXI6IDAuMTUgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQucGFyZW50ID0gdGhpcy5hYnN0cmFjdFNraW5NZXNoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMubGVmdEZvb3RQb2xlUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrTGVmdFBvbGVUYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtMZWZ0UG9sZVRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa0xlZnRDb250cm9sbGVyID0gbmV3IEJBQllMT04uQm9uZUlLQ29udHJvbGxlcih0aGlzLmFic3RyYWN0U2tpbk1lc2gsICg8YW55PnRoaXMubGVmdEZvb3RUcmFuc2Zvcm0pLl9saW5rZWRCb25lLCB7dGFyZ2V0TWVzaDp0aGlzLl9pa0xlZnRGb290VGFyZ2V0LCBwb2xlVGFyZ2V0TWVzaDp0aGlzLl9pa0xlZnRQb2xlVGFyZ2V0LCBwb2xlQW5nbGU6QkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5sZWZ0Rm9vdFBvbGVBbmdsZSksIGJlbmRBeGlzOnRoaXMubGVmdEZvb3RCZW5kQXhpc30pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa0xlZnRDb250cm9sbGVyLm1heEFuZ2xlID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5sZWZ0Rm9vdE1heEFuZ2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBTZXR1cCBSaWdodCBGb290IENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSAhPSBudWxsICYmICg8YW55PnRoaXMucmlnaHRGb290VHJhbnNmb3JtKS5fbGlua2VkQm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRGb290VGFyZ2V0ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlJpZ2h0Rm9vdFRhcmdldFwiLCB7IHdpZHRoOiAwLjEsIGhlaWdodDogMC4xLCBkZXB0aDogMC4xIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldC5wYXJlbnQgPSB0aGlzLmFic3RyYWN0U2tpbk1lc2g7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5faWtSaWdodEZvb3RUYXJnZXQucG9zaXRpb24uY29weUZyb20odGhpcy5yaWdodEZvb3RQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldCBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0Rm9vdFRhcmdldC5tYXRlcmlhbCA9IHRhcmdldE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodEZvb3RUYXJnZXQuaXNWaXNpYmxlID0gZGlzcGxheUhhbmRsZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWtSaWdodFBvbGVUYXJnZXQgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZSh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuUmlnaHRGb290UG9sZVwiLCB7IGRpYW1ldGVyOiAwLjE1IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldC5wYXJlbnQgPSB0aGlzLmFic3RyYWN0U2tpbk1lc2g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRQb2xlVGFyZ2V0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucmlnaHRGb290UG9sZVBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldC5pc1Zpc2libGUgPSBkaXNwbGF5SGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlciA9IG5ldyBCQUJZTE9OLkJvbmVJS0NvbnRyb2xsZXIodGhpcy5hYnN0cmFjdFNraW5NZXNoLCAoPGFueT50aGlzLnJpZ2h0Rm9vdFRyYW5zZm9ybSkuX2xpbmtlZEJvbmUsIHt0YXJnZXRNZXNoOnRoaXMuX2lrUmlnaHRGb290VGFyZ2V0LCBwb2xlVGFyZ2V0TWVzaDp0aGlzLl9pa1JpZ2h0UG9sZVRhcmdldCwgcG9sZUFuZ2xlOkJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMucmlnaHRGb290UG9sZUFuZ2xlKSwgYmVuZEF4aXM6dGhpcy5yaWdodEZvb3RCZW5kQXhpc30pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pa1JpZ2h0Q29udHJvbGxlci5tYXhBbmdsZSA9IEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMucmlnaHRGb290TWF4QW5nbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIGF0dGFjaEFuaW1hdGlvbkNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkFuaW1hdGlvblN0YXRlXCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUub25BbmltYXRpb25FbmRPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkFuaW1hdGlvbiBFbmQ6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0QWN0aW9uQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUub25BbmltYXRpb25VcGRhdGVPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlLmlrRnJhbWVFbmFibGVkKCkgPT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFVwZGF0ZSB0YXJnZXQgbWVzaCBwb3NpdGlvbiBXaGVuIEdyb3VuZGVkIC0gVXNlIFJheWNhc3QgLSA/Pz9cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lrTGVmdENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrTGVmdENvbnRyb2xsZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faWtSaWdodENvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lrUmlnaHRDb250cm9sbGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgZW5hYmxlQ2hhcmFjdGVyQ29udHJvbGxlcihzdGF0ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEFsbG93ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRQbGF5ZXJKdW1waW5nU3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldEdyYXZpdHlGYWN0b3IodGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0Q29sbGlzaW9uU3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnVwZGF0ZVBvc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBbGxvd2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFBsYXllckp1bXBpbmdTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R3Jhdml0eUZhY3RvcigwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldENvbGxpc2lvblN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIudXBkYXRlUG9zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgcmVzZXRQbGF5ZXJSb3RhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbkV1bGVycyk7XG4gICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnggPSB0aGlzLnJvdGF0aW9uRXVsZXJzLng7XG4gICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnkgPSB0aGlzLnJvdGF0aW9uRXVsZXJzLnk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgcmVzZXRQbGF5ZXJKdW1waW5nU3RhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1pbkp1bXBUaW1lciA9IDA7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJSaXNpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5qdW1wKDApOyAvLyBOb3RlOiBaZXJvIEp1bXAgU3BlZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIENvbnRyb2xsZXIgV29ya2VyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgYXdha2VQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwiZ3Jhdml0eU11bHRpcGxpZXJcIiwgdGhpcy5ncmF2aXRhdGlvbmFsRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbFN0ZXBTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzdGVwVXBWZWxvY2l0eVwiLCB0aGlzLnZlcnRpY2FsU3RlcFNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMubWluU3RlcFVwSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pblN0ZXBIZWlnaHRcIiwgdGhpcy5taW5TdGVwVXBIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5yaWdpZEJvZHlNYXNzID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2lkQm9keU1hc3NcIiwgdGhpcy5yaWdpZEJvZHlNYXNzKTtcbiAgICAgICAgICAgIHRoaXMucm90YXRlQ2FtZXJhID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvdGF0ZUNhbWVyYVwiLCB0aGlzLnJvdGF0ZUNhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLm1vdXNlV2hlZWwgPSB0aGlzLmdldFByb3BlcnR5KFwibW91c2VXaGVlbFwiLCB0aGlzLm1vdXNlV2hlZWwpO1xuICAgICAgICAgICAgdGhpcy5yYXlDbGltYkxlbmd0aCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYXlDbGltYkxlbmd0aFwiLCB0aGlzLnJheUNsaW1iTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucmF5Q2xpbWJPZmZzZXQgPSB0aGlzLmdldFByb3BlcnR5KFwicmF5Q2xpbWJPZmZzZXRcIiwgdGhpcy5yYXlDbGltYk9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLnJheUhlaWdodExlbmd0aCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYXlIZWlnaHRMZW5ndGhcIiwgdGhpcy5yYXlIZWlnaHRMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5yYXlIZWlnaHRPZmZzZXQgPSB0aGlzLmdldFByb3BlcnR5KFwicmF5SGVpZ2h0T2Zmc2V0XCIsIHRoaXMucmF5SGVpZ2h0T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMubWF4QW5nbGUgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4QW5nbGVcIiwgdGhpcy5tYXhBbmdsZSk7XG4gICAgICAgICAgICB0aGlzLmxhbmRpbmdFcHNpbG9uID0gdGhpcy5nZXRQcm9wZXJ0eShcImxhbmRpbmdFcHNpbG9uXCIsIHRoaXMubGFuZGluZ0Vwc2lsb24pO1xuICAgICAgICAgICAgdGhpcy5taW5GYWxsVmVsb2NpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwibWluRmFsbFZlbG9jaXR5XCIsIHRoaXMubWluRmFsbFZlbG9jaXR5KTtcbiAgICAgICAgICAgIHRoaXMuYWlyYm9yblRpbWVvdXQgPSB0aGlzLmdldFByb3BlcnR5KFwiYWlyYm9yblRpbWVvdXRcIiwgdGhpcy5haXJib3JuVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLnJvb3RNb3Rpb24gPSB0aGlzLmdldFByb3BlcnR5KFwicm9vdE1vdGlvblwiLCB0aGlzLnJvb3RNb3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibW92ZVNwZWVkXCIsIHRoaXMubW92ZVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMud2Fsa1NwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIndhbGtTcGVlZFwiLCB0aGlzLndhbGtTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmxvb2tTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsb29rU3BlZWRcIiwgdGhpcy5sb29rU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5qdW1wU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwianVtcFNwZWVkXCIsIHRoaXMuanVtcFNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuanVtcERlbGF5ID0gdGhpcy5nZXRQcm9wZXJ0eShcImp1bXBEZWxheVwiLCB0aGlzLmp1bXBEZWxheSk7XG4gICAgICAgICAgICB0aGlzLmV5ZXNIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwiZXllc0hlaWdodFwiLCB0aGlzLmV5ZXNIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5waXZvdEhlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwaXZvdEhlaWdodFwiLCB0aGlzLnBpdm90SGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWF4RGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4RGlzdGFuY2VcIiwgdGhpcy5tYXhEaXN0YW5jZSk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcInNjcm9sbFNwZWVkXCIsIHRoaXMuc2Nyb2xsU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy50b3BMb29rTGltaXQgPSB0aGlzLmdldFByb3BlcnR5KFwidG9wTG9va0xpbWl0XCIsIHRoaXMudG9wTG9va0xpbWl0KTtcbiAgICAgICAgICAgIHRoaXMuZG93bkxvb2tMaW1pdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkb3duTG9va0xpbWl0XCIsIHRoaXMuZG93bkxvb2tMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLmxvd1R1cm5TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsb3dUdXJuU3BlZWRcIiwgdGhpcy5sb3dUdXJuU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5oaWdoVHVyblNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImhpZ2hUdXJuU3BlZWRcIiwgdGhpcy5oaWdoVHVyblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlSW5wdXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZW5hYmxlSW5wdXRcIiwgdGhpcy5lbmFibGVJbnB1dCk7XG4gICAgICAgICAgICB0aGlzLnBsYXllck51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5ZXJOdW1iZXJcIiwgdGhpcy5wbGF5ZXJOdW1iZXIpXG4gICAgICAgICAgICB0aGlzLmF0dGFjaENhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdHRhY2hDYW1lcmFcIiwgdGhpcy5hdHRhY2hDYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5mcmVlTG9va2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcmVlTG9va2luZ1wiLCB0aGlzLmZyZWVMb29raW5nKTtcbiAgICAgICAgICAgIHRoaXMucnVuS2V5UmVxdWlyZWQgPSB0aGlzLmdldFByb3BlcnR5KFwicnVuS2V5UmVxdWlyZWRcIiwgdGhpcy5ydW5LZXlSZXF1aXJlZCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbGxpc2lvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhQ29sbGlzaW9uc1wiLCB0aGlzLmNhbWVyYUNvbGxpc2lvbnMpXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVNtb290aGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjYW1lcmFTbW9vdGhpbmdcIiwgdGhpcy5jYW1lcmFTbW9vdGhpbmcpXG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImRpc3RhbmNlRmFjdG9yXCIsIHRoaXMuZGlzdGFuY2VGYWN0b3IpXG4gICAgICAgICAgICB0aGlzLm1pbmltdW1EaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5pbXVtRGlzdGFuY2VcIiwgdGhpcy5taW5pbXVtRGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhJbnB1dFRpbWUgPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoSW5wdXRUaW1lXCIsIHRoaXMuc21vb3RoSW5wdXRUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNtb290aElucHV0VmVjdG9yc1wiLCB0aGlzLnNtb290aElucHV0VmVjdG9ycyk7XG4gICAgICAgICAgICB0aGlzLnNtb290aEFjY2VsZXJhdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhBY2NlbGVyYXRpb25cIiwgdGhpcy5zbW9vdGhBY2NlbGVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5hY2NlbGVyYXRpb25TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhY2NlbGVyYXRpb25TcGVlZFwiLCB0aGlzLmFjY2VsZXJhdGlvblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuZGVjZWxlcmF0aW9uU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiZGVjZWxlcmF0aW9uU3BlZWRcIiwgdGhpcy5kZWNlbGVyYXRpb25TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iVm9sdW1lVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcImNsaW1iVm9sdW1lVGFnXCIsIHRoaXMuY2xpbWJWb2x1bWVUYWcpO1xuICAgICAgICAgICAgdGhpcy52YXVsdFZvbHVtZVRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ2YXVsdFZvbHVtZVRhZ1wiLCB0aGlzLnZhdWx0Vm9sdW1lVGFnKTtcbiAgICAgICAgICAgIHRoaXMudXNlQ2xpbWJTeXN0ZW0gPSB0aGlzLmdldFByb3BlcnR5KFwidXNlQ2xpbWJTeXN0ZW1cIiwgdGhpcy51c2VDbGltYlN5c3RlbSk7XG4gICAgICAgICAgICB0aGlzLm1heEhlaWdodFJhbmdlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhIZWlnaHRSYW5nZXNcIiwgdGhpcy5tYXhIZWlnaHRSYW5nZXMpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhNb3Rpb25TcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhNb3Rpb25TcGVlZFwiLCB0aGlzLnNtb290aE1vdGlvblNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoQ2hhbmdlUmF0ZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhDaGFuZ2VSYXRlXCIsIHRoaXMuc21vb3RoQ2hhbmdlUmF0ZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID0gdGhpcy5nZXRQcm9wZXJ0eShcInVwZGF0ZVN0YXRlUGFyYW1zXCIsIHRoaXMudXBkYXRlU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhbmltYXRpb25TdGF0ZVBhcmFtc1wiLCB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvc3ROZXR3b3JrQXR0cmlic1wiLCB0aGlzLnBvc3ROZXR3b3JrQXR0cmlidXRlcyk7XG4gICAgICAgICAgICB0aGlzLnNob3dEZWJ1Z1JheWNhc3RzID0gdGhpcy5nZXRQcm9wZXJ0eShcInNob3dEZWJ1Z1JheWNhc3RzXCIsIHRoaXMuc2hvd0RlYnVnUmF5Y2FzdHMpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGFycm93S2V5Um90YXRpb246IGJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwiYXJyb3dLZXlSb3RhdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChhcnJvd0tleVJvdGF0aW9uID09PSB0cnVlKSBCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0T3B0aW9ucy5Vc2VBcnJvd0tleVJvdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBib29tUG9zaXRpb25EYXRhOiBhbnkgPSB0aGlzLmdldFByb3BlcnR5KFwiYm9vbVBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgaWYgKGJvb21Qb3NpdGlvbkRhdGEgIT0gbnVsbCkgdGhpcy5ib29tUG9zaXRpb24gPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhib29tUG9zaXRpb25EYXRhKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBzcGhlcmVSYWRpdXM6IG51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzcGhlcmVSYWRpdXNcIiwgMC42NSlcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmF5Y2FzdFNoYXBlID0gbmV3IEJBQllMT04uUGh5c2ljc1NoYXBlU3BoZXJlKG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCksIHNwaGVyZVJhZGl1cywgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5hYnN0cmFjdE1lc2ggPSB0aGlzLmdldEFic3RyYWN0TWVzaCgpO1xuICAgICAgICAgICAgdGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlNob3dEZWJ1Z0NvbGxpZGVycygpO1xuICAgICAgICAgICAgdGhpcy5jb2xsaWRlclZpc2liaWxpdHkgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkNvbGxpZGVyVmlzaWJpbGl0eSgpO1xuICAgICAgICAgICAgdGhpcy5jb2xsaWRlclJlbmRlckdyb3VwID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5Db2xsaWRlclJlbmRlckdyb3VwKCk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UGxheWVyUm90YXRpb24oKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90ID0gbmV3IEJBQllMT04uTWVzaCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuQ2FtZXJhUGl2b3RcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3Qucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFBpdm90OiBCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcIlRlc3RQaXZvdFwiLCB7IHdpZHRoOiAwLjI1LCBoZWlnaHQ6IDAuMjUsIGRlcHRoOiAwLjc1IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5wYXJlbnQgPSB0aGlzLmNhbWVyYVBpdm90O1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnZpc2liaWxpdHkgPSAxLjA7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LnJlbmRlcmluZ0dyb3VwSWQgPSB0aGlzLmNvbGxpZGVyUmVuZGVyR3JvdXA7XG4gICAgICAgICAgICAgICAgdGVzdFBpdm90LmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgY29uZmlnQ29udHJvbGxlcjogQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXIgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldHVwIElLIEJvbmUgQ29udHJvbGxlcnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmF0dGFjaEJvbmVDb250cm9sbGVycygpO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc3RhcnRQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gVE9ETyAtIFN1cHBvcnQgRHluYW1pYyBQbGF5ZXJOdW1iZXIgQ2hhbmdlIC0gPz8/XG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hDYW1lcmEgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaFBsYXllckNhbWVyYSh0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb25BZ2VudCA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0Lk5hdmlnYXRpb25BZ2VudFwiKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF2YXRhclJhZGl1cyA9IHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5nZXRBdmF0YXJSYWRpdXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2hvd1JheWNhc3RzID0gdGhpcy5zaG93RGVidWdSYXljYXN0cztcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0UmlnaWRCb2R5TWFzcyh0aGlzLnJpZ2lkQm9keU1hc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHcmF2aXR5RmFjdG9yKHRoaXMuZ3Jhdml0YXRpb25hbEZvcmNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0VmVydGljYWxTdGVwU3BlZWQodGhpcy52ZXJ0aWNhbFN0ZXBTcGVlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnNldE1pbmltdW1TdGVwSGVpZ2h0KHRoaXMubWluU3RlcFVwSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIub25VcGRhdGVQb3NpdGlvbk9ic2VydmFibGUuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXJQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNhbWVyYUNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJTdGFydGluZyBwbGF5ZXIgY29udHJvbGxlciBpbiBwaHlzaWMgZW5naW5lIG1vZGUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJObyBjaGFyYWN0ZXIgY29udHJvbGxlciBmb3VuZCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgcGxheWVyIHdpbmRvdyBzdGF0ZSB2YXJpYWJsZVxuICAgICAgICAgICAgLy8gU00uU2V0V2luZG93U3RhdGUoXCJwbGF5ZXJcIiwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZVBsYXllclBvc2l0aW9uKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMub25QbGF5ZXJQb3NpdGlvbk9ic2VydmFibGUgJiYgdGhpcy5vblBsYXllclBvc2l0aW9uT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25QbGF5ZXJQb3NpdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlUGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLm1fYWN0dWFsVmVsb2NpdHkgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uLnN1YnRyYWN0KHRoaXMubV9sYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LmNvcHlGcm9tKHRoaXMubV9hY3R1YWxWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLm1fc2NhbGVkVmVsb2NpdHkgPSAodGhpcy5tX2xpbmVhclZlbG9jaXR5Lmxlbmd0aCgpIC8gdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5tX2xpbmVhclZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1fc2NhbGVkVmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyRHJhd1ZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5jb3B5RnJvbSh0aGlzLm1fbGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWxvY2l0eU9mZnNldC5zY2FsZUluUGxhY2UodGhpcy5wbGF5ZXJEcmF3VmVsb2NpdHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVsb2NpdHlPZmZzZXQuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tX2xhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uKTtcblxuICAgICAgICAgICAgLy8gVE9ETyAtIEZJWCBUSElTIFNISVRcbiAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID09PSB0cnVlICYmIHRoaXMuYW5pbWF0aW9uU3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoQW5pbWF0aW9uQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm1pbkp1bXBUaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1pbkp1bXBUaW1lciAtPSB0aGlzLmRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5taW5KdW1wVGltZXIgPCAwKSB0aGlzLm1pbkp1bXBUaW1lciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlICYmIHRoaXMuZGVsYXlKdW1wVGltZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheUp1bXBUaW1lciAtPSB0aGlzLmRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxheUp1bXBUaW1lciA8IDApIHRoaXMuZGVsYXlKdW1wVGltZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuY2FuUGxheWVySnVtcCA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbkFjdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlICYmIHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25VcGRhdGVBY3Rpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUlucHV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5mcmVlQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBwbGF5ZXIgZnJlZSBjYW1lcmEsIE1vdmVtZW50IGRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCB1c2VySW5wdXRYOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5Ib3Jpem9udGFsLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB1c2VySW5wdXRaOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5WZXJ0aWNhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdXNlck1vdXNlWDogbnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Ub29sa2l0LlVzZXJJbnB1dEF4aXMuTW91c2VYLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB1c2VyTW91c2VZOiBudW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldFVzZXJJbnB1dChCQUJZTE9OLlRvb2xraXQuVXNlcklucHV0QXhpcy5Nb3VzZVksIHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNtb290aEFjY2VsZXJhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIFNNT09USCBVU0VSIElOUFVUIFhcbiAgICAgICAgICAgICAgICBpZiAodXNlcklucHV0WCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggKz0gKHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDEpIHRoaXMucGxheWVySW5wdXRYID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJJbnB1dFggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYIC09ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPCAtMSkgdGhpcy5wbGF5ZXJJbnB1dFggPSAtMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCArPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDApIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllcklucHV0WCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYIC09ICh0aGlzLmRlY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRYIDwgMCkgdGhpcy5wbGF5ZXJJbnB1dFggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNNT09USCBVU0VSIElOUFVUIFpcbiAgICAgICAgICAgICAgICBpZiAodXNlcklucHV0WiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogKz0gKHRoaXMuYWNjZWxlcmF0aW9uU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDEpIHRoaXMucGxheWVySW5wdXRaID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJJbnB1dFogPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaIC09ICh0aGlzLmFjY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPCAtMSkgdGhpcy5wbGF5ZXJJbnB1dFogPSAtMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFogPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiArPSAodGhpcy5kZWNlbGVyYXRpb25TcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDApIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllcklucHV0WiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaIC09ICh0aGlzLmRlY2VsZXJhdGlvblNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVySW5wdXRaIDwgMCkgdGhpcy5wbGF5ZXJJbnB1dFogPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSQVcgVVNFUiBJTlBVVCBYWlxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYID0gdXNlcklucHV0WDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiA9IHVzZXJJbnB1dFo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVggPSB1c2VyTW91c2VYO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3VzZVkgPSB1c2VyTW91c2VZO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIEFuaW1hdGlvbiBBY3Rpb25cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5pc1BlcmZvcm1pbmdBY3Rpb24gPT09IHRydWUgJiYgdGhpcy5pc0FjdGlvbkludGVycnVwdGFibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJbnB1dFggIT09IDAgfHwgdGhpcy5wbGF5ZXJJbnB1dFogIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkFuaW1hdGlvbiBJbnRlcnJ1cHQ6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBY3Rpb25BbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuUGxheWVySnVtcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRYID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBJbnB1dFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uUGxheWVySW5wdXRPYnNlcnZhYmxlICYmIHRoaXMub25QbGF5ZXJJbnB1dE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGxheWVySW5wdXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLy4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgSW5wdXQgTWFnbml0dWRlXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLnNldCh0aGlzLnBsYXllcklucHV0WCwgMCwgdGhpcy5wbGF5ZXJJbnB1dFopO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvci5sZW5ndGgoKSA+IDEuMCkgdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLm5vcm1hbGl6ZSgpOyAvLyBOb3RlOiBOb3JtYWxpemUgSW4gUGxhY2VcbiAgICAgICAgICAgIHRoaXMuaW5wdXRNYWduaXR1ZGUgPSB0aGlzLmlucHV0TW92ZW1lbnRWZWN0b3IubGVuZ3RoKCk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIE1vdmUgRGlyZWN0aW9uXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgbW92ZUZvcndhcmQ6IGJvb2xlYW4gPSAodGhpcy5wbGF5ZXJJbnB1dFogPiAwKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVCYWNrd2FyZDogYm9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WiA8IDApO1xuICAgICAgICAgICAgY29uc3QgbW92ZVJpZ2h0OiBib29sZWFuID0gKHRoaXMucGxheWVySW5wdXRYID4gMCk7XG4gICAgICAgICAgICBjb25zdCBtb3ZlTGVmdDogYm9vbGVhbiA9ICh0aGlzLnBsYXllcklucHV0WCA8IDApO1xuICAgICAgICAgICAgaWYgKG1vdmVGb3J3YXJkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmVMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5Gb3J3YXJkTGVmdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVSaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uRm9yd2FyZFJpZ2h0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5Gb3J3YXJkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZUJhY2t3YXJkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmVMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbiA9IFBST0pFQ1QuUGxheWVyTW92ZURpcmVjdGlvbi5CYWNrd2FyZExlZnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlUmlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkJhY2t3YXJkUmlnaHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLkJhY2t3YXJkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZUxlZnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RyYWZpbmdMZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlUmlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllck1vdmVEaXJlY3Rpb24gPSBQUk9KRUNULlBsYXllck1vdmVEaXJlY3Rpb24uU3RyYWZpbmdSaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uID0gUFJPSkVDVC5QbGF5ZXJNb3ZlRGlyZWN0aW9uLlN0YXRpb25hcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFByZSBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlICYmIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgRm9yd2FyZCBDYW1lcmEgVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLmNvcHlGcm9tKHRoaXMuY2FtZXJhUGl2b3QuZm9yd2FyZCk7XG4gICAgICAgICAgICAvLyB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IgPSB0aGlzLnNjZW5lLmFjdGl2ZUNhbWVyYS5nZXRGb3J3YXJkUmF5KCkuZGlyZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yID0gdGhpcy5mcmVlQ2FtZXJhLmdldEZvcndhcmRSYXkoKS5kaXJlY3Rpb247XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IueSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3Iubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3Iuc2NhbGVUb1JlZih0aGlzLnBsYXllcklucHV0WiwgdGhpcy5kZXNpcmVkRm9yd2FyZFZlY3Rvcik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFJpZ2h0IENhbWVyYSBWZWN0b3JcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLmNvcHlGcm9tKHRoaXMuY2FtZXJhUGl2b3QucmlnaHQpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3RvciA9IEJBQllMT04uVmVjdG9yMy5Dcm9zcyh0aGlzLmNhbWVyYUZvcndhcmRWZWN0b3IsIEJBQllMT04uVmVjdG9yMy5VcCgpKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3IueSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5zY2FsZVRvUmVmKC10aGlzLnBsYXllcklucHV0WCwgdGhpcy5kZXNpcmVkUmlnaHRWZWN0b3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQbGF5ZXIgUm90YXRpb24gVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55ICs9ICh0aGlzLnBsYXllck1vdXNlWCAqIHRoaXMubG9va1NwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ICs9ICgtdGhpcy5wbGF5ZXJNb3VzZVkgKiB0aGlzLmxvb2tTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCwgLUJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMuZG93bkxvb2tMaW1pdCksIEJBQllMT04uVG9vbHMuVG9SYWRpYW5zKHRoaXMudG9wTG9va0xpbWl0KSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudEFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5QbGF5ZXJKdW1wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRaID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIEJ1dHRvbiBQcmVzc2VzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5pc1J1blByZXNzZWQgPSAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRSdW4pIHx8IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMuYnV0dG9uUnVuKSk7XG4gICAgICAgICAgICB0aGlzLmlzSnVtcFByZXNzZWQgPSAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5HZXRLZXlib2FyZElucHV0KHRoaXMua2V5Ym9hcmRKdW1wKSB8fCBCQUJZTE9OLlRvb2xraXQuSW5wdXRDb250cm9sbGVyLkdldEdhbWVwYWRCdXR0b25JbnB1dCh0aGlzLmJ1dHRvbkp1bXApKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIE1vdmVtZW50IFZlbG9jaXR5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFNwZWVkID0gKHRoaXMuaW5wdXRNYWduaXR1ZGUgKiB0aGlzLm1vdmVTcGVlZCAqIHRoaXMuc3BlZWRGYWN0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMucnVuS2V5UmVxdWlyZWQgPT09IHRydWUgJiYgdGhpcy5pc1J1blByZXNzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFNwZWVkID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5tb3ZlbWVudFNwZWVkLCAwLCB0aGlzLndhbGtTcGVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gU21vb3RoIEJsZW5kZWQgQW5pbWF0aW9uIE1vdmVtZW50c1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLnNtb290aE1vdGlvblNwZWVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5hbmltYXRpb25TcGVlZCwgdGhpcy5tb3ZlbWVudFNwZWVkLCAodGhpcy5kZWx0YVRpbWUgKiB0aGlzLnNtb290aENoYW5nZVJhdGUpKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA8IDAuMDEpIHRoaXMuYW5pbWF0aW9uU3BlZWQgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblNwZWVkID0gdGhpcy5tb3ZlbWVudFNwZWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEZvcndhcmQgVGhpcmQgUGVyc29uIFZpZXcgLSBQbGF5ZXIgTG9vayBSb3RhdGlvblxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuZGVzaXJlZEZvcndhcmRWZWN0b3IuYWRkVG9SZWYodGhpcy5kZXNpcmVkUmlnaHRWZWN0b3IsIHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLnBsYXllckxvb2tSb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5LnNjYWxlSW5QbGFjZSh0aGlzLm1vdmVtZW50U3BlZWQpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEFsd2F5cyBGcmVlIExvb2tpbmcgLSBMZXJwIFBsYXllciBSb3RhdGlvbiAoVHVybiBBbmQgQnVybilcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5sYXN0Um90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50QWxsb3dlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRNYWduaXR1ZGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0YXJnZXQgcG9zaXRpb24gYmFzZWQgb24gdGhlIHBsYXllcidzIGN1cnJlbnQgcG9zaXRpb24gYW5kIHRoZSBjYW1lcmEncyBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGQodGhpcy5wbGF5ZXJMb29rUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBSb3RhdGUgcGxheWVyIHRvIGZhY2UgdGhlIHRhcmdldCBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnRyYW5zZm9ybS5sb29rQXQodGFyZ2V0UG9zaXRpb24sIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBTTkFQIFRPOiBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkxvb2tSb3RhdGlvblRvUmVmKHRoaXMucGxheWVyTG9va1JvdGF0aW9uLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkxvb2tSb3RhdGlvblRvUmVmKHRoaXMucGxheWVyTG9va1JvdGF0aW9uLCB0aGlzLnBsYXllclJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcndhcmRUdXJuUmF0aW86IG51bWJlciA9ICh0aGlzLnBsYXllckxvb2tSb3RhdGlvbi5sZW5ndGgoKSAvIHRoaXMubW92ZVNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9yd2FyZFR1cm5TcGVlZDogbnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmhpZ2hUdXJuU3BlZWQsIHRoaXMubG93VHVyblNwZWVkLCBmb3J3YXJkVHVyblJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYodGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLCB0aGlzLnBsYXllclJvdGF0aW9uUXVhdGVybmlvbiwgKGZvcndhcmRUdXJuU3BlZWQgKiB0aGlzLmRlbHRhVGltZSksIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVydGljYWxWZWxvY2l0eSA9IHRoaXMuZ2V0VmVydGljYWxWZWxvY2l0eSgpO1xuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFZlbG9jaXR5LmNvcHlGcm9tKHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIENoYXJhY3RlciBDb250cm9sbGVyXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5oYXNHcm91bmRlZENvbnRhY3QgPSAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpID8gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLmlzR3JvdW5kZWQoKSA6IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyU2xpZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckZhbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID0gKHRoaXMubmF2aWdhdGlvbkFnZW50ICE9IG51bGwgJiYgdGhpcy5uYXZpZ2F0aW9uQWdlbnQuaXNOYXZpZ2F0aW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQW5ndWxhclNwZWVkID0gKHRoaXMubmF2aWdhdGlvbkFnZW50ICE9IG51bGwpID8gdGhpcy5uYXZpZ2F0aW9uQWdlbnQuYW5ndWxhclNwZWVkIDogMDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hhcmFjdGVyQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBBbmltYXRpb24gU3RhdGUgUGFyYW1zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgIT0gbnVsbCAmJiB0aGlzLnVwZGF0ZVN0YXRlUGFyYW1zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUFuaW1hdGlvblN0YXRlUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRJbnRlZ2VyKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW92ZURpcmVjdGlvbiwgdGhpcy5wbGF5ZXJNb3ZlRGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaGVpZ2h0SW5wdXQsIHRoaXMudmVydGljYWxWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuanVtcEZyYW1lLCB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5qdW1wU3RhdGUsIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEludGVnZXIodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5hY3Rpb25TdGF0ZSwgdGhpcy5wZXJmb3JtQWN0aW9uTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5mYWxsaW5nU3RhdGUsIHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zbGlkaW5nU3RhdGUsIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEJvb2wodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ncm91bmRlZFN0YXRlLCB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNtb290aElucHV0VGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoSW5wdXRWZWN0b3JzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaG9yaXpvbnRhbElucHV0LCB0aGlzLnBsYXllcklucHV0WCwgdGhpcy5zbW9vdGhJbnB1dFRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCB0aGlzLnBsYXllcklucHV0WiwgdGhpcy5zbW9vdGhJbnB1dFRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0U21vb3RoRmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVgsIHRoaXMuc21vb3RoSW5wdXRUaW1lLCB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VZSW5wdXQsIHRoaXMucGxheWVyTW91c2VZLCB0aGlzLnNtb290aElucHV0VGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmhvcml6b250YWxJbnB1dCwgdGhpcy5wbGF5ZXJJbnB1dFgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnZlcnRpY2FsSW5wdXQsIHRoaXMucGxheWVySW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWUlucHV0LCB0aGlzLnBsYXllck1vdXNlWSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRTbW9vdGhGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmlucHV0TWFnbml0dWRlLCB0aGlzLmlucHV0TWFnbml0dWRlLCB0aGlzLnNtb290aElucHV0VGltZSwgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldFNtb290aEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgdGhpcy5hbmltYXRpb25TcGVlZCwgdGhpcy5zbW9vdGhJbnB1dFRpbWUsIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuaG9yaXpvbnRhbElucHV0LCB0aGlzLnBsYXllcklucHV0WCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy52ZXJ0aWNhbElucHV0LCB0aGlzLnBsYXllcklucHV0Wik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVhJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMubW91c2VZSW5wdXQsIHRoaXMucGxheWVyTW91c2VZKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmlucHV0TWFnbml0dWRlLCB0aGlzLmlucHV0TWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnNwZWVkSW5wdXQsIHRoaXMuYW5pbWF0aW9uU3BlZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIFVwZGF0ZSBTcGVlZCBJbnB1dCBXaXRoIE5hdmlnYXRpb24gTWFnbml0dWRlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCB0aGlzLmlucHV0TWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25BbmltYXRpb25TdGF0ZU9ic2VydmFibGUgJiYgdGhpcy5vbkFuaW1hdGlvblN0YXRlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQW5pbWF0aW9uU3RhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFBvc3QgTmV0d29yayBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5ldHdvcmtBdHRyaWJ1dGVzID09IHRydWUgJiYgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuSGFzTmV0d29ya0VudGl0eSh0aGlzLnRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDAsIHRoaXMucGxheWVyTW92ZURpcmVjdGlvbik7ICAgICAgICAgICAgICAgICAgICAvLyBEaXJlY3Rpb25cbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEsIHRoaXMuaW5wdXRNYWduaXR1ZGUpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWduaXR1ZGVcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDIsIHRoaXMucGxheWVySW5wdXRYKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3Jpem9uYWxcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDMsIHRoaXMucGxheWVySW5wdXRaKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbFxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNCwgdGhpcy5wbGF5ZXJNb3VzZVgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdXNlWFxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNSwgdGhpcy5wbGF5ZXJNb3VzZVkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdXNlWVxuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgNiwgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5KTsgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcnRpY2FsIFZlbG9jaXR5XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCA3LCB0aGlzLmFuaW1hdGlvblNwZWVkKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZW1lbnQgU3BlZWRcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDgsIHRoaXMucGVyZm9ybUFjdGlvbk51bWJlcik7ICAgICAgICAgICAgICAgICAgICAvLyBBY3Rpb24gU3RhdGVcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDksICgodGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSkgPyAxIDogMCkpOyAgICAgICAvLyBKdW1wIEZyYW1lXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMCwgKCh0aGlzLmlzQ2hhcmFjdGVySnVtcGluZykgPyAxIDogMCkpOyAgICAgICAgLy8gSXMgSnVtcGluZ1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5FbnRpdHlDb250cm9sbGVyLlBvc3RCdWZmZXJlZEF0dHJpYnV0ZSh0aGlzLnRyYW5zZm9ybSwgMTEsICgodGhpcy5pc0NoYXJhY3RlckZhbGxpbmcpID8gMSA6IDApKTsgICAgICAgIC8vIElzIEZhbGxpbmdcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuRW50aXR5Q29udHJvbGxlci5Qb3N0QnVmZmVyZWRBdHRyaWJ1dGUodGhpcy50cmFuc2Zvcm0sIDEyLCAoKHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nKSA/IDEgOiAwKSk7ICAgICAgICAvLyBJcyBTbGlkaW5nXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LkVudGl0eUNvbnRyb2xsZXIuUG9zdEJ1ZmZlcmVkQXR0cmlidXRlKHRoaXMudHJhbnNmb3JtLCAxMywgKCh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQpID8gMSA6IDApKTsgICAgICAgLy8gSXMgR3JvdW5kZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUG9zdCBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZSAmJiB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgYWZ0ZXJQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IEV4dHJhIFJheWNhc3QgRGlzdGFuY2UgV2hlbiBPbiBWYXJpb3VzIFNsb3BlIEFuZ2xlcyAtID8/P1xuICAgICAgICBwcml2YXRlIHVwZGF0ZUNoYXJhY3RlckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyUmlzaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID09IHRydWUgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5ID4gMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgPSAodGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPT0gdHJ1ZSAmJiB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPCAwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3RlclJpc2luZyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzR3JvdW5kZWRDb250YWN0ID0gZmFsc2U7ICAgIC8vIElHTk9SRSBDT05UQUNUXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0dyb3VuZGVkQ29udGFjdCA9PT0gdHJ1ZSAmJiB0aGlzLm1pbkp1bXBUaW1lciA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJTbGlkaW5nID0gZmFsc2U7ICAgIC8vIE5PVCBTTElESU5HXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9IHRydWU7ICAgIC8vIElTIEdST1VOREVEXG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID09PSB0cnVlKSB0aGlzLmlzQ2hhcmFjdGVySnVtcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJGYWxsaW5nID0gKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gZmFsc2UgJiYgdGhpcy5pc0NoYXJhY3RlclNsaWRpbmcgPT0gZmFsc2UgJiYgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPT0gZmFsc2UgJiYgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IDwgMCAmJiBNYXRoLmFicyh0aGlzLnZlcnRpY2FsVmVsb2NpdHkpID49IHRoaXMubWluRmFsbFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3RlckZhbGxpbmcgPT09IHRydWUgJiYgdGhpcy5pc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJGYWxsVHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcERlbGF5ID4gMCkgdGhpcy5kZWxheUp1bXBUaW1lciA9IHRoaXMuanVtcERlbGF5OyAvLyBEVU5OTzogTUFZQkUgVVNFIFNFUEVSQVRFIEZBTExJTkcgREVMQVkgVElNRVIgLSA/Pz9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gdHJ1ZSkgdGhpcy5pc0NoYXJhY3RlckZhbGxUcmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyB2YXIgbXNneCA9IChcIkdyb3VuZGVkOiBcIiArIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCArIFwiIC0+IEp1bXBpbmc6IFwiICsgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgKyBcIiAtPiBSaXNpbmc6IFwiICsgdGhpcy5pc0NoYXJhY3RlclJpc2luZyArIFwiIC0+IExhbmRpbmc6IFwiICsgdGhpcy5pc0NoYXJhY3RlckxhbmRpbmcgKyBcIiAtPiBWZWxvY2l0eTogXCIgKyB0aGlzLnZlcnRpY2FsVmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG1zZ3gpO1xuICAgICAgICAgICAgICAgIC8vIFdNLlByaW50VG9TY3JlZW4obXNneCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2xpbWJpbmcgU3lzdGVtXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VDbGltYlN5c3RlbSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3RQaHlzaWNzQ2xpbWJpbmdWb2x1bWVSYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXN0UGh5c2ljc0hlaWdodENoZWNrVm9sdW1lUmF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBDaGFyYWN0ZXIgTW92ZW1lbnRcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMubW92ZW1lbnRBbGxvd2VkID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9PT0gZmFsc2UgJiYgdGhpcy5tb3ZlbWVudEFsbG93ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsYXlKdW1wVGltZXIgPD0gMCkgdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSA9ICh0aGlzLmNhblBsYXllckp1bXAgPT09IHRydWUgJiYgdGhpcy5pc0p1bXBQcmVzc2VkID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUGVyZm9ybWluZ0FjdGlvbiA9PT0gZmFsc2UgJiYgdGhpcy5pc0NoYXJhY3Rlckp1bXBGcmFtZSA9PT0gdHJ1ZSAmJiB0aGlzLnVzZUNsaW1iU3lzdGVtID09PSB0cnVlICYmIHRoaXMuY2xpbWJDb250YWN0ID09PSB0cnVlICYmIHRoaXMuaGVpZ2h0Q29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbGltYkFjdGlvbjogbnVtYmVyID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvdGF0ZVNwZWVkOiBudW1iZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3RhdGVUb3dhcmRzOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoSGVpZ2h0OiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0VGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0VGltZTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0T2Zmc2V0OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpdEhlaWdodDogbnVtYmVyID0gcGFyc2VGbG9hdCh0aGlzLmhlaWdodENvbnRhY3RQb2ludC55LnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckhlaWdodDogbnVtYmVyID0gcGFyc2VGbG9hdCh0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55LnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9ic3RhY2xlSGVpZ2h0OiBudW1iZXIgPSBwYXJzZUZsb2F0KChoaXRIZWlnaHQgLSBwbGF5ZXJIZWlnaHQpLnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDbGltYiBBY3Rpb24gLS0+ICBIaXQgSGVpZ2h0OiBcIiArIGhpdEhlaWdodCArIFwiIC0tPiBQbGF5ZXIgSGVpZ2h0OiBcIiArIHBsYXllckhlaWdodCArIFwiIC0tPiBPYnN0YWNsZSBIZWlnaHQ6IFwiICsgb2JzdGFjbGVIZWlnaHQgKyBcIiAtLT4gUm90YXRlIFRvd2FyZHM6IFwiICsgcm90YXRlVG93YXJkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ic3RhY2xlSGVpZ2h0ID49IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLm1pbmltdW1IZWlnaHQgJiYgb2JzdGFjbGVIZWlnaHQgPD0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2UubWF4aW11bUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGltYkFjdGlvbiA9IFBST0pFQ1QuQWN0aW9uQW5pbWF0aW9uVHlwZS5TdGVwVXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwZWVkID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2Uucm90YXRpb25TcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlVG93YXJkcyA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuc3RlcFVwUmFuZ2UubWF0Y2hIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnRhcmdldFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLnN0ZXBVcFJhbmdlLnRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9ic3RhY2xlSGVpZ2h0ID49IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLm1pbmltdW1IZWlnaHQgJiYgb2JzdGFjbGVIZWlnaHQgPD0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2UubWF4aW11bUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGltYkFjdGlvbiA9IFBST0pFQ1QuQWN0aW9uQW5pbWF0aW9uVHlwZS5KdW1wVXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwZWVkID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2Uucm90YXRpb25TcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlVG93YXJkcyA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuanVtcFVwUmFuZ2UubWF0Y2hIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnRhcmdldFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmp1bXBVcFJhbmdlLnRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9ic3RhY2xlSGVpZ2h0ID49IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5taW5pbXVtSGVpZ2h0ICYmIG9ic3RhY2xlSGVpZ2h0IDw9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5tYXhpbXVtSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW1iQWN0aW9uID0gUFJPSkVDVC5BY3Rpb25BbmltYXRpb25UeXBlLkNsaW1iVXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwZWVkID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvd2FyZHMgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2Uucm90YXRlVG93YXJkcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hIZWlnaHQgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UubWF0Y2hIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRoaXMubWF4SGVpZ2h0UmFuZ2VzLmNsaW1iVXBSYW5nZS5zdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFRpbWUgPSB0aGlzLm1heEhlaWdodFJhbmdlcy5jbGltYlVwUmFuZ2UudGFyZ2V0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gdGhpcy5tYXhIZWlnaHRSYW5nZXMuY2xpbWJVcFJhbmdlLnRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaW1iQWN0aW9uID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuQ2xpbWJPYnN0YWNsZVByZWRpY2F0ZSA9PSBudWxsIHx8IHRoaXMuY2FuQ2xpbWJPYnN0YWNsZVByZWRpY2F0ZShjbGltYkFjdGlvbikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJKdW1waW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyTGFuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3RlclJpc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5QWN0aW9uQW5pbWF0aW9uKGNsaW1iQWN0aW9uLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uU3BlZWQgPSByb3RhdGVTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlUGxheWVyVG93YXJkcyA9IHJvdGF0ZVRvd2FyZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVGFyZ2V0SGVpZ2h0ID0gbWF0Y2hIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoU3RhcnRUaW1lID0gKHN0YXJ0VGltZSAtIFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLk1JTl9USU1FUl9PRkZTRVQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldFRpbWUgPSAodGFyZ2V0VGltZSAtIFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLk1JTl9USU1FUl9PRkZTRVQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaFRhcmdldE9mZnNldCA9IHRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldEhlaWdodCA9IGhpdEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXJ0SGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9ja1RhcmdldEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPT09IHRydWUgJiYgdGhpcy5qdW1wU3BlZWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5qdW1wKHRoaXMuanVtcFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5qdW1wRGVsYXkgPiAwKSB0aGlzLmRlbGF5SnVtcFRpbWVyID0gdGhpcy5qdW1wRGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWlyYm9yblRpbWVvdXQgPiAwKSB0aGlzLm1pbkp1bXBUaW1lciA9ICh0aGlzLmFpcmJvcm5UaW1lb3V0ICsgdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEp1bXBWZWxvY2l0eS5zZXQodGhpcy5tb3ZlbWVudFZlbG9jaXR5LngsIDAsIHRoaXMubW92ZW1lbnRWZWxvY2l0eS56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgTW92ZSBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZSAmJiB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBSb290IE1vdGlvbiBWZWxvY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwgJiYgdGhpcy5yb290TW90aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm9vdE1vdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy5nZXREZWx0YU1vdGlvblBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFZlbG9jaXR5LnNldChyb290TW90aW9uLngsIDAsIHJvb3RNb3Rpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMubW92ZW1lbnRWZWxvY2l0eSwgdGhpcy50cmFuc2Zvcm0uZ2V0V29ybGRNYXRyaXgoKSwgdGhpcy5tb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIubW92ZSh0aGlzLm1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMubW92ZW1lbnRWZWxvY2l0eS5zY2FsZUluUGxhY2UodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5tb3ZlKHRoaXMubW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnVwZGF0ZVBvc2l0aW9uID0gdHJ1ZTsgLSBXaGljaCBJcyBCZXN0IC0gPz8/XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnVwZGF0ZVBvc2l0aW9uID0gZmFsc2U7IC0gV2hpY2ggSXMgQmVzdCAtID8/P1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogRUlUSEVSIE9SIC0gPz8/XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zZXRHaG9zdFdvcmxkUG9zaXRpb24odGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5zeW5jR2hvc3RUb1RyYW5zZm9ybVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDYW1lcmFDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5wdXQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICAvLyBEVU5OTyBGVVIgU1VSRTogIGlmICh0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9PT0gdHJ1ZSAmJiB0aGlzLm5hdmlnYXRpb25Bbmd1bGFyU3BlZWQgPiAwKSBhbGxvd1JvdGF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFQaXZvdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gLi4gXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBQaXZvdCBPZmZzZXRcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldENhbWVyYU9mZnNldC54ICE9PSAwIHx8IHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0LnkgIT09IDAgfHwgdGhpcy50YXJnZXRDYW1lcmFPZmZzZXQueiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0LmNvcHlGcm9tKHRoaXMudGFyZ2V0Q2FtZXJhT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0LnNldCgwLCB0aGlzLnBpdm90SGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIFBpdm90IFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLnRyYW5zZm9ybSwgdGhpcy5jYW1lcmFQaXZvdC5wb3NpdGlvbiwgdGhpcy5jYW1lcmFQaXZvdE9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ2FtZXJhIFBpdm90IFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVDYW1lcmEgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCwgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55LCAwLCB0aGlzLmNhbWVyYVBpdm90LnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQ2FtZXJhID09PSB0cnVlICYmIHRoaXMuY2FtZXJhTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhU21vb3RoaW5nIDw9IDApIHRoaXMuY2FtZXJhU21vb3RoaW5nID0gNS4wOyAvLyBEZWZhdWx0IENhbWVyYSBTbW9vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIENhbWVyYSBDb2xsaXNpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgbWF4RGlzdGFuY2U6bnVtYmVyID0gTWF0aC5hYnModGhpcy5ib29tUG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGU6IEJBQllMT04uVHJhbnNmb3JtTm9kZSA9ICh0aGlzLmNhbWVyYU5vZGUucGFyZW50IGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9sbHlEaXJlY3Rpb24uc2NhbGVUb1JlZih0aGlzLm1heERpc3RhbmNlLCB0aGlzLnNjYWxlZE1heERpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9sbHlEaXJlY3Rpb24uc2NhbGVUb1JlZih0aGlzLmNhbWVyYURpc3RhbmNlLCB0aGlzLnNjYWxlZENhbURpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHBhcmVudE5vZGUsIHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5UcmFuc2Zvcm1Qb2ludFRvUmVmKHBhcmVudE5vZGUsIHRoaXMuc2NhbGVkTWF4RGlyZWN0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MpO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFjdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2U6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogVVNFIFNIQVBFQ0FTVFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhUmF5Y2FzdFNoYXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU6IHRoaXMuY2FtZXJhUmF5Y2FzdFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogdGhpcy5jYW1lcmFOb2RlLnJvdGF0aW9uUXVhdGVybmlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbjogdGhpcy5wYXJlbnROb2RlUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFBvc2l0aW9uOiB0aGlzLm1heGltdW1DYW1lcmFQb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZUJvZHk6IHRoaXMudHJhbnNmb3JtLnBoeXNpY3NCb2R5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRIaXRUcmlnZ2VyczogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuU2hhcGVjYXN0KHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHJlc3VsdCAhPSBudWxsICYmIHJlc3VsdC53b3JsZCAhPSBudWxsICYmIHJlc3VsdC53b3JsZC5oYXNIaXQgPT09IHRydWUgJiYgcmVzdWx0LndvcmxkLmJvZHkgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSAoY29udGFjdCA9PT0gdHJ1ZSkgPyBCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2UodGhpcy5wYXJlbnROb2RlUG9zaXRpb24sIHJlc3VsdC53b3JsZC5oaXRQb2ludCkgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogREVQUkVDQVRFRDogVVNFIFJBWUNBU1RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQgPT0gbnVsbCkgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0ID0gbmV3IEJBQllMT04uUGh5c2ljc1JheWNhc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuUmlnaWRib2R5UGh5c2ljcy5SYXljYXN0VG9SZWYodGhpcy5wYXJlbnROb2RlUG9zaXRpb24sIHRoaXMubWF4aW11bUNhbWVyYVBvcywgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAodGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0ICE9IG51bGwgJiYgdGhpcy5jYW1lcmFSYXljYXN0UmVzdWx0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuYm9keSAhPSBudWxsICYmIHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdC5ib2R5LnRyYW5zZm9ybU5vZGUgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9ICh0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQgIT0gbnVsbCAmJiB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuaGFzSGl0ID09PSB0cnVlKSA/IHRoaXMuY2FtZXJhUmF5Y2FzdFJlc3VsdC5oaXREaXN0YW5jZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xldCBjb250YWN0Qm9keTpzdHJpbmcgPSAoY29udGFjdCA9PT0gdHJ1ZSkgPyB0aGlzLmNhbWVyYVJheWNhc3RSZXN1bHQuYm9keS50cmFuc2Zvcm1Ob2RlLm5hbWUgOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9XTS5QcmludFRvU2NyZWVuKFwiQ2FtZXJhIENvbGxpc2lvbjogXCIgKyBjb250YWN0ICsgXCIgLS0+IERpc3RhbmNlOiAgXCIgKyBkaXN0YW5jZSArIFwiIC0tPiBUcmFuc2Zvcm06IFwiICsgY29udGFjdEJvZHkpOyovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhRGlzdGFuY2UgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgoZGlzdGFuY2UgKiB0aGlzLmRpc3RhbmNlRmFjdG9yKSwgdGhpcy5taW5pbXVtRGlzdGFuY2UsIHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVycCBQYXN0IENhbWVyYSBDb2xsaXNpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnggIT09IHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uLnggfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnkgIT09IHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uLnkgfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnogIT09IHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uLnopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuTGVycFRvUmVmKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbiwgdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24sICh0aGlzLmRlbHRhVGltZSAqIHRoaXMuY2FtZXJhU21vb3RoaW5nKSwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlV2hlZWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LklucHV0Q29udHJvbGxlci5Jc1doZWVsU2Nyb2xsaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWw6IG51bWJlciA9IEJBQllMT04uVG9vbGtpdC5JbnB1dENvbnRyb2xsZXIuR2V0VXNlcklucHV0KEJBQllMT04uVG9vbGtpdC5Vc2VySW5wdXRBeGlzLldoZWVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsIDwgMCkgeyAvLyBaT09NIE9VVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgem9vbU91dFNwZWVkOiBudW1iZXIgPSAodGhpcy5zY3JvbGxTcGVlZCAqIHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vbVBvc2l0aW9uLnogPSBCQUJZTE9OLlNjYWxhci5Nb3ZlVG93YXJkcyh0aGlzLmJvb21Qb3NpdGlvbi56LCAtdGhpcy5tYXhEaXN0YW5jZSwgem9vbU91dFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aGVlbCA+IDApIHsgLy8gWk9PTSBJTlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgem9vbUluU3BlZWQ6IG51bWJlciA9ICh0aGlzLnNjcm9sbFNwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib29tUG9zaXRpb24ueiA9IEJBQllMT04uU2NhbGFyLk1vdmVUb3dhcmRzKHRoaXMuYm9vbVBvc2l0aW9uLnosIC10aGlzLm1pbmltdW1EaXN0YW5jZSwgem9vbUluU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVycCBUbyBDYW1lcmEgQm9vbSBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi54IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi55ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi55IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi56ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLkxlcnBUb1JlZih0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24sIHRoaXMuYm9vbVBvc2l0aW9uLCAodGhpcy5kZWx0YVRpbWUgKiB0aGlzLmNhbWVyYVNtb290aGluZyksIHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBMZXJwIFRvIENhbWVyYSBCb29tIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gdGhpcy5ib29tUG9zaXRpb24ueCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gdGhpcy5ib29tUG9zaXRpb24ueSB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gdGhpcy5ib29tUG9zaXRpb24ueikge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLkxlcnBUb1JlZih0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24sIHRoaXMuYm9vbVBvc2l0aW9uLCAodGhpcy5kZWx0YVRpbWUgKiB0aGlzLmNhbWVyYVNtb290aGluZyksIHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNtb290aEJvb21Bcm1MZW5ndGgoKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Qm9vbUFybU1heERpc3RhbmNlKCk6IG51bWJlciB7IHJldHVybiB0aGlzLm1heERpc3RhbmNlOyB9XG4gICAgICAgIHB1YmxpYyBzZXRCb29tQXJtTWF4RGlzdGFuY2UoZGlzdGFuY2U6IG51bWJlcik6IHZvaWQgeyB0aGlzLm1heERpc3RhbmNlID0gTWF0aC5hYnMoZGlzdGFuY2UpOyB9XG4gICAgICAgIHB1YmxpYyBzZXRTbW9vdGhCb29tQXJtTGVuZ3RoKGxlbmd0aDogbnVtYmVyLCBzcGVlZDogbnVtYmVyLCB1cGRhdGVNYXhEaXN0YW5jZTogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlTGVuZ3RoOiBudW1iZXIgPSBNYXRoLmFicyhsZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoID0gLWFic29sdXRlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhCb29tQXJtU3BlZWQgPSBzcGVlZDtcbiAgICAgICAgICAgIGlmICh1cGRhdGVNYXhEaXN0YW5jZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFic29sdXRlRGlzdGFuY2U6IG51bWJlciA9IE1hdGguYWJzKHRoaXMubWF4RGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZUxlbmd0aCA+IGFic29sdXRlRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRCb29tQXJtTWF4RGlzdGFuY2UoYWJzb2x1dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHNtb290aEJvb21Bcm1MZW5ndGg6IEJBQllMT04uTnVsbGFibGU8bnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc21vb3RoQm9vbUFybVNwZWVkOiBCQUJZTE9OLk51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xuICAgICAgICBwcml2YXRlIHVwZGF0ZVNtb290aEJvb21Bcm1MZW5ndGgoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhCb29tQXJtTGVuZ3RoICE9IG51bGwgJiYgdGhpcy5zbW9vdGhCb29tQXJtU3BlZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvb21Qb3NpdGlvbi56ICE9PSB0aGlzLnNtb290aEJvb21Bcm1MZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib29tUG9zaXRpb24ueiA9IEJBQllMT04uU2NhbGFyLk1vdmVUb3dhcmRzKHRoaXMuYm9vbVBvc2l0aW9uLnosIHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCwgKHRoaXMuc21vb3RoQm9vbUFybVNwZWVkICogdGhpcy5nZXREZWx0YVNlY29uZHMoKSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybUxlbmd0aCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21vb3RoQm9vbUFybVNwZWVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vICBBbW1vIFBoeXNpY3MgUmF5Y2FzdGluZ1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBjYXN0UGh5c2ljc0NsaW1iaW5nVm9sdW1lUmF5KCk6IHZvaWQge1xuICAgICAgICAgICAgbGV0IHJheWNhc3Q6IEJBQllMT04uVG9vbGtpdC5SYXljYXN0SGl0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3RQb2ludC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdEFuZ2xlID0gMDtcbiAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0RGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIENsaW1iaW5nIFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcGxheWVyVHJhbnNmb3JtRm9yd2FyZERpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzID0gVVRJTC5UcmFuc2Zvcm1EaXJlY3Rpb24odGhpcy50cmFuc2Zvcm0sIHRoaXMuZm9yd2FyZERpcmVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLm9mZnNldENsaW1iUmF5Y2FzdFBvc2l0aW9uLnNldCgwLCB0aGlzLnJheUNsaW1iT2Zmc2V0LCAwKTtcbiAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb24sIHRoaXMub2Zmc2V0Q2xpbWJSYXljYXN0UG9zaXRpb24pO1xuICAgICAgICAgICAgQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMuZW5kQ2xpbWJSYXljYXN0UG9zaXRpb24sIHRoaXMuZm9yd2FyZERpcmVjdGlvbi5zY2FsZSh0aGlzLnJheUNsaW1iTGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLmVuZENsaW1iUmF5Y2FzdFBvc2l0aW9uLnkgKz0gdGhpcy5yYXlDbGltYk9mZnNldDtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyByYXljYXN0ID0gQkFCWUxPTi5Ub29sa2l0LlJpZ2lkYm9keVBoeXNpY3MuUGh5c2ljc1JheWNhc3QodGhpcy5zY2VuZSwgdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCBwbGF5ZXJUcmFuc2Zvcm1Gb3J3YXJkRGlyZWN0aW9uLCB0aGlzLnJheUNsaW1iTGVuZ3RoLCB0aGlzLmRlZmF1bHRSYXljYXN0R3JvdXAsIHRoaXMuZGVmYXVsdFJheWNhc3RNYXNrKTtcbiAgICAgICAgICAgIGlmIChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrVGFnID0gQkFCWUxPTi5Ub29sa2l0LlNjZW5lTWFuYWdlci5HZXRUcmFuc2Zvcm1UYWcocmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tUYWcgPT09IHRoaXMuY2xpbWJWb2x1bWVUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iQ29udGFjdE5vZGUgPSByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdFBvaW50ICE9IG51bGwpIHRoaXMuY2xpbWJDb250YWN0UG9pbnQuY29weUZyb20ocmF5Y2FzdC5oaXRQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdE5vcm1hbCAhPSBudWxsKSB0aGlzLmNsaW1iQ29udGFjdE5vcm1hbC5jb3B5RnJvbShyYXljYXN0LmhpdE5vcm1hbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJDb250YWN0QW5nbGUgPSAodGhpcy5jbGltYkNvbnRhY3ROb3JtYWwgIT0gbnVsbCkgPyBNYXRoLmFicyhCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLkdldEFuZ2xlKHRoaXMuY2xpbWJDb250YWN0Tm9ybWFsLCBCQUJZTE9OLlZlY3RvcjMuVXBSZWFkT25seSkpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGltYkNvbnRhY3REaXN0YW5jZSA9IHJheWNhc3QuaGl0RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2xpbWJpbmcgRHJhdyBEZWJ1ZyBMaW5lXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGltYlNlbnNvckxpbmUgPT0gbnVsbCkgdGhpcy5jbGltYlNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5DbGltYmluZ1NlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiB0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaW1iU2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydENsaW1iUmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuUmVkKCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpbWJTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0Q2xpbWJSYXljYXN0UG9zaXRpb24sIHRoaXMuZW5kQ2xpbWJSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5HcmVlbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNhc3RQaHlzaWNzSGVpZ2h0Q2hlY2tWb2x1bWVSYXkoKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgcmF5Y2FzdDogQkFCWUxPTi5Ub29sa2l0LlJheWNhc3RIaXRSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3ROb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50LnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdE5vcm1hbC5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3RBbmdsZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3REaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gSGVpZ2h0IENoZWNrIFJheWNhc3QgUG9zaXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgcGxheWVyVHJhbnNmb3JtSGVpZ2h0RGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSBVVElMLlRyYW5zZm9ybURpcmVjdGlvbih0aGlzLnRyYW5zZm9ybSwgdGhpcy5kb3duRGlyZWN0aW9uKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaW1iQ29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kSGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuY2xpbWJDb250YWN0UG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24uY29weUZyb20odGhpcy5jbGltYkNvbnRhY3RQb2ludCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbi5hZGRJblBsYWNlKEJBQllMT04uVmVjdG9yMy5VcFJlYWRPbmx5LnNjYWxlKHRoaXMucmF5SGVpZ2h0TGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgLy8gcmF5Y2FzdCA9IEJBQllMT04uVG9vbGtpdC5SaWdpZGJvZHlQaHlzaWNzLlBoeXNpY3NSYXljYXN0KHRoaXMuc2NlbmUsIHRoaXMuc3RhcnRIZWlnaHRSYXljYXN0UG9zaXRpb24sIHBsYXllclRyYW5zZm9ybUhlaWdodERpcmVjdGlvbiwgdGhpcy5yYXlIZWlnaHRMZW5ndGgsIHRoaXMuZGVmYXVsdFJheWNhc3RHcm91cCwgdGhpcy5kZWZhdWx0UmF5Y2FzdE1hc2spO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldEhlaWdodFJheWNhc3RQb3NpdGlvbi5zZXQoMCwgdGhpcy5yYXlIZWlnaHRPZmZzZXQsIHRoaXMucmF5Q2xpbWJMZW5ndGgpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLCB0aGlzLm9mZnNldEhlaWdodFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRIZWlnaHRSYXljYXN0UG9zaXRpb24uY29weUZyb20odGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRIZWlnaHRSYXljYXN0UG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmRvd25EaXJlY3Rpb24uc2NhbGUodGhpcy5yYXlIZWlnaHRMZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAocmF5Y2FzdCAhPSBudWxsICYmIHJheWNhc3QuaGFzSGl0ID09PSB0cnVlICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgcmF5Y2FzdC5jb2xsaXNpb25PYmplY3QuZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja1RhZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0VHJhbnNmb3JtVGFnKHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrVGFnID09PSB0aGlzLmNsaW1iVm9sdW1lVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29udGFjdE5vZGUgPSByYXljYXN0LmNvbGxpc2lvbk9iamVjdC5lbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdFBvaW50ICE9IG51bGwpIHRoaXMuaGVpZ2h0Q29udGFjdFBvaW50LmNvcHlGcm9tKHJheWNhc3QuaGl0UG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXROb3JtYWwgIT0gbnVsbCkgdGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsLmNvcHlGcm9tKHJheWNhc3QuaGl0Tm9ybWFsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRDb250YWN0QW5nbGUgPSAodGhpcy5oZWlnaHRDb250YWN0Tm9ybWFsICE9IG51bGwpID8gTWF0aC5hYnMoQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmhlaWdodENvbnRhY3ROb3JtYWwsIEJBQllMT04uVmVjdG9yMy5VcFJlYWRPbmx5KSkgOiAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodENvbnRhY3REaXN0YW5jZSA9IHJheWNhc3QuaGl0RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGVpZ2h0IENoZWNrIERyYXcgRGVidWcgTGluZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0U2Vuc29yTGluZSA9PSBudWxsKSB0aGlzLmhlaWdodFNlbnNvckxpbmUgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkxpbmVzTWVzaFJlbmRlcmVyKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5IZWlnaHRDaGVja1NlbnNvckxpbmVcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJheWNhc3QgIT0gbnVsbCAmJiB0aGlzLmhlaWdodENvbnRhY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRTZW5zb3JMaW5lLmRyYXdMaW5lKFt0aGlzLnN0YXJ0SGVpZ2h0UmF5Y2FzdFBvc2l0aW9uLCByYXljYXN0LmhpdFBvaW50XSwgQkFCWUxPTi5Db2xvcjMuUmVkKCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0U2Vuc29yTGluZS5kcmF3TGluZShbdGhpcy5zdGFydEhlaWdodFJheWNhc3RQb3NpdGlvbiwgdGhpcy5lbmRIZWlnaHRSYXljYXN0UG9zaXRpb25dLCBCQUJZTE9OLkNvbG9yMy5HcmVlbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vICBQcml2YXRlIFdvcmtlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgZ2V0Q2hlY2tlZFZlcnRpY2FsVmVsb2NpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWZWxvY2l0eTogbnVtYmVyID0gKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSA/IHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5nZXRWZXJ0aWNhbFZlbG9jaXR5KCkgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIChNYXRoLmFicyhjdXJyZW50VmVsb2NpdHkpID49IFBST0pFQ1QuVGhpcmRQZXJzb25QbGF5ZXJDb250cm9sbGVyLk1JTl9WRVJUSUNBTF9WRUxPQ0lUWSkgPyBjdXJyZW50VmVsb2NpdHkgOiAwO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgZGVzdHJveVBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdmFsaWRhdGVBbmltYXRpb25TdGF0ZVBhcmFtcygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlRGlyZWN0aW9uOiBcIkRpcmVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dE1hZ25pdHVkZTogXCJNYWduaXR1ZGVcIixcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbElucHV0OiBcIkhvcml6b250YWxcIixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxJbnB1dDogXCJWZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZVhJbnB1dDogXCJNb3VzZVhcIixcbiAgICAgICAgICAgICAgICAgICAgbW91c2VZSW5wdXQ6IFwiTW91c2VZXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodElucHV0OiBcIkhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZElucHV0OiBcIlNwZWVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1bXBGcmFtZTogXCJKdW1wZWRcIixcbiAgICAgICAgICAgICAgICAgICAganVtcFN0YXRlOiBcIkp1bXBcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU3RhdGU6IFwiQWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGZhbGxpbmdTdGF0ZTogXCJGcmVlRmFsbFwiLFxuICAgICAgICAgICAgICAgICAgICBzbGlkaW5nU3RhdGU6IFwiU2xpZGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBncm91bmRlZFN0YXRlOiBcIkdyb3VuZGVkXCIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gRW51bSBEZWZpbml0aW9uXG4gICAgKiBAaW50ZXJmYWNlIFRoaXJkUGVyc29uQ29udHJvbFxuICAgICovXG4gICAgZXhwb3J0IGVudW0gVGhpcmRQZXJzb25Db250cm9sIHtcbiAgICAgICAgVGhpcmRQZXJzb25UdXJuaW5nID0gMCxcbiAgICAgICAgVGhpcmRQZXJzb25Gb3J3YXJkID0gMVxuICAgIH1cbn1cbiIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEZ4UGFydGljbGVTeXN0ZW1cbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBGeFBhcnRpY2xlU3lzdGVtIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBnZXRQYXJ0aWNsZUVtaXR0ZXIoKTogQkFCWUxPTi5BYnN0cmFjdE1lc2ggeyByZXR1cm4gdGhpcy5tX3BhcnRpY2xlRW1pdHRlcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGFydGljbGVTeXN0ZW0oKTogQkFCWUxPTi5QYXJ0aWNsZVN5c3RlbSB8IEJBQllMT04uR1BVUGFydGljbGVTeXN0ZW0geyByZXR1cm4gdGhpcy5tX3BhcnRpY2xlU3lzdGVtOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fcGFydGljbGVFbWl0dGVyOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3BhcnRpY2xlU3lzdGVtOiBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtIHwgQkFCWUxPTi5HUFVQYXJ0aWNsZVN5c3RlbSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RVcmw6IHN0cmluZyA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0Um9vdFVybCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzVHlwZTogbnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcImNsYXNzVHlwZVwiLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2xlVGV4dDogc3RyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImJhc2U2NFBhcnRpY2xlU3lzdGVtXCIpO1xuICAgICAgICAgICAgY29uc3QgcGxheU9uQXdha2U6IGJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwicGxheU9uQXdha2VcIiwgZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgcGFydGljbGVUZXh0dXJlOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VGV4dHVyZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwYXJ0aWNsZVRleHR1cmVcIik7XG4gICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyID0gdGhpcy5nZXRBYnN0cmFjdE1lc2goKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fcGFydGljbGVFbWl0dGVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3godGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkVtaXR0ZXJcIiwgeyBzaXplOiAwLjI1IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIucGFyZW50ID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlci5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlci5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyLmlzUGlja2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyLm1hdGVyaWFsID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5HZXRDb2xsaWRlck1hdGVyaWFsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnRpY2xlVGV4dCAhPSBudWxsICYmIHBhcnRpY2xlVGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpY2xlSnNvbjogc3RyaW5nID0gd2luZG93LmF0b2IocGFydGljbGVUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydGljbGVKc29uICE9IG51bGwgJiYgcGFydGljbGVKc29uICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpY2xlUGFyc2VkOiBhbnkgPSBKU09OLnBhcnNlKHBhcnRpY2xlSnNvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0aWNsZVBhcnNlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydGljbGVQYXJzZWQudGV4dHVyZSAhPSBudWxsICYmIHBhcnRpY2xlVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljbGVQYXJzZWQudGV4dHVyZS5uYW1lID0gcGFydGljbGVUZXh0dXJlLmZpbGVuYW1lOyAvLyBOb3RlOiBQYXJ0aWNsZSBTeXN0ZW0gUGFyc2VyIFVzZSBOYW1lIE5vdCBVcmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZVBhcnNlZC50ZXh0dXJlLnVybCA9IHBhcnRpY2xlVGV4dHVyZS5maWxlbmFtZTsgIC8vIE5vdGU6IFBhcnRpY2xlIFN5c3RlbSBQYXJzZXIgVXNlIE5hbWUgTm90IFVybFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gMSkgeyAgLy8gR1BVIFBhcnRpY2xlIFN5c3RlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZVN5c3RlbSA9IEJBQllMT04uR1BVUGFydGljbGVTeXN0ZW0uUGFyc2UocGFydGljbGVQYXJzZWQsIHRoaXMuc2NlbmUsIHJvb3RVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgLy8gQ1BVIFBhcnRpY2xlIFN5c3RlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZVN5c3RlbSA9IEJBQllMT04uUGFydGljbGVTeXN0ZW0uUGFyc2UocGFydGljbGVQYXJzZWQsIHRoaXMuc2NlbmUsIHJvb3RVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9wYXJ0aWNsZVN5c3RlbSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIgIT0gbnVsbCkgdGhpcy5tX3BhcnRpY2xlU3lzdGVtLmVtaXR0ZXIgPSB0aGlzLm1fcGFydGljbGVFbWl0dGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5T25Bd2FrZSA9PT0gZmFsc2UpIHRoaXMubV9wYXJ0aWNsZVN5c3RlbS5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9wYXJ0aWNsZVN5c3RlbSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlU3lzdGVtLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVTeXN0ZW0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHdhdGVyIG1hdGVyaWFsIHN5c3RlbSBwcm8gY2xhc3MgKEJhYnlsb24gV2F0ZXIgTWF0ZXJpYWwpXG4gICAgICogQGNsYXNzIFNreU1hdGVyaWFsU3lzdGVtIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNreU1hdGVyaWFsU3lzdGVtIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgc2t5Zm9nOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgc2t5c2l6ZTogbnVtYmVyID0gMTAwMDtcbiAgICAgICAgcHJpdmF0ZSBwcm9iZXNpemU6IG51bWJlciA9IDEyODtcbiAgICAgICAgcHJpdmF0ZSByZWZsZWN0aW9uczogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHJlZmxlY3RsZXZlbDogbnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBza3l0aW50Y29sb3I6IEJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDEsIDEsIDEpO1xuICAgICAgICBwdWJsaWMgZ2V0U2t5Ym94TWVzaCgpOiBCQUJZTE9OLkFic3RyYWN0TWVzaCB7IHJldHVybiB0aGlzLm1fc2t5Ym94TWVzaDsgfVxuICAgICAgICBwdWJsaWMgZ2V0U2t5TWF0ZXJpYWwoKTogQkFCWUxPTi5Ta3lNYXRlcmlhbCB7IHJldHVybiB0aGlzLm1fc2t5TWF0ZXJpYWw7IH1cbiAgICAgICAgcHVibGljIGdldFJlZmxlY3Rpb25Qcm9iZSgpOiBCQUJZTE9OLlJlZmxlY3Rpb25Qcm9iZSB7IHJldHVybiB0aGlzLm1fcmVmbGVjdFByb2JlOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlU2t5Ym94TWF0ZXJpYWwoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IC8qIFN0YXJ0IHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgLyogVXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7IC8qIExhdGUgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyAvKiBBZnRlciByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lTa3lib3hNYXRlcmlhbCgpOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fc2t5Ym94TWVzaDogQkFCWUxPTi5NZXNoID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fc2t5TWF0ZXJpYWw6IEJBQllMT04uU2t5TWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9yZWZsZWN0UHJvYmU6IEJBQllMT04uUmVmbGVjdGlvblByb2JlID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlU2t5Ym94TWF0ZXJpYWwoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNreWZvZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhcHBseU1lc2hGb2dcIiwgdGhpcy5za3lmb2cpO1xuICAgICAgICAgICAgdGhpcy5za3lzaXplID0gdGhpcy5nZXRQcm9wZXJ0eShcImJveFNpemVcIiwgdGhpcy5za3lzaXplKTtcbiAgICAgICAgICAgIHRoaXMucHJvYmVzaXplID0gdGhpcy5nZXRQcm9wZXJ0eShcInByb2JlU2l6ZVwiLCB0aGlzLnByb2Jlc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLnJlZmxlY3Rpb25zID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlZmxlY3Rpb25zXCIsIHRoaXMucmVmbGVjdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5yZWZsZWN0bGV2ZWwgPSB0aGlzLmdldFByb3BlcnR5KFwicmVmbGVjdExldmVsXCIsIHRoaXMucmVmbGVjdGxldmVsKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCB0aW50Q29sb3I6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0aW50Q29sb3JcIik7XG4gICAgICAgICAgICBpZiAodGludENvbG9yICE9IG51bGwpIHRoaXMuc2t5dGludGNvbG9yID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZUNvbG9yMyh0aW50Q29sb3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJBbWJpZW50IFNreWJveFwiLCB7IHNpemU6IHRoaXMuc2t5c2l6ZSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLmluZmluaXRlRGlzdGFuY2UgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2guYXBwbHlGb2cgPSB0aGlzLnNreWZvZztcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtID09PSB0cnVlKSB0aGlzLm1fc2t5Ym94TWVzaC5zY2FsaW5nLnggKj0gLTE7XG4gICAgICAgICAgICAvLyBTZXR1cCBTa3kgTWF0ZXJpYWwgUHJvcGVydGllc1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsID0gbmV3IEJBQllMT04uU2t5TWF0ZXJpYWwodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLlNreU1hdGVyaWFsXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLmJhY2tGYWNlQ3VsbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRTa3lib3hUaW50Q29sb3IodGhpcy5za3l0aW50Y29sb3IpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBvdmVyYWxsIGx1bWluYW5jZSBvZiBza3kgaW4gaW50ZXJ2YWwgWzAsIDFdLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwubHVtaW5hbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImx1bWluYW5jZVwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwubHVtaW5hbmNlKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBhbW91bnQgKHNjYXR0ZXJpbmcpIG9mIGhhemUgYXMgb3Bwb3NlZCB0byBtb2xlY3VsZXMgaW4gYXRtb3NwaGVyZS5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwudHVyYmlkaXR5ID0gdGhpcy5nZXRQcm9wZXJ0eShcInR1cmJpZGl0eVwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwudHVyYmlkaXR5KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgc2t5IGFwcGVhcmFuY2UgKGxpZ2h0IGludGVuc2l0eSkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5yYXlsZWlnaCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYXlsZWlnaFwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwucmF5bGVpZ2gpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBtaWVDb2VmZmljaWVudCBpbiBpbnRlcnZhbCBbMCwgMC4xXSB3aGljaCBhZmZlY3RzIHRoZSBwcm9wZXJ0eSAubWllRGlyZWN0aW9uYWxHLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwubWllQ29lZmZpY2llbnQgPSB0aGlzLmdldFByb3BlcnR5KFwibWllQ29lZmZpY2llbnRcIiwgdGhpcy5tX3NreU1hdGVyaWFsLm1pZUNvZWZmaWNpZW50KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgYW1vdW50IG9mIGhhemUgcGFydGljbGVzIGZvbGxvd2luZyB0aGUgTWllIHNjYXR0ZXJpbmcgdGhlb3J5LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwubWllRGlyZWN0aW9uYWxHID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pZURpcmVjdGlvbmFsR1wiLCB0aGlzLm1fc2t5TWF0ZXJpYWwubWllRGlyZWN0aW9uYWxHKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyB0aGUgZGlzdGFuY2Ugb2YgdGhlIHN1biBhY2NvcmRpbmcgdG8gdGhlIGFjdGl2ZSBzY2VuZSBjYW1lcmEuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5kaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkaXN0YW5jZVwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwuZGlzdGFuY2UpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBzdW4gaW5jbGluYXRpb24sIGluIGludGVydmFsIFstMC41LCAwLjVdLiBXaGVuIHRoZSBpbmNsaW5hdGlvbiBpcyBub3QgMCwgdGhlIHN1biBpcyBzYWlkXG4gICAgICAgICAgICAgKiBcImluY2xpbmVkXCIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5pbmNsaW5hdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpbmNsaW5hdGlvblwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwuaW5jbGluYXRpb24pO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBzb2xhciBhemltdXRoIGluIGludGVydmFsIFswLCAxXS4gVGhlIGF6aW11dGggaXMgdGhlIGFuZ2xlIGluIHRoZSBob3Jpem9udGFsIHBsYW4gYmV0d2VlblxuICAgICAgICAgICAgICogYW4gb2JqZWN0IGRpcmVjdGlvbiBhbmQgYSByZWZlcmVuY2UgZGlyZWN0aW9uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuYXppbXV0aCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhemltdXRoXCIsIHRoaXMubV9za3lNYXRlcmlhbC5hemltdXRoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRGVmaW5lcyBhbiBvZmZzZXQgdmVjdG9yIHVzZWQgdG8gZ2V0IGEgaG9yaXpvbiBvZmZzZXQuXG4gICAgICAgICAgICAgKiBAZXhhbXBsZSBza3lNYXRlcmlhbC5jYW1lcmFPZmZzZXQueSA9IGNhbWVyYS5nbG9iYWxQb3NpdGlvbi55IC8vIFNldCBob3Jpem9uIHJlbGF0aXZlIHRvIDAgb24gdGhlIFkgYXhpc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBjYW1PZmZzZXREYXRhOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjYW1lcmFPZmZzZXRcIik7XG4gICAgICAgICAgICBpZiAoY2FtT2Zmc2V0RGF0YSAhPSBudWxsKSB0aGlzLm1fc2t5TWF0ZXJpYWwuY2FtZXJhT2Zmc2V0ID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZVZlY3RvcjMoY2FtT2Zmc2V0RGF0YSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgaWYgdGhlIHN1biBwb3NpdGlvbiBzaG91bGQgYmUgY29tcHV0ZWQgKGluY2xpbmF0aW9uIGFuZCBhemltdXRoKSBhY2NvcmRpbmcgdG8gdGhlIHNjZW5lXG4gICAgICAgICAgICAgKiBzdW4gcG9zaXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC51c2VTdW5Qb3NpdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ1c2VTdW5Qb3NpdGlvblwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwudXNlU3VuUG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLnN1blBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCA1MCwgMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5tZXRhZGF0YSAhPSBudWxsICYmIHRoaXMuc2NlbmUubWV0YWRhdGEudW5pdHkgIT0gbnVsbCAmJiB0aGlzLnNjZW5lLm1ldGFkYXRhLnVuaXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUubWV0YWRhdGEudG9vbGtpdC5zdW5wb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5zdW5Qb3NpdGlvbiA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKHRoaXMuc2NlbmUubWV0YWRhdGEudG9vbGtpdC5zdW5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXNzaWduIFNreSBNYXRlcmlhbCBUbyBTa3lib3ggTWVzaFxuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2gubWF0ZXJpYWwgPSB0aGlzLm1fc2t5TWF0ZXJpYWw7XG4gICAgICAgICAgICAvLyBTZXR1cCBFbnZpcm9ubWVudCBSZWZsZWN0aW9uIFByb2JlIFRleHR1cmVcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZmxlY3Rpb25zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JlZmxlY3RQcm9iZSA9IG5ldyBCQUJZTE9OLlJlZmxlY3Rpb25Qcm9iZShcIlNreWJveC1SZWZsZWN0aW9uUHJvYmVcIiwgdGhpcy5wcm9iZXNpemUsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9yZWZsZWN0UHJvYmUucmVuZGVyTGlzdC5wdXNoKHRoaXMubV9za3lib3hNZXNoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmN1c3RvbVJlbmRlclRhcmdldHMucHVzaCh0aGlzLm1fcmVmbGVjdFByb2JlLmN1YmVUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmVudmlyb25tZW50VGV4dHVyZSA9IHRoaXMubV9yZWZsZWN0UHJvYmUuY3ViZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5lbnZpcm9ubWVudEludGVuc2l0eSA9IHRoaXMucmVmbGVjdGxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95U2t5Ym94TWF0ZXJpYWwoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3NreWJveE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3JlZmxlY3RQcm9iZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JlZmxlY3RQcm9iZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JlZmxlY3RQcm9iZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3NreU1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldCBTa3lib3ggTWVzaCB0aW50IGNvbG9yLiAoQm94IE1lc2ggVmVydGV4IENvbG9ycykgKi9cbiAgICAgICAgcHVibGljIHNldFNreWJveFRpbnRDb2xvcihjb2xvcjogQkFCWUxPTi5Db2xvcjMpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbnVtVmVydGljZXMgPSB0aGlzLm1fc2t5Ym94TWVzaC5nZXRUb3RhbFZlcnRpY2VzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZlcnRpY2VzOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb2xvcnMucHVzaChjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iLCAxLjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2guc2V0VmVydGljZXNEYXRhKFwiY29sb3JcIiwgY29sb3JzKTtcbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLnVzZVZlcnRleENvbG9ycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICrCoEJhYnlsb27CoHdhdGVywqBtYXRlcmlhbMKgc3lzdGVtwqBwcm/CoGNsYXNzwqAoQmFieWxvbsKgV2F0ZXLCoE1hdGVyaWFsKVxuICAgICAqwqBAY2xhc3PCoFdhdGVyTWF0ZXJpYWxTeXN0ZW3CoC3CoEFsbMKgcmlnaHRzwqByZXNlcnZlZMKgKGMpwqAyMDIwwqBNYWNrZXnCoEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBXYXRlck1hdGVyaWFsU3lzdGVtIGV4dGVuZHMgQkFCWUxPTi5Ub29sa2l0LlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgd2F0ZXJUYWc6IHN0cmluZyA9IFwiV2F0ZXJcIjtcbiAgICAgICAgcHJpdmF0ZSB0YXJnZXRTaXplOiBCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDEyOCwgMTI4KTtcbiAgICAgICAgcHJpdmF0ZSByZW5kZXJTaXplOiBCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDUxMiwgNTEyKTtcbiAgICAgICAgcHJpdmF0ZSBkZXB0aEZhY3RvcjogbnVtYmVyID0gMS4wO1xuICAgICAgICBwcml2YXRlIHJlZmxlY3RTa3lib3g6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIHN1YkRpdmlzaW9uczogbnVtYmVyID0gMzI7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0T2Zmc2V0OiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHByaXZhdGUgd2luZERpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigwLCAxKTtcbiAgICAgICAgcHJpdmF0ZSB3aW5kRm9yY2U6IG51bWJlciA9IDY7XG4gICAgICAgIHByaXZhdGUgd2F2ZVNwZWVkOiBudW1iZXIgPSAxLjA7XG4gICAgICAgIHByaXZhdGUgd2F2ZUxlbmd0aDogbnVtYmVyID0gMC40O1xuICAgICAgICBwcml2YXRlIHdhdmVIZWlnaHQ6IG51bWJlciA9IDAuNDtcbiAgICAgICAgcHJpdmF0ZSBidW1wSGVpZ2h0OiBudW1iZXIgPSAwLjQ7XG4gICAgICAgIHByaXZhdGUgYnVtcFN1cGVyaW1wb3NlOiBib29sZWFuO1xuICAgICAgICBwcml2YXRlIGJ1bXBBZmZlY3RzUmVmbGVjdGlvbjogYm9vbGVhbjtcbiAgICAgICAgcHJpdmF0ZSB3YXRlckNvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjEsIDAuMSwgMC42KTtcbiAgICAgICAgcHJpdmF0ZSBjb2xvckJsZW5kRmFjdG9yOiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHByaXZhdGUgd2F0ZXJDb2xvcjI6IEJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDAuMSwgMC4xLCAwLjYpO1xuICAgICAgICBwcml2YXRlIGNvbG9yQmxlbmRGYWN0b3IyOiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHByaXZhdGUgZGlzYWJsZUNsaXBQbGFuZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGZyZXNuZWxTZXBhcmF0ZTogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIGdldFdhdGVyR2VvbWV0cnkoKTogQkFCWUxPTi5BYnN0cmFjdE1lc2ggeyByZXR1cm4gdGhpcy5tX3dhdGVyR2VvbWV0cnk7IH1cbiAgICAgICAgcHVibGljIGdldFdhdGVyTWF0ZXJpYWwoKTogQkFCWUxPTi5XYXRlck1hdGVyaWFsIHsgcmV0dXJuIHRoaXMubV93YXRlck1hdGVyaWFsOyB9XG4gICAgICAgIHByb3RlY3RlZCBtX3dhdGVyR2VvbWV0cnk6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fd2F0ZXJNYXRlcmlhbDogQkFCWUxPTi5XYXRlck1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy53YXRlclRhZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3YXRlclRhZ1wiLCB0aGlzLndhdGVyVGFnKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhGYWN0b3IgPSB0aGlzLmdldFByb3BlcnR5KFwiZGVwdGhGYWN0b3JcIiwgdGhpcy5kZXB0aEZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLnN1YkRpdmlzaW9ucyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzdWJEaXZpc2lvbnNcIiwgdGhpcy5zdWJEaXZpc2lvbnMpO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRPZmZzZXQgPSB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0T2Zmc2V0XCIsIHRoaXMuaGVpZ2h0T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMucmVmbGVjdFNreWJveCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWZsZWN0U2t5Ym94XCIsIHRoaXMucmVmbGVjdFNreWJveCk7XG4gICAgICAgICAgICB0aGlzLndpbmRGb3JjZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3aW5kRm9yY2VcIiwgdGhpcy53aW5kRm9yY2UpO1xuICAgICAgICAgICAgdGhpcy53YXZlU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwid2F2ZVNwZWVkXCIsIHRoaXMud2F2ZVNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMud2F2ZUxlbmd0aCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3YXZlTGVuZ3RoXCIsIHRoaXMud2F2ZUxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLndhdmVIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwid2F2ZUhlaWdodFwiLCB0aGlzLndhdmVIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5idW1wSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1bXBIZWlnaHRcIiwgdGhpcy5idW1wSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuYnVtcFN1cGVyaW1wb3NlID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1bXBTdXBlcmltcG9zZVwiLCB0aGlzLmJ1bXBTdXBlcmltcG9zZSk7XG4gICAgICAgICAgICB0aGlzLmJ1bXBBZmZlY3RzUmVmbGVjdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidW1wQWZmZWN0c1JlZmxlY3Rpb25cIiwgdGhpcy5idW1wQWZmZWN0c1JlZmxlY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5jb2xvckJsZW5kRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImNvbG9yQmxlbmRGYWN0b3JcIiwgdGhpcy5jb2xvckJsZW5kRmFjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JCbGVuZEZhY3RvcjIgPSB0aGlzLmdldFByb3BlcnR5KFwiY29sb3JCbGVuZEZhY3RvcjJcIiwgdGhpcy5jb2xvckJsZW5kRmFjdG9yMik7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVDbGlwUGxhbmUgPSB0aGlzLmdldFByb3BlcnR5KFwiZGlzYWJsZUNsaXBQbGFuZVwiLCB0aGlzLmRpc2FibGVDbGlwUGxhbmUpO1xuICAgICAgICAgICAgdGhpcy5mcmVzbmVsU2VwYXJhdGUgPSB0aGlzLmdldFByb3BlcnR5KFwiZnJlc25lbFNlcGFyYXRlXCIsIHRoaXMuZnJlc25lbFNlcGFyYXRlKTtcbiAgICAgICAgICAgIC8vwqAuLlxuICAgICAgICAgICAgY29uc3Qgd2NvbG9yMTogQkFCWUxPTi5Ub29sa2l0LklVbml0eUNvbG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcIndhdGVyQ29sb3JcIik7XG4gICAgICAgICAgICB0aGlzLndhdGVyQ29sb3IgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlQ29sb3IzKHdjb2xvcjEpO1xuICAgICAgICAgICAgLy/CoC4uXG4gICAgICAgICAgICBjb25zdCB3Y29sb3IyOiBCQUJZTE9OLlRvb2xraXQuSVVuaXR5Q29sb3IgPSB0aGlzLmdldFByb3BlcnR5KFwid2F0ZXJDb2xvcjJcIik7XG4gICAgICAgICAgICB0aGlzLndhdGVyQ29sb3IyID0gQkFCWUxPTi5Ub29sa2l0LlV0aWxpdGllcy5QYXJzZUNvbG9yMyh3Y29sb3IyKTtcbiAgICAgICAgICAgIC8vwqAuLlxuICAgICAgICAgICAgY29uc3Qgd2RpcmVjdGlvbjogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjIgPSB0aGlzLmdldFByb3BlcnR5KFwid2luZERpcmVjdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMud2luZERpcmVjdGlvbiA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VWZWN0b3IyKHdkaXJlY3Rpb24pO1xuICAgICAgICAgICAgLy/CoC4uXG4gICAgICAgICAgICBjb25zdCBpdGFyZ2V0c2l6ZTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjIgPSB0aGlzLmdldFByb3BlcnR5KFwidGFyZ2V0U2l6ZVwiKTtcbiAgICAgICAgICAgIGlmIChpdGFyZ2V0c2l6ZSAhPSBudWxsKSB0aGlzLnRhcmdldFNpemUgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMihpdGFyZ2V0c2l6ZSk7XG4gICAgICAgICAgICAvL8KgLi7CoMKgwqDCoMKgwqDCoMKgXG4gICAgICAgICAgICBjb25zdCBpcmVuZGVyc2l6ZTogQkFCWUxPTi5Ub29sa2l0LklVbml0eVZlY3RvcjIgPSB0aGlzLmdldFByb3BlcnR5KFwicmVuZGVyU2l6ZVwiKTtcbiAgICAgICAgICAgIGlmIChpcmVuZGVyc2l6ZSAhPSBudWxsKSB0aGlzLnJlbmRlclNpemUgPSBCQUJZTE9OLlRvb2xraXQuVXRpbGl0aWVzLlBhcnNlVmVjdG9yMihpcmVuZGVyc2l6ZSk7XG4gICAgICAgICAgICAvKsKgQXdha2XCoGNvbXBvbmVudMKgZnVuY3Rpb27CoCovXG4gICAgICAgICAgICBsZXQgYnVtcFRleHR1cmU6IEJBQllMT04uVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBidW1wVGV4dHVyZURhdGE6IEJBQllMT04uVG9vbGtpdC5JVW5pdHlUZXh0dXJlID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1bXBUZXh0dXJlXCIpO1xuICAgICAgICAgICAgaWYgKGJ1bXBUZXh0dXJlRGF0YSAhPSBudWxsKSBidW1wVGV4dHVyZSA9IEJBQllMT04uVG9vbGtpdC5VdGlsaXRpZXMuUGFyc2VUZXh0dXJlKGJ1bXBUZXh0dXJlRGF0YSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBpZiAoYnVtcFRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsID0gbmV3IEJBQllMT04uV2F0ZXJNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuV2F0ZXJcIiwgdGhpcy5zY2VuZSwgdGhpcy5yZW5kZXJTaXplKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5idW1wVGV4dHVyZSA9IGJ1bXBUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndpbmREaXJlY3Rpb24gPSB0aGlzLndpbmREaXJlY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2luZEZvcmNlID0gdGhpcy53aW5kRm9yY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2F2ZVNwZWVkID0gdGhpcy53YXZlU3BlZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2F2ZUxlbmd0aCA9IHRoaXMud2F2ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC53YXZlSGVpZ2h0ID0gdGhpcy53YXZlSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLmJ1bXBIZWlnaHQgPSB0aGlzLmJ1bXBIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuYnVtcFN1cGVyaW1wb3NlID0gdGhpcy5idW1wU3VwZXJpbXBvc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuYnVtcEFmZmVjdHNSZWZsZWN0aW9uID0gdGhpcy5idW1wQWZmZWN0c1JlZmxlY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2F0ZXJDb2xvciA9IHRoaXMud2F0ZXJDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5jb2xvckJsZW5kRmFjdG9yID0gdGhpcy5jb2xvckJsZW5kRmFjdG9yO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndhdGVyQ29sb3IyID0gdGhpcy53YXRlckNvbG9yMjtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5jb2xvckJsZW5kRmFjdG9yMiA9IHRoaXMuY29sb3JCbGVuZEZhY3RvcjI7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuZGlzYWJsZUNsaXBQbGFuZSA9IHRoaXMuZGlzYWJsZUNsaXBQbGFuZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5mcmVzbmVsU2VwYXJhdGUgPSB0aGlzLmZyZXNuZWxTZXBhcmF0ZTtcbiAgICAgICAgICAgICAgICAvL8KgLi5cbiAgICAgICAgICAgICAgICAvL8KgV2F0ZXLCoE1hdGVyaWFswqBUYWdzXG4gICAgICAgICAgICAgICAgLy/CoC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVmbGVjdFNreWJveCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBza3lib3hNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCA9IEJBQllMT04uVG9vbGtpdC5TY2VuZU1hbmFnZXIuR2V0RGVmYXVsdFNreWJveCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNreWJveE1lc2ggIT0gbnVsbCkgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuYWRkVG9SZW5kZXJMaXN0KHNreWJveE1lc2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy53YXRlclRhZyAhPSBudWxsICYmIHRoaXMud2F0ZXJUYWcgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2F0ZXJNZXNoZXM6IEJBQllMT04uQWJzdHJhY3RNZXNoW10gPSB0aGlzLnNjZW5lLmdldE1lc2hlc0J5VGFncyh0aGlzLndhdGVyVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdhdGVyTWVzaGVzICE9IG51bGwgJiYgd2F0ZXJNZXNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2F0ZXJNZXNoZXMuZm9yRWFjaCgobWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5hZGRUb1JlbmRlckxpc3QobWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL8KgLi5cbiAgICAgICAgICAgICAgICAvL8KgV2F0ZXLCoE1hdGVyaWFswqBNZXNoXG4gICAgICAgICAgICAgICAgLy/CoC4uXG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyR2VvbWV0cnkgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUdyb3VuZCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuV2F0ZXJNZXNoXCIsIHsgd2lkdGg6IHRoaXMudGFyZ2V0U2l6ZS54LCBoZWlnaHQ6IHRoaXMudGFyZ2V0U2l6ZS55LCBzdWJkaXZpc2lvbnM6IHRoaXMuc3ViRGl2aXNpb25zLCB1cGRhdGFibGU6IGZhbHNlIH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlckdlb21ldHJ5LnBhcmVudCA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlckdlb21ldHJ5LnBvc2l0aW9uLnNldCgwLCB0aGlzLmhlaWdodE9mZnNldCwgMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVwdGhGYWN0b3IgPiAwKSB0aGlzLm1fd2F0ZXJHZW9tZXRyeS5zY2FsaW5nLnkgKj0gdGhpcy5kZXB0aEZhY3RvcjtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJHZW9tZXRyeS5tYXRlcmlhbCA9IHRoaXMubV93YXRlck1hdGVyaWFsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xraXQuU2NlbmVNYW5hZ2VyLkxvZ1dhcm5pbmcoXCJOb8Kgc3VwcG9ydGVkwqB3YXRlcsKgYnVtcMKgdGV4dHVyZcKgZm9yOsKgXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7wqAvKsKgU3RhcnTCoHJlbmRlcsKgbG9vcMKgZnVuY3Rpb27CoCovIH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHvCoC8qwqBVcGRhdGXCoHJlbmRlcsKgbG9vcMKgZnVuY3Rpb27CoCovIH1cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7wqAvKsKgTGF0ZcKgdXBkYXRlwqByZW5kZXLCoGxvb3DCoGZ1bmN0aW9uwqAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHvCoC8qwqBBZnRlcsKgcmVuZGVywqBsb29wwqBmdW5jdGlvbsKgKi8gfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHvCoC8qwqBEZXN0cm95wqBjb21wb25lbnTCoGZ1bmN0aW9uwqAqLyB9XG4gICAgfVxufVxuIiwibW9kdWxlIEJBQllMT04ge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gd2luZG93cyBwbGF0Zm9ybSBwcm8gY2xhc3NcbiAgICAgKiBAY2xhc3MgV2luZG93c1BsYXRmb3JtIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFdpbmRvd3NQbGF0Zm9ybSB7XG4gICAgICAgIC8qKiBJcyB4Ym94IGxpdmUgdXNlciBzaWduZWQgaW4gaWYgcGxhdGZvcm0gc2VydmljZXMgZW5hYmxlZC4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIElzWGJveExpdmVVc2VyU2lnbmVkSW4oc3lzdGVtVXNlcjogV2luZG93cy5TeXN0ZW0uVXNlciA9IG51bGwsIHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdXNlcjogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlhib3hMaXZlVXNlciA9IChzeXN0ZW1Vc2VyICE9IG51bGwpID8gQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uR2V0WGJveExpdmVTeXN0ZW1Vc2VyKHN5c3RlbVVzZXIsIHBsYXllcikgOiBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5HZXRYYm94TGl2ZVVzZXIocGxheWVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHVzZXIgIT0gbnVsbCAmJiB1c2VyLmlzU2lnbmVkSW4gPT0gdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogVmFsaWRhdGVkIHNpZ24gaW4geGJveCBsaXZlIHVzZXIgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgWGJveExpdmVVc2VyU2lnbkluKHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lLCBvbmNvbXBsZXRlPzogKHJlc3VsdDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlNpZ25JblJlc3VsdCkgPT4gdm9pZCwgb25lcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkLCBvbnByb2dyZXNzPzogKHByb2dyZXNzOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgIEJBQllMT04uV2luZG93c1BsYXRmb3JtLlhib3hMaXZlVXNlclNpbGVudFNpZ25JbihwbGF5ZXIsIChmaXJzdDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuU3lzdGVtLlNpZ25JblJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3Quc3RhdHVzID09PSBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uU2lnbkluU3RhdHVzLnVzZXJJbnRlcmFjdGlvblJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5YYm94TGl2ZVVzZXJEaWFsb2dTaWduSW4ocGxheWVyLCAoc2Vjb25kOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uU2lnbkluUmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uY29tcGxldGUpIG9uY29tcGxldGUoc2Vjb25kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9uZXJyb3IsIG9ucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uY29tcGxldGUpIG9uY29tcGxldGUoZmlyc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgb25lcnJvciwgb25wcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNpbGVudCBzaWduIGluIHhib3ggbGl2ZSB1c2VyIGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFhib3hMaXZlVXNlclNpbGVudFNpZ25JbihwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSwgb25jb21wbGV0ZT86IChyZXN1bHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5TaWduSW5SZXN1bHQpID0+IHZvaWQsIG9uZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgb25wcm9ncmVzcz86IChwcm9ncmVzczogYW55KSA9PiB2b2lkKTogV2luZG93cy5Gb3VuZGF0aW9uLlByb2plY3Rpb25zLlByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgcmV0dXJuIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkgPyBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5HZXRYYm94TGl2ZVVzZXIocGxheWVyKS5zaWduSW5TaWxlbnRseUFzeW5jKG51bGwpLnRoZW4ob25jb21wbGV0ZSwgb25lcnJvciwgb25wcm9ncmVzcykgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBEaWFsb2cgc2lnbiBpbiB4Ym94IGxpdmUgdXNlciBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBYYm94TGl2ZVVzZXJEaWFsb2dTaWduSW4ocGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUsIG9uY29tcGxldGU/OiAocmVzdWx0OiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uU2lnbkluUmVzdWx0KSA9PiB2b2lkLCBvbmVycm9yPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIG9ucHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IGFueSkgPT4gdm9pZCk6IFdpbmRvd3MuRm91bmRhdGlvbi5Qcm9qZWN0aW9ucy5Qcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgIHJldHVybiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpID8gQkFCWUxPTi5XaW5kb3dzUGxhdGZvcm0uR2V0WGJveExpdmVVc2VyKHBsYXllcikuc2lnbkluQXN5bmMobnVsbCkudGhlbihvbmNvbXBsZXRlLCBvbmVycm9yLCBvbnByb2dyZXNzKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIExvYWRzIGEgeGJveCBsaXZlIHVzZXIgcHJvZmlsZSBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBMb2FkWGJveExpdmVVc2VyUHJvZmlsZShwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSwgb25jb21wbGV0ZT86IChyZXN1bHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlNvY2lhbC5YYm94VXNlclByb2ZpbGUpID0+IHZvaWQsIG9uZXJyb3I/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCwgb25wcm9ncmVzcz86IChwcm9ncmVzczogYW55KSA9PiB2b2lkKTogV2luZG93cy5Gb3VuZGF0aW9uLlByb2plY3Rpb25zLlByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgcmV0dXJuIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkgPyBCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5HZXRYYm94TGl2ZVVzZXJDb250ZXh0KHBsYXllcikucHJvZmlsZVNlcnZpY2UuZ2V0VXNlclByb2ZpbGVBc3luYyhCQUJZTE9OLldpbmRvd3NQbGF0Zm9ybS5HZXRYYm94TGl2ZVVzZXIocGxheWVyKS54Ym94VXNlcklkKS50aGVuKG9uY29tcGxldGUsIG9uZXJyb3IsIG9ucHJvZ3Jlc3MpIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4gICAgICAgIC8vICogQmFieWxvbiBYYm94IExpdmUgUGxheWVyIEZ1bmN0aW9ucyAqIC8vXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG5cbiAgICAgICAgLyoqIEdldCB4Ym94IGxpdmUgdXNlciBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRYYm94TGl2ZVVzZXIocGxheWVyOiBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyID0gQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmUpOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uWGJveExpdmVVc2VyIHtcbiAgICAgICAgICAgIGxldCB1c2VyOiBNaWNyb3NvZnQuWGJveC5TZXJ2aWNlcy5TeXN0ZW0uWGJveExpdmVVc2VyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmU6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVVc2VyT25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlR3bzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVVzZXJUd28oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuVGhyZWU6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVVc2VyVGhyZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuRm91cjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVVzZXJGb3VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHhib3ggbGl2ZSB1c2VyIGlmIHBsYXRmb3JtIHNlcnZpY2VzIGF2YWlsYWJsZS4gKFdpblJUKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFhib3hMaXZlU3lzdGVtVXNlcihzeXN0ZW1Vc2VyOiBXaW5kb3dzLlN5c3RlbS5Vc2VyLCBwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSk6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5YYm94TGl2ZVVzZXIge1xuICAgICAgICAgICAgbGV0IHVzZXI6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5YYm94TGl2ZVVzZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVN5c3RlbVVzZXJPbmUoc3lzdGVtVXNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlR3bzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZVN5c3RlbVVzZXJUd28oc3lzdGVtVXNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlRocmVlOlxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlU3lzdGVtVXNlclRocmVlKHN5c3RlbVVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5Gb3VyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9ICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLmdldFhib3hMaXZlU3lzdGVtVXNlckZvdXIoc3lzdGVtVXNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0IHhib3ggbGl2ZSB1c2VyIGNvbnRleHQgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0WGJveExpdmVVc2VyQ29udGV4dChwbGF5ZXI6IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLk9uZSk6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlhib3hMaXZlQ29udGV4dCB7XG4gICAgICAgICAgICBsZXQgY29udGV4dDogTWljcm9zb2Z0Llhib3guU2VydmljZXMuWGJveExpdmVDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlci5PbmU6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVDb250ZXh0T25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLlR3bzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZUNvbnRleHRUd28oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuVGhyZWU6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4uZ2V0WGJveExpdmVDb250ZXh0VGhyZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuRm91cjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZUNvbnRleHRGb3VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICAvKiogUmVzZXRzIHhib3ggbGl2ZSB1c2VyIGNvbnRleHQgaWYgcGxhdGZvcm0gc2VydmljZXMgYXZhaWxhYmxlLiAoV2luUlQpICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgUmVzZXRYYm94TGl2ZVVzZXJDb250ZXh0KHBsYXllcjogQkFCWUxPTi5Ub29sa2l0LlBsYXllck51bWJlciA9IEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoQkFCWUxPTi5Ub29sa2l0LldpbmRvd01hbmFnZXIuSXNXaW5kb3dzKCkpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuT25lOlxuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4ucmVzZXRYYm94TGl2ZVVzZXJDb250ZXh0T25lKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuVHdvOlxuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4ucmVzZXRYYm94TGl2ZVVzZXJDb250ZXh0VHdvKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uVG9vbGtpdC5QbGF5ZXJOdW1iZXIuVGhyZWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5yZXNldFhib3hMaXZlVXNlckNvbnRleHRUaHJlZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCQUJZTE9OLlRvb2xraXQuUGxheWVyTnVtYmVyLkZvdXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5yZXNldFhib3hMaXZlVXNlckNvbnRleHRGb3VyKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuICAgICAgICAvLyAqIEJhYnlsb24gWGJveCBMaXZlIENvbnRleHQgRnVuY3Rpb25zICogLy9cbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG5cbiAgICAgICAgLyoqIEdldCB4Ym94IGxpdmUgY29udGV4dCBwcm9wZXJ0eSBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRYYm94TGl2ZUNvbnRleHRQcm9wZXJ0eShuYW1lOiBhbnkpOiBhbnkge1xuICAgICAgICAgICAgcmV0dXJuIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkgPyAoPGFueT53aW5kb3cpLkJhYnlsb25Ub29sa2l0Llhib3hMaXZlLlBsdWdpbi5nZXRYYm94TGl2ZUNvbnRleHRQcm9wZXJ0eShuYW1lKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB4Ym94IGxpdmUgY29udGV4dCBwcm9wZXJ0eSBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRYYm94TGl2ZUNvbnRleHRQcm9wZXJ0eShuYW1lOiBhbnksIHByb3BlcnR5OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLnNldFhib3hMaXZlQ29udGV4dFByb3BlcnR5KG5hbWUsIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogUmVzZXRzIHhib3ggbGl2ZSBwcm9wZXJ0eSBjb250ZXh0IGJhZyBpZiBwbGF0Zm9ybSBzZXJ2aWNlcyBhdmFpbGFibGUuIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBSZXNldFhib3hMaXZlUHJvcGVydHlDb250ZXh0cygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlRvb2xraXQuV2luZG93TWFuYWdlci5Jc1dpbmRvd3MoKSkge1xuICAgICAgICAgICAgICAgICg8YW55PndpbmRvdykuQmFieWxvblRvb2xraXQuWGJveExpdmUuUGx1Z2luLnJlc2V0WGJveExpdmVQcm9wZXJ0eUNvbnRleHRzKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbiAgICAgICAgLy8gKiBCYWJ5bG9uIFhib3ggTGl2ZSBTaWduIE91dCBGdW5jdGlvbnMgKiAvL1xuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG5cbiAgICAgICAgLyoqIFNldHMgdGhlIFhib3ggVXNlciBTaWduIE91dCBDb21wbGV0ZSBIYW5kbGVyIChXaW5SVCkgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRYYm94TGl2ZVNpZ25PdXRIYW5kbGVyKGhhbmRsZXI6IChyZXN1bHQ6IE1pY3Jvc29mdC5YYm94LlNlcnZpY2VzLlN5c3RlbS5TaWduT3V0Q29tcGxldGVkRXZlbnRBcmdzKSA9PiB2b2lkID0gbnVsbCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKEJBQllMT04uVG9vbGtpdC5XaW5kb3dNYW5hZ2VyLklzV2luZG93cygpKSB7XG4gICAgICAgICAgICAgICAgKDxhbnk+d2luZG93KS5CYWJ5bG9uVG9vbGtpdC5YYm94TGl2ZS5QbHVnaW4ub251c2Vyc2lnbm91dCA9IGhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgVGVzdENvbnRyb2xsZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBUZXN0Q29udHJvbGxlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgc3RhdGljIE1PVkVfVkVMT0NJVFk6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTXlDaGFyYWN0ZXJDb250cm9sbGVyOiBCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlciA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUZXN0IENvbnRyb2xsZXIgQXdha2U6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBsYXllclRyYW5zZm9ybSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXJUcmFuc2Zvcm1cIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBwbGF5ZXJUcmFuc2Zvcm0ucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAuMTUsIDApO1xuICAgICAgICAgICAgcGxheWVyVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBsYXllckNhcHN1bGUgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUNhcHN1bGUoXCJQbGF5ZXJDYXBzdWxlXCIsIHsgaGVpZ2h0OiAxLjgsIHJhZGl1czogMC4yOCB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHBsYXllckNhcHN1bGUucGFyZW50ID0gcGxheWVyVHJhbnNmb3JtO1xuICAgICAgICAgICAgcGxheWVyQ2Fwc3VsZS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMC45LCAwKTtcbiAgICAgICAgICAgIHBsYXllckNhcHN1bGUucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGxheWVyIENhcHN1bGU6IFwiICsgcGxheWVyQ2Fwc3VsZS5uYW1lLCBwbGF5ZXJDYXBzdWxlKTtcblxuICAgICAgICAgICAgY29uc3QgcHJvcHM6IGFueSA9IHtcbiAgICAgICAgICAgICAgICBcImF2YXRhclJhZGl1c1wiOiAwLjI4LFxuICAgICAgICAgICAgICAgIFwiYXZhdGFySGVpZ2h0XCI6IDEuOCxcbiAgICAgICAgICAgICAgICBcImNlbnRlck9mZnNldFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwieFwiOiAwLjAsXG4gICAgICAgICAgICAgICAgICAgIFwieVwiOiAwLjk0LFxuICAgICAgICAgICAgICAgICAgICBcInpcIjogMC4wXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInNraW5XaWR0aFwiOiAwLjAyNSxcbiAgICAgICAgICAgICAgICBcInNsb3BlTGltaXRcIjogNDUuMCxcbiAgICAgICAgICAgICAgICBcInN0ZXBPZmZzZXRcIjogMC4yNSxcbiAgICAgICAgICAgICAgICBcIm1pbk1vdmVEaXN0YW5jZVwiOiAwLjAsXG4gICAgICAgICAgICAgICAgXCJjYXBzdWxlU2VnbWVudHNcIjogMTYsXG4gICAgICAgICAgICAgICAgXCJ1c2VHaG9zdFN3ZWVwVGVzdFwiOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgUFJPSkVDVC5UZXN0Q29udHJvbGxlci5NeUNoYXJhY3RlckNvbnRyb2xsZXIgPSBuZXcgQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXIocGxheWVyVHJhbnNmb3JtLCB0aGlzLnNjZW5lLCBudWxsLCBcIkJBQllMT04uVG9vbGtpdC5DaGFyYWN0ZXJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDaGFyYWN0ZXIgQ29udHJvbGxlcjogXCIgKyBwbGF5ZXJUcmFuc2Zvcm0ubmFtZSwgUFJPSkVDVC5UZXN0Q29udHJvbGxlci5NeUNoYXJhY3RlckNvbnRyb2xsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlRlc3RDb250cm9sbGVyLk15Q2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5UZXN0Q29udHJvbGxlci5NeUNoYXJhY3RlckNvbnRyb2xsZXIubW92ZShQUk9KRUNULlRlc3RDb250cm9sbGVyLk1PVkVfVkVMT0NJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBQUk9KRUNUIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFRlc3RNb3ZlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFRlc3RNb3ZlciBleHRlbmRzIEJBQllMT04uVG9vbGtpdC5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICAvLyBFeGFtcGxlOiBwcml2YXRlIGhlbGxvV29ybGQ6c3RyaW5nID0gXCJIZWxsbyBXb3JsZFwiO1xuXG4gICAgICAgIHByaXZhdGUgY2hhcmFjdGVyQ29udHJvbGxlcjogQkFCWUxPTi5Ub29sa2l0LkNoYXJhY3RlckNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBJbml0IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLlRvb2xraXQuQ2hhcmFjdGVyQ29udHJvbGxlclwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIFN0YXJ0IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlYWR5KCk6IHZvaWQge1xuICAgICAgICAgICAgLyogRXhlY3V0ZSB3aGVuIHJlYWR5IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogVXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovXG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIubW92ZShuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDAuMjUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogTGF0ZSB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGVwKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogQmVmb3JlIHBoeXNpY3Mgc3RlcCBmdW5jdGlvbiAocmVtb3ZlIGVtcHR5IGZ1bmN0aW9uIGZvciBwZXJmb3JtYW5jZSkgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBmaXhlZCgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEFmdGVyIHBoeXNpY3Mgc3RlcCBmdW5jdGlvbiAocmVtb3ZlIGVtcHR5IGZ1bmN0aW9uIGZvciBwZXJmb3JtYW5jZSkgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEFmdGVyIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHJlc2V0KCk6IHZvaWQge1xuICAgICAgICAgICAgLyogUmVzZXQgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIERlc3Ryb3kgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cbiAgICB9XG59Il19

